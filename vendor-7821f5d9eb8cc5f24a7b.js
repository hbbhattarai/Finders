(window.webpackJsonp=window.webpackJsonp||[]).push([["vendor"],[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";e.exports=r(69)},function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){e.exports=r(125)()},function(e,t,r){var n=r(74);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(40);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";r.r(t);var n=r(43),i=r.n(n);r.d(t,"componentPropType",(function(){return i.a}));var o=r(45),a=r.n(o);r.d(t,"chainPropTypes",(function(){return a.a}));var s=r(46),l=r.n(s);r.d(t,"exactProp",(function(){return l.a}));var c=r(47),u=r.n(c);r.d(t,"getDisplayName",(function(){return u.a}));var h=r(48),d=r.n(h);r.d(t,"ponyfillGlobal",(function(){return d.a}))},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sheetsManager=void 0;var i=n(r(5)),o=n(r(2)),a=n(r(10)),s=n(r(11)),l=n(r(12)),c=n(r(13)),u=n(r(14)),h=n(r(4)),d=n(r(1)),p=n(r(3)),f=(n(r(6)),n(r(35))),m=r(7),g=r(50),_=n(r(129)),y=n(r(49)),v=n(r(130)),x=n(r(131)),b=n(r(28)),w=n(r(34)),T=n(r(39)),E=n(r(132)),S=n(r(133)),C=(0,g.create)((0,y.default)()),M=(0,T.default)(),k=-1e11,A=new Map;t.sheetsManager=A;var I={},P=(0,b.default)({typography:{suppressWarning:!0}});m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.withStyles||(m.ponyfillGlobal.__MUI_STYLES__.withStyles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n,m=t.withTheme,g=void 0!==m&&m,y=t.flip,b=void 0===y?null:y,T=t.name,z=(0,h.default)(t,["withTheme","flip","name"]),D=(0,E.default)(e),R=D.themingEnabled||"string"==typeof T||g;k+=1,D.options.index=k;var L=function(e){function t(e,r){var n;(0,a.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this,e,r))).jss=r[_.default.jss]||C,n.sheetsManager=A,n.unsubscribeId=null;var i=r.muiThemeProviderOptions;return i&&(i.sheetsManager&&(n.sheetsManager=i.sheetsManager),n.sheetsCache=i.sheetsCache,n.disableStylesGeneration=i.disableStylesGeneration),n.stylesCreatorSaved=D,n.sheetOptions=(0,o.default)({generateClassName:M},r[_.default.sheetOptions]),n.theme=R?w.default.initial(r)||P:I,n.attach(n.theme),n.cacheClasses={value:null,lastProp:null,lastJSS:{}},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;R&&(this.unsubscribeId=w.default.subscribe(this.context,(function(t){var r=e.theme;e.theme=t,e.attach(e.theme),e.setState({},(function(){e.detach(r)}))})))}},{key:"componentDidUpdate",value:function(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function(){this.detach(this.theme),null!==this.unsubscribeId&&w.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function(){if(this.disableStylesGeneration)return this.props.classes||{};var e=!1,t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,this.theme);return t.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=t.sheet.classes,e=!0),this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,e=!0),e&&(this.cacheClasses.value=(0,v.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:r})),this.cacheClasses.value}},{key:"attach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,r=x.default.get(this.sheetsManager,t,e);if(r||(r={refs:0,sheet:null},x.default.set(this.sheetsManager,t,e,r)),0===r.refs){var n;this.sheetsCache&&(n=x.default.get(this.sheetsCache,t,e)),n||((n=this.createSheet(e)).attach(),this.sheetsCache&&x.default.set(this.sheetsCache,t,e,n)),r.sheet=n;var i=this.context[_.default.sheetsRegistry];i&&i.add(n)}r.refs+=1}}},{key:"createSheet",value:function(e){var t=this.stylesCreatorSaved.create(e,T),n=T;return this.jss.createStyleSheet(t,(0,o.default)({meta:n,classNamePrefix:n,flip:"boolean"==typeof b?b:"rtl"===e.direction,link:!1},this.sheetOptions,this.stylesCreatorSaved.options,{name:T||r.displayName},z))}},{key:"detach",value:function(e){if(!this.disableStylesGeneration){var t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,e);if(t.refs-=1,0===t.refs){x.default.delete(this.sheetsManager,this.stylesCreatorSaved,e),this.jss.removeStyleSheet(t.sheet);var r=this.context[_.default.sheetsRegistry];r&&r.remove(t.sheet)}}}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.innerRef),n=(0,h.default)(e,["classes","innerRef"]),i=(0,S.default)({theme:this.theme,name:T,props:n});return g&&!i.theme&&(i.theme=this.theme),d.default.createElement(r,(0,o.default)({},i,{classes:this.getClasses(),ref:t}))}}]),t}(d.default.Component);return L.contextTypes=(0,o.default)((n={muiThemeProviderOptions:p.default.object},(0,i.default)(n,_.default.jss,p.default.object),(0,i.default)(n,_.default.sheetOptions,p.default.object),(0,i.default)(n,_.default.sheetsRegistry,p.default.object),n),R?w.default.contextTypes:{}),(0,f.default)(L,r),L}});t.default=function(e,t){return m.ponyfillGlobal.__MUI_STYLES__.withStyles(e,(0,o.default)({defaultTheme:P},t))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(40);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(15).default,i=r(33);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(56);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){0;return e.charAt(0).toUpperCase()+e.slice(1)},t.contains=o,t.findIndex=a,t.find=function(e,t){var r=a(e,t);return r>-1?e[r]:void 0},t.createChainedFunction=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}}),(function(){}))};var i=n(r(15));n(r(6));function o(e,t){return Object.keys(t).every((function(r){return e.hasOwnProperty(r)&&e[r]===t[r]}))}function a(e,t){for(var r=(0,i.default)(t),n=0;n<e.length;n+=1){if("function"===r&&!0==!!t(e[n],n,e))return n;if("object"===r&&o(e[n],t))return n;if(-1!==["string","number","boolean"].indexOf(r))return e.indexOf(t)}return-1}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(17)),s=c(r(29)),l=c(r(23));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="style",this.isProcessed=!1;var i=n.sheet,o=n.Renderer,a=n.selector;this.key=t,this.options=n,this.style=r,a&&(this.selectorText=a),this.renderer=i?i.renderer:new o}return o(e,[{key:"prop",value:function(e,t){if(void 0===t)return this.style[e];if(this.style[e]===t)return this;var r=null==(t=this.options.jss.plugins.onChangeValue(t,e,this))||!1===t,n=e in this.style;if(r&&!n)return this;var i=r&&n;if(i?delete this.style[e]:this.style[e]=t,this.renderable)return i?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,t),this;var o=this.options.sheet;return o&&o.attached&&(0,a.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function(e){var t=this.toJSON();for(var r in t)this.renderer.setProperty(e,r,t[r]);return this}},{key:"toJSON",value:function(){var e={};for(var t in this.style){var r=this.style[t];"object"!==(void 0===r?"undefined":i(r))?e[t]=r:Array.isArray(r)&&(e[t]=(0,l.default)(r))}return e}},{key:"toString",value:function(e){var t=this.options.sheet,r=!!t&&t.options.link?n({},e,{allowEmpty:!0}):e;return(0,s.default)(this.selector,this.style,r)}},{key:"selector",set:function(e){if(e!==this.selectorText&&(this.selectorText=e,this.renderable&&!this.renderer.setSelector(this.renderable,e)&&this.renderable)){var t=this.renderer.replaceRule(this.renderable,this);t&&(this.renderable=t)}},get:function(){return this.selectorText}}]),e}();t.default=u},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=r(70)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(24)),a=c(r(53)),s=c(r(18)),l=c(r(97));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={},this.raw={},this.index=[],this.update=function(e,t){var n=r.options,i=n.jss.plugins,o=n.sheet;if("string"==typeof e)i.onUpdate(t,r.get(e),o);else for(var a=0;a<r.index.length;a++)i.onUpdate(e,r.index[a],o)},this.options=t,this.classes=t.classes}return i(e,[{key:"add",value:function(e,t,r){var i=this.options,a=i.parent,c=i.sheet,u=i.jss,h=i.Renderer,d=i.generateClassName;!(r=n({classes:this.classes,parent:a,sheet:c,jss:u,Renderer:h,generateClassName:d},r)).selector&&this.classes[e]&&(r.selector="."+(0,l.default)(this.classes[e])),this.raw[e]=t;var p=(0,o.default)(e,t,r),f=void 0;!r.selector&&p instanceof s.default&&(f=d(p,c),p.selector="."+(0,l.default)(f)),this.register(p,f);var m=void 0===r.index?this.index.length:r.index;return this.index.splice(m,0,p),p}},{key:"get",value:function(e){return this.map[e]}},{key:"remove",value:function(e){this.unregister(e),this.index.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(e){return this.index.indexOf(e)}},{key:"process",value:function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)}},{key:"register",value:function(e,t){this.map[e.key]=e,e instanceof s.default&&(this.map[e.selector]=e,t&&(this.classes[e.key]=t))}},{key:"unregister",value:function(e){delete this.map[e.key],e instanceof s.default&&(delete this.map[e.selector],delete this.classes[e.key])}},{key:"link",value:function(e){for(var t=this.options.sheet.renderer.getUnescapedKeysMap(this.index),r=0;r<e.length;r++){var n=e[r],i=this.options.sheet.renderer.getKey(n);t[i]&&(i=t[i]);var o=this.map[i];o&&(0,a.default)(o,n)}}},{key:"toString",value:function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||n)&&(t&&(t+="\n"),t+=o)}return t}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"createMuiTheme",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"jssPreset",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MuiThemeProvider",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStyles",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return u.default}});var i=n(r(39)),o=n(r(28)),a=n(r(49)),s=n(r(123)),l=n(r(128)),c=n(r(9)),u=n(r(134))},function(e,t,r){!function(t,r){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function n(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?o[i]=function(e,t){if(!t.customMerge)return a;var r=t.customMerge(e);return"function"==typeof r?r:a}(i,n)(e[i],t[i],n):o[i]=r(t[i],n)})),o}function a(t,i,a){(a=a||{}).arrayMerge=a.arrayMerge||n,a.isMergeableObject=a.isMergeableObject||e;var s=Array.isArray(i);return s===Array.isArray(t)?s?a.arrayMerge(t,i,a):o(t,i,a):r(i,a)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return a(e,r,t)}),{})},a}()}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&"!important"!==e[i];i++)r&&(r+=", "),r+=n(e[i]," ");else r=n(e,", ");t||"!important"!==e[e.length-1]||(r+=" !important");return r};var n=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",t=arguments[1],r=arguments[2],a=r.jss,s=(0,o.default)(t),l=a.plugins.onCreateRule(e,s,r);if(l)return l;"@"===e[0]&&(0,n.default)(!1,"[JSS] Unknown at-rule %s",e);return new i.default(e,s,r)};var n=a(r(17)),i=a(r(18)),o=a(r(94));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"isBrowser",(function(){return i}));var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"==typeof window?"undefined":n(window))&&"object"===("undefined"==typeof document?"undefined":n(document))&&9===document.nodeType;t.default=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(137))},,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r(5));var i=n(r(2)),o=n(r(4)),a=n(r(22)),s=n(r(75)),l=(n(r(6)),n(r(77))),c=n(r(78)),u=n(r(79)),h=n(r(84)),d=n(r(86)),p=n(r(87)),f=n(r(88)),m=n(r(89)),g=n(r(90));var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,n=e.mixins,_=void 0===n?{}:n,y=e.palette,v=void 0===y?{}:y,x=e.shadows,b=e.spacing,w=void 0===b?{}:b,T=e.typography,E=void 0===T?{}:T,S=(0,o.default)(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),C=(0,u.default)(v),M=(0,l.default)(r),k=(0,i.default)({},f.default,w),A=(0,i.default)({breakpoints:M,direction:"ltr",mixins:(0,c.default)(M,k,_),overrides:{},palette:C,props:{},shadows:x||d.default,typography:(0,h.default)(C,E)},(0,a.default)({shape:p.default,spacing:k,transitions:m.default,zIndex:g.default},S,{isMergeableObject:s.default}));return A};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";if(!t)return o;var a=r.indent,s=void 0===a?0:a,l=t.fallbacks;if(s++,l)if(Array.isArray(l))for(var c=0;c<l.length;c++){var u=l[c];for(var h in u){var d=u[h];null!=d&&(o+="\n"+i(h+": "+(0,n.default)(d)+";",s))}}else for(var p in l){var f=l[p];null!=f&&(o+="\n"+i(p+": "+(0,n.default)(f)+";",s))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(o+="\n"+i(m+": "+(0,n.default)(g)+";",s))}return o||r.allowEmpty?(s--,o=i(e+" {"+o+"\n",s)+i("}",s)):o};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(23));function i(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(51));t.default=new n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="",i="";if(function(e){return e&&e.__esModule?e:{default:e}}(r(25)).default){var o={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in o)if(s+"Transform"in a){n=s,i=o[s];break}}t.default={js:n,css:i}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHANNEL=void 0;var i=n(r(5)),o="__THEMING__";t.CHANNEL=o;var a={contextTypes:(0,i.default)({},o,(function(){})),initial:function(e){return e[o]?e[o].getState():null},subscribe:function(e,t){return e[o]?e[o].subscribe(t):null},unsubscribe:function(e,t){e[o]&&e[o].unsubscribe(t)}};t.default=a},function(e,t,r){"use strict";var n=r(44),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var i=p(r);i&&i!==f&&e(t,i,n)}var a=u(r);h&&(a=a.concat(h(r)));for(var s=l(t),m=l(r),g=0;g<a.length;++g){var _=a[g];if(!(o[_]||n&&n[_]||m&&m[_]||s&&s[_])){var y=d(r,_);try{c(t,_,y)}catch(e){}}}}return t}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(144))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){return o.default.createElement(s.default.Consumer,null,(function(r){return o.default.createElement(e,(0,i.default)({muiFormControl:r},t))}))};0;return(0,a.default)(t,e),t};var i=n(r(2)),o=n(r(1)),a=n(r(35)),s=n(r(57));r(7)},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=a(e),c=1;c<arguments.length;c++){for(var u in r=Object(arguments[c]))i.call(r,u)&&(l[u]=r[u]);if(n){s=n(r);for(var h=0;h<s.length;h++)o.call(r,s[h])&&(l[s[h]]=r[s[h]])}}return l}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dangerouslyUseGlobalCSS,r=void 0!==t&&t,n=e.productionPrefix,i=void 0===n?"jss":n,a=e.seed,s=void 0===a?"":a,l=0;return function(e,t){return l+=1,r&&t&&t.options.name?"".concat(o(t.options.name),"-").concat(e.key):"".concat(i).concat(s).concat(l)}};n(r(6));var i=/([[\].#*$><+~=|^:(),"'`\s])/g;function o(e){return String(e).replace(i,"-")}},function(e,t,r){var n=r(15).default,i=r(73);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.convertHexToRGB=o,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=a(e).values;return t=t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})),"#".concat(t.join(""))},t.decomposeColor=a,t.recomposeColor=s,t.getContrastRatio=function(e,t){var r=l(e),n=l(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?c(e,t):u(e,t)},t.fade=function(e,t){if(!e)return e;e=a(e),t=i(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,s(e)},t.darken=c,t.lighten=u;n(r(6));function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>r?r:e}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb(".concat(r.map((function(e){return parseInt(e,16)})).join(", "),")"):""}function a(e){if("#"===e.charAt(0))return a(o(e));var t=e.indexOf("("),r=e.substring(0,t),n=e.substring(t+1,e.length-1).split(",");return{type:r,values:n=n.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,r=e.values;return-1!==t.indexOf("rgb")&&(r=r.map((function(e,t){return t<3?parseInt(e,10):e}))),-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(e.type,"(").concat(r.join(", "),")")}function l(e){var t=a(e);if(-1!==t.type.indexOf("rgb")){var r=t.values.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}return t.values[2]/100}function c(e,t){if(!e)return e;if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return s(e)}function u(e,t){if(!e)return e;if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;return s(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r(15)),r(44);function i(e){return function(){return null}}var o=i();o.isRequired=i();var a=o;t.default=a},function(e,t,r){"use strict";e.exports=r(85)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return function(){return null}};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.specialProperty=void 0;n(r(5)),n(r(2));t.specialProperty="exact-prop: ​";var i=function(e){return e};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=i,t.default=void 0;var n=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){var t="".concat(e).match(n);return t&&t[1]||""}var o=function(e){return"string"==typeof e?e:e?e.displayName||e.name||i(e)||"Component":void 0};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(91)),o=n(r(111)),a=n(r(113)),s=n(r(115)),l=n(r(117)),c=n(r(122));var u=function(){return{plugins:[(0,i.default)(),(0,o.default)(),(0,a.default)(),(0,s.default)(),"undefined"==typeof window?null:(0,l.default)(),(0,c.default)()]}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=void 0;var n=r(92);Object.defineProperty(t,"getDynamicStyles",{enumerable:!0,get:function(){return h(n).default}});var i=r(23);Object.defineProperty(t,"toCssValue",{enumerable:!0,get:function(){return h(i).default}});var o=r(51);Object.defineProperty(t,"SheetsRegistry",{enumerable:!0,get:function(){return h(o).default}});var a=r(93);Object.defineProperty(t,"SheetsManager",{enumerable:!0,get:function(){return h(a).default}});var s=r(20);Object.defineProperty(t,"RuleList",{enumerable:!0,get:function(){return h(s).default}});var l=r(31);Object.defineProperty(t,"sheets",{enumerable:!0,get:function(){return h(l).default}});var c=r(54);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return h(c).default}});var u=h(r(99));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.create=function(e){return new u.default(e)};t.default=d()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry=[]}return n(e,[{key:"add",value:function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)}},{key:"toString",value:function(e){return this.registry.filter((function(e){return e.attached})).map((function(t){return t.toString(e)})).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(95));t.default=function(e){return e&&e[n.default]&&e===e[n.default]()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderable=t,e.rules&&t.cssRules&&e.rules.link(t.cssRules)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(17)),i=(o(r(55)),o(r(98)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0;return function(t,r){(e+=1)>1e10&&(0,n.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",e);var o="c",a="";return r&&(o=r.options.classNamePrefix||"c",null!=r.options.jss.id&&(a+=r.options.jss.id)),""+o+i.default+a+e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=s(r(53)),a=s(r(20));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){var i=this;for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=function(e,t){return"string"==typeof e?i.rules.update(e,t):i.rules.update(e),i},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=n({},r,{sheet:this,parent:this,classes:this.classes}),this.renderer=new r.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(o,t[o]);this.rules.process()}return i(e,[{key:"attach",value:function(){return this.attached||(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0),this}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)}},{key:"insertRule",value:function(e){var t=this.renderer.insertRule(e);t&&this.options.link&&(0,o.default)(e,t)}},{key:"addRules",value:function(e,t){var r=[];for(var n in e)r.push(this.addRule(n,e[n],t));return r}},{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"deleteRule",value:function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!this.attached||!t.renderable||this.renderer.deleteRule(t.renderable))}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var e=this.renderer.getRules();return e&&this.rules.link(e),this.linked=!0,this}},{key:"toString",value:function(e){return this.rules.toString(e)}}]),e}();t.default=l},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)).default.createContext();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.ownerDocument||document};t.default=n},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(171)),o=n(r(175)),a=(n(r(62)),n(r(63)),function(e){return(0,i.default)((function(e,t){return!(0,o.default)(e,t)}))(e)});t.default=a},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(173)),o=function(e){return(0,i.default)("displayName",e)};t.default=o},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(174)),o=function(e,t){return t+"("+(0,i.default)(e)+")"};t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(177))},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},a=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=o.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,l=0,c=[],u=r(194);function h(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=n[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(_(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(_(i.parts[a],t));n[i.id]={id:i.id,refs:1,parts:s}}}}function d(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function p(e,t){var r=a(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(e.insertAt.before,r);r.insertBefore(t,i)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function _(e,t){var r,n,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;r=s||(s=m(t)),n=v.bind(null,r,a,!1),i=v.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),n=b.bind(null,r,t),i=function(){f(r),r.href&&URL.revokeObjectURL(r.href)}):(r=m(t),n=x.bind(null,r),i=function(){f(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=d(e,t);return h(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var a=r[o];(s=n[a.id]).refs--,i.push(s)}e&&h(d(e,t),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var y=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function v(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function b(e,t,r){var n=r.css,i=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(n=u(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";var n=r(38),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function x(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||y}function b(){}function w(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(_(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var T=w.prototype=new b;T.constructor=w,n(T,x.prototype),T.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,n)&&!C.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,I=[];function P(e,t,r,n){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function z(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function D(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return n(i,t,""===r?"."+R(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=r+R(s=t[c],c);l+=e(s,u,n,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=r+R(s,c++),n,i);else if("object"===s)throw n=""+t,Error(_(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function O(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,n,r,(function(e){return e})):null!=e&&(k(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+r)),n.push(e))}function B(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(A,"$&/")+"/"),D(e,O,t=P(t,o,n,i)),z(t)}var F={current:null};function j(){var e=F.current;if(null===e)throw Error(_(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return B(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;D(e,L,t=P(null,null,t,r)),z(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!k(e))throw Error(_(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,r){if(null==e)throw Error(_(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return j().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,r){return j().useReducer(e,t,r)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";var n=r(1),i=r(38),o=r(71);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(e,t,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,h=null,d={onError:function(e){l=!0,c=e}};function p(e,t,r,n,i,o,a,u,h){l=!1,c=null,s.apply(d,arguments)}var f=null,m=null,g=null;function _(e,t,r){var n=e.type||"unknown-event";e.currentTarget=g(r),function(e,t,r,n,i,o,s,d,f){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,h=m)}}(n,t,void 0,e),e.currentTarget=null}var y=null,v={};function x(){if(y)for(var e in v){var t=v[e],r=y.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!w[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in w[r]=t,r=t.eventTypes){var i=void 0,o=r[n],s=t,l=n;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&b(c[i],s,l);i=!0}else o.registrationName?(b(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function b(e,t,r){if(E[e])throw Error(a(100,e));E[e]=t,S[e]=t.eventTypes[r].dependencies}var w=[],T={},E={},S={};function C(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!v.hasOwnProperty(t)||v[t]!==n){if(v[t])throw Error(a(102,t));v[t]=n,r=!0}}r&&x()}var M=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),k=null,A=null,I=null;function P(e){if(e=m(e)){if("function"!=typeof k)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),k(e.stateNode,e.type,t))}}function z(e){A?I?I.push(e):I=[e]:A=e}function D(){if(A){var e=A,t=I;if(I=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function R(e,t){return e(t)}function L(e,t,r,n,i){return e(t,r,n,i)}function O(){}var B=R,F=!1,j=!1;function U(){null===A&&null===I||(O(),D())}function N(e,t,r){if(j)return e(t,r);j=!0;try{return B(e,t,r)}finally{j=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,q={},Z={};function $(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){W[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];W[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){W[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){W[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){W[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){W[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){W[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){W[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){W[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,H);W[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,H);W[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,H);W[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){W[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),W.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){W[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(e,t,r,n){var i=W.hasOwnProperty(t)?W[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!G.call(Z,e)||!G.call(q,e)&&(V.test(e)?Z[e]=!0:(q[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,re=Q?Symbol.for("react.fragment"):60107,ne=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,oe=Q?Symbol.for("react.provider"):60109,ae=Q?Symbol.for("react.context"):60110,se=Q?Symbol.for("react.concurrent_mode"):60111,le=Q?Symbol.for("react.forward_ref"):60112,ce=Q?Symbol.for("react.suspense"):60113,ue=Q?Symbol.for("react.suspense_list"):60120,he=Q?Symbol.for("react.memo"):60115,de=Q?Symbol.for("react.lazy"):60116,pe=Q?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case pe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function _e(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=ge(e.type);r=null,n&&(r=ge(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ve(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function we(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Te(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ye(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&K(e,"checked",t,!1)}function Se(e,t){Ee(e,t);var r=ye(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Me(e,t.type,r):t.hasOwnProperty("defaultValue")&&Me(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Me(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ke(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ye(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ye(r)}}function ze(e,t){var r=ye(t.value),n=ye(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,je=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ne(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ve={animationend:Ne("Animation","AnimationEnd"),animationiteration:Ne("Animation","AnimationIteration"),animationstart:Ne("Animation","AnimationStart"),transitionend:Ne("Transition","TransitionEnd")},Ge={},qe={};function Ze(e){if(Ge[e])return Ge[e];if(!Ve[e])return e;var t,r=Ve[e];for(t in r)if(r.hasOwnProperty(t)&&t in qe)return Ge[e]=r[t];return e}M&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var $e=Ze("animationend"),We=Ze("animationiteration"),Xe=Ze("animationstart"),He=Ze("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ke=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Ke.get(e);return void 0===t&&(t=new Map,Ke.set(e,t)),t}function Qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return tt(i),e;if(o===n)return tt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)_(e,t[n],r[n]);else t&&_(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=nt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!M)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function dt(e,t,r,n){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function pt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Cr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=lt(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===r&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(n,t,o,i,a))&&(s=nt(s,c))}st(s)}}function ft(e,t,r){if(!r.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ct(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&Wt(e,t)}r.set(e,null)}}var mt,gt,_t,yt=!1,vt=[],xt=null,bt=null,wt=null,Tt=new Map,Et=new Map,St=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Mt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function At(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function It(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=kt(t,r,n,i,o),null!==t&&(null!==(t=Mr(t))&&gt(t)),e):(e.eventSystemFlags|=n,e)}function Pt(e){var t=Cr(e.target);if(null!==t){var r=Qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){_t(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Mr(t);return null!==r&&gt(r),e.blockedOn=t,!1}return!0}function Dt(e,t,r){zt(e)&&r.delete(t)}function Rt(){for(yt=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=Mr(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:vt.shift()}null!==xt&&zt(xt)&&(xt=null),null!==bt&&zt(bt)&&(bt=null),null!==wt&&zt(wt)&&(wt=null),Tt.forEach(Dt),Et.forEach(Dt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Ot(e){function t(t){return Lt(t,e)}if(0<vt.length){Lt(vt[0],e);for(var r=1;r<vt.length;r++){var n=vt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==xt&&Lt(xt,e),null!==bt&&Lt(bt,e),null!==wt&&Lt(wt,e),Tt.forEach(t),Et.forEach(t),r=0;r<St.length;r++)(n=St[r]).blockedOn===e&&(n.blockedOn=null);for(;0<St.length&&null===(r=St[0]).blockedOn;)Pt(r),null===r.blockedOn&&St.shift()}var Bt={},Ft=new Map,jt=new Map,Ut=["abort","abort",$e,"animationEnd",We,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",He,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},jt.set(n,t),Ft.set(n,o),Bt[i]=o}}Nt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Vt.length;Gt++)jt.set(Vt[Gt],0);var qt=o.unstable_UserBlockingPriority,Zt=o.unstable_runWithPriority,$t=!0;function Wt(e,t){Xt(t,e,!1)}function Xt(e,t,r){var n=jt.get(t);switch(void 0===n?2:n){case 0:n=Ht.bind(null,t,1,e);break;case 1:n=Yt.bind(null,t,1,e);break;default:n=Kt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Ht(e,t,r,n){F||O();var i=Kt,o=F;F=!0;try{L(i,e,t,r,n)}finally{(F=o)||U()}}function Yt(e,t,r,n){Zt(qt,Kt.bind(null,e,t,r,n))}function Kt(e,t,r,n){if($t)if(0<vt.length&&-1<Ct.indexOf(e))e=kt(null,e,t,r,n),vt.push(e);else{var i=Jt(e,t,r,n);if(null===i)At(e,n);else if(-1<Ct.indexOf(e))e=kt(i,e,t,r,n),vt.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return xt=It(xt,e,t,r,n,i),!0;case"dragenter":return bt=It(bt,e,t,r,n,i),!0;case"mouseover":return wt=It(wt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,It(Tt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Et.set(o,It(Et.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){At(e,n),e=dt(e,n,null,t);try{N(pt,e)}finally{ht(e)}}}}function Jt(e,t,r,n){if(null!==(r=Cr(r=lt(n)))){var i=Qe(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=et(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=dt(e,n,r,t);try{N(pt,e)}finally{ht(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Qt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function or(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=Re;function sr(e,t){var r=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var n=0;n<t.length;n++)ft(t[n],e,r)}function lr(){}function cr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var r,n=ur(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ur(n)}}function dr(){for(var e=window,t=cr();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=cr((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fr=null,mr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,vr="function"==typeof clearTimeout?clearTimeout:void 0;function xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function br(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Tr="__reactInternalInstance$"+wr,Er="__reactEventHandlers$"+wr,Sr="__reactContainere$"+wr;function Cr(e){var t=e[Tr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sr]||r[Tr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=br(e);null!==e;){if(r=e[Tr])return r;e=br(e)}return t}r=(e=r).parentNode}return null}function Mr(e){return!(e=e[Tr]||e[Sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function kr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ar(e){return e[Er]||null}function Ir(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Pr(e,t){var r=e.stateNode;if(!r)return null;var n=f(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}function zr(e,t,r){(t=Pr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Dr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Ir(t);for(t=r.length;0<t--;)zr(r[t],"captured",e);for(t=0;t<r.length;t++)zr(r[t],"bubbled",e)}}function Rr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Pr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Lr(e){e&&e.dispatchConfig.registrationName&&Rr(e._targetInst,null,e)}function Or(e){it(e,Dr)}var Br=null,Fr=null,jr=null;function Ur(){if(jr)return jr;var e,t,r=Fr,n=r.length,i="value"in Br?Br.value:Br.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return jr=i.slice(e,1<t?1-t:void 0)}function Nr(){return!0}function Vr(){return!1}function Gr(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Nr:Vr,this.isPropagationStopped=Vr,this}function qr(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Zr(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $r(e){e.eventPool=[],e.getPooled=qr,e.release=Zr}i(Gr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){this.isPersistent=Nr},isPersistent:Vr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vr,this._dispatchInstances=this._dispatchListeners=null}}),Gr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,$r(r),r},$r(Gr);var Wr=Gr.extend({data:null}),Xr=Gr.extend({data:null}),Hr=[9,13,27,32],Yr=M&&"CompositionEvent"in window,Kr=null;M&&"documentMode"in document&&(Kr=document.documentMode);var Jr=M&&"TextEvent"in window&&!Kr,Qr=M&&(!Yr||Kr&&8<Kr&&11>=Kr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==Hr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function on(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var an=!1;var sn={eventTypes:tn,extractEvents:function(e,t,r,n){var i;if(Yr)e:{switch(e){case"compositionstart":var o=tn.compositionStart;break e;case"compositionend":o=tn.compositionEnd;break e;case"compositionupdate":o=tn.compositionUpdate;break e}o=void 0}else an?nn(e,r)&&(o=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=tn.compositionStart);return o?(Qr&&"ko"!==r.locale&&(an||o!==tn.compositionStart?o===tn.compositionEnd&&an&&(i=Ur()):(Fr="value"in(Br=n)?Br.value:Br.textContent,an=!0)),o=Wr.getPooled(o,t,r,n),i?o.data=i:null!==(i=on(r))&&(o.data=i),Or(o),i=o):i=null,(e=Jr?function(e,t){switch(e){case"compositionend":return on(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(an)return"compositionend"===e||!Yr&&nn(e,t)?(e=Ur(),jr=Fr=Br=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Xr.getPooled(tn.beforeInput,t,r,n)).data=e,Or(t)):t=null,null===i?t:null===t?i:[i,t]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}var un={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hn(e,t,r){return(e=Gr.getPooled(un.change,e,t,r)).type="change",z(r),Or(e),e}var dn=null,pn=null;function fn(e){st(e)}function mn(e){if(be(kr(e)))return e}function gn(e,t){if("change"===e)return t}var _n=!1;function yn(){dn&&(dn.detachEvent("onpropertychange",vn),pn=dn=null)}function vn(e){if("value"===e.propertyName&&mn(pn))if(e=hn(pn,e,lt(e)),F)st(e);else{F=!0;try{R(fn,e)}finally{F=!1,U()}}}function xn(e,t,r){"focus"===e?(yn(),pn=r,(dn=t).attachEvent("onpropertychange",vn)):"blur"===e&&yn()}function bn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mn(pn)}function wn(e,t){if("click"===e)return mn(t)}function Tn(e,t){if("input"===e||"change"===e)return mn(t)}M&&(_n=ct("input")&&(!document.documentMode||9<document.documentMode));var En={eventTypes:un,_isInputEventSupported:_n,extractEvents:function(e,t,r,n){var i=t?kr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=gn;else if(cn(i))if(_n)a=Tn;else{a=bn;var s=xn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wn);if(a&&(a=a(e,t)))return hn(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Me(i,"number",i.value)}},Sn=Gr.extend({view:null,detail:null}),Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return Mn}var An=0,In=0,Pn=!1,zn=!1,Dn=Sn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=An;return An=e.screenX,Pn?"mousemove"===e.type?e.screenX-t:0:(Pn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=In;return In=e.screenY,zn?"mousemove"===e.type?e.screenY-t:0:(zn=!0,0)}}),Rn=Dn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ln={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},On={eventTypes:Ln,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?Cr(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Dn,l=Ln.mouseLeave,c=Ln.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rn,l=Ln.pointerLeave,c=Ln.pointerEnter,u="pointer");if(e=null==a?o:kr(a),o=null==t?o:kr(t),(l=s.getPooled(l,a,r,n)).type=u+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(c,t,r,n)).type=u+"enter",r.target=o,r.relatedTarget=e,u=t,(n=a)&&u)e:{for(c=u,a=0,e=s=n;e;e=Ir(e))a++;for(e=0,t=c;t;t=Ir(t))e++;for(;0<a-e;)s=Ir(s),a--;for(;0<e-a;)c=Ir(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Ir(s),c=Ir(c)}s=null}else s=null;for(c=s,s=[];n&&n!==c&&(null===(a=n.alternate)||a!==c);)s.push(n),n=Ir(n);for(n=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)n.push(u),u=Ir(u);for(u=0;u<s.length;u++)Rr(s[u],"bubbled",l);for(u=n.length;0<u--;)Rr(n[u],"captured",r);return 0==(64&i)?[l]:[l,r]}};var Bn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fn=Object.prototype.hasOwnProperty;function jn(e,t){if(Bn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Fn.call(t,r[n])||!Bn(e[r[n]],t[r[n]]))return!1;return!0}var Un=M&&"documentMode"in document&&11>=document.documentMode,Nn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Gn=null,qn=null,Zn=!1;function $n(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Zn||null==Vn||Vn!==cr(r)?null:("selectionStart"in(r=Vn)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},qn&&jn(qn,r)?null:(qn=r,(e=Gr.getPooled(Nn.select,Gn,e,t)).type="select",e.target=Vn,Or(e),e))}var Wn={eventTypes:Nn,extractEvents:function(e,t,r,n,i,o){if(!(o=!(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Je(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?kr(t):window,e){case"focus":(cn(i)||"true"===i.contentEditable)&&(Vn=i,Gn=t,qn=null);break;case"blur":qn=Gn=Vn=null;break;case"mousedown":Zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zn=!1,$n(r,n);case"selectionchange":if(Un)break;case"keydown":case"keyup":return $n(r,n)}return null}},Xn=Gr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Hn=Gr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=Sn.extend({relatedTarget:null});function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sn.extend({key:function(e){if(e.key){var t=Jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:kn,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Dn.extend({dataTransfer:null}),ri=Sn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kn}),ni=Gr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Dn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Bt,extractEvents:function(e,t,r,n){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Kn(r))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ri;break;case $e:case We:case Xe:e=Xn;break;case He:e=ni;break;case"scroll":e=Sn;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rn;break;default:e=Gr}return Or(t=e.getPooled(i,t,r,n)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),f=Ar,m=Mr,g=kr,C({SimpleEventPlugin:oi,EnterLeaveEventPlugin:On,ChangeEventPlugin:En,SelectEventPlugin:Wn,BeforeInputEventPlugin:sn});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var ui={},hi={current:ui},di={current:!1},pi=ui;function fi(e,t){var r=e.type.contextTypes;if(!r)return ui;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function gi(){li(di),li(hi)}function _i(e,t,r){if(hi.current!==ui)throw Error(a(168));ci(hi,t),ci(di,r)}function yi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},r,{},n)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,pi=hi.current,ci(hi,e),ci(di,di.current),!0}function xi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=yi(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,li(di),li(hi),ci(hi,e)):li(di),ci(di,r)}var bi=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ei=o.unstable_requestPaint,Si=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,ki=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,zi={},Di=o.unstable_shouldYield,Ri=void 0!==Ei?Ei:function(){},Li=null,Oi=null,Bi=!1,Fi=Si(),ji=1e4>Fi?Si:function(){return Si()-Fi};function Ui(){switch(Ci()){case Mi:return 99;case ki:return 98;case Ai:return 97;case Ii:return 96;case Pi:return 95;default:throw Error(a(332))}}function Ni(e){switch(e){case 99:return Mi;case 98:return ki;case 97:return Ai;case 96:return Ii;case 95:return Pi;default:throw Error(a(332))}}function Vi(e,t){return e=Ni(e),bi(e,t)}function Gi(e,t,r){return e=Ni(e),wi(e,t,r)}function qi(e){return null===Li?(Li=[e],Oi=wi(Mi,$i)):Li.push(e),zi}function Zi(){if(null!==Oi){var e=Oi;Oi=null,Ti(e)}$i()}function $i(){if(!Bi&&null!==Li){Bi=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),wi(Mi,Zi),t}finally{Bi=!1}}}function Wi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Xi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Hi={current:null},Yi=null,Ki=null,Ji=null;function Qi(){Ji=Ki=Yi=null}function eo(e){var t=Hi.current;li(Hi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ro(e,t){Yi=e,Ji=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ia=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===Yi)throw Error(a(308));Ki=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function co(e,t){var r=e.alternate;null!==r&&ao(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function uo(e,t,r,n){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,h=null,d=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<n){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var g=e,_=f;switch(s=t,m=r,_.tag){case 1:if("function"==typeof(g=_.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=_.payload)?g.call(m,c,s):g))break e;c=i({},c,s);break e;case 2:io=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=c:p.next=d,o.baseState=h,o.baseQueue=p,al(u),e.expirationTime=u,e.memoizedState=c}}function ho(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!=typeof n)throw Error(a(191,n));n.call(i)}}}var po=Y.ReactCurrentBatchConfig,fo=(new n.Component).refs;function mo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=po.suspense;(i=so(n=Ws(n,e,i),i)).payload=t,null!=r&&(i.callback=r),lo(e,i),Xs(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=po.suspense;(i=so(n=Ws(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),lo(e,i),Xs(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=$s(),n=po.suspense;(n=so(r=Ws(r,e,n),n)).tag=2,null!=t&&(n.callback=t),lo(e,n),Xs(e,r)}};function _o(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!jn(r,n)||!jn(i,o))}function yo(e,t,r){var n=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=mi(t)?pi:hi.current,o=(n=null!=(n=t.contextTypes))?fi(e,i):ui),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function xo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=fo,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=mi(t)?pi:hi.current,i.context=fi(e,o)),uo(e,r,i,n),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),uo(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var bo=Array.isArray;function wo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===fo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Eo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Cl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Al(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=wo(e,t,r),n.return=e,n):((n=Ml(r.type,r.key,r.props,null,e.mode,n)).ref=wo(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Il(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?((t=kl(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Al(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Ml(t.type,t.key,t.props,null,e.mode,r)).ref=wo(e,null,t),r.return=e,r;case te:return(t=Il(t,e.mode,r)).return=e,t}if(bo(t)||me(t))return(t=kl(t,e.mode,r,null)).return=e,t;To(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?h(e,t,r.props.children,n,i):c(e,t,r,n):null;case te:return r.key===i?u(e,t,r,n):null}if(bo(r)||me(r))return null!==i?null:h(e,t,r,n,null);To(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?h(t,e,n.props.children,i,n.key):c(t,e,n,i);case te:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(bo(n)||me(n))return h(t,e=e.get(r)||null,n,i,null);To(t,n)}return null}function m(i,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var _=p(i,h,s[m],l);if(null===_){null===h&&(h=g);break}e&&h&&null===_.alternate&&t(i,h),a=o(_,a,m),null===u?c=_:u.sibling=_,u=_,h=g}if(m===s.length)return r(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=n(i,h);m<s.length;m++)null!==(g=f(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=me(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,_=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var v=p(i,m,y.value,c);if(null===v){null===m&&(m=_);break}e&&m&&null===v.alternate&&t(i,m),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v,m=_}if(y.done)return r(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return u}for(m=n(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,n,o,l){var c="object"==typeof o&&null!==o&&o.type===re&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=n;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===re){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}break;default:if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=wo(e,c,o),n.return=e,e=n;break e}}r(e,c);break}t(e,c),c=c.sibling}o.type===re?((n=kl(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Ml(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,n,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Il(o,e.mode,l)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Al(o,e.mode,l)).return=e,e=n),s(e);if(bo(o))return m(e,n,o,l);if(me(o))return g(e,n,o,l);if(u&&To(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var So=Eo(!0),Co=Eo(!1),Mo={},ko={current:Mo},Ao={current:Mo},Io={current:Mo};function Po(e){if(e===Mo)throw Error(a(174));return e}function zo(e,t){switch(ci(Io,t),ci(Ao,e),ci(ko,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(ko),ci(ko,t)}function Do(){li(ko),li(Ao),li(Io)}function Ro(e){Po(Io.current);var t=Po(ko.current),r=Be(t,e.type);t!==r&&(ci(Ao,e),ci(ko,r))}function Lo(e){Ao.current===e&&(li(ko),li(Ao))}var Oo={current:0};function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var jo=Y.ReactCurrentDispatcher,Uo=Y.ReactCurrentBatchConfig,No=0,Vo=null,Go=null,qo=null,Zo=!1;function $o(){throw Error(a(321))}function Wo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function Xo(e,t,r,n,i,o){if(No=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,jo.current=null===e||null===e.memoizedState?_a:ya,e=r(n,i),t.expirationTime===No){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,qo=Go=null,t.updateQueue=null,jo.current=va,e=r(n,i)}while(t.expirationTime===No)}if(jo.current=ga,t=null!==Go&&null!==Go.next,No=0,qo=Go=Vo=null,Zo=!1,t)throw Error(a(300));return e}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Vo.memoizedState=qo=e:qo=qo.next=e,qo}function Yo(){if(null===Go){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===qo?Vo.memoizedState:qo.next;if(null!==t)qo=t,Go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===qo?Vo.memoizedState=qo=e:qo=qo.next=e}return qo}function Ko(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Yo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=Go,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=o=null,c=i;do{var u=c.expirationTime;if(u<No){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=n):l=l.next=h,u>Vo.expirationTime&&(Vo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),n=c.eagerReducer===e?c.eagerState:e(n,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=n:l.next=s,Bn(n,t.memoizedState)||(Ia=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qo(e){var t=Yo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Bn(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ea(e){var t=Ho();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e}).dispatch=ma.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ra(){return Yo().memoizedState}function na(e,t,r,n){var i=Ho();Vo.effectTag|=e,i.memoizedState=ta(1|t,r,void 0,void 0===n?null:n)}function ia(e,t,r,n){var i=Yo();n=void 0===n?null:n;var o=void 0;if(null!==Go){var a=Go.memoizedState;if(o=a.destroy,null!==n&&Wo(n,a.deps))return void ta(t,r,o,n)}Vo.effectTag|=e,i.memoizedState=ta(1|t,r,o,n)}function oa(e,t){return na(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,r){return r=null!=r?r.concat([e]):null,ia(4,2,la.bind(null,t,e),r)}function ua(){}function ha(e,t){return Ho().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var r=Yo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Wo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function pa(e,t){var r=Yo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Wo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fa(e,t,r){var n=Ui();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{e(!1),r()}finally{Uo.suspense=n}}))}function ma(e,t,r){var n=$s(),i=po.suspense;i={expirationTime:n=Ws(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Vo||null!==o&&o===Vo)Zo=!0,i.expirationTime=No,Vo.expirationTime=No;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,Bn(s,a))return}catch(e){}Xs(e,n)}}var ga={readContext:no,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},_a={readContext:no,useCallback:ha,useContext:no,useEffect:oa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,na(4,2,la.bind(null,t,e),r)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var r=Ho();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ho();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ho().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var r=ea(e),n=r[0],i=r[1];return oa((function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ea(!1),r=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),r]}},ya={readContext:no,useCallback:da,useContext:no,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:ra,useState:function(){return Jo(Ko)},useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var r=Jo(Ko),n=r[0],i=r[1];return aa((function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Jo(Ko),r=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),r]}},va={readContext:no,useCallback:da,useContext:no,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:ra,useState:function(){return Qo(Ko)},useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var r=Qo(Ko),n=r[0],i=r[1];return aa((function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qo(Ko),r=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),r]}},xa=null,ba=null,wa=!1;function Ta(e,t){var r=El(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ea(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(wa){var t=ba;if(t){var r=t;if(!Ea(e,t)){if(!(t=xr(r.nextSibling))||!Ea(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(xa=e);Ta(xa,r)}xa=e,ba=xr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,xa=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Ma(e){if(e!==xa)return!1;if(!wa)return Ca(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_r(t,e.memoizedProps))for(t=ba;t;)Ta(e,t),t=xr(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ba=xr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ba=null}}else ba=xa?xr(e.stateNode.nextSibling):null;return!0}function ka(){ba=xa=null,wa=!1}var Aa=Y.ReactCurrentOwner,Ia=!1;function Pa(e,t,r,n){t.child=null===e?Co(t,null,r,n):So(t,e.child,r,n)}function za(e,t,r,n,i){r=r.render;var o=t.ref;return ro(t,i),n=Xo(e,t,r,n,o,i),null===e||Ia?(t.effectTag|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Da(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ml(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:jn)(i,n)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Cl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,r,n,i,o){return null!==e&&jn(e.memoizedProps,n)&&e.ref===t.ref&&(Ia=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):Oa(e,t,r,n,o)}function La(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Oa(e,t,r,n,i){var o=mi(r)?pi:hi.current;return o=fi(t,o),ro(t,i),r=Xo(e,t,r,n,o,i),null===e||Ia?(t.effectTag|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Ba(e,t,r,n,i){if(mi(r)){var o=!0;vi(t)}else o=!1;if(ro(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,r,n),xo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=r.contextType;"object"==typeof c&&null!==c?c=no(c):c=fi(t,c=mi(r)?pi:hi.current);var u=r.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==c)&&vo(t,a,n,c),io=!1;var d=t.memoizedState;a.state=d,uo(t,n,a,i),l=t.memoizedState,s!==n||d!==l||di.current||io?("function"==typeof u&&(mo(t,r,u,n),l=t.memoizedState),(s=io||_o(t,r,s,n,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xi(t.type,s),l=a.context,"object"==typeof(c=r.contextType)&&null!==c?c=no(c):c=fi(t,c=mi(r)?pi:hi.current),(h="function"==typeof(u=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==c)&&vo(t,a,n,c),io=!1,l=t.memoizedState,a.state=l,uo(t,n,a,i),d=t.memoizedState,s!==n||l!==d||di.current||io?("function"==typeof u&&(mo(t,r,u,n),d=t.memoizedState),(u=io||_o(t,r,s,n,l,d,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=c,n=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Fa(e,t,r,n,o,i)}function Fa(e,t,r,n,i,o){La(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&xi(t,r,!1),Xa(e,t,o);n=t.stateNode,Aa.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=n.state,i&&xi(t,r,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),zo(e,t.containerInfo)}var Ua,Na,Va,Ga={dehydrated:null,retryTime:0};function qa(e,t,r){var n,i=t.mode,o=t.pendingProps,a=Oo.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Oo,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=kl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=kl(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=Ga,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=Co(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=Cl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Cl(i,o)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=Ga,t.child=r,i}return r=So(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=kl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=kl(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ga,t.child=o,r}return t.memoizedState=null,t.child=So(t,e,o.children,r)}function Za(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),to(e.return,t)}function $a(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Wa(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Pa(e,t,n.children,r),0!=(2&(n=Oo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,r);else if(19===e.tag)Za(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ci(Oo,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Bo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),$a(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}$a(t,!0,r,null,o,t.lastEffect);break;case"together":$a(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&al(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Cl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Cl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ha(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ya(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return Do(),li(di),li(hi),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),null;case 5:Lo(t),r=Po(Io.current);var o=t.type;if(null!==e&&null!=t.stateNode)Na(e,t,o,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(ko.current),Ma(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[Tr]=t,n[Er]=s,o){case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(e=0;e<Ye.length;e++)Wt(Ye[e],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"form":Wt("reset",n),Wt("submit",n);break;case"details":Wt("toggle",n);break;case"input":Te(n,s),Wt("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Wt("invalid",n),sr(r,"onChange");break;case"textarea":Pe(n,s),Wt("invalid",n),sr(r,"onChange")}for(var l in ir(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?n.textContent!==c&&(e=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(l)&&null!=c&&sr(r,l)}switch(o){case"input":xe(n),Ce(n,s,!0);break;case"textarea":xe(n),De(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=lr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===ar&&(e=Oe(o)),e===ar?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(o,{is:n.is}):(e=l.createElement(o),"select"===o&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,o),e[Tr]=t,e[Er]=n,Ua(e,t),t.stateNode=e,l=or(o,n),o){case"iframe":case"object":case"embed":Wt("load",e),c=n;break;case"video":case"audio":for(c=0;c<Ye.length;c++)Wt(Ye[c],e);c=n;break;case"source":Wt("error",e),c=n;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),c=n;break;case"form":Wt("reset",e),Wt("submit",e),c=n;break;case"details":Wt("toggle",e),c=n;break;case"input":Te(e,n),c=we(e,n),Wt("invalid",e),sr(r,"onChange");break;case"option":c=ke(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},c=i({},n,{value:void 0}),Wt("invalid",e),sr(r,"onChange");break;case"textarea":Pe(e,n),c=Ie(e,n),Wt("invalid",e),sr(r,"onChange");break;default:c=n}ir(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?rr(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&je(e,h):"children"===s?"string"==typeof h?("textarea"!==o||""!==h)&&Ue(e,h):"number"==typeof h&&Ue(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=h&&sr(r,s):null!=h&&K(e,s,h,l))}switch(o){case"input":xe(e),Ce(e,n,!1);break;case"textarea":xe(e),De(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ye(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Ae(e,!!n.multiple,r,!1):null!=n.defaultValue&&Ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=lr)}gr(o,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(a(166));r=Po(Io.current),Po(ko.current),Ma(t)?(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Tr]=t,t.stateNode=r)}return null;case 13:return li(Oo),n=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(n=null!==(o=e.memoizedState),r||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Oo.current)?Ms===xs&&(Ms=bs):(Ms!==xs&&Ms!==bs||(Ms=ws),0!==zs&&null!==Es&&(Dl(Es,Cs),Rl(Es,zs)))),(r||n)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(li(Oo),null===(n=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=n.rendering)){if(o)Ha(n,!1);else if(Ms!==xs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Bo(s))){for(t.effectTag|=64,Ha(n,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return ci(Oo,1&Oo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Bo(s))){if(t.effectTag|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Ha(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,Ha(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=ji()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=ji(),r.sibling=null,t=Oo.current,ci(Oo,o?1&t|2:1&t),r):null}throw Error(a(156,t.tag))}function Ka(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),li(di),li(hi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Oo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Oo),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:_e(t)}}Ua=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Na=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,l,c=t.stateNode;switch(Po(ko.current),e=null,r){case"input":a=we(c,a),n=we(c,n),e=[];break;case"option":a=ke(c,a),n=ke(c,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=Ie(c,a),n=Ie(c,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(c.onclick=lr)}for(s in ir(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var u=n[s];if(c=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(e||(e=[]),e.push(s,r)),r=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&sr(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=_e(r)),null!==r&&ge(r.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function rs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Xi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function os(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Xi(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&ho(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}ho(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&gr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ot(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,r){switch("function"==typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Vi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){yl(i,e)}}e=e.next}while(e!==n)}))}break;case 1:ts(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,r);break;case 5:ts(t);break;case 4:us(e,t,r)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(Ue(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function us(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=r,h=c;;)if(as(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=n,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Er]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Ee(r,n),or(e,i),t=or(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?je(r,l):"children"===s?Ue(r,l):K(r,s,l,t)}switch(e){case"input":Se(r,n);break;case"textarea":ze(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ae(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ae(r,!!n.multiple,n.defaultValue,!0):Ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ot(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Rs=ji()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qa),t.forEach((function(t){var n=xl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=so(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Os||(Os=!0,Bs=n),es(e,t)},r}function ms(e,t,r){(r=so(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return es(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var gs,_s=Math.ceil,ys=Y.ReactCurrentDispatcher,vs=Y.ReactCurrentOwner,xs=0,bs=3,ws=4,Ts=0,Es=null,Ss=null,Cs=0,Ms=xs,ks=null,As=1073741823,Is=1073741823,Ps=null,zs=0,Ds=!1,Rs=0,Ls=null,Os=!1,Bs=null,Fs=null,js=!1,Us=null,Ns=90,Vs=null,Gs=0,qs=null,Zs=0;function $s(){return 0!=(48&Ts)?1073741821-(ji()/10|0):0!==Zs?Zs:Zs=1073741821-(ji()/10|0)}function Ws(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=Ui();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&Ts))return Cs;if(null!==r)e=Wi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Wi(e,150,100);break;case 97:case 96:e=Wi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Es&&e===Cs&&--e,e}function Xs(e,t){if(50<Gs)throw Gs=0,qs=null,Error(a(185));if(null!==(e=Hs(e,t))){var r=Ui();1073741823===t?0!=(8&Ts)&&0==(48&Ts)?Qs(e):(Ks(e),0===Ts&&Zi()):Ks(e),0==(4&Ts)||98!==r&&99!==r||(null===Vs?Vs=new Map([[e,t]]):(void 0===(r=Vs.get(e))||r>t)&&Vs.set(e,t))}}function Hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Es===i&&(al(t),Ms===ws&&Dl(i,Cs)),Rl(i,t)),i}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!zl(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Ks(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qi(Qs.bind(null,e));else{var t=Ys(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=$s();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==zi&&Ti(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?qi(Qs.bind(null,e)):Gi(n,Js.bind(null,e),{timeout:10*(1073741821-t)-ji()}),e.callbackNode=t}}}function Js(e,t){if(Zs=0,t)return Ll(e,t=$s()),Ks(e),null;var r=Ys(e);if(0!==r){if(t=e.callbackNode,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&r===Cs||rl(e,r),null!==Ss){var n=Ts;Ts|=16;for(var i=il();;)try{ll();break}catch(t){nl(e,t)}if(Qi(),Ts=n,ys.current=i,1===Ms)throw t=ks,rl(e,r),Dl(e,r),Ks(e),t;if(null===Ss)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ms,Es=null,n){case xs:case 1:throw Error(a(345));case 2:Ll(e,2<r?2:r);break;case bs:if(Dl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),1073741823===As&&10<(i=Rs+500-ji())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,rl(e,r);break}}if(0!==(o=Ys(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=yr(dl.bind(null,e),i);break}dl(e);break;case ws:if(Dl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),Ds&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,rl(e,r);break}if(0!==(i=Ys(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Is?n=10*(1073741821-Is)-ji():1073741823===As?n=0:(n=10*(1073741821-As)-5e3,0>(n=(i=ji())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_s(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=yr(dl.bind(null,e),n);break}dl(e);break;case 5:if(1073741823!==As&&null!==Ps){o=As;var s=Ps;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=ji()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Dl(e,r),e.timeoutHandle=yr(dl.bind(null,e),n);break}}dl(e);break;default:throw Error(a(329))}if(Ks(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&t===Cs||rl(e,t),null!==Ss){var r=Ts;Ts|=16;for(var n=il();;)try{sl();break}catch(t){nl(e,t)}if(Qi(),Ts=r,ys.current=n,1===Ms)throw r=ks,rl(e,t),Dl(e,t),Ks(e),r;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,dl(e),Ks(e)}return null}function el(e,t){var r=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=r)&&Zi()}}function tl(e,t){var r=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=r)&&Zi()}}function rl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,vr(r)),null!==Ss)for(r=Ss.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&gi();break;case 3:Do(),li(di),li(hi);break;case 5:Lo(n);break;case 4:Do();break;case 13:case 19:li(Oo);break;case 10:eo(n)}r=r.return}Es=e,Ss=Cl(e.current,null),Cs=t,Ms=xs,ks=null,Is=As=1073741823,Ps=null,zs=0,Ds=!1}function nl(e,t){for(;;){try{if(Qi(),jo.current=ga,Zo)for(var r=Vo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(No=0,qo=Go=Vo=null,Zo=!1,null===Ss||null===Ss.return)return Ms=1,ks=t,Ss=null;e:{var i=e,o=Ss.return,a=Ss,s=t;if(t=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Oo.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var _=so(1073741823,null);_.tag=2,lo(a,_)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ps,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var v=vl.bind(null,i,l,a);l.then(v,v)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_e(a))}5!==Ms&&(Ms=2),s=Ja(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,co(h,fs(h,l,t));break e;case 1:l=s;var x=h.type,b=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Fs||!Fs.has(b)))){h.effectTag|=4096,h.expirationTime=t,co(h,ms(h,l,t));break e}}h=h.return}while(null!==h)}Ss=ul(Ss)}catch(e){t=e;continue}break}}function il(){var e=ys.current;return ys.current=ga,null===e?ga:e}function ol(e,t){e<As&&2<e&&(As=e),null!==t&&e<Is&&2<e&&(Is=e,Ps=t)}function al(e){e>zs&&(zs=e)}function sl(){for(;null!==Ss;)Ss=cl(Ss)}function ll(){for(;null!==Ss&&!Di();)Ss=cl(Ss)}function cl(e){var t=gs(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),vs.current=null,t}function ul(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0==(2048&Ss.effectTag)){if(t=Ya(t,Ss,Cs),1===Cs||1!==Ss.childExpirationTime){for(var r=0,n=Ss.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}Ss.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Ka(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Ms===xs&&(Ms=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Ui();return Vi(99,pl.bind(null,e,t)),null}function pl(e,t){do{ml()}while(null!==Us);if(0!=(48&Ts))throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=hl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(Ss=Es=null,Cs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Ts;Ts|=32,vs.current=null,fr=$t;var s=dr();if(pr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,m=0,g=0,_=s,y=null;t:for(;;){for(var v;_!==l||0!==u&&3!==_.nodeType||(p=d+u),_!==h||0!==c&&3!==_.nodeType||(f=d+c),3===_.nodeType&&(d+=_.nodeValue.length),null!==(v=_.firstChild);)y=_,_=v;for(;;){if(_===s)break t;if(y===l&&++m===u&&(p=d),y===h&&++g===c&&(f=d),null!==(v=_.nextSibling))break;y=(_=y).parentNode}_=v}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;mr={activeElementDetached:null,focusedElem:s,selectionRange:l},$t=!1,Ls=i;do{try{fl()}catch(e){if(null===Ls)throw Error(a(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);Ls=i;do{try{for(s=e,l=t;null!==Ls;){var x=Ls.effectTag;if(16&x&&Ue(Ls.stateNode,""),128&x){var b=Ls.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&x){case 2:cs(Ls),Ls.effectTag&=-3;break;case 6:cs(Ls),Ls.effectTag&=-3,hs(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,hs(Ls.alternate,Ls);break;case 4:hs(Ls.alternate,Ls);break;case 8:us(s,u=Ls,l),ss(u)}Ls=Ls.nextEffect}}catch(e){if(null===Ls)throw Error(a(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);if(w=mr,b=dr(),x=w.focusedElem,l=w.selectionRange,b!==x&&x&&x.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(x.ownerDocument.documentElement,x)){null!==l&&pr(x)&&(b=l.start,void 0===(w=l.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=x.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=hr(x,s),h=hr(x,l),u&&h&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(b),w.extend(h.node,h.offset)):(b.setEnd(h.node,h.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!fr,mr=fr=null,e.current=r,Ls=i;do{try{for(x=e;null!==Ls;){var T=Ls.effectTag;if(36&T&&os(x,Ls.alternate,Ls),128&T){b=void 0;var E=Ls.ref;if(null!==E){var S=Ls.stateNode;switch(Ls.tag){case 5:b=S;break;default:b=S}"function"==typeof E?E(b):E.current=b}}Ls=Ls.nextEffect}}catch(e){if(null===Ls)throw Error(a(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Ri(),Ts=o}else e.current=r;if(js)js=!1,Us=e,Ns=t;else for(Ls=i;null!==Ls;)t=Ls.nextEffect,Ls.nextEffect=null,Ls=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===qs?Gs++:(Gs=0,qs=e):Gs=0,"function"==typeof bl&&bl(r.stateNode,n),Ks(e),Os)throw Os=!1,e=Bs,Bs=null,e;return 0!=(8&Ts)||Zi(),null}function fl(){for(;null!==Ls;){var e=Ls.effectTag;0!=(256&e)&&rs(Ls.alternate,Ls),0==(512&e)||js||(js=!0,Gi(97,(function(){return ml(),null}))),Ls=Ls.nextEffect}}function ml(){if(90!==Ns){var e=97<Ns?97:Ns;return Ns=90,Vi(e,gl)}}function gl(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&Ts))throw Error(a(331));var t=Ts;for(Ts|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(t){if(null===e)throw Error(a(330));yl(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Ts=t,Zi(),!0}function _l(e,t,r){lo(e,t=fs(e,t=Ja(r,t),1073741823)),null!==(e=Hs(e,1073741823))&&Ks(e)}function yl(e,t){if(3===e.tag)_l(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){_l(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Fs||!Fs.has(n))){lo(r,e=ms(r,e=Ja(t,e),1073741823)),null!==(r=Hs(r,1073741823))&&Ks(r);break}}r=r.return}}function vl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Es===e&&Cs===r?Ms===ws||Ms===bs&&1073741823===As&&ji()-Rs<500?rl(e,Cs):Ds=!0:zl(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Ks(e)))}function xl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Ws(t=$s(),e,null)),null!==(e=Hs(e,t))&&Ks(e)}gs=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Ia=!0;else{if(n<r){switch(Ia=!1,t.tag){case 3:ja(t),ka();break;case 5:if(Ro(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&vi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,ci(Hi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?qa(e,t,r):(ci(Oo,1&Oo.current),null!==(t=Xa(e,t,r))?t.sibling:null);ci(Oo,1&Oo.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return Wa(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Oo,Oo.current),!n)return null}return Xa(e,t,r)}Ia=!1}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=fi(t,hi.current),ro(t,r),i=Xo(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(n)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=n.getDerivedStateFromProps;"function"==typeof s&&mo(t,n,s,e),i.updater=go,t.stateNode=i,i._reactInternalFiber=t,xo(t,n,e,r),t=Fa(null,t,n,!0,o,r)}else t.tag=0,Pa(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Oa(null,t,i,e,r);break e;case 1:t=Ba(null,t,i,e,r);break e;case 11:t=za(null,t,i,e,r);break e;case 14:t=Da(null,t,i,Xi(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Oa(e,t,n,i=t.elementType===n?i:Xi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ba(e,t,n,i=t.elementType===n?i:Xi(n,i),r);case 3:if(ja(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),uo(t,n,null,r),(n=t.memoizedState.element)===i)ka(),t=Xa(e,t,r);else{if((i=t.stateNode.hydrate)&&(ba=xr(t.stateNode.containerInfo.firstChild),xa=t,i=wa=!0),i)for(r=Co(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Pa(e,t,n,r),ka();t=t.child}return t;case 5:return Ro(t),null===e&&Sa(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,_r(n,i)?s=null:null!==o&&_r(n,o)&&(t.effectTag|=16),La(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,r),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return qa(e,t,r);case 4:return zo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=So(t,null,n,r):Pa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,za(e,t,n,i=t.elementType===n?i:Xi(n,i),r);case 7:return Pa(e,t,t.pendingProps,r),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Hi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Bn(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=Xa(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&o)){1===l.tag&&((u=so(r,null)).tag=2,lo(l,u)),l.expirationTime<r&&(l.expirationTime=r),null!==(u=l.alternate)&&u.expirationTime<r&&(u.expirationTime=r),to(l.return,r),c.expirationTime<r&&(c.expirationTime=r);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,ro(t,r),n=n(i=no(i,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,n,r),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Da(e,t,i,o=Xi(i.type,o),n,r);case 15:return Ra(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(n)?(e=!0,vi(t)):e=!1,ro(t,r),yo(t,n,i),xo(t,n,i,r),Fa(null,t,n,!0,e,r);case 19:return Wa(e,t,r)}throw Error(a(156,t.tag))};var bl=null,wl=null;function Tl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(e,t,r,n){return new Tl(e,t,r,n)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cl(e,t){var r=e.alternate;return null===r?((r=El(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ml(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Sl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case re:return kl(r.children,i,o,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=El(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=El(13,r,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=El(19,r,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case de:s=16,n=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=El(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function kl(e,t,r,n){return(e=El(7,e,n,t)).expirationTime=r,e}function Al(e,t,r){return(e=El(6,e,null,t)).expirationTime=r,e}function Il(e,t,r){return(t=El(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zl(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Dl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ll(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Ol(e,t,r,n){var i=t.current,o=$s(),s=po.suspense;o=Ws(o,i,s);e:if(r){t:{if(Qe(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var c=r.type;if(mi(c)){r=yi(r,c,l);break e}}r=l}else r=ui;return null===t.context?t.context=r:t.pendingContext=r,(t=so(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),lo(i,t),Xs(i,o),o}function Bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function jl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Ul(e,t,r){var n=new Pl(e,t,r=null!=r&&!0===r.hydrate),i=El(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,oo(i),e[Sr]=n.current,r&&0!==t&&function(e,t){var r=Je(t);Ct.forEach((function(e){ft(e,t,r)})),Mt.forEach((function(e){ft(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Bl(a);s.call(e)}}Ol(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Ul(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Bl(a);l.call(e)}}tl((function(){Ol(t,a,e,i)}))}return Bl(a)}function Gl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ql(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nl(t))throw Error(a(200));return Gl(e,t,null,r)}Ul.prototype.render=function(e){Ol(e,this._internalRoot,null,null)},Ul.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ol(null,e,null,(function(){t[Sr]=null}))},mt=function(e){if(13===e.tag){var t=Wi($s(),150,100);Xs(e,t),jl(e,t)}},gt=function(e){13===e.tag&&(Xs(e,3),jl(e,3))},_t=function(e){if(13===e.tag){var t=$s();Xs(e,t=Ws(t,e,null)),jl(e,t)}},k=function(e,t,r){switch(t){case"input":if(Se(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ar(n);if(!i)throw Error(a(90));be(n),Se(n,i)}}}break;case"textarea":ze(e,r);break;case"select":null!=(t=r.value)&&Ae(e,!!r.multiple,t,!1)}},R=el,L=function(e,t,r,n,i){var o=Ts;Ts|=4;try{return Vi(98,e.bind(null,t,r,n,i))}finally{0===(Ts=o)&&Zi()}},O=function(){0==(49&Ts)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ll(t,e),Ks(t)})),Zi()}}(),ml())},B=function(e,t){var r=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=r)&&Zi()}};var Zl={Events:[Mr,kr,Ar,C,T,Or,function(e){it(e,Lr)},z,D,Kt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);bl=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},wl=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Cr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zl,t.createPortal=ql,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ts))throw Error(a(187));var r=Ts;Ts|=1;try{return Vi(99,e.bind(null,t))}finally{Ts=r,Zi()}},t.hydrate=function(e,t,r){if(!Nl(t))throw Error(a(200));return Vl(null,e,t,!0,r)},t.render=function(e,t,r){if(!Nl(t))throw Error(a(200));return Vl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sr]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return ql(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nl(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,r,!1,n)},t.version="16.14.0"},function(e,t,r){"use strict";e.exports=r(72)},function(e,t,r){"use strict";var n,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var _=p.now();t.unstable_now=function(){return p.now()-_}}var y=!1,v=null,x=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(e){throw E.postMessage(null),e}}else y=!1},n=function(e){v=e,y||(y=!0,E.postMessage(null))},i=function(e,r){x=f((function(){e(t.unstable_now())}),r)},o=function(){m(x),x=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<k(i,t)))break e;e[n]=t,e[r]=i,r=n}}function C(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,r))void 0!==l&&0>k(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>k(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function k(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],I=[],P=1,z=null,D=3,R=!1,L=!1,O=!1;function B(e){for(var t=C(I);null!==t;){if(null===t.callback)M(I);else{if(!(t.startTime<=e))break;M(I),t.sortIndex=t.expirationTime,S(A,t)}t=C(I)}}function F(e){if(O=!1,B(e),!L)if(null!==C(A))L=!0,n(j);else{var t=C(I);null!==t&&i(F,t.startTime-e)}}function j(e,r){L=!1,O&&(O=!1,o()),R=!0;var n=D;try{for(B(r),z=C(A);null!==z&&(!(z.expirationTime>r)||e&&!a());){var s=z.callback;if(null!==s){z.callback=null,D=z.priorityLevel;var l=s(z.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?z.callback=l:z===C(A)&&M(A),B(r)}else M(A);z=C(A)}if(null!==z)var c=!0;else{var u=C(I);null!==u&&i(F,u.startTime-r),c=!1}return c}finally{z=null,D=n,R=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var N=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(A)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var r=D;D=t;try{return e()}finally{D=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=D;D=e;try{return t()}finally{D=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:P++,callback:r,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(I,e),null===C(A)&&e===C(I)&&(O?o():O=!0,i(F,l-s))):(e.sortIndex=a,S(A,e),L||R||(L=!0,n(j))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var r=C(A);return r!==z&&null!==z&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<z.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var r=D;D=t;try{return e.apply(this,arguments)}finally{D=r}}}},function(e,t,r){var n=r(15).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(76);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&("function"==typeof(t=e.constructor)&&(!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},function(e,t,r){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,n=e.unit,s=void 0===n?"px":n,l=e.step,c=void 0===l?5:l,u=(0,o.default)(e,["values","unit","step"]);function h(e){var t="number"==typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var n=a.indexOf(t)+1;return n===a.length?h(e):"@media (min-width:".concat(r[e]).concat(s,") and ")+"(max-width:".concat(r[a[n]]-c/100).concat(s,")")}return(0,i.default)({keys:a,values:r,up:h,down:function(e){var t=a.indexOf(e)+1,n=r[a[t]];return t===a.length?h("xs"):"@media (max-width:".concat(("number"==typeof n&&t>0?n:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return r[e]}},u)},t.keys=void 0;var i=n(r(2)),o=n(r(4)),a=["xs","sm","md","lg","xl"];t.keys=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n;return(0,o.default)({gutters:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:2*t.unit,paddingRight:2*t.unit},r,(0,i.default)({},e.up("sm"),(0,o.default)({paddingLeft:3*t.unit,paddingRight:3*t.unit},r[e.up("sm")])))},toolbar:(n={minHeight:56},(0,i.default)(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,i.default)(n,e.up("sm"),{minHeight:64}),n)},r)};var i=n(r(5)),o=n(r(2))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,r=void 0===t?{light:s.default[300],main:s.default[500],dark:s.default[700]}:t,n=e.secondary,g=void 0===n?{light:l.default.A200,main:l.default.A400,dark:l.default.A700}:n,_=e.error,y=void 0===_?{light:u.default[300],main:u.default[500],dark:u.default[700]}:_,v=e.type,x=void 0===v?"light":v,b=e.contrastThreshold,w=void 0===b?3:b,T=e.tonalOffset,E=void 0===T?.2:T,S=(0,o.default)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function C(e){return(0,d.getContrastRatio)(e,f.text.primary)>=w?f.text.primary:p.text.primary}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!e.main&&e[t]&&(e.main=e[t]),m(e,"light",r,E),m(e,"dark",n,E),e.contrastText||(e.contrastText=C(e.main)),e}M(r),M(g,"A400","A200","A700"),M(y);var k={dark:f,light:p};return(0,a.default)((0,i.default)({common:h.default,type:x,primary:r,secondary:g,error:y,grey:c.default,contrastThreshold:w,getContrastText:C,augmentColor:M,tonalOffset:E},k[x]),S,{clone:!1})},t.dark=t.light=void 0;var i=n(r(2)),o=n(r(4)),a=(n(r(6)),n(r(22))),s=n(r(41)),l=n(r(80)),c=n(r(81)),u=n(r(82)),h=n(r(83)),d=r(42),p={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};t.light=p;var f={text:{primary:h.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:h.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function m(e,t,r,n){e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,d.lighten)(e.main,n):"dark"===t&&(e.dark=(0,d.darken)(e.main,1.5*n)))}t.dark=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={black:"#000",white:"#fff"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r="function"==typeof t?t(e):t,n=r.fontFamily,u=void 0===n?'"Roboto", "Helvetica", "Arial", sans-serif':n,h=r.fontSize,d=void 0===h?14:h,p=r.fontWeightLight,f=void 0===p?300:p,m=r.fontWeightRegular,g=void 0===m?400:m,_=r.fontWeightMedium,y=void 0===_?500:_,v=r.htmlFontSize,x=void 0===v?16:v,b=r.useNextVariants,w=void 0===b?Boolean(s.ponyfillGlobal.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__):b,T=(r.suppressWarning,r.allVariants),E=(0,o.default)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","useNextVariants","suppressWarning","allVariants"]);var S=d/14,C=function(e){return"".concat(e/x*S,"rem")},M=function(t,r,n,o,a){return(0,i.default)({color:e.text.primary,fontFamily:u,fontWeight:t,fontSize:C(r),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===u?{letterSpacing:"".concat(l(o/r),"em")}:{},a,T)},k={h1:M(f,96,1,-1.5),h2:M(f,60,1,-.5),h3:M(g,48,1.04,0),h4:M(g,34,1.17,.25),h5:M(g,24,1.33,0),h6:M(y,20,1.6,.15),subtitle1:M(g,16,1.75,.15),subtitle2:M(y,14,1.57,.1),body1Next:M(g,16,1.5,.15),body2Next:M(g,14,1.5,.15),buttonNext:M(y,14,1.75,.4,c),captionNext:M(g,12,1.66,.4),overline:M(g,12,2.66,1,c)},A={display4:(0,i.default)({fontSize:C(112),fontWeight:f,fontFamily:u,letterSpacing:"-.04em",lineHeight:"".concat(l(128/112),"em"),marginLeft:"-.04em",color:e.text.secondary},T),display3:(0,i.default)({fontSize:C(56),fontWeight:g,fontFamily:u,letterSpacing:"-.02em",lineHeight:"".concat(l(73/56),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display2:(0,i.default)({fontSize:C(45),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(51/45),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display1:(0,i.default)({fontSize:C(34),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(41/34),"em"),color:e.text.secondary},T),headline:(0,i.default)({fontSize:C(24),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(32.5/24),"em"),color:e.text.primary},T),title:(0,i.default)({fontSize:C(21),fontWeight:y,fontFamily:u,lineHeight:"".concat(l(24.5/21),"em"),color:e.text.primary},T),subheading:(0,i.default)({fontSize:C(16),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.5),"em"),color:e.text.primary},T),body2:(0,i.default)({fontSize:C(14),fontWeight:y,fontFamily:u,lineHeight:"".concat(l(24/14),"em"),color:e.text.primary},T),body1:(0,i.default)({fontSize:C(14),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(20.5/14),"em"),color:e.text.primary},T),caption:(0,i.default)({fontSize:C(12),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.375),"em"),color:e.text.secondary},T),button:(0,i.default)({fontSize:C(14),textTransform:"uppercase",fontWeight:y,fontFamily:u,color:e.text.primary},T)};return(0,a.default)((0,i.default)({pxToRem:C,round:l,fontFamily:u,fontSize:d,fontWeightLight:f,fontWeightRegular:g,fontWeightMedium:y},A,k,w?{body1:k.body1Next,body2:k.body2Next,button:k.buttonNext,caption:k.captionNext}:{},{useNextVariants:w}),E,{clone:!1})};var i=n(r(2)),o=n(r(4)),a=n(r(22)),s=(n(r(6)),r(7));function l(e){return Math.round(1e5*e)/1e5}var c={textTransform:"uppercase"}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case _:case g:case c:return e;default:return t}}case o:return t}}}function T(e){return w(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=_,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||w(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var i=["none",n(0,1,3,0,0,1,1,0,0,2,1,-1),n(0,1,5,0,0,2,2,0,0,3,1,-2),n(0,1,8,0,0,3,4,0,0,3,3,-2),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={borderRadius:4};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={unit:8};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNumber=t.isString=t.formatMs=t.duration=t.easing=void 0;var i=n(r(4)),o=(n(r(6)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});t.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};t.duration=a;var s=function(e){return"".concat(Math.round(e),"ms")};t.formatMs=s;t.isString=function(e){return"string"==typeof e};t.isNumber=function(e){return!isNaN(parseFloat(e))};var l={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,n=void 0===r?a.standard:r,l=t.easing,c=void 0===l?o.easeInOut:l,u=t.delay,h=void 0===u?0:u;(0,i.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof n?n:s(n)," ").concat(c," ").concat("string"==typeof h?h:s(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){return{onCreateRule:function(e,t,r){if("@global"===e)return new s(e,t,r);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new l(e,t,r);var n=r.parent;return n&&("global"!==n.type&&"global"!==n.options.parent.type||(r.global=!0)),r.global&&(r.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,r=e.style,i=r["@global"];if(!i)return;for(var o in i)t.sheet.addRule(o,i[o],n({},t,{selector:u(o,e.selector)}));delete r["@global"]}(e),function(e){var t=e.options,r=e.style;for(var i in r)if("@global"===i.substr(0,"@global".length)){var o=u(i.substr("@global".length),e.selector);t.sheet.addRule(o,r[i],n({},t,{selector:o})),delete r[i]}}(e))}}};var o=r(50);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,r,i){for(var s in a(this,e),this.type="global",this.key=t,this.options=i,this.rules=new o.RuleList(n({},i,{parent:this})),r)this.rules.add(s,r[s],{selector:s});this.rules.process()}return i(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"addRule",value:function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"toString",value:function(){return this.rules.toString()}}]),e}(),l=function(){function e(t,r,i){a(this,e),this.name=t,this.options=i;var o=t.substr("@global ".length);this.rule=i.jss.createRule(o,r,n({},i,{parent:this,selector:o}))}return i(e,[{key:"toString",value:function(e){return this.rule.toString(e)}}]),e}(),c=/\s*,\s*/g;function u(e,t){for(var r=e.split(c),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var r=null;for(var i in t){var o=t[i],a=void 0===o?"undefined":n(o);if("function"===a)r||(r={}),r[i]=o;else if("object"===a&&null!==o&&!Array.isArray(o)){var s=e(o);s&&(r||(r={}),r[i]=s)}}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sheets=[],this.refs=[],this.keys=[]}return n(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);return this.sheets[t]}},{key:"add",value:function(e,t){var r=this.sheets,n=this.refs,i=this.keys,o=r.indexOf(t);return-1!==o?o:(r.push(t),n.push(0),i.push(e),r.length-1)}},{key:"manage",value:function(e){var t=this.keys.indexOf(e),r=this.sheets[t];return 0===this.refs[t]&&r.attach(),this.refs[t]++,this.keys[t]||this.keys.splice(t,0,e),r}},{key:"unmanage",value:function(e){var t=this.keys.indexOf(e);-1!==t?this.refs[t]>0&&(this.refs[t]--,0===this.refs[t]&&this.sheets[t].detach()):(0,i.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function(){return this.keys.length}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){if(null==t)return t;var r=void 0===t?"undefined":n(t);if("string"===r||"number"===r||"function"===r)return t;if(o(t))return t.map(e);if((0,i.default)(t))return t;var a={};for(var s in t){var l=t[s];"object"!==(void 0===l?"undefined":n(l))?a[s]=l:a[s]=e(l)}return a};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(52));var o=Array.isArray},function(e,t,r){"use strict";r.r(t),function(e,n){var i,o=r(67);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(o.a)(i);t.default=a}.call(this,r(30),r(96)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});e.CSS;t.default=function(e){return e}}).call(this,r(30))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="2f1acc6c3a606b082e5eef5e54414ffb";null==e[r]&&(e[r]=0),t.default=e[r]++}).call(this,r(30))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=y(r(25)),s=y(r(55)),l=y(r(100)),c=y(r(101)),u=y(r(107)),h=y(r(108)),d=y(r(31)),p=y(r(18)),f=y(r(54)),m=y(r(24)),g=y(r(109)),_=y(r(110));function y(e){return e&&e.__esModule?e:{default:e}}var v=c.default.concat([u.default,h.default]),x=0,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=x++,this.version="9.8.7",this.plugins=new l.default,this.options={createGenerateClassName:f.default,Renderer:a.default?g.default:_.default,plugins:[]},this.generateClassName=(0,f.default)(),this.use.apply(this,v),this.setup(t)}return o(e,[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?_.default:g.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index;"number"!=typeof r&&(r=0===d.default.index?0:d.default.index+1);var n=new s.default(e,i({},t,{jss:this,generateClassName:t.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(n),n}},{key:"removeStyleSheet",value:function(e){return e.detach(),d.default.remove(e),this}},{key:"createRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===(void 0===e?"undefined":n(e))&&(r=t,t=e,e=void 0);var i=r;i.jss=this,i.Renderer=this.options.Renderer,i.generateClassName||(i.generateClassName=this.generateClassName),i.classes||(i.classes={});var o=(0,m.default)(e,t,i);return!i.selector&&o instanceof p.default&&(o.selector="."+i.generateClassName(o)),this.plugins.onProcessRule(o),o}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){-1===e.options.plugins.indexOf(t)&&(e.options.plugins.push(t),e.plugins.use(t))})),this}}]),e}();t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return n(e,[{key:"onCreateRule",value:function(e,t,r){for(var n=0;n<this.hooks.onCreateRule.length;n++){var i=this.hooks.onCreateRule[n](e,t,r);if(i)return i}return null}},{key:"onProcessRule",value:function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.hooks.onProcessRule.length;r++)this.hooks.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}}},{key:"onProcessStyle",value:function(e,t,r){for(var n=e,i=0;i<this.hooks.onProcessStyle.length;i++)n=this.hooks.onProcessStyle[i](n,t,r),t.style=n}},{key:"onProcessSheet",value:function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)}},{key:"onUpdate",value:function(e,t,r){for(var n=0;n<this.hooks.onUpdate.length;n++)this.hooks.onUpdate[n](e,t,r)}},{key:"onChangeValue",value:function(e,t,r){for(var n=e,i=0;i<this.hooks.onChangeValue.length;i++)n=this.hooks.onChangeValue[i](n,t,r);return n}},{key:"use",value:function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):(0,i.default)(!1,'[JSS] Unknown hook "%s".',t)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(102)),i=l(r(103)),o=l(r(104)),a=l(r(105)),s=l(r(106));function l(e){return e&&e.__esModule?e:{default:e}}var c={"@charset":n.default,"@import":n.default,"@namespace":n.default,"@keyframes":i.default,"@media":o.default,"@supports":o.default,"@font-face":a.default,"@viewport":s.default,"@-ms-viewport":s.default},u=Object.keys(c).map((function(e){var t=new RegExp("^"+e),r=c[e];return{onCreateRule:function(e,n,i){return t.test(e)?new r(e,n,i):null}}}));t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=n}return n(e,[{key:"toString",value:function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(20));var a=function(){function e(t,r,i){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=i,this.rules=new o.default(n({},i,{parent:this})),r)this.rules.add(a,r[a],n({},this.options,{parent:this,selector:a}));this.rules.process()}return i(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t&&(t+="\n"),this.key+" {\n"+t+"}"}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(20));var a=function(){function e(t,r,i){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=i,this.rules=new o.default(n({},i,{parent:this})),r)this.rules.add(a,r[a]);this.rules.process()}return i(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"addRule",value:function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(29));var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=n}return n(e,[{key:"toString",value:function(e){if(Array.isArray(this.style)){for(var t="",r=0;r<this.style.length;r++)t+=(0,i.default)(this.key,this.style[r]),this.style[r+1]&&(t+="\n");return t}return(0,i.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(29));var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=n}return n(e,[{key:"toString",value:function(e){return(0,i.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(18)),i=a(r(24)),o=a(r(52));function a(e){return e&&e.__esModule?e:{default:e}}t.default={onCreateRule:function(e,t,r){if(!(0,o.default)(t))return null;var n=t,a=(0,i.default)(e,{},r);return n.subscribe((function(e){for(var t in e)a.prop(t,e[t])})),a},onProcessRule:function(e){if(e instanceof n.default){var t=e,r=t.style,i=function(e){var n=r[e];if(!(0,o.default)(n))return"continue";delete r[e],n.subscribe({next:function(r){t.prop(e,r)}})};for(var a in r)i(a)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(20)),i=a(r(18)),o=a(r(24));function a(e){return e&&e.__esModule?e:{default:e}}var s=Date.now(),l="fnValues"+s,c="fnStyle"+ ++s;t.default={onCreateRule:function(e,t,r){if("function"!=typeof t)return null;var n=(0,o.default)(e,{},r);return n[c]=t,n},onProcessStyle:function(e,t){var r={};for(var n in e){var i=e[n];"function"==typeof i&&(delete e[n],r[n]=i)}return(t=t)[l]=r,e},onUpdate:function(e,t){if(t.rules instanceof n.default)t.rules.update(e);else if(t instanceof i.default){if((t=t)[l])for(var r in t[l])t.prop(r,t[l][r](e));var o=(t=t)[c];if(o){var a=o(e);for(var s in a)t.prop(s,a[s])}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(17)),o=l(r(31)),a=l(r(18)),s=l(r(23));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=void 0;return function(){return t||(t=e()),t}};function u(e,t){try{return e.style.getPropertyValue(t)}catch(e){return""}}function h(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=(0,s.default)(r,!0),"!important"===r[r.length-1]))return e.style.setProperty(t,n,"important"),!0;e.style.setProperty(t,n)}catch(e){return!1}return!0}function d(e,t){try{e.style.removeProperty(t)}catch(e){(0,i.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',e.message,t)}}var p=1,f=7,m=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.substr(t,e.indexOf("{")-1)};return function(t){if(t.type===p)return t.selectorText;if(t.type===f){var r=t.name;if(r)return"@keyframes "+r;var n=t.cssText;return"@"+e(n,n.indexOf("keyframes"))}return e(t.cssText)}}();function g(e,t){return e.selectorText=t,e.selectorText===t}var _=c((function(){return document.head||document.getElementsByTagName("head")[0]})),y=function(){var e=void 0,t=!1;return function(r){var n={};e||(e=document.createElement("style"));for(var i=0;i<r.length;i++){var o=r[i];if(o instanceof a.default){var s=o.selector;if(s&&-1!==s.indexOf("\\")){t||(_().appendChild(e),t=!0),e.textContent=s+" {}";var l=e.sheet;if(l){var c=l.cssRules;c&&(n[c[0].selectorText]=o.key)}}}}return t&&(_().removeChild(e),t=!1),n}}();function v(e){var t=o.default.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r)return r.renderer.element;if(r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))return r.renderer.element.nextElementSibling}var n=e.insertionPoint;if(n&&"string"==typeof n){var a=function(e){for(var t=_(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(a)return a.nextSibling;(0,i.default)("jss"===n,'[JSS] Insertion point "%s" not found.',n)}return null}var x=c((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPropertyValue=u,this.setProperty=h,this.removeProperty=d,this.setSelector=g,this.getKey=m,this.getUnescapedKeysMap=y,this.hasInsertedRules=!1,t&&o.default.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},n=r.media,i=r.meta,a=r.element;this.element=a||document.createElement("style"),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var s=x();s&&this.element.setAttribute("nonce",s)}return n(e,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function(e,t){var r=t.insertionPoint,n=v(t);if(n){var o=n.parentNode;o&&o.insertBefore(e,n)}else if(r&&"number"==typeof r.nodeType){var a=r,s=a.parentNode;s?s.insertBefore(e,a.nextSibling):(0,i.default)(!1,"[JSS] Insertion point is not in the DOM.")}else _().insertBefore(e,n)}(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(e,t){var r=this.element.sheet,n=r.cssRules,o=e.toString();if(t||(t=n.length),!o)return!1;try{r.insertRule(o,t)}catch(t){return(0,i.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",e),!1}return this.hasInsertedRules=!0,n[t]}},{key:"deleteRule",value:function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),!0)}},{key:"indexOf",value:function(e){for(var t=this.element.sheet.cssRules,r=0;r<t.length;r++)if(e===t[r])return r;return-1}},{key:"replaceRule",value:function(e,t){var r=this.indexOf(e),n=this.insertRule(t,r);return this.element.sheet.deleteRule(r),n}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),e}();t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"setProperty",value:function(){return!0}},{key:"getPropertyValue",value:function(){return""}},{key:"removeProperty",value:function(){}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){function e(e){return function(t,r){var n=e.getRule(r);return n?n.selector:((0,i.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",r,e.options.meta||e),r)}}var t=function(e){return-1!==e.indexOf("&")};function r(e,r){for(var n=r.split(o),i=e.split(o),s="",l=0;l<n.length;l++)for(var c=n[l],u=0;u<i.length;u++){var h=i[u];s&&(s+=", "),s+=t(h)?h.replace(a,c):c+" "+h}return s}function l(e,t,r){if(r)return n({},r,{index:r.index+1});var i=e.options.nestingLevel;return i=void 0===i?1:i+1,n({},e.options,{nestingLevel:i,index:t.indexOf(e)+1})}return{onProcessStyle:function(i,o){if("style"!==o.type)return i;var a=o.options.parent,c=void 0,u=void 0;for(var h in i){var d=t(h),p="@"===h[0];if(d||p){if(c=l(o,a,c),d){var f=r(h,o.selector);u||(u=e(a)),f=f.replace(s,u),a.addRule(f,i[h],n({},c,{selector:f}))}else p&&a.addRule(h,null,c).addRule(o.key,i[h],{selector:o.selector});delete i[h]}}return i}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(112));var o=/\s*,\s*/g,a=/&/g,s=/\$([\w-]+)/g},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=i(e[t]);return e}return i(e)},onChangeValue:function(e,t,r){var i=(0,n.default)(t);return t===i?e:(r.prop(i,e),null)}}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(114));function i(e){var t={};for(var r in e)t[(0,n.default)(r)]=e[r];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(i):t.fallbacks=i(e.fallbacks)),t}},function(e,t,r){"use strict";r.r(t);var n=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(n,a);return o[e]=i.test(t)?"-"+t:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){var t=/(-[a-z])/g,r=function(e){return e[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e);function r(e,r){if("style"!==r.type)return e;for(var n in e)e[n]=a(n,e[n],t);return e}function n(e,r){return a(r,e,t)}return{onProcessStyle:r,onChangeValue:n}};var o=i(function(e){return e&&e.__esModule?e:{default:e}}(r(116)).default);function a(e,t,r){if(!t)return t;var i=t,s=void 0===t?"undefined":n(t);switch("object"===s&&Array.isArray(t)&&(s="array"),s){case"object":if("fallbacks"===e){for(var l in t)t[l]=a(l,t[l],r);break}for(var c in t)t[c]=a(e+"-"+c,t[c],r);break;case"array":for(var u=0;u<t.length;u++)t[u]=a(e,t[u],r);break;case"number":0!==t&&(i=t+(r[e]||o[e]||""))}return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessRule:function(e){"keyframes"===e.type&&(e.key="@"+n.prefix.css+e.key.substr(1))},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var r in e){var i=e[r],o=!1,a=n.supportedProperty(r);a&&a!==r&&(o=!0);var s=!1,l=n.supportedValue(a,i);l&&l!==i&&(s=!0),(o||s)&&(o&&delete e[r],e[a||r]=l||i)}return e},onChangeValue:function(e,t){return n.supportedValue(t,e)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(118))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var n=a(r(32)),i=a(r(119)),o=a(r(121));function a(e){return e&&e.__esModule?e:{default:e}}t.default={prefix:n.default,supportedProperty:i.default,supportedValue:o.default},t.prefix=n.default,t.supportedProperty=i.default,t.supportedValue=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!s)return e;if(null!=l[e])return l[e];(0,o.default)(e)in s.style?l[e]=e:i.default.js+(0,o.default)("-"+e)in s.style?l[e]=i.default.css+e:l[e]=!1;return l[e]};var n=a(r(25)),i=a(r(32)),o=a(r(120));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0,l={};if(n.default){s=document.createElement("p");var c=window.getComputedStyle(document.documentElement,"");for(var u in c)isNaN(u)||(l[c[u]]=c[u])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,i)};var n=/[-\s]+(.)?/g;function i(e,t){return t?t.toUpperCase():""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!s)return t;if("string"!=typeof t||!isNaN(parseInt(t,10)))return t;var r=e+t;if(null!=a[r])return a[r];try{s.style[e]=t}catch(e){return a[r]=!1,!1}""!==s.style[e]?a[r]=t:("-ms-flex"===(t=i.default.css+t)&&(t="-ms-flexbox"),s.style[e]=t,""!==s.style[e]&&(a[r]=t));a[r]||(a[r]=!1);return s.style[e]="",a[r]};var n=o(r(25)),i=o(r(32));function o(e){return e&&e.__esModule?e:{default:e}}var a={},s=void 0;n.default&&(s=document.createElement("p"))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){return e.length-t.length}return{onProcessStyle:function(t,r){if("style"!==r.type)return t;var n={},i=Object.keys(t).sort(e);for(var o in i)n[i[o]]=t[i[o]];return n}}}},function(e,t,r){"use strict";var n=r(124),i=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuiThemeProviderOld=void 0;var o=i(r(2)),a=i(r(5)),s=i(r(10)),l=i(r(11)),c=i(r(12)),u=i(r(13)),h=i(r(14)),d=i(r(1)),p=i(r(3)),f=(i(r(6)),i(r(127))),m=r(7),g=n(r(34)),_=function(e){function t(e,r){var n;return(0,s.default)(this,t),(n=(0,c.default)(this,(0,u.default)(t).call(this))).broadcast=(0,f.default)(),n.outerTheme=g.default.initial(r),n.broadcast.setState(n.mergeOuterLocalTheme(e.theme)),n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"getChildContext",value:function(){var e,t=this.props,r=t.disableStylesGeneration,n=t.sheetsCache,i=t.sheetsManager,o=this.context.muiThemeProviderOptions||{};return void 0!==r&&(o.disableStylesGeneration=r),void 0!==n&&(o.sheetsCache=n),void 0!==i&&(o.sheetsManager=i),e={},(0,a.default)(e,g.CHANNEL,this.broadcast),(0,a.default)(e,"muiThemeProviderOptions",o),e}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.outerTheme=t,e.broadcast.setState(e.mergeOuterLocalTheme(e.props.theme))}))}},{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function(e){return"function"==typeof e?e(this.outerTheme):this.outerTheme?(0,o.default)({},this.outerTheme,e):e}},{key:"render",value:function(){return this.props.children}}]),t}(d.default.Component);t.MuiThemeProviderOld=_,_.childContextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),_.contextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider||(m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider=_);var y=m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider;t.default=y},function(e,t,r){var n=r(15).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(126);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t={},r=1,n=e;return{getState:function(){return n},setState:function(e){n=e;for(var r=Object.keys(t),i=0,o=r.length;i<o;i++)t[r[i]]&&t[r[i]](e)},subscribe:function(e){if("function"!=typeof e)throw new Error("listener must be a function.");var n=r;return t[n]=e,r+=1,n},unsubscribe:function(e){delete t[e]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={jss:"64a55d578f856d258dc345b094a2a2b3",sheetsRegistry:"d4bd0baacbc52bbd48bbb9eb24344ecd",sheetOptions:"6fc570d6bd61383819d0f9e7407c452d"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2));n(r(6)),r(7);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,r=e.newClasses;if(e.Component,!r)return t;var n=(0,i.default)({},t);return Object.keys(r).forEach((function(e){r[e]&&(n[e]="".concat(t[e]," ").concat(r[e]))})),n};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={set:function(e,t,r,n){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:function(e,t,r){var n=e.get(t);return n?n.get(r):void 0},delete:function(e,t,r){e.get(t).delete(r)}};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2)),o=(n(r(15)),n(r(6)),n(r(22)));function a(e,t){return t}var s=function(e){var t="function"==typeof e;return{create:function(r,n){var s=t?e(r):e;if(!n||!r.overrides||!r.overrides[n])return s;var l=r.overrides[n],c=(0,i.default)({},s);return Object.keys(l).forEach((function(e){c[e]=(0,o.default)(c[e],l[e],{arrayMerge:a})})),c},options:{},themingEnabled:t}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e.theme,r=e.name,n=e.props;if(!t.props||!r||!t.props[r])return n;var i,o=t.props[r];for(i in o)void 0===n[i]&&(n[i]=o[i]);return n};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(r(2)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(35))),f=r(7),m=n(r(28)),g=n(r(34));function _(){return i||(i=(0,m.default)({typography:{suppressWarning:!0}}))}f.ponyfillGlobal.__MUI_STYLES__||(f.ponyfillGlobal.__MUI_STYLES__={}),f.ponyfillGlobal.__MUI_STYLES__.withTheme||(f.ponyfillGlobal.__MUI_STYLES__.withTheme=function(){return function(e){var t=function(t){function r(e,t){var n;return(0,s.default)(this,r),(n=(0,c.default)(this,(0,u.default)(r).call(this))).state={theme:g.default.initial(t)||_()},n}return(0,h.default)(r,t),(0,l.default)(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.setState({theme:t})}))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function(){var t=this.props,r=t.innerRef,n=(0,a.default)(t,["innerRef"]);return d.default.createElement(e,(0,o.default)({theme:this.state.theme,ref:r},n))}}]),r}(d.default.Component);return t.contextTypes=g.default.contextTypes,(0,p.default)(t,e),t}});var y=f.ponyfillGlobal.__MUI_STYLES__.withTheme;t.default=y},,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(9))),u=r(16),h=function(e){return{root:{display:"block",margin:0},display4:e.typography.display4,display3:e.typography.display3,display2:e.typography.display2,display1:e.typography.display1,headline:e.typography.headline,title:e.typography.title,subheading:e.typography.subheading,body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},inline:{display:"inline"}}};t.styles=h;var d={display4:"h1",display3:"h2",display2:"h3",display1:"h4",headline:"h5",title:"h6",subheading:"subtitle1"};var p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3"};function f(e){var t,r=e.align,n=e.classes,c=e.className,h=e.color,f=e.component,m=e.gutterBottom,g=e.headlineMapping,_=e.inline,y=(e.internalDeprecatedVariant,e.noWrap),v=e.paragraph,x=e.theme,b=e.variant,w=(0,a.default)(e,["align","classes","className","color","component","gutterBottom","headlineMapping","inline","internalDeprecatedVariant","noWrap","paragraph","theme","variant"]),T=function(e,t){var r=e.typography,n=t;return n||(n=r.useNextVariants?"body2":"body1"),r.useNextVariants&&(n=d[n]||n),n}(x,b),E=(0,l.default)(n.root,(t={},(0,o.default)(t,n[T],"inherit"!==T),(0,o.default)(t,n["color".concat((0,u.capitalize)(h))],"default"!==h),(0,o.default)(t,n.noWrap,y),(0,o.default)(t,n.gutterBottom,m),(0,o.default)(t,n.paragraph,v),(0,o.default)(t,n["align".concat((0,u.capitalize)(r))],"inherit"!==r),(0,o.default)(t,n.inline,_),t),c),S=f||(v?"p":g[T]||p[T])||"span";return s.default.createElement(S,(0,i.default)({className:E},w))}f.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:p,inline:!1,noWrap:!1,paragraph:!1};var m=(0,c.default)(h,{name:"MuiTypography",withTheme:!0})(f);t.default=m},,,,function(e,t,r){(function(t){!function(r,n){e.exports=function(){"use strict";var e,r,n;function i(t,i){if(e)if(r){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",a={};e(a),n=i(a),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else r=i;else e=i}return i(["exports"],(function(e){"use strict";var r="undefined"!=typeof self?self:{},n="2.11.1";let i;const o={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==i){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{i=null!=t.env.API_URL_REGEX?new RegExp(t.env.API_URL_REGEX):e}catch(t){i=e}}return i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},a={supported:!1,testSupport:function(e){!c&&l&&(u?h(e):s=e)}};let s,l,c=!1,u=!1;function h(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.isContextLost())return;a.supported=!0}catch(e){}e.deleteTexture(t),c=!0}r.document&&(l=r.document.createElement("img"),l.onload=function(){s&&h(s),s=null,u=!0},l.onerror=function(){c=!0,s=null},l.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const d="01";var p=f;function f(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}f.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var i=this.sampleCurveX(r)-e;if(Math.abs(i)<t)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r-=i/o}var a=0,s=1;for(r=e,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-e)<t));n++)e>i?a=r:s=r,r=.5*(s-a)+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=g;function g(e,t){this.x=e,this.y=t}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(e){return e instanceof g?e:Array.isArray(e)?new g(e[0],e[1]):e};const _=Math.PI/180,y=180/Math.PI;function v(e){return e*_}function x(e){return e*y}const b=[[0,0],[1,0],[1,1],[0,1]];function w(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}function T(e,t,r,n){const i=new p(e,t,r,n);return function(e){return i.solve(e)}}const E=T(.25,.1,.25,1);function S(e,t,r){return Math.min(r,Math.max(t,e))}function C(e,t,r){return(r=S((r-e)/(t-e),0,1))*r*(3-2*r)}function M(e,t,r){const n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function k(e,t,r){if(!e.length)return r(null,[]);let n=e.length;const i=new Array(e.length);let o=null;e.forEach((e,a)=>{t(e,(e,t)=>{e&&(o=e),i[a]=t,0==--n&&r(o,i)})})}function A(e){const t=[];for(const r in e)t.push(e[r]);return t}function I(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}let P=1;function z(){return P++}function D(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function R(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function L(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function O(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function B(e,t){return-1!==e.indexOf(t,e.length-t.length)}function F(e,t,r){const n={};for(const i in e)n[i]=t.call(r||this,e[i],i,e);return n}function j(e,t,r){const n={};for(const i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function U(e){return Array.isArray(e)?e.map(U):"object"==typeof e&&e?F(e,U):e}const N={};function V(e){N[e]||("undefined"!=typeof console&&console.warn(e),N[e]=!0)}function G(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function q(e){let t=0;for(let r,n,i=0,o=e.length,a=o-1;i<o;a=i++)r=e[i],n=e[a],t+=(n.x-r.x)*(r.y+n.y);return t}function Z(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function $(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,r,n,i)=>{const o=n||i;return t[r]=!o||o.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let W=null;function X(e){if(null==W){const t=e.navigator?e.navigator.userAgent:null;W=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return W}function H(e){try{const t=r[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function Y(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}const K="mapbox-tiles";let J,Q,ee=500,te=50;function re(){try{return r.caches}catch(e){}}function ne(){re()&&!J&&(J=r.caches.open(K))}function ie(e){const t=e.indexOf("?");if(t<0)return e;const r=function(e){const t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e).filter(e=>{const t=e.split("=");return"language"===t[0]||"worldview"===t[0]});return r.length?`${e.slice(0,t)}?${r.join("&")}`:e.slice(0,t)}let oe=1/0;const ae={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ae);class se extends Error{constructor(e,t,r){401===t&&ye(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=r}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const le=Z()?()=>self.worker&&self.worker.referrer:()=>("blob:"===r.location.protocol?r.parent:r).location.href,ce=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(le())&&!/^\w+:/.test(n))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return function(e,t){const n=new r.AbortController,i=new r.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:le(),signal:n.signal});let o=!1,a=!1;const s=(l=i.url).indexOf("sku=")>0&&ye(l);var l;"json"===e.type&&i.headers.set("Accept","application/json");const c=(n,o,l)=>{if(a)return;if(n&&"SecurityError"!==n.message&&V(n),o&&l)return u(o);const c=Date.now();r.fetch(i).then(r=>{if(r.ok){const e=s?r.clone():null;return u(r,e,c)}return t(new se(r.statusText,r.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},u=(n,s,l)=>{("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then(e=>{a||(s&&l&&function(e,t,n){if(ne(),!J)return;const i={status:t.status,statusText:t.statusText,headers:new r.Headers};t.headers.forEach((e,t)=>i.headers.set(t,e));const o=$(t.headers.get("Cache-Control")||"");if(o["no-store"])return;o["max-age"]&&i.headers.set("Expires",new Date(n+1e3*o["max-age"]).toUTCString());const a=i.headers.get("Expires");a&&(new Date(a).getTime()-n<42e4||function(e,t){if(void 0===Q)try{new Response(new ReadableStream),Q=!0}catch(e){Q=!1}Q?t(e.body):e.blob().then(t)}(t,t=>{const n=new r.Response(t,i);ne(),J&&J.then(t=>t.put(ie(e.url),n)).catch(e=>V(e.message))}))}(i,s,l),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))}).catch(e=>{a||t(new Error(e.message))})};return s?function(e,t){if(ne(),!J)return t(null);const r=ie(e.url);J.then(e=>{e.match(r).then(n=>{const i=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),r=$(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),i&&e.put(r,n.clone()),t(null,n,i)}).catch(t)}).catch(t)}(i,c):c(null,null),{cancel:()=>{a=!0,o||n.abort()}}}(e,t);if(Z()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new r.XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer");for(const t in e.headers)n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new se(n.statusText,n.status,e.url))},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},ue=function(e,t){return ce(I(e,{type:"arrayBuffer"}),t)};function he(e){const t=r.document.createElement("a");return t.href=e,t.protocol===r.document.location.protocol&&t.host===r.document.location.host}const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pe,fe;pe=[],fe=0;const me=function(e,t){if(a.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),fe>=o.MAX_PARALLEL_IMAGE_REQUESTS){const r={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return pe.push(r),r}fe++;let n=!1;const i=()=>{if(!n)for(n=!0,fe--;pe.length&&fe<o.MAX_PARALLEL_IMAGE_REQUESTS;){const e=pe.shift(),{requestParameters:t,callback:r,cancelled:n}=e;n||(e.cancel=me(t,r).cancel)}},s=ue(e,(e,n,o,a)=>{i(),e?t(e):n&&(r.createImageBitmap?function(e,t){const n=new r.Blob([new Uint8Array(e)],{type:"image/png"});r.createImageBitmap(n).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(n,(e,r)=>t(e,r,o,a)):function(e,t){const n=new r.Image,i=r.URL;n.onload=()=>{t(null,n),i.revokeObjectURL(n.src),n.onload=null,r.requestAnimationFrame(()=>{n.src=de})},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new r.Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?i.createObjectURL(o):de}(n,(e,r)=>t(e,r,o,a)))});return{cancel:()=>{s.cancel(),i()}}},ge="NO_ACCESS_TOKEN";function _e(e){return 0===e.indexOf("mapbox:")}function ye(e){return o.API_URL_REGEX.test(e)}function ve(e){return o.API_STYLE_REGEX.test(e)&&!xe(e)}function xe(e){return o.API_SPRITE_REGEX.test(e)}const be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function we(e){const t=e.match(be);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Te(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function Ee(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(r.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class Se{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=Ee(o.ACCESS_TOKEN);let n="";return n=t&&t.u?r.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):o.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${n}`:"mapbox.eventData:"+n}fetchEventData(){const e=H("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{const e=r.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const i=r.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){V("Unable to read from LocalStorage")}}saveEventData(){const e=H("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{r.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){V("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,r,n){if(!o.EVENTS_URL)return;const i=we(o.EVENTS_URL);i.params.push("access_token="+(n||o.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString()},s=t?I(a,t):a,l={url:Te(i),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return ce(I(e,{method:"POST"}),t)}(l,e=>{this.pendingRequest=null,r(e),this.saveEventData(),this.processRequests(n)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const Ce=new class extends Se{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){o.EVENTS_URL&&o.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>_e(e)||ye(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Ee(o.ACCESS_TOKEN),r=t?t.u:o.ACCESS_TOKEN;let i=r!==this.eventData.tokenU;L(this.anonId)||(this.anonId=D(),i=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(a),r=(a-this.eventData.lastSuccess)/864e5;i=i||r>=1||r<-1||e.getDate()!==t.getDate()}else i=!0;i?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:d,"enabled.telemetry":!1,userId:this.anonId},e=>{e||(this.eventData.lastSuccess=a,this.eventData.tokenU=r)},e):this.processRequests()}},Me=Ce.postTurnstileEvent.bind(Ce),ke=new class extends Se{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,r,n){this.skuToken=t,this.errorCb=n,o.EVENTS_URL&&(r||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},r):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),L(this.anonId)||(this.anonId=D()),this.postEvent(r,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:d,skuToken:this.skuToken,userId:this.anonId},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},Ae=ke.postMapLoadEvent.bind(ke),Ie=new class extends Se{constructor(){super("gljs.performance")}postPerformanceEvent(e,t){o.EVENTS_URL&&(e||o.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:t,performanceData:i}=this.queue.shift(),o=function(e){const t=r.performance.getEntriesByType("resource"),i=r.performance.getEntriesByType("mark"),o=function(e){const t={};if(e)for(const r in e)if("other"!==r)for(const n of e[r]){const e=r+"RequestCount",i=r+"ResolveRangeMin",o=r+"ResolveRangeMax";t[i]=Math.min(t[i]||1/0,n.startTime),t[o]=Math.max(t[o]||-1/0,n.responseEnd),void 0===t[e]&&(t[e]=0),++t[e]}return t}(function(e,t){const r={};if(e)for(const n of e){const e=t(n);void 0===r[e]&&(r[e]=[]),r[e].push(n)}return r}(t,Be)),a=r.devicePixelRatio,s=r.navigator.connection||r.navigator.mozConnection||r.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,r)=>{null!=r&&e.push({name:t,value:r.toString()})};for(const e in o)c(l.counters,e,o[e]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,"interactionRangeMin",e.interactionRange[0]),c(l.counters,"interactionRangeMax",e.interactionRange[1])),i)for(const e of Object.keys(Le)){const t=Le[e],r=i.find(e=>e.name===t);r&&c(l.counters,t,r.startTime)}return c(l.counters,"visibilityHidden",e.visibilityHidden),c(l.attributes,"style",function(e){if(e)for(const t of e){const e=t.name.split("?")[0];if(ve(e)){const t=e.split("/").slice(-2);if(2===t.length)return`mapbox://styles/${t[0]}/${t[1]}`}}}(t)),c(l.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),c(l.attributes,"fogEnabled",e.fogEnabled?"true":"false"),c(l.attributes,"projection",e.projection.name),c(l.attributes,"zoom",e.zoom),c(l.metadata,"devicePixelRatio",a),c(l.metadata,"connectionEffectiveType",s?s.effectiveType:void 0),c(l.metadata,"navigatorUserAgent",r.navigator.userAgent),c(l.metadata,"screenWidth",r.screen.width),c(l.metadata,"screenHeight",r.screen.height),c(l.metadata,"windowWidth",r.innerWidth),c(l.metadata,"windowHeight",r.innerHeight),c(l.metadata,"mapWidth",e.width/a),c(l.metadata,"mapHeight",e.height/a),c(l.metadata,"webglRenderer",e.renderer),c(l.metadata,"webglVendor",e.vendor),c(l.metadata,"sdkVersion",n),c(l.metadata,"sdkIdentifier","mapbox-gl-js"),l}(i);for(const e of o.metadata);for(const e of o.counters);for(const e of o.attributes);this.postEvent(t,o,()=>{},e)}},Pe=Ie.postPerformanceEvent.bind(Ie),ze=new class extends Se{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,r,n){if(!o.API_URL||!o.SESSION_PATH)return;const i=we(o.API_URL+o.SESSION_PATH);i.params.push("sku="+(t||"")),i.params.push("access_token="+(n||o.ACCESS_TOKEN||""));const a={url:Te(i),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return ce(I(e,{method:"GET"}),t)}(a,e=>{this.pendingRequest=null,r(e),this.saveEventData(),this.processRequests(n)})}getSessionAPI(e,t,r,n){this.skuToken=t,this.errorCb=n,o.SESSION_PATH&&o.API_URL&&(r||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},r):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||this.getSession(r,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},De=ze.getSessionAPI.bind(ze),Re=new Set,Le={create:"create",load:"load",fullLoad:"fullLoad"},Oe={mark(e){r.performance.mark(e)},measure(e,t,n){r.performance.measure(e,t,n)}};function Be(e){const t=e.name.split("?")[0];return t.includes("mapbox-gl.js")?"javascript":t.includes("mapbox-gl.css")?"css":function(e){return o.API_FONTS_REGEX.test(e)}(t)?"fontRange":xe(t)?"sprite":ve(t)?"style":function(e){return o.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}const Fe=r.performance;function je(e){const t=e?e.url.toString():void 0;return Fe.getEntriesByName(t)}let Ue,Ne,Ve,Ge;const qe={now:()=>void 0!==Ve?Ve:r.performance.now(),setNow(e){Ve=e},restoreNow(){Ve=void 0},frame(e){const t=r.requestAnimationFrame(e);return{cancel:()=>r.cancelAnimationFrame(t)}},getImageData(e,t=0){const{width:n,height:i}=e;Ge||(Ge=r.document.createElement("canvas"));const o=Ge.getContext("2d");if(!o)throw new Error("failed to create canvas 2d context");return(n>Ge.width||i>Ge.height)&&(Ge.width=n,Ge.height=i),o.clearRect(-t,-t,n+2*t,i+2*t),o.drawImage(e,0,0,n,i),o.getImageData(-t,-t,n+2*t,i+2*t)},resolveURL:e=>(Ue||(Ue=r.document.createElement("a")),Ue.href=e,Ue.href),get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(null==Ne&&(Ne=r.matchMedia("(prefers-reduced-motion: reduce)")),Ne.matches)}};function Ze(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function $e(e,t,r){if(r&&r[e]){const n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}class We{constructor(e,t={}){I(this,t),this.type=e}}class Xe extends We{constructor(e,t={}){super("error",I({error:e},t))}}class He{on(e,t){return this._listeners=this._listeners||{},Ze(e,t,this._listeners),this}off(e,t){return $e(e,t,this._listeners),$e(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new We(e,t||{}));const r=e.type;if(this.listens(r)){e.target=this;const t=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of t)r.call(this,e);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const t of n)$e(r,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(I(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof Xe&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Ye=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Ke(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}function Je(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Qe(e){if(Array.isArray(e))return e.map(Qe);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const r in e)t[r]=Qe(e[r]);return t}return Je(e)}class et extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var tt=et;class rt{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,r]of t)this.bindings[e]=r}concat(e){return new rt(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var nt=rt;const it={kind:"null"},ot={kind:"number"},at={kind:"string"},st={kind:"boolean"},lt={kind:"color"},ct={kind:"object"},ut={kind:"value"},ht={kind:"collator"},dt={kind:"formatted"},pt={kind:"resolvedImage"};function ft(e,t){return{kind:"array",itemType:e,N:t}}function mt(e){if("array"===e.kind){const t=mt(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const gt=[it,ot,at,st,lt,dt,ct,ft(ut),pt];function _t(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!_t(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of gt)if(!_t(e,t))return null}return`Expected ${mt(e)} but found ${mt(t)} instead.`}function yt(e,t){return t.some(t=>t.kind===e.kind)}function vt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}var xt,bt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Tt(e){return wt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Et(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function St(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{xt={}.parseCSSColor=function(e){var t,r=e.replace(/ /g,"").toLowerCase();if(r in bt)return bt[r].slice();if("#"===r[0])return 4===r.length?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===r.length&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var n=r.indexOf("("),i=r.indexOf(")");if(-1!==n&&i+1===r.length){var o=r.substr(0,n),a=r.substr(n+1,i-(n+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=Et(a.pop());case"rgb":return 3!==a.length?null:[Tt(a[0]),Tt(a[1]),Tt(a[2]),s];case"hsla":if(4!==a.length)return null;s=Et(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Et(a[1]),u=Et(a[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[wt(255*St(d,h,l+1/3)),wt(255*St(d,h,l)),wt(255*St(d,h,l-1/3)),s];default:return null}}return null}}catch(e){}class Ct{constructor(e,t,r,n=1){this.r=e,this.g=t,this.b=r,this.a=n}static parse(e){if(!e)return;if(e instanceof Ct)return e;if("string"!=typeof e)return;const t=xt(e);return t?new Ct(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,r,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${n})`}toArray(){const{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]}toArray01(){const{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[e/n,t/n,r/n,n]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:r,a:n}=this;return[e,t,r,n]}}Ct.black=new Ct(0,0,0,1),Ct.white=new Ct(1,1,1,1),Ct.transparent=new Ct(0,0,0,0),Ct.red=new Ct(1,0,0,1),Ct.blue=new Ct(0,0,1,1);var Mt=Ct;class kt{constructor(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class At{constructor(e,t,r,n,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i}}class It{constructor(e){this.sections=e}static fromString(e){return new It([new At(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof It?e:It.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(r)}return e}}class Pt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Pt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function zt(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Dt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Mt)return!0;if(e instanceof kt)return!0;if(e instanceof It)return!0;if(e instanceof Pt)return!0;if(Array.isArray(e)){for(const t of e)if(!Dt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Dt(e[t]))return!1;return!0}return!1}function Rt(e){if(null===e)return it;if("string"==typeof e)return at;if("boolean"==typeof e)return st;if("number"==typeof e)return ot;if(e instanceof Mt)return lt;if(e instanceof kt)return ht;if(e instanceof It)return dt;if(e instanceof Pt)return pt;if(Array.isArray(e)){const t=e.length;let r;for(const t of e){const e=Rt(t);if(r){if(r===e)continue;r=ut;break}r=e}return ft(r||ut,t)}return ct}function Lt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Mt||e instanceof It||e instanceof Pt?e.toString():JSON.stringify(e)}class Ot{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Dt(e[1]))return t.error("invalid value");const r=e[1];let n=Rt(r);const i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new Ot(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Mt?["rgba"].concat(this.value.toArray()):this.value instanceof It?this.value.serialize():this.value}}var Bt=Ot,Ft=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const jt={string:at,number:ot,boolean:st,object:ct};class Ut{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r,n=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const r=e[1];if("string"!=typeof r||!(r in jt)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=jt[r],n++}else i=ut;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=ft(i,o)}else r=jt[i];const o=[];for(;n<e.length;n++){const r=t.parse(e[n],n,ut);if(!r)return null;o.push(r)}return new Ut(r,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(!_t(this.type,Rt(r)))return r;if(t===this.args.length-1)throw new Ft(`Expected value to be of type ${mt(this.type)}, but found ${mt(Rt(r))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);const n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}var Nt=Ut;class Vt{constructor(e){this.type=dt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");const n=[];let i=!1;for(let r=1;r<=e.length-1;++r){const o=e[r];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,ot),!e))return null;let r=null;if(o["text-font"]&&(r=t.parse(o["text-font"],1,ft(at)),!r))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,lt),!a))return null;const s=n[n.length-1];s.scale=e,s.font=r,s.textColor=a}else{const o=t.parse(e[r],1,ut);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:o,scale:null,font:null,textColor:null})}}return new Vt(n)}evaluate(e){return new It(this.sections.map(t=>{const r=t.content.evaluate(e);return Rt(r)===pt?new At("",r,null,null,null):new At(Lt(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),e.push(r)}return e}}class Gt{constructor(e){this.type=pt,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,at);return r?new Gt(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=Pt.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const qt={"to-boolean":st,"to-color":lt,"to-number":ot,"to-string":at};class Zt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");const n=qt[r],i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],r,ut);if(!n)return null;i.push(n)}return new Zt(n,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,r;for(const n of this.args){if(t=n.evaluate(e),r=null,t instanceof Mt)return t;if("string"==typeof t){const r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&(r=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:zt(t[0],t[1],t[2],t[3]),!r))return new Mt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ft(r||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const r of this.args){if(t=r.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new Ft(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?It.fromString(Lt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Pt.fromString(Lt(this.args[0].evaluate(e))):Lt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Vt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Gt(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}var $t=Zt;const Wt=["Unknown","Point","LineString","Polygon"];var Xt=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Wt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*t-e[0])+this.featureDistanceData.bearing[1]*(n*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Mt.parse(e)),t}};class Ht{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const r=e[0],n=Ht.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,o=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[n,o]of a){s=new wr(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const r=e[t],i=Array.isArray(n)?n[t-1]:n.type,o=s.parse(r,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(n)&&n.length!==a.length)s.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(n)?n[e]:n.type,r=a[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new Ht(r,i,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const r=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(mt).join(", ")})`:`(${mt(t.type)}...)`;var t}).join(" | "),n=[];for(let r=1;r<e.length;r++){const i=t.parse(e[r],1+n.length);if(!i)return null;n.push(mt(i.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){Ht.definitions=t;for(const r in t)e[r]=Ht}}var Yt=Ht;class Kt{constructor(e,t,r){this.type=ht,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,st);if(!n)return null;const i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,st);if(!i)return null;let o=null;return r.locale&&(o=t.parse(r.locale,1,at),!o)?null:new Kt(n,i,o)}evaluate(e){return new kt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Jt=8192;function Qt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function er(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function tr(e,t){const r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*Jt),Math.round(n*i*Jt)]}function rr(e,t,r){const n=e[0]-t[0],i=e[1]-t[1],o=e[0]-r[0],a=e[1]-r[1];return n*a-o*i==0&&n*o<=0&&i*a<=0}function nr(e,t){let r=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(rr(e,s[t],s[t+1]))return!1;(i=s[t])[1]>(n=e)[1]!=(o=s[t+1])[1]>n[1]&&n[0]<(o[0]-i[0])*(n[1]-i[1])/(o[1]-i[1])+i[0]&&(r=!r)}}var n,i,o;return r}function ir(e,t){for(let r=0;r<t.length;r++)if(nr(e,t[r]))return!0;return!1}function or(e,t,r,n){const i=n[0]-r[0],o=n[1]-r[1],a=(e[0]-r[0])*o-i*(e[1]-r[1]),s=(t[0]-r[0])*o-i*(t[1]-r[1]);return a>0&&s<0||a<0&&s>0}function ar(e,t,r){for(const c of r)for(let r=0;r<c.length-1;++r)if(0!=(s=[(a=c[r+1])[0]-(o=c[r])[0],a[1]-o[1]])[0]*(l=[(i=t)[0]-(n=e)[0],i[1]-n[1]])[1]-s[1]*l[0]&&or(n,i,o,a)&&or(o,a,n,i))return!0;var n,i,o,a,s,l;return!1}function sr(e,t){for(let r=0;r<e.length;++r)if(!nr(e[r],t))return!1;for(let r=0;r<e.length-1;++r)if(ar(e[r],e[r+1],t))return!1;return!0}function lr(e,t){for(let r=0;r<t.length;r++)if(sr(e,t[r]))return!0;return!1}function cr(e,t,r){const n=[];for(let i=0;i<e.length;i++){const o=[];for(let n=0;n<e[i].length;n++){const a=tr(e[i][n],r);Qt(t,a),o.push(a)}n.push(o)}return n}function ur(e,t,r){const n=[];for(let i=0;i<e.length;i++){const o=cr(e[i],t,r);n.push(o)}return n}function hr(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){const t=.5*n;let i=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===i&&(i=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=i}Qt(t,e)}function dr(e,t,r,n){const i=Math.pow(2,n.z)*Jt,o=[n.x*Jt,n.y*Jt],a=[];if(!e)return a;for(const n of e)for(const e of n){const n=[e.x+o[0],e.y+o[1]];hr(n,t,r,i),a.push(n)}return a}function pr(e,t,r,n){const i=Math.pow(2,n.z)*Jt,o=[n.x*Jt,n.y*Jt],a=[];if(!e)return a;for(const r of e){const e=[];for(const n of r){const r=[n.x+o[0],n.y+o[1]];Qt(t,r),e.push(r)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const n of e)hr(n,t,r,i)}var s;return a}class fr{constructor(e,t){this.type=st,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Dt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const r=t.features[e].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new fr(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new fr(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new fr(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){const o=cr(t.coordinates,n,i),a=dr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!nr(e,o))return!1}if("MultiPolygon"===t.type){const o=ur(t.coordinates,n,i),a=dr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!ir(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){const o=cr(t.coordinates,n,i),a=pr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!sr(e,o))return!1}if("MultiPolygon"===t.type){const o=ur(t.coordinates,n,i),a=pr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!lr(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var mr=fr;function gr(e){if(e instanceof Yt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof mr)return!1;let t=!0;return e.eachChild(e=>{t&&!gr(e)&&(t=!1)}),t}function _r(e){if(e instanceof Yt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!_r(e)&&(t=!1)}),t}function yr(e,t){if(e instanceof Yt&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild(e=>{r&&!yr(e,t)&&(r=!1)}),r}class vr{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new vr(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var xr=vr;class br{constructor(e,t=[],r,n=new nt,i=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=i,this.expectedType=r}parse(e,t,r,n,i={}){return t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new Nt(t,[e]):"coerce"===r?new $t(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,i=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else n=r(n,e,t.typeAnnotation||"coerce");else n=r(n,e,t.typeAnnotation||"assert")}if(!(n instanceof Bt)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof xr)return e(t.boundExpression);if(t instanceof Yt&&"error"===t.name)return!1;if(t instanceof Kt)return!1;if(t instanceof mr)return!1;const r=t instanceof $t||t instanceof Nt;let n=!0;return t.eachChild(t=>{n=r?n&&e(t):n&&t instanceof Bt}),!!n&&gr(t)&&yr(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(n)){const t=new Xt;try{n=new Bt(n.type,n.evaluate(t))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new br(this.registry,n,t||null,i,this.errors)}error(e,...t){const r=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new tt(r,e))}checkSubtype(e,t){const r=_t(e,t);return r&&this.error(r),r}}var wr=br;function Tr(e,t){const r=e.length-1;let n,i,o=0,a=r,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),n=e[s],i=e[s+1],n<=t){if(s===r||t<i)return s;o=s+1}else{if(!(n>t))throw new Ft("Input is not a number.");a=s-1}return 0}class Er{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,ot);if(!r)return null;const n=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){const o=1===r?-1/0:e[r],a=e[r+1],s=r,l=r+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,i);if(!c)return null;i=i||c.type,n.push([o,c])}return new Er(i,r,n)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Tr(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Sr=Er;function Cr(e,t,r){return e*(1-r)+t*r}var Mr=Object.freeze({__proto__:null,number:Cr,color:function(e,t,r){return new Mt(Cr(e.r,t.r,r),Cr(e.g,t.g,r),Cr(e.b,t.b,r),Cr(e.a,t.a,r))},array:function(e,t,r){return e.map((e,n)=>Cr(e,t[n],r))}});const kr=6/29*3*(6/29),Ar=Math.PI/180,Ir=180/Math.PI;function Pr(e){return e>.008856451679035631?Math.pow(e,1/3):e/kr+4/29}function zr(e){return e>6/29?e*e*e:kr*(e-4/29)}function Dr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Rr(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Lr(e){const t=Rr(e.r),r=Rr(e.g),n=Rr(e.b),i=Pr((.4124564*t+.3575761*r+.1804375*n)/.95047),o=Pr((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Pr((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function Or(e){let t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*zr(t),r=.95047*zr(r),n=1.08883*zr(n),new Mt(Dr(3.2404542*r-1.5371385*t-.4985314*n),Dr(-.969266*r+1.8760108*t+.041556*n),Dr(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function Br(e,t,r){const n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Fr={forward:Lr,reverse:Or,interpolate:function(e,t,r){return{l:Cr(e.l,t.l,r),a:Cr(e.a,t.a,r),b:Cr(e.b,t.b,r),alpha:Cr(e.alpha,t.alpha,r)}}},jr={forward:function(e){const{l:t,a:r,b:n}=Lr(e),i=Math.atan2(n,r)*Ir;return{h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Ar,r=e.c;return Or({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:Br(e.h,t.h,r),c:Cr(e.c,t.c,r),l:Cr(e.l,t.l,r),alpha:Cr(e.alpha,t.alpha,r)}}};var Ur=Object.freeze({__proto__:null,lab:Fr,hcl:jr});class Nr{constructor(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,r,n){let i=0;if("exponential"===e.name)i=Vr(t,e.base,r,n);else if("linear"===e.name)i=Vr(t,1,r,n);else if("cubic-bezier"===e.name){const o=e.controlPoints;i=new p(o[0],o[1],o[2],o[3]).solve(Vr(t,1,r,n))}return i}static parse(e,t){let[r,n,i,...o]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);{const e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,ot),!i)return null;const a=[];let s=null;"interpolate-hcl"===r||"interpolate-lab"===r?s=lt:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const r=o[e],n=o[e+1],i=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(n,l,s);if(!c)return null;s=s||c.type,a.push([r,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Nr(s,r,n,i,a):t.error(`Type ${mt(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);const o=Tr(t,n),a=Nr.interpolationFactor(this.interpolation,n,t[o],t[o+1]),s=r[o].evaluate(e),l=r[o+1].evaluate(e);return"interpolate"===this.operator?Mr[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?jr.reverse(jr.interpolate(jr.forward(s),jr.forward(l),a)):Fr.reverse(Fr.interpolate(Fr.forward(s),Fr.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function Vr(e,t,r,n){const i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var Gr=Nr;class qr{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const n=t.expectedType;n&&"value"!==n.kind&&(r=n);const i=[];for(const n of e.slice(1)){const e=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,i.push(e)}const o=n&&i.some(e=>_t(n,e.type));return new qr(o?ut:r,i)}evaluate(e){let t,r=null,n=0;for(const i of this.args){if(n++,r=i.evaluate(e),r&&r instanceof Pt&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Zr=qr;class $r{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let n=1;n<e.length-1;n+=2){const i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);const o=t.parse(e[n+1],n+1);if(!o)return null;r.push([i,o])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new $r(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,r]of this.bindings)e.push(t,r.serialize());return e.push(this.result.serialize()),e}}var Wr=$r;class Xr{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ot),n=t.parse(e[2],2,ft(t.expectedType||ut));return r&&n?new Xr(n.type.itemType,r,n):null}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Ft(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Ft(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Ft(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Hr=Xr;class Yr{constructor(e,t){this.type=st,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ut),n=t.parse(e[2],2,ut);return r&&n?yt(r.type,[st,at,ot,it,ut])?new Yr(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(r.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!vt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${mt(Rt(t))} instead.`);if(!vt(r,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${mt(Rt(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Kr=Yr;class Jr{constructor(e,t,r){this.type=ot,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ut),n=t.parse(e[2],2,ut);if(!r||!n)return null;if(!yt(r.type,[st,at,ot,it,ut]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,ot);return i?new Jr(r,n,i):null}return new Jr(r,n)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!vt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${mt(Rt(t))} instead.`);if(!vt(r,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${mt(Rt(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Qr=Jr;class en{constructor(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,Rt(e)))return null}else r=Rt(e);if(void 0!==i[String(e)])return c.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(l,a,n);if(!u)return null;n=n||u.type,o.push(u)}const a=t.parse(e[1],1,ut);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,n);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(r,a.type)?null:new en(r,n,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Rt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],n={};for(const e of t){const t=n[this.cases[e]];void 0===t?(n[this.cases[e]]=r.length,r.push([this.cases[e],[e]])):r[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,n]of r)e.push(1===n.length?i(n[0]):n.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var tn=en;class rn{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const n=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,st);if(!o)return null;const a=t.parse(e[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}const i=t.parse(e[e.length-1],e.length-1,r);return i?new rn(r,n,i):null}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var nn=rn;class on{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ut),n=t.parse(e[2],2,ot);if(!r||!n)return null;if(!yt(r.type,[ft(ut),at,ut]))return t.error(`Expected first argument to be of type array or string, but found ${mt(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,ot);return i?new on(r.type,r,n,i):null}return new on(r.type,r,n)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!vt(t,["string","array"]))throw new Ft(`Expected first argument to be of type array or string, but found ${mt(Rt(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var an=on;function sn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ln(e,t,r,n){return 0===n.compare(t,r)}function cn(e,t,r){const n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=st,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const r=e[0];let o=t.parse(e[1],1,ut);if(!o)return null;if(!sn(r,o.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${mt(o.type)}'.`);let a=t.parse(e[2],2,ut);if(!a)return null;if(!sn(r,a.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${mt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${mt(o.type)}' and '${mt(a.type)}'.`);n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Nt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Nt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ht),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const t=Rt(o),r=Rt(a);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ft(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=Rt(o),r=Rt(a);if("string"!==e.kind||"string"!==r.kind)return t(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const un=cn("==",(function(e,t,r){return t===r}),ln),hn=cn("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!ln(0,t,r,n)})),dn=cn("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),pn=cn(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),fn=cn("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),mn=cn(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0}));class gn{constructor(e,t,r,n,i,o){this.type=at,this.number=e,this.locale=t,this.currency=r,this.unit=n,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,ot);if(!r)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&(i=t.parse(n.locale,1,at),!i))return null;let o=null;if(n.currency&&(o=t.parse(n.currency,1,at),!o))return null;let a=null;if(n.unit&&(a=t.parse(n.unit,1,at),!a))return null;let s=null;if(n["min-fraction-digits"]&&(s=t.parse(n["min-fraction-digits"],1,ot),!s))return null;let l=null;return n["max-fraction-digits"]&&(l=t.parse(n["max-fraction-digits"],1,ot),!l)?null:new gn(r,i,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class _n{constructor(e){this.type=ot,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${mt(r.type)} instead.`):new _n(r):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ft(`Expected value to be of type string or array, but found ${mt(Rt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const yn={"==":un,"!=":hn,">":pn,"<":dn,">=":mn,"<=":fn,array:Nt,at:Hr,boolean:Nt,case:nn,coalesce:Zr,collator:Kt,format:Vt,image:Gt,in:Kr,"index-of":Qr,interpolate:Gr,"interpolate-hcl":Gr,"interpolate-lab":Gr,length:_n,let:Wr,literal:Bt,match:tn,number:Nt,"number-format":gn,object:Nt,slice:an,step:Sr,string:Nt,"to-boolean":$t,"to-color":$t,"to-number":$t,"to-string":$t,var:xr,within:mr};function vn(e,[t,r,n,i]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);const o=i?i.evaluate(e):1,a=zt(t,r,n,o);if(a)throw new Ft(a);return new Mt(t/255*o,r/255*o,n/255*o,o)}function xn(e,t){return e in t}function bn(e,t){const r=t[e];return void 0===r?null:r}function wn(e){return{type:e}}Yt.register(yn,{error:[{kind:"error"},[at],(e,[t])=>{throw new Ft(t.evaluate(e))}],typeof:[at,[ut],(e,[t])=>mt(Rt(t.evaluate(e)))],"to-rgba":[ft(ot,4),[lt],(e,[t])=>t.evaluate(e).toArray()],rgb:[lt,[ot,ot,ot],vn],rgba:[lt,[ot,ot,ot,ot],vn],has:{type:st,overloads:[[[at],(e,[t])=>xn(t.evaluate(e),e.properties())],[[at,ct],(e,[t,r])=>xn(t.evaluate(e),r.evaluate(e))]]},get:{type:ut,overloads:[[[at],(e,[t])=>bn(t.evaluate(e),e.properties())],[[at,ct],(e,[t,r])=>bn(t.evaluate(e),r.evaluate(e))]]},"feature-state":[ut,[at],(e,[t])=>bn(t.evaluate(e),e.featureState||{})],properties:[ct,[],e=>e.properties()],"geometry-type":[at,[],e=>e.geometryType()],id:[ut,[],e=>e.id()],zoom:[ot,[],e=>e.globals.zoom],pitch:[ot,[],e=>e.globals.pitch||0],"distance-from-center":[ot,[],e=>e.distanceFromCenter()],"heatmap-density":[ot,[],e=>e.globals.heatmapDensity||0],"line-progress":[ot,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[ot,[],e=>e.globals.skyRadialProgress||0],accumulated:[ut,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ot,wn(ot),(e,t)=>{let r=0;for(const n of t)r+=n.evaluate(e);return r}],"*":[ot,wn(ot),(e,t)=>{let r=1;for(const n of t)r*=n.evaluate(e);return r}],"-":{type:ot,overloads:[[[ot,ot],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[ot],(e,[t])=>-t.evaluate(e)]]},"/":[ot,[ot,ot],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[ot,[ot,ot],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[ot,[],()=>Math.LN2],pi:[ot,[],()=>Math.PI],e:[ot,[],()=>Math.E],"^":[ot,[ot,ot],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[ot,[ot],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))],log2:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[ot,[ot],(e,[t])=>Math.sin(t.evaluate(e))],cos:[ot,[ot],(e,[t])=>Math.cos(t.evaluate(e))],tan:[ot,[ot],(e,[t])=>Math.tan(t.evaluate(e))],asin:[ot,[ot],(e,[t])=>Math.asin(t.evaluate(e))],acos:[ot,[ot],(e,[t])=>Math.acos(t.evaluate(e))],atan:[ot,[ot],(e,[t])=>Math.atan(t.evaluate(e))],min:[ot,wn(ot),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[ot,wn(ot),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[ot,[ot],(e,[t])=>Math.abs(t.evaluate(e))],round:[ot,[ot],(e,[t])=>{const r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[ot,[ot],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[ot,[ot],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[st,[at,ut],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[st,[ut],(e,[t])=>e.id()===t.value],"filter-type-==":[st,[at],(e,[t])=>e.geometryType()===t.value],"filter-<":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[st,[ut],(e,[t])=>t.value in e.properties()],"filter-has-id":[st,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[st,[ft(at)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[st,[ft(ut)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[st,[at,ft(ut)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[st,[at,ft(ut)],(e,[t,r])=>function(e,t,r,n){for(;r<=n;){const i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:st,overloads:[[[st,st],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[wn(st),(e,t)=>{for(const r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:st,overloads:[[[st,st],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[wn(st),(e,t)=>{for(const r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[st,[st],(e,[t])=>!t.evaluate(e)],"is-supported-script":[st,[at],(e,[t])=>{const r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[at,[at],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[at,[at],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[at,wn(ut),(e,t)=>t.map(t=>Lt(t.evaluate(e))).join("")],"resolved-locale":[at,[ht],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Tn=yn;function En(e){return{result:"success",value:e}}function Sn(e){return{result:"error",value:e}}function Cn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Mn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function kn(e){return!!e.expression&&e.expression.interpolated}function An(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function In(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Pn(e){return e}function zn(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Dn(e,t,r,n,i){return zn(typeof r===i?n[r]:void 0,e.default,t.default)}function Rn(e,t,r){if("number"!==An(r))return zn(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];const i=Tr(e.stops.map(e=>e[0]),r);return e.stops[i][1]}function Ln(e,t,r){const n=void 0!==e.base?e.base:1;if("number"!==An(r))return zn(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];const o=Tr(e.stops.map(e=>e[0]),r),a=function(e,t,r,n){const i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=Mr[t.type]||Pn;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Ur[e.colorSpace];c=(e,r)=>t.reverse(t.interpolate(t.forward(e),t.forward(r),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),r=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==r)return c(t,r,a)}}:c(s,l,a)}function On(e,t,r){return"color"===t.type?r=Mt.parse(r):"formatted"===t.type?r=It.fromString(r.toString()):"resolvedImage"===t.type?r=Pt.fromString(r.toString()):An(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),zn(r,e.default,t.default)}class Bn{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Xt,this._defaultValue=t?function(e){return"color"===e.type&&(In(e.default)||Array.isArray(e.default))?new Mt(0,0,0,0):"color"===e.type?Mt.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Fn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Tn}function jn(e,t){const r=new wr(Tn,[],t?function(e){const t={color:lt,string:at,number:ot,enum:at,boolean:st,formatted:dt,resolvedImage:pt};return"array"===e.type?ft(t[e.value]||ut,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?En(new Bn(n,t)):Sn(r.errors)}class Un{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!_r(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}}class Nn{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!_r(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}interpolationFactor(e,t,r){return this.interpolationType?Gr.interpolationFactor(this.interpolationType,e,t,r):0}}function Vn(e,t){if("error"===(e=jn(e,t)).result)return e;const r=e.value.expression,n=gr(r);if(!n&&!Cn(t))return Sn([new tt("","data expressions not supported")]);const i=yr(r,["zoom","pitch","distance-from-center"]);if(!i&&!Mn(t))return Sn([new tt("","zoom expressions not supported")]);const o=function e(t){let r=null;if(t instanceof Wr)r=e(t.result);else if(t instanceof Zr){for(const n of t.args)if(r=e(n),r)break}else(t instanceof Sr||t instanceof Gr)&&t.input instanceof Yt&&"zoom"===t.input.name&&(r=t);return r instanceof tt||t.eachChild(t=>{const n=e(t);n instanceof tt?r=n:!r&&n?r=new tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(r);return o||i?o instanceof tt?Sn([o]):o instanceof Gr&&!kn(t)?Sn([new tt("",'"interpolate" expressions cannot be used with this property')]):En(o?new Nn(n?"camera":"composite",e.value,o.labels,o instanceof Gr?o.interpolation:void 0):new Un(n?"constant":"source",e.value)):Sn([new tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Gn{constructor(e,t){this._parameters=e,this._specification=t,Ke(this,function e(t,r){const n="color"===r.type,i=t.stops&&"object"==typeof t.stops[0][0],o=i||!(i||void 0!==t.property),a=t.type||(kn(r)?"exponential":"interval");if(n&&((t=Ke({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],Mt.parse(e[1])])),t.default=Mt.parse(t.default?t.default:r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Ur[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let s,l,c;if("exponential"===a)s=Ln;else if("interval"===a)s=Rn;else if("categorical"===a){s=Dn,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=On}if(i){const n={},i=[];for(let e=0;e<t.stops.length;e++){const r=t.stops[e],o=r[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},i.push(o)),n[o].stops.push([r[0].value,r[1]])}const o=[];for(const t of i)o.push([n[t].zoom,e(n[t],r)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:Gr.interpolationFactor.bind(void 0,a),zoomStops:o.map(e=>e[0]),evaluate:({zoom:e},n)=>Ln({stops:o,base:t.base},r,e).evaluate(e,n)}}if(o){const e="exponential"===a?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:Gr.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>s(t,r,e,l,c)}}return{kind:"source",evaluate(e,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?zn(t.default,r.default):s(t,r,i,l,c)}}}(this._parameters,this._specification))}static deserialize(e){return new Gn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}class qn{constructor(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function Zn(e){const t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=An(r);if("object"!==l)return[new qn(t,r,`object expected, ${l} found`)];for(const e in r){const l=e.split(".")[0],c=n[l]||n["*"];let u;i[l]?u=i[l]:n[l]?u=xi:i["*"]?u=i["*"]:n["*"]&&(u=xi),u?s=s.concat(u({key:(t?t+".":t)+e,value:r[e],valueSpec:c,style:o,styleSpec:a,object:r,objectKey:e},r)):s.push(new qn(t,r[e],`unknown property "${e}"`))}for(const e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===r[e]&&s.push(new qn(t,r,`missing required property "${e}"`));return s}function $n(e){const t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||xi;if("array"!==An(t))return[new qn(o,t,`array expected, ${An(t)} found`)];if(r.length&&t.length!==r.length)return[new qn(o,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new qn(o,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let s={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};i.$version<7&&(s.function=r.function),"object"===An(r.value)&&(s=r.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:n,styleSpec:i,key:`${o}[${e}]`}));return l}function Wn(e){const t=e.key,r=e.value,n=e.valueSpec;let i=An(r);if("number"===i&&r!=r&&(i="NaN"),"number"!==i)return[new qn(t,r,`number expected, ${i} found`)];if("minimum"in n){let i=n.minimum;if("array"===An(n.minimum)&&(i=n.minimum[e.arrayIndex]),r<i)return[new qn(t,r,`${r} is less than the minimum value ${i}`)]}if("maximum"in n){let i=n.maximum;if("array"===An(n.maximum)&&(i=n.maximum[e.arrayIndex]),r>i)return[new qn(t,r,`${r} is greater than the maximum value ${i}`)]}return[]}function Xn(e){const t=e.valueSpec,r=Je(e.value.type);let n,i,o,a={};const s="categorical"!==r&&void 0===e.value.property,l=!s,c="array"===An(e.value.stops)&&"array"===An(e.value.stops[0])&&"object"===An(e.value.stops[0][0]),u=Zn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new qn(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;return t=t.concat($n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===An(n)&&0===n.length&&t.push(new qn(e.key,n,"array must have at least one stop")),t},default:function(e){return xi({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&u.push(new qn(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||u.push(new qn(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!kn(e.valueSpec)&&u.push(new qn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Cn(e.valueSpec)?u.push(new qn(e.key,e.value,"property functions not supported")):s&&!Mn(e.valueSpec)&&u.push(new qn(e.key,e.value,"zoom functions not supported"))),"categorical"!==r&&!c||void 0!==e.value.property||u.push(new qn(e.key,e.value,'"property" property is required')),u;function h(e){let r=[];const n=e.value,s=e.key;if("array"!==An(n))return[new qn(s,n,`array expected, ${An(n)} found`)];if(2!==n.length)return[new qn(s,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==An(n[0]))return[new qn(s,n,`object expected, ${An(n[0])} found`)];if(void 0===n[0].zoom)return[new qn(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new qn(s,n,"object stop key must have value")];const t=Je(n[0].zoom);if("number"!=typeof t)return[new qn(s,n[0].zoom,"stop zoom values must be numbers")];if(o&&o>t)return[new qn(s,n[0].zoom,"stop zoom values must appear in ascending order")];t!==o&&(o=t,i=void 0,a={}),r=r.concat(Zn({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Wn,value:d}}))}else r=r.concat(d({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return Fn(Qe(n[1]))?r.concat([new qn(s+"[1]",n[1],"expressions are not allowed in function stops.")]):r.concat(xi({key:s+"[1]",value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const s=An(e.value),l=Je(e.value),c=null!==e.value?e.value:o;if(n){if(s!==n)return[new qn(e.key,c,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new qn(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){let n=`number expected, ${s} found`;return Cn(t)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qn(e.key,c,n)]}return"categorical"!==r||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&"number"==typeof l&&"number"==typeof i&&void 0!==i&&l<i?[new qn(e.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in a?[new qn(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new qn(e.key,c,"integer expected, found "+String(l))]}}function Hn(e){const t=("property"===e.expressionContext?Vn:jn)(Qe(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new qn(`${e.key}${t.key}`,e.value,t.message));const r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new qn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!_r(r))return[new qn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return function e(t,r){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const e of r.valueSpec.expression.parameters)n.delete(e);if(0===n.size)return[];const i=[];return t instanceof Yt&&n.has(t.name)?[new qn(r.key,r.value,`["${t.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(t.eachChild(t=>{i.push(...e(t,r))}),i)}(r,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!yr(r,["zoom","feature-state"]))return[new qn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!gr(r))return[new qn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yn(e){const t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Je(r))&&i.push(new qn(t,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(Je(r))&&i.push(new qn(t,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),i}function Kn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Kn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function Jn(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Kn(e)||(e=ni(e));const r=e;let n=!0;try{n=function(e){if(!Qn(e))return e;let t=Qe(e);return function e(t){let r=!1;const n=[];if("case"===t[0]){for(let e=1;e<t.length-1;e+=2)r=r||Qn(t[e]),n.push(t[e+1]);n.push(t[t.length-1])}else if("match"===t[0]){r=r||Qn(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){r=r||Qn(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}r&&(t.length=0,t.push("any",...n));for(let r=1;r<t.length;r++)e(t[r])}(t),t=function e(t){if(!Array.isArray(t))return t;const r=function(e){if(ei.has(e[0]))for(let t=1;t<e.length;t++)if(Qn(e[t]))return!0;return e}(t);return!0===r?r:r.map(t=>e(t))}(t),t}(r)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(r,null,2)}\n        `)}const i=Ye["filter_"+t],o=jn(n,i);let a=null;if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));a=(e,t,r)=>o.value.evaluate(e,t,{},r);let s=null,l=null;if(n!==r){const e=jn(r,i);if("error"===e.result)throw new Error(e.value.map(e=>`${e.key}: ${e.message}`).join(", "));s=(t,r,n,i,o)=>e.value.evaluate(t,r,{},n,void 0,void 0,i,o),l=!gr(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:ri(n),needFeature:!!l}}function Qn(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++)if(Qn(e[t]))return!0;return!1}const ei=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ti(e,t){return e<t?-1:e>t?1:0}function ri(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(ri(e[t]))return!0;return!1}function ni(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?ii(e[1],e[2],"=="):"!="===t?si(ii(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?ii(e[1],e[2],t):"any"===t?(r=e.slice(1),["any"].concat(r.map(ni))):"all"===t?["all"].concat(e.slice(1).map(ni)):"none"===t?["all"].concat(e.slice(1).map(ni).map(si)):"in"===t?oi(e[1],e.slice(2)):"!in"===t?si(oi(e[1],e.slice(2))):"has"===t?ai(e[1]):"!has"===t?si(ai(e[1])):"within"!==t||e;var r}function ii(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function oi(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(ti)]]:["filter-in-small",e,["literal",t]]}}function ai(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function si(e){return["!",e]}function li(e){return Kn(Qe(e.value))?Hn(Ke({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_"+(e.layerType||"fill")]})):function e(t){const r=t.value,n=t.key;if("array"!==An(r))return[new qn(n,r,`array expected, ${An(r)} found`)];const i=t.styleSpec;let o,a=[];if(r.length<1)return[new qn(n,r,"filter array must have at least 1 element")];switch(a=a.concat(Yn({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),Je(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Je(r[1])&&a.push(new qn(n,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":3!==r.length&&a.push(new qn(n,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(o=An(r[1]),"string"!==o&&a.push(new qn(n+"[1]",r[1],`string expected, ${o} found`)));for(let e=2;e<r.length;e++)o=An(r[e]),"$type"===Je(r[1])?a=a.concat(Yn({key:`${n}[${e}]`,value:r[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new qn(`${n}[${e}]`,r[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let i=1;i<r.length;i++)a=a.concat(e({key:`${n}[${i}]`,value:r[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=An(r[1]),2!==r.length?a.push(new qn(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new qn(n+"[1]",r[1],`string expected, ${o} found`));break;case"within":o=An(r[1]),2!==r.length?a.push(new qn(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new qn(n+"[1]",r[1],`object expected, ${o} found`))}return a}(e)}function ci(e,t){const r=e.key,n=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return xi({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});const c=e.valueSpec||s[a];if(!c)return[new qn(r,o,`unknown property "${a}"`)];let u;if("string"===An(o)&&Cn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new qn(r,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const h=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&h.push(new qn(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&In(Qe(o))&&"identity"===Je(o.type)&&h.push(new qn(r,o,'"text-font" does not support identity functions'))),h.concat(xi({key:e.key,value:o,valueSpec:c,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function ui(e){return ci(e,"paint")}function hi(e){return ci(e,"layout")}function di(e){let t=[];const r=e.value,n=e.key,i=e.style,o=e.styleSpec;r.type||r.ref||t.push(new qn(n,r,'either "type" or "ref" is required'));let a=Je(r.type);const s=Je(r.ref);if(r.id){const o=Je(r.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];Je(e.id)===o&&t.push(new qn(n,r.id,`duplicate layer id "${r.id}", previously used at line ${e.id.__line__}`))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in r&&t.push(new qn(n,r[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{Je(t.id)===s&&(e=t)}),e?e.ref?t.push(new qn(n,r.ref,"ref cannot reference another ref layer")):a=Je(e.type):"string"==typeof s&&t.push(new qn(n,r.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(r.source){const e=i.sources&&i.sources[r.source],o=e&&Je(e.type);e?"vector"===o&&"raster"===a?t.push(new qn(n,r.source,`layer "${r.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new qn(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==o||r["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new qn(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!r.paint||!r.paint["line-gradient"]&&!r.paint["line-trim-offset"]||"geojson"===o&&e.lineMetrics||t.push(new qn(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new qn(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new qn(n,r.source,`source "${r.source}" not found`))}else t.push(new qn(n,r,'missing required property "source"'));return t=t.concat(Zn({key:n,value:r,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>xi({key:n+".type",value:r.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"}),filter:e=>li(Ke({layerType:a},e)),layout:e=>Zn({layer:r,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>hi(Ke({layerType:a},e))}}),paint:e=>Zn({layer:r,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>ui(Ke({layerType:a},e))}})}})),t}function pi(e){const t=e.value,r=e.key,n=An(t);return"string"!==n?[new qn(r,t,`string expected, ${n} found`)]:[]}const fi={promoteId:function({key:e,value:t}){if("string"===An(t))return pi({key:e,value:t});{const r=[];for(const n in t)r.push(...pi({key:`${e}.${n}`,value:t[n]}));return r}}};function mi(e){const t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new qn(r,t,'"type" is required')];const o=Je(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=Zn({key:r,value:t,valueSpec:n["source_"+o.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:fi}),a;case"geojson":if(a=Zn({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:fi}),t.cluster)for(const e in t.clusterProperties){const[n,i]=t.clusterProperties[e],o="string"==typeof n?[n,["accumulated"],["get",e]]:n;a.push(...Hn({key:`${r}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...Hn({key:`${r}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Zn({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return Zn({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new qn(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yn({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function gi(e){const t=e.value,r=e.styleSpec,n=r.light,i=e.style;let o=[];const a=An(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new qn("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&n[a[1]]&&n[a[1]].transition?xi({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):n[e]?xi({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}):[new qn(e,t[e],`unknown property "${e}"`)])}return o}function _i(e){const t=e.value,r=e.key,n=e.style,i=e.styleSpec,o=i.terrain;let a=[];const s=An(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new qn("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const r=e.match(/^(.*)-transition$/);a=a.concat(r&&o[r[1]]&&o[r[1]].transition?xi({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):o[e]?xi({key:e,value:t[e],valueSpec:o[e],style:n,styleSpec:i}):[new qn(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=n.sources&&n.sources[t.source],i=e&&Je(e.type);e?"raster-dem"!==i&&a.push(new qn(r,t.source,`terrain cannot be used with a source of type ${String(i)}, it only be used with a "raster-dem" source type`)):a.push(new qn(r,t.source,`source "${t.source}" not found`))}else a.push(new qn(r,t,'terrain is missing required property "source"'));return a}function yi(e){const t=e.value,r=e.style,n=e.styleSpec,i=n.fog;let o=[];const a=An(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new qn("fog",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&i[a[1]]&&i[a[1]].transition?xi({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n}):i[e]?xi({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n}):[new qn(e,t[e],`unknown property "${e}"`)])}return o}const vi={"*":()=>[],array:$n,boolean:function(e){const t=e.value,r=e.key,n=An(t);return"boolean"!==n?[new qn(r,t,`boolean expected, ${n} found`)]:[]},number:Wn,color:function(e){const t=e.key,r=e.value,n=An(r);return"string"!==n?[new qn(t,r,`color expected, ${n} found`)]:null===xt(r)?[new qn(t,r,`color expected, "${r}" found`)]:[]},enum:Yn,filter:li,function:Xn,layer:di,object:Zn,source:mi,light:gi,terrain:_i,fog:yi,string:pi,formatted:function(e){return 0===pi(e).length?[]:Hn(e)},resolvedImage:function(e){return 0===pi(e).length?[]:Hn(e)},projection:function(e){const t=e.value,r=e.styleSpec,n=r.projection,i=e.style;let o=[];const a=An(t);if("object"===a)for(const e in t)o=o.concat(xi({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}));else"string"!==a&&(o=o.concat([new qn("projection",t,`object or string expected, ${a} found`)]));return o}};function xi(e){const t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&In(Je(t))?Xn(e):r.expression&&Fn(Qe(t))?Hn(e):r.type&&vi[r.type]?vi[r.type](e):Zn(Ke({},e,{valueSpec:r.type?n[r.type]:r}))}function bi(e){const t=e.value,r=e.key,n=pi(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new qn(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new qn(r,t,'"glyphs" url must include a "{range}" token'))),n}function wi(e,t=Ye){return Si(xi({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:bi,"*":()=>[]}}))}const Ti=e=>Si(ui(e)),Ei=e=>Si(hi(e));function Si(e){return e.slice().sort((e,t)=>e.line&&t.line?e.line-t.line:0)}function Ci(e,t){let r=!1;if(t&&t.length)for(const n of t)e.fire(new Xe(new Error(n.message))),r=!0;return r}var Mi=ki;function ki(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];n.push(a===s?null:i.subarray(a,s))}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var u=r/t*e;this.min=-u,this.max=e+u}ki.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},ki.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ki.prototype._insertCell=function(e,t,r,n,i,o){this.cells[i].push(o)},ki.prototype.query=function(e,t,r,n,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},i),s},ki.prototype._queryCell=function(e,t,r,n,i,o,a,s){var l=this.cells[i];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===a[d]){var p=4*d;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&r>=u[p+0]&&n>=u[p+1])?(a[d]=!0,o.push(c[d])):a[d]=!1}}},ki.prototype._forEachCell=function(e,t,r,n,i,o,a,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(r),h=this._convertToCellCoord(n),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.d*p+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&i.call(this,e,t,r,n,f,o,a,s))return}},ki.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},ki.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},ki.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};const Ai={};function Ii(e,t,r={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Ai[t]={klass:e,omit:r.omit||[]}}Ii(Object,"Object"),Mi.serialize=function(e,t){const r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Mi.deserialize=function(e){return new Mi(e.buffer)},Object.defineProperty(Mi,"name",{value:"Grid"}),Ii(Mi,"Grid"),Ii(Mt,"Color"),Ii(Error,"Error"),Ii(se,"AJAXError"),Ii(Pt,"ResolvedImage"),Ii(Gn,"StylePropertyFunction"),Ii(Bn,"StyleExpression",{omit:["_evaluator"]}),Ii(Nn,"ZoomDependentExpression"),Ii(Un,"ZoomConstantExpression"),Ii(Yt,"CompoundExpression",{omit:["_evaluate"]});for(const e in Tn)Ai[Tn[e]._classRegistryKey]||Ii(Tn[e],"Expression"+e);function Pi(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function zi(e){return r.ImageBitmap&&e instanceof r.ImageBitmap}function Di(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Pi(e)||zi(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const r=e;return t&&t.push(r.buffer),r}if(e instanceof r.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const r=[];for(const n of e)r.push(Di(n,t));return r}if("object"==typeof e){const r=e.constructor,n=r._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class "+n);const i=r.serialize?r.serialize(e,t):{};if(!r.serialize){for(const r in e)e.hasOwnProperty(r)&&(Ai[n].omit.indexOf(r)>=0||(i[r]=Di(e[r],t)));e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(i.$name=n),i}throw new Error("can't serialize object of type "+typeof e)}function Ri(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Pi(e)||zi(e)||ArrayBuffer.isView(e)||e instanceof r.ImageData)return e;if(Array.isArray(e))return e.map(Ri);if("object"==typeof e){const t=e.$name||"Object",{klass:r}=Ai[t];if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);const n=Object.create(r.prototype);for(const t of Object.keys(e))"$name"!==t&&(n[t]=Ri(e[t]));return n}throw new Error("can't deserialize object of type "+typeof e)}class Li{constructor(){this.first=!0}update(e,t){const r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))}}const Oi=e=>e>=1536&&e<=1791,Bi=e=>e>=1872&&e<=1919,Fi=e=>e>=2208&&e<=2303,ji=e=>e>=11904&&e<=12031,Ui=e=>e>=12032&&e<=12255,Ni=e=>e>=12272&&e<=12287,Vi=e=>e>=12288&&e<=12351,Gi=e=>e>=12352&&e<=12447,qi=e=>e>=12448&&e<=12543,Zi=e=>e>=12544&&e<=12591,$i=e=>e>=12704&&e<=12735,Wi=e=>e>=12736&&e<=12783,Xi=e=>e>=12784&&e<=12799,Hi=e=>e>=12800&&e<=13055,Yi=e=>e>=13056&&e<=13311,Ki=e=>e>=13312&&e<=19903,Ji=e=>e>=19968&&e<=40959,Qi=e=>e>=40960&&e<=42127,eo=e=>e>=42128&&e<=42191,to=e=>e>=44032&&e<=55215,ro=e=>e>=63744&&e<=64255,no=e=>e>=64336&&e<=65023,io=e=>e>=65040&&e<=65055,oo=e=>e>=65072&&e<=65103,ao=e=>e>=65104&&e<=65135,so=e=>e>=65136&&e<=65279,lo=e=>e>=65280&&e<=65519;function co(e){for(const t of e)if(po(t.charCodeAt(0)))return!0;return!1}function uo(e){for(const t of e)if(!ho(t.charCodeAt(0)))return!1;return!0}function ho(e){return!(Oi(e)||Bi(e)||Fi(e)||no(e)||so(e))}function po(e){return!(746!==e&&747!==e&&(e<4352||!($i(e)||Zi(e)||oo(e)&&!(e>=65097&&e<=65103)||ro(e)||Yi(e)||ji(e)||Wi(e)||!(!Vi(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Ki(e)||Ji(e)||Hi(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||to(e)||Gi(e)||Ni(e)||(e=>e>=12688&&e<=12703)(e)||Ui(e)||Xi(e)||qi(e)&&12540!==e||!(!lo(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!ao(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||io(e)||(e=>e>=19904&&e<=19967)(e)||Qi(e)||eo(e))))}function fo(e){return!(po(e)||function(e){return!!((e=>e>=128&&e<=255)(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(e=>e>=8192&&e<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(e=>e>=8448&&e<=8527)(e)||(e=>e>=8528&&e<=8591)(e)||(e=>e>=8960&&e<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(e=>e>=9216&&e<=9279)(e)&&9251!==e||(e=>e>=9280&&e<=9311)(e)||(e=>e>=9312&&e<=9471)(e)||(e=>e>=9632&&e<=9727)(e)||(e=>e>=9728&&e<=9983)(e)&&!(e>=9754&&e<=9759)||(e=>e>=11008&&e<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Vi(e)||qi(e)||(e=>e>=57344&&e<=63743)(e)||oo(e)||ao(e)||lo(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function mo(e){return e>=1424&&e<=2303||no(e)||so(e)}function go(e,t){return!(!t&&mo(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function _o(e){for(const t of e)if(mo(t.charCodeAt(0)))return!0;return!1}const yo="deferred",vo="loading",xo="loaded";let bo=null,wo="unavailable",To=null;const Eo=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(wo="error"),bo&&bo(e)};function So(){Co.fire(new We("pluginStateChange",{pluginStatus:wo,pluginURL:To}))}const Co=new He,Mo=function(){return wo},ko=function(){if(wo!==yo||!To)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");wo=vo,So(),To&&ue({url:To},e=>{e?Eo(e):(wo=xo,So())})},Ao={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>wo===xo||null!=Ao.applyArabicShaping,isLoading:()=>wo===vo,setState(e){wo=e.pluginStatus,To=e.pluginURL},isParsed:()=>null!=Ao.applyArabicShaping&&null!=Ao.processBidirectionalText&&null!=Ao.processStyledBidirectionalText,getPluginURL:()=>To};class Io{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition,this.pitch=t.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Li,this.transition={},this.pitch=0)}isSupportedScript(e){return function(e,t){for(const r of e)if(!go(r.charCodeAt(0),t))return!1;return!0}(e,Ao.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}}}class Po{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(In(e))return new Gn(e,t);if(Fn(e)){const r=Vn(e,t);if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value}{let r=e;return"string"==typeof e&&"color"===t.type&&(r=Mt.parse(e)),{kind:"constant",evaluate:()=>r}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)}}class zo{constructor(e){this.property=e,this.value=new Po(e,void 0)}transitioned(e,t){return new Ro(this.property,this.value,t,I({},e.transition,this.transition),e.now)}untransitioned(){return new Ro(this.property,this.value,null,{},0)}}class Do{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return U(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new zo(this._values[e].property)),this._values[e].value=new Po(this._values[e].property,null===t?void 0:U(t))}getTransition(e){return U(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new zo(this._values[e].property)),this._values[e].transition=U(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const r=this.getValue(t);void 0!==r&&(e[t]=r);const n=this.getTransition(t);void 0!==n&&(e[t+"-transition"]=n)}return e}transitioned(e,t){const r=new Lo(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(e,t._values[n]);return r}untransitioned(){const e=new Lo(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Ro{constructor(e,t,r,n,i){const o=n.delay||0,a=n.duration||0;i=i||0,this.property=e,this.value=t,this.begin=i+o,this.end=this.begin+a,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)}possiblyEvaluate(e,t,r){const n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),o=this.prior;if(o){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return o.possiblyEvaluate(e,t,r);{const a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,r),i,w(a))}}return i}}class Lo{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,r){const n=new Fo(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Oo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return U(this._values[e].value)}setValue(e,t){this._values[e]=new Po(this._values[e].property,null===t?void 0:U(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const r=this.getValue(t);void 0!==r&&(e[t]=r)}return e}possiblyEvaluate(e,t,r){const n=new Fo(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}}class Bo{constructor(e,t,r){this.property=e,this.value=t,this.parameters=r}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)}}class Fo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class jo{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,r){const n=Mr[this.specification.type];return n?n(e,t,r):e}}class Uo{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,r,n){return new Bo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)}interpolate(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Bo(this,{kind:"constant",value:void 0},e.parameters);const n=Mr[this.specification.type];return n?new Bo(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e}evaluate(e,t,r,n,i,o){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,o)}}class No extends Uo{possiblyEvaluate(e,t,r,n){if(void 0===e.value)return new Bo(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},r,n),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new Bo(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const r=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Bo(this,{kind:"constant",value:r},t)}return new Bo(this,e.expression,t)}evaluate(e,t,r,n,i,o){if("source"===e.kind){const a=e.evaluate(t,r,n,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t,other:r}:{from:r,to:t,other:e}}interpolate(e){return e}}class Vo{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Io(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Io(Math.floor(t.zoom),t)),e.expression.evaluate(new Io(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class Go{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)}interpolate(){return!1}}class qo{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new Io(0,{});for(const r in e){const n=e[r];n.specification.overridable&&this.overridableProperties.push(r);const i=this.defaultPropertyValues[r]=new Po(n,void 0),o=this.defaultTransitionablePropertyValues[r]=new zo(n);this.defaultTransitioningPropertyValues[r]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=i.possiblyEvaluate(t)}}}function Zo(e,t){return 256*(e=S(Math.floor(e),0,255))+S(Math.floor(t),0,255)}Ii(Uo,"DataDrivenProperty"),Ii(jo,"DataConstantProperty"),Ii(No,"CrossFadedDataDrivenProperty"),Ii(Vo,"CrossFadedProperty"),Ii(Go,"ColorRampProperty");const $o={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Wo{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Xo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ho(e,t=1){let r=0,n=0;return{members:e.map(e=>{const i=$o[e.type].BYTES_PER_ELEMENT,o=r=Yo(r,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),r+=i*a,{name:e.name,type:e.type,components:a,offset:o}}),size:Yo(r,Math.max(n,t)),alignment:t}}function Yo(e,t){return Math.ceil(e/t)*t}class Ko extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e}}Ko.prototype.bytesPerElement=4,Ii(Ko,"StructArrayLayout2i4");class Jo extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e}}Jo.prototype.bytesPerElement=6,Ii(Jo,"StructArrayLayout3i6");class Qo extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,e}}Qo.prototype.bytesPerElement=8,Ii(Qo,"StructArrayLayout4i8");class ea extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,i,o,a)}emplace(e,t,r,n,i,o,a,s){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.uint8[c+4]=n,this.uint8[c+5]=i,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[u+2]=s,e}}ea.prototype.bytesPerElement=12,Ii(ea,"StructArrayLayout2i4ub1f12");class ta extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.float32[o+3]=i,e}}ta.prototype.bytesPerElement=16,Ii(ta,"StructArrayLayout4f16");class ra extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,o,a,s,l,c)}emplace(e,t,r,n,i,o,a,s,l,c,u){const h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=r,this.uint16[h+2]=n,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=c,this.uint16[h+9]=u,e}}ra.prototype.bytesPerElement=20,Ii(ra,"StructArrayLayout10ui20");class na extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s){const l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,i,o,a,s)}emplace(e,t,r,n,i,o,a,s,l){const c=8*e;return this.uint16[c+0]=t,this.uint16[c+1]=r,this.uint16[c+2]=n,this.uint16[c+3]=i,this.uint16[c+4]=o,this.uint16[c+5]=a,this.uint16[c+6]=s,this.uint16[c+7]=l,e}}na.prototype.bytesPerElement=16,Ii(na,"StructArrayLayout8ui16");class ia extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}ia.prototype.bytesPerElement=12,Ii(ia,"StructArrayLayout6i12");class oa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,r,n,i,o,a,s,l,c,u,h)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}oa.prototype.bytesPerElement=24,Ii(oa,"StructArrayLayout4i4ui4i24");class aa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){const s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.float32[l+2]=i,this.float32[l+3]=o,this.float32[l+4]=a,e}}aa.prototype.bytesPerElement=20,Ii(aa,"StructArrayLayout3i3f20");class sa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}sa.prototype.bytesPerElement=4,Ii(sa,"StructArrayLayout1ul4");class la extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,i,o,a,s,l,c,u,h,d)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=u,this.uint32[m+8]=h,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}la.prototype.bytesPerElement=40,Ii(la,"StructArrayLayout5i4f1i1ul2ui40");class ca extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,i,o,a)}emplace(e,t,r,n,i,o,a,s){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+4]=i,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}ca.prototype.bytesPerElement=16,Ii(ca,"StructArrayLayout3i2i2i16");class ua extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)}emplace(e,t,r,n,i,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[s+6]=i,this.int16[s+7]=o,e}}ua.prototype.bytesPerElement=16,Ii(ua,"StructArrayLayout2f1f2i16");class ha extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=r,this.float32[a+1]=n,this.float32[a+2]=i,e}}ha.prototype.bytesPerElement=12,Ii(ha,"StructArrayLayout2ub2f12");class da extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e}}da.prototype.bytesPerElement=12,Ii(da,"StructArrayLayout3f12");class pa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e}}pa.prototype.bytesPerElement=6,Ii(pa,"StructArrayLayout3ui6");class fa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b){const w=30*e,T=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=r,this.int16[w+2]=n,this.float32[T+2]=i,this.float32[T+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[T+5]=l,this.uint32[T+6]=c,this.uint32[T+7]=u,this.uint16[w+16]=h,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[T+10]=f,this.float32[T+11]=m,this.uint8[E+48]=g,this.uint8[E+49]=_,this.uint8[E+50]=y,this.uint32[T+13]=v,this.int16[w+28]=x,this.uint8[E+58]=b,e}}fa.prototype.bytesPerElement=60,Ii(fa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class ma extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E,S,C,M,k,A){const I=this.length;return this.resize(I+1),this.emplace(I,e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E,S,C,M,k,A)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E,S,C,M,k,A,I){const P=38*e,z=19*e;return this.int16[P+0]=t,this.int16[P+1]=r,this.int16[P+2]=n,this.float32[z+2]=i,this.float32[z+3]=o,this.int16[P+8]=a,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=c,this.int16[P+12]=u,this.int16[P+13]=h,this.uint16[P+14]=d,this.uint16[P+15]=p,this.uint16[P+16]=f,this.uint16[P+17]=m,this.uint16[P+18]=g,this.uint16[P+19]=_,this.uint16[P+20]=y,this.uint16[P+21]=v,this.uint16[P+22]=x,this.uint16[P+23]=b,this.uint16[P+24]=w,this.uint16[P+25]=T,this.uint16[P+26]=E,this.uint16[P+27]=S,this.uint16[P+28]=C,this.uint32[z+15]=M,this.float32[z+16]=k,this.float32[z+17]=A,this.float32[z+18]=I,e}}ma.prototype.bytesPerElement=76,Ii(ma,"StructArrayLayout3i2f6i15ui1ul3f76");class ga extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}ga.prototype.bytesPerElement=4,Ii(ga,"StructArrayLayout1f4");class _a extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)}emplace(e,t,r,n,i,o){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,this.float32[a+4]=o,e}}_a.prototype.bytesPerElement=20,Ii(_a,"StructArrayLayout5f20");class ya extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=r,this.uint16[o+3]=n,this.uint16[o+4]=i,e}}ya.prototype.bytesPerElement=12,Ii(ya,"StructArrayLayout1ul3ui12");class va extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e}}va.prototype.bytesPerElement=4,Ii(va,"StructArrayLayout2ui4");class xa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}xa.prototype.bytesPerElement=2,Ii(xa,"StructArrayLayout1ui2");class ba extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e}}ba.prototype.bytesPerElement=8,Ii(ba,"StructArrayLayout2f8");class wa extends Wo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}wa.prototype.size=12;class Ta extends ia{get(e){return new wa(this,e)}}Ii(Ta,"FillExtrusionExtArray");class Ea extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ea.prototype.size=40;class Sa extends la{get(e){return new Ea(this,e)}}Ii(Sa,"CollisionBoxArray");class Ca extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Ca.prototype.size=60;class Ma extends fa{get(e){return new Ca(this,e)}}Ii(Ma,"PlacedSymbolArray");class ka extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ka.prototype.size=76;class Aa extends ma{get(e){return new ka(this,e)}}Ii(Aa,"SymbolInstanceArray");class Ia extends ga{getoffsetX(e){return this.float32[1*e+0]}}Ii(Ia,"GlyphOffsetArray");class Pa extends Jo{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Ii(Pa,"SymbolLineVertexArray");class za extends Wo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}za.prototype.size=12;class Da extends ya{get(e){return new za(this,e)}}Ii(Da,"FeatureIndexArray");class Ra extends Wo{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Ra.prototype.size=4;class La extends va{get(e){return new Ra(this,e)}}Ii(La,"FillExtrusionCentroidArray");class Oa extends Wo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Oa.prototype.size=12;class Ba extends ia{get(e){return new Oa(this,e)}}Ii(Ba,"CircleGlobeExtArray");const Fa=Ho([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),ja=Ho([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Ua={exports:{}},Na={exports:{}};Na.exports=function(e,t){var r,n,i,o,a,s,l,c;for(n=e.length-(r=3&e.length),i=t,a=3432918353,s=461845907,c=0;c<n;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var Va={exports:{}};Va.exports=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var Ga=Na.exports,qa=Va.exports;Ua.exports=Ga,Ua.exports.murmur3=Ga,Ua.exports.murmur2=qa;class Za{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,r,n){this.ids.push($a(e)),this.positions.push(t,r,n)}getPositions(e){const t=$a(e);let r=0,n=this.ids.length-1;for(;r<n;){const e=r+n>>1;this.ids[e]>=t?n=e:r=e+1}const i=[];for(;this.ids[r]===t;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(e,t){const r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){for(;n<i;){const o=t[n+i>>1];let a=n-1,s=i+1;for(;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;Wa(t,a,s),Wa(r,3*a,3*s),Wa(r,3*a+1,3*s+1),Wa(r,3*a+2,3*s+2)}s-n<i-s?(e(t,r,n,s),n=s+1):(e(t,r,s+1,i),i=s)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(e){const t=new Za;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function $a(e){const t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Ua.exports(String(e))}function Wa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}Ii(Za,"FeaturePositionMap");class Xa{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class Ha extends Xa{constructor(e){super(e),this.current=0}set(e,t,r){this.fetchUniformLocation(e,t)&&this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class Ya extends Xa{constructor(e){super(e),this.current=[0,0,0,0]}set(e,t,r){this.fetchUniformLocation(e,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3])))}}class Ka extends Xa{constructor(e){super(e),this.current=Mt.transparent}set(e,t,r){this.fetchUniformLocation(e,t)&&(r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a)))}}const Ja=new Float32Array(16),Qa=new Float32Array(9),es=new Float32Array(4);function ts(e){return[Zo(255*e.r,255*e.g),Zo(255*e.b,255*e.a)]}class rs{constructor(e,t,r){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=r}setUniform(e,t,r,n,i){t.set(e,i,n.constantOr(this.value))}getBinding(e,t){return"color"===this.type?new Ka(e):new Ha(e)}}class ns{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio||1,this.pixelRatioTo=e.pixelRatio||1,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}setUniform(e,t,r,n,i){const o="u_pattern_to"===i||"u_dash_to"===i?this.patternTo:"u_pattern_from"===i||"u_dash_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;o&&t.set(e,i,o)}getBinding(e,t){return"u_pattern_from"===t||"u_pattern_to"===t||"u_dash_from"===t||"u_dash_to"===t?new Ya(e):new Ha(e)}}class is{constructor(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(e,t,r,n,i,o){const a=this.paintVertexArray.length,s=this.expression.evaluate(new Io(0),t,{},i,n,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,r,n,i){const o=this.expression.evaluate({zoom:0},r,n,void 0,i);this._setPaintValue(e,t,o)}_setPaintValue(e,t,r){if("color"===this.type){const n=ts(r);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class os{constructor(e,t,r,n,i,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,r,n,i,o){const a=this.expression.evaluate(new Io(this.zoom),t,{},i,n,o),s=this.expression.evaluate(new Io(this.zoom+1),t,{},i,n,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}updatePaintArray(e,t,r,n,i){const o=this.expression.evaluate({zoom:this.zoom},r,n,void 0,i),a=this.expression.evaluate({zoom:this.zoom+1},r,n,void 0,i);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,r,n){if("color"===this.type){const i=ts(r),o=ts(n);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t,r,n,i){const o=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,a=S(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,i,a)}getBinding(e,t){return new Ha(e)}}class as{constructor(e,t,r,n,i,o,a){this.expression=e,this.type=r,this.useIntegerZoom=n,this.zoom=i,this.layerId=a,this.paintVertexAttributes=("array"===r?ja:Fa).members;for(let e=0;e<t.length;++e);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}populatePaintArray(e,t,r){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)}updatePaintArray(e,t,r,n,i,o){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],o)}_setPaintValues(e,t,r,n){if(!n||!r)return;const{min:i,mid:o,max:a}=r,s=n[i],l=n[o],c=n[a];if(s&&l&&c)for(let r=e;r<t;r++)this._setPaintValue(this.zoomInPaintVertexArray,r,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,r,l,c)}_setPaintValue(e,t,r,n){e.emplace(t,r.tl[0],r.tl[1],r.br[0],r.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],r.pixelRatio,n.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ss{constructor(e,t,r=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const i in e.paint._values){if(!r(i))continue;const o=e.paint.get(i);if(!(o instanceof Bo&&Cn(o.property.specification)))continue;const a=us(i,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u=o.property.specification["property-type"],h="cross-faded"===u||"cross-faded-data-driven"===u,d="line-dasharray"===String(i)&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==s.kind||d)if("source"===s.kind||d||h){const r=ps(i,l,"source");this.binders[i]=h?new as(s,a,l,c,t,r,e.id):new is(s,a,l,r),n.push("/a_"+i)}else{const e=ps(i,l,"composite");this.binders[i]=new os(s,a,l,c,t,e),n.push("/z_"+i)}else this.binders[i]=h?new ns(s.value,a):new rs(s.value,a,l),n.push("/u_"+i)}this.cacheKey=n.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof is||t instanceof os?t.maxValue:0}populatePaintArrays(e,t,r,n,i,o){for(const a in this.binders){const s=this.binders[a];(s instanceof is||s instanceof os||s instanceof as)&&s.populatePaintArray(e,t,r,n,i,o)}}setConstantPatternPositions(e,t){for(const r in this.binders){const n=this.binders[r];n instanceof ns&&n.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,r,n,i,o){let a=!1;for(const s in e){const l=t.getPositions(s);for(const t of l){const l=r.feature(t.index);for(const r in this.binders){const c=this.binders[r];if((c instanceof is||c instanceof os||c instanceof as)&&!0===c.expression.isStateDependent){const u=n.paint.get(r);c.expression=u.value,c.updatePaintArray(t.start,t.end,l,e[s],i,o),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const r=this.binders[t];(r instanceof rs||r instanceof ns)&&e.push(...r.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const r=this.binders[t];if(r instanceof is||r instanceof os||r instanceof as)for(let t=0;t<r.paintVertexAttributes.length;t++)e.push(r.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const r=this.binders[t];if(r instanceof rs||r instanceof ns||r instanceof os)for(const t of r.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const r in this.binders){const n=this.binders[r];if(n instanceof rs||n instanceof ns||n instanceof os)for(const i of n.uniformNames)t.push({name:i,property:r,binding:n.getBinding(e,i)})}return t}setUniforms(e,t,r,n,i){for(const{name:t,property:o,binding:a}of r)this.binders[o].setUniform(e,a,i,n.get(o),t)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const r=this.binders[t];if(e&&r instanceof as){const t=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(r instanceof is||r instanceof os)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(e){for(const t in this.binders){const r=this.binders[t];(r instanceof is||r instanceof os||r instanceof as)&&r.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof is||t instanceof os||t instanceof as)&&t.destroy()}}}class ls{constructor(e,t,r=(()=>!0)){this.programConfigurations={};for(const n of e)this.programConfigurations[n.id]=new ss(n,t,r);this.needsUpload=!1,this._featureMap=new Za,this._bufferOffset=0}populatePaintArrays(e,t,r,n,i,o,a){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(e,t,n,i,o,a);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,r,n,i){for(const o of r)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,n,i)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const cs={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function us(e,t){return cs[e]||[e.replace(t+"-","").replace(/-/g,"_")]}const hs={"line-pattern":{source:ra,composite:ra},"fill-pattern":{source:ra,composite:ra},"fill-extrusion-pattern":{source:ra,composite:ra},"line-dasharray":{source:na,composite:na}},ds={color:{source:ba,composite:ta},number:{source:ga,composite:ba}};function ps(e,t,r){const n=hs[e];return n&&n[r]||ds[t][r]}Ii(rs,"ConstantBinder"),Ii(ns,"CrossFadedConstantBinder"),Ii(is,"SourceExpressionBinder"),Ii(as,"CrossFadedCompositeBinder"),Ii(os,"CompositeExpressionBinder"),Ii(ss,"ProgramConfiguration",{omit:["_buffers"]}),Ii(ls,"ProgramConfigurationSet");const fs="-transition";class ms extends He{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Oo(t.layout)),t.paint)){this._transitionablePaint=new Do(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fo(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,r={}){null!=t&&this._validate(Ei,`layers.${this.id}.layout.${e}`,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return B(e,fs)?this._transitionablePaint.getTransition(e.slice(0,-fs.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,r={}){if(null!=t&&this._validate(Ti,`layers.${this.id}.paint.${e}`,e,t,r))return!1;if(B(e,fs))return this._transitionablePaint.setTransition(e.slice(0,-fs.length),t||void 0),!1;{const r=this._transitionablePaint._values[e],n="cross-faded-data-driven"===r.property.specification["property-type"],i=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,r){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),j(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,r,n,i={}){return(!i||!1!==i.validate)&&Ci(this,e.call(wi,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Ye,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof Bo&&Cn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Jn(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const gs=Ho([{name:"a_pos",components:2,type:"Int16"}],4),_s=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ys{constructor(e=[]){this.segments=e}prepareSegment(e,t,r,n){let i=this.segments[this.segments.length-1];return e>ys.MAX_VERTEX_ARRAY_LENGTH&&V(`Max vertices per segment is ${ys.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>ys.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,r,n){return new ys([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}ys.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ii(ys,"SegmentVector");var vs=8192;class xs{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof ws?new ws(e.lng,e.lat):ws.convert(e),this}setSouthWest(e){return this._sw=e instanceof ws?new ws(e.lng,e.lat):ws.convert(e),this}extend(e){const t=this._sw,r=this._ne;let n,i;if(e instanceof ws)n=e,i=e;else{if(!(e instanceof xs))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(xs.convert(e)):this.extend(ws.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lon")?this.extend(ws.convert(e)):this;if(n=e._sw,i=e._ne,!n||!i)return this}return t||r?(t.lng=Math.min(n.lng,t.lng),t.lat=Math.min(n.lat,t.lat),r.lng=Math.max(i.lng,r.lng),r.lat=Math.max(i.lat,r.lat)):(this._sw=new ws(n.lng,n.lat),this._ne=new ws(i.lng,i.lat)),this}getCenter(){return new ws((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ws(this.getWest(),this.getNorth())}getSouthEast(){return new ws(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:r}=ws.convert(e);let n=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n}static convert(e){return!e||e instanceof xs?e:new xs(e)}}const bs=6371008.8;class ws{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ws(M(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,r=this.lat*t,n=e.lat*t,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return bs*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new xs(new ws(this.lng-r,this.lat-t),new ws(this.lng+r,this.lat+t))}static convert(e){if(e instanceof ws)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new ws(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new ws(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ts=2*Math.PI*bs;function Es(e){return Ts*Math.cos(e*Math.PI/180)}function Ss(e){return(180+e)/360}function Cs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ms(e,t){return e/Es(t)}function ks(e){return 360*e-180}function As(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Is(e,t){return e*Es(As(t))}const Ps=85.051129;function zs(e){return 1/Math.cos(e*Math.PI/180)}class Ds{constructor(e,t,r=0){this.x=+e,this.y=+t,this.z=+r}static fromLngLat(e,t=0){const r=ws.convert(e);return new Ds(Ss(r.lng),Cs(r.lat),Ms(t,r.lat))}toLngLat(){return new ws(ks(this.x),As(this.y))}toAltitude(){return Is(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ts*zs(As(this.y))}}function Rs(e,t,r,n,i,o,a,s,l){const c=(t+n)/2,u=(r+i)/2,h=new m(c,u);s(h),function(e,t,r,n,i,o){const a=r-i,s=n-o;return Math.abs((n-t)*a-(r-e)*s)/Math.hypot(a,s)}(h.x,h.y,o.x,o.y,a.x,a.y)>=l?(Rs(e,t,r,c,u,o,h,s,l),Rs(e,c,u,n,i,h,a,s,l)):e.push(a)}function Ls(e,t,r){let n=e[0],i=n.x,o=n.y;t(n);const a=[n];for(let s=1;s<e.length;s++){const l=e[s],{x:c,y:u}=l;t(l),Rs(a,i,o,c,u,n,l,t,r),i=c,o=u,n=l}return a}function Os(e,t,r,n){if(n(t,r)){const i=t.add(r)._mult(.5);Os(e,t,i,n),Os(e,i,r,n)}else e.push(r)}function Bs(e,t){let r=e[0];const n=[r];for(let i=1;i<e.length;i++){const o=e[i];Os(n,r,o,t),r=o}return n}const Fs=Math.pow(2,14)-1,js=-Fs-1;function Us(e,t){const r=Math.round(e.x*t),n=Math.round(e.y*t);return e.x=S(r,js,Fs),e.y=S(n,js,Fs),(r<e.x||r>e.x+1||n<e.y||n>e.y+1)&&V("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Ns(e,t,r){const n=e.loadGeometry(),i=e.extent,o=vs/i;if(t&&r&&r.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:a,x:s,y:l,projection:c}=r,u=e=>{const r=ks((t.x+e.x/i)/o),n=As((t.y+e.y/i)/o),u=c.project(r,n);e.x=(u.x*a-s)*i,e.y=(u.y*a-l)*i};for(let t=0;t<n.length;t++)if(1!==e.type)n[t]=Ls(n[t],u,1);else{const e=[];for(const r of n[t])r.x<0||r.x>=i||r.y<0||r.y>=i||(u(r),e.push(r));n[t]=e}}for(const e of n)for(const t of e)Us(t,o);return n}function Vs(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Ns(e):[]}}function Gs(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}function qs(e,t,r){const n=16384;e.emplaceBack(t.x,t.y,t.z,r[0]*n,r[1]*n,r[2]*n)}class Zs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Ko,this.indexArray=new pa,this.segments=new ys,this.programConfigurations=new ls(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r,n){const i=this.layers[0],o=[];let a=null;"circle"===i.type&&(a=i.layout.get("circle-sort-key"));for(const{feature:t,id:i,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Vs(t,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),c,r))continue;const u=a?a.evaluate(c,{},r):void 0,h={id:i,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Ns(t,r,n),patterns:{},sortKey:u};o.push(h)}a&&o.sort((e,t)=>e.sortKey-t.sortKey);let s=null;"globe"===n.projection.name&&(this.globeExtVertexArray=new Ba,s=n.projection);for(const n of o){const{geometry:i,index:o,sourceLayerIndex:a}=n,l=e[o].feature;this.addFeature(n,i,o,t.availableImages,r,s),t.featureIndex.insert(l,i,o,a,this.index)}}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,_s.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,t,r,n,i,o){for(const r of t)for(const t of r){const r=t.x,n=t.y;if(r<0||r>=vs||n<0||n>=vs)continue;if(o){const e=o.projectTilePoint(r,n,i),t=o.upVector(i,r,n),a=this.globeExtVertexArray;qs(a,e,t),qs(a,e,t),qs(a,e,t),qs(a,e,t)}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=a.vertexLength;Gs(this.layoutVertexArray,r,n,-1,-1),Gs(this.layoutVertexArray,r,n,1,-1),Gs(this.layoutVertexArray,r,n,1,1),Gs(this.layoutVertexArray,r,n,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+2,s+3),a.vertexLength+=4,a.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n,i)}}function $s(e,t){for(let r=0;r<e.length;r++)if(tl(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(tl(e,t[r]))return!0;return!!Ys(e,t)}function Ws(e,t,r){return!!tl(e,t)||!!Js(t,e,r)}function Xs(e,t){if(1===e.length)return el(t,e[0]);for(let r=0;r<t.length;r++){const n=t[r];for(let t=0;t<n.length;t++)if(tl(e,n[t]))return!0}for(let r=0;r<e.length;r++)if(el(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(Ys(e,t[r]))return!0;return!1}function Hs(e,t,r){if(e.length>1){if(Ys(e,t))return!0;for(let n=0;n<t.length;n++)if(Js(t[n],e,r))return!0}for(let n=0;n<e.length;n++)if(Js(e[n],t,r))return!0;return!1}function Ys(e,t){if(0===e.length||0===t.length)return!1;for(let r=0;r<e.length-1;r++){const n=e[r],i=e[r+1];for(let e=0;e<t.length-1;e++)if(Ks(n,i,t[e],t[e+1]))return!0}return!1}function Ks(e,t,r,n){return G(e,r,n)!==G(t,r,n)&&G(e,t,r)!==G(e,t,n)}function Js(e,t,r){const n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(let r=1;r<t.length;r++)if(Qs(e,t[r-1],t[r])<n)return!0;return!1}function Qs(e,t,r){const n=t.distSqr(r);if(0===n)return e.distSqr(t);const i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function el(e,t){let r,n,i,o=!1;for(let a=0;a<e.length;a++){r=e[a];for(let e=0,a=r.length-1;e<r.length;a=e++)n=r[e],i=r[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(o=!o)}return o}function tl(e,t){let r=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const o=e[n],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(r=!r)}return r}function rl(e,t,r,n,i){for(const o of e)if(t<=o.x&&r<=o.y&&n>=o.x&&i>=o.y)return!0;const o=[new m(t,r),new m(t,i),new m(n,i),new m(n,r)];if(e.length>2)for(const t of o)if(tl(e,t))return!0;for(let t=0;t<e.length-1;t++)if(nl(e[t],e[t+1],o))return!0;return!1}function nl(e,t,r){const n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;const o=G(e,t,r[0]);return o!==G(e,t,r[1])||o!==G(e,t,r[2])||o!==G(e,t,r[3])}function il(e,t,r){const n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function ol(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function al(e,t,r,n,i){if(!t[0]&&!t[1])return e;const o=m.convert(t)._mult(i);"viewport"===r&&o._rotate(-n);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}function sl(e,t,r,n){const i=m.convert(e)._mult(n);return"viewport"===t&&i._rotate(-r),i}Ii(Zs,"CircleBucket",{omit:["layers"]});const ll=new qo({"circle-sort-key":new Uo(Ye.layout_circle["circle-sort-key"])});var cl={paint:new qo({"circle-radius":new Uo(Ye.paint_circle["circle-radius"]),"circle-color":new Uo(Ye.paint_circle["circle-color"]),"circle-blur":new Uo(Ye.paint_circle["circle-blur"]),"circle-opacity":new Uo(Ye.paint_circle["circle-opacity"]),"circle-translate":new jo(Ye.paint_circle["circle-translate"]),"circle-translate-anchor":new jo(Ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jo(Ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jo(Ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Uo(Ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Uo(Ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Uo(Ye.paint_circle["circle-stroke-opacity"])}),layout:ll},ul=1e-6,hl="undefined"!=typeof Float32Array?Float32Array:Array;function dl(){var e=new hl(9);return hl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function pl(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=r[0],p=r[1],f=r[2],m=r[3],g=r[4],_=r[5],y=r[6],v=r[7],x=r[8];return e[0]=d*n+p*a+f*c,e[1]=d*i+p*s+f*u,e[2]=d*o+p*l+f*h,e[3]=m*n+g*a+_*c,e[4]=m*i+g*s+_*u,e[5]=m*o+g*l+_*h,e[6]=y*n+v*a+x*c,e[7]=y*i+v*s+x*u,e[8]=y*o+v*l+x*h,e}function fl(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ml(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],_=t[15],y=r*s-n*a,v=r*l-i*a,x=r*c-o*a,b=n*l-i*s,w=n*c-o*s,T=i*c-o*l,E=u*m-h*f,S=u*g-d*f,C=u*_-p*f,M=h*g-d*m,k=h*_-p*m,A=d*_-p*g,I=y*A-v*k+x*M+b*C-w*S+T*E;return I?(e[0]=(s*A-l*k+c*M)*(I=1/I),e[1]=(i*k-n*A-o*M)*I,e[2]=(m*T-g*w+_*b)*I,e[3]=(d*w-h*T-p*b)*I,e[4]=(l*C-a*A-c*S)*I,e[5]=(r*A-i*C+o*S)*I,e[6]=(g*x-f*T-_*v)*I,e[7]=(u*T-d*x+p*v)*I,e[8]=(a*k-s*C+c*E)*I,e[9]=(n*C-r*k-o*E)*I,e[10]=(f*w-m*x+_*y)*I,e[11]=(h*x-u*w-p*y)*I,e[12]=(s*S-a*M-l*E)*I,e[13]=(r*M-n*S+i*E)*I,e[14]=(m*v-f*b-g*y)*I,e[15]=(u*b-h*v+d*y)*I,e):null}function gl(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],_=t[14],y=t[15],v=r[0],x=r[1],b=r[2],w=r[3];return e[0]=v*n+x*s+b*h+w*m,e[1]=v*i+x*l+b*d+w*g,e[2]=v*o+x*c+b*p+w*_,e[3]=v*a+x*u+b*f+w*y,e[4]=(v=r[4])*n+(x=r[5])*s+(b=r[6])*h+(w=r[7])*m,e[5]=v*i+x*l+b*d+w*g,e[6]=v*o+x*c+b*p+w*_,e[7]=v*a+x*u+b*f+w*y,e[8]=(v=r[8])*n+(x=r[9])*s+(b=r[10])*h+(w=r[11])*m,e[9]=v*i+x*l+b*d+w*g,e[10]=v*o+x*c+b*p+w*_,e[11]=v*a+x*u+b*f+w*y,e[12]=(v=r[12])*n+(x=r[13])*s+(b=r[14])*h+(w=r[15])*m,e[13]=v*i+x*l+b*d+w*g,e[14]=v*o+x*c+b*p+w*_,e[15]=v*a+x*u+b*f+w*y,e}function _l(e,t,r){var n,i,o,a,s,l,c,u,h,d,p,f,m=r[0],g=r[1],_=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*_+t[12],e[13]=t[1]*m+t[5]*g+t[9]*_+t[13],e[14]=t[2]*m+t[6]*g+t[10]*_+t[14],e[15]=t[3]*m+t[7]*g+t[11]*_+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=n=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=n*m+s*g+h*_+t[12],e[13]=i*m+l*g+d*_+t[13],e[14]=o*m+c*g+p*_+t[14],e[15]=a*m+u*g+f*_+t[15]),e}function yl(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vl(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+u*n,e[6]=s*i+h*n,e[7]=l*i+d*n,e[8]=c*i-o*n,e[9]=u*i-a*n,e[10]=h*i-s*n,e[11]=d*i-l*n,e}function xl(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-u*n,e[2]=s*i-h*n,e[3]=l*i-d*n,e[8]=o*n+c*i,e[9]=a*n+u*i,e[10]=s*n+h*i,e[11]=l*n+d*i,e}function bl(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function wl(e,t,r){var n,i,o,a=r[0],s=r[1],l=r[2],c=Math.hypot(a,s,l);return c<ul?null:(a*=c=1/c,s*=c,l*=c,n=Math.sin(t),i=Math.cos(t),e[0]=a*a*(o=1-i)+i,e[1]=s*a*o+l*n,e[2]=l*a*o-s*n,e[3]=0,e[4]=a*s*o-l*n,e[5]=s*s*o+i,e[6]=l*s*o+a*n,e[7]=0,e[8]=a*l*o+s*n,e[9]=s*l*o-a*n,e[10]=l*l*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Tl=gl;function El(){var e=new hl(3);return hl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Sl(e){var t=new hl(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Cl(e){return Math.hypot(e[0],e[1],e[2])}function Ml(e,t,r){var n=new hl(3);return n[0]=e,n[1]=t,n[2]=r,n}function kl(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Al(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Il(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Pl(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function zl(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Dl(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Rl(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function Ll(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ol(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bl(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],l=r[2];return e[0]=i*l-o*s,e[1]=o*a-n*l,e[2]=n*s-i*a,e}function Fl(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/(a=a||1),e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function jl(e,t,r){var n=r[0],i=r[1],o=r[2],a=t[0],s=t[1],l=t[2],c=i*l-o*s,u=o*a-n*l,h=n*s-i*a,d=i*h-o*u,p=o*c-n*h,f=n*u-i*c,m=2*r[3];return u*=m,h*=m,p*=2,f*=2,e[0]=a+(c*=m)+(d*=2),e[1]=s+u+p,e[2]=l+h+f,e}var Ul,Nl=Al,Vl=Il,Gl=Cl;function ql(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Zl(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function $l(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function Wl(){var e=new hl(4);return hl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Xl(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Hl(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=i*l+o*s,e[2]=o*l-i*s,e[3]=a*l-n*s,e}function Yl(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l-o*s,e[1]=i*l+a*s,e[2]=o*l+n*s,e[3]=a*l-i*s,e}El(),Ul=new hl(4),hl!=Float32Array&&(Ul[0]=0,Ul[1]=0,Ul[2]=0,Ul[3]=0);var Kl=Zl;El(),Ml(1,0,0),Ml(0,1,0),Wl(),Wl(),dl();class Jl{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,r){const n=Ol(t,this.dir);if(Math.abs(n)<1e-6)return!1;const i=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/n;return r[0]=this.pos[0]+this.dir[0]*i,r[1]=this.pos[1]+this.dir[1]*i,r[2]=this.pos[2]+this.dir[2]*i,!0}closestPointOnSphere(e,t,r){if(function(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(r-o)<=ul*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=ul*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=ul*Math.max(1,Math.abs(i),Math.abs(s))}(this.pos,e)||0===t)return r[0]=r[1]=r[2]=0,!1;const[n,i,o]=this.dir,a=this.pos[0]-e[0],s=this.pos[1]-e[1],l=this.pos[2]-e[2],c=n*n+i*i+o*o,u=2*(a*n+s*i+l*o),h=u*u-4*c*(a*a+s*s+l*l-t*t);if(h<0){const e=Math.max(-u/2,0),c=a+n*e,h=s+i*e,d=l+o*e,p=Math.hypot(c,h,d);return r[0]=c*t/p,r[1]=h*t/p,r[2]=d*t/p,!1}{const e=(-u-Math.sqrt(h))/(2*c);if(e<0){const e=Math.hypot(a,s,l);return r[0]=a*t/e,r[1]=s*t/e,r[2]=l*t/e,!1}return r[0]=a+n*e,r[1]=s+i*e,r[2]=l+o*e,!0}}}class Ql{constructor(e,t,r,n,i){this.TL=e,this.TR=t,this.BR=r,this.BL=n,this.horizon=i}static fromInvProjectionMatrix(e,t,r){const n=[-1,1,1],i=[1,1,1],o=[1,-1,1],a=[-1,-1,1],s=Fl(n,n,e),l=Fl(i,i,e),c=Fl(o,o,e),u=Fl(a,a,e);return new Ql(s,l,c,u,t/r)}}class ec{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,r,n){const i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(r=>{const o=$l([],r,e),a=1/o[3]/t*i;return function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}(o,o,[a,a,n?1/o[3]:a,a])}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const t=Ll([],Bl([],Nl([],o[e[0]],o[e[1]]),Nl([],o[e[2]],o[e[1]]))),r=-Ol(t,o[e[1]]);return t.concat(r)});return new ec(o,a)}}class tc{static fromPoints(e){const t=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0];for(const n of e)Pl(t,t,n),zl(r,r,n);return new tc(t,r)}static applyTransform(e,t){const r=e.getCorners();for(let e=0;e<r.length;++e)Fl(r[e],r[e],t);return tc.fromPoints(r)}constructor(e,t){this.min=e,this.max=t,this.center=Dl([],kl([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],r=Sl(this.min),n=Sl(this.max);for(let e=0;e<t.length;e++)r[e]=t[e]?this.min[e]:this.center[e],n[e]=t[e]?this.center[e]:this.max[e];return n[2]=this.max[2],new tc(r,n)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){const t=this.getCorners();let r=!0;for(let n=0;n<e.planes.length;n++){const i=e.planes[n];let o=0;for(let e=0;e<t.length;e++)o+=Ol(i,t[e])+i[3]>=0;if(0===o)return 0;o!==t.length&&(r=!1)}if(r)return 2;for(let t=0;t<3;t++){let r=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<e.points.length;i++){const o=e.points[i][t]-this.min[t];r=Math.min(r,o),n=Math.max(n,o)}if(n<0||r>this.max[t]-this.min[t])return 0}return 1}}function rc(e,t,r,n,i,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,u=r.projection.upVectorScale(c,r.center.lat,r.worldSize).metersToTile;for(const h of t)for(const t of h){const h=t.add(s),d=i&&r.elevation?r.elevation.exaggeration()*i.getElevationAt(h.x,h.y,!0):0,p=r.projection.projectTilePoint(h.x,h.y,c);if(d>0){const e=r.projection.upVector(c,h.x,h.y);p.x+=e[0]*u*d,p.y+=e[1]*u*d,p.z+=e[2]*u*d}const f=o?h:nc(p.x,p.y,p.z,n),m=o?e.tilespaceRays.map(e=>ac(e,d)):e.queryGeometry.screenGeometry,g=$l([],[p.x,p.y,p.z,1],n);if(!a&&o?l*=g[3]/r.cameraToCenterDistance:a&&!o&&(l*=r.cameraToCenterDistance/g[3]),o){const e=As((t.y/vs+c.y)/(1<<c.z));l/=r.projection.pixelsPerMeter(e,1)/Ms(1,e)}if(Ws(m,f,l))return!0}return!1}function nc(e,t,r,n){const i=$l([],[e,t,r,1],n);return new m(i[0]/i[3],i[1]/i[3])}const ic=Ml(0,0,0),oc=Ml(0,0,1);function ac(e,t){const r=El();return ic[2]=t,e.intersectsPlane(ic,oc,r),new m(r[0],r[1])}class sc extends Zs{}function lc(e,{width:t,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*r*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(t*r*n);return e.width=t,e.height=r,e.data=i,e}function cc(e,t,r){const{width:n,height:i}=t;n===e.width&&i===e.height||(uc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,i)},r),e.width=n,e.height=i,e.data=t.data)}function uc(e,t,r,n,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<i.height;l++){const c=((r.y+l)*e.width+r.x)*o,u=((n.y+l)*t.width+n.x)*o;for(let e=0;e<i.width*o;e++)s[u+e]=a[c+e]}return t}Ii(sc,"HeatmapBucket",{omit:["layers"]});class hc{constructor(e,t){lc(this,e,1,t)}resize(e){cc(this,new hc(e),1)}clone(){return new hc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){uc(e,t,r,n,i,1)}}class dc{constructor(e,t){lc(this,e,4,t)}resize(e){cc(this,new dc(e),4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new dc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){uc(e,t,r,n,i,4)}}Ii(hc,"AlphaImage"),Ii(dc,"RGBAImage");var pc={paint:new qo({"heatmap-radius":new Uo(Ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Uo(Ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jo(Ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Go(Ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jo(Ye.paint_heatmap["heatmap-opacity"])})};function fc(e){const t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new dc({width:r,height:n}),o=(r,n,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);i.data[r+n+0]=Math.floor(255*a.r/a.a),i.data[r+n+1]=Math.floor(255*a.g/a.a),i.data[r+n+2]=Math.floor(255*a.b/a.a),i.data[r+n+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,i=0;t<n;++t,i+=4*r)for(let n=0,a=0;n<r;n++,a+=4){const s=n/(r-1),{start:l,end:c}=e.clips[t];o(i,a,l*(1-s)+c*s)}else for(let e=0,t=0;e<r;e++,t+=4)o(0,t,e/(r-1));return i}var mc={paint:new qo({"hillshade-illumination-direction":new jo(Ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jo(Ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jo(Ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jo(Ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jo(Ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jo(Ye.paint_hillshade["hillshade-accent-color"])})};const gc=Ho([{name:"a_pos",components:2,type:"Int16"}],4),{members:_c}=gc;var yc={exports:{}};function vc(e,t,r){r=r||2;var n,i,o,a,s,l,c,u=t&&t.length,h=u?t[0]*r:e.length,d=xc(e,0,h,r,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(e,t,r,n){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=xc(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(Pc(a));for(s.sort(Mc),i=0;i<s.length;i++)r=kc(s[i],r);return r}(e,t,d,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var f=r;f<h;f+=r)(s=e[f])<n&&(n=s),(l=e[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-n,a-i))?32767/c:0}return wc(d,p,r,n,i,c,0),p}function xc(e,t,r,n,i){var o,a;if(i===qc(e,t,r,n)>0)for(o=t;o<r;o+=n)a=Nc(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=Nc(o,e[o],e[o+1],a);return a&&Lc(a,a.next)&&(Vc(a),a=a.next),a}function bc(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Lc(n,n.next)&&0!==Rc(n.prev,n,n.next))n=n.next;else{if(Vc(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function wc(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{0===i.z&&(i.z=Ic(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,l,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ);t++);for(l=c;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1)}(i)}(e,n,i,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Ec(e,n,i,o):Tc(e))t.push(s.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),Vc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?wc(e=Sc(bc(e),t,r),t,r,n,i,o,2):2===a&&Cc(e,t,r,n,i,o):wc(bc(e),t,r,n,i,o,1);break}}}function Tc(e){var t=e.prev,r=e,n=e.next;if(Rc(t,r,n)>=0)return!1;for(var i=t.x,o=r.x,a=n.x,s=t.y,l=r.y,c=n.y,u=i<o?i<a?i:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,f=n.next;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&zc(i,s,o,l,a,c,f.x,f.y)&&Rc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Ec(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Rc(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,_=Ic(p,f,t,r,n),y=Ic(m,g,t,r,n),v=e.prevZ,x=e.nextZ;v&&v.z>=_&&x&&x.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&zc(s,u,l,h,c,d,v.x,v.y)&&Rc(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&zc(s,u,l,h,c,d,x.x,x.y)&&Rc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;v&&v.z>=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&zc(s,u,l,h,c,d,v.x,v.y)&&Rc(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&zc(s,u,l,h,c,d,x.x,x.y)&&Rc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Sc(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Lc(i,o)&&Oc(i,n,n.next,o)&&jc(i,o)&&jc(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),Vc(n),Vc(n.next),n=e=o),n=n.next}while(n!==e);return bc(n)}function Cc(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Dc(a,s)){var l=Uc(a,s);return a=bc(a,a.next),l=bc(l,l.next),wc(a,t,r,n,i,o,0),void wc(l,t,r,n,i,o,0)}s=s.next}a=a.next}while(a!==e)}function Mc(e,t){return e.x-t.x}function kc(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}n=n.next}while(n!==t);if(!r)return null;var l,c=r,u=r.x,h=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=u&&i!==n.x&&zc(o<h?i:a,o,u,h,o<h?a:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),jc(n,e)&&(l<d||l===d&&(n.x>r.x||n.x===r.x&&Ac(r,n)))&&(r=n,d=l)),n=n.next}while(n!==c);return r}(e,t);if(!r)return t;var n=Uc(r,e);return bc(n,n.next),bc(r,r.next)}function Ac(e,t){return Rc(e.prev,e,t.prev)<0&&Rc(t.next,e,e.next)<0}function Ic(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Pc(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function zc(e,t,r,n,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(n-s)>=(r-a)*(t-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function Dc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Oc(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(jc(e,t)&&jc(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Rc(e.prev,e,t.prev)||Rc(e,t.prev,t))||Lc(e,t)&&Rc(e.prev,e,e.next)>0&&Rc(t.prev,t,t.next)>0)}function Rc(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Lc(e,t){return e.x===t.x&&e.y===t.y}function Oc(e,t,r,n){var i=Fc(Rc(e,t,r)),o=Fc(Rc(e,t,n)),a=Fc(Rc(r,n,e)),s=Fc(Rc(r,n,t));return i!==o&&a!==s||!(0!==i||!Bc(e,r,t))||!(0!==o||!Bc(e,n,t))||!(0!==a||!Bc(r,e,n))||!(0!==s||!Bc(r,t,n))}function Bc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Fc(e){return e>0?1:e<0?-1:0}function jc(e,t){return Rc(e.prev,e,e.next)<0?Rc(e,t,e.next)>=0&&Rc(e,e.prev,t)>=0:Rc(e,t,e.prev)<0||Rc(e,e.next,t)<0}function Uc(e,t){var r=new Gc(e.i,e.x,e.y),n=new Gc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Nc(e,t,r,n){var i=new Gc(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Vc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Gc(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qc(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function Zc(e,t,r,n,i){!function e(t,r,n,i,o){for(;i>n;){if(i-n>600){var a=i-n+1,s=r-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*c/a+u)),Math.min(i,Math.floor(r+(a-s)*c/a+u)),o)}var h=t[r],d=n,p=i;for($c(t,n,r),o(t[i],h)>0&&$c(t,n,i);d<p;){for($c(t,d,p),d++,p--;o(t[d],h)<0;)d++;for(;o(t[p],h)>0;)p--}0===o(t[n],h)?$c(t,n,p):$c(t,++p,i),p<=r&&(n=p+1),r<=p&&(i=p-1)}}(e,t,r||0,n||e.length-1,i||Wc)}function $c(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Wc(e,t){return e<t?-1:e>t?1:0}function Xc(e,t){const r=e.length;if(r<=1)return[e];const n=[];let i,o;for(let t=0;t<r;t++){const r=q(e[t]);0!==r&&(e[t].area=Math.abs(r),void 0===o&&(o=r<0),o===r<0?(i&&n.push(i),i=[e[t]]):i.push(e[t]))}if(i&&n.push(i),t>1)for(let e=0;e<n.length;e++)n[e].length<=t||(Zc(n[e],t,1,n[e].length-1,Hc),n[e]=n[e].slice(0,t));return n}function Hc(e,t){return t.area-e.area}function Yc(e,t,r){const n=r.patternDependencies;let i=!1;for(const r of t){const t=r.paint.get(e+"-pattern");t.isConstant()||(i=!0);const o=t.constantOr(null);o&&(i=!0,n[o.to]=!0,n[o.from]=!0)}return i}function Kc(e,t,r,n,i){const o=i.patternDependencies;for(const a of t){const t=a.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:n-1},r,{},i.availableImages),s=t.evaluate({zoom:n},r,{},i.availableImages),l=t.evaluate({zoom:n+1},r,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[e]=!0,o[s]=!0,o[l]=!0,r.patterns[a.id]={min:e,mid:s,max:l}}}return r}yc.exports=vc,yc.exports.default=vc,vc.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(qc(e,0,i?t[0]*r:e.length,r));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(qc(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r));var l=0;for(a=0;a<n.length;a+=3){var c=n[a]*r,u=n[a+1]*r,h=n[a+2]*r;l+=Math.abs((e[c]-e[h])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[h+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},vc.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&r.holes.push(n+=e[i-1].length)}return r};class Jc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ko,this.indexArray=new pa,this.indexArray2=new va,this.programConfigurations=new ls(e.layers,e.zoom),this.segments=new ys,this.segments2=new ys,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.projection=e.projection}populate(e,t,r,n){this.hasPattern=Yc("fill",this.layers,t);const i=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Vs(a,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),u,r))continue;const h=i?i.evaluate(u,{},r,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Ns(a,r,n),patterns:{},sortKey:h};o.push(d)}i&&o.sort((e,t)=>e.sortKey-t.sortKey);for(const n of o){const{geometry:i,index:o,sourceLayerIndex:a}=n;if(this.hasPattern){const e=Kc("fill",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,o,r,{},t.availableImages);t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}addFeatures(e,t,r,n,i){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,_c),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,r,n,i,o=[]){for(const e of Xc(t,500)){let t=0;for(const r of e)t+=r.length;const r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),n=r.vertexLength,i=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(i.length/2);const r=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),n=r.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(n+t.length-1,n),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(n+e-1,n+e),i.push(t[e].x),i.push(t[e].y);r.vertexLength+=t.length,r.primitiveLength+=t.length}const a=yc.exports(i,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(n+a[e],n+a[e+1],n+a[e+2]);r.vertexLength+=t,r.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,o,n)}}Ii(Jc,"FillBucket",{omit:["layers","patternFeatures"]});const Qc=new qo({"fill-sort-key":new Uo(Ye.layout_fill["fill-sort-key"])});var eu={paint:new qo({"fill-antialias":new jo(Ye.paint_fill["fill-antialias"]),"fill-opacity":new Uo(Ye.paint_fill["fill-opacity"]),"fill-color":new Uo(Ye.paint_fill["fill-color"]),"fill-outline-color":new Uo(Ye.paint_fill["fill-outline-color"]),"fill-translate":new jo(Ye.paint_fill["fill-translate"]),"fill-translate-anchor":new jo(Ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new No(Ye.paint_fill["fill-pattern"])}),layout:Qc};const tu=Ho([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),ru=Ho([{name:"a_centroid_pos",components:2,type:"Uint16"}]),nu=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:iu}=tu;var ou={},au=m,su=lu;function lu(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(cu,this,t)}function cu(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function uu(e){for(var t,r,n=0,i=0,o=e.length,a=o-1;i<o;a=i++)n+=((r=e[a]).x-(t=e[i]).x)*(t.y+r.y);return n}lu.types=["Unknown","Point","LineString","Polygon"],lu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,i=0,o=0,a=0,s=[];e.pos<r;){if(i<=0){var l=e.readVarint();n=7&l,i=l>>3}if(i--,1===n||2===n)o+=e.readSVarint(),a+=e.readSVarint(),1===n&&(t&&s.push(t),t=[]),t.push(new au(o,a));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&s.push(t),s},lu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(n<=0){var u=e.readVarint();r=7&u,n=u>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,c]},lu.prototype.toGeoJSON=function(e,t,r){var n,i,o=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=lu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];u(l=h);break;case 2:for(n=0;n<l.length;n++)u(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],o=0;o<t;o++){var a=uu(e[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)u(l[n][i])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var hu=su,du=pu;function pu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(fu,this,t),this.length=this._features.length}function fu(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}pu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new hu(this._pbf,t,this.extent,this._keys,this._values)};var mu=du;function gu(e,t,r){if(3===e){var n=new mu(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}var _u=ou.VectorTile=function(e,t){this.layers=e.readFields(gu,{},t)},yu=ou.VectorTileFeature=su;function vu(e,t,r,n){const i=[],o=0===n?(e,t,r,n,i,o)=>{e.push(new m(o,r+(o-t)/(n-t)*(i-r)))}:(e,t,r,n,i,o)=>{e.push(new m(t+(o-r)/(i-r)*(n-t),o))};for(const a of e){const e=[];for(const i of a){if(i.length<=2)continue;const a=[];for(let e=0;e<i.length-1;e++){const s=i[e].x,l=i[e].y,c=i[e+1].x,u=i[e+1].y,h=0===n?s:l,d=0===n?c:u;h<t?d>t&&o(a,s,l,c,u,t):h>r?d<r&&o(a,s,l,c,u,r):a.push(i[e]),d<t&&h>=t&&o(a,s,l,c,u,t),d>r&&h<=r&&o(a,s,l,c,u,r)}let s=i[i.length-1];const l=0===n?s.x:s.y;l>=t&&l<=r&&a.push(s),a.length&&(s=a[a.length-1],a[0].x===s.x&&a[0].y===s.y||a.push(a[0]),e.push(a))}e.length&&i.push(e)}return i}ou.VectorTileLayer=du;const xu=yu.types,bu=Math.pow(2,13);function wu(e,t,r,n,i,o,a,s){e.emplaceBack((t<<1)+a,(r<<1)+o,(Math.floor(n*bu)<<1)+i,Math.round(s))}function Tu(e,t,r){const n=16384;e.emplaceBack(t.x,t.y,t.z,r[0]*n,r[1]*n,r[2]*n)}class Eu{constructor(){this.acc=new m(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new m(e.x,e.y),this.max=new m(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);const r=this.min,n=this.max;e.x<r.x?r.x=e.x:e.x>n.x&&(n.x=e.x),e.y<r.y?r.y=e.y:e.y>n.y&&(n.y=e.y),((0===e.x||e.x===vs)&&e.x===t.x)!=((0===e.y||e.y===vs)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Cr(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>vs!=e.x>vs&&this.addBorderIntersection(1,Cr(t.y,e.y,(vs-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Cr(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>vs!=e.y>vs&&this.addBorderIntersection(3,Cr(t.x,e.x,(vs-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const r=this.borders[e];t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const r=0===e.x?0:1;this.addBorderIntersection(r,t.y),this.addBorderIntersection(r,e.y)}else{const r=0===e.y?2:3;this.addBorderIntersection(r,t.x),this.addBorderIntersection(r,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new m(0,0)}span(){return new m(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class Su{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Qo,this.centroidVertexArray=new La,this.indexArray=new pa,this.programConfigurations=new ls(e.layers,e.zoom),this.segments=new ys,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,r,n){this.features=[],this.hasPattern=Yc("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/vs/(1<<e.z)}(r),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:i,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Vs(i,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),l,r))continue;const c={id:o,sourceLayerIndex:s,index:a,geometry:e?l.geometry:Ns(i,r,n),properties:i.properties,type:i.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(Kc("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,a,r,{},t.availableImages,n),t.featureIndex.insert(i,c.geometry,a,s,this.index,u)}this.sortBorders()}addFeatures(e,t,r,n,i){for(const e of this.features){const{geometry:o}=e;this.addFeature(e,o,e.index,t,r,n,i)}this.sortBorders()}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,iu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,nu.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,ru.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,r,n,i,o,a){const s=[new m(0,0),new m(vs,vs)],l=a.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new Eu:null,h="Polygon"===xu[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Ta);const d=Xc(t,500);for(let e=d.length-1;e>=0;e--){const t=d[e];(0===t.length||(p=t[0]).every(e=>e.x<=0)||p.every(e=>e.x>=vs)||p.every(e=>e.y<=0)||p.every(e=>e.y>=vs))&&d.splice(e,1)}var p;let f;if(c)f=Du(d,s,n);else{f=[];for(const e of d)f.push({polygon:e,bounds:s})}const g=h?this.edgeRadius:0;for(const{polygon:e,bounds:t}of f){let r=0,i=0;for(const t of e)h&&!t[0].equals(t[t.length-1])&&t.push(t[0]),i+=h?t.length-1:t.length;const o=this.segments.prepareSegment((h?5:4)*i,this.layoutVertexArray,this.indexArray);if(h){const t=[],i=[];r=o.vertexLength;for(const r of e){let a,s;r.length&&r!==e[0]&&i.push(t.length/2),a=r[1].sub(r[0])._perp()._unit();for(let e=1;e<r.length;e++){const i=r[e],u=r[e===r.length-1?1:e+1];let{x:h,y:d}=i;if(g){s=u.sub(i)._perp()._unit();const e=a.add(s)._unit(),t=g*Math.min(4,1/(a.x*e.x+a.y*e.y));h+=t*e.x,d+=t*e.y,a=s}wu(this.layoutVertexArray,h,d,0,0,1,1,0),o.vertexLength++,t.push(i.x,i.y),c&&Tu(this.layoutVertexExtArray,l.projectTilePoint(h,d,n),l.upVector(n,h,d))}}const a=yc.exports(t,i);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(r+a[e],r+a[e+2],r+a[e+1]),o.primitiveLength++}for(const i of e){u&&i.length&&u.startRing(i[0]);let e,a,s,d=i.length>4&&Iu(i[i.length-2],i[0],i[1]),p=g?Mu(i[i.length-2],i[0],i[1],g):0;a=i[1].sub(i[0])._perp()._unit();let f=!0;for(let m=1,_=0;m<i.length;m++){let y=i[m-1],v=i[m];const x=i[m===i.length-1?1:m+1];if(u&&h&&u.currentPolyCount.top++,Au(v,y,t)){g&&(a=x.sub(v)._perp()._unit(),f=!f);continue}u&&u.append(v,y);const b=v.sub(y)._perp(),w=b.x/(Math.abs(b.x)+Math.abs(b.y)),T=b.y>0?1:0,E=y.dist(v);if(_+E>32768&&(_=0),g){s=x.sub(v)._perp()._unit();let e=ku(y,v,x,Cu(a,s),g);isNaN(e)&&(e=0);const t=v.sub(y)._unit();y=y.add(t.mult(p))._round(),v=v.add(t.mult(-e))._round(),p=e,a=s}const S=o.vertexLength,C=i.length>4&&Iu(y,v,x);let M=Pu(_,d,f);if(wu(this.layoutVertexArray,y.x,y.y,w,T,0,0,M),wu(this.layoutVertexArray,y.x,y.y,w,T,0,1,M),_+=E,M=Pu(_,C,!f),d=C,wu(this.layoutVertexArray,v.x,v.y,w,T,0,0,M),wu(this.layoutVertexArray,v.x,v.y,w,T,0,1,M),o.vertexLength+=4,this.indexArray.emplaceBack(S+0,S+1,S+2),this.indexArray.emplaceBack(S+1,S+3,S+2),o.primitiveLength+=2,g){const n=r+(1===m?i.length-2:m-2),a=1===m?r:n+1;if(this.indexArray.emplaceBack(S+1,n,S+3),this.indexArray.emplaceBack(n,a,S+3),o.primitiveLength+=2,void 0===e&&(e=S),!Au(x,i[m],t)){const t=m===i.length-1?e:o.vertexLength;this.indexArray.emplaceBack(S+2,S+3,t),this.indexArray.emplaceBack(S+3,t+1,t),this.indexArray.emplaceBack(S+3,a,t+1),o.primitiveLength+=3}f=!f}if(c){const e=this.layoutVertexExtArray,t=l.projectTilePoint(y.x,y.y,n),r=l.projectTilePoint(v.x,v.y,n),i=l.upVector(n,y.x,y.y),o=l.upVector(n,v.x,v.y);Tu(e,t,i),Tu(e,t,i),Tu(e,r,o),Tu(e,r,o)}}h&&(r+=i.length-1)}}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;const e=u.borders,t=this.featuresOnBorder.push(u)-1;for(let r=0;r<4;r++)e[r][0]!==Number.MAX_VALUE&&this.borders[r].push(t)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,o,n)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,r)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[r].borders[e][0])}encodeCentroid(e,t,r=!0){let n,i;if(e)if(0!==e.y){const r=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(r.x/10)),i=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(r.y/10))}else n=Math.ceil(7*(e.x+450)),i=0;else n=0,i=+r;let o=r?this.centroidVertexArray.length:t.vertexArrayOffset;for(const e of t.polyCount){r&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*e.edges+e.top);for(let t=0;t<e.top;t++)this.centroidVertexArray.emplace(o++,n,i);for(let t=0;t<2*e.edges;t++)this.centroidVertexArray.emplace(o++,0,i),this.centroidVertexArray.emplace(o++,n,i)}}}function Cu(e,t){const r=e.add(t)._unit();return e.x*r.x+e.y*r.y}function Mu(e,t,r,n){const i=t.sub(e)._perp()._unit(),o=r.sub(t)._perp()._unit();return ku(e,t,r,Cu(i,o),n)}function ku(e,t,r,n,i){const o=Math.sqrt(1-n*n);return Math.min(e.dist(t)/3,t.dist(r)/3,i*o/n)}function Au(e,t,r){return e.x<r[0].x&&t.x<r[0].x||e.x>r[1].x&&t.x>r[1].x||e.y<r[0].y&&t.y<r[0].y||e.y>r[1].y&&t.y>r[1].y}function Iu(e,t,r){if(e.x<0||e.x>=vs||t.x<0||t.x>=vs||r.x<0||r.x>=vs)return!1;const n=r.sub(t),i=n.perp(),o=e.sub(t);return(n.x*o.x+n.y*o.y)/Math.sqrt((n.x*n.x+n.y*n.y)*(o.x*o.x+o.y*o.y))>-.866&&i.x*o.x+i.y*o.y<0}function Pu(e,t,r){const n=t?2|e:-3&e;return r?1|n:-2&n}function zu(){const e=Math.PI/32,t=Math.tan(e),r=bs;return r*Math.sqrt(1+2*t*t)-r}function Du(e,t,r){const n=1<<r.z,i=ks(r.x/n),o=ks((r.x+1)/n),a=As(r.y/n),s=As((r.y+1)/n);return function(e,t,r,n,i=0,o){const a=[];if(!e.length||!r||!n)return a;const s=(e,t)=>{for(const r of e)a.push({polygon:r,bounds:t})},l=Math.ceil(Math.log2(r)),c=Math.ceil(Math.log2(n)),u=l-c,h=[];for(let e=0;e<Math.abs(u);e++)h.push(u>0?0:1);for(let e=0;e<Math.min(l,c);e++)h.push(0),h.push(1);let d=e;if(d=vu(d,t[0].y-i,t[1].y+i,1),d=vu(d,t[0].x-i,t[1].x+i,0),!d.length)return a;const p=[];for(h.length?p.push({polygons:d,bounds:t,depth:0}):s(d,t);p.length;){const e=p.pop(),t=e.depth,r=h[t],n=e.bounds[0],a=e.bounds[1],l=0===r?n.x:n.y,c=0===r?a.x:a.y,u=o?o(r,l,c):.5*(l+c),d=vu(e.polygons,l-i,u+i,r),f=vu(e.polygons,u-i,c+i,r);if(d.length){const e=[n,new m(0===r?u:a.x,1===r?u:a.y)];h.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):s(d,e)}if(f.length){const e=[new m(0===r?u:n.x,1===r?u:n.y),a];h.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):s(f,e)}}return a}(e,t,Math.ceil((o-i)/11.25),Math.ceil((a-s)/11.25),1,(e,t,i)=>{if(0===e)return.5*(t+i);{const e=As((r.y+t/vs)/n);return(Cs(.5*(As((r.y+i/vs)/n)+e))*n-r.y)*vs}})}Ii(Su,"FillExtrusionBucket",{omit:["layers","features"]}),Ii(Eu,"PartMetadata");const Ru=new qo({"fill-extrusion-edge-radius":new jo(Ye["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Lu={paint:new qo({"fill-extrusion-opacity":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Uo(Ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new No(Ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Uo(Ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Uo(Ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Ru};function Ou(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}class Bu{constructor(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Uu(0,e,e,t,r)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const r=function(e,t,r){var n=Ou(256*e,256*(t=Math.pow(2,r)-t-1),r),i=Ou(256*(e+1),256*(t+1),r);return n[0]+","+n[1]+","+i[0]+","+i[1]}(this.x,this.y,this.z),n=function(e,t,r){let n,i="";for(let o=e;o>0;o--)n=1<<o-1,i+=(t&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",n).replace("{bbox-epsg-3857}",r)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Fu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Uu(e,t.z,t.z,t.x,t.y)}}class ju{constructor(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Bu(r,+n,+i),this.key=0===t&&e===r?this.canonical.key:Uu(t,e,r,n,i)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new ju(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ju(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Uu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const r=this.canonical.z-e;return Uu(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new ju(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new ju(t,this.wrap,t,r,n),new ju(t,this.wrap,t,r+1,n),new ju(t,this.wrap,t,r,n+1),new ju(t,this.wrap,t,r+1,n+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ju(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ju(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Fu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Uu(e,t,r,n,i){const o=1<<Math.min(r,22);let a=o*(i%o)+n%o;return e&&r<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-r)))),16*(32*a+r)+(t-r)}Ii(Bu,"CanonicalTileID"),Ii(ju,"OverscaledTileID",{omit:["projMatrix"]});class Nu extends m{constructor(e,t,r){super(e,t),this.z=r}}function Vu(e,t){return e.x*t.x+e.y*t.y}function Gu(e,t){if(1===e.length){let r=0;const n=t[r++];let i;for(;!i||n.equals(i);)if(i=t[r++],!i)return 1/0;for(;r<t.length;r++){const o=t[r],a=e[0],s=i.sub(n),l=o.sub(n),c=a.sub(n),u=Vu(s,s),h=Vu(s,l),d=Vu(l,l),p=Vu(c,s),f=Vu(c,l),m=u*d-h*h,g=(d*p-h*f)/m,_=(u*f-h*p)/m,y=n.z*(1-g-_)+i.z*g+o.z*_;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const r of t)e=Math.min(e,r.z);return e}}function qu(e,t,r,n,i,o,a,s){const l=a*i.getElevationAt(e,t,!0,!0),c=0!==o[0],u=c?0===o[1]?a*(o[0]/7-450):a*function(e,t,r){const n=Math.floor(t[0]/8),i=Math.floor(t[1]/8),o=10*(t[0]-8*n),a=10*(t[1]-8*i),s=e.getElevationAt(n,i,!0,!0),l=e.getMeterToDEM(r),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(a*l-1)),h=e.tileCoordToPixel(n,i),d=2*c+1,p=2*u+1,f=function(e,t,r,n,i){return[e.getElevationAtPixel(t,r,!0),e.getElevationAtPixel(t+i,r,!0),e.getElevationAtPixel(t,r+i,!0),e.getElevationAtPixel(t+n,r+i,!0)]}(e,h.x-c,h.y-u,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),_=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),y=Math.min(.25,.5*l*(m+g)/d),v=Math.min(.25,.5*l*_/p);return s+Math.max(y*o,v*a)}(i,o,s):l;return{base:l+(0===r)?-1:r,top:c?Math.max(u+n,l+r+2):l+n}}const Zu=Ho([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:$u}=Zu,Wu=Ho([{name:"a_packed",components:4,type:"Float32"}]),{members:Xu}=Wu,Hu=yu.types,Yu=Math.cos(Math.PI/180*37.5);class Ku{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new ea,this.layoutVertexArray2=new ta,this.indexArray=new pa,this.programConfigurations=new ls(e.layers,e.zoom),this.segments=new ys,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r,n){this.hasPattern=Yc("line",this.layers,t);const i=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Vs(t,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),c,r))continue;const u=i?i.evaluate(c,{},r):void 0,h={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Ns(t,r,n),patterns:{},sortKey:u};o.push(h)}i&&o.sort((e,t)=>e.sortKey-t.sortKey);const{lineAtlas:a,featureIndex:s}=t,l=this.addConstantDashes(a);for(const n of o){const{geometry:i,index:o,sourceLayerIndex:c}=n;if(l&&this.addFeatureDashes(n,a),this.hasPattern){const e=Kc("line",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,o,r,a.positions,t.availableImages);s.insert(e[o].feature,i,o,c,this.index)}}addConstantDashes(e){let t=!1;for(const r of this.layers){const n=r.paint.get("line-dasharray").value,i=r.layout.get("line-cap").value;if("constant"!==n.kind||"constant"!==i.kind)t=!0;else{const t=i.value,r=n.value;if(!r)continue;e.addDash(r.from,t),e.addDash(r.to,t),r.other&&e.addDash(r.other,t)}}return t}addFeatureDashes(e,t){const r=this.zoom;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,o=n.layout.get("line-cap").value;if("constant"===i.kind&&"constant"===o.kind)continue;let a,s,l,c,u,h;if("constant"===i.kind){const e=i.value;if(!e)continue;a=e.other||e.to,s=e.to,l=e.from}else a=i.evaluate({zoom:r-1},e),s=i.evaluate({zoom:r},e),l=i.evaluate({zoom:r+1},e);"constant"===o.kind?c=u=h=o.value:(c=o.evaluate({zoom:r-1},e),u=o.evaluate({zoom:r},e),h=o.evaluate({zoom:r+1},e)),t.addDash(a,c),t.addDash(s,u),t.addDash(l,h);const d=t.getKey(a,c),p=t.getKey(s,u),f=t.getKey(l,h);e.patterns[n.id]={min:d,mid:p,max:f}}}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}addFeatures(e,t,r,n,i){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Xu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,$u),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,r,n,i,o){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),c=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const r of t)this.addLine(r,e,s,l,c,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,o,n)}addLine(e,t,r,n,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Hu[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===r&&(i=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=e[s-2],m=e[l].sub(h)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?a?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(f=m),h&&(d=h),h=e[t],m=p?p.sub(h)._unit()._perp():f,f=f||m;let g=f.add(m);0===g.x&&0===g.y||g._unit();const _=f.x*m.x+f.y*m.y,y=g.x*m.x+g.y*m.y,v=0!==y?1/y:1/0,x=2*Math.sqrt(2-2*y),b=y<Yu&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&t>l){const e=h.dist(d);if(e>2*c){const t=h.sub(h.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}const T=d&&p;let E=T?r:a?"butt":n;if(T&&"round"===E&&(v<o?E="miter":v<=2&&(E="fakeround")),"miter"===E&&v>i&&(E="bevel"),"bevel"===E&&(v>2&&(E="flipbevel"),v<i&&(E="miter")),d&&this.updateDistance(d,h),"miter"===E)g._mult(v),this.addCurrentVertex(h,g,0,0,u);else if("flipbevel"===E){if(v>100)g=m.mult(-1);else{const e=v*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,g,0,0,u),this.addCurrentVertex(h,g.mult(-1),0,0,u)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(v*v-1),t=w?e:0,r=w?0:e;if(d&&this.addCurrentVertex(h,f,t,r,u),"fakeround"===E){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let r=t/e;if(.5!==r){const e=r-.5;r+=r*e*(r-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*e*e+(.848013+_*(.215638*_-1.06021)))}const n=m.sub(f)._mult(r)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,n.x,n.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-t,-r,u)}else if("butt"===E)this.addCurrentVertex(h,g,0,0,u);else if("square"===E){const e=d?1:-1;d||this.addCurrentVertex(h,g,e,e,u),this.addCurrentVertex(h,g,0,0,u),d&&this.addCurrentVertex(h,g,e,e,u)}else"round"===E&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(b&&t<s-1){const e=h.dist(p);if(e>2*c){const t=h.add(p.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}}}addCurrentVertex(e,t,r,n,i,o=!1){const a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,o,!1,r,i),this.addHalfVertex(e,a,s,o,!0,-n,i)}addHalfVertex({x:e,y:t},r,n,i,o,a,s){this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Ii(Ku,"LineBucket",{omit:["layers","patternFeatures"]});const Ju=new qo({"line-cap":new Uo(Ye.layout_line["line-cap"]),"line-join":new Uo(Ye.layout_line["line-join"]),"line-miter-limit":new jo(Ye.layout_line["line-miter-limit"]),"line-round-limit":new jo(Ye.layout_line["line-round-limit"]),"line-sort-key":new Uo(Ye.layout_line["line-sort-key"])});var Qu={paint:new qo({"line-opacity":new Uo(Ye.paint_line["line-opacity"]),"line-color":new Uo(Ye.paint_line["line-color"]),"line-translate":new jo(Ye.paint_line["line-translate"]),"line-translate-anchor":new jo(Ye.paint_line["line-translate-anchor"]),"line-width":new Uo(Ye.paint_line["line-width"]),"line-gap-width":new Uo(Ye.paint_line["line-gap-width"]),"line-offset":new Uo(Ye.paint_line["line-offset"]),"line-blur":new Uo(Ye.paint_line["line-blur"]),"line-dasharray":new No(Ye.paint_line["line-dasharray"]),"line-pattern":new No(Ye.paint_line["line-pattern"]),"line-gradient":new Go(Ye.paint_line["line-gradient"]),"line-trim-offset":new jo(Ye.paint_line["line-trim-offset"])}),layout:Ju};const eh=new class extends Uo{possiblyEvaluate(e,t){return t=new Io(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,r,n){return t=I({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,r,n)}}(Qu.paint.properties["line-width"].specification);function th(e,t){return t>0?t+2*e:e}eh.useIntegerZoom=!0;const rh=Ho([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nh=Ho([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),ih=Ho([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ho([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const oh=Ho([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),ah=Ho([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const sh=Ho([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),lh=Ho([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ho([{name:"triangle",components:3,type:"Uint16"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ho([{type:"Float32",name:"offsetX"}]),Ho([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const ch=128;function uh(e,t){const{expression:r}=t;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new Io(e+1))};if("source"===r.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:n}=r;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let o=i;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[i],s=t[o];return"composite"===r.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:n}:{kind:"camera",minZoom:a,maxZoom:s,minSize:r.evaluate(new Io(a)),maxSize:r.evaluate(new Io(s)),interpolationType:n}}}function hh(e,{uSize:t,uSizeT:r},{lowerSize:n,upperSize:i}){return"source"===e.kind?n/ch:"composite"===e.kind?Cr(n/ch,i/ch,r):t}function dh(e,t){let r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:o,maxZoom:a}=e,s=i?S(Gr.interpolationFactor(i,t,o,a),0,1):0;"camera"===e.kind?n=Cr(e.minSize,e.maxSize,s):r=s}return{uSizeT:r,uSize:n}}var ph=Object.freeze({__proto__:null,getSizeData:uh,evaluateSizeForFeature:hh,evaluateSizeForZoom:dh,SIZE_PACK_FACTOR:ch});function fh(e,t,r){return e.sections.forEach(e=>{e.text=function(e,t,r){const n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),Ao.applyArabicShaping&&(e=Ao.applyArabicShaping(e)),e}(e.text,t,r)}),e}const mh={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function gh(e){return"︶"===e||"﹈"===e||"︸"===e||"﹄"===e||"﹂"===e||"︾"===e||"︼"===e||"︺"===e||"︘"===e||"﹀"===e||"︐"===e||"︓"===e||"︔"===e||"｀"===e||"￣"===e||"︑"===e||"︒"===e}function _h(e){return"︵"===e||"﹇"===e||"︷"===e||"﹃"===e||"﹁"===e||"︽"===e||"︻"===e||"︹"===e||"︗"===e||"︿"===e}var yh=bh,vh=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},xh=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=f,a/=256,c-=8);e[r+p-f]|=128*m};function bh(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}bh.Varint=0,bh.Fixed64=1,bh.Bytes=2,bh.Fixed32=5;var wh=4294967296,Th=1/wh,Eh="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Sh(e){return e.type===bh.Bytes?e.readVarint()+e.pos:e.pos+1}function Ch(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Mh(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function kh(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Ah(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Ih(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Ph(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function zh(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Dh(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Rh(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Lh(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Oh(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function Bh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Fh(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function jh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Uh(e,t,r){t.glyphs=[],1===e&&r.readMessage(Nh,t)}function Nh(e,t,r){if(3===e){const{id:e,bitmap:n,width:i,height:o,left:a,top:s,advance:l}=r.readMessage(Vh,{});t.glyphs.push({id:e,bitmap:new hc({width:i+6,height:o+6},n),metrics:{width:i,height:o,left:a,top:s,advance:l}})}else 4===e?t.ascender=r.readSVarint():5===e&&(t.descender=r.readSVarint())}function Vh(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function Gh(e){let t=0,r=0;for(const n of e)t+=n.w*n.h,r=Math.max(r,n.w);e.sort((e,t)=>t.h-e.h);const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let i=0,o=0;for(const t of e)for(let e=n.length-1;e>=0;e--){const r=n[e];if(!(t.w>r.w||t.h>r.h)){if(t.x=r.x,t.y=r.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===r.w&&t.h===r.h){const t=n.pop();e<n.length&&(n[e]=t)}else t.h===r.h?(r.x+=t.w,r.w-=t.w):t.w===r.w?(r.y+=t.h,r.h-=t.h):(n.push({x:r.x+t.w,y:r.y,w:r.w-t.w,h:t.h}),r.y+=t.h,r.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}bh.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Bh(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=jh(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Bh(this.buf,this.pos)+Bh(this.buf,this.pos+4)*wh;return this.pos+=8,e},readSFixed64:function(){var e=Bh(this.buf,this.pos)+jh(this.buf,this.pos+4)*wh;return this.pos+=8,e},readFloat:function(){var e=vh(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=vh(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o=r.buf;if(n=(112&(i=o[r.pos++]))>>4,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<3,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<10,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<17,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<24,i<128)return Ch(e,n,t);if(n|=(1&(i=o[r.pos++]))<<31,i<128)return Ch(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Eh?function(e,t,r){return Eh.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var o,a,s,l=e[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>r)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),i+=u}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==bh.Bytes)return e.push(this.readVarint(t));var r=Sh(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==bh.Bytes)return e.push(this.readSVarint());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==bh.Bytes)return e.push(this.readBoolean());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==bh.Bytes)return e.push(this.readFloat());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==bh.Bytes)return e.push(this.readDouble());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==bh.Bytes)return e.push(this.readFixed32());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==bh.Bytes)return e.push(this.readSFixed32());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==bh.Bytes)return e.push(this.readFixed64());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==bh.Bytes)return e.push(this.readSFixed64());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===bh.Varint)for(;this.buf[this.pos++]>127;);else if(t===bh.Bytes)this.pos=this.readVarint()+this.pos;else if(t===bh.Fixed32)this.pos+=4;else{if(t!==bh.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Fh(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Fh(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Fh(this.buf,-1&e,this.pos),Fh(this.buf,Math.floor(e*Th),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Fh(this.buf,-1&e,this.pos),Fh(this.buf,Math.floor(e*Th),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Mh(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),xh(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),xh(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&Mh(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,bh.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,kh,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Ah,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,zh,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Ih,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Ph,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Dh,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Rh,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Lh,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Oh,t)},writeBytesField:function(e,t){this.writeTag(e,bh.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,bh.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,bh.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,bh.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,bh.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,bh.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,bh.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,bh.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,bh.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,bh.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class qh{constructor(e,{pixelRatio:t,version:r,stretchX:n,stretchY:i,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=i,this.content=o,this.version=r}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Zh{constructor(e,t){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,r,i),this.addImages(t,n,i);const{w:o,h:a}=Gh(i),s=new dc({width:o||1,height:a||1});for(const t in e){const n=e[t],i=r[t].paddedRect;dc.copy(n.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data)}for(const e in t){const r=t[e],i=n[e].paddedRect,o=i.x+1,a=i.y+1,l=r.data.width,c=r.data.height;dc.copy(r.data,s,{x:0,y:0},{x:o,y:a},r.data),dc.copy(r.data,s,{x:0,y:c-1},{x:o,y:a-1},{width:l,height:1}),dc.copy(r.data,s,{x:0,y:0},{x:o,y:a+c},{width:l,height:1}),dc.copy(r.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:c}),dc.copy(r.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:c})}this.image=s,this.iconPositions=r,this.patternPositions=n}addImages(e,t,r){for(const n in e){const i=e[n],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(o),t[n]=new qh(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(e,t){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(t=>e.hasImage(t)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)}patchUpdatedImage(e,t,r){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[n,i]=e.tl;r.update(t.data,void 0,{x:n,y:i})}}Ii(qh,"ImagePosition"),Ii(Zh,"ImageAtlas");const $h={horizontal:1,vertical:2,horizontalOnly:3};class Wh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const r=new Wh;return r.scale=e||1,r.fontStack=t,r}static forImage(e){const t=new Wh;return t.imageName=e,t}}class Xh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const r=new Xh;for(let n=0;n<e.sections.length;n++){const i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let r="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n+1)||null,o=e.charCodeAt(n-1)||null;r+=!t&&(i&&fo(i)&&!mh[e[n+1]]||o&&fo(o)&&!mh[e[n-1]])||!mh[e[n]]?e[n]:mh[e[n]]}return r}(this.text,e)}trim(){let e=0;for(let t=0;t<this.text.length&&Yh[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let r=this.text.length-1;r>=0&&r>=e&&Yh[this.text.charCodeAt(r)];r--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const r=new Xh;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Wh.forText(e.scale,e.fontStack||t));const r=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(r)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void V("Can't add FormattedSection with an empty image.");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(Wh.forImage(t)),this.sectionIndex.push(this.sections.length-1)):V("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Hh(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f){const m=Xh.fromFeature(e,i);h===$h.vertical&&m.verticalizePunctuation(d);let g=[];const _=function(e,t,r,n,i,o){if(!e)return[];const a=[],s=function(e,t,r,n,i,o){let a=0;for(let r=0;r<e.length();r++){const s=e.getSection(r);a+=Jh(e.getCharCode(r),s,n,i,t,o)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,i,o),l=e.text.indexOf("​")>=0;let c=0;for(let r=0;r<e.length();r++){const h=e.getSection(r),d=e.getCharCode(r);if(Yh[d]||(c+=Jh(d,h,n,i,t,o)),r<e.length()-1){const t=!((u=d)<11904||!($i(u)||Zi(u)||oo(u)||ro(u)||Yi(u)||ji(u)||Wi(u)||Vi(u)||Ki(u)||Ji(u)||Hi(u)||lo(u)||Gi(u)||Ni(u)||Ui(u)||Xi(u)||qi(u)||io(u)||eo(u)||Qi(u)));(Kh[d]||t||h.imageName)&&a.push(td(r+1,c,s,a,ed(d,e.getCharCode(r+1),t&&l),!1))}}var u;return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(td(e.length(),c,s,a,0,!0))}(m,c,o,t,n,p),{processBidirectionalText:y,processStyledBidirectionalText:v}=Ao;if(y&&1===m.sections.length){const e=y(m.toString(),_);for(const t of e){const e=new Xh;e.text=t,e.sections=m.sections;for(let r=0;r<t.length;r++)e.sectionIndex.push(0);g.push(e)}}else if(v){const e=v(m.text,m.sectionIndex,_);for(const t of e){const e=new Xh;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,g.push(e)}}else g=function(e,t){const r=[],n=e.text;let i=0;for(const n of t)r.push(e.substring(i,n)),i=n;return i<n.length&&r.push(e.substring(i,n.length)),r}(m,_);const x=[],b={positionedLines:x,text:m.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,r,n,i,o,a,s,l,c,u,h){let d=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const e of i){const r=e.getSections();for(const e of r){if(e.imageName)continue;const r=t[e.fontStack];if(r&&(g=void 0!==r.ascender&&void 0!==r.descender,!g))break}if(!g)break}let _=0;for(const a of i){a.trim();const i=a.getMaxScale(),s=24*(i-1),v={positionedGlyphs:[],lineOffset:0};e.positionedLines[_]=v;const x=v.positionedGlyphs;let b=0;if(!a.length()){p+=o,++_;continue}let w=0,T=0;for(let o=0;o<a.length();o++){const s=a.getSection(o),f=a.getSectionIndex(o),m=a.getCharCode(o);let _=s.scale,v=null,E=null,S=null,C=24,M=0;const k=!(l===$h.horizontal||!u&&!po(m)||u&&(Yh[m]||(y=m,Oi(y)||Bi(y)||Fi(y)||no(y)||so(y))));if(s.imageName){const t=n[s.imageName];if(!t)continue;S=s.imageName,e.iconsInText=e.iconsInText||!0,E=t.paddedRect;const r=t.displaySize;_=24*_/h,v={width:r[0],height:r[1],left:1,top:-3,advance:k?r[1]:r[0],localGlyph:!1},M=g?-v.height*_:24*i-17-r[1]*_,C=v.advance;const o=(k?r[0]:r[1])*_-24*i;o>0&&o>b&&(b=o)}else{const e=r[s.fontStack];if(!e)continue;e[m]&&(E=e[m]);const n=t[s.fontStack];if(!n)continue;const o=n.glyphs[m];if(!o)continue;if(v=o.metrics,C=8203!==m?24:0,g){const e=void 0!==n.ascender?Math.abs(n.ascender):0,t=void 0!==n.descender?Math.abs(n.descender):0,r=(e+t)*_;w<r&&(w=r,T=(e-t)/2*_),M=-e*_}else M=24*(i-_)-17}k?(e.verticalizable=!0,x.push({glyph:m,imageName:S,x:d,y:p+M,vertical:k,scale:_,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=C*_+c):(x.push({glyph:m,imageName:S,x:d,y:p+M,vertical:k,scale:_,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=v.advance*_+c)}0!==x.length&&(f=Math.max(d-c,f),g?nd(x,m,b,T,o*i/2):nd(x,m,b,0,o/2)),d=0;const E=o*i+b;v.lineOffset=Math.max(b,s),p+=E,++_}var y;const v=p,{horizontalAlign:x,verticalAlign:b}=rd(a);(function(e,t,r,n,i,o){const a=(t-r)*i,s=-o*n;for(const t of e)for(const e of t.positionedGlyphs)e.x+=a,e.y+=s})(e.positionedLines,m,x,b,f,v),e.top+=-b*v,e.bottom=e.top+v,e.left+=-x*f,e.right=e.left+f,e.hasBaseline=g}(b,t,r,n,g,a,s,l,h,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&b}const Yh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Kh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Jh(e,t,r,n,i,o){if(t.imageName){const e=n[t.imageName];return e?e.displaySize[0]*t.scale*24/o+i:0}{const n=r[t.fontStack],o=n&&n.glyphs[e];return o?o.metrics.advance*t.scale+i:0}}function Qh(e,t,r,n){const i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function ed(e,t,r){let n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function td(e,t,r,n,i,o){let a=null,s=Qh(t,r,i,o);for(const e of n){const n=Qh(t-e.x,r,i,o)+e.badness;n<=s&&(a=e,s=n)}return{index:e,x:t,priorBreak:a,badness:s}}function rd(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function nd(e,t,r,n,i){if(!(t||r||n||i))return;const o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t;for(let t=0;t<=o;t++)e[t].x-=s,e[t].y+=r+n+i}function id(e,t,r){const{horizontalAlign:n,verticalAlign:i}=rd(r),o=t[0]-e.displaySize[0]*n,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function od(e,t,r,n,i,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,h,d,p;"width"===r||"both"===r?(p=i[0]+l-n[3],h=i[0]+c+n[1]):(p=i[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===r||"both"===r?(u=i[1]+f-n[0],d=i[1]+m+n[2]):(u=i[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}class ad extends m{constructor(e,t,r,n,i){super(e,t),this.angle=n,this.z=r,void 0!==i&&(this.segment=i)}clone(){return new ad(this.x,this.y,this.z,this.angle,this.segment)}}function sd(e,t,r,n,i){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-r/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<r/2;){const t=e[a],r=e[a+1];if(!r)return!1;let o=e[a-1].angleTo(t)-t.angleTo(r);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>n;)c-=l.shift().angleDelta;if(c>i)return!1;a++,s+=t.dist(r)}return!0}function ld(e){let t=0;for(let r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function cd(e,t,r){return e?.6*t*r:0}function ud(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function hd(e,t,r,n,i,o){const a=cd(r,i,o),s=ud(r,n)*o;let l=0;const c=ld(e)/2;for(let r=0;r<e.length-1;r++){const n=e[r],i=e[r+1],o=n.dist(i);if(l+o>c){const u=(c-l)/o,h=Cr(n.x,i.x,u),d=Cr(n.y,i.y,u),p=new ad(h,d,0,i.angleTo(n),r);return!a||sd(e,p,s,a,t)?p:void 0}l+=o}}function dd(e,t,r,n,i,o,a,s,l){const c=cd(n,o,a),u=ud(n,i),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),function e(t,r,n,i,o,a,s,l,c){const u=a/2,h=ld(t);let d=0,p=r-n,f=[];for(let e=0;e<t.length-1;e++){const r=t[e],s=t[e+1],l=r.dist(s),m=s.angleTo(r);for(;p+n<d+l;){p+=n;const g=(p-d)/l,_=Cr(r.x,s.x,g),y=Cr(r.y,s.y,g);if(_>=0&&_<c&&y>=0&&y<c&&p-u>=0&&p+u<=h){const r=new ad(_,y,0,m,e);r._round(),i&&!sd(t,r,a,i,o)||f.push(r)}}d+=l}return l||f.length||s||(f=e(t,d/2,n,i,o,a,s,!0,c)),f}(e,d?t/2*s%t:(u/2+2*o)*a*s%t,t,c,r,h,d,!1,l)}function pd(e,t,r,n,i){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<r&&c.y<r||(a.y<r?a=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y<r&&(c=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),a.x>=n&&c.x>=n||(a.x>=n?a=new m(n,a.y+(n-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=n&&(c=new m(n,a.y+(n-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=i&&c.y>=i||(a.y>=i?a=new m(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round():c.y>=i&&(c=new m(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}Ii(ad,"Anchor");const fd=1e20;function md(e,t,r,n,i,o,a,s,l){for(let c=t;c<t+n;c++)gd(e,r*o+c,o,i,a,s,l);for(let c=r;c<r+i;c++)gd(e,c*o+t,1,n,a,s,l)}function gd(e,t,r,n,i,o,a){o[0]=0,a[0]=-fd,a[1]=fd,i[0]=e[t];for(let s=1,l=0,c=0;s<n;s++){i[s]=e[t+s*r];const n=s*s;do{const e=o[l];c=(i[s]-i[e]+n-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=fd}for(let s=0,l=0;s<n;s++){for(;a[l+1]<s;)l++;const n=o[l],c=s-n;e[t+s*r]=i[n]+c*c}}const _d={none:0,ideographs:1,all:2};class yd{constructor(e,t,r){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const r=[];for(const t in e)for(const n of e[t])r.push({stack:t,id:n});k(r,({stack:e,id:t},r)=>{let n=this.entries[e];n||(n=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let i=n.glyphs[t];if(void 0!==i)return void r(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(n,e,t),i)return n.glyphs[t]=i,void r(null,{stack:e,id:t,glyph:i});const o=Math.floor(t/256);if(256*o>65535)return void r(new Error("glyphs > 65535 not supported"));if(n.ranges[o])return void r(null,{stack:e,id:t,glyph:i});let a=n.requests[o];a||(a=n.requests[o]=[],yd.loadGlyphRange(e,o,this.url,this.requestManager,(e,t)=>{if(t){n.ascender=t.ascender,n.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(n.glyphs[+e]=t.glyphs[+e]);n.ranges[o]=!0}for(const r of a)r(e,t);delete n.requests[o]})),a.push((n,i)=>{n?r(n):i&&r(null,{stack:e,id:t,glyph:i.glyphs[t]||null})})},(e,r)=>{if(e)t(e);else if(r){const e={};for(const{stack:t,id:n,glyph:i}of r)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==_d.none&&(this.localGlyphMode===_d.all?!!this.localFontFamily:!!this.localFontFamily&&(Ji(e)||to(e)||Gi(e)||qi(e)||Vi(e)))}_tinySDF(e,t,r){const n=this.localFontFamily;if(!n||!this._doesCharSupportLocalGlyph(r))return;let i=e.tinySDF;if(!i){let r="400";/bold/i.test(t)?r="900":/medium/i.test(t)?r="500":/light/i.test(t)&&(r="200"),i=e.tinySDF=new yd.TinySDF({fontFamily:n,fontWeight:r,fontSize:48,buffer:6,radius:16}),i.fontWeight=r}if(this.localGlyphs[i.fontWeight][r])return this.localGlyphs[i.fontWeight][r];const o=String.fromCharCode(r),{data:a,width:s,height:l,glyphWidth:c,glyphHeight:u,glyphLeft:h,glyphTop:d,glyphAdvance:p}=i.draw(o);return this.localGlyphs[i.fontWeight][r]={id:r,bitmap:new hc({width:s,height:l},a),metrics:{width:c/2,height:u/2,left:h/2,top:d/2-27,advance:p/2,localGlyph:!0}}}}function vd(e,t,r,n){const i=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,h=o.stretchX||[[0,s]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=h.reduce(p,0),g=d.reduce(p,0),_=s-f,y=l-g;let v=0,x=f,b=0,w=g,T=0,E=_,S=0,C=y;if(o.content&&n){const e=o.content;v=xd(h,0,e[0]),b=xd(d,0,e[1]),x=xd(h,e[0],e[2]),w=xd(d,e[1],e[3]),T=e[0]-v,S=e[1]-b,E=e[2]-e[0]-x,C=e[3]-e[1]-w}const M=(n,i,s,l)=>{const h=wd(n.stretch-v,x,c,e.left),d=Td(n.fixed-T,E,n.stretch,f),p=wd(i.stretch-b,w,u,e.top),_=Td(i.fixed-S,C,i.stretch,g),y=wd(s.stretch-v,x,c,e.left),M=Td(s.fixed-T,E,s.stretch,f),k=wd(l.stretch-b,w,u,e.top),A=Td(l.fixed-S,C,l.stretch,g),I=new m(h,p),P=new m(y,p),z=new m(y,k),D=new m(h,k),R=new m(d/a,_/a),L=new m(M/a,A/a),O=t*Math.PI/180;if(O){const e=Math.sin(O),t=Math.cos(O),r=[t,-e,e,t];I._matMult(r),P._matMult(r),D._matMult(r),z._matMult(r)}const B=n.stretch+n.fixed,F=i.stretch+i.fixed;return{tl:I,tr:P,bl:D,br:z,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+F,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:L,minFontScaleX:E/a/c,minFontScaleY:C/a/u,isSDF:r}};if(n&&(o.stretchX||o.stretchY)){const e=bd(h,_,f),t=bd(d,y,g);for(let r=0;r<e.length-1;r++){const n=e[r],o=e[r+1];for(let e=0;e<t.length-1;e++)i.push(M(n,t[e],o,t[e+1]))}}else i.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function xd(e,t,r){let n=0;for(const i of e)n+=Math.max(t,Math.min(r,i[1]))-Math.max(t,Math.min(r,i[0]));return n}function bd(e,t,r){const n=[{fixed:-1,stretch:0}];for(const[t,r]of e){const e=n[n.length-1];n.push({fixed:t-e.stretch,stretch:e.stretch}),n.push({fixed:t-e.stretch,stretch:e.stretch+(r-t)})}return n.push({fixed:t+1,stretch:r}),n}function wd(e,t,r,n){return e/t*r+n}function Td(e,t,r,n){return e-t*r/n}function Ed(e,t,r,n){const i=t+e.positionedLines[n].lineOffset;return 0===n?r+i/2:r+(i+(t+e.positionedLines[n-1].lineOffset))/2}yd.loadGlyphRange=function(e,t,r,n,i){const o=256*t,a=o+255,s=n.transformRequest(n.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",`${o}-${a}`),ae.Glyphs);ue(s,(e,t)=>{if(e)i(e);else if(t){const e={},r=function(e){return new yh(e).readFields(Uh,{})}(t);for(const t of r.glyphs)e[t.id]=t;i(null,{glyphs:e,ascender:r.ascender,descender:r.descender})}})},yd.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:r=8,cutoff:n=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=n,this.radius=r;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${e}px ${i}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(r),s=Math.min(this.size-this.buffer,Math.ceil(o-i)),l=Math.min(this.size-this.buffer,a+Math.ceil(n)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:_}=this;f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const y=f.getImageData(m,m,s,l);_.fill(fd,0,h),g.fill(0,0,h);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const r=y.data[4*(e*s+t)+3]/255;if(0===r)continue;const n=(e+m)*c+t+m;if(1===r)_[n]=0,g[n]=fd;else{const e=.5-r;_[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}md(_,0,0,c,u,c,this.f,this.v,this.z),md(g,m,m,s,l,c,this.f,this.v,this.z);for(let e=0;e<h;e++){const t=Math.sqrt(_[e])-Math.sqrt(g[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};class Sd{constructor(e=[],t=Cd){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(r(n,o)>=0)break;t[e]=o,e=i}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),o=t[n];const a=n+1;if(a<this.length&&r(t[a],o)<0&&(n=a,o=t[a]),r(o,i)>=0)break;t[e]=o,e=n}t[e]=i}}function Cd(e,t){return e<t?-1:e>t?1:0}function Md(e,t=1,r=!1){let n=1/0,i=1/0,o=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<n)&&(n=t.x),(!e||t.y<i)&&(i=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(o-n,a-i);let c=l/2;const u=new Sd([],kd);if(0===l)return new m(n,i);for(let t=n;t<o;t+=l)for(let r=i;r<a;r+=l)u.push(new Ad(t+c,r+c,c,e));let h=function(e){let t=0,r=0,n=0;const i=e[0];for(let e=0,o=i.length,a=o-1;e<o;a=e++){const o=i[e],s=i[a],l=o.x*s.y-s.x*o.y;r+=(o.x+s.x)*l,n+=(o.y+s.y)*l,t+=3*l}return new Ad(r/t,n/t,0,e)}(e),d=u.length;for(;u.length;){const n=u.pop();(n.d>h.d||!h.d)&&(h=n,r&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,d)),n.max-h.d<=t||(c=n.h/2,u.push(new Ad(n.p.x-c,n.p.y-c,c,e)),u.push(new Ad(n.p.x+c,n.p.y-c,c,e)),u.push(new Ad(n.p.x-c,n.p.y+c,c,e)),u.push(new Ad(n.p.x+c,n.p.y+c,c,e)),d+=4)}return r&&(console.log("num probes: "+d),console.log("best distance: "+h.d)),h.p}function kd(e,t){return t.max-e.max}function Ad(e,t,r,n){this.p=new m(e,t),this.h=r,this.d=function(e,t){let r=!1,n=1/0;for(let i=0;i<t.length;i++){const o=t[i];for(let t=0,i=o.length,a=i-1;t<i;a=t++){const i=o[t],s=o[a];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(r=!r),n=Math.min(n,Qs(e,i,s))}}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}const Id=Number.POSITIVE_INFINITY,Pd=Math.sqrt(2);function zd(e,t){return t[1]!==Id?function(e,t,r){let n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){let r=0,n=0;t<0&&(t=0);const i=t/Pd;switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function Dd(e,t,r,n,i,o,a,s,l,c){e.createArrays(),e.tilePixelRatio=vs/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,h=e.layers[0]._unevaluatedLayout._values,d={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:r}=e.textSizeData;d.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Io(t),s),h["text-size"].possiblyEvaluate(new Io(r),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:r}=e.iconSizeData;d.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Io(t),s),h["icon-size"].possiblyEvaluate(new Io(r),s)]}d.layoutTextSize=h["text-size"].possiblyEvaluate(new Io(l+1),s),d.layoutIconSize=h["icon-size"].possiblyEvaluate(new Io(l+1),s),d.textMaxSize=h["text-size"].possiblyEvaluate(new Io(18),s);const p="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),f=u.get("text-size");for(const o of e.features){const l=u.get("text-font").evaluate(o,{},s).join(","),h=f.evaluate(o,{},s),m=d.layoutTextSize.evaluate(o,{},s),g=(d.layoutIconSize.evaluate(o,{},s),{horizontal:{},vertical:void 0}),_=o.text;let y,v=[0,0];if(_){const n=_.toString(),a=24*u.get("text-letter-spacing").evaluate(o,{},s),c=24*u.get("text-line-height").evaluate(o,{},s),d=uo(n)?a:0,f=u.get("text-anchor").evaluate(o,{},s),y=u.get("text-variable-anchor");if(!y){const e=u.get("text-radial-offset").evaluate(o,{},s);v=e?zd(f,[24*e,Id]):u.get("text-offset").evaluate(o,{},s).map(e=>24*e)}let x=p?"center":u.get("text-justify").evaluate(o,{},s);const b="point"===u.get("symbol-placement"),w=b?24*u.get("text-max-width").evaluate(o,{},s):1/0,T=o=>{e.allowVerticalPlacement&&co(n)&&(g.vertical=Hh(_,t,r,i,l,w,c,f,o,d,v,$h.vertical,!0,m,h))};if(!p&&y){const e="auto"===x?y.map(e=>Rd(e)):[x];let n=!1;for(let o=0;o<e.length;o++){const a=e[o];if(!g.horizontal[a])if(n)g.horizontal[a]=g.horizontal[0];else{const e=Hh(_,t,r,i,l,w,c,"center",a,d,v,$h.horizontal,!1,m,h);e&&(g.horizontal[a]=e,n=1===e.positionedLines.length)}}T("left")}else{if("auto"===x&&(x=Rd(f)),b||u.get("text-writing-mode").indexOf("horizontal")>=0||!co(n)){const e=Hh(_,t,r,i,l,w,c,f,x,d,v,$h.horizontal,!1,m,h);e&&(g.horizontal[x]=e)}T(b?"left":x)}}let x=!1;if(o.icon&&o.icon.name){const t=n[o.icon.name];t&&(y=id(i[o.icon.name],u.get("icon-offset").evaluate(o,{},s),u.get("icon-anchor").evaluate(o,{},s)),x=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&V("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const b=Fd(g.horizontal)||g.vertical;e.iconsInText||(e.iconsInText=!!b&&b.iconsInText),(b||y)&&Ld(e,o,g,y,n,d,m,0,v,x,a,s,c)}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Rd(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ld(e,t,r,n,i,o,a,s,l,c,u,h,d){let p=o.textMaxSize.evaluate(t,{},h);void 0===p&&(p=a);const f=e.layers[0].layout,m=f.get("icon-offset").evaluate(t,{},h),g=Fd(r.horizontal)||r.vertical,_="globe"===d.name,y=a/24,x=e.tilePixelRatio*p/24,b=(A=e.overscaling,e.zoom>18&&A>2&&(A>>=1),Math.max(vs/(512*A),1)*f.get("symbol-spacing")),w=f.get("text-padding")*e.tilePixelRatio,T=f.get("icon-padding")*e.tilePixelRatio,E=v(f.get("text-max-angle")),S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),M=f.get("symbol-placement"),k=b/2;var A;const I=f.get("icon-text-fit");let P;n&&"none"!==I&&(e.allowVerticalPlacement&&r.vertical&&(P=od(n,r.vertical,I,f.get("icon-text-fit-padding"),m,y)),g&&(n=od(n,g,I,f.get("icon-text-fit-padding"),m,y)));const z=(a,s,p)=>{if(s.x<0||s.x>=vs||s.y<0||s.y>=vs)return;let f=null;if(_){const{x:e,y:t,z:r}=d.projectTilePoint(s.x,s.y,p);f={anchor:new ad(e,t,r,0,void 0),up:d.upVector(p,s.x,s.y)}}!function(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E){const S=e.addToLineVertexArray(t,n);let C,M,k,A,I,P,z,D=0,R=0,L=0,O=0,B=-1,F=-1;const j={};let U=Ua.exports("");const N=r?r.anchor:t;let G=0,q=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[G,q]=l.layout.get("text-offset").evaluate(x,{},E).map(e=>24*e):(G=24*l.layout.get("text-radial-offset").evaluate(x,{},E),q=Id),e.allowVerticalPlacement&&i.vertical){const e=i.vertical;if(f)P=Ud(e),s&&(z=Ud(s));else{const r=l.layout.get("text-rotate").evaluate(x,{},E)+90;k=jd(c,N,t,u,h,d,e,p,r,m),s&&(A=jd(c,N,t,u,h,d,s,_,r))}}if(o){const n=l.layout.get("icon-rotate").evaluate(x,{},E),i="none"!==l.layout.get("icon-text-fit"),a=vd(o,n,w,i),p=s?vd(s,n,w,i):void 0;M=jd(c,N,t,u,h,d,o,_,n),D=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[ch*l.layout.get("icon-size").evaluate(x,{},E)],m[0]>Od&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===f.kind&&(m=[ch*b.compositeIconSizes[0].evaluate(x,{},E),ch*b.compositeIconSizes[1].evaluate(x,{},E)],(m[0]>Od||m[1]>Od)&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,a,m,v,y,x,!1,r,t,S.lineStartIndex,S.lineLength,-1,T,E),B=e.icon.placedSymbolArray.length-1,p&&(R=4*p.length,e.addSymbols(e.icon,p,m,v,y,x,$h.vertical,r,t,S.lineStartIndex,S.lineLength,-1,T,E),F=e.icon.placedSymbolArray.length-1)}for(const n in i.horizontal){const o=i.horizontal[n];C||(U=Ua.exports(o.text),f?I=Ud(o):C=jd(c,N,t,u,h,d,o,p,l.layout.get("text-rotate").evaluate(x,{},E),m));const s=1===o.positionedLines.length;if(L+=Bd(e,r,t,o,a,l,f,x,m,S,i.vertical?$h.horizontal:$h.horizontalOnly,s?Object.keys(i.horizontal):[n],j,B,b,T,E),s)break}i.vertical&&(O+=Bd(e,r,t,i.vertical,a,l,f,x,m,S,$h.vertical,["vertical"],j,F,b,T,E));let Z=-1;const $=(e,t)=>e?Math.max(e,t):t;Z=$(I,Z),Z=$(P,Z),Z=$(z,Z);const W=Z>-1?1:0;e.glyphOffsetArray.length>=Kp.MAX_GLYPHS&&V("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(N.x,N.y,N.z,t.x,t.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical>=0?j.vertical:-1,B,F,U,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,void 0!==k?k:e.collisionBoxArray.length,void 0!==k?k+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,A||e.collisionBoxArray.length,A?A+1:e.collisionBoxArray.length,u,L,O,D,R,W,0,G,q,Z)}(e,s,f,a,r,n,i,P,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,w,S,l,0,T,C,m,t,o,c,u,h)};if("line"===M)for(const i of pd(t.geometry,0,0,vs,vs)){const t=dd(i,b,E,r.vertical||g,n,24,x,e.overscaling,vs);for(const r of t){const t=g;t&&Nd(e,t.text,k,r)||z(i,r,h)}}else if("line-center"===M){for(const e of t.geometry)if(e.length>1){const t=hd(e,E,r.vertical||g,n,24,x);t&&z(e,t,h)}}else if("Polygon"===t.type)for(const e of Xc(t.geometry,0)){const t=Md(e,16);z(e[0],new ad(t.x,t.y,0,0,void 0),h)}else if("LineString"===t.type)for(const e of t.geometry)z(e,new ad(e[0].x,e[0].y,0,0,void 0),h);else if("Point"===t.type)for(const e of t.geometry)for(const t of e)z([t],new ad(t.x,t.y,0,0,void 0),h)}const Od=32640;function Bd(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,g,_){const y=function(e,t,r,n,i,o,a,s){const l=[];if(0===t.positionedLines.length)return l;const c=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=function(e){const t=e[0],r=e[1],n=t*r;return n>0?[t,-r]:n<0?[-t,r]:0===t?[r,t]:[r,-t]}(r);let h=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)h-=e.lineOffset;const d=t.positionedLines.length,p=h/d;let f=t.top-r[1];for(let e=0;e<d;++e){const n=t.positionedLines[e];f=Ed(t,p,f,e);for(const e of n.positionedGlyphs){if(!e.rect)continue;const n=e.rect||{};let o=4,h=!0,d=1,p=0;if(e.imageName){const t=a[e.imageName];if(!t)continue;if(t.sdf){V("SDF images are not supported in formatted text and will be ignored.");continue}h=!1,d=t.pixelRatio,o=1/d}const g=(i||s)&&e.vertical,_=e.metrics.advance*e.scale/2,y=e.metrics,v=e.rect;if(null===v)continue;s&&t.verticalizable&&(p=e.imageName?_-e.metrics.width*e.scale/2:0);const x=i?[e.x+_,e.y]:[0,0];let b=[0,0],w=[0,0],T=!1;i||(g?(w=[e.x+_+u[0],e.y+u[1]-p],T=!0):b=[e.x+_+r[0],e.y+r[1]-p]);const E=v.w*e.scale/(d*(e.localGlyph?2:1)),S=v.h*e.scale/(d*(e.localGlyph?2:1));let C,M,k,A;if(g){const t=e.y-f,r=new m(-_,_-t),n=-Math.PI/2,i=new m(...w);C=new m(-_+b[0],b[1]),C._rotateAround(n,r)._add(i),C.x+=-t+_,C.y-=(y.left-o)*e.scale;const a=e.imageName?y.advance*e.scale:24*e.scale,s=String.fromCharCode(e.glyph);gh(s)?C.x+=(1-o)*e.scale:_h(s)?C.x+=a-y.height*e.scale+(-o-1)*e.scale:C.x+=e.imageName||y.width+2*o===v.w&&y.height+2*o===v.h?(a-S)/2:(a-(y.height+2*o)*e.scale)/2,M=new m(C.x,C.y-E),k=new m(C.x+S,C.y),A=new m(C.x+S,C.y-E)}else{const t=(y.left-o)*e.scale-_+b[0],r=(-y.top-o)*e.scale+b[1],n=t+E,i=r+S;C=new m(t,r),M=new m(n,r),k=new m(t,i),A=new m(n,i)}if(c){let e;e=i?new m(0,0):T?new m(u[0],u[1]):new m(r[0],r[1]),C._rotateAround(c,e),M._rotateAround(c,e),k._rotateAround(c,e),A._rotateAround(c,e)}const I=new m(0,0),P=new m(0,0);l.push({tl:C,tr:M,bl:k,br:A,tex:n,writingMode:t.writingMode,glyphOffset:x,sectionIndex:e.sectionIndex,isSDF:h,pixelOffsetTL:I,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}}return l}(0,n,l,o,a,s,i,e.allowVerticalPlacement),v=e.textSizeData;let x=null;"source"===v.kind?(x=[ch*o.layout.get("text-size").evaluate(s,{},_)],x[0]>Od&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===v.kind&&(x=[ch*f.compositeTextSizes[0].evaluate(s,{},_),ch*f.compositeTextSizes[1].evaluate(s,{},_)],(x[0]>Od||x[1]>Od)&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,y,x,l,a,s,u,t,r,c.lineStartIndex,c.lineLength,p,g,_);for(const t of h)d[t]=e.text.placedSymbolArray.length-1;return 4*y.length}function Fd(e){for(const t in e)return e[t];return null}function jd(e,t,r,n,i,o,a,s,l,c){let u=a.top,h=a.bottom,d=a.left,p=a.right;const f=a.collisionPadding;if(f&&(d-=f[0],u-=f[1],p+=f[2],h+=f[3]),l){const e=new m(d,u),t=new m(p,u),r=new m(d,h),n=new m(p,h),i=v(l);let o=new m(0,0);c&&(o=new m(c[0],c[1])),e._rotateAround(i,o),t._rotateAround(i,o),r._rotateAround(i,o),n._rotateAround(i,o),d=Math.min(e.x,t.x,r.x,n.x),p=Math.max(e.x,t.x,r.x,n.x),u=Math.min(e.y,t.y,r.y,n.y),h=Math.max(e.y,t.y,r.y,n.y)}return e.emplaceBack(t.x,t.y,t.z,r.x,r.y,d,u,p,h,s,n,i,o),e.length-1}function Ud(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Nd(e,t,r,n){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(n.dist(e[t])<r)return!0}else i[t]=[];return i[t].push(n),!1}const Vd=Ho([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Gd}=Vd,qd=Ho([{name:"a_pos_3",components:3,type:"Int16"}]);var Zd=Ho([{name:"a_pos",type:"Int16",components:2}]);const $d=vs/Math.PI/2,Wd=2*Ms(1,0)*$d*Math.PI,Xd=[64,32,16],Hd=-$d,Yd=$d,Kd=[new tc([Hd,Hd,Hd],[Yd,Yd,Yd]),new tc([Hd,Hd,Hd],[0,0,Yd]),new tc([0,Hd,Hd],[Yd,0,Yd]),new tc([Hd,0,Hd],[0,Yd,Yd]),new tc([0,0,Hd],[Yd,Yd,Yd])];function Jd(e,t,r,n=!0){const i=Dl([],e._camera.position,e.worldSize),o=[t,r,1,1];$l(o,o,e.pixelMatrixInverse),ql(o,o,1/o[3]);const a=Ll([],Nl([],o,i)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=Nl([],l,i),u=Cl(c),h=Ll([],c),d=e.worldSize/(2*Math.PI),p=Ol(h,a),f=Math.asin(d/u);if(f<Math.acos(p)){if(!n)return null;const e=[],t=[];Dl(e,a,u/p),Ll(t,Nl(t,e,c)),Ll(a,kl(a,c,Dl(a,t,Math.tan(f)*u)))}const m=[];new Jl(i,a).closestPointOnSphere(l,d,m);const g=Ll([],Y(s,0)),_=Ll([],Y(s,1)),y=Ll([],Y(s,2)),v=Ol(g,m),b=Ol(_,m),w=Ol(y,m),T=x(Math.asin(-b/d));let E=x(Math.atan2(v,w));E=e.center.lng+function(e,t){const r=(t-e+180)%360-180;return r<-180?r+360:r}(e.center.lng,E);const C=Ss(E),M=S(Cs(T),0,1);return new Ds(C,M)}class Qd{constructor(e,t,r){this.a=Nl([],e,r),this.b=Nl([],t,r),this.center=r;const n=Ll([],this.a),i=Ll([],this.b);this.angle=Math.acos(Ol(n,i))}}function ep(e,t){if(0===e.angle)return null;let r;return r=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),r<0||r>1?null:function(e,t,r,n){const i=Math.sin(r);return e*(Math.sin((1-n)*r)/i)+t*(Math.sin(n*r)/i)}(e.a[t],e.b[t],e.angle,S(r,0,1))+e.center[t]}function tp(e){if(e.z<=1)return Kd[e.z+2*e.y+e.x];const t=ap(op(e));return tc.fromPoints(t)}function rp(e,t,r){return Dl(e,e,1-r),Rl(e,e,t,r)}function np(e,t){const r=mp(t.zoom);if(0===r)return tp(e);const n=op(e),i=ap(n),o=Ss(n.getWest())*t.worldSize,a=Ss(n.getEast())*t.worldSize,s=Cs(n.getNorth())*t.worldSize,l=Cs(n.getSouth())*t.worldSize,c=[o,s,0],u=[a,s,0],h=[o,l,0],d=[a,l,0],p=ml([],t.globeMatrix);return Fl(c,c,p),Fl(u,u,p),Fl(h,h,p),Fl(d,d,p),i[0]=rp(i[0],h,r),i[1]=rp(i[1],d,r),i[2]=rp(i[2],u,r),i[3]=rp(i[3],c,r),tc.fromPoints(i)}function ip(e,t,r){for(const n of e)Fl(n,n,t),Dl(n,n,r)}function op({x:e,y:t,z:r}){const n=1/(1<<r),i=new ws(ks(e*n),As((t+1)*n)),o=new ws(ks((e+1)*n),As(t*n));return new xs(i,o)}function ap(e){const t=v(e.getNorth()),r=v(e.getSouth()),n=Math.cos(t),i=Math.cos(r),o=Math.sin(t),a=Math.sin(r),s=e.getWest(),l=e.getEast();return[sp(i,a,s),sp(i,a,l),sp(n,o,l),sp(n,o,s)]}function sp(e,t,r,n=$d){return r=v(r),[e*Math.sin(r)*n,-t*n,e*Math.cos(r)*n]}function lp(e,t,r){return sp(Math.cos(v(e)),Math.sin(v(e)),t,r)}function cp(e,t,r,n){const i=1<<r.z,o=(e/vs+r.x)/i;return lp(As((t/vs+r.y)/i),ks(o),n)}function up({min:e,max:t}){return 16383/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const hp=new Float64Array(16);function dp(e){const t=up(e),r=bl(hp,[t,t,t]);return _l(r,r,((n=[])[0]=-(i=e.min)[0],n[1]=-i[1],n[2]=-i[2],n));var n,i}function pp(e){const t=(n=e.min,(r=hp)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r);var r,n;const i=1/up(e);return yl(t,t,[i,i,i])}function fp(e,t,r,n,i){const o=function(e){const t=vs/(2*Math.PI);return e/(2*Math.PI)/t}(r),a=[e,t,-r/(2*Math.PI)],s=fl(new Float64Array(16));return _l(s,s,a),yl(s,s,[o,o,o]),vl(s,s,v(-i)),xl(s,s,v(-n)),s}function mp(e){return C(5,6,e)}function gp(e,t){const r=lp(t.lat,t.lng);return o=(n=Al([],function(e){const t=lp(e._center.lat,e._center.lng);let r=Bl([],Ml(0,1,0),t);const n=wl([],-e.angle,t);r=Fl(r,r,n),wl(n,-e._pitch,r);const i=Ll([],t);return Dl(i,i,e.cameraToCenterDistance/e.pixelsPerMeter*Wd),Fl(i,i,n),kl([],t,i)}(e),r))[0],a=n[1],s=n[2],l=(i=r)[0],c=i[1],u=i[2],d=(h=Math.sqrt(o*o+a*a+s*s)*Math.sqrt(l*l+c*c+u*u))&&Ol(n,i)/h,Math.acos(Math.min(Math.max(d,-1),1));var n,i,o,a,s,l,c,u,h,d}const _p=v(85),yp=Math.cos(_p),vp=Math.sin(_p);function xp(e,t){const r=e.fovAboveCenter,n=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,i=(e._camera.position[2]*e.worldSize-n)/Math.cos(e._pitch),o=Math.sin(r)*i/Math.sin(Math.max(Math.PI/2-e._pitch-r,.01)),a=Math.sin(e._pitch)*o+i;return Math.min(1.01*a,i*(1/e._horizonShift))}function bp(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const r=Math.pow(2,-e.z),n=e.x*r,i=(e.x+1)*r,o=e.y*r,a=(e.y+1)*r,s=ks(n),l=ks(i),c=As(o),u=As(a),h=t.project(s,c),d=t.project(l,c),p=t.project(l,u),f=t.project(s,u);let m=Math.min(h.x,d.x,p.x,f.x),g=Math.min(h.y,d.y,p.y,f.y),_=Math.max(h.x,d.x,p.x,f.x),y=Math.max(h.y,d.y,p.y,f.y);const v=r/16;function x(e,r,n,i,o,a){const s=(n+o)/2,l=(i+a)/2,c=t.project(ks(s),As(l)),u=Math.max(0,m-c.x,g-c.y,c.x-_,c.y-y);m=Math.min(m,c.x),_=Math.max(_,c.x),g=Math.min(g,c.y),y=Math.max(y,c.y),u>v&&(x(e,c,n,i,s,l),x(c,r,s,l,o,a))}x(h,d,n,o,i,o),x(d,p,i,o,i,a),x(p,f,i,a,n,a),x(f,h,n,a,n,o),m-=v,g-=v,_+=v,y+=v;const b=1/Math.max(_-m,y-g);return{scale:b,x:m*b,y:g*b,x2:_*b,y2:y*b,projection:t}}const wp=fl(new Float32Array(16));class Tp{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,t){return{x:0,y:0,z:0}}unproject(e,t){return new ws(0,0)}projectTilePoint(e,t,r){return{x:e,y:t,z:0}}locationPoint(e,t,r=!0){return e._coordinatePoint(e.locationCoordinate(t),r)}pixelsPerMeter(e,t){return Ms(1,e)*t}pixelSpaceConversion(e,t,r){return 1}farthestPixelDistance(e){return xp(e,e.pixelsPerMeter)}pointCoordinate(e,t,r,n){const i=e.horizonLineFromTop(!1),o=new m(t,Math.max(i,r));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,n))}pointCoordinate3D(e,t,r){const n=new m(t,r);if(e.elevation)return e.elevation.pointCoordinate(n);{const t=this.pointCoordinate(e,n.x,n.y,0);return[t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);const r=e.horizonLineFromTop();return t.y<r}createInversionMatrix(e,t){return wp}createTileMatrix(e,t,r){let n,i,o;const a=r.canonical,s=fl(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=bp(a,this);n=1,i=l.x+r.wrap*l.scale,o=l.y,yl(s,s,[n/l.scale,n/l.scale,e.pixelsPerMeter/t])}else n=t/e.zoomScale(a.z),i=(a.x+Math.pow(2,a.z)*r.wrap)*n,o=a.y*n;return _l(s,s,[i,o,0]),yl(s,s,[n/vs,n/vs,1]),s}upVector(e,t,r){return[0,0,1]}upVectorScale(e,t,r){return{metersToTile:1}}}class Ep extends Tp{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,r]=this.parallels=e.parallels||[29.5,45.5],n=Math.sin(v(t));this.n=(n+Math.sin(v(r)))/2,this.c=1+n*(2*this.n-n),this.r0=Math.sqrt(this.c)/this.n}project(e,t){const{n:r,c:n,r0:i}=this,o=v(e-this.center[0]),a=v(t),s=Math.sqrt(n-2*r*Math.sin(a))/r;return{x:s*Math.sin(o*r),y:s*Math.cos(o*r)-i,z:0}}unproject(e,t){const{n:r,c:n,r0:i}=this,o=i+t;let a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*r<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));const s=v(this.center[0])*r;a=M(a,-Math.PI-s,Math.PI-s);const l=S(x(a/r)+this.center[0],-180,180),c=Math.asin(S((n-(e*e+o*o)*r*r)/(2*r),-1,1)),u=S(x(c),-85.051129,Ps);return new ws(l,u)}}const Sp=1.340264,Cp=-.081106,Mp=893e-6,kp=.003796,Ap=Math.sqrt(3)/2;class Ip extends Tp{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const r=Math.asin(Ap*Math.sin(t)),n=r*r,i=n*n*n;return{x:.5*(e*Math.cos(r)/(Ap*(Sp+3*Cp*n+i*(7*Mp+9*kp*n)))/Math.PI+.5),y:1-.5*(r*(Sp+Cp*n+i*(Mp+kp*n))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let r=t=(2*(1-t)-1)*Math.PI,n=r*r,i=n*n*n;for(let e,o,a,s=0;s<12&&(o=r*(Sp+Cp*n+i*(Mp+kp*n))-t,a=Sp+3*Cp*n+i*(7*Mp+9*kp*n),e=o/a,r=S(r-e,-Math.PI/3,Math.PI/3),n=r*r,i=n*n*n,!(Math.abs(e)<1e-12));++s);const o=Ap*e*(Sp+3*Cp*n+i*(7*Mp+9*kp*n))/Math.cos(r),a=Math.asin(Math.sin(r)/Ap),s=S(180*o/Math.PI,-180,180),l=S(180*a/Math.PI,-85.051129,Ps);return new ws(s,l)}}class Pp extends Tp{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const r=360*(e-.5),n=S(360*(.5-t),-85.051129,Ps);return new ws(r,n)}}const zp=Math.PI/2;function Dp(e){return Math.tan((zp+e)/2)}class Rp extends Tp{constructor(e){super(e),this.center=e.center||[0,30];const[t,r]=this.parallels=e.parallels||[30,30];let n=v(t),i=v(r);this.southernCenter=n+i<0,this.southernCenter&&(n=-n,i=-i);const o=Math.cos(n),a=Dp(n);this.n=n===i?Math.sin(n):Math.log(o/Math.cos(i))/Math.log(Dp(i)/a),this.f=o*Math.pow(Dp(n),this.n)/this.n}project(e,t){t=v(t),this.southernCenter&&(t=-t),e=v(e-this.center[0]);const r=1e-6,{n:n,f:i}=this;i>0?t<-zp+r&&(t=-zp+r):t>zp-r&&(t=zp-r);const o=i/Math.pow(Dp(t),n);let a=o*Math.sin(n*e),s=i-o*Math.cos(n*e);return a=.5*(a/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:a,y:this.southernCenter?s:1-s,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:r,f:n}=this,i=n-t,o=Math.sign(i),a=Math.sign(r)*Math.sqrt(e*e+i*i);let s=Math.atan2(e,Math.abs(i))*o;i*r<0&&(s-=Math.PI*Math.sign(e)*o);const l=S(x(s/r)+this.center[0],-180,180),c=S(x(2*Math.atan(Math.pow(n/a,1/r))-zp),-85.051129,Ps);return new ws(l,this.southernCenter?-c:c)}}class Lp extends Tp{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,t){return{x:Ss(e),y:Cs(t),z:0}}unproject(e,t){const r=ks(e),n=As(t);return new ws(r,n)}}const Op=v(Ps);class Bp extends Tp{project(e,t){const r=(t=v(t))*t,n=r*r;return{x:.5*((e=v(e))*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let r=t=(2*(1-t)-1)*Math.PI,n=25,i=0,o=r*r;do{o=r*r;const e=o*o;i=(r*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),r=S(r-i,-Op,Op)}while(Math.abs(i)>1e-6&&--n>0);o=r*r;const a=S(x(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),s=x(r);return new ws(a,s)}}const Fp=v(Ps);class jp extends Tp{project(e,t){t=v(t),e=v(e);const r=Math.cos(t),n=2/Math.PI,i=Math.acos(r*Math.cos(e/2)),o=Math.sin(i)/i,a=.5*(e*n+2*r*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}unproject(e,t){let r=e=(2*e-.5)*Math.PI,n=t=(2*(1-t)-1)*Math.PI,i=25;const o=1e-6;let a=0,s=0;do{const i=Math.cos(n),o=Math.sin(n),l=2*o*i,c=o*o,u=i*i,h=Math.cos(r/2),d=Math.sin(r/2),p=2*h*d,f=d*d,m=1-u*h*h,g=m?1/m:0,_=m?Math.acos(i*h)*Math.sqrt(1/m):0,y=.5*(2*_*i*d+2*r/Math.PI)-e,v=.5*(_*o+n)-t,x=.5*g*(u*f+_*i*h*c)+1/Math.PI,b=g*(p*l/4-_*o*d),w=.125*g*(l*d-_*o*u*p),T=.5*g*(c*h+_*f*i)+.5,E=b*w-T*x;a=(v*b-y*T)/E,s=(y*w-v*x)/E,r=S(r-a,-Math.PI,Math.PI),n=S(n-s,-Fp,Fp)}while((Math.abs(a)>o||Math.abs(s)>o)&&--i>0);return new ws(x(r),x(n))}}class Up extends Tp{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(v(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){const{scale:r,cosPhi:n}=this;return{x:v(e)*n*r+.5,y:-Math.sin(v(t))/n*r+.5,z:0}}unproject(e,t){const{scale:r,cosPhi:n}=this,i=-(t-.5)/r,o=S(x((e-.5)/r)/n,-180,180),a=Math.asin(S(i*n,-1,1)),s=S(x(a),-85.051129,Ps);return new ws(o,s)}}class Np extends Lp{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(e,t,r){const n=cp(e,t,r);return Fl(n,n,dp(tp(r))),{x:n[0],y:n[1],z:n[2]}}locationPoint(e,t){const r=lp(t.lat,t.lng),n=Ll([],r),i=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Rl(r,r,n,Ms(1,0)*vs*i);const o=fl(new Float64Array(16));return gl(o,e.pixelMatrix,e.globeMatrix),Fl(r,r,o),new m(r[0],r[1])}pixelsPerMeter(e,t){return Ms(1,0)*t}pixelSpaceConversion(e,t,r){const n=Ms(1,e)*t,i=Cr(Ms(1,45)*t,n,r);return this.pixelsPerMeter(e,t)/i}createTileMatrix(e,t,r){const n=pp(tp(r.canonical));return gl(new Float64Array(16),e.globeMatrix,n)}createInversionMatrix(e,t){const{center:r}=e,n=dp(tp(t));return xl(n,n,v(r.lng)),vl(n,n,v(r.lat)),yl(n,n,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(n)}pointCoordinate(e,t,r,n){return Jd(e,t,r,!0)||new Ds(0,0)}pointCoordinate3D(e,t,r){const n=this.pointCoordinate(e,t,r,0);return[n.x,n.y,n.z]}isPointAboveHorizon(e,t){return!Jd(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const r=e.cameraToCenterDistance,n=e._centerAltitude*t,i=e._camera,o=e._camera.forward(),a=kl([],Dl([],o,-r),[0,0,n]),s=e.worldSize/(2*Math.PI),l=[0,0,-s],c=e.width/e.height,u=Math.tan(e.fovAboveCenter),h=Dl([],i.up(),u),d=Dl([],i.right(),u*c),p=Ll([],kl([],kl([],o,h),d)),f=[];let m;if(new Jl(a,p).closestPointOnSphere(l,s,f)){const t=kl([],f,l),r=Nl([],t,a);m=Math.cos(e.fovAboveCenter)*Cl(r)}else{const e=Nl([],a,l),t=Nl([],l,a);Ll(t,t);const r=Cl(e)-s;m=Math.sqrt(r*(r+2*s));const n=Math.acos(m/(s+r))-Math.acos(Ol(o,t));m*=Math.cos(n)}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),r=mp(e.zoom);if(r>0){const n=xp(e,Ms(1,e.center.lat)*e.worldSize),i=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Cr(t,n+i*(1-Math.cos(o)),Math.pow(r,10))}return t}upVector(e,t,r){return cp(t,r,e,1)}upVectorScale(e){return{metersToTile:Wd*up(tp(e))}}}function Vp(e){const t=e.parallels,r=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Lp(e);case"equirectangular":return new Pp(e);case"naturalEarth":return new Bp(e);case"equalEarth":return new Ip(e);case"winkelTripel":return new jp(e);case"albers":return r?new Up(e):new Ep(e);case"lambertConformalConic":return r?new Up(e):new Rp(e);case"globe":return new Np(e)}throw new Error("Invalid projection name: "+e.name)}const Gp=yu.types,qp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Zp(e,t,r,n,i,o,a,s,l,c,u,h,d){const p=s?Math.min(Od,Math.round(s[0])):0,f=s?Math.min(Od,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function $p(e,t,r,n,i,o,a){e.emplaceBack(t,r,n,i,o,a)}function Wp(e,t,r,n,i){e.emplaceBack(t,r,n,i),e.emplaceBack(t,r,n,i),e.emplaceBack(t,r,n,i),e.emplaceBack(t,r,n,i)}function Xp(e){for(const t of e.sections)if(_o(t.text))return!0;return!1}class Hp{constructor(e){this.layoutVertexArray=new oa,this.indexArray=new pa,this.programConfigurations=e,this.segments=new ys,this.dynamicLayoutVertexArray=new ta,this.opacityVertexArray=new sa,this.placedSymbolArray=new Ma,this.globeExtVertexArray=new aa}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,rh.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,ih.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,qp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,nh.members,!0)),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ii(Hp,"SymbolBuffers");class Yp{constructor(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new ys,this.collisionVertexArray=new ha,this.collisionVertexArrayExt=new da}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,oh.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,ah.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ii(Yp,"CollisionBuffers");class Kp{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=fl([]),this.placementViewportMatrix=fl([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=uh(this.zoom,t["text-size"]),this.iconSizeData=uh(this.zoom,t["icon-size"]);const r=this.layers[0].layout,n=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get("text-writing-mode").map(e=>$h[e]),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Hp(new ls(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Hp(new ls(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Ia,this.lineVertexArray=new Pa,this.symbolInstances=new Aa}calculateGlyphDependencies(e,t,r,n,i){for(let r=0;r<e.length;r++)if(t[e.charCodeAt(r)]=!0,n&&i){const n=mh[e.charAt(r)];n&&(t[n.charCodeAt(0)]=!0)}}populate(e,t,r,n){const i=this.layers[0],o=i.layout,a="globe"===this.projection.name,s=o.get("text-font"),l=o.get("text-field"),c=o.get("icon-image"),u=("constant"!==l.value.kind||l.value.value instanceof It&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),h="constant"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get("symbol-sort-key");if(this.features=[],!u&&!h)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,g=new Io(this.zoom);for(const{feature:t,id:l,index:c,sourceLayerIndex:_}of e){const e=i._featureFilter.needGeometry,y=Vs(t,e);if(!i._featureFilter.filter(g,y,r))continue;if(e||(y.geometry=Ns(t,r,n)),a&&1!==t.type&&r.z<=5){const e=y.geometry,t=.98078528056,n=(e,n)=>Ol(cp(e.x,e.y,r,1),cp(n.x,n.y,r,1))<t;for(let t=0;t<e.length;t++)e[t]=Bs(e[t],n)}let v,x;if(u){const e=i.getValueAndResolveTokens("text-field",y,r,m),t=It.factory(e);Xp(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Mo()||this.hasRTLText&&Ao.isParsed())&&(v=fh(t,i,y))}if(h){const e=i.getValueAndResolveTokens("icon-image",y,r,m);x=e instanceof Pt?e:Pt.fromString(e)}if(!v&&!x)continue;const b=this.sortFeaturesByKey?d.evaluate(y,{},r):void 0;if(this.features.push({id:l,text:v,icon:x,index:c,sourceLayerIndex:_,geometry:y.geometry,properties:t.properties,type:Gp[t.type],sortKey:b}),x&&(p[x.name]=!0),v){const e=s.evaluate(y,{},r).join(","),t="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf($h.vertical)>=0;for(const r of v.sections)if(r.image)p[r.image.name]=!0;else{const n=co(v.toString()),i=r.fontStack||e,o=f[i]=f[i]||{};this.calculateGlyphDependencies(r.text,o,t,this.allowVerticalPlacement,n)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},r={},n=[];let i=0;function o(t){n.push(e[t]),i++}function a(e,t,i){const o=r[e];return delete r[e],r[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(i[0]),o}function s(e,r,i){const o=t[r];return delete t[r],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=i[0].concat(n[o].geometry[0]),o}function l(e,t,r){const n=r?t[0][t[0].length-1]:t[0][0];return`${e}:${n.x}:${n.y}`}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in r&&f in t&&r[p]!==t[f]){const e=s(p,f,h),i=a(p,f,n[e].geometry);delete t[p],delete r[f],r[l(d,n[i].geometry,!0)]=i,n[e].geometry=null}else p in r?a(p,f,h):f in t?s(p,f,h):(o(c),t[p]=i-1,r[f]=i-1)}return n.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,r,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Vp(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const r=this.lineVertexArray.length,n=e.segment;if(void 0!==n){let r=e.dist(t[n+1]),i=e.dist(t[n]);const o={};for(let e=n+1;e<t.length;e++)o[e]={x:t[e].x,y:t[e].y,tileUnitDistanceFromAnchor:r},e<t.length-1&&(r+=t[e+1].dist(t[e]));for(let e=n||0;e>=0;e--)o[e]={x:t[e].x,y:t[e].y,tileUnitDistanceFromAnchor:i},e>0&&(i+=t[e-1].dist(t[e]));for(let e=0;e<t.length;e++){const t=o[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(e,t,r,n,i,o,a,s,l,c,u,h,d,p){const f=e.indexArray,m=e.layoutVertexArray,g=e.globeExtVertexArray,_=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,v=_.vertexLength,x=this.allowVerticalPlacement&&a===$h.vertical?Math.PI/2:0,b=o.text&&o.text.sections;for(let n=0;n<t.length;n++){const{tl:i,tr:a,bl:c,br:u,tex:h,pixelOffsetTL:y,pixelOffsetBR:v,minFontScaleX:w,minFontScaleY:T,glyphOffset:E,isSDF:S,sectionIndex:C}=t[n],M=_.vertexLength,k=E[1];if(Zp(m,l.x,l.y,i.x,k+i.y,h.x,h.y,r,S,y.x,y.y,w,T),Zp(m,l.x,l.y,a.x,k+a.y,h.x+h.w,h.y,r,S,v.x,y.y,w,T),Zp(m,l.x,l.y,c.x,k+c.y,h.x,h.y+h.h,r,S,y.x,v.y,w,T),Zp(m,l.x,l.y,u.x,k+u.y,h.x+h.w,h.y+h.h,r,S,v.x,v.y,w,T),s){const t=s.anchor,r=s.up;$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),Wp(e.dynamicLayoutVertexArray,t.x,t.y,t.z,x)}else Wp(e.dynamicLayoutVertexArray,l.x,l.y,l.z,x);f.emplaceBack(M,M+1,M+2),f.emplaceBack(M+1,M+2,M+3),_.vertexLength+=4,_.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(E[0]),n!==t.length-1&&C===t[n+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},d,p,b&&b[C])}const w=s?s.anchor:l;e.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,y,this.glyphOffsetArray.length-y,v,c,u,l.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,h,0)}_commitLayoutVertex(e,t,r,n,i,o,a){e.emplaceBack(t,r,n,i,o,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,r,n,i,o,a){const s=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),l=s.vertexLength,c=a.tileAnchorX,u=a.tileAnchorY;for(let e=0;e<4;e++)r.collisionVertexArray.emplaceBack(0,0,0,0);r.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),r.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),r.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),r.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x1,e.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x2,e.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x2,e.y2)),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x1,e.y2)),s.vertexLength+=4;const h=r.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(n,i,this.textCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(n,i,this.iconCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Yp(ca,sh.members,va),this.iconCollisionBox=new Yp(ca,sh.members,va);const r=dh(this.iconSizeData,e),n=dh(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(n,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(n,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(r,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(r,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,r,n){const i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:n),o=hh(this.textSizeData,e,i)/24;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,r){const n=this.icon.placedSymbolArray.get(r),i=hh(this.iconSizeData,e,n);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(e,t,r){e.emplaceBack(t,-r,-r),e.emplaceBack(t,r,-r),e.emplaceBack(t,r,r),e.emplaceBack(t,-r,r)}_updateTextDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,n.padding)}}_updateIconDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,n.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const r=dh(this.iconSizeData,e),n=dh(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(n,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(n,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(r,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(r,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,r,n,i,o,a,s,l){const c={};for(let n=t;n<r;n++){const t=e.get(n);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,projectedAnchorX:t.projectedAnchorX,projectedAnchorY:t.projectedAnchorY,projectedAnchorZ:t.projectedAnchorZ,tileAnchorX:t.tileAnchorX,tileAnchorY:t.tileAnchorY},c.textFeatureIndex=t.featureIndex;break}for(let t=n;t<i;t++){const r=e.get(t);c.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},c.verticalTextFeatureIndex=r.featureIndex;break}for(let t=o;t<a;t++){const r=e.get(t);c.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},c.iconFeatureIndex=r.featureIndex;break}for(let t=s;t<l;t++){const r=e.get(t);c.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},c.verticalIconFeatureIndex=r.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs;for(let t=r.vertexStartIndex;t<n;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),r=Math.cos(e),n=[],i=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);n.push(0|Math.round(t*a.tileAnchorX+r*a.tileAnchorY)),i.push(a.featureIndex)}return o.sort((e,t)=>n[e]-n[t]||i[t]-i[e]),o}addToSortKeyRanges(e,t){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach((e,t,r)=>{e>=0&&r.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ii(Kp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Kp.MAX_GLYPHS=65535,Kp.addDynamicAttributes=Wp;const Jp=new qo({"symbol-placement":new jo(Ye.layout_symbol["symbol-placement"]),"symbol-spacing":new jo(Ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jo(Ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Uo(Ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jo(Ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new jo(Ye.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new jo(Ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new jo(Ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jo(Ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new Uo(Ye.layout_symbol["icon-size"]),"icon-text-fit":new jo(Ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new jo(Ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new Uo(Ye.layout_symbol["icon-image"]),"icon-rotate":new Uo(Ye.layout_symbol["icon-rotate"]),"icon-padding":new jo(Ye.layout_symbol["icon-padding"]),"icon-keep-upright":new jo(Ye.layout_symbol["icon-keep-upright"]),"icon-offset":new Uo(Ye.layout_symbol["icon-offset"]),"icon-anchor":new Uo(Ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jo(Ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jo(Ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jo(Ye.layout_symbol["text-rotation-alignment"]),"text-field":new Uo(Ye.layout_symbol["text-field"]),"text-font":new Uo(Ye.layout_symbol["text-font"]),"text-size":new Uo(Ye.layout_symbol["text-size"]),"text-max-width":new Uo(Ye.layout_symbol["text-max-width"]),"text-line-height":new Uo(Ye.layout_symbol["text-line-height"]),"text-letter-spacing":new Uo(Ye.layout_symbol["text-letter-spacing"]),"text-justify":new Uo(Ye.layout_symbol["text-justify"]),"text-radial-offset":new Uo(Ye.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jo(Ye.layout_symbol["text-variable-anchor"]),"text-anchor":new Uo(Ye.layout_symbol["text-anchor"]),"text-max-angle":new jo(Ye.layout_symbol["text-max-angle"]),"text-writing-mode":new jo(Ye.layout_symbol["text-writing-mode"]),"text-rotate":new Uo(Ye.layout_symbol["text-rotate"]),"text-padding":new jo(Ye.layout_symbol["text-padding"]),"text-keep-upright":new jo(Ye.layout_symbol["text-keep-upright"]),"text-transform":new Uo(Ye.layout_symbol["text-transform"]),"text-offset":new Uo(Ye.layout_symbol["text-offset"]),"text-allow-overlap":new jo(Ye.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new jo(Ye.layout_symbol["text-ignore-placement"]),"text-optional":new jo(Ye.layout_symbol["text-optional"])});var Qp={paint:new qo({"icon-opacity":new Uo(Ye.paint_symbol["icon-opacity"]),"icon-color":new Uo(Ye.paint_symbol["icon-color"]),"icon-halo-color":new Uo(Ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new Uo(Ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Uo(Ye.paint_symbol["icon-halo-blur"]),"icon-translate":new jo(Ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new jo(Ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new Uo(Ye.paint_symbol["text-opacity"]),"text-color":new Uo(Ye.paint_symbol["text-color"],{runtimeType:lt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Uo(Ye.paint_symbol["text-halo-color"]),"text-halo-width":new Uo(Ye.paint_symbol["text-halo-width"]),"text-halo-blur":new Uo(Ye.paint_symbol["text-halo-blur"]),"text-translate":new jo(Ye.paint_symbol["text-translate"]),"text-translate-anchor":new jo(Ye.paint_symbol["text-translate-anchor"])}),layout:Jp};class ef{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:it,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ii(ef,"FormatSectionOverride",{omit:["defaultValue"]});class tf extends ms{constructor(e){super(e,Qp)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const r=this.layout.get("text-writing-mode");if(r){const e=[];for(const t of r)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,r,n){const i=this.layout.get(e).evaluate(t,{},r,n),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Fn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(t,r)=>r in e?String(e[r]):"")}(t.properties,i)}createBucket(e){return new Kp(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Qp.paint.overridableProperties){if(!tf.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),r=new ef(t),n=new Bn(r,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new Un("source",n):new Nn("composite",n,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new Bo(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&tf.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const r=e.get("text-field"),n=Qp.paint.properties[t];let i=!1;const o=e=>{for(const t of e)if(n.overrides&&n.overrides.hasOverride(t))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof It)o(r.value.value.sections);else if("source"===r.value.kind){const e=t=>{i||(t instanceof Bt&&Rt(t.value)===dt?o(t.value.sections):t instanceof Vt?o(t.sections):t.eachChild(e))},t=r.value;t._styleExpression&&e(t._styleExpression.expression)}return i}getProgramConfiguration(e){return new ss(this,e)}}var rf={paint:new qo({"background-color":new jo(Ye.paint_background["background-color"]),"background-pattern":new Vo(Ye.paint_background["background-pattern"]),"background-opacity":new jo(Ye.paint_background["background-opacity"])})},nf={paint:new qo({"raster-opacity":new jo(Ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new jo(Ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jo(Ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jo(Ye.paint_raster["raster-brightness-max"]),"raster-saturation":new jo(Ye.paint_raster["raster-saturation"]),"raster-contrast":new jo(Ye.paint_raster["raster-contrast"]),"raster-resampling":new jo(Ye.paint_raster["raster-resampling"]),"raster-fade-duration":new jo(Ye.paint_raster["raster-fade-duration"])})};class of extends ms{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var af={paint:new qo({"sky-type":new jo(Ye.paint_sky["sky-type"]),"sky-atmosphere-sun":new jo(Ye.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new jo(Ye.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new jo(Ye.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new jo(Ye.paint_sky["sky-gradient-radius"]),"sky-gradient":new Go(Ye.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new jo(Ye.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new jo(Ye.paint_sky["sky-atmosphere-color"]),"sky-opacity":new jo(Ye.paint_sky["sky-opacity"])})};function sf(e,t,r){const n=[0,0,1],i=Xl([]);return Yl(i,i,r?-v(e)+Math.PI:v(e)),Hl(i,i,-v(t)),jl(n,n,i),Ll(n,n)}const lf={circle:class extends ms{constructor(e){super(e,cl)}createBucket(e){return new Zs(e)}queryRadius(e){const t=e;return il("circle-radius",this,t)+il("circle-stroke-width",this,t)+ol(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,r,n,i,o,a,s){const l=sl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r);return rc(e,n,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new ss(this,e)}},heatmap:class extends ms{createBucket(e){return new sc(e)}constructor(e){super(e,pc),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=fc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return il("heatmap-radius",this,e)}queryIntersectsFeature(e,t,r,n,i,o,a,s){const l=this.paint.get("heatmap-radius").evaluate(t,r);return rc(e,n,o,a,s,!0,!0,new m(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new ss(this,e)}},hillshade:class extends ms{constructor(e){super(e,mc)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ms{constructor(e){super(e,eu)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),r=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&r.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),r}getProgramConfiguration(e){return new ss(this,e)}recalculate(e,t){super.recalculate(e,t);const r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Jc(e)}queryRadius(){return ol(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,r,n,i,o){return!e.queryGeometry.isAboveHorizon&&Xs(al(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends ms{constructor(e){super(e,Lu)}createBucket(e){return new Su(e)}queryRadius(){return ol(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new ss(this,e)}queryIntersectsFeature(e,t,r,n,i,o,a,s,l){const c=sl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,r),h=this.paint.get("fill-extrusion-base").evaluate(t,r),d=[0,0],p=s&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,g=e.tile.getBucket(this);if(p&&g instanceof Su){const e=g.centroidVertexArray,t=l+1;if(t<e.length){const r=e.get(t);d[0]=r.a_centroid_pos0,d[1]=r.a_centroid_pos1}}if(0===d[0]&&1===d[1])return!1;"globe"===o.projection.name&&(n=Du([n],[new m(0,0),new m(vs,vs)],e.tileID.canonical).map(e=>e.polygon).flat());const _=p?s:null,[y,v]=function(e,t,r,n,i,o,a,s,l,c,u){return"globe"===e.projection.name?function(e,t,r,n,i,o,a,s,l,c,u){const h=[],d=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],g=(e,t,r,n)=>{e[0]=t,e[1]=r,e[2]=n,e[3]=1},_=zu();r>0&&(r+=_),n+=_;for(const _ of t){const t=[],y=[];for(const h of _){const d=h.x+i.x,_=h.y+i.y,v=e.projection.projectTilePoint(d,_,u),x=e.projection.upVector(u,h.x,h.y);let b=r,w=n;if(a){const e=qu(d,_,r,n,a,s,l,c);b+=e.base,w+=e.top}0!==r?g(f,v.x+x[0]*p*b,v.y+x[1]*p*b,v.z+x[2]*p*b):g(f,v.x,v.y,v.z),g(m,v.x+x[0]*p*w,v.y+x[1]*p*w,v.z+x[2]*p*w),Fl(f,f,o),Fl(m,m,o),t.push(new Nu(f[0],f[1],f[2])),y.push(new Nu(m[0],m[1],m[2]))}h.push(t),d.push(y)}return[h,d]}(e,t,r,n,i,o,a,s,l,c,u):a?function(e,t,r,n,i,o,a,s,l){const c=[],u=[],h=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const u=c.x+n.x,d=c.y+n.y,f=qu(u,d,t,r,o,a,s,l);h[0]=u,h[1]=d,h[2]=f.base,h[3]=1,$l(h,h,i),h[3]=Math.max(h[3],1e-5);const m=new Nu(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=u,h[1]=d,h[2]=f.top,h[3]=1,$l(h,h,i),h[3]=Math.max(h[3],1e-5);const g=new Nu(h[0]/h[3],h[1]/h[3],h[2]/h[3]);e.push(m),p.push(g)}c.push(e),u.push(p)}return[c,u]}(t,r,n,i,o,a,s,l,c):function(e,t,r,n,i){const o=[],a=[],s=i[8]*t,l=i[9]*t,c=i[10]*t,u=i[11]*t,h=i[8]*r,d=i[9]*r,p=i[10]*r,f=i[11]*r;for(const t of e){const e=[],r=[];for(const o of t){const t=o.x+n.x,a=o.y+n.y,m=i[0]*t+i[4]*a+i[12],g=i[1]*t+i[5]*a+i[13],_=i[2]*t+i[6]*a+i[14],y=i[3]*t+i[7]*a+i[15],v=m+s,x=g+l,b=_+c,w=Math.max(y+u,1e-5),T=m+h,E=g+d,S=_+p,C=Math.max(y+f,1e-5);e.push(new Nu(v/w,x/w,b/w)),r.push(new Nu(T/C,E/C,S/C))}o.push(e),a.push(r)}return[o,a]}(t,r,n,i,o)}(o,n,h,u,c,a,_,d,f,o.center.lat,e.tileID.canonical),x=e.queryGeometry;return function(e,t,r){let n=1/0;Xs(r,t)&&(n=Gu(r,t[0]));for(let i=0;i<t.length;i++){const o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){const t=o[e],i=[t,o[e+1],a[e+1],a[e],t];$s(r,i)&&(n=Math.min(n,Gu(r,i)))}}return n!==1/0&&n}(y,v,x.isPointQuery()?x.screenBounds:x.screenGeometry)}},line:class extends ms{constructor(e){super(e,Qu),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Sr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=eh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Ku(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new ss(this,e)}queryRadius(e){const t=e,r=th(il("line-width",this,t),il("line-gap-width",this,t)),n=il("line-offset",this,t);return r/2+Math.abs(n)+ol(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,r,n,i,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=al(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*th(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),l=this.paint.get("line-offset").evaluate(t,r);return l&&(n=function(e,t){const r=[],n=new m(0,0);for(let i=0;i<e.length;i++){const o=e[i],a=[];for(let e=0;e<o.length;e++){const r=o[e-1],i=o[e],s=o[e+1],l=0===e?n:i.sub(r)._unit()._perp(),c=e===o.length-1?n:s.sub(i)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),a.push(u._mult(t)._add(i))}r.push(a)}return r}(n,l*e.pixelToTileUnitsFactor)),function(e,t,r){for(let n=0;n<t.length;n++){const i=t[n];if(e.length>=3)for(let t=0;t<i.length;t++)if(tl(e,i[t]))return!0;if(Hs(e,i,r))return!0}return!1}(a,n,s)}isTileClipped(){return!0}},symbol:tf,background:class extends ms{constructor(e){super(e,rf)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ms{constructor(e){super(e,nf)}getProgramIds(){return["raster"]}},sky:class extends ms{constructor(e){super(e,af),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=fc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(e,t){if("atmosphere"===this.paint.get("sky-type")){const r=this.paint.get("sky-atmosphere-sun"),n=!r,i=e.style.light,o=i.properties.get("position");return n&&"viewport"===i.properties.get("anchor")&&V("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?sf(o.azimuthal,90-o.polar,t):sf(r[0],90-r[1],t)}const r=this.paint.get("sky-gradient-center");return sf(r[0],90-r[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};class cf{constructor(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)}update(e,t,n){const{width:i,height:o}=e,{context:a}=this,{gl:s}=a,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:u,ImageData:h,ImageBitmap:d}=r;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),n||this.size&&this.size[0]===i&&this.size[1]===o){const{x:t,y:r}=n||{x:0,y:0};e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texSubImage2D(s.TEXTURE_2D,0,t,r,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,r,i,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[i,o],e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,i,o,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t){const{context:r}=this,{gl:n}=r;n.bindTexture(n.TEXTURE_2D,this.texture),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?e===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class uf{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class hf{constructor(){this.tasks={},this.taskQueue=[],O(["process"],this),this.invoker=new uf(this.process),this.nextId=0}add(e,t){const r=this.nextId++,n=function({type:e,isSymbolTile:t,zoom:r}){return r=r||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-r:"maybePrepare"===e&&t?400-r:500:200-r:100-r}(t);if(0===n){Z();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[r]={fn:e,metadata:t,priority:n,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:()=>{delete this.tasks[r]}}}process(){Z();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let r=0;r<this.taskQueue.length;r++){const n=this.tasks[this.taskQueue[r]];n.priority<t&&(t=n.priority,e=r)}if(null===e)return null;const r=this.taskQueue[e];return this.taskQueue.splice(e,1),r}remove(){this.invoker.remove()}}class df{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const pf=["tile","layer","source","sourceLayer","state"];class ff{constructor(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,this._z=t,this._x=r,this._y=n,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of pf)void 0!==this[t]&&(e[t]=this[t]);return e}}const mf=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,r=0,n=0,i=0,o=0,a=0,s=0;for(1&t?i=o=a=32:r=n=s=32;(t>>=1)>1;){const e=r+i>>1,l=n+o>>1;1&t?(i=r,o=n,r=a,n=s):(r=i,n=o,i=a,o=s),a=e,s=l}const l=4*e;mf[l+0]=r,mf[l+1]=n,mf[l+2]=i,mf[l+3]=o}const gf=new Uint16Array(2178),_f=new Uint8Array(1089),yf=new Uint16Array(1089);function vf(e){return 0===e?-.03125:32===e?.03125:0}var xf=Ho([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const bf={type:2,extent:vs,loadGeometry:()=>[[new m(0,0),new m(8193,0),new m(8193,8193),new m(0,8193),new m(0,0)]]};class wf{constructor(e,t,r,n,i){this.tileID=e,this.uid=z(),this.uses=0,this.tileSize=t,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=i,this.expiredRequestCount=0,this.state="loading",n&&n.transform&&(this.projection=n.transform.projection)}registerFadeDuration(e){const t=e+this.timeAdded;t<qe.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=bp(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,r){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const r={};if(!t)return r;for(const n of e){const e=n.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)r[t.id]=n}}return r}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof Kp){if(this.hasSymbolBuckets=!0,!r)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof Kp&&t.hasRTLText){this.hasRTLText=!0,Ao.isLoading()||Ao.isLoaded()||"deferred"!==Mo()||ko();break}}this.queryPadding=0;for(const e in this.buckets){const r=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(r))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Sa}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const r=this.buckets[t];r.uploadPending()&&r.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new cf(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new cf(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new cf(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,r,n,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:o,params:i,tileTransform:this.tileTransform},e,t,r):{}}querySourceFeatures(e,t){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const n=r.loadVTLayers(),i=t?t.sourceLayer:"",o=n._geojsonTileLayer||n[i];if(!o)return;const a=Jn(t&&t.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let t=0;t<o.length;t++){const n=o.feature(t);if(a.needGeometry){const e=Vs(n,!0);if(!a.filter(new Io(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new Io(this.tileID.overscaledZ),n))continue;const h=r.getId(n,i),d=new ff(n,s,l,c,h);d.tile=u,e.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=$(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let r=!1;if(this.expirationTime>e)r=!1;else if(t)if(this.expirationTime<t)r=!0;else{const n=this.expirationTime-t;n?this.expirationTime=e+Math.max(n,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!t)return;const r=this.latestFeatureIndex.loadVTLayers(),n=t.style.listImages();for(const i in this.buckets){if(!t.style.hasLayer(i))continue;const o=this.buckets[i],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=r[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;if(o.update(l,s,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Ku||o instanceof Jc){const e=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&e&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID)}const c=t&&t.style&&t.style.getLayer(i);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<qe.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=qe.now()+e}setTexture(e,t){const r=t.context,n=r.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new cf(r,e,n.RGBA,{useMipmap:!0}),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),r.extTextureFilterAnisotropic&&n.texParameterf(n.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax))}setDependencies(e,t){const r={};for(const e of t)r[e]=!0;this.dependencies[e]=r}hasDependency(e,t){for(const r of e){const e=this.dependencies[r];if(e)for(const r of t)if(e[r])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||"mercator"===t.name||this._tileDebugBuffer)return;const r=Ns(bf,this.tileID.canonical,this.tileTransform)[0],n=new Ko,i=new xa;for(let e=0;e<r.length;e++){const{x:t,y:o}=r[e];n.emplaceBack(t,o),i.emplaceBack(e)}i.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(i),this._tileDebugBuffer=e.createVertexBuffer(n,Zd.members),this._tileDebugSegments=ys.simpleSegment(0,0,n.length,i.length)}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||"mercator"===t.name)return;const r=Ns(bf,this.tileID.canonical,this.tileTransform)[0];let n,i;if(this.isRaster){const e=function(e,t){const r=bp(e,t),n=Math.pow(2,e.z);for(let i=0;i<33;i++)for(let o=0;o<33;o++){const a=ks((e.x+(o+vf(o))/32)/n),s=As((e.y+(i+vf(i))/32)/n),l=t.project(a,s),c=33*i+o;gf[2*c+0]=Math.round((l.x*r.scale-r.x)*vs),gf[2*c+1]=Math.round((l.y*r.scale-r.y)*vs)}_f.fill(0),yf.fill(0);for(let e=2045;e>=0;e--){const t=4*e,r=mf[t+0],n=mf[t+1],i=mf[t+2],o=mf[t+3],a=r+i>>1,s=n+o>>1,l=a+s-n,c=s+r-a,u=33*n+r,h=33*o+i,d=33*s+a,p=Math.hypot((gf[2*u+0]+gf[2*h+0])/2-gf[2*d+0],(gf[2*u+1]+gf[2*h+1])/2-gf[2*d+1])>=16;if(_f[d]=_f[d]||(p?1:0),e<1022){const e=33*(n+c>>1)+(r+l>>1),t=33*(o+c>>1)+(i+l>>1);_f[d]=_f[d]||_f[e]||_f[t]}}const i=new Qo,o=new pa;let a=0;function s(e,t){const r=33*t+e;return 0===yf[r]&&(i.emplaceBack(gf[2*r+0],gf[2*r+1],e*vs/32,t*vs/32),yf[r]=++a),yf[r]-1}function l(e,t,r,n,i,a){const c=e+r>>1,u=t+n>>1;if(Math.abs(e-i)+Math.abs(t-a)>1&&_f[33*u+c])l(i,a,e,t,c,u),l(r,n,i,a,c,u);else{const l=s(e,t),c=s(r,n),u=s(i,a);o.emplaceBack(l,c,u)}}return l(0,0,32,32,32,0),l(32,32,0,0,0,32),{vertices:i,indices:o}}(this.tileID.canonical,t);n=e.vertices,i=e.indices}else{n=new Qo,i=new pa;for(const{x:e,y:t}of r)n.emplaceBack(e,t,0,0);const e=yc.exports(n.int16,void 0,4);for(let t=0;t<e.length;t+=3)i.emplaceBack(e[t],e[t+1],e[t+2])}this._tileBoundsBuffer=e.createVertexBuffer(n,xf.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(i),this._tileBoundsSegments=ys.simpleSegment(0,0,n.length,i.length)}_makeGlobeTileDebugBuffers(e,t){const r=t.projection;if(!r||"globe"!==r.name||t.freezeTileCoverage)return;const n=this.tileID.canonical,i=dp(np(n,t)),o=mp(t.zoom);let a;o>0&&(a=ml(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,n,t,i,a,o),this._makeGlobeTileDebugTextBuffer(e,n,t,i,a,o)}_globePoint(e,t,r,n,i,o,a){let s=cp(e,t,r);if(o){const i=1<<r.z,l=Ss(n.center.lng),c=Cs(n.center.lat),u=(r.x+.5)/i-l;let h=0;u>.5?h=-1:u<-.5&&(h=1);let d=(e/vs+r.x)/i+h,p=(t/vs+r.y)/i;d=(d-l)*n._pixelsPerMercatorPixel+l,p=(p-c)*n._pixelsPerMercatorPixel+c;const f=[d*n.worldSize,p*n.worldSize,0];Fl(f,f,o),s=rp(s,f,a)}return Fl(s,s,i)}_makeGlobeTileDebugBorderBuffer(e,t,r,n,i,o){const a=new Ko,s=new xa,l=new Jo,c=(e,c,u,h,d)=>{const p=(u-e)/(d-1),f=(h-c)/(d-1),m=a.length;for(let u=0;u<d;u++){const h=e+u*p,d=c+u*f;a.emplaceBack(h,d);const g=this._globePoint(h,d,t,r,n,i,o);l.emplaceBack(g[0],g[1],g[2]),s.emplaceBack(m+u)}},u=vs;c(0,0,u,0,16),c(u,0,u,u,16),c(u,u,0,u,16),c(0,u,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(s),this._tileDebugBuffer=e.createVertexBuffer(a,Zd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,qd.members),this._tileDebugSegments=ys.simpleSegment(0,0,a.length,s.length)}_makeGlobeTileDebugTextBuffer(e,t,r,n,i,o){const a=new Ko,s=new pa,l=new Jo,c=25;s.reserve(32),a.reserve(c),l.reserve(c);const u=(e,t)=>c*e+t;for(let e=0;e<c;e++){const s=2048*e;for(let e=0;e<c;e++){const c=2048*e;a.emplaceBack(c,s);const u=this._globePoint(c,s,t,r,n,i,o);l.emplaceBack(u[0],u[1],u[2])}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const r=u(e,t),n=u(e,t+1),i=u(e+1,t),o=u(e+1,t+1);s.emplaceBack(r,n,i),s.emplaceBack(i,n,o)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(a,Zd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,qd.members),this._tileDebugTextSegments=ys.simpleSegment(0,0,c,32)}}class Tf{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,r){const n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},I(this.stateChanges[e][n],r),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==n&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][n]){this.deletedStates[e][n]={};for(const t in this.state[e][n])r[t]||(this.deletedStates[e][n][t]=null)}else for(const t in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][t]&&delete this.deletedStates[e][n][t]}removeFeatureState(e,t,r){if(null===this.deletedStates[e])return;const n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}getState(e,t){const r=String(t),n=I({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const r=this.deletedStates[e][t];if(null===r)return{};for(const e in r)delete n[e]}return n}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const r={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const r in this.stateChanges[e])this.state[e][r]||(this.state[e][r]={}),I(this.state[e][r],this.stateChanges[e][r]),t[r]=this.state[e][r];r[e]=t}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const r in this.state[e])t[r]={},this.state[e][r]={};else for(const r in this.deletedStates[e]){if(null===this.deletedStates[e][r])this.state[e][r]={};else for(const t of Object.keys(this.deletedStates[e][r]))delete this.state[e][r][t];t[r]=this.state[e][r]}r[e]=r[e]||{},I(r[e],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const n in e)e[n].setFeatureState(r,t)}}class Ef{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const r=this.toIdx(e,t);return{min:this.minimums[r],max:this.maximums[r]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Sf(e,t,r,n){let i=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(r[a]<e[a]||r[a]>t[a])return null}else{const s=1/n[a];let l=(e[a]-r[a])*s,c=(t[a]-r[a])*s;if(l>c){const e=l;l=c,c=e}if(l>i&&(i=l),c<o&&(o=c),i>o)return null}return i}function Cf(e,t,r,n,i,o,a,s,l,c,u){const h=n-e,d=i-t,p=o-r,f=a-e,m=s-t,g=l-r,_=u[1]*g-u[2]*m,y=u[2]*f-u[0]*g,v=u[0]*m-u[1]*f,x=h*_+d*y+p*v;if(Math.abs(x)<1e-15)return null;const b=1/x,w=c[0]-e,T=c[1]-t,E=c[2]-r,S=(w*_+T*y+E*v)*b;if(S<0||S>1)return null;const C=T*p-E*d,M=E*h-w*p,k=w*d-T*h,A=(u[0]*C+u[1]*M+u[2]*k)*b;return A<0||S+A>1?null:(f*C+m*M+g*k)*b}function Mf(e,t,r){return(e-t)/(r-t)}function kf(e,t,r,n,i,o,a,s,l){const c=1<<r,u=o-n,h=a-i,d=(e+1)/c*u+n,p=(t+0)/c*h+i,f=(t+1)/c*h+i;s[0]=(e+0)/c*u+n,s[1]=p,l[0]=d,l[1]=f}class Af{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),r=[];let n=Math.ceil(Math.pow(2,t));const i=1/n,o=(e,t,r,n,i)=>{const o=n?1:0,a=(e+1)*r-o,s=t*r,l=(t+1)*r-o;i[0]=e*r,i[1]=s,i[2]=a,i[3]=l};let a=new Ef(n);const s=[];for(let t=0;t<n*n;t++){o(t%n,Math.floor(t/n),i,!1,s);const r=Pf(s[0],s[1],e),l=Pf(s[2],s[1],e),c=Pf(s[2],s[3],e),u=Pf(s[0],s[3],e);a.minimums.push(Math.min(r,l,c,u)),a.maximums.push(Math.max(r,l,c,u)),a.leaves.push(1)}for(r.push(a),n/=2;n>=1;n/=2){const e=r[r.length-1];a=new Ef(n);for(let t=0;t<n*n;t++){o(t%n,Math.floor(t/n),2,!0,s);const r=e.getElevation(s[0],s[1]),i=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),c=e.getElevation(s[0],s[3]),u=e.isLeaf(s[0],s[1]),h=e.isLeaf(s[2],s[1]),d=e.isLeaf(s[2],s[3]),p=e.isLeaf(s[0],s[3]),f=Math.min(r.min,i.min,l.min,c.min),m=Math.max(r.max,i.max,l.max,c.max),g=u&&h&&d&&p;a.maximums.push(m),a.minimums.push(f),a.leaves.push(m-f<=5&&g?1:0)}r.push(a)}return r}(this.dem),r=t.length-1,n=t[r];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(t,0,0,r,0)}raycastRoot(e,t,r,n,i,o,a=1){return Sf([e,t,-100],[r,n,this.maximums[0]*a],i,o)}raycast(e,t,r,n,i,o,a=1){if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,r,n,i,o,a);if(null==s)return null;const l=[],c=[],u=[],h=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=d.pop();if(this.leaves[s]){kf(f,m,g,e,t,r,n,u,h);const s=1<<g,l=(f+0)/s,c=(f+1)/s,d=(m+0)/s,_=(m+1)/s,y=Pf(l,d,this.dem)*a,v=Pf(c,d,this.dem)*a,x=Pf(c,_,this.dem)*a,b=Pf(l,_,this.dem)*a,w=Cf(u[0],u[1],y,h[0],u[1],v,h[0],h[1],x,i,o),T=Cf(h[0],h[1],x,u[0],h[1],b,u[0],u[1],y,i,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=Rl([],i,o,p);if(If(y,v,b,x,Mf(e[0],u[0],h[0]),Mf(e[1],u[1],h[1]))>=e[2])return p}continue}let _=0;for(let d=0;d<this._siblingOffset.length;d++){kf((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],g+1,e,t,r,n,u,h),u[2]=-100,h[2]=this.maximums[this.childOffsets[s]+d]*a;const p=Sf(u,h,i,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let r=0;r<_&&!t;r++)e>=l[c[r]]&&(c.splice(r,0,d),t=!0);t||(c[_]=d),_++}}for(let e=0;e<_;e++){const t=c[e];d.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,r){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(r),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,r,n,i){if(1===e[n].isLeaf(t,r))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const o=n-1,a=e[o];let s=0,l=0;for(let e=0;e<this._siblingOffset.length;e++){const n=2*t+this._siblingOffset[e][0],i=2*r+this._siblingOffset[e][1],o=a.getElevation(n,i),c=a.isLeaf(n,i),u=this._addNode(o.min,o.max,c);c&&(s|=1<<e),l||(l=u)}for(let n=0;n<this._siblingOffset.length;n++)s&1<<n||this._construct(e,2*t+this._siblingOffset[n][0],2*r+this._siblingOffset[n][1],o,l+n)}}function If(e,t,r,n,i,o){return Cr(Cr(e,r,o),Cr(t,n,o),i)}function Pf(e,t,r){const n=r.dim,i=S(e*n-.5,0,n-1),o=S(t*n-.5,0,n-1),a=Math.floor(i),s=Math.floor(o),l=Math.min(a+1,n-1),c=Math.min(s+1,n-1);return If(r.get(a,s),r.get(l,s),r.get(a,c),r.get(l,c),i-a,o-s)}const zf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Df{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,r,n=!1,i=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return V(`"${r}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const o=this.dim=t.height-2,a=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=r||"mapbox",this.borderReady=n,!n){for(let e=0;e<o;e++)a[this._idx(-1,e)]=a[this._idx(0,e)],a[this._idx(o,e)]=a[this._idx(o-1,e)],a[this._idx(e,-1)]=a[this._idx(e,0)],a[this._idx(e,o)]=a[this._idx(e,o-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(o,-1)]=a[this._idx(o-1,0)],a[this._idx(-1,o)]=a[this._idx(0,o-1)],a[this._idx(o,o)]=a[this._idx(o-1,o-1)],i&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Af(this)}get(e,t,r=!1){r&&(e=S(e,-1,this.dim),t=S(t,-1,this.dim));const n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}static getUnpackVector(e){return zf[e]}get unpackVector(){return zf[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,r){return(256*e*256+256*t+r)/10-1e4}_unpackTerrarium(e,t,r){return 256*e+t+r/256-32768}static pack(e,t){const r=[0,0,0,0],n=Df.getUnpackVector(t);let i=Math.floor((e+n[3])/n[2]);return r[2]=i%256,i=Math.floor(i/256),r[1]=i%256,i=Math.floor(i/256),r[0]=i,r}getPixels(){return new dc({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let n=t*this.dim,i=t*this.dim+this.dim,o=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-r*this.dim;for(let t=o;t<a;t++)for(let r=n;r<i;r++){const n=4*this._idx(r,t),i=4*this._idx(r+s,t+l);this.pixels[n+0]=e.pixels[i+0],this.pixels[n+1]=e.pixels[i+1],this.pixels[n+2]=e.pixels[i+2],this.pixels[n+3]=e.pixels[i+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ii(Df,"DEMData"),Ii(Af,"DemMinMaxQuadTree",{omit:["dem"]});class Rf{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,r){const n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout(()=>{this.remove(e,i)},r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const r in this.data)for(const n of this.data[r])e(n.value)||t.push(n);for(const e of t)this.remove(e.value.tileID,e)}}class Lf{constructor(e,t,r){this.func=e,this.mask=t,this.range=r}}Lf.ReadOnly=!1,Lf.ReadWrite=!0,Lf.disabled=new Lf(519,Lf.ReadOnly,[0,1]);class Of{constructor(e,t,r,n,i,o){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=o}}Of.disabled=new Of({func:519,mask:0},0,0,7680,7680,7680);class Bf{constructor(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r}}Bf.Replace=[1,0],Bf.disabled=new Bf(Bf.Replace,Mt.transparent,[!1,!1,!1,!1]),Bf.unblended=new Bf(Bf.Replace,Mt.transparent,[!0,!0,!0,!0]),Bf.alphaBlended=new Bf([1,771],Mt.transparent,[!0,!0,!0,!0]);class Ff{constructor(e,t,r){this.enable=e,this.mode=t,this.frontFace=r}}Ff.disabled=new Ff(!1,1029,2305),Ff.backCCW=new Ff(!0,1029,2305),Ff.backCW=new Ff(!0,1029,2304),Ff.frontCW=new Ff(!0,1028,2304),Ff.frontCCW=new Ff(!0,1028,2305);class jf extends He{constructor(e,t,r){super(),this.id=e,this._onlySymbols=r,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new Rf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Tf,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}}getIds(){return A(this._tiles).map(e=>e.tileID).sort(Uf).map(e=>e.key)}getRenderableIds(e){const t=[];for(const r in this._tiles)this._isIdRenderable(+r,e)&&t.push(this._tiles[r]);return e?t.sort((e,t)=>{const r=e.tileID,n=t.tileID,i=new m(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),o=new m(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-n.overscaledZ||o.y-i.y||o.x-i.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(Uf).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))}_tileLoaded(e,t,r,n){if(n)if(e.state="errored",404!==n.status)this._source.fire(new Xe(n,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=qe.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new We("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let n=0;n<t.length;n++){const i=t[n];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);r(e,t),r(t,e)}}function r(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let r=t.tileID.canonical.x-e.tileID.canonical.x;const n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,r,n){for(const i in this._tiles){let o=this._tiles[i];if(n[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>r)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){n[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(let r=e.overscaledZ-1;r>=t;r--){const t=e.scaledTo(r),n=this._getLoadedTile(t);if(n)return n}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const r=Math.ceil(e.width/t)+1,n=Math.ceil(e.height/t)+1,i=Math.floor(r*n*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const r in this._tiles){const n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),e[n.tileID.key]=n}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(e,t,r){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!r)return;let n;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new ju(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(n=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter(e=>this._source.hasTile(e)))):n=[];const i=this._updateRetainedTiles(n);if(Nf(this._source.type)&&0!==n.length){const e={},t={},r=Object.keys(i);for(const n of r){const r=i[n],o=this._tiles[n];if(!o||o.fadeEndTime&&o.fadeEndTime<=qe.now())continue;const a=this.findLoadedParent(r,Math.max(r.overscaledZ-jf.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[n]=r}const o=n[n.length-1].overscaledZ;for(const e in this._tiles){const r=this._tiles[e];if(i[e]||!r.hasData())continue;let n=r.tileID;for(;n.overscaledZ>o;){n=n.scaledTo(n.overscaledZ-1);const o=this._tiles[n.key];if(o&&o.hasData()&&t[n.key]){i[e]=r.tileID;break}}}for(const t in e)i[t]||(this._coveredTiles[t]=!0,i[t]=e[t])}for(const e in i)this._tiles[e].clearFadeHold();const o=function(e,t){const r=[];for(const n in e)n in t||r.push(n);return r}(this._tiles,i);for(const e of o){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const r={},n=e.reduce((e,t)=>Math.min(e,t.overscaledZ),1/0),i=e[0].overscaledZ,o=Math.max(i-jf.maxOverzooming,this._source.minzoom),a=Math.max(i+jf.maxUnderzooming,this._source.minzoom),s={};for(const r of e){const e=this._addTile(r);t[r.key]=r,e.hasData()||n<this._source.maxzoom&&(s[r.key]=r)}this._retainLoadedChildren(s,n,a,t);for(const n of e){let e=this._tiles[n.key];if(e.hasData())continue;if(n.canonical.z>=this._source.maxzoom){const e=n.children(this._source.maxzoom)[0],r=this.getTile(e);if(r&&r.hasData()){t[e.key]=e;continue}}else{const e=n.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let i=e.wasRequested();for(let a=n.overscaledZ-1;a>=o;--a){const o=n.scaledTo(a);if(r[o.key])break;if(r[o.key]=!0,e=this.getTile(o),!e&&i&&(e=this._addTile(o)),e&&(t[o.key]=o,i=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let r,n=this._tiles[e].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);const e=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(e),r)break;n=e}for(const e of t)this._loadedParentTiles[e]=r}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const r=Boolean(t);if(!r){const r=this.map?this.map.painter:null;t=new wf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,r||this._source.fire(new We("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},r))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,t,r){const n=[],i=this.transform;if(!i)return n;const o="globe"===i.projection.name,a=Ss(i.center.lng);for(const s in this._tiles){const l=this._tiles[s];if(r&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(S(a,...Vf(e,-1))-a),Math.abs(S(a,...Vf(e,1))-a)];c=[0,2*t.indexOf(Math.min(...t))-1]}else{const t=[Math.abs(S(a,...Vf(e,-1))-a),Math.abs(S(a,...Vf(e,0))-a),Math.abs(S(a,...Vf(e,1))-a)];c=[t.indexOf(Math.min(...t))-1]}}else c=[0];for(const r of c){const o=e.containsTile(l,i,t,r);o&&n.push(o)}}return n}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const e of t)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(Nf(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=qe.now())return!0}return!1}setFeatureState(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)}removeFeatureState(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,r){const n=this._tiles[e];n&&n.setDependencies(t,r)}reloadTilesForDependencies(e,t){for(const r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(+r,"reloading");this._cache.filter(r=>!r.hasDependency(e,t))}_preloadTiles(e,t){const r=new Map,n=Array.isArray(e)?e:[e],i=this.map.painter.terrain,o=this.usedForTerrain&&i?i.getScaledDemTileSize():this._source.tileSize;for(const e of n){const t=e.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)r.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1)}k(Array.from(r.values()),(e,t)=>{const r=new wf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(r,e=>{"raster-dem"===this._source.type&&r.dem&&this._backfillDEM(r),t(e,r)})},t)}}function Uf(e,t){const r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Nf(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function Vf(e,t){const r=1<<e.z;return[e.x/r+t,(e.x+1)/r+t]}jf.maxOverzooming=10,jf.maxUnderzooming=3;class Gf{constructor(e,t,r){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=r}static create(e,t,r){const n=r||e.findDEMTileFor(t);if(!n||!n.dem)return;const i=n.dem,o=n.tileID,a=1<<t.canonical.z-o.canonical.z;return new Gf(n,n.tileSize/vs/a,[(t.canonical.x/a-o.canonical.x)*i.dim,(t.canonical.y/a-o.canonical.y)*i.dim])}tileCoordToPixel(e,t){const r=t*this._scale+this._offset[1],n=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(r);return new m(n,i)}getElevationAt(e,t,r,n){const i=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(i),s=Math.floor(o),l=this._dem;return n=!!n,r?Cr(Cr(l.get(a,s,n),l.get(a,s+1,n),o-s),Cr(l.get(a+1,s,n),l.get(a+1,s+1,n),o-s),i-a):l.get(a,s,n)}getElevationAtPixel(e,t,r){return this._dem.get(e,t,!!r)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Ms(1,e)*this._dem.stride}}class qf{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Mi(vs,16,0),this.featureIndexArray=new Da,this.promoteId=t}insert(e,t,r,n,i,o=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i,o);const s=this.grid;for(let e=0;e<t.length;e++){const r=t[e],n=[1/0,1/0,-1/0,-1/0];for(let e=0;e<r.length;e++){const t=r[e];n[0]=Math.min(n[0],t.x),n[1]=Math.min(n[1],t.y),n[2]=Math.max(n[2],t.x),n[3]=Math.max(n[3],t.y)}n[0]<vs&&n[1]<vs&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new _u(new yh(this.rawTileData)).layers,this.sourceLayerCoder=new df(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,t,r,n){this.loadVTLayers();const i=e.params||{},o=Jn(i.filter),a=e.tileResult,s=e.transform,l=a.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(e,t,r,n)=>rl(a.bufferedTilespaceGeometry,e,t,r,n));c.sort($f);let u=null;s.elevation&&c.length>0&&(u=Gf.create(s.elevation,this.tileID));const h={};let d;for(let s=0;s<c.length;s++){const l=c[s];if(l===d)continue;d=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(h,p,o,i.layers,i.availableImages,t,r,n,(t,r,n,i=0)=>(f||(f=Ns(t,this.tileID.canonical,e.tileTransform)),r.queryIntersectsFeature(a,t,n,f,this.z,e.transform,e.pixelPosMatrix,u,i)))}return h}loadMatchingFeature(e,t,r,n,i,o,a,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:h,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[u];if(n&&!function(e,t){for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(n,p))return;const f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(c);if(r.needGeometry){const e=Vs(m,!0);if(!r.filter(new Io(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!r.filter(new Io(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let t=0;t<p.length;t++){const r=p[t];if(n&&n.indexOf(r)<0)continue;const u=o[r];if(!u)continue;let h={};void 0!==g&&s&&(h=s.getState(u.sourceLayer||"_geojsonTileLayer",g));const f=I({},a[r]);f.paint=Zf(f.paint,u.paint,m,h,i),f.layout=Zf(f.layout,u.layout,m,h,i);const _=!l||l(m,u,h,d);if(!_)continue;const y=new ff(m,this.z,this.x,this.y,g);y.layer=f;let v=e[r];void 0===v&&(v=e[r]=[]),v.push({featureIndex:c,feature:y,intersectionZ:_})}}lookupSymbolFeatures(e,t,r,n,i,o,a,s){const l={};this.loadVTLayers();const c=Jn(i);for(const i of e)this.loadMatchingFeature(l,{bucketIndex:r,sourceLayerIndex:n,featureIndex:i,layoutVertexArrayOffset:0},c,o,a,s,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:r}=e;this.loadVTLayers();const n=this.sourceLayerCoder.decode(r),i=this.vtFeatures[n];if(i[t])return i[t];const o=this.vtLayers[n].feature(t);return i[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const r of t)if(e===r)return!0;return!1}getId(e,t){let r=e.id;if(this.promoteId){const n="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=n&&(r=e.properties[n]),"boolean"==typeof r&&(r=Number(r))}return r}}function Zf(e,t,r,n,i){return F(e,(e,o)=>{const a=t instanceof Fo?t.get(o):null;return a&&a.evaluate?a.evaluate(r,n,i):a})}function $f(e,t){return t-e}Ii(qf,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Wf{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new hc({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const r=this.getKey(e,t);return this.positions[r]}trim(){const e=this.width,t=this.height=R(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,r){const n=[];let i=e.length%2==1?-e[e.length-1]*r:0,o=e[0]*r,a=!0;n.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];i=s*r,s+=l,o=s*r,n.push({left:i,right:o,isDash:a,zeroLength:0===l})}return n}addRoundDash(e,t,r){const n=t/2;for(let t=-r;t<=r;t++){const i=this.width*(this.nextRow+r+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=t/r*(n+1);if(a.isDash){const e=n-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=n-Math.sqrt(u*u+d*d);this.image.data[i+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}const r=e[0],n=e[e.length-1];r.isDash===n.isDash&&(r.left=n.left-this.width,n.right=r.right+this.width);const i=this.width*this.nextRow;let o=0,a=e[o];for(let r=0;r<this.width;r++){r/a.right>1&&(a=e[++o]);const n=Math.abs(r-a.left),s=Math.abs(r-a.right),l=Math.min(n,s);this.image.data[i+r]=Math.max(0,Math.min(255,(a.isDash?l:-l)+t+128))}}addDash(e,t){const r=this.getKey(e,t);if(this.positions[r])return this.positions[r];const n="round"===t,i=n?7:0,o=2*i+1;if(this.nextRow+o>this.height)return V("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let t=0;t<e.length;t++)e[t]<0&&(V("Negative value is found in line dasharray, replacing values with 0"),e[t]=0),a+=e[t];if(0!==a){const r=this.width/a,o=this.getDashRanges(e,this.width,r);n?this.addRoundDash(o,r,i):this.addRegularDash(o,"square"===t?.5*r:0)}const s=this.nextRow+i;this.nextRow+=o;const l={tl:[s,i],br:[a,0]};return this.positions[r]=l,l}}Ii(Wf,"LineAtlas");class Xf{constructor(e){const t={},r=[];for(const n in e){const i=e[n],o=t[n]={};for(const e in i.glyphs){const t=i.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*n,h:t.bitmap.height+2*n};r.push(a),o[e]=a}}const{w:n,h:i}=Gh(r),o=new hc({width:n||1,height:i||1});for(const r in e){const n=e[r];for(const e in n.glyphs){const i=n.glyphs[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const a=t[r][e],s=i.metrics.localGlyph?2:1;hc.copy(i.bitmap,o,{x:0,y:0},{x:a.x+s,y:a.y+s},i.bitmap)}}this.image=o,this.positions=t}}Ii(Xf,"GlyphAtlas");class Hf{constructor(e){this.tileID=new ju(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=bp(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,t,r,n,i){this.status="parsing",this.data=e,this.collisionBoxArray=new Sa;const o=new df(Object.keys(e.layers).sort()),a=new qf(this.tileID,this.promoteId);a.bucketLayerIDs=[];const s={},l=new Wf(256,256),c={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:r},u=t.familiesBySource[this.source];for(const t in u){const n=e.layers[t];if(!n)continue;let i=!1,l=!1;for(const e of u[t])"symbol"===e[0].type?i=!0:l=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!l)continue;1===n.version&&V(`Vector tile source "${this.source}" layer "${t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=o.encode(t),d=[];for(let e=0;e<n.length;e++){const r=n.feature(e),i=a.getId(r,t);d.push({feature:r,id:i,index:e,sourceLayerIndex:h})}for(const e of u[t]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(Yf(e,this.zoom,r),(s[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:r})).populate(d,c,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(e.map(e=>e.id)))}}let h,d,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=F(c.glyphDependencies,e=>Object.keys(e).map(Number));Object.keys(g).length?n.send("getGlyphs",{uid:this.uid,stacks:g},(e,t)=>{h||(h=e,d=t,v.call(this))},void 0,!1,m):d={};const _=Object.keys(c.iconDependencies);_.length?n.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"icons"},(e,t)=>{h||(h=e,p=t,v.call(this))},void 0,!1,m):p={};const y=Object.keys(c.patternDependencies);function v(){if(h)return i(h);if(d&&p&&f){const e=new Xf(d),t=new Zh(p,f);for(const n in s){const i=s[n];i instanceof Kp?(Yf(i.layers,this.zoom,r),Dd(i,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,r,this.tileID.canonical,this.tileZoom,this.projection)):i.hasPattern&&(i instanceof Ku||i instanceof Jc||i instanceof Su)&&(Yf(i.layers,this.zoom,r),i.addFeatures(c,this.tileID.canonical,t.patternPositions,r,this.tileTransform))}this.status="done",i(null,{buckets:A(s).filter(e=>!e.isEmpty()),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}y.length?n.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"patterns"},(e,t)=>{h||(h=e,f=t,v.call(this))},void 0,!1,m):f={},v.call(this)}}function Yf(e,t,r){const n=new Io(t);for(const t of e)t.recalculate(n,r)}class Kf{constructor(e){this.entries={},this.scheduler=e}request(e,t,r,n){const i=this.entries[e]=this.entries[e]||{callbacks:[]};if(i.result){const[e,r]=i.result;return this.scheduler?this.scheduler.add(()=>{n(e,r)},t):n(e,r),()=>{}}return i.callbacks.push(n),i.cancel||(i.cancel=r((r,n)=>{i.result=[r,n];for(const e of i.callbacks)this.scheduler?this.scheduler.add(()=>{e(r,n)},t):e(r,n);setTimeout(()=>delete this.entries[e],3e3)})),()=>{i.result||(i.callbacks=i.callbacks.filter(e=>e!==n),i.callbacks.length||(i.cancel(),delete this.entries[e]))}}}function Jf(e,t,r){const n=JSON.stringify(e.request);return e.data&&(this.deduped.entries[n]={result:[null,e.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const n=ue(e.request,(e,n,i,o)=>{e?t(e):n&&t(null,{vectorTile:r?void 0:new _u(new yh(n)),rawData:n,cacheControl:i,expires:o})});return()=>{n.cancel(),t()}},t)}e.ARRAY_TYPE=hl,e.AUTH_ERR_MSG=ge,e.Aabb=tc,e.Actor=class{constructor(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.cancelCallbacks={},O(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Z()?e:r,this.scheduler=new hf}send(e,t,r,n,i=!1,o){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=o,this.callbacks[a]=r);const s=X(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Di(t,s)},s),{cancel:()=>{r&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(e){const t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[r];delete this.cancelCallbacks[r],e&&e.cancel()}else if(t.mustQueue||Z()){const e=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add(()=>this.processTask(r,t),e&&e.metadata||{type:"message"})}else this.processTask(r,t)}processTask(e,t){if("<response>"===t.type){const r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Ri(t.error)):r(null,Ri(t.data)))}else{const r=X(this.globalScope)?void 0:[],n=t.hasCallback?(t,n)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Di(t):null,data:Di(n,r)},r)}:e=>{},i=Ri(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,i,n);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],i.source)[e[1]](i,n)}else n(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=Bu,e.Color=Mt,e.ColorMode=Bf,e.CullFaceMode=Ff,e.DEMData=Df,e.DataConstantProperty=jo,e.DedupedRequest=Kf,e.DepthMode=Lf,e.EXTENT=vs,e.Elevation=class{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;const r=t.getSource().maxzoom,n=1<<r,i=Math.floor(e.x),o=Math.floor((e.x-i)*n),a=Math.floor(e.y*n),s=this.findDEMTileFor(new ju(r,i,r,o,a));return!(!s||!s.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,r=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const n=this._source();if(!n)return t;if(e.y<0||e.y>1)return t;const i=n.getSource().maxzoom,o=1<<i,a=Math.floor(e.x),s=e.x-a,l=new ju(i,a,i,Math.floor(s*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const u=c.dem,h=1<<c.tileID.canonical.z,d=(s*h-c.tileID.canonical.x)*u.dim,p=(e.y*h-c.tileID.canonical.y)*u.dim,f=Math.floor(d),m=Math.floor(p);return(r?this.exaggeration():1)*Cr(Cr(u.get(f,m),u.get(f,m+1),p-m),Cr(u.get(f+1,m),u.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,r){const n=1<<e.canonical.z;return this.getAtPointOrZero(new Ds(e.wrap+(e.canonical.x+t/vs)/n,(e.canonical.y+r/vs)/n))}getAtTileOffsetFunc(e,t,r,n){return i=>{const o=this.getAtTileOffset(e,i.x,i.y),a=n.upVector(e.canonical,i.x,i.y);return Dl(a,a,o*n.upVectorScale(e.canonical,t,r).metersToTile),a}}getForTilePoints(e,t,r,n){if(this.isUsingMockSource())return!1;const i=Gf.create(this,e,n);return!!i&&(t.forEach(e=>{e[2]=this.exaggeration()*i.getElevationAt(e[0],e[1],r)}),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const r=t.dem.tree,n=t.tileID,i=1<<e.canonical.z-n.canonical.z;let o=e.canonical.x/i-n.canonical.x,a=e.canonical.y/i-n.canonical.y,s=0;for(let t=0;t<e.canonical.z-n.canonical.z&&!r.leaves[s];t++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=r.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*r.minimums[s],max:this.exaggeration()*r.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,r){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=Xe,e.EvaluationParameters=Io,e.Event=We,e.Evented=He,e.FillExtrusionBucket=Su,e.Frustum=ec,e.FrustumCorners=Ql,e.GLOBE_METERS_TO_ECEF=Wd,e.GLOBE_RADIUS=$d,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=class{constructor(e){this._createGrid(e),this._createPoles(e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const e of this._wireframeSegments)e.destroy()}}_createGrid(e){const t=new Ko,r=new pa,n=65;for(let e=0;e<n;e++)for(let r=0;r<n;r++)t.emplaceBack(r,e);this._gridSegments=[];for(let e=0,t=0;e<Xd.length;e++){const i=Xd[e];for(let e=0;e<i;e++)for(let t=0;t<64;t++){const i=e*n+t;r.emplaceBack(i+1,i,i+n),r.emplaceBack(i+n,i+n+1,i+1)}const o=64*i*2;this._gridSegments.push(ys.simpleSegment(0,t,(i+1)*n,o)),t+=o}this._gridBuffer=e.createVertexBuffer(t,Zd.members),this._gridIndexBuffer=e.createIndexBuffer(r,!0)}_createPoles(e){const t=new pa;for(let e=0;e<=64;e++)t.emplaceBack(0,e+1,e+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const r=new _a,n=new _a;this._poleSegments=[];for(let e=0,t=0;e<5;e++){const i=360/(1<<e);r.emplaceBack(0,-$d,0,.5,0),n.emplaceBack(0,-$d,0,.5,1);for(let e=0;e<=64;e++){const t=e/64,o=Cr(0,i,t),[a,s,l]=sp(yp,vp,o,$d);r.emplaceBack(a,s,l,t,0),n.emplaceBack(a,s,l,t,1)}this._poleSegments.push(ys.simpleSegment(t,0,66,64)),t+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(r,Gd,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(n,Gd,!1)}getGridBuffers(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}getPoleBuffers(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}getWirefameBuffers(e,t){if(!this._wireframeSegments){const t=new va,r=64,n=r+1;this._wireframeSegments=[];for(let e=0,i=0;e<Xd.length;e++){const o=Xd[e];for(let e=0;e<o;e++)for(let i=0;i<r;i++){const r=e*n+i;t.emplaceBack(r,r+1),t.emplaceBack(r,r+n),t.emplaceBack(r,r+n+1)}const a=o*r*3;this._wireframeSegments.push(ys.simpleSegment(0,i,(o+1)*n,a)),i+=a}this._wireframeIndexBuffer=e.createIndexBuffer(t)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},e.GlyphManager=yd,e.ImagePosition=qh,e.LivePerformanceUtils=Oe,e.LngLat=ws,e.LngLatBounds=xs,e.LocalGlyphMode=_d,e.MAX_MERCATOR_LATITUDE=Ps,e.MercatorCoordinate=Ds,e.ONE_EM=24,e.OverscaledTileID=ju,e.PerformanceMarkers=Le,e.Properties=qo,e.RGBAImage=dc,e.Ray=Jl,e.RequestManager=class{constructor(e,t,r){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!r,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",d,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!_e(e))return e;const r=we(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!_e(e))return e;const r=we(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)}normalizeSourceURL(e,t,r,n){if(!_e(e))return e;const i=we(e);return i.path=`/v4/${i.authority}.json`,i.params.push("secure"),r&&i.params.push("language="+r),n&&i.params.push("worldview="+n),this._makeAPIURL(i,this._customAccessToken||t)}normalizeSpriteURL(e,t,r,n){const i=we(e);return _e(e)?(i.path=`/styles/v1${i.path}/sprite${t}${r}`,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=`${t}${r}`,Te(i))}normalizeTileURL(e,t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!_e(e))return e;const n=we(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||r&&"raster"!==n.authority&&512===r?"@2x":""}${a.supported?".webp":"$1"}`),"raster"===n.authority?n.path=`/${o.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${o.TILE_URL_VERSION}${n.path}`);const i=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(n.params)||o.ACCESS_TOKEN;return o.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,i)}canonicalizeTileURL(e,t){const r=we(e);if(!r.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!r.path.match(/\.[\w]+$/))return e;let n="mapbox://";r.path.match(/^\/raster\/v1\//)?n+="raster/"+r.path.replace(`/${o.RASTER_URL_PREFIX}/`,""):n+="tiles/"+r.path.replace(`/${o.TILE_URL_VERSION}/`,"");let i=r.params;return t&&(i=i.filter(e=>!e.match(/^access_token=/))),i.length&&(n+="?"+i.join("&")),n}canonicalizeTileset(e,t){const r=!!t&&_e(t),n=[];for(const t of e.tiles||[])ye(t)?n.push(this.canonicalizeTileURL(t,r)):n.push(t);return n}_makeAPIURL(e,t){const r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=we(o.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==n.path&&(e.path=`${n.path}${e.path}`),!o.REQUIRE_ACCESS_TOKEN)return Te(e);if(t=t||o.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r)}return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+(t||"")),Te(e)}},e.ResourceType=ae,e.SegmentVector=ys,e.SourceCache=jf,e.StencilMode=Of,e.StructArrayLayout1ui2=xa,e.StructArrayLayout2f1f2i16=ua,e.StructArrayLayout2i4=Ko,e.StructArrayLayout2ui4=va,e.StructArrayLayout3f12=da,e.StructArrayLayout3ui6=pa,e.StructArrayLayout4i8=Qo,e.StructArrayLayout5f20=_a,e.Texture=cf,e.Tile=wf,e.Transitionable=Do,e.Uniform1f=Ha,e.Uniform1i=class extends Xa{constructor(e){super(e),this.current=0}set(e,t,r){this.fetchUniformLocation(e,t)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},e.Uniform2f=class extends Xa{constructor(e){super(e),this.current=[0,0]}set(e,t,r){this.fetchUniformLocation(e,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])))}},e.Uniform3f=class extends Xa{constructor(e){super(e),this.current=[0,0,0]}set(e,t,r){this.fetchUniformLocation(e,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])))}},e.Uniform4f=Ya,e.UniformColor=Ka,e.UniformMatrix2f=class extends Xa{constructor(e){super(e),this.current=es}set(e,t,r){if(this.fetchUniformLocation(e,t))for(let e=0;e<4;e++)if(r[e]!==this.current[e]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}},e.UniformMatrix3f=class extends Xa{constructor(e){super(e),this.current=Qa}set(e,t,r){if(this.fetchUniformLocation(e,t))for(let e=0;e<9;e++)if(r[e]!==this.current[e]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}},e.UniformMatrix4f=class extends Xa{constructor(e){super(e),this.current=Ja}set(e,t,r){if(this.fetchUniformLocation(e,t)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let e=1;e<16;e++)if(r[e]!==this.current[e]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}},e.UnwrappedTileID=Fu,e.ValidationError=qn,e.VectorTileFeature=yu,e.VectorTileWorkerSource=class extends He{constructor(e,t,r,n,i){super(),this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=i||Jf,this.loading={},this.loaded={},this.deduped=new Kf(e.scheduler),this.isSpriteLoaded=n,this.scheduler=e.scheduler}loadTile(e,t){const r=e.uid,n=e&&e.request,i=n&&n.collectResourceTiming,o=this.loading[r]=new Hf(e);o.abort=this.loadVectorData(e,(a,s)=>{const l=!this.loading[r];if(delete this.loading[r],l||a||!s)return o.status="done",l||(this.loaded[r]=o),t(a);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile||new _u(new yh(c));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,(e,r)=>{if(e||!r)return t(e);const o={};if(i){const e=je(n);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,I({rawTileData:c.slice(0)},r,u,o))})};this.isSpriteLoaded?h():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):h()}),this.loaded=this.loaded||{},this.loaded[r]=o})}reloadTile(e,t){const r=this.loaded,n=e.uid,i=this;if(r&&r[n]){const o=r[n];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=bp(e.tileID.canonical,e.projection);const a=(e,r)=>{const n=o.reloadCallback;n&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,this.availableImages,i.actor,n)),t(e,r)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const r=e.uid,n=this.loading[r];n&&(n.abort&&n.abort(),delete this.loading[r]),t()}removeTile(e,t){const r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()}},e.WritingMode=$h,e.ZoomHistory=Li,e.add=kl,e.addDynamicAttributes=Wp,e.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=i*c-n*u,e[2]=n*s-i*a,e[3]=s*l-o*u,e[4]=r*u-i*l,e[5]=i*o-r*s,e[6]=o*c-a*l,e[7]=n*l-r*c,e[8]=r*a-n*o,e},e.asyncAll=k,e.bezier=T,e.bindAll=O,e.boundsAttributes=xf,e.bufferConvexPolygon=function(e,t){const r=[];for(let n=0;n<e.length;n++){const i=M(n-1,-1,e.length-1),o=M(n+1,-1,e.length-1),a=e[n],s=e[o],l=e[i].sub(a).unit(),c=s.sub(a).unit(),u=c.angleWithSep(l.x,l.y),h=l.add(c).unit().mult(-1*t/Math.sin(u/2));r.push(a.add(h))}return r},e.cacheEntryPossiblyAdded=function(e){oe++,oe>te&&(e.getActor().send("enforceCacheSizeLimit",ee),oe=0)},e.calculateGlobeLabelMatrix=function(e,t){const{x:r,y:n}=e.point,i=fp(r,n,e.worldSize/e._pixelsPerMercatorPixel,0,0);return gl(i,i,pp(tp(t)))},e.calculateGlobeMatrix=function(e){const{x:t,y:r}=e.point,{lng:n,lat:i}=e._center;return fp(t,r,e.worldSize,n,i)},e.calculateGlobeMercatorMatrix=function(e){const t=e.pixelsPerMeter,r=t/Ms(1,e.center.lat),n=fl(new Float64Array(16));return _l(n,n,[e.point.x,e.point.y,0]),yl(n,n,[r,r,t]),Float32Array.from(n)},e.circumferenceAtLatitude=Es,e.clamp=S,e.clearTileCache=function(e){if(!re())return;const t=r.caches.delete(K);e&&t.catch(e).then(()=>e())},e.clipLine=pd,e.clone=function(e){var t=new hl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=U,e.collisionCircleLayout=lh,e.config=o,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new hl(16);return hl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=dl,e.createExpression=jn,e.createLayout=Ho,e.createStyleLayer=function(e){return"custom"===e.type?new of(e):new lf[e.type](e)},e.cross=Bl,e.degToRad=v,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e},e.dot=Ol,e.earthRadius=bs,e.ease=E,e.easeCubicInOut=w,e.ecefToLatLng=function([e,t,r]){const n=Math.hypot(e,t,r),i=Math.atan2(e,r),o=.5*Math.PI-Math.acos(-t/n);return new ws(x(i),x(o))},e.emitValidationErrors=Ci,e.endsWith=B,e.enforceCacheSizeLimit=function(e){ne(),J&&J.then(t=>{t.keys().then(r=>{for(let n=0;n<r.length-e;n++)t.delete(r[n])})})},e.evaluateSizeForFeature=hh,e.evaluateSizeForZoom=dh,e.evaluateVariableOffset=zd,e.evented=Co,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=qe,e.exported$1=a,e.extend=I,e.extend$1=Ke,e.fillExtrusionHeightLift=zu,e.filterObject=j,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,l=i+i,c=r*a,u=n*a,h=n*s,d=i*a,p=i*s,f=i*l,m=o*a,g=o*s,_=o*l;return e[0]=1-h-f,e[1]=u+_,e[2]=d-g,e[3]=0,e[4]=u-_,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=bl,e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return b[t]},e.getAABBPointSquareDist=function(e,t,r){let n=0;for(let i=0;i<2;++i){const o=r?r[i]:0;e[i]>o&&(n+=(e[i]-o)*(e[i]-o)),t[i]<o&&(n+=(o-t[i])*(o-t[i]))}return n},e.getAnchorAlignment=rd,e.getAnchorJustification=Rd,e.getBounds=function(e){let t=1/0,r=1/0,n=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),r=Math.min(r,o.y),n=Math.max(n,o.x),i=Math.max(i,o.y);return{min:new m(t,r),max:new m(n,i)}},e.getColumn=Y,e.getGridMatrix=function(e,t,r,n){const i=t.getNorth(),o=t.getSouth(),a=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-a,u=i-o,h=c/64,d=-u/Xd[r],p=[0,h,0,d,0,0,i,a,0];if(e.z>0){const e=180/n;pl(p,p,[e/c+1,0,0,0,e/u+1,0,-.5*e/h,.5*e/d,1])}return p[2]=l,p[5]=e.x,p[8]=e.y,p},e.getImage=me,e.getJSON=function(e,t){return ce(I(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){const t=80.051129;e=S(e,-80.051129,t)/t*90;const r=Math.pow(Math.abs(Math.sin(v(e))),3);return Math.round(r*(Xd.length-1))},e.getMapSessionAPI=De,e.getPerformanceMeasurement=je,e.getProjection=Vp,e.getRTLTextPluginStatus=Mo,e.getReferrer=le,e.getTilePoint=function(e,{x:t,y:r},n=0){return new m(((t-n)*e.scale-e.x)*vs,(r*e.scale-e.y)*vs)},e.getTileVec3=function(e,t,r=0){return Ml(((t.x-r)*e.scale-e.x)*vs,(t.y*e.scale-e.y)*vs,Is(t.z,t.y))},e.getVideo=function(e,t){const n=r.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let t=0;t<e.length;t++){const i=r.document.createElement("source");he(e[t])||(n.crossOrigin="Anonymous"),i.src=e[t],n.appendChild(i)}return{cancel:()=>{}}},e.globeCenterToScreenPoint=function(e){const t=[0,0,0],r=fl(new Float64Array(16));return gl(r,e.pixelMatrix,e.globeMatrix),Fl(t,t,r),new m(t[0],t[1])},e.globeDenormalizeECEF=pp,e.globeECEFOrigin=function(e,t){const r=[0,0,0];return Fl(r,r,dp(tp(t.canonical))),Fl(r,r,e),r},e.globeNormalizeECEF=dp,e.globePixelsToTileUnits=function(e,t){return vs/(512*Math.pow(2,e))*up(tp(t))},e.globePoleMatrixForTile=function(e,t,r){const n=fl(new Float64Array(16)),i=(t/(1<<e)-.5)*Math.PI*2;return xl(n,r.globeMatrix,i),Float32Array.from(n)},e.globeTileBounds=tp,e.globeTiltAtLngLat=gp,e.globeToMercatorTransition=mp,e.globeUseCustomAntiAliasing=function(e,t,r){const n=mp(r.zoom),i=e.style.map._antialias,o=!!t.extStandardDerivatives,a=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===n&&!i&&!a&&o},e.identity=fl,e.identity$1=Xl,e.invert=ml,e.isFullscreen=function(){return!!r.document.fullscreenElement||!!r.document.webkitFullscreenElement},e.isLngLatBehindGlobe=function(e,t){return gp(e,t)>Math.PI/2*1.01},e.isMapAuthenticated=function(e){return Re.has(e)},e.isMapboxURL=_e,e.isSafariWithAntialiasingBug=function(e){const t=e.navigator?e.navigator.userAgent:null;return!!X(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=As,e.latLngToECEF=lp,e.len=Gl,e.length=Cl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=ks,e.loadVectorTile=Jf,e.makeRequest=ce,e.mapValue=function(e,t,r,n,i){return S((e-t)/(r-t)*(i-n)+n,n,i)},e.mercatorScale=zs,e.mercatorXfromLng=Ss,e.mercatorYfromLat=Cs,e.mercatorZfromAltitude=Ms,e.mul=Tl,e.mul$1=Vl,e.multiply=gl,e.multiply$1=pl,e.multiply$2=Il,e.nextPowerOfTwo=R,e.normalize=Ll,e.normalize$1=Kl,e.normalize$2=Zl,e.number=Cr,e.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),l=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(a+o)*c,e[15]=1,e},e.pbf=yh,e.perspective=function(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(o=1/(n-i)),e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){const r={};for(let n=0;n<t.length;n++){const i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=Ao,e.pointGeometry=m,e.polygonContainsPoint=tl,e.polygonIntersectsBox=rl,e.polygonIntersectsPolygon=$s,e.polygonizeBounds=function(e,t,r=0,n=!0){const i=new m(r,r),o=e.sub(i),a=t.add(i),s=[o,new m(a.x,o.y),a,new m(o.x,a.y)];return n&&s.push(o.clone()),s},e.posAttributes=Zd,e.postMapLoadEvent=Ae,e.postPerformanceEvent=Pe,e.postTurnstileEvent=Me,e.potpack=Gh,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=x,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:wo,pluginURL:To}),Co.on("pluginStateChange",e),e},e.removeAuthState=function(e){Re.delete(e)},e.renderColorRamp=fc,e.resample=Ls,e.rotateX=vl,e.rotateX$1=Hl,e.rotateY=xl,e.rotateY$1=Yl,e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+u*n,e[2]=s*i+h*n,e[3]=l*i+d*n,e[4]=c*i-o*n,e[5]=u*i-a*n,e[6]=h*i-s*n,e[7]=d*i-l*n,e},e.rotateZ$1=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=i*l-n*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=yl,e.scale$1=ql,e.scale$2=Dl,e.scaleAndAdd=Rl,e.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e},e.setCacheLimits=function(e,t){ee=e,te=t},e.setColumn=function(e,t,r){e[4*t+0]=r[0],e[4*t+1]=r[1],e[4*t+2]=r[2],e[4*t+3]=r[3]},e.setRTLTextPlugin=function(e,t,r=!1){if(wo===yo||wo===vo||wo===xo)throw new Error("setRTLTextPlugin cannot be called multiple times.");To=qe.resolveURL(e),wo=yo,bo=t,So(),r||ko()},e.smoothstep=C,e.spec=Ye,e.squaredLength=function(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n},e.storeAuthState=function(e,t){t?Re.add(e):Re.delete(e)},e.sub=Nl,e.subtract=Al,e.symbolSize=ph,e.tileAABB=function(e,t,r,n,i,o,a,s,l){if("globe"===l.name)return function(e,t,r){const n=t/e.worldSize,i=e.globeMatrix;if(r.z<=1){const e=tp(r).getCorners();return ip(e,i,n),tc.fromPoints(e)}const o=op(r),a=ap(o);ip(a,i,n);const s=Number.MAX_VALUE,l=[-s,-s,-s],c=[s,s,s];if(o.contains(e.center)){for(const e of a)Pl(c,c,e),zl(l,l,e);l[2]=0;const t=e.point,r=[t.x*n,t.y*n,0];return Pl(c,c,r),zl(l,l,r),new tc(c,l)}const u=[i[12]*n,i[13]*n,i[14]*n],h=o.getCenter(),d=S(e.center.lat,-85.051129,Ps),p=S(h.lat,-85.051129,Ps),f=Ss(e.center.lng),m=Cs(d);let g=f-Ss(h.lng);const _=m-Cs(p);g>.5?g-=1:g<-.5&&(g+=1);let y=0;Math.abs(g)>Math.abs(_)?y=g>=0?1:3:(y=_>=0?0:2,Rl(u,u,[i[4]*n,i[5]*n,i[6]*n],-Math.sin(v(_>=0?o.getSouth():o.getNorth()))*$d));const x=a[y],b=a[(y+1)%4],w=new Qd(x,b,u),T=[ep(w,0)||x[0],ep(w,1)||x[1],ep(w,2)||x[2]],E=mp(e.zoom);if(E>0){const n=function({x:e,y:t,z:r},n,i,o,a){const s=1/(1<<r);let l=e*s,c=l+s,u=t*s,h=u+s,d=0;const p=(l+c)/2-o;return p>.5?d=-1:p<-.5&&(d=1),l=((l+d)*n-(o*=n))*i+o,c=((c+d)*n-o)*i+o,u=(u*n-(a*=n))*i+a,h=(h*n-a)*i+a,[[l,h,0],[c,h,0],[c,u,0],[l,u,0]]}(r,t,e._pixelsPerMercatorPixel,f,m);for(let e=0;e<a.length;e++)rp(a[e],n[e],E);const i=kl([],n[y],n[(y+1)%4]);Dl(i,i,.5),rp(T,i,E)}for(const e of a)Pl(c,c,e),zl(l,l,e);return c[2]=Math.min(x[2],b[2]),Pl(c,c,T),zl(l,l,T),new tc(c,l)}(e,t,new Bu(r,n,i));const c=bp({z:r,x:n,y:i},l);return new tc([(o+c.x/c.scale)*t,t*(c.y/c.scale),a],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=op,e.tileTransform=bp,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e},e.transformMat4=Fl,e.transformMat4$1=$l,e.transformQuat=jl,e.transitionTileAABBinECEF=np,e.translate=_l,e.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=Eo,e.uniqueId=z,e.updateGlobeVertexNormal=function(e,t,r,n,i){const o=5*t+2;e.float32[o+0]=r,e.float32[o+1]=n,e.float32[o+2]=i},e.validateCustomStyleLayer=function(e){const t=[],r=e.id;return void 0===r&&t.push({message:`layers.${r}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${r}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateFilter=e=>Si(li(e)),e.validateFog=e=>Si(yi(e)),e.validateLayer=e=>Si(di(e)),e.validateLight=e=>Si(gi(e)),e.validateSource=e=>Si(mi(e)),e.validateStyle=wi,e.validateTerrain=e=>Si(_i(e)),e.values=A,e.vectorTile=ou,e.version=n,e.warnOnce=V,e.window=r,e.wrap=M})),i(["./shared"],(function(e){"use strict";function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r="[";for(const n of e)r+=t(n)+",";return r+"]"}let r="{";for(const n of Object.keys(e).sort())r+=`${n}:${t(e[n])},`;return r+"}"}function r(r){let n="";for(const i of e.refProperties)n+="/"+t(r[i]);return n}class n{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const r of t)this._layerConfigs[r.id]=r,(this._layers[r.id]=e.createStyleLayer(r)).compileFilter(),this.keyCache[r.id]&&delete this.keyCache[r.id];for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=function(e,t){const n={};for(let i=0;i<e.length;i++){const o=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=o);let a=n[o];a||(a=n[o]=[]),a.push(e[i])}const i=[];for(const e in n)i.push(n[e]);return i}(e.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map(e=>this._layers[e.id]),r=t[0];if("none"===r.visibility)continue;const n=r.source||"";let i=this.familiesBySource[n];i||(i=this.familiesBySource[n]={});const o=r.sourceLayer||"_geojsonTileLayer";let a=i[o];a||(a=i[o]=[]),a.push(t)}}}class i{loadTile(t,r){const{uid:n,encoding:i,rawImageData:o,padding:a,buildQuadTree:s}=t,l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap?this.getImageData(o,a):o;r(null,new e.DEMData(n,l,i,a<1,s))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}var o=function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)a(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)a(t.coordinates[n],r);return t};function a(e,t){if(0!==e.length){s(e[0],t);for(var r=1;r<e.length;r++)s(e[r],!t)}}function s(e,t){for(var r=0,n=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=r+s;n+=Math.abs(r)>=Math.abs(s)?r-l+s:s-l+r,r=l}r+n>=0!=!!t&&e.reverse()}const l=e.VectorTileFeature.prototype.toGeoJSON;class c{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.pointGeometry(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const n=[];for(const t of r)n.push(new e.pointGeometry(t[0],t[1]));t.push(n)}return t}}toGeoJSON(e,t,r){return l.call(this,e,t,r)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new c(this._features[e])}}var h={exports:{}},d=e.pointGeometry,p=e.vectorTile.VectorTileFeature,f=m;function m(e,t){this.options=t||{},this.features=e,this.length=e.length}function g(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}m.prototype.feature=function(e){return new g(this.features[e],this.options.extent)},g.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],n=[],i=0;i<r.length;i++)n.push(new d(r[i][0],r[i][1]));this.geometry.push(n)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},g.prototype.toGeoJSON=p.prototype.toGeoJSON;var _=e.pbf,y=f;function v(e){var t=new _;return function(e,t){for(var r in e.layers)t.writeMessage(3,x,e.layers[r])}(e,t),t.finish()}function x(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,b,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var o=n.values;for(r=0;r<o.length;r++)t.writeMessage(4,C,o[r])}function b(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,w,e),t.writeVarintField(3,r.type),t.writeMessage(4,S,r)}function w(e,t){var r=e.feature,n=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in r.properties){var l=r.properties[s],c=o[s];if(null!==l){void 0===c&&(n.push(s),o[s]=c=n.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(i.push(l),a[h]=d=i.length-1),t.writeVarint(d)}}}function T(e,t){return(t<<3)+(7&e)}function E(e){return e<<1^e>>31}function S(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,o=0,a=r.length,s=0;s<a;s++){var l=r[s],c=1;1===n&&(c=l.length),t.writeVarint(T(1,c));for(var u=3===n?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==n&&t.writeVarint(T(2,u-1));var d=l[h].x-i,p=l[h].y-o;t.writeVarint(E(d)),t.writeVarint(E(p)),i+=d,o+=p}3===n&&t.writeVarint(T(7,1))}}function C(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function M(e,t,r,n,i,o){if(i-n<=r)return;const a=n+i>>1;(function e(t,r,n,i,o,a){for(;o>i;){if(o-i>600){const s=o-i+1,l=n-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-l*u/s+h)),Math.min(o,Math.floor(n+(s-l)*u/s+h)),a)}const s=r[2*n+a];let l=i,c=o;for(k(t,r,i,n),r[2*o+a]>s&&k(t,r,i,o);l<c;){for(k(t,r,l,c),l++,c--;r[2*l+a]<s;)l++;for(;r[2*c+a]>s;)c--}r[2*i+a]===s?k(t,r,i,c):(c++,k(t,r,c,o)),c<=n&&(i=c+1),n<=c&&(o=c-1)}})(e,t,a,n,i,o%2),M(e,t,r,n,a-1,o+1),M(e,t,r,a+1,i,o+1)}function k(e,t,r,n){A(e,r,n),A(t,2*r,2*n),A(t,2*r+1,2*n+1)}function A(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function I(e,t,r,n){const i=e-r,o=t-n;return i*i+o*o}h.exports=v,h.exports.fromVectorTileJs=v,h.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new y(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return v({layers:r})},h.exports.GeoJSONWrapper=y;const P=e=>e[0],z=e=>e[1];class D{constructor(e,t=P,r=z,n=64,i=Float64Array){this.nodeSize=n,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length);for(let n=0;n<e.length;n++)a[n]=n,s[2*n]=t(e[n]),s[2*n+1]=r(e[n]);M(a,s,n,0,a.length-1,0)}range(e,t,r,n){return function(e,t,r,n,i,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const h=s.pop(),d=s.pop(),p=s.pop();if(d-p<=a){for(let a=p;a<=d;a++)c=t[2*a],u=t[2*a+1],c>=r&&c<=i&&u>=n&&u<=o&&l.push(e[a]);continue}const f=Math.floor((p+d)/2);c=t[2*f],u=t[2*f+1],c>=r&&c<=i&&u>=n&&u<=o&&l.push(e[f]);const m=(h+1)%2;(0===h?r<=c:n<=u)&&(s.push(p),s.push(f-1),s.push(m)),(0===h?i>=c:o>=u)&&(s.push(f+1),s.push(d),s.push(m))}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)}within(e,t,r){return function(e,t,r,n,i,o){const a=[0,e.length-1,0],s=[],l=i*i;for(;a.length;){const c=a.pop(),u=a.pop(),h=a.pop();if(u-h<=o){for(let i=h;i<=u;i++)I(t[2*i],t[2*i+1],r,n)<=l&&s.push(e[i]);continue}const d=Math.floor((h+u)/2),p=t[2*d],f=t[2*d+1];I(p,f,r,n)<=l&&s.push(e[d]);const m=(c+1)%2;(0===c?r-i<=p:n-i<=f)&&(a.push(h),a.push(d-1),a.push(m)),(0===c?r+i>=p:n+i>=f)&&(a.push(d+1),a.push(u),a.push(m))}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}}const R={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},L=Math.fround||(O=new Float32Array(1),e=>(O[0]=+e,O[0]));var O;class B{constructor(e){this.options=Z(Object.create(R),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:r,maxZoom:n,nodeSize:i}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(j(e[t],t));this.trees[n+1]=new D(a,$,W,i,Float32Array),t&&console.timeEnd(o);for(let e=n;e>=r;e--){const r=+Date.now();a=this._cluster(a,e),this.trees[e]=new D(a,$,W,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-r)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const e=this.getClusters([r,n,180,o],t),a=this.getClusters([-180,n,i,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(V(r),G(o),V(i),G(n)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?U(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);const o=i.points[t];if(!o)throw new Error(n);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i.within(o.x,o.y,a),l=[];for(const t of s){const r=i.points[t];r.parentId===e&&l.push(r.numPoints?U(r):this.points[r.index])}if(0===l.length)throw new Error(n);return l}getLeaves(e,t,r){const n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n}getTile(e,t,r){const n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(r-s)/i,c=(r+1+s)/i,u={features:[]};return this._addTileFeatures(n.range((t-s)/i,l,(t+1+s)/i,c),n.points,t,r,i,u),0===t&&this._addTileFeatures(n.range(1-s/i,l,1,c),n.points,i,r,i,u),t===i-1&&this._addTileFeatures(n.range(0,l,s/i,c),n.points,-1,r,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,i){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?i+o.point_count<=n?i+=o.point_count:i=this._appendLeaves(e,o.cluster_id,r,n,i):i<n?i++:e.push(t),e.length===r)break}return i}_addTileFeatures(e,t,r,n,i,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=N(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=V(t.geometry.coordinates[0]),u=G(t.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(c*i-r)),Math.round(this.options.extent*(u*i-n))]],tags:l};let d;s?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:n,extent:i,reduce:o,minPoints:a}=this.options,s=n/(i*Math.pow(2,t));for(let n=0;n<e.length;n++){const i=e[n];if(i.zoom<=t)continue;i.zoom=t;const l=this.trees[t+1],c=l.within(i.x,i.y,s),u=i.numPoints||1;let h=u;for(const e of c){const r=l.points[e];r.zoom>t&&(h+=r.numPoints||1)}if(h>u&&h>=a){let e=i.x*u,a=i.y*u,s=o&&u>1?this._map(i,!0):null;const d=(n<<5)+(t+1)+this.points.length;for(const r of c){const n=l.points[r];if(n.zoom<=t)continue;n.zoom=t;const c=n.numPoints||1;e+=n.x*c,a+=n.y*c,n.parentId=d,o&&(s||(s=this._map(i,!0)),o(s,this._map(n)))}i.parentId=d,r.push(F(e/h,a/h,d,h,s))}else if(r.push(i),h>1)for(const e of c){const n=l.points[e];n.zoom<=t||(n.zoom=t,r.push(n))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?Z({},e.properties):e.properties;const r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?Z({},n):n}}function F(e,t,r,n,i){return{x:L(e),y:L(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function j(e,t){const[r,n]=e.geometry.coordinates;return{x:L(V(r)),y:L(G(n)),zoom:1/0,index:t,parentId:-1}}function U(e){return{type:"Feature",id:e.id,properties:N(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),q(e.y)]}};var t}function N(e){const t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return Z(Z({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function V(e){return e/360+.5}function G(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function q(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Z(e,t){for(const r in t)e[r]=t[r];return e}function $(e){return e.x}function W(e){return e.y}function X(e,t,r,n,i,o){var a=i-r,s=o-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=i,n=o):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}function H(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)Y(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)Y(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)Y(e,t[n][i])}(i),i}function Y(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function K(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===o)J(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)J(i[c],s);else if("LineString"===o)Q(i,s,a,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(c=0;c<i.length;c++)Q(i[c],s=[],a,!1),e.push(H(l,"LineString",s,t.properties));return}ee(i,s,a,!1)}else if("Polygon"===o)ee(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)K(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var u=[];ee(i[c],u,a,!0),s.push(u)}}e.push(H(l,o,s,t.properties))}}function J(e,t){t.push(te(e[0])),t.push(re(e[1])),t.push(0)}function Q(e,t,r,n){for(var i,o,a=0,s=0;s<e.length;s++){var l=te(e[s][0]),c=re(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=n?(i*c-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(c-o,2))),i=l,o=c}var u=t.length-3;t[2]=1,function e(t,r,n,i){for(var o,a=i,s=n-r>>1,l=n-r,c=t[r],u=t[r+1],h=t[n],d=t[n+1],p=r+3;p<n;p+=3){var f=X(t[p],t[p+1],c,u,h,d);if(f>a)o=p,a=f;else if(f===a){var m=Math.abs(p-s);m<l&&(o=p,l=m)}}a>i&&(o-r>3&&e(t,r,o,i),t[o+2]=a,n-o>3&&e(t,o,n,i))}(t,0,u,r),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ee(e,t,r,n){for(var i=0;i<e.length;i++){var o=[];Q(e[i],o,r,n),t.push(o)}}function te(e){return e/360+.5}function re(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function ne(e,t,r,n,i,o,a,s){if(n/=t,o>=(r/=t)&&a<n)return e;if(a<r||o>=n)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.type,p=0===i?u.minX:u.minY,f=0===i?u.maxX:u.maxY;if(p>=r&&f<n)l.push(u);else if(!(f<r||p>=n)){var m=[];if("Point"===d||"MultiPoint"===d)ie(h,m,r,n,i);else if("LineString"===d)oe(h,m,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===d)se(h,m,r,n,i,!1);else if("Polygon"===d)se(h,m,r,n,i,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var _=[];se(h[g],_,r,n,i,!0),_.length&&m.push(_)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(H(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(H(u.id,d,m,u.tags))}}}return l.length?l:null}function ie(e,t,r,n,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=r&&a<=n&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function oe(e,t,r,n,i,o,a){for(var s,l,c=ae(e),u=0===i?ce:ue,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],_=e[d+4],y=0===i?p:f,v=0===i?g:_,x=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-_,2))),y<r?v>r&&(l=u(c,p,f,g,_,r),a&&(c.start=h+s*l)):y>n?v<n&&(l=u(c,p,f,g,_,n),a&&(c.start=h+s*l)):le(c,p,f,m),v<r&&y>=r&&(l=u(c,p,f,g,_,r),x=!0),v>n&&y<=n&&(l=u(c,p,f,g,_,n),x=!0),!o&&x&&(a&&(c.end=h+s*l),t.push(c),c=ae(e)),a&&(h+=s)}var b=e.length-3;p=e[b],f=e[b+1],m=e[b+2],(y=0===i?p:f)>=r&&y<=n&&le(c,p,f,m),b=c.length-3,o&&b>=3&&(c[b]!==c[0]||c[b+1]!==c[1])&&le(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ae(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function se(e,t,r,n,i,o){for(var a=0;a<e.length;a++)oe(e[a],t,r,n,i,o,!1)}function le(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ce(e,t,r,n,i,o){var a=(o-t)/(n-t);return e.push(o),e.push(r+(i-r)*a),e.push(1),a}function ue(e,t,r,n,i,o){var a=(o-r)/(i-r);return e.push(t+(n-t)*a),e.push(o),e.push(1),a}function he(e,t){for(var r=[],n=0;n<e.length;n++){var i,o=e[n],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=de(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(de(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(de(o.geometry[s][c],t));i.push(l)}r.push(H(o.id,a,i,o.tags))}return r}function de(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function pe(e,t){if(e.transformed)return e;var r,n,i,o=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n<c.length;n+=2)l.geometry.push(fe(c[n],c[n+1],t,o,a,s));else for(n=0;n<c.length;n++){var h=[];for(i=0;i<c[n].length;i+=2)h.push(fe(c[n][i],c[n][i+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function fe(e,t,r,n,i,o){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-o))]}function me(e,t,r,n,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ge(a,e[s],o,i);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),h>a.maxY&&(a.maxY=h)}return a}function ge(e,t,r,n){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)_e(a,i,e,r,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)_e(a,i[s],e,r,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var c=i[l];for(s=0;s<c.length;s++)_e(a,c[s],e,r,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&n.lineMetrics){for(var h in u={},t.tags)u[h]=t.tags[h];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(d.id=t.id),e.features.push(d)}}function _e(e,t,r,n,i,o){var a=n*n;if(n>0&&t.size<(i?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,o=i-2;n<i;o=n,n+=2)r+=(e[n]-e[o])*(e[n+1]+e[o+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=a,e[i-1-n]=s}}(s,o),e.push(s)}}function ye(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)K(r,e.features[n],t,n);else K(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,i=ne(e,1,-1-r,r,0,-1,2,t),o=ne(e,1,1-r,2+r,0,-1,2,t);return(i||o)&&(n=ne(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=he(i,1).concat(n)),o&&(n=n.concat(he(o,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ve(e,t,r){return 32*((1<<e)*r+t)+e}function xe(e,t){const r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);const i=new u(n.features);let o=h.exports(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,r,n,i,o,a){for(var s=[e,t,r,n],l=this.options,c=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,h=ve(t,r,n),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=me(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,i){if(t===l.maxZoom||t===i)continue;var f=1<<i-t;if(r!==Math.floor(o/f)||n!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,_,y,v,x,b=.5*l.buffer/l.extent,w=.5-b,T=.5+b,E=1+b;m=g=_=y=null,v=ne(e,u,r-b,r+T,0,d.minX,d.maxX,l),x=ne(e,u,r+w,r+E,0,d.minX,d.maxX,l),e=null,v&&(m=ne(v,u,n-b,n+T,1,d.minY,d.maxY,l),g=ne(v,u,n+w,n+E,1,d.minY,d.maxY,l),v=null),x&&(_=ne(x,u,n-b,n+T,1,d.minY,d.maxY,l),y=ne(x,u,n+w,n+E,1,d.minY,d.maxY,l),x=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*r,2*n),s.push(g||[],t+1,2*r,2*n+1),s.push(_||[],t+1,2*r+1,2*n),s.push(y||[],t+1,2*r+1,2*n+1)}}},ye.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,o=n.debug;if(e<0||e>24)return null;var a=1<<e,s=ve(e,t=(t%a+a)%a,r);if(this.tiles[s])return pe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,c=e,u=t,h=r;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[ve(c,u,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,h),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,e,t,r),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};class be extends e.VectorTileWorkerSource{constructor(e,t,r,n,i){super(e,t,r,n,xe),i&&(this.loadGeoJSON=i)}loadData(t,r){const n=t&&t.request,i=n&&n.collectResourceTiming;this.loadGeoJSON(t,(a,s)=>{if(a||!s)return r(a);if("object"!=typeof s)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{o(s,!0);try{if(t.filter){const r=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));const n=s.features.filter(e=>r.value.evaluate({zoom:0},e));s={type:"FeatureCollection",features:n}}this._geoJSONIndex=t.cluster?new B(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const n={},i={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(r);for(const t of s){const[o,a]=r[t],s=e.createExpression(a),l=e.createExpression("string"==typeof o?[o,["accumulated"],["get",t]]:o);n[t]=s.value,i[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=n[e].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)o.accumulated=e[t],e[t]=i[t].evaluate(o,a)},t}(t)).load(s.features):function(e,t){return new ye(e,t)}(s,t.geojsonVtOptions)}catch(a){return r(a)}this.loaded={};const l={};if(i){const r=e.getPerformanceMeasurement(n);r&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)))}r(null,l)}})}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class we{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r()}checkIfReady(e,t,r){r()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,r){this.isSpriteLoaded[t]=r;for(const n in this.workerSources[t]){const i=this.workerSources[t][n];for(const t in i)i[t]instanceof e.VectorTileWorkerSource&&(i[t].isSpriteLoaded=r,i[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,r){this.availableImages[e]=t;for(const r in this.workerSources[e]){const n=this.workerSources[e][r];for(const e in n)n[e].availableImages=t}r()}enableTerrain(e,t,r){this.terrain=t,r()}setProjection(t,r){this.projections[t]=e.getProjection(r)}setLayers(e,t,r){this.getLayerIndex(e).replace(t),r()}updateLayers(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()}loadTile(t,r,n){const i=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).loadTile(i,n)}loadDEMTile(t,r,n){const i=this.enableTerrain?e.extend({buildQuadTree:this.terrain},r):r;this.getDEMWorkerSource(t,r.source).loadTile(i,n)}reloadTile(t,r,n){const i=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).reloadTile(i,n)}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)}removeSource(e,t,r){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}}syncRTLPluginState(t,r,n){try{e.plugin.setState(r);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const r=e.plugin.isParsed();n(r?void 0:new Error("RTL Text Plugin failed to import scripts from "+t),r)}}catch(e){n(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}getWorkerSource(e,t,r){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){const n={send:(t,r,n,i,o,a)=>{this.actor.send(t,r,n,e,o,a)},scheduler:this.actor.scheduler};this.workerSources[e][t][r]=new this.workerSourceTypes[t](n,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][r]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new i),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,r){e.enforceCacheSizeLimit(r)}getWorkerPerformanceMetrics(e,t,r){r(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new we(self)),we})),i(["./shared"],(function(e){"use strict";function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(!t(e[n],r[n]))return!1;return!0}return e===r}var r=n;function n(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===i[t=e&&e.failIfMajorPerformanceCaveat]&&(i[t]=function(e){var t,r=function(e){var t=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e);if(!r)return!1;try{t=r.createShader(r.VERTEX_SHADER)}catch(e){return!1}return!(!t||r.isContextLost())&&(r.shaderSource(t,"void main() {}"),r.compileShader(t),!0===r.getShaderParameter(t,r.COMPILE_STATUS))}(t)),i[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var i={};function o(t,r,n){const i=e.window.document.createElement(t);return void 0!==r&&(i.className=r),n&&n.appendChild(i),i}function a(t,r,n){const i=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(r))i.setAttributeNS(null,e,r[e]);return n&&n.appendChild(i),i}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let c;function u(){s&&l&&(c=s[l],s[l]="none")}function h(){s&&l&&(s[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function p(){e.window.addEventListener("click",d,!0),e.window.setTimeout(()=>{e.window.removeEventListener("click",d,!0)},0)}function f(e,t){const r=e.getBoundingClientRect();return _(e,r,t)}function m(e,t){const r=e.getBoundingClientRect(),n=[];for(let i=0;i<t.length;i++)n.push(_(e,r,t[i]));return n}function g(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function _(t,r,n){const i=t.offsetWidth===r.width?1:t.offsetWidth/r.width;return new e.pointGeometry((n.clientX-r.left)*i,(n.clientY-r.top)*i)}function y(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*o-i*n;return a?(e[0]=o*(a=1/a),e[1]=-n*a,e[2]=-i*a,e[3]=r*a,e):null}function v(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,r){let n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let r=0;for(const n of e){if(n[0]<r||n[1]<n[0]||t<n[1])return!1;r=n[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let r=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,r){const n={};for(const r of t){this.images[r]||this.fire(new e.Event("styleimagemissing",{id:r}));const t=this.images[r];t?n[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}r(null,n)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{const r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(r,n);this.patterns[t]={bin:r,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:r,h:n}=e.potpack(t),i=this.atlasImage;i.resize({width:r||1,height:n||1});for(const t in this.patterns){const{bin:r}=this.patterns[t],n=r.x+1,o=r.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,i,{x:0,y:0},{x:n,y:o},{width:s,height:l}),e.RGBAImage.copy(a,i,{x:0,y:l-1},{x:n,y:o-1},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:n,y:o+l},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:s-1,y:0},{x:n-1,y:o},{width:1,height:l}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:n+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];v(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,r){return function([t,r,n]){const i=e.degToRad(r+90),o=e.degToRad(n);return{x:t*Math.cos(i)*Math.sin(o),y:t*Math.sin(i)*Math.sin(o),z:t*Math.cos(o),azimuthal:r,polar:n}}(t.expression.evaluate(r))}interpolate(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n),azimuthal:e.number(t.azimuthal,r.azimuthal,n),polar:e.number(t.polar,r.polar,n)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,r={}){if(!this._validate(e.validateLight,t,r))for(const r in t){const n=t[r];e.endsWith(r,w)?this._transitionable.setTransition(r.slice(0,-w.length),n):this._transitionable.setValue(r,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),S="-transition";class C extends e.Evented{constructor(t,r){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(t){for(const r in t){const n=t[r];e.endsWith(r,S)?this._transitionable.setTransition(r.slice(0,-S.length),n):this._transitionable.setValue(r,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function M(t,r,n,i){const o=e.smoothstep(45,65,n),[a,s]=k(t,i),l=e.length(r);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*t.alpha}function k(e,t){const r=.5/Math.tan(.5*t);return[e.range[0]+r,e.range[1]+r]}const A=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),I="-transition";class P extends e.Evented{constructor(t,r){super(),this._transitionable=new e.Transitionable(A),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=r}get state(){const t=this._transform,r="globe"===t.projection.name,n=e.globeToMercatorTransition(t.zoom),i=this.properties.get("range"),o=[.5,3];return{range:r?[e.number(o[0],i[0],n),e.number(o[1],i[1],n)]:i,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,r={}){if(!this._validate(e.validateFog,t,r)){for(const r of Object.keys(e.spec.fog))t&&void 0===t[r]&&(t[r]=e.spec.fog[r].default);for(const r in t){const n=t[r];e.endsWith(r,I)?this._transitionable.setTransition(r.slice(0,-I.length),n):this._transitionable.setValue(r,n)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const r=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*r.a}getOpacityAtLatLng(t,r){return this._transform.projection.supportsFog?function(t,r,n){const i=e.MercatorCoordinate.fromLngLat(r),o=n.elevation?n.elevation.getAtPointOrZero(i):0,a=[i.x,i.y,o];return e.transformMat4(a,a,n.mercatorFogMatrix),M(t,a,n.pitch,n._fov)}(this.state,t,r):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?k(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class z{constructor(t,r){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const n=this.workerPool.acquire(this.id);for(let e=0;e<n.length;e++){const t=new z.Actor(n[e],r,this.id);t.name="Worker "+e,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,r,n){e.asyncAll(this.actors,(e,n)=>{e.send(t,r,n)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function D(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}z.Actor=e.Actor;class R{constructor(e,t,r,n){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=r,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,n)}static createFromScreenPoints(t,r){let n,i;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const o=e.pointGeometry.convert(t);n=[o],i=r.isPointAboveHorizon(o)}else{const o=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);n=[o,a],i=e.polygonizeBounds(o,a).every(e=>r.isPointAboveHorizon(e))}return new R(n,r.getCameraPoint(),i,r)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const r=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(r,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>r.x&&this.cameraPoint.x<n.x?i.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?i[2]=this.cameraPoint:this.cameraPoint.x<=r.x&&(i[3]=this.cameraPoint)),e.bufferConvexPolygon(i,t)}bufferedCameraGeometryGlobe(t){const r=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(r,n,t),o=this.cameraPoint.clone();switch(3*((o.y>r.y)+(o.y>n.y))+((o.x>r.x)+(o.x>n.x))){case 0:i[0]=o,i[4]=o.clone();break;case 1:i.splice(1,0,o);break;case 2:i[1]=o;break;case 3:i.splice(4,0,o);break;case 5:i.splice(2,0,o);break;case 6:i[3]=o;break;case 7:i.splice(3,0,o);break;case 8:i[2]=o}return i}containsTile(t,r,n,i=0){const o=t.queryPadding/r._pixelsPerMercatorPixel+1,a=n?this._bufferedCameraMercator(o,r):this._bufferedScreenMercator(o,r);let s=t.tileID.wrap+(a.unwrapped?i:0);const l=a.polygon.map(r=>e.getTilePoint(t.tileTransform,r,s));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?i:0);const c=this.screenGeometryMercator.polygon.map(r=>e.getTileVec3(t.tileTransform,r,s)),u=c.map(t=>new e.pointGeometry(t[0],t[1])),h=r.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,h,s),p=c.map(t=>{const r=e.sub(t,t,d);return e.normalize(r,r),new e.Ray(d,r)}),f=D(t,1,r.zoom)*r._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:f};var m}_bufferedScreenMercator(e,t){const r=B(e);if(this._screenRaycastCache[r])return this._screenRaycastCache[r];{let n;return n="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._screenRaycastCache[r]=n,n}}_bufferedCameraMercator(e,t){const r=B(e);if(this._cameraRaycastCache[r])return this._cameraRaycastCache[r];{let n;return n="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._cameraRaycastCache[r]=n,n}}_projectAndResample(t,r){const n=function(t,r){const n=e.multiply([],r.pixelMatrix,r.globeMatrix),i=[0,-e.GLOBE_RADIUS,0,1],o=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(i,i,n),e.transformMat4$1(o,o,n),e.transformMat4$1(a,a,n);const s=new e.pointGeometry(i[0]/i[3],i[1]/i[3]),l=new e.pointGeometry(o[0]/o[3],o[1]/o[3]),c=e.polygonContainsPoint(t,s)&&i[3]<a[3],u=e.polygonContainsPoint(t,l)&&o[3]<a[3];if(!c&&!u)return null;const h=function(e,t,r){for(let n=1;n<e.length;n++){const i=O(t.pointCoordinate3D(e[n-1]).x),o=O(t.pointCoordinate3D(e[n]).x);if(r<0){if(i<o)return{idx:n,t:-i/(o-1-i)}}else if(o<i)return{idx:n,t:(1-i)/(o+1-i)}}return null}(t,r,c?-1:1);if(!h)return null;const{idx:d,t:p}=h;let f=d>1?L(t.slice(0,d),r):[],m=d<t.length?L(t.slice(d),r):[];f=f.map(t=>new e.pointGeometry(O(t.x),t.y)),m=m.map(t=>new e.pointGeometry(O(t.x),t.y));const g=[...f];0===g.length&&g.push(m[m.length-1]);const _=e.number(g[g.length-1].y,(0===m.length?f[0]:m[0]).y,p);let y;return y=c?[new e.pointGeometry(0,_),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,_)]:[new e.pointGeometry(1,_),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,_)],g.push(...y),0===m.length?g.push(f[0]):g.push(...m),{polygon:g.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:!1}}(t,r);if(n)return n;const i=function(t,r){let n=!1,i=-1/0,o=0;for(let e=0;e<t.length-1;e++)t[e].x>i&&(i=t[e].x,o=e);for(let e=0;e<t.length-1;e++){const r=(o+e)%(t.length-1),i=t[r],a=t[r+1];Math.abs(i.x-a.x)>.5&&(i.x<a.x?(i.x+=1,0===r&&(t[t.length-1].x+=1)):(a.x+=1,r+1===t.length-1&&(t[0].x+=1)),n=!0)}const a=e.mercatorXfromLng(r.center.lng);return n&&a<Math.abs(a-1)&&t.forEach(e=>{e.x-=1}),{polygon:t,unwrapped:n}}(L(t,r).map(t=>new e.pointGeometry(O(t.x),t.y)),r);return{polygon:i.polygon.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:i.unwrapped}}}function L(t,r){return e.resample(t,e=>{const t=r.pointCoordinate3D(e);e.x=t.x,e.y=t.y},1/256)}function O(e){return e<0?1+e%1:e%1}function B(e){return 100*e|0}function F(t,r,n,i,o){const a=function(n,i){if(n)return o(n);if(i){t.url&&i.tiles&&t.tiles&&delete t.tiles;const n=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(n.vectorLayers=i.vector_layers,n.vectorLayerIds=n.vectorLayers.map(e=>e.id)),n.tiles=r.canonicalizeTileset(n,t.url),o(null,n)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url,null,n,i),e.ResourceType.Source),a):e.exported.frame(()=>a(null,t))}class j{constructor(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<o&&t.y>=i&&t.y<a}}class U{constructor(e,t,r){this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const N={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class V{constructor(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let r=0;r<this.attributes.length;r++){const n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}}setVertexAttribPointers(e,t,r){for(let n=0;n<this.attributes.length;n++){const i=this.attributes[n],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[N[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class G{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class q extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Z extends G{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class $ extends G{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class W extends G{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class X extends G{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class H extends G{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Y extends G{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class K extends G{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class J extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Q extends G{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends G{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class re extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class ne extends G{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class ie extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class oe extends G{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ae extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class se extends G{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends G{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends G{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ue extends G{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class he extends G{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class de extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class pe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class fe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends G{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class _e extends G{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class ye extends G{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ve extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class xe extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class be extends G{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Se{constructor(e,t,r,n){this.context=e,this.width=t,this.height=r;const i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),n&&(this.depthAttachment=new Te(e,i))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Ce{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new q(this),this.clearDepth=new Z(this),this.clearStencil=new $(this),this.colorMask=new W(this),this.depthMask=new X(this),this.stencilMask=new H(this),this.stencilFunc=new Y(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new ue(this),this.viewport=new he(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _e(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new ve(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new U(this,e,t)}createVertexBuffer(e,t,r){return new V(this,e,t,r)}createRenderbuffer(e,t,r){const n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,r){return new Se(this,e,t,r)}clear({color:e,depth:t,stencil:r}){const n=this.gl;let i=0;e&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==r&&(i|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),n.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(r){t(r.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Me extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=F(this._options,this.map._requestManager,null,null,(t,r)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(e.extend(this,r),r.bounds&&(this.tileBounds=new j(r.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(r.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,r){const n=e.exported.devicePixelRatio>=2,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(n,i,o,a)=>(delete t.request,t.aborted?(t.state="unloaded",r(null)):n?(t.state="errored",r(n)):i?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:a}),t.setTexture(i,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void r(null)):r(null)))}static loadTileData(e,t,r){e.setTexture(t,r)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let ke;function Ae(t,r,n,i,o,a,s,l){const c=[t,n,o,r,i,a,1,1,1],u=[s,l,1],h=e.adjoint([],c),[d,p,f]=e.transformMat3(u,u,e.transpose(h,h));return e.multiply$1(c,[d,0,0,0,p,0,0,0,f],c)}class Ie extends e.Evented{constructor(e,t,r,n){super(),this.id=e,this.dispatcher=r,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=t,this._dirty=!1}load(t,r){this._loaded=r||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(r,n)=>{if(this._imageRequest=null,this._loaded=!0,r)this.fire(new e.ErrorEvent(r));else if(n){const{HTMLImageElement:r}=e.window;this.image=n instanceof r?e.exported.getImageData(n):n,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const r=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let r=1/0,n=1/0,i=-1/0,o=-1/0;for(const e of t)r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y);const a=Math.max(i-r,o-n),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((r+i)/2*l),Math.floor((n+o)/2*l))}(r),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const r=e.tileTransform(this.tileID,this.map.transform.projection),[n,i,o,a]=this.coordinates.map(t=>{const n=r.projection.project(t[0],t[1]);return e.getTilePoint(r,n)._round()});this.perspectiveTransform=function(t,r,n,i,o,a,s,l,c,u){const h=Ae(0,0,t,0,0,r,t,r),d=Ae(n,i,o,a,s,l,c,u);return e.multiply$1(d,e.adjoint(h,h),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*r/e.EXTENT]}(this.width,this.height,n.x,n.y,i.x,i.y,a.x,a.y,o.x,o.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(n.x,n.y,0,0),s.emplaceBack(i.x,i.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(o.x,o.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,r=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Pe={vector:class extends e.Evented{constructor(t,r,n,i){if(super(),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,n=this.map._worldview;this._tileJSONRequest=F(this._options,this.map._requestManager,r,n,(i,o)=>{this._tileJSONRequest=null,this._loaded=!0,i?(r&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: "+r),n&&2!==n.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: "+n),this.fire(new e.ErrorEvent(i))):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new j(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(i)})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles()})}setSourceProperty(e){e(),this.reload()}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,r){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,o.bind(this));else if(t.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",i,o.bind(this),void 0,!0);else{const r=e.loadVectorTile.call({deduped:this._deduped},i,(e,r)=>{e||!r?o.call(this,e):(i.data={cacheControl:r.cacheControl,expires:r.expires,rawData:r.rawData.slice(0)},t.actor&&t.actor.send("loadTile",i,o.bind(this),void 0,!0))},!0);t.request={cancel:r}}function o(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Me,"raster-dem":class extends Me{constructor(t,r,n,i){super(t,r,n,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(t,r){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const r=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==ke&&(ke=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),ke),n=1-(o.width-e.prevPowerOfTwo(o.width))/2;n<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=r?o:e.exported.getImageData(o,n),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:n};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,i.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,o=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(i),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*o,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==r.clusterRadius?r.clusterRadius:50)*o,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(r),this._pendingLoad=this.actor.send(this.type+".loadData",t,(t,r)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&r&&r.resourceTiming&&r.resourceTiming[this.id]&&(t.resourceTiming=r.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(t,r){const n=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(n,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(e,i)=>(delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,this.map.painter,"reloadTile"===n),r(null))),void 0,"loadTile"===n)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ie{constructor(e,t,r,n){super(e,t,r,n),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const r of t.urls)this.urls.push(this.map._requestManager.transformRequest(r,e.ResourceType.Source).url);e.getVideo(this.urls,(t,r)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(this.video=r,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,r=t.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ie,canvas:class extends Ie{constructor(t,r,n,i){super(t,r,n,i),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const r=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,r.gl.RGBA,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=n,this._implementation=r,this.setEventedParent(i),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new j(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:r,z:n}=e.canonical;return this._implementation.hasTile({x:t,y:r,z:n})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,r){const{x:n,y:i,z:o}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:n,y:i,z:o},{signal:a.signal})).then(function(n){return delete t.request,t.aborted?(t.state="unloaded",r(null)):void 0===n?(t.state="errored",r(null)):null===n?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",r(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(n)?(this.loadTileData(t,n),t.state="loaded",void r(null)):(t.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(e=>{20!==e.code&&(t.state="errored",r(e))}),t.request.cancel=()=>a.abort()}loadTileData(e,t){Me.loadTileData(e,t,this._map.painter)}unloadTileData(e){Me.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:r,z:n}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:r,z:n})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},ze=function(t,r,n,i){const o=new Pe[r.type](t,r,n,i);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function De(t,r){const n=e.identity([]);return e.scale(n,n,[.5*t.width,.5*-t.height,1]),e.translate(n,n,[1,-1,0]),e.multiply(n,n,t.calculateProjMatrix(r.toUnwrapped())),Float32Array.from(n)}function Re(e,t,r,n,i,o,a,s=!1){const l=e.tilesIn(n,a,s);l.sort(Oe);const c=[];for(const n of l)c.push({wrappedTileID:n.tile.tileID.wrapped().key,queryResults:n.tile.queryRenderedFeatures(t,r,e._state,n,i,o,De(e.transform,n.tile.tileID),s)});const u=function(e){const t={},r={};for(const n of e){const e=n.queryResults,i=n.wrappedTileID,o=r[i]=r[i]||{};for(const r in e){const n=e[r],i=o[r]=o[r]||{},a=t[r]=t[r]||[];for(const e of n)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const t in u)u[t].forEach(t=>{const r=t.feature,n=r.layer;n&&"background"!==n.type&&"sky"!==n.type&&(r.source=n.source,n["source-layer"]&&(r.sourceLayer=n["source-layer"]),r.state=void 0!==r.id?e.getFeatureState(n["source-layer"],r.id):{})});return u}function Le(e,t){const r=e.getRenderableIds().map(t=>e.getTileByID(t)),n=[],i={};for(let e=0;e<r.length;e++){const o=r[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(n,t))}return n}function Oe(e,t){const r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}function Be(){return null!=_o.workerClass?new _o.workerClass:new e.window.Worker(_o.workerUrl)}const Fe="mapboxgl_preloaded_worker_pool";class je{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<je.workerCount;)this.workers.push(new Be);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fe]}numActive(){return Object.keys(this.active).length}}let Ue;function Ne(){return Ue||(Ue=new je),Ue}function Ve(t,r){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return e.refProperties.forEach(e=>{e in r&&(n[e]=r[e])}),n}function Ge(e){e=e.slice();const t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Ve(e[r],t[e[r].ref]));return e}je.workerCount=2;const qe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ze(e,t,r){r.push({command:qe.addSource,args:[e,t[e]]})}function $e(e,t,r){t.push({command:qe.removeSource,args:[e]}),r[e]=!0}function We(e,t,r,n){$e(e,r,n),Ze(e,t,r)}function Xe(e,r,n){let i;for(i in e[n])if(e[n].hasOwnProperty(i)&&"data"!==i&&!t(e[n][i],r[n][i]))return!1;for(i in r[n])if(r[n].hasOwnProperty(i)&&"data"!==i&&!t(e[n][i],r[n][i]))return!1;return!0}function He(e,r,n,i,o,a){let s;for(s in r=r||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}));for(s in r)r.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}))}function Ye(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Je{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let r=1,n=this._distances[r];const i=t*this.paddedLength+this.padding;for(;n<i&&r<this._distances.length;)n=this._distances[++r];const o=r-1,a=this._distances[o],s=n-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[r].mult(l))}}class Qe{constructor(e,t,r){const n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(let e=0;e<this.xCellCount*this.yCellCount;e++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}insertCircle(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)}_insertBoxCell(e,t,r,n,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,r,n,i,o){this.circleCells[i].push(o)}_query(e,t,r,n,i,o){if(r<0||e>this.width||n<0||t>this.height)return!i&&[];const a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],r=this.circles[3*e+1],n=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-n,y1:r-n,x2:t+n,y2:r+n})}return o?a.filter(o):a}return this._forEachCell(e,t,r,n,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a}_queryCircle(e,t,r,n,i){const o=e-r,a=e+r,s=t-r,l=t+r;if(a<0||o>this.width||l<0||s>this.height)return!n&&[];const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),n?c.length>0:c}query(e,t,r,n,i){return this._query(e,t,r,n,!1,i)}hitTest(e,t,r,n,i){return this._query(e,t,r,n,!0,i)}hitTestCircle(e,t,r,n){return this._queryCircle(e,t,r,!0,n)}_queryCell(e,t,r,n,i,o,a,s){const l=a.seenUids,c=this.boxCells[i];if(null!==c){const i=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=i[c+2]&&t<=i[c+3]&&r>=i[c+0]&&n>=i[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:i[c],y1:i[c+1],x2:i[c+2],y2:i[c+3]})}}}const u=this.circleCells[i];if(null!==u){const i=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(i[u],i[u+1],i[u+2],e,t,r,n)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return o.push(!0),!0;{const e=i[u],t=i[u+1],r=i[u+2];o.push({key:this.circleKeys[c],x1:e-r,y1:t-r,x2:e+r,y2:t+r})}}}}}_queryCellCircle(e,t,r,n,i,o,a,s){const l=a.circle,c=a.seenUids,u=this.boxCells[i];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const r=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[r+0],e[r+1],e[r+2],e[r+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const h=this.circleCells[i];if(null!==h){const e=this.circles;for(const t of h)if(!c.circle[t]){c.circle[t]=!0;const r=3*t;if(this._circlesCollide(e[r],e[r+1],e[r+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,r,n,i,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(r),h=this._convertToYCellCoord(n);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(i.call(this,e,t,r,n,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,r,n,i,o){const a=n-e,s=i-t,l=r+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,r,n,i,o,a){const s=(o-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;const c=(a-i)/2,u=Math.abs(t-(i+c));if(u>c+r)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=r*r}}const et=Math.tan(85*Math.PI/180);function tt(t,r,n,i,o,a,s){const l=e.create();if(n)if("globe"===a.name){const t=e.calculateGlobeLabelMatrix(o,r);e.multiply(l,l,t)}else{const t=y([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],i||e.rotateZ(l,l,o.angle)}else e.multiply(l,o.labelPlaneMatrix,t);return l}function rt(e,t,r,n,i,o,a){const s=tt(e,t,r,n,i,o,a);return"globe"===o.name&&r||(s[2]=s[6]=s[10]=s[14]=0),s}function nt(t,r,n,i,o,a,s){if(n){if("globe"===a.name){const l=tt(t,r,n,i,o,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const r=e.clone(t),n=e.identity([]);return n[0]=s[0],n[1]=s[1],n[4]=s[2],n[5]=s[3],e.multiply(r,r,n),i||e.rotateZ(r,r,-o.angle),r}}return o.glCoordMatrix}function it(t,r,n=0){const i=[t.x,t.y,n,1];n?e.transformMat4$1(i,i,r):_t(i,i,r);const o=i[3];return{point:[i[0]/o,i[1]/o,i[2]/o],signedDistanceFromCamera:o}}function ot(t,r){const n=[t[0],t[1],t[2],1];e.transformMat4$1(n,n,r);const i=n[3];return{point:[n[0]/i,n[1]/i,n[2]/i],signedDistanceFromCamera:i}}function at(e,t){return Math.min(.5+e/t*.5,1.5)}function st(e,t){const r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function lt(t,r,n,i,o,a,s,l,c,u){const h=n.transform,d=i?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(d,n.transform.zoom),f="globe"===h.projection.name,m=[256/n.width*2+1,256/n.height*2+1],g=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();let _=null;f&&(_=i?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const y=t.lineVertexArray,v=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=n.transform.width/n.transform.height;let b=!1;for(let i=0;i<v.length;i++){const f=v.get(i);if(f.writingMode!==e.WritingMode.vertical||b||0!==i&&v.get(i-1).writingMode===e.WritingMode.horizontal||(b=!0),(f.hidden||f.writingMode===e.WritingMode.vertical)&&!b){gt(f.numGlyphs,g);continue}b=!1;const w=new e.pointGeometry(f.tileAnchorX,f.tileAnchorY),T=c?c(w):[0,0,0],E=h.projection.projectTilePoint(w.x,w.y,u.canonical),S=[E.x+T[0],E.y+T[1],E.z+T[2]],C=[...S,1];if(e.transformMat4$1(C,C,r),!st(C,m)){gt(f.numGlyphs,g);continue}const M=at(n.transform.cameraToCenterDistance,C[3]),k=e.evaluateSizeForFeature(d,p,f),A=s?k/M:k*M,I=it(new e.pointGeometry(S[0],S[1]),o,S[2]);if(I.signedDistanceFromCamera<=0){gt(f.numGlyphs,g);continue}let P={};const z=s?null:c,D=ht(f,A,!1,l,r,o,a,t.glyphOffsetArray,y,g,_,I.point,w,P,x,z,h.projection,u,s);b=D.useVertical,z&&D.needsFlipping&&(P={}),(D.notEnoughRoom||b||D.needsFlipping&&ht(f,A,!0,l,r,o,a,t.glyphOffsetArray,y,g,_,I.point,w,P,x,z,h.projection,u,s).notEnoughRoom)&&gt(f.numGlyphs,g)}i?(t.text.dynamicLayoutVertexBuffer.updateData(g),_&&t.text.globeExtVertexBuffer.updateData(_)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),_&&t.icon.globeExtVertexBuffer.updateData(_))}function ct(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m){const g=s.glyphStartIndex+s.numGlyphs,_=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,v=t.getoffsetX(s.glyphStartIndex),x=t.getoffsetX(g-1),b=ft(e*v,r,n,i,o,a,s.segment,_,y,l,c,u,h,d,!0,p,f,m);if(!b)return null;const w=ft(e*x,r,n,i,o,a,s.segment,_,y,l,c,u,h,d,!0,p,f,m);return w?{first:b,last:w}:null}function ut(t,r,n,i){return t.writingMode===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?r.y<n.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,r){const n=(t.x-e.x)*r;return 0===n||Math.abs((t.y-e.y)/n)>et}(r,n,i)?1===t.flipState?{needsFlipping:!0}:null:r.x>n.x?{needsFlipping:!0}:null}function ht(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v){const x=r/24,b=t.lineOffsetX*x,w=t.lineOffsetY*x;let T=[];if(t.numGlyphs>1){const r=t.glyphStartIndex+t.numGlyphs,o=t.lineStartIndex,u=t.lineStartIndex+t.lineLength,h=ct(x,l,b,w,n,d,p,t,c,a,f,g,!1,_,y,v);if(!h)return{notEnoughRoom:!0};const E=ot(h.first.point,s).point,S=ot(h.last.point,s).point,C=new e.pointGeometry(E[0],E[1]),M=new e.pointGeometry(S[0],S[1]);if(i&&!n){const e=ut(t,C,M,m);if(t.flipState=e&&e.needsFlipping?1:2,e)return e}T=[h.first];for(let e=t.glyphStartIndex+1;e<r-1;e++){const r=ft(x*l.getoffsetX(e),b,w,n,d,p,t.segment,o,u,c,a,f,g,!1,!1,_,y,v);if(!r)return{notEnoughRoom:!0};T.push(r)}T.push(h.last)}else{if(i&&!n){const r=it(p,o).point,n=t.lineStartIndex+t.segment+1,i=new e.pointGeometry(c.getx(n),c.gety(n)),a=it(i,o),s=a.signedDistanceFromCamera>0?a.point:pt(p,i,r,1,o,void 0,_,y.canonical),l=ut(t,new e.pointGeometry(r[0],r[1]),new e.pointGeometry(s[0],s[1]),m);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const r=ft(x*l.getoffsetX(t.glyphStartIndex),b,w,n,d,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,f,g,!1,!1,_,y,v);if(!r)return{notEnoughRoom:!0};T=[r]}if(h)for(const t of T)e.updateGlobeVertexNormal(h,u.length+0,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(h,u.length+1,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(h,u.length+2,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(h,u.length+3,t.up[0],t.up[1],t.up[2]),e.addDynamicAttributes(u,t.point[0],t.point[1],t.point[2],t.angle);else for(const t of T)e.addDynamicAttributes(u,t.point[0],t.point[1],t.point[2],t.angle);return{}}function dt(t,r,n,i,o){const a=i.projectTilePoint(t.x,t.y,r);if(!o)return it(a,n,a.z);const s=o(t);return it(new e.pointGeometry(a.x+s[0],a.y+s[1]),n,a.z+s[2])}function pt(t,r,n,i,o,a,s,l){const c=dt(t.add(t.sub(r)._unit()),l,o,s,a).point,u=e.sub([],n,c);return e.scaleAndAdd([],n,u,i/e.length(u))}function ft(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y){const v=i?t-r:t+r;let x=v>0?1:-1,b=0;i&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);let w=x>0?l+s:l+s+1,T=o,E=o,S=0,C=0;const M=Math.abs(v),k=[],A=[];let I=a;const P=()=>{const t=w-x;return 0===S?a:new e.pointGeometry(u.getx(t),u.gety(t))},z=()=>{const e=P();return pt(e,I||e,E,M-S+1,h,p,g,_.canonical)};for(;S+C<=M;){if(w+=x,w<l||w>=c)return null;if(E=T,k.push(T),f&&A.push(I||P()),T=d[w],void 0===T){I=new e.pointGeometry(u.getx(w),u.gety(w));const t=dt(I,_.canonical,h,g,p);T=t.signedDistanceFromCamera>0?d[w]=t.point:z()}else I=null;S+=C,C=e.distance(E,T)}I=I||new e.pointGeometry(u.getx(w),u.gety(w));const D=P();m&&p&&(d[w]=T=void 0===d[w]?T:z(),C=e.distance(E,T));const R=(M-S)/C,L=I.sub(D).mult(R)._add(D),O=e.sub([],T,E),B=e.scaleAndAdd([],E,O,R);let F=[0,0,1],j=O[0],U=O[1];if(y&&(F=g.upVector(_.canonical,L.x,L.y),0!==F[0]||0!==F[1]||1!==F[2])){const t=[1,0,0],r=[0,1,0];t[0]=F[2],t[1]=0,t[2]=-F[0],e.cross(r,F,t),e.normalize(t,t),e.normalize(r,r),j=e.dot(O,t),U=e.dot(O,r)}if(n){const t=e.cross([],F,O);e.normalize(t,t),e.scaleAndAdd(B,B,t,n*x)}const N=b+Math.atan2(U,j);return k.push(B),f&&A.push(L),{point:B,angle:N,path:k,tilePath:A,up:F}}const mt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function gt(e,t){for(let r=0;r<e;r++){const e=t.length;t.resize(e+4),t.float32.set(mt,4*e)}}function _t(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}const yt=100;class vt{constructor(e,t,r=new Qe(e.width+200,e.height+200,25),n=new Qe(e.width+200,e.height+200,25)){this.transform=e,this.grid=r,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+yt,this.screenBottomBoundary=e.height+yt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,r,n,i,o,a,s){let l=r.projectedAnchorX,c=r.projectedAnchorY,u=r.projectedAnchorZ;const h=r.elevation,d=r.tileID;if(h&&d){const t=e.getProjection().upVector(d.canonical,r.tileAnchorX,r.tileAnchorY),n=e.getProjection().upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=t[0]*h*n,c+=t[1]*h*n,u+=t[2]*h*n}const p=this.projectAndGetPerspectiveRatio(a,[l,c,u],r.tileID,"globe"===e.projection.name||!!h||this.transform.pitch>0,e.getProjection()),f=o*p.perspectiveRatio,m=(r.x1*t+n.x-r.padding)*f+p.point.x,g=(r.y1*t+n.y-r.padding)*f+p.point.y,_=(r.x2*t+n.x+r.padding)*f+p.point.x,y=(r.y2*t+n.y+r.padding)*f+p.point.y,v=p.perspectiveRatio<=.55||p.occluded;return!this.isInsideGrid(m,g,_,y)||!i&&this.grid.hitTest(m,g,_,y,s)||v?{box:[],offscreen:!1,occluded:p.occluded}:{box:[m,g,_,y],offscreen:this.isOffscreen(m,g,_,y),occluded:!1}}placeCollisionCircles(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m){const g=[],_=this.transform.elevation,y=_?_.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,t.getProjection()):e=>[0,0,0],v=new e.pointGeometry(n.tileAnchorX,n.tileAnchorY),x=t.getProjection().projectTilePoint(n.tileAnchorX,n.tileAnchorY,m.canonical),b=y(v),w=[x.x+b[0],x.y+b[1],x.z+b[2]],T="globe"===t.projection.name,E=this.projectAndGetPerspectiveRatio(s,[w[0],w[1],w[2]],m,T||!!_||this.transform.pitch>0,t.getProjection()),{perspectiveRatio:S}=E,C=(h?a/S:a*S)/e.ONE_EM,M=it(new e.pointGeometry(w[0],w[1]),l,w[2]).point,k=E.signedDistanceFromCamera>0?ct(C,o,n.lineOffsetX*C,n.lineOffsetY*C,!1,M,v,n,i,l,{},_&&!h?y:null,h&&!!_,t.getProjection(),m,h):null;let A=!1,I=!1,P=!0;if(k&&!E.occluded){const t=.5*p*S+f,n=new e.pointGeometry(-100,-100),i=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Je,a=k.first,s=k.last;let l=[];for(let e=a.path.length-1;e>=1;e--)l.push(a.path[e]);for(let e=1;e<s.path.length;e++)l.push(s.path[e]);const h=2.5*t;if(c){const e=l.map(_&&!T?(e,t)=>{const r=y(t<a.path.length-1?a.tilePath[a.path.length-1-t]:s.tilePath[t-a.path.length+2]);return e[2]=r[2],ot(e,c)}:e=>ot(e,c));l=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let m=[];if(l.length>0){const t=l.map(t=>new e.pointGeometry(t[0],t[1]));let r=1/0,o=-1/0,a=1/0,s=-1/0;for(let e=0;e<t.length;e++)r=Math.min(r,t[e].x),a=Math.min(a,t[e].y),o=Math.max(o,t[e].x),s=Math.max(s,t[e].y);m=r>=n.x&&o<=i.x&&a>=n.y&&s<=i.y?[t]:o<n.x||r>i.x||s<n.y||a>i.y?[]:e.clipLine([t],n.x,n.y,i.x,i.y)}for(const e of m){o.reset(e,.25*t);let n=0;n=o.length<=.5*t?1:Math.ceil(o.paddedLength/h)+1;for(let e=0;e<n;e++){const i=e/Math.max(n-1,1),a=o.lerp(i),s=a.x+yt,l=a.y+yt;g.push(s,l,t,0);const c=s-t,h=l-t,p=s+t,f=l+t;if(P=P&&this.isOffscreen(c,h,p,f),I=I||this.isInsideGrid(c,h,p,f),!r&&this.grid.hitTestCircle(s,l,t,d)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return{circles:!u&&A||!I?[]:g,offscreen:P,collisionDetected:A,occluded:E.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const r=[];let n=1/0,i=1/0,o=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+yt,s.y+yt);n=Math.min(n,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),r.push(t)}const s=this.grid.query(n,i,o,a).concat(this.ignoredGrid.query(n,i,o,a)),l={},c={};for(const t of s){const n=t.key;if(void 0===l[n.bucketInstanceId]&&(l[n.bucketInstanceId]={}),l[n.bucketInstanceId][n.featureIndex])continue;const i=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(r,i)&&(l[n.bucketInstanceId][n.featureIndex]=!0,void 0===c[n.bucketInstanceId]&&(c[n.bucketInstanceId]=[]),c[n.bucketInstanceId].push(n.featureIndex))}return c}insertCollisionBox(e,t,r,n,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:n,collisionGroupID:i},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,r,n,i){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:i};for(let t=0;t<e.length;t+=4)o.insertCircle(a,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,r,n,i,o){const a=[r[0],r[1],r[2],1];let s=!1;if(r[2]||this.transform.pitch>0){e.transformMat4$1(a,a,t);const i="globe"===o.name;this.fogState&&n&&!i&&(s=function(t,r,n,i,o,a){const s=a.calculateFogTileMatrix(o),l=[r,n,i];return e.transformMat4(l,l,s),M(t,l,a.pitch,a._fov)}(this.fogState,r[0],r[1],r[2],n.toUnwrapped(),this.transform)>.9)}else _t(a,a,t);return{point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+yt,(-a[1]/a[3]+1)/2*this.transform.height+yt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(o)/a[3]*.5,1.5),signedDistanceFromCamera:a[3],occluded:i&&a[2]>a[3]||s}}isOffscreen(e,t,r,n){return r<yt||e>=this.screenRightBoundary||n<yt||t>this.screenBottomBoundary}isInsideGrid(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function xt(t,r,n){const i=r.createTileMatrix(t,t.worldSize,n.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,i)}function bt(e,t,r){if(t.projection.name===r.projection.name)return e.projMatrix;const n=r.clone();return n.setProjection(t.projection),xt(n,t.getProjection(),e)}function wt(e,t,r){return t.name===r.projection.name?e.projMatrix:xt(r,t,e)}class Tt{constructor(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r}isHidden(){return 0===this.opacity&&!this.placed}}class Et{constructor(e,t,r,n,i,o=!1){this.text=new Tt(e?e.text:null,t,r,i),this.icon=new Tt(e?e.icon:null,t,n,i),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class St{constructor(e,t,r,n=!1){this.text=e,this.icon=t,this.skipFade=r,this.clipped=n}}class Ct{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Mt{constructor(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i}}class kt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function At(t,r,n,i,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*r,c=-(s-.5)*n,u=e.evaluateVariableOffset(t,i);return new e.pointGeometry(l+u[0]*o,c+u[1]*o)}function It(t,r,n,i,o){const a=new e.pointGeometry(t,r);return n&&a._rotate(i?o:-o),a}class Pt{constructor(e,t,r,n,i){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new vt(this.transform,i),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new kt(r),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,r,n,i){const o=n.getBucket(r),a=n.latestFeatureIndex;if(!o||!a||r.id!==o.layerIds[0])return;const s=o.layers[0].layout,l=n.collisionBoxArray,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/e.EXTENT,h=n.tileID.toUnwrapped();this.transform.setProjection(o.projection);const d=(p=n.tileID,f=o.getProjection(),m=this.transform,f.name===this.projection?m.calculateProjMatrix(p.toUnwrapped()):xt(m,f,p));var p,f,m;const g="map"===s.get("text-pitch-alignment"),_="map"===s.get("text-rotation-alignment");r.compileFilter();const y=r.dynamicFilter(),v=r.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(n),b=rt(d,n.tileID.canonical,g,_,this.transform,o.getProjection(),x);let w=null;if(g){const t=nt(d,n.tileID.canonical,g,_,this.transform,o.getProjection(),x);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let T=null;y&&n.latestFeatureIndex&&(T={unwrappedTileID:h,dynamicFilter:y,dynamicFilterNeedsFeature:v,featureIndex:n.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new Mt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);const E={bucket:o,layout:s,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const e of o.sortKeyRanges){const{sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i}=e;t.push({sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i,parameters:E})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:E})}attemptAnchorPlacement(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_){const y=[h.textOffset0,h.textOffset1],v=At(e,r,n,y,i),x=this.collisionIndex.placeCollisionBox(p,i,t,It(v.x,v.y,o,a,this.transform.angle),u,s,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(_,this.transform.zoom,h.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,It(v.x,v.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)return}if(x.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(t=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:y,width:r,height:n,anchor:e,textScale:i,prevAnchor:t},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:v,placedGlyphBoxes:x}}}placeLayerBucketPart(t,r,n,i){const{bucket:o,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:u,textPixelRatio:h,holdingForFade:d,collisionBoxArray:p,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:m,collisionGroup:g}=t.parameters,_=a.get("text-optional"),y=a.get("icon-optional"),v=a.get("text-allow-overlap"),x=a.get("icon-allow-overlap"),b="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),T="none"!==a.get("icon-text-fit"),E="viewport-y"===a.get("symbol-z-order");this.transform.setProjection(o.projection);let S=v&&(x||!o.hasIconData()||y),C=x&&(v||!o.hasTextData()||_);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p),n&&i&&o.updateCollisionDebugBuffers(this.transform.zoom,p);const M=(t,i,p)=>{if(u){const n={zoom:this.transform.zoom,pitch:this.transform.pitch};let i=null;if(u.dynamicFilterNeedsFeature){const e=this.retainedQueryData[o.bucketInstanceId];i=u.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,u.dynamicFilter)(n,i,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(u.unwrappedTileID)))return this.placements[t.crossTileID]=new St(!1,!1,!1,!0),void(r[t.crossTileID]=!0)}if(r[t.crossTileID])return;if(d)return void(this.placements[t.crossTileID]=new St(!1,!1,!1));let E=!1,M=!1,k=!0,A=!1,I=!1,P=null,z={box:null,offscreen:null,occluded:null},D={box:null,offscreen:null,occluded:null},R=null,L=null,O=null,B=0,F=0,j=0;p.textFeatureIndex?B=p.textFeatureIndex:t.useRuntimeCollisionCircles&&(B=t.featureIndex),p.verticalTextFeatureIndex&&(F=p.verticalTextFeatureIndex);const U=e=>{e.tileID=this.retainedQueryData[o.bucketInstanceId].tileID,(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[o.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},N=p.textBox;if(N){U(N);const r=r=>{let n=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!r&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,n=e,this.markUsedOrientation(o,n,t))}return n},n=(r,n)=>{if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&p.verticalTextBox){for(const t of o.writingModes)if(t===e.WritingMode.vertical?(z=n(),D=z):z=r(),z&&z.box&&z.box.length)break}else z=r()};if(a.get("text-variable-anchor")){let l=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];l.indexOf(e.anchor)>0&&(l=l.filter(t=>t!==e.anchor),l.unshift(e.anchor))}const c=(e,r,n)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,i),c=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,d=T&&!x?r:null;d&&U(d);let p={box:[],offscreen:!1,occluded:!1};const _=v?2*l.length:l.length;for(let r=0;r<_;++r){const _=this.attemptAnchorPlacement(l[r%l.length],e,c,u,a,b,w,h,s,g,r>=l.length,t,i,o,n,d,f,m);if(_&&(p=_.placedGlyphBoxes,p&&p.box&&p.box.length)){E=!0,P=_.shift;break}}return p};n(()=>c(N,p.iconBox,e.WritingMode.horizontal),()=>{const r=p.verticalTextBox;return r&&U(r),o.allowVerticalPlacement&&!(z&&z.box&&z.box.length)&&t.numVerticalGlyphVertices>0&&r?c(r,p.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),z&&(E=z.box,k=z.offscreen,A=z.occluded);const u=r(z&&z.box);if(!E&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const a=(r,n)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,i),l=this.collisionIndex.placeCollisionBox(o,a,r,new e.pointGeometry(0,0),v,h,s,g.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(o,n,t),this.placedOrientations[t.crossTileID]=n),l};n(()=>a(N,e.WritingMode.horizontal),()=>{const r=p.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?(U(r),a(r,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),r(z&&z.box&&z.box.length)}}if(R=z,E=R&&R.box&&R.box.length>0,k=R&&R.offscreen,A=R&&R.occluded,t.useRuntimeCollisionCircles){const r=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),i=e.evaluateSizeForFeature(o.textSizeData,f,r),u=a.get("text-padding");L=this.collisionIndex.placeCollisionCircles(o,v,r,o.lineVertexArray,o.glyphOffsetArray,i,s,l,c,n,w,g.predicate,t.collisionCircleDiameter*i/e.ONE_EM,u,this.retainedQueryData[o.bucketInstanceId].tileID),E=v||L.circles.length>0&&!L.collisionDetected,k=k&&L.offscreen,A=L.occluded}if(p.iconFeatureIndex&&(j=p.iconFeatureIndex),p.iconBox){const r=r=>{U(r);const n=T&&P?It(P.x,P.y,b,w,this.transform.angle):new e.pointGeometry(0,0),i=o.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(o,i,r,n,x,h,s,g.predicate)};D&&D.box&&D.box.length&&p.verticalIconBox?(O=r(p.verticalIconBox),M=O.box.length>0):(O=r(p.iconBox),M=O.box.length>0),k=k&&O.offscreen,I=O.occluded}const V=_||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,G=y||0===t.numIconVertices;if(V||G?G?V||(M=M&&E):E=M&&E:M=E=M&&E,E&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get("text-ignore-placement"),o.bucketInstanceId,D&&D.box&&F?F:B,g.ID),M&&O&&this.collisionIndex.insertCollisionBox(O.box,a.get("icon-ignore-placement"),o.bucketInstanceId,j,g.ID),L&&(E&&this.collisionIndex.insertCollisionCircles(L.circles,a.get("text-ignore-placement"),o.bucketInstanceId,B,g.ID),n)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Ct);for(let e=0;e<L.circles.length;e+=4)t.circles.push(L.circles[e+0]),t.circles.push(L.circles[e+1]),t.circles.push(L.circles[e+2]),t.circles.push(L.collisionDetected?1:0)}const q="globe"!==o.projection.name;S=S&&(q||!A),C=C&&(q||!I),this.placements[t.crossTileID]=new St(E||S,M||C,k||o.justReloaded),r[t.crossTileID]=!0};if(E){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const r=e[t];M(o.symbolInstances.get(r),r,o.collisionArrays[r])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)M(o.symbolInstances.get(e),e,o.collisionArrays[e]);if(n&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,r,n,i){let o;o=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];const a=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=o>=0&&e!==o?0:n.crossTileID)}markUsedOrientation(t,r,n){const i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,o=r===e.WritingMode.vertical?r:0,a=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex].filter(e=>-1!==e);for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=i;-1!==n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=i[e];o?(this.opacities[e]=new Et(o,n,t.text,t.icon,null,t.clipped),r=r||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new Et(null,n,t.text,t.icon,t.skipFade,t.clipped),r=r||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new Et(t,n,!1,!1);i.isHidden()||(this.opacities[e]=i,r=r||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const r={};for(const n of t){const t=n.getBucket(e);t&&n.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,r,n.collisionBoxArray)}}updateBucketOpacities(t,r,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const i=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),a=new Et(null,0,!1,!1,!0),s=i.get("text-allow-overlap"),l=i.get("icon-allow-overlap"),c=i.get("text-variable-anchor"),u="map"===i.get("text-rotation-alignment"),h="map"===i.get("text-pitch-alignment"),d="none"!==i.get("icon-text-fit"),p=new Et(null,0,s&&(l||!t.hasIconData()||i.get("icon-optional")),l&&(s||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);const f=(e,t,r)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)};let m=0;for(let n=0;n<t.symbolInstances.length;n++){const i=t.symbolInstances.get(n),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:l,crossTileID:g}=i;let _=this.opacities[g];r[g]?_=a:_||(_=p,this.opacities[g]=_),r[g]=!0;const y=s>0||l>0,v=i.numIconVertices>0,x=this.placedOrientations[i.crossTileID],b=x===e.WritingMode.vertical,w=x===e.WritingMode.horizontal||x===e.WritingMode.horizontalOnly;if(!y&&!v||_.isHidden()||m++,y){const e=Ut(_.text);f(t.text,s,b?Nt:e),f(t.text,l,w?Nt:e);const r=_.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach(e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=r||b?1:0)}),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=r||w?1:0);const n=this.variableOffsets[i.crossTileID];n&&this.markUsedJustification(t,n.anchor,i,x);const o=this.placedOrientations[i.crossTileID];o&&(this.markUsedJustification(t,"left",i,o),this.markUsedOrientation(t,o,i))}if(v){const e=Ut(_.icon);i.placedIconSymbolIndex>=0&&(f(t.icon,i.numIconVertices,b?Nt:e),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=_.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(f(t.icon,i.numVerticalIconVertices,w?Nt:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=_.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const r=t.collisionArrays[n];if(r){let n=new e.pointGeometry(0,0),i=!0;if(r.textBox||r.verticalTextBox){if(c){const e=this.variableOffsets[g];e?(n=At(e.anchor,e.width,e.height,e.textOffset,e.textScale),u&&n._rotate(h?this.transform.angle:-this.transform.angle)):i=!1}o&&(i=!_.clipped),r.textBox&&zt(t.textCollisionBox.collisionVertexArray,_.text.placed,!i||b,n.x,n.y),r.verticalTextBox&&zt(t.textCollisionBox.collisionVertexArray,_.text.placed,!i||w,n.x,n.y)}const a=i&&Boolean(!w&&r.verticalIconBox);r.iconBox&&zt(t.iconCollisionBox.collisionVertexArray,_.icon.placed,a,d?n.x:0,d?n.y:0),r.verticalIconBox&&zt(t.iconCollisionBox.collisionVertexArray,_.icon.placed,!a,d?n.x:0,d?n.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e}setStale(){this.stale=!0}}function zt(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}const Dt=Math.pow(2,25),Rt=Math.pow(2,24),Lt=Math.pow(2,17),Ot=Math.pow(2,16),Bt=Math.pow(2,9),Ft=Math.pow(2,8),jt=Math.pow(2,1);function Ut(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Dt+t*Rt+r*Lt+t*Ot+r*Bt+t*Ft+r*jt+t}const Nt=0;class Vt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,r,n,i){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,r,0===e.symbolInstanceStart),this._currentPartIndex++,i())return!0}return!1}}class Gt{constructor(e,t,r,n,i,o,a,s){this.placement=new Pt(e,i,o,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1}isDone(){return this._done}continuePlacement(t,r,n){const i=e.exported.now(),o=()=>{const t=e.exported.now()-i;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=r[t[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=i)&&(!e.maxzoom||e.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new Vt(e)),this._inProgressLayer.continuePlacement(n[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const qt=512/e.EXTENT/2;class Zt{constructor(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(let r=0;r<t.length;r++){const n=t.get(r),i=n.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,e)})}}getScaledCoordinates(t,r){const n=qt/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.tileAnchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.tileAnchorY)*n)}}findMatches(e,t,r){const n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const o=e.get(i);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=n&&Math.abs(e.coord.y-s.y)<=n&&!r[e.crossTileID]){r[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class $t{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Wt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const r=this.indexes[e],n={};for(const e in r){const i=r[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}this.indexes[e]=n}this.lng=e}addBucket(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const n=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const i=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in i){const o=i[r];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,n)}else{const o=i[e.scaledTo(Number(r)).key];o&&o.findMatches(t.symbolInstances,e,n)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=r.generate(),n[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Zt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const r in t.indexedSymbolInstances)for(const n of t.indexedSymbolInstances[r])delete this.usedCrossTileIDs[e][n.crossTileID]}removeStaleBuckets(e){let t=!1;for(const r in this.indexes){const n=this.indexes[r];for(const i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t}}class Xt{constructor(){this.layerIndexes={},this.crossTileIDs=new $t,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,r,n){let i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new Wt);let o=!1;const a={};"globe"!==n.name&&i.handleWrapJump(r);for(const r of t){const t=r.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(r.tileID,t,this.crossTileIDs)&&(o=!0),a[t.bucketInstanceId]=!0)}return i.removeStaleBuckets(a)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Ht=(t,r)=>e.emitValidationErrors(t,r&&r.filter(e=>"source.canvas"!==e.identifier)),Yt=e.pick(qe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Kt=e.pick(qe,["setCenter","setZoom","setBearing","setPitch"]),Jt={version:8,layers:[],sources:{}},Qt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class er extends e.Evented{constructor(t,r={}){super(),this.map=t,this.dispatcher=new z(Ne(),this),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,r.localFontFamily?e.LocalGlyphMode.all:r.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,r.localFontFamily||r.localIdeographFontFamily),this.crossTileSymbolIndex=new Xt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const n=this;this._rtlTextPluginCallback=er.registerForPluginStateChange(t=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(t,r)=>{if(e.triggerPluginCompletionEvent(t),r&&r.every(e=>e))for(const e in n._sourceCaches){const t=n._sourceCaches[e],r=t.getSource().type;"vector"!==r&&"geojson"!==r||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const r=this._layers[e];r.source===t.id&&this._validateLayer(r)}})}loadURL(t,r={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const n="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);const i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,(t,r)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):r&&this._load(r,n)})}loadJSON(t,r={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame(()=>{this._request=null,this._load(t,!1!==r.validate)})}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Jt,!1)}_updateLayerCount(e,t){const r=t?1:-1;e.is3D()&&(this._num3DLayers+=r),"circle"===e.type&&(this._numCircleLayers+=r),"symbol"===e.type&&(this._numSymbolLayers+=r)}_load(t,r){if(r&&Ht(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const n=Ge(this.stylesheet.layers);this._order=n.map(e=>e.id),this._layers={},this._serializedLayers={};for(let t of n)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,r,n){let i,o,a;const s=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(e,t)=>{l=null,a||(a=e,i=t,u())}),c=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(e,t)=>{c=null,a||(a=e,o=t,u())});function u(){if(a)n(a);else if(i&&o){const t=e.exported.getImageData(o),r={};for(const n in i){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=i[n],f=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:o,height:a}),r[n]={data:f,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p}}n(null,r)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(t,r)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(r)for(const e in r)this.imageManager.addImage(e,r[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))})}_validateLayer(t){const r=this.getSource(t.source);if(!r)return;const n=t.sourceLayer;n&&("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${r.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const r of e){const e=this._layers[r];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&Qt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const r=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(e.length||r.length)&&this._updateWorkerLayers(e,r);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const n={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];n[e]=t.used,t.used=!1}for(const e of this._order){const r=this._layers[e];if(r.recalculate(t,this._availableImages),!r.isHidden(t.zoom)){const e=this._getLayerSourceCache(r);e&&(e.used=!0)}const n=this.map.painter;if(n){const e=r.getProgramIds();if(!e)continue;const i=r.getProgramConfiguration(t.zoom);for(const t of e)n.useProgram(t,i)}}for(const t in n){const r=this._sourceCaches[t];n[t]!==r.used&&r.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:r.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),r&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(r){if(this._checkLoaded(),Ht(this,e.validateStyle(r)))return!1;(r=e.clone$1(r)).layers=Ge(r.layers);const n=function(e,r){if(!e)return[{command:qe.setStyle,args:[r]}];let n=[];try{if(!t(e.version,r.version))return[{command:qe.setStyle,args:[r]}];t(e.center,r.center)||n.push({command:qe.setCenter,args:[r.center]}),t(e.zoom,r.zoom)||n.push({command:qe.setZoom,args:[r.zoom]}),t(e.bearing,r.bearing)||n.push({command:qe.setBearing,args:[r.bearing]}),t(e.pitch,r.pitch)||n.push({command:qe.setPitch,args:[r.pitch]}),t(e.sprite,r.sprite)||n.push({command:qe.setSprite,args:[r.sprite]}),t(e.glyphs,r.glyphs)||n.push({command:qe.setGlyphs,args:[r.glyphs]}),t(e.transition,r.transition)||n.push({command:qe.setTransition,args:[r.transition]}),t(e.light,r.light)||n.push({command:qe.setLight,args:[r.light]}),t(e.fog,r.fog)||n.push({command:qe.setFog,args:[r.fog]}),t(e.projection,r.projection)||n.push({command:qe.setProjection,args:[r.projection]});const i={},o=[];!function(e,r,n,i){let o;for(o in r=r||{},e=e||{})e.hasOwnProperty(o)&&(r.hasOwnProperty(o)||$e(o,n,i));for(o in r)r.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t(e[o],r[o])||("geojson"===e[o].type&&"geojson"===r[o].type&&Xe(e,r,o)?n.push({command:qe.setGeoJSONSourceData,args:[o,r[o].data]}):We(o,r,n,i)):Ze(o,r,n))}(e.sources,r.sources,o,i);const a=[];e.layers&&e.layers.forEach(e=>{e.source&&i[e.source]?n.push({command:qe.removeLayer,args:[e.id]}):a.push(e)});let s=e.terrain;s&&i[s.source]&&(n.push({command:qe.setTerrain,args:[void 0]}),s=void 0),n=n.concat(o),t(s,r.terrain)||n.push({command:qe.setTerrain,args:[r.terrain]}),function(e,r,n){r=r||[];const i=(e=e||[]).map(Ye),o=r.map(Ye),a=e.reduce(Ke,{}),s=r.reduce(Ke,{}),l=i.slice(),c=Object.create(null);let u,h,d,p,f,m,g;for(u=0,h=0;u<i.length;u++)d=i[u],s.hasOwnProperty(d)?h++:(n.push({command:qe.removeLayer,args:[d]}),l.splice(l.indexOf(d,h),1));for(u=0,h=0;u<o.length;u++)d=o[o.length-1-u],l[l.length-1-u]!==d&&(a.hasOwnProperty(d)?(n.push({command:qe.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-h),1)):h++,m=l[l.length-u],n.push({command:qe.addLayer,args:[s[d],m]}),l.splice(l.length-u,0,d),c[d]=!0);for(u=0;u<o.length;u++)if(d=o[u],p=a[d],f=s[d],!c[d]&&!t(p,f))if(t(p.source,f.source)&&t(p["source-layer"],f["source-layer"])&&t(p.type,f.type)){for(g in He(p.layout,f.layout,n,d,null,qe.setLayoutProperty),He(p.paint,f.paint,n,d,null,qe.setPaintProperty),t(p.filter,f.filter)||n.push({command:qe.setFilter,args:[d,f.filter]}),t(p.minzoom,f.minzoom)&&t(p.maxzoom,f.maxzoom)||n.push({command:qe.setLayerZoomRange,args:[d,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?He(p[g],f[g],n,d,g.slice(6),qe.setPaintProperty):t(p[g],f[g])||n.push({command:qe.setLayerProperty,args:[d,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?He(p[g],f[g],n,d,g.slice(6),qe.setPaintProperty):t(p[g],f[g])||n.push({command:qe.setLayerProperty,args:[d,g,f[g]]}))}else n.push({command:qe.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],n.push({command:qe.addLayer,args:[f,m]})}(a,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:qe.setStyle,args:[r]}]}return n}(this.serialize(),r).filter(e=>!(e.command in Kt));if(0===n.length)return!1;const i=n.filter(e=>!(e.command in Yt));if(i.length>0)throw new Error(`Unimplemented: ${i.map(e=>e.command).join(", ")}.`);return n.forEach(e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=r,this._updateMapProjection(),!0}addImage(t,r){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,r),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,r,n={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!r.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(r).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateSource,"sources."+t,r,null,n))return;this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);const i=ze(t,r,this.dispatcher,this);i.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:i.serialize(),sourceId:t}));const o=r=>{const n=(r?"symbol:":"other:")+t,o=this._sourceCaches[n]=new e.SourceCache(n,i,r);(r?this._symbolSourceCaches:this._otherSourceCaches)[t]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==r.type&&"geojson"!==r.type||o(!0),i.onAdd&&i.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const r=this.getSource(t);if(!r)throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(t);for(const t of n)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],r.setEventedParent(null),r.onRemove&&r.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const r=this._getSourceCache(t);r&&e.push(r.getSource())}return e}addLayer(t,r,n={}){this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" already exists on this map`)));let o;if("custom"===t.type){if(Ht(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateLayer,"layers."+i,t,{arrayIndex:-1},n))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" does not exist on this map.`)));this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o;const s=this._getLayerSourceCache(o);if(this._removedLayers[i]&&o.source&&s&&"custom"!==o.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,r){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===r)return;const n=this._order.indexOf(t);this._order.splice(n,1);const i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" does not exist on this map.`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const r=this._layers[t];if(!r)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));r.setEventedParent(null),this._updateLayerCount(r,!1);const n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,r,n){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(r,n,i={}){this._checkLoaded();const o=this.getLayer(r);if(o){if(!t(o.filter,n))return null==n?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,`layers.${o.id}.filter`,n,{layerType:o.type},i)||(o.filter=e.clone$1(n),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const r=this.getLayer(t);return r&&e.clone$1(r.filter)}setLayoutProperty(r,n,i,o={}){this._checkLoaded();const a=this.getLayer(r);a?t(a.getLayoutProperty(n),i)||(a.setLayoutProperty(n,i,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,r){const n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(r,n,i,o={}){this._checkLoaded();const a=this.getLayer(r);a?t(a.getPaintProperty(n),i)||(a.setPaintProperty(n,i,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[r]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const r=this.getLayer(e);return r&&r.getPaintProperty(t)}setFeatureState(t,r){this._checkLoaded();const n=t.source,i=t.sourceLayer,o=this.getSource(n);if(!o)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const a=o.type;if("geojson"===a&&i)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!i)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(n);for(const e of s)e.setFeatureState(i,t.id,r)}removeFeatureState(t,r){this._checkLoaded();const n=t.source,i=this.getSource(n);if(!i)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const o=i.type,a="vector"===o?t.sourceLayer:void 0;if("vector"===o&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(r&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(n);for(const e of s)e.removeFeatureState(a,t.id,r)}getFeatureState(t){this._checkLoaded();const r=t.source,n=t.sourceLayer,i=this.getSource(r);if(i){if("vector"!==i.type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(r)[0].getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const r=this._sourceCaches[e].getSource();t[r.id]||(t[r.id]=r.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,r={},n=[];for(let i=this._order.length-1;i>=0;i--){const o=this._order[i];if(t(o)){r[o]=i;for(const t of e){const e=t[o];if(e)for(const t of e)n.push(t)}}}n.sort((e,t)=>t.intersectionZ-e.intersectionZ);const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(r[t.layer.id]<o)break;i.push(t),n.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(t,r,n){r&&r.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",r.filter,null,r);const i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of r.layers){const r=this._layers[t];if(!r)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[r.source]=!0}}const o=[];r.availableImages=this._availableImages;const a=r&&r.layers?r.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),s=R.createFromScreenPoints(t,n);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;r.layers&&!i[t]||o.push(Re(this._sourceCaches[e],this._layers,this._serializedLayers,s,r,n,a,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(e,t,r,n,i,o,a){const s={},l=o.queryRenderedSymbols(n),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(Oe);for(const r of c){const n=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],i=n[e];i.sort((e,t)=>{const n=r.featureSortOrder;if(n){const r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex});for(const e of i)t.push(e)}}for(const t in s)s[t].forEach(n=>{const i=n.feature,o=r(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o});return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,r){r&&r.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",r.filter,null,r);const n=this._getSourceCaches(t);let i=[];for(const e of n)i=i.concat(Le(e,r));return i}addSourceType(e,t,r){return er.getSourceType(e)?r(new Error(`A source type called "${e}" already exists.`)):(er.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))}getLight(){return this.light.getLight()}setLight(e,r={}){this._checkLoaded();const n=this.light.getLight();let i=!1;for(const r in e)if(!t(e[r],n[r])){i=!0;break}if(!i)return;const o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,r),this.light.updateTransitions(o)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(r,n=1){if(this._checkLoaded(),!r)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===n){if("object"==typeof r.source){const t="terrain-dem-src";this.addSource(t,r.source),r=e.clone$1(r),r=e.extend(r,{source:t})}if(this._validate(e.validateTerrain,"terrain",r))return}if(!this.terrain||this.terrain&&n!==this.terrain.drapeRenderMode)this._createTerrain(r,n);else{const n=this.terrain,i=n.get();for(const t of Object.keys(e.spec.terrain))!r.hasOwnProperty(t)&&e.spec.terrain[t].default&&(r[t]=e.spec.terrain[t].default);for(const e in r)if(!t(r[e],i[e])){n.set(r),this.stylesheet.terrain=r;const e=this._setTransitionParameters({duration:0});n.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new P(e,this.map.transform);this.stylesheet.fog=e;const r=this._setTransitionParameters({duration:0});t.updateTransitions(r)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const e of this.map._markers)e._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const r=this.fog,n=r.get();0===Object.keys(e).length&&r.set(e);for(const i in e)if(!t(e[i],n[i])){r.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});r.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter(e=>this.isLayerDraped(this._layers[e])),t=this._order.filter(e=>!this.isLayerDraped(this._layers[e]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const r=this.terrain=new C(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const n=this._setTransitionParameters({duration:0});r.updateTransitions(n)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,r,n,i,o={}){return(!o||!1!==o.validate)&&Ht(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.spec},i)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,r,n,i,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const r=this._layers[e];if("symbol"!==r.type)continue;if(!l[r.source]){const e=this._getLayerSourceCache(r);if(!e)continue;l[r.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(r,l[r.source],t.center.lng,t.projection);a=a||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Gt(t,this._order,o,r,n,i,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();const n=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};n(this._otherSourceCaches[t.source]),n(this._symbolSourceCaches[t.source])}getGlyphs(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)}getResource(t,r,n){return e.makeRequest(r,n)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const r=this._getSourceCaches(t);return 0===r.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):r.every(e=>e.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}er.getSourceType=function(e){return Pe[e]},er.setSourceType=function(e,t){Pe[e]=t},er.registerForPluginStateChange=e.registerForPluginStateChange;var tr="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",rr="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",nr="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",ir="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",or="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let ar={},sr={};const lr=[];pr(tr,lr),pr(nr,lr),pr(ir,lr),pr(or,lr),ar=fr("",nr),sr=fr(or,ir);const cr=fr("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ur=tr,hr="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var dr={background:fr("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:fr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:fr("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:fr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:fr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:fr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:fr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:fr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:fr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:fr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:fr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:fr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:fr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:fr("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:fr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:fr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:fr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:fr("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nvec4 out_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:fr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:fr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:fr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:fr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:fr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:fr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:fr("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:fr("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",rr),skyboxGradient:fr("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",rr),skyboxCapture:fr("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:fr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:fr("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function pr(e,t){const r=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let e of r)if(e=e.trim(),"#"===e[0]&&e.includes("if")&&!e.includes("endif")){e=e.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const r=e.split(" ");for(const e of r)t.includes(e)||t.push(e)}}function fr(e,t){const r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),i={},o=[...lr];return pr(e,o),pr(t,o),{fragmentSource:e=e.replace(r,(e,t,r,n,o)=>(i[o]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nvarying ${r} ${n} ${o};\n#else\nuniform ${r} ${n} u_${o};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${o}\n    ${r} ${n} ${o} = u_${o};\n#endif\n`)),vertexSource:t=t.replace(r,(e,t,r,n,o)=>{const a="float"===n?"vec2":"vec4",s=o.match(/color/)?"color":a;return i[o]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${r} ${a} a_${o};\nvarying ${r} ${n} ${o};\n#else\nuniform ${r} ${n} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = a_${o};\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${r} ${a} a_${o};\n#else\nuniform ${r} ${n} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${r} ${n} ${o} = a_${o};\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${r} ${n} ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`}),staticAttributes:n,usedDefines:o}}class mr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,r,n,i,o,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==n.length;for(let e=0;!s&&e<n.length;e++)this.boundPaintVertexBuffers[e]!==n[e]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let e=0;!l&&e<a.length;e++)this.boundDynamicVertexBuffers[e]!==a[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||s||l||this.boundIndexBuffer!==i||this.boundVertexOffset!==o)this.freshBind(t,r,n,i,o,a);else{e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();i&&i.dynamicDraw&&i.bind()}}freshBind(e,t,r,n,i,o){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffers=o;else{a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(const t of r)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(const t of o)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i));n&&n.bind(),l.currentNumAttributes=s}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function gr(t,r){const n=Math.pow(2,r.canonical.z),i=r.canonical.y;return[new e.MercatorCoordinate(0,i/n).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/n).toLngLat().lat]}function _r(t,r,n,i,o,a,s){const l=t.context,c=l.gl,u=n.fbo;if(!u)return;t.prepareDrawTile();const h=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const d=((e,t,r,n)=>{const i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color");let s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:n||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:gr(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}})(t,n,i,t.terrain?r.projMatrix:null);t.prepareDrawProgram(l,h,r.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(n);h.draw(l,c.TRIANGLES,o,a,s,e.CullFaceMode.disabled,d,i.id,p,f,m)}function yr(t,r,n){if(!r.needsDEMTextureUpload)return;const i=t.context,o=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(n.stride);const a=n.getPixels();r.demTexture?r.demTexture.update(a,{premultiply:!1}):r.demTexture=new e.Texture(i,a,o.RGBA,{premultiply:!1}),r.needsDEMTextureUpload=!1}function vr(t,r,n,i,o,a){const s=t.context,l=s.gl;if(!r.dem)return;const c=r.dem;if(s.activeTexture.set(l.TEXTURE1),yr(t,r,c),!r.demTexture)return;r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let h=r.fbo;if(!h){const t=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=r.fbo=s.createFramebuffer(u,u,!0),h.colorAttachment.set(t.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:f}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,e.CullFaceMode.disabled,((t,r)=>{const n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.unpackVector}})(r.tileID,c),n.id,d,p,f),r.needsHillshadePrepare=!1}const xr=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),br=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),wr=(e,t,r,n,i,o,a,s,l,c,u,h,d,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(n),u_merc_matrix:r,u_zoom_transition:i,u_merc_center:o,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:h,u_viewport:d,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9)});function Tr(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Er=new class{constructor(){this.operations={}}newMorphing(e,t,r,n,i){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==r.tileID.key&&(t.queued=r)}else this.operations[e]={startTime:n,phase:0,duration:i,from:t,to:r,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const r=this.operations[t];for(r.phase=(e-r.startTime)/r.duration;r.phase>=1||!this._validOp(r);)if(!this._nextOp(r,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Sr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Cr(e,t){const r=1<<e.z;return!t&&(0===e.x||e.x===r-1)||0===e.y||e.y===r-1}const Mr=e=>({u_matrix:e});function kr(t,r,n,i,o){if(o>0){const a=e.exported.now(),s=(a-t.timeAdded)/o,l=r?(a-r.timeAdded)/o:-1,c=n.getSource(),u=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),d=h&&t.refreshedUponExpiration?1:e.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Ar extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},r=new z(Ne(),null),n=ze("mock-dem",t,r,e.style);super("mock-dem",n,!1),n.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class Ir extends e.SourceCache{constructor(e){const t=ze("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new z(Ne(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,r,n){if(t.freezeTileCoverage)return;this.transform=t;const i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((r,n)=>{if(r[n.key]="",!this._tiles[n.key]){const r=new e.Tile(n,this._source.tileSize*n.overscaleFactor(),t.tileZoom);r.state="loaded",this._tiles[n.key]=r}return r},{});for(const e in this._tiles)e in i||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const r=Object.values(t);this.renderCachePool.push(...r),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Pr extends e.OverscaledTileID{constructor(e,t,r){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=r}}class zr extends e.Elevation{constructor(t,r){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,i,o]=function(t){const r=new e.StructArrayLayout4i8,n=new e.StructArrayLayout3ui6,i=131;r.reserve(17161),n.reserve(33800);const o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o;for(let t=-o;t<s;t+=o)for(let n=-o;n<s;n+=o){const i=n<0||n>a||t<0||t>a?24575:0,o=e.clamp(Math.round(n),0,e.EXTENT),s=e.clamp(Math.round(t),0,e.EXTENT);r.emplaceBack(o+i,s,o,s)}const l=(e,t)=>{const r=t*i+e;n.emplaceBack(r+1,r,r+i),n.emplaceBack(r+i,r+i+1,r+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)}),[r,n,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(n,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(i),this.gridSegments=e.SegmentVector.simpleSegment(0,0,n.length,i.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,n.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ir(r.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=r,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Ar(r.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(t,r,n){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const i=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(i.get("source")),this._exaggeration=i.get("exaggeration");const o=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(r,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),r.updateElevation(!n),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(r),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const r=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const i=this.proxyCoords=r.getIds().map(e=>{const t=r.getTileByID(e).tileID;return t.projMatrix=n.calculateProjMatrix(t.toUnwrapped()),t});!function(t,r){const n=r.transform.pointCoordinate(r.transform.getCameraPoint()),i=new e.pointGeometry(n.x,n.y);t.sort((t,r)=>{if(r.overscaledZ-t.overscaledZ)return r.overscaledZ-t.overscaledZ;const n=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.pointGeometry(r.canonical.x+(1<<r.canonical.z)*r.wrap,r.canonical.y),a=i.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(n)-a.distSqr(o)})}(i,this.painter),this._previousZoom=n.zoom;const o=this.proxyToSource||{};this.proxyToSource={},i.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const r=a[e];if(!r.used)continue;if(r!==this.sourceCache&&this.resetTileLookupCache(r.id),this._setupProxiedCoordsForOrtho(r,t[e],o),r.usedForTerrain)continue;const n=t[e];r.getSource().reparseOverscaled&&this._assignTerrainTiles(n)}this.proxiedCoords[r.id]=i.map(e=>new Pr(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(i),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const r=t.tileID.key;r in s||(this._visibleDemTiles.push(t),s[r]=r)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const r in this.terrainTileForTile){const n=this.terrainTileForTile[r],i=n.dem;!i||n.demTexture&&!n.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),yr(this.painter,n,i))}}_prepareDemTileUniforms(e,t,r,n){if(!t||null==t.demTexture)return!1;const i=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-i.z),a=n||"";return r["u_dem_tl"+a]=[i.x*o%1,i.y*o%1],r["u_dem_scale"+a]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,r=t.gl;if(!this._emptyDepthBufferTexture){const n=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,n,r.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,r)=>{if(!r.dem)return t;const n=r.dem.tree.minimums[0];return n>0&&e++,t+n},0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,r=t.gl;t.activeTexture.set(r.TEXTURE2);const n=this._getLoadedAreaMinimum(),i=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(n,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(i,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,i,r.RGBA,{premultiply:!1}),o}setupElevationDraw(t,r,n){const i=this.painter.context,o=i.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(n&&n.morphing&&this._useVertexMorphing){const e=n.morphing.srcDemTile,r=n.morphing.dstDemTile;u=n.morphing.phase,e&&r&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(c=e),this._prepareDemTileUniforms(t,r,a)&&(l=r))}if(c&&l?(i.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),i.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],i.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),i.activeTexture.set(o.TEXTURE3),n&&n.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),n&&n.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}if(n&&n.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),r.setTerrainUniformValues(i,a),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,n&&n.useDenormalizedUpVectorScale);r.setGlobeUniformValues(i,e)}}globeUniformValues(t,r,n){const i=t.projection;return{u_tile_tl_up:i.upVector(r,0,0),u_tile_tr_up:i.upVector(r,e.EXTENT,0),u_tile_br_up:i.upVector(r,e.EXTENT,e.EXTENT),u_tile_bl_up:i.upVector(r,0,e.EXTENT),u_tile_up_scale:n?e.GLOBE_METERS_TO_ECEF:i.upVectorScale(r,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const r=this.painter,n=this.painter.context;0!==t.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,r.width,r.height]),r.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,r,n,i,o){if("globe"===t.transform.projection.name)!function(t,r,n,i,o){const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=t.transform,d=e.globeUseCustomAntiAliasing(t,a,h),p=(e,r)=>{if(c===e)return;const n=[Sr[e],"PROJECTION_GLOBE_VIEW"];d&&n.push("CUSTOM_ANTIALIASING"),r&&n.push(Sr[u]),l=t.useProgram("globeRaster",null,n),c=e},f=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Er.update(o);const g=e.calculateGlobeMercatorMatrix(h),_=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],y=u?[!1,!0]:[!1],v=t.globeSharedBuffers,x=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],b=Float32Array.from(h.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(y.forEach(u=>{c=-1;const d=u?s.LINES:s.TRIANGLES;for(const c of i){const i=n.getTile(c),y=e.StencilMode.disabled,T=r.prevTerrainTileForTile[c.key],E=r.terrainTileForTile[c.key];Tr(T,E)&&Er.newMorphing(c.key,T,E,o,250),a.activeTexture.set(s.TEXTURE0),i.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const S=Er.getMorphValuesForProxy(c.key),C=S?1:0;S&&e.extend$1(w,{morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:e.easeCubicInOut(S.phase)}});const M=e.tileCornersToBounds(c.canonical),k=e.getLatitudinalLod(M.getCenter().lat),A=e.getGridMatrix(c.canonical,M,k,h.worldSize/h._pixelsPerMercatorPixel),I=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),P=wr(h.projMatrix,b,g,I,e.globeToMercatorTransition(h.zoom),_,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x,A);if(p(C,u),r.setupElevationDraw(i,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),v){const[r,n,i]=u?v.getWirefameBuffers(t.context,k):v.getGridBuffers(k);l.draw(a,d,m,y,f,e.CullFaceMode.backCCW,P,"globe_raster",r,n,i)}}}),v){const o=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,o);for(const o of i){const{x:i,y:c,z:u}=o.canonical,d=0===c,p=c===(1<<u)-1,[g,y,b,T]=v.getPoleBuffers(u);if(T&&(d||p)){const c=n.getTile(o);a.activeTexture.set(s.TEXTURE0),c.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let v=e.globePoleMatrixForTile(u,i,h);const E=e.globeNormalizeECEF(e.globeTileBounds(o.canonical)),S=(t,r)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,f,e.CullFaceMode.disabled,wr(h.projMatrix,v,v,E,0,_,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x),"globe_pole_raster",r,b,T);r.setupElevationDraw(c,l,w),t.prepareDrawProgram(a,l,o.toUnwrapped()),d&&S(l,g),p&&(v=e.scale(e.create(),v,[1,-1,1]),S(l,y))}}}}(t,r,n,i,o);else{const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=(e,r)=>{if(c===e)return;const n=[Sr[e]];r&&n.push(Sr[u]),l=t.useProgram("terrainRaster",null,n),c=e},d=t.colorModeForRenderPass(),p=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Er.update(o);const f=t.transform,m=6*Math.pow(1.5,22-f.zoom)*r.exaggeration();(u?[!1,!0]:[!1]).forEach(u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[_,y]=u?r.getWirefameBuffer():[r.gridIndexBuffer,r.gridSegments];for(const c of i){const i=n.getTile(c),v=e.StencilMode.disabled,x=r.prevTerrainTileForTile[c.key],b=r.terrainTileForTile[c.key];Tr(x,b)&&Er.newMorphing(c.key,x,b,o,250),a.activeTexture.set(s.TEXTURE0),i.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=Er.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const S=br(c.projMatrix,Cr(c.canonical,f.renderWorldCopies)?m/10:m);h(T,u),r.setupElevationDraw(i,l,E),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,g,p,v,d,e.CullFaceMode.backCCW,S,"terrain_raster",r.gridBuffer,_,y)}})}}(r,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,r.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const r=this.painter,n=this.painter.context,i=this.proxySourceCache,o=this.proxiedCoords[i.id],a=this._drapedRenderBatches.shift(),s=[],l=r.style.order;let c=0;for(const u of o){const o=i.getTileByID(u.proxyTileKey),h=i.proxyCachedFBO[u.key]?i.proxyCachedFBO[u.key][t]:void 0,d=void 0!==h?i.renderCache[h]:this.pool[c++],p=void 0!==h;if(o.texture=d.tex,p&&!d.dirty){s.push(o.tileID);continue}let f;n.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(n.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=r.style._layers[l[e]];if(t.isHidden(r.transform.zoom))continue;const i=r.style._getLayerSourceCache(t),o=i?this.proxyToSource[u.key][i.id]:[u];if(!o)continue;const a=o;n.viewport.set([0,0,d.fb.width,d.fb.height]),f!==(i?i.id:null)&&(this._setupStencil(d,o,t,i),f=i?i.id:null),r.renderLayer(r,i,t,a)}this.renderedToTile?(d.dirty=!0,s.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,n.bindFramebuffer.set(null),n.viewport.set([0,0,r.width,r.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let r,n=0,i=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++n,++i):o||(o=!0,r=t.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-n/i),firstUndrapedLayer:r}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter(e=>e.dem).forEach(t=>{e=Math.min(e,t.dem.tree.minimums[0])}),0===e?e:(e-30)*this._exaggeration}raycast(e,t,r){if(!this._visibleDemTiles)return null;const n=this._visibleDemTiles.filter(e=>e.dem).map(n=>{const i=n.tileID,o=1<<i.overscaledZ,{x:a,y:s}=i.canonical,l=a/o,c=(a+1)/o,u=s/o,h=(s+1)/o;return{minx:l,miny:u,maxx:c,maxy:h,t:n.dem.tree.raycastRoot(l,u,c,h,e,t,r),tile:n}});n.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const i of n){if(null==i.t)return null;const n=i.tile.dem.tree.raycast(i.minx,i.miny,i.maxx,i.maxy,e,t,r);if(null!=n)return n}return null}_createFBO(){const t=this.painter.context,r=t.gl,n=this.drapeBufferSize;t.activeTexture.set(r.TEXTURE0);const i=new e.Texture(t,{width:n[0],height:n[1],data:null},r.RGBA);i.bind(r.LINEAR,r.CLAMP_TO_EDGE);const o=t.createFramebuffer(n[0],n[1],!1);return o.colorAttachment.set(i.texture),o.depthAttachment=new Ee(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&r.texParameterf(r.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:i,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some(e=>{const t=this._style._layers[e],r=t.isHidden(this.painter.transform.zoom),n=t.getCrossfadeParameters(),i=!!n&&1!==n.t,o=t.hasTransition();return"custom"!==t.type&&!r&&(i||o)})}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Me){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],r=t.isHidden(this.painter.transform.zoom),n=this._style._getLayerSourceCache(t);if("raster"!==t.type||r||!n)continue;const i=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][n.id];if(t)for(const e of t){const t=kr(n.getTile(e),n.findLoadedParent(e,0),n,this.painter.transform,i);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(n.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const r=[];let n,i=0,o=this._style._layers[e[i]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++i<t;)o=this._style._layers[e[i]];for(;i<t;++i){const t=this._style._layers[e[i]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===n&&(n=i):void 0!==n&&(r.push({start:n,end:i-1}),n=void 0))}void 0!==n&&r.push({start:n,end:i-1}),this._drapedRenderBatches=r}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let r=0;r<e.length;++r){const n=Object.values(e[r]);t.renderCachePool.push(...n)}}return}this._clearRasterFadeFromRenderCache();const r=this.proxyCoords,n=this._tilesDirty;for(let i=r.length-1;i>=0;i--){const o=r[i];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const r=e[o.key],i=this.proxyToSource[o.key];let a=0;for(const e in i){const t=i[e],o=r[e];if(!o||o.length!==t.length||t.some((t,r)=>t!==o[r]||n[e]&&n[e].hasOwnProperty(t.key))){a=-1;break}++a}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=a<0||a!==Object.values(r).length}}const i=[...this._drapedRenderBatches];i.sort((e,t)=>t.end-t.start-(e.end-e.start));for(const e of i)for(const n of r){if(t.proxyCachedFBO[n.key])continue;let r=t.renderCachePool.pop();void 0===r&&t.renderCache.length<50&&(r=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==r&&(t.proxyCachedFBO[n.key]={},t.proxyCachedFBO[n.key][e.start]=r,t.renderCache[r].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,r,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const i=this.painter.context,o=i.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(r.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(i.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,r.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,r){const n=this.painter,i=this.painter.context,o=i.gl;n._tileClippingMaskIDs={},i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);const a=n.useProgram("clippingMask");for(const s of t){const t=n._tileClippingMaskIDs[s.key]=--r;a.draw(i,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mr(s.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(t){const r=this.painter.transform;if(t.x<0||t.x>r.width||t.y<0||t.y>r.height)return null;const n=[t.x,t.y,1,1];e.transformMat4$1(n,n,r.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),n[0]/=r.worldSize,n[1]/=r.worldSize;const i=r._camera.position,o=e.mercatorZfromAltitude(1,r.center.lat),a=[i[0],i[1],i[2]/o,0],s=e.subtract([],n.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}drawDepth(){const t=this.painter,r=t.context,n=this.proxySourceCache,i=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===o||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=r.gl,n=r.createFramebuffer(i,o,!0);r.activeTexture.set(t.TEXTURE0);const a=new e.Texture(r,{width:i,height:o,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),n.colorAttachment.set(a.texture);const s=r.createRenderbuffer(r.gl.DEPTH_COMPONENT16,i,o);n.depthAttachment.set(s),this._depthFBO=n,this._depthTexture=a}r.bindFramebuffer.set(this._depthFBO.framebuffer),r.viewport.set([0,0,i,o]),function(t,r,n,i){if("globe"===t.transform.projection.name)return;const o=t.context,a=o.gl;o.clear({depth:1});const s=t.useProgram("terrainDepth"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of i){const i=n.getTile(t),c=br(t.projMatrix,0);r.setupElevationDraw(i,s),s.draw(o,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,"terrain_depth",r.gridBuffer,r.gridIndexBuffer,r.gridNoSkirtSegments)}}(t,this,n,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,r){if(e.getSource()instanceof Ie)return this._setupProxiedCoordsForImageSource(e,t,r);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const n=this.proxiedCoords[e.id]=[],i=this.proxyCoords;for(let t=0;t<i.length;t++){const o=i[t],a=this._findTileCoveringTileID(o,e);if(a){const t=this._createProxiedId(o,a,r[o.key]&&r[o.key][e.id]);n.push(t),this.proxyToSource[o.key][e.id]=[t]}}let o=!1;for(let i=0;i<t.length;i++){const a=e.getTile(t[i]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],i=this._createProxiedId(s.tileID,a,r[s.tileID.key]&&r[s.tileID.key][e.id]);t?t.splice(t.length-1,0,i):this.proxyToSource[s.tileID.key][e.id]=[i],n.push(i),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(t,r,n){if(!t.getSource().loaded())return;const i=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,r)=>{const n=t.wrap+t.canonical.x/(1<<t.canonical.z),i=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=r.wrap+r.canonical.x/(1<<r.canonical.z),s=r.canonical.y/(1<<r.canonical.z);return n+o<a+l.min.x||n>a+l.max.x||i+o<s+l.min.y||i>s+l.max.y};for(let e=0;e<o.length;e++){const a=o[e];for(let e=0;e<r.length;e++){const o=t.getTile(r[e]);if(!o||!o.hasData())continue;if(c(a,o.tileID))continue;const s=this._createProxiedId(a,o,n[a.key]&&n[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],i.push(s)}}}_createProxiedId(t,r,n){let i=this.orthoMatrix;if(n){const e=n.find(e=>e.key===r.tileID.key);if(e)return e}if(r.tileID.key!==t.key){const n=t.canonical.z-r.tileID.canonical.z;let o,a,s;i=e.create();const l=r.tileID.wrap-t.wrap<<t.overscaledZ;n>0?(o=e.EXTENT>>n,a=o*((r.tileID.canonical.x<<n)-t.canonical.x+l),s=o*((r.tileID.canonical.y<<n)-t.canonical.y)):(o=e.EXTENT<<-n,a=e.EXTENT*(r.tileID.canonical.x-(t.canonical.x+l<<-n)),s=e.EXTENT*(r.tileID.canonical.y-(t.canonical.y<<-n))),e.ortho(i,0,o,0,o,0,1),e.translate(i,i,[a,s,0])}return new Pr(r.tileID,t.key,i)}_findTileCoveringTileID(t,r){let n=r.getTile(t);if(n&&n.hasData())return n;const i=this._findCoveringTileCache[r.id],o=i[t.key];if(n=o?r.getTileByID(o):null,n&&n.hasData()||null===o)return n;let a=n?n.tileID:t,s=a.overscaledZ;const l=r.getSource().minzoom,c=[];if(!o){const i=r.getSource().maxzoom;if(t.canonical.z>=i){const n=t.canonical.z-i;r.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,r.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,i,t.canonical.x>>n,t.canonical.y>>n)):0!==n&&(s=i,a=new e.OverscaledTileID(s,t.wrap,i,t.canonical.x>>n,t.canonical.y>>n))}a.key!==t.key&&(c.push(a.key),n=r.getTile(a))}const u=e=>{c.forEach(t=>{i[t]=e}),c.length=0};for(s-=1;s>=l&&(!n||!n.hasData());s--){n&&u(n.tileID.key);const e=a.calculateScaledKey(s);if(n=r.getTileByID(e),n&&n.hasData())break;const t=i[e];if(null===t)break;void 0===t?c.push(e):n=r.getTileByID(t)}return u(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let r=this._tilesDirty[e];r||(r=this._tilesDirty[e]={}),r[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let r=0;const n=new e.StructArrayLayout2ui4,i=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)r=e*i+t,n.emplaceBack(r,r+1),n.emplaceBack(r,r+i),n.emplaceBack(r+1,r+i),128===e&&n.emplaceBack(r+i,r+i+1);n.emplaceBack(r+1,r+1+i)}return n}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Dr{static cacheKey(e,t,r,n){let i=`${t}${n?n.cacheKey:""}`;for(const t of r)e.usedDefines.includes(t)&&(i+="/"+t);return i}constructor(t,r,n,i,o,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let r=0;r<e.length;r++){if(null===e[r])continue;const n=e[r].split(" ");t.push(n.pop())}return t}(n.staticAttributes),c=i?i.getBinderAttributes():[],u=l.concat(c);let h=i?i.defines():[];h=h.concat(a.map(e=>"#define "+e));const d=h.concat(t.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(hr):hr,hr,ur,cr.fragmentSource,sr.fragmentSource,n.fragmentSource).join("\n"),p=h.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ur,cr.vertexSource,sr.vertexSource,ar.vertexSource,n.vertexSource).join("\n"),f=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(f,d),s.compileShader(f),s.attachShader(this.program,f);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(f),this.fixedUniforms=o(t),this.binderUniforms=i?i.getUniforms(t):[],a.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const r=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)r[e]&&r[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const r=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)r[e]&&r[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const r=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)r[e].set(this.program,e,t[e])}}draw(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(o);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,a[e]);p&&p.setUniforms(this.program,e,this.binderUniforms,h,{zoom:d});const g={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const r of u.get()){const n=r.vaos||(r.vaos={});(n[s]||(n[s]=new mr)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,r.vertexOffset,f||[]),m.drawElements(t,r.primitiveLength*g,m.UNSIGNED_SHORT,r.primitiveOffset*g*2)}}}function Rr(e,t,r){const n=1/D(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),o=r.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(r.tileID.canonical.x+r.tileID.wrap*i),s=o*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const Lr=e.create(),Or=(t,r,n,i,o,a,s,l,c,u,h)=>{const d=r.style.light,p=d.properties.get("position"),f=[p.x,p.y,p.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-r.transform.angle),e.transformMat3(f,f,m));const g=d.properties.get("color"),_=r.transform,y={u_matrix:t,u_lightpos:f,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[g.r,g.g,g.b],u_vertical_gradient:+n,u_opacity:i,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Lr,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:o,u_edge_radius:a};return"globe"===_.projection.name&&(y.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],y.u_zoom_transition=c,y.u_inv_rot_matrix=h,y.u_merc_center=u,y.u_up_dir=_.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),y.u_height_lift=l),y},Br=(t,r,n,i,o,a,s,l,c,u,h,d,p)=>{const f=Or(t,r,n,i,o,a,s,u,h,d,p),m={u_height_factor:-Math.pow(2,s.overscaledZ)/c.tileSize/8};return e.extend(f,Rr(l,r,c),m)},Fr=e=>({u_matrix:e}),jr=(t,r,n,i)=>e.extend(Fr(t),Rr(n,r,i)),Ur=(e,t)=>({u_matrix:e,u_world:t}),Nr=(t,r,n,i,o)=>e.extend(jr(t,r,n,i),{u_world:o}),Vr=e.create(),Gr=(t,r,n,i,o,a)=>{const s=t.transform,l="globe"===s.projection.name;let c;if("map"===a.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(s.zoom,r.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=s.calculatePixelsToTileUnitsMatrix(n);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(r.projMatrix,n,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:Vr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){u.u_inv_rot_matrix=i,u.u_merc_center=o,u.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=o[0]*e.EXTENT,n=o[1]*e.EXTENT;u.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,n)}return u},qr=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Zr=(t,r,n,i)=>{const o=e.EXTENT/n.tileSize;return{u_matrix:t,u_camera_to_center_distance:r.getCameraToCenterDistance(i),u_extrude_scale:[r.pixelsToGLUnits[0]/o,r.pixelsToGLUnits[1]/o]}},$r=(e,t,r=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}),Wr=e.create(),Xr=(t,r,n,i,o,a,s)=>{const l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,r.canonical)*l._pixelsPerMercatorPixel:D(n,1,a),h={u_matrix:r.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:Wr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){h.u_inv_rot_matrix=i,h.u_merc_center=o,h.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=o[0]*e.EXTENT,n=o[1]*e.EXTENT;h.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,n)}return h},Hr=(e,t,r,n,i,o,a,s)=>{const l=e.transform,c=l.calculatePixelsToTileUnitsMatrix(t),u={u_matrix:Jr(e,t,r,i),u_pixels_to_tile_units:c,u_device_pixel_ratio:a,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:o,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:s};if(Qr(r)){const r=Kr(t,e.transform);u.u_texsize=t.lineAtlasTexture.size,u.u_scale=[r,n.fromScale,n.toScale],u.u_mix=n.t}return u},Yr=(e,t,r,n,i,o)=>{const a=e.transform,s=Kr(t,a);return{u_matrix:Jr(e,t,r,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:o,u_image:0,u_scale:[s,n.fromScale,n.toScale],u_fade:n.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Kr(e,t){return 1/D(e,1,t.tileZoom)}function Jr(e,t,r,n){return e.translatePosMatrix(n||t.tileID.projMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}function Qr(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const en=(e,t,r,n,i,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(s=i.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:tn(i.paint.get("raster-hue-rotate")),u_perspective_transform:o};var a,s};function tn(e){e*=Math.PI/180;const t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}const rn=e.create(),nn=(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g)=>{const _=o.transform,y={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:_.cameraToCenterDistance,u_rotate_symbol:+n,u_aspect_ratio:_.width/_.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+i,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:rn,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:rn,u_up_vector:[0,-1,0]};return"globe"===g.name&&(y.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],y.u_zoom_transition=d,y.u_inv_rot_matrix=f,y.u_merc_center=p,y.u_camera_forward=_._camera.forward(),y.u_ecef_origin=e.globeECEFOrigin(_.globeMatrix,h.toUnwrapped()),y.u_tile_matrix=Float32Array.from(_.globeMatrix),y.u_up_vector=m),y},on=(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_)=>e.extend(nn(t,r,n,i,o,a,s,l,c,u,d,p,f,m,g,_),{u_gamma_scale:i?o.transform.cameraToCenterDistance*Math.cos(o.terrain?0:o.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+h}),an=(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g)=>e.extend(on(t,r,n,i,o,a,s,l,!0,c,!0,h,d,p,f,m,g),{u_texsize_icon:u,u_texture_icon:1}),sn=(e,t,r)=>({u_matrix:e,u_opacity:t,u_color:r}),ln=(t,r,n,i,o,a)=>e.extend(function(e,t,r,n){const i=r.imageManager.getPattern(e.from.toString()),o=r.imageManager.getPattern(e.to.toString()),{width:a,height:s}=r.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/l,u=c*(n.tileID.canonical.x+n.tileID.wrap*l),h=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/D(n,1,r.transform.tileZoom),u_pixel_coord_upper:[u>>16,h>>16],u_pixel_coord_lower:[65535&u,65535&h]}}(i,a,n,o),{u_matrix:t,u_opacity:r}),cn={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_mix:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl_a:new e.Uniform2f(t),u_pattern_br_a:new e.Uniform2f(t),u_pattern_tl_b:new e.Uniform2f(t),u_pattern_br_b:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_mix:new e.Uniform1f(t),u_pattern_size_a:new e.Uniform2f(t),u_pattern_size_b:new e.Uniform2f(t),u_scale_a:new e.Uniform1f(t),u_scale_b:new e.Uniform1f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:xr,terrainDepth:xr,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let un;function hn(t,r,n,i,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=t.useProgram("collisionBox"),d=[];let p=0,f=0;for(let m=0;m<i.length;m++){const g=i[m],_=r.getTile(g),y=_.getBucket(n);if(!y)continue;const v=bt(g,y,u);let x=v;0===o[0]&&0===o[1]||(x=t.translatePosMatrix(v,_,o,a));const b=s?y.textCollisionBox:y.iconCollisionBox,w=y.collisionCircleArray;if(w.length>0){const t=e.create(),r=x;e.mul(t,y.placementInvProjMatrix,u.glCoordMatrix),e.mul(t,t,y.placementViewportMatrix),d.push({circleArray:w,circleOffset:f,transform:r,invTransform:t,projection:y.getProjection()}),p+=w.length/4,f=p}b&&(t.terrain&&t.terrain.setupElevationDraw(_,h),h.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Zr(x,u,_,y.getProjection()),n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,u.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),g=new e.StructArrayLayout2f1f2i16;g.resize(4*p),g._trim();let _=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const r=4*t,n=e.circleArray[r+0],i=e.circleArray[r+1],o=e.circleArray[r+2],a=e.circleArray[r+3];g.emplace(_++,n,i,o,a,0),g.emplace(_++,n,i,o,a,1),g.emplace(_++,n,i,o,a,2),g.emplace(_++,n,i,o,a,3)}(!un||un.length<2*p)&&(un=function(t){const r=2*t,n=new e.StructArrayLayout3ui6;n.resize(r),n._trim();for(let e=0;e<r;e++){const t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(p));const y=l.createIndexBuffer(un,!0),v=l.createVertexBuffer(g,e.collisionCircleLayout.members,!0);for(const r of d){const i={u_matrix:r.transform,u_inv_matrix:r.invTransform,u_camera_to_center_distance:(x=u).getCameraToCenterDistance(r.projection),u_viewport_size:[x.width,x.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,i,n.id,v,y,e.SegmentVector.simpleSegment(0,2*r.circleOffset,r.circleArray.length,r.circleArray.length/2),null,u.zoom)}var x;v.destroy(),y.destroy()}const dn=e.create();function pn(t,r,n,i,o,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),c=-(s-.5)*r,u=-(l-.5)*n,h=e.evaluateVariableOffset(t,i);return new e.pointGeometry((c/o+h[0])*a,(u/o+h[1])*a)}function fn(t,r,n,i,o,a,s,l,c,u,h){const d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={},g=wt(l,t.getProjection(),a),_=a.elevation,y=t.getProjection().upVectorScale(l.canonical,a.center.lat,a.worldSize);p.clear();for(let f=0;f<d.length;f++){const v=d.get(f),x=t.allowVerticalPlacement&&!v.placedOrientation,b=v.hidden||!v.crossTileID||x?null:i[v.crossTileID];if(b){const i=new e.pointGeometry(v.tileAnchorX,v.tileAnchorY),d=t.getProjection().upVector(l.canonical,i.x,i.y),f=_?_.getAtTileOffset(l,i.x,i.y):0,x=ot([v.projectedAnchorX+f*d[0]*y.metersToTile,v.projectedAnchorY+f*d[1]*y.metersToTile,v.projectedAnchorZ+f*d[2]*y.metersToTile],n?g:s),w=at(a.getCameraToCenterDistance(t.getProjection()),x.signedDistanceFromCamera);let T=o.evaluateSizeForFeature(t.textSizeData,u,v)*w/e.ONE_EM;n&&(T*=t.tilePixelRatio/c);const{width:E,height:S,anchor:C,textOffset:M,textScale:k}=b,A=pn(C,E,S,M,k,T);let I;if(n){const e=i.add(A),{x:r,y:n,z:o}=t.getProjection().projectTilePoint(e.x,e.y,l.canonical);I=ot([r+f*d[0]*y.metersToTile,n+f*d[1]*y.metersToTile,o+f*d[2]*y.metersToTile],s).point}else{const e=r?A.rotate(-a.angle):A;I=[x.point[0]+e.x,x.point[1]+e.y,0]}const P=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<v.numGlyphs;t++)e.addDynamicAttributes(p,I[0],I[1],I[2],P);h&&v.associatedIconIndex>=0&&(m[v.associatedIconIndex]={shiftedAnchor:I,angle:P})}else gt(v.numGlyphs,p)}if(h){f.clear();const r=t.icon.placedSymbolArray;for(let t=0;t<r.length;t++){const n=r.get(t);if(n.hidden)gt(n.numGlyphs,f);else{const r=m[t];if(r)for(let t=0;t<n.numGlyphs;t++)e.addDynamicAttributes(f,r.shiftedAnchor[0],r.shiftedAnchor[1],r.shiftedAnchor[2],r.angle);else gt(n.numGlyphs,f)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function mn(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function gn(t,r,n,i,o,a,s,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g="map"===l,_="map"===c,y=g&&"point"!==n.layout.get("symbol-placement"),v=g&&!_&&!y,x=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=n.layout.get("text-variable-anchor"),S="globe"===m.projection.name,C=[],M=[0,-1,0];let k=M;!S&&!m.mercatorFromTransition||g||(k=function(t){const r=t._camera.getWorldToCamera(t.worldSize,1),n=e.multiply([],r,t.globeMatrix);e.invert(n,n);const i=[0,0,0],o=[0,1,0,0];return e.transformMat4$1(o,o,n),i[0]=o[0],i[1]=o[1],i[2]=o[2],e.normalize(i,i),i}(m));for(const l of i){const i=r.getTile(l),c=i.getBucket(n);if(!c)continue;if("mercator"===c.projection.name&&S)continue;const h=o?c.text:c.icon;if(!h||c.fullyClipped||!h.segments.get().length)continue;const d=h.programConfigurations.get(n.id),p=o||c.sdfIcons,w=o?c.textSizeData:c.iconSizeData,A=_||0!==m.pitch,I=e.evaluateSizeForZoom(w,m.zoom);let P,z,D,R,L=[0,0],O=null;if(o){if(z=i.glyphAtlasTexture,D=f.LINEAR,P=i.glyphAtlasTexture.size,c.iconsInText){L=i.imageAtlasTexture.size,O=i.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;R=A||t.options.rotating||t.options.zooming||e?f.LINEAR:f.NEAREST}}else{const e=1!==n.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;z=i.imageAtlasTexture,D=p||t.options.rotating||t.options.zooming||e||A?f.LINEAR:f.NEAREST,P=i.imageAtlasTexture.size}const B="globe"===c.projection.name,F=B?k:M,j=B?e.globeToMercatorTransition(m.zoom):0,U=wt(l,c.getProjection(),m),N=m.calculatePixelsToTileUnitsMatrix(i),V=tt(U,i.tileID.canonical,_,g,m,c.getProjection(),N),G=t.terrain&&_&&y?e.invert(e.create(),V):dn,q=nt(U,i.tileID.canonical,_,g,m,c.getProjection(),N),Z=E&&c.hasTextData(),$="none"!==n.layout.get("icon-text-fit")&&Z&&c.hasIconData();if(y){const e=m.elevation,r=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):e=>[0,0,0],n=rt(U,i.tileID.canonical,_,g,m,c.getProjection(),N);lt(c,U,t,o,n,q,_,u,r,l)}const W=y||o&&E||$,X=t.translatePosMatrix(U,i,a,s),H=W?dn:V,Y=t.translatePosMatrix(q,i,a,s,!0),K=c.getProjection().createInversionMatrix(m,l.canonical),J=[];t.terrainRenderModeElevated()&&_&&J.push("PITCH_WITH_MAP_TERRAIN"),B&&J.push("PROJECTION_GLOBE_VIEW"),W&&J.push("PROJECTED_POS_ON_VIEWPORT");const Q=p&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=p?c.iconsInText?an(w.kind,I,v,_,t,X,H,Y,P,L,l,j,T,K,F,c.getProjection()):on(w.kind,I,v,_,t,X,H,Y,o,P,!0,l,j,T,K,F,c.getProjection()):nn(w.kind,I,v,_,t,X,H,Y,o,P,l,j,T,K,F,c.getProjection());const te={program:t.useProgram(mn(p,o,c),d,J),buffers:h,uniformValues:ee,atlasTexture:z,atlasTextureIcon:O,atlasInterpolation:D,atlasInterpolationIcon:R,isSDF:p,hasHalo:Q,tile:i,labelPlaneMatrixInv:G};if(x&&c.canOverlap){b=!0;const t=h.segments.get();for(const r of t)C.push({segments:new e.SegmentVector([r]),sortKey:r.sortKey,state:te})}else C.push({segments:h.segments,sortKey:0,state:te})}b&&C.sort((e,t)=>e.sortKey-t.sortKey);for(const e of C){const r=e.state;if(t.terrain&&t.terrain.setupElevationDraw(r.tile,r.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:r.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),r.atlasTexture.bind(r.atlasInterpolation,f.CLAMP_TO_EDGE),r.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),r.isSDF){const i=r.uniformValues;r.hasHalo&&(i.u_is_halo=1,_n(r.buffers,e.segments,n,t,r.program,w,h,d,i)),i.u_is_halo=0}_n(r.buffers,e.segments,n,t,r.program,w,h,d,r.uniformValues)}}function _n(t,r,n,i,o,a,s,l,c){const u=i.context,h=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];o.draw(u,u.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,n.id,t.layoutVertexBuffer,t.indexBuffer,r,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),h)}function yn(t,r,n,i,o,a,s){const l=t.context.gl,c=n.paint.get("fill-pattern"),u=c&&c.constantOr(1),h=n.getCrossfadeParameters();let d,p,f,m,g;s?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=l.LINES):(p=u?"fillPattern":"fill",d=l.TRIANGLES);for(const _ of i){const i=r.getTile(_);if(u&&!i.patternsLoaded())continue;const y=i.getBucket(n);if(!y)continue;t.prepareDrawTile();const v=y.programConfigurations.get(n.id),x=t.useProgram(p,v);u&&(t.context.activeTexture.set(l.TEXTURE0),i.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(h));const b=c.constantOr(null);if(b&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[b.to.toString()],r=e.patternPositions[b.from.toString()];t&&r&&v.setConstantPatternPositions(t,r)}const w=t.translatePosMatrix(_.projMatrix,i,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(s){m=y.indexBuffer2,g=y.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];f="fillOutlinePattern"===p&&u?Nr(w,t,h,i,e):Ur(w,e)}else m=y.indexBuffer,g=y.segments,f=u?jr(w,t,h,i):Fr(w);t.prepareDrawProgram(t.context,x,_.toUnwrapped()),x.draw(t.context,d,o,t.stencilModeForClipping(_),a,e.CullFaceMode.disabled,f,n.id,y.layoutVertexBuffer,m,g,n.paint,t.transform.zoom,v)}}function vn(t,r,n,i,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=n.paint.get("fill-extrusion-pattern"),d=h.constantOr(1),p=n.getCrossfadeParameters(),f=n.paint.get("fill-extrusion-opacity"),m=[n.paint.get("fill-extrusion-ambient-occlusion-intensity"),n.paint.get("fill-extrusion-ambient-occlusion-radius")],g=n.layout.get("fill-extrusion-edge-radius"),_="globe"===u.projection.name?e.fillExtrusionHeightLift():0,y="globe"===u.projection.name,v=y?e.globeToMercatorTransition(u.zoom):0,x=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],b=[];y&&(b.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&b.push("TERRAIN")),m[0]>0&&b.push("FAUX_AO");for(const w of i){const i=r.getTile(w),T=i.getBucket(n);if(!T||T.projection.name!==u.projection.name)continue;const E=T.programConfigurations.get(n.id),S=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",E,b);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(i,S,{useMeterToDem:!0});else{if(!T.enableTerrain)continue;if(e.setupElevationDraw(i,S,{useMeterToDem:!0}),xn(l,r,w,T,n,e),!T.centroidVertexBuffer){const e=S.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),i.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),E.updatePaintBuffers(p));const C=h.constantOr(null);if(C&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[C.to.toString()],r=e.patternPositions[C.from.toString()];t&&r&&E.setConstantPatternPositions(t,r)}const M=t.translatePosMatrix(w.projMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),k=u.projection.createInversionMatrix(u,w.canonical),A=n.paint.get("fill-extrusion-vertical-gradient"),I=d?Br(M,t,A,f,m,g,w,p,i,_,v,x,k):Or(M,t,A,f,m,g,w,_,v,x,k);t.prepareDrawProgram(l,S,w.toUnwrapped());const P=[];t.terrain&&P.push(T.centroidVertexBuffer),y&&P.push(T.layoutVertexExtBuffer),S.draw(l,l.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,I,n.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,n.paint,t.transform.zoom,E,P)}}function xn(t,r,n,i,o,a){const s=[t=>{let r=t.canonical.x-1,n=t.wrap;return r<0&&(r=(1<<t.canonical.z)-1,n--),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,r,t.canonical.y)},t=>{let r=t.canonical.x+1,n=t.wrap;return r===1<<t.canonical.z&&(r=0,n++),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,r,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=r.getSource().minzoom,n=e=>{const t=r.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)},i=[0,-1,1];for(const r of i){if(e.overscaledZ+r<t)continue;const i=n(e.calculateScaledKey(e.overscaledZ+r));if(i)return i}},c=[0,0,0],u=(t,r)=>(c[0]=Math.min(t.min.y,r.min.y),c[1]=Math.max(t.max.y,r.max.y),c[2]=e.EXTENT-r.min.x>t.max.x?r.min.x-e.EXTENT:t.max.x,c),h=(t,r)=>(c[0]=Math.min(t.min.x,r.min.x),c[1]=Math.max(t.max.x,r.max.x),c[2]=e.EXTENT-r.min.y>t.max.y?r.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>h(e,t),(e,t)=>h(t,e)],p=new e.pointGeometry(0,0);let f,m,g;const _=(t,r,i,o,s)=>{const l=[[o?i:t,o?t:i,0],[o?i:r,o?r:i,0]],c=s<0?e.EXTENT+s:s,u=[o?c:(t+r)/2,o?(t+r)/2:c,0];return 0===i&&s<0||0!==i&&s>0?a.getForTilePoints(g,[u],!0,m):l.push(u),a.getForTilePoints(n,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/a.exaggeration()};for(let t=0;t<4;t++){const r=(t<2?1:5)-t,o=i.borders[t];if(0===o.length)continue;const c=g=s[t](n),u=l(c);if(!(u&&u instanceof e.FillExtrusionBucket&&u.enableTerrain))continue;if(i.borderDoneWithNeighborZ[t]===u.canonical.z&&u.borderDoneWithNeighborZ[r]===i.canonical.z)continue;if(m=a.findDEMTileFor(c),!m||!m.dem)continue;if(!f){const e=a.findDEMTileFor(n);if(!e||!e.dem)return;f=e}const h=u.borders[r];let y=0;const v=u.borderDoneWithNeighborZ[r]!==i.canonical.z;if(i.canonical.z===u.canonical.z){for(let n=0;n<o.length;n++){const a=i.featuresOnBorder[o[n]],s=a.borders[t];let l;for(;y<h.length&&(l=u.featuresOnBorder[h[y]],!(l.borders[r][1]>s[0]+3));)v&&u.encodeCentroid(void 0,l,!1),y++;if(l&&y<h.length){const n=y;let o=0;for(;!(l.borders[r][0]>s[1]-3)&&(o++,++y!==h.length);)l=u.featuresOnBorder[h[y]];if(l=u.featuresOnBorder[h[n]],a.intersectsCount()>1||l.intersectsCount()>1||1!==o){1!==o&&(y=n),i.encodeCentroid(void 0,a,!1),v&&u.encodeCentroid(void 0,l,!1);continue}const c=d[t](a,l),f=t%2?e.EXTENT-1:0;p.x=_(c[0],Math.min(e.EXTENT-1,c[1]),f,t<2,c[2]),p.y=0,i.encodeCentroid(p,a,!1),v&&u.encodeCentroid(p,l,!1)}else i.encodeCentroid(void 0,a,!1)}i.borderDoneWithNeighborZ[t]=u.canonical.z,i.needsCentroidUpdate=!0,v&&(u.borderDoneWithNeighborZ[r]=i.canonical.z,u.needsCentroidUpdate=!0)}else{for(const e of o)i.encodeCentroid(void 0,i.featuresOnBorder[e],!1);if(v){for(const e of h)u.encodeCentroid(void 0,u.featuresOnBorder[e],!1);u.borderDoneWithNeighborZ[r]=i.canonical.z,u.needsCentroidUpdate=!0}i.borderDoneWithNeighborZ[t]=u.canonical.z,i.needsCentroidUpdate=!0}}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(t)}const bn=new e.Color(1,0,0,1),wn=new e.Color(0,1,0,1),Tn=new e.Color(0,0,1,1),En=new e.Color(1,0,1,1),Sn=new e.Color(0,1,1,1);function Cn(t,r,n){const i=t.context,o=t.transform,a=i.gl,s="globe"===o.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null;let c=n.projMatrix;if(s&&e.globeToMercatorTransition(o.zoom)>0){const t=e.transitionTileAABBinECEF(n.canonical,o),r=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),o.globeMatrix,r),e.multiply(c,o.projMatrix,c)}const u=t.useProgram("debug",null,l),h=r.getTileByID(n.key);t.terrain&&t.terrain.setupElevationDraw(h,u);const d=e.DepthMode.disabled,p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="$debug";i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,o):h._makeDebugTileBoundsBuffers(t.context,o.projection);const g=h._tileDebugBuffer||t.debugBuffer,_=h._tileDebugIndexBuffer||t.debugIndexBuffer,y=h._tileDebugSegments||t.debugSegments;u.draw(i,a.LINE_STRIP,d,p,f,e.CullFaceMode.disabled,$r(c,e.Color.red),m,g,_,y,null,null,null,[h._globeTileDebugBorderBuffer]);const v=h.latestRawTileData,x=Math.floor((v&&v.byteLength||0)/1024),b=r.getTile(n).tileSize,w=512/Math.min(b,512)*(n.overscaledZ/o.zoom)*.5;let T=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(T+=" => "+n.overscaledZ),T+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,T);const E=h._tileDebugTextBuffer||t.debugBuffer,S=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,C=h._tileDebugTextSegments||t.debugSegments;u.draw(i,a.TRIANGLES,d,p,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,$r(c,e.Color.transparent,w),m,E,S,C,null,null,null,[h._globeTileDebugTextBuffer])}function Mn(e,t,r,n){An(e,0,t+r/2,e.transform.width,r,n)}function kn(e,t,r,n){An(e,t-r/2,0,r,e.transform.height,n)}function An(t,r,n,i,o,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}const In=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Pn}=In;function zn(e,t,r,n){e.emplaceBack(t,r,n)}class Dn{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,zn(this.vertexArray,-1,-1,1),zn(this.vertexArray,1,-1,1),zn(this.vertexArray,-1,1,1),zn(this.vertexArray,1,1,1),zn(this.vertexArray,-1,-1,-1),zn(this.vertexArray,1,-1,-1),zn(this.vertexArray,-1,1,-1),zn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Pn),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Rn(t,r,n,i,o,a){const s=t.gl,l=r.paint.get("sky-atmosphere-color"),c=r.paint.get("sky-atmosphere-halo-color"),u=r.paint.get("sky-atmosphere-sun-intensity"),h=((e,t,r,n,i)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:r,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),i),o,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,r.skyboxTexture,0),n.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,h,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const Ln=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class On{constructor(t){const r=new e.StructArrayLayout5f20;r.emplaceBack(-1,1,1,0,0),r.emplaceBack(1,1,1,1,0),r.emplaceBack(1,-1,1,1,1),r.emplaceBack(-1,-1,1,0,1);const n=new e.StructArrayLayout3ui6;n.emplaceBack(0,1,2),n.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(r,Ln.members),this.indexBuffer=t.createIndexBuffer(n),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Bn={symbol:function(t,r,n,i,o){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,o,a,s){const l=r.transform,c="map"===o,u="map"===a;for(const r of t){const t=i.getTile(r),o=t.getBucket(n);if(!o||!o.text||!o.text.segments.get().length)continue;const a=e.evaluateSizeForZoom(o.textSizeData,l.zoom),h=wt(r,o.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),p=tt(h,t.tileID.canonical,u,c,l,o.getProjection(),d),f="none"!==n.layout.get("icon-text-fit")&&o.hasIconData();if(a){const n=Math.pow(2,l.zoom-t.tileID.overscaledZ);fn(o,c,u,s,e.symbolSize,l,p,r,n,a,f)}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&gn(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&gn(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&(hn(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),hn(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(t,r,n,i){if("translucent"!==t.renderPass)return;const o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,h=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="globe"===h.projection.name,g=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],_=[];for(let o=0;o<i.length;o++){const a=i[o],s=r.getTile(a),c=s.getBucket(n);if(!c||c.projection.name!==h.projection.name)continue;const u=c.programConfigurations.get(n.id),d=qr(n);m&&d.push("PROJECTION_GLOBE_VIEW");const p=t.useProgram("circle",u,d),f=c.layoutVertexBuffer,y=c.globeExtVertexBuffer,v=c.indexBuffer,x=h.projection.createInversionMatrix(h,a.canonical),b={programConfiguration:u,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:y,indexBuffer:v,uniformValues:Gr(t,a,s,x,g,n),tile:s};if(l){const t=c.segments.get();for(const r of t)_.push({segments:new e.SegmentVector([r]),sortKey:r.sortKey,state:b})}else _.push({segments:c.segments,sortKey:0,state:b})}l&&_.sort((e,t)=>e.sortKey-t.sortKey);const y={useDepthForOcclusion:!m};for(const r of _){const{programConfiguration:i,program:o,layoutVertexBuffer:a,globeExtVertexBuffer:s,indexBuffer:l,uniformValues:m,tile:g}=r.state,_=r.segments;t.terrain&&t.terrain.setupElevationDraw(g,o,y),t.prepareDrawProgram(c,o,g.tileID.toUnwrapped()),o.draw(c,u.TRIANGLES,d,p,f,e.CullFaceMode.disabled,m,n.id,a,l,_,n.paint,h.zoom,i,[s])}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r,n){const i=e.gl,o=t.width*n,a=t.height*n;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,o,a]);let s=r.heatmapFbo;if(!s||s&&(s.width!==o||s.height!==a)){s&&s.destroy();const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),s=r.heatmapFbo=e.createFramebuffer(o,a,!1),function(e,t,r,n,i,o){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,i,o,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,0,t,s,o,a)}else i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(o,t,n,"globe"===t.transform.projection.name?.5:.25),o.clear({color:e.Color.transparent});const c=t.transform,u="globe"===c.projection.name,h=u?["PROJECTION_GLOBE_VIEW"]:null,d=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,p=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let f=0;f<i.length;f++){const m=i[f];if(r.hasRenderableParent(m))continue;const g=r.getTile(m),_=g.getBucket(n);if(!_||_.projection.name!==c.projection.name)continue;const y=_.programConfigurations.get(n.id),v=t.useProgram("heatmap",y,h),{zoom:x}=t.transform;t.terrain&&t.terrain.setupElevationDraw(g,v),t.prepareDrawProgram(o,v,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);v.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,d,Xr(t,m,g,b,p,x,n.paint.get("heatmap-intensity")),n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,n.paint,t.transform.zoom,y,u?[_.globeExtVertexBuffer]:null)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){const n=t.context,i=n.gl,o=r.heatmapFbo;if(!o)return;n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);let a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,r,n)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,r),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}(t,n))},line:function(t,r,n,i){if("translucent"!==t.renderPass)return;const o=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=n.paint.get("line-dasharray"),h=u.constantOr(1),d=n.layout.get("line-cap"),p=n.paint.get("line-pattern"),f=p.constantOr(1),m=n.paint.get("line-gradient"),g=n.getCrossfadeParameters(),_=f?"linePattern":"line",y=t.context,v=y.gl,x=(e=>{const t=[];Qr(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const r=e.paint.get("line-trim-offset");0===r[0]&&0===r[1]||t.push("RENDER_LINE_TRIM_OFFSET");const n=e.paint.get("line-pattern").constantOr(1),i=1!==e.paint.get("line-opacity").constantOr(1);return!n&&i&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(n);let b=x.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(b=!1);for(const o of i){const i=r.getTile(o);if(f&&!i.patternsLoaded())continue;const a=i.getBucket(n);if(!a)continue;t.prepareDrawTile();const w=a.programConfigurations.get(n.id),T=t.useProgram(_,w,x),E=p.constantOr(null);if(E&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[E.to.toString()],r=e.patternPositions[E.from.toString()];t&&r&&w.setConstantPatternPositions(t,r)}const S=u.constantOr(null),C=d.constantOr(null);if(!f&&S&&C&&i.lineAtlas){const e=i.lineAtlas,t=e.getDash(S.to,C),r=e.getDash(S.from,C);t&&r&&w.setConstantPatternPositions(t,r)}let[M,k]=n.paint.get("line-trim-offset");if("round"===C||"square"===C){const e=1;M!==k&&(0===M&&(M-=e),1===k&&(k+=e))}const A=t.terrain?o.projMatrix:null,I=f?Yr(t,i,n,g,A,c):Hr(t,i,n,g,A,a.lineClipsArray.length,c,[M,k]);if(m){const i=a.gradients[n.id];let s=i.texture;if(n.gradientVersion!==i.version){let l=256;if(n.stepInterpolant){const n=r.getSource().maxzoom,i=o.canonical.z===n?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*i),256,y.maxTextureSize)}i.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:i.gradient||void 0,clips:a.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new e.Texture(y,i.gradient,v.RGBA),i.version=n.gradientVersion,s=i.texture}y.activeTexture.set(v.TEXTURE1),s.bind(n.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}h&&(y.activeTexture.set(v.TEXTURE0),i.lineAtlasTexture.bind(v.LINEAR,v.REPEAT),w.updatePaintBuffers(g)),f&&(y.activeTexture.set(v.TEXTURE0),i.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),w.updatePaintBuffers(g)),t.prepareDrawProgram(y,T,o.toUnwrapped());const P=r=>{T.draw(y,v.TRIANGLES,s,r,l,e.CullFaceMode.disabled,I,n.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,n.paint,t.transform.zoom,w,[a.layoutVertexBuffer2])};if(b){const r=t.stencilModeForClipping(o).ref;0===r&&t.terrain&&y.clear({stencil:0});const n={func:v.EQUAL,mask:255};I.u_alpha_discard_threshold=.8,P(new e.StencilMode(n,r,255,v.KEEP,v.KEEP,v.INVERT)),I.u_alpha_discard_threshold=0,P(new e.StencilMode(n,r,255,v.KEEP,v.KEEP,v.KEEP))}else P(t.stencilModeForClipping(o))}b&&(t.resetStencilClippingMasks(),t.terrain&&y.clear({stencil:0}))},fill:function(t,r,n,i){const o=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const o=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);yn(t,r,n,i,o,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){const o=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);yn(t,r,n,i,o,s,!0)}},"fill-extrusion":function(t,r,n,i){const o=n.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))vn(t,r,n,i,a,e.StencilMode.disabled,e.ColorMode.disabled),vn(t,r,n,i,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const o=t.colorModeForRenderPass();vn(t,r,n,i,a,e.StencilMode.disabled,o)}}},hillshade:function(t,r,n,i){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const o=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},i]:t.stencilConfigForOverlap(i);for(const i of u){const o=r.getTile(i);if(o.needsHillshadePrepare&&"offscreen"===t.renderPass)vr(t,o,n,a,e.StencilMode.disabled,s);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(i):c[i.overscaledZ];_r(t,i,o,n,a,e,s)}}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,r,n,i,o,a){if("translucent"!==t.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!i.length)return;const s=t.context,l=s.gl,c=r.getSource(),u=t.useProgram("raster"),h=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[p,f]=c instanceof Ie||d?[{},i]:t.stencilConfigForOverlap(i),m=f[f.length-1].overscaledZ,g=!t.options.moving;for(const i of f){const o=d?e.DepthMode.disabled:t.depthModeForSublayer(i.overscaledZ-m,1===n.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),f=i.toUnwrapped(),_=r.getTile(i);if(d&&(!_||!_.hasData()))continue;const y=d?i.projMatrix:t.transform.calculateProjMatrix(f,g),v=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(i):p[i.overscaledZ],x=a?0:n.paint.get("raster-fade-duration");_.registerFadeDuration(x);const b=r.findLoadedParent(i,0),w=kr(_,b,r,t.transform,x);let T,E;t.terrain&&t.terrain.prepareDrawTile();const S="nearest"===n.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),_.texture.bind(S,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(S,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-_.tileID.overscaledZ),E=[_.tileID.canonical.x*T%1,_.tileID.canonical.y*T%1]):_.texture.bind(S,l.CLAMP_TO_EDGE);const C=en(y,E||[0,0],T||1,w,n,c instanceof Ie?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,u,f),c instanceof Ie)c.boundsBuffer&&c.boundsSegments&&u.draw(s,l.TRIANGLES,o,e.StencilMode.disabled,h,e.CullFaceMode.disabled,C,n.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:r,tileBoundsIndexBuffer:i,tileBoundsSegments:a}=t.getTileBoundsBuffers(_);u.draw(s,l.TRIANGLES,o,v,h,e.CullFaceMode.disabled,C,n.id,r,i,a)}}t.resetStencilClippingMasks()},background:function(t,r,n,i){const o=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,u=c.tileSize,h=n.paint.get("background-pattern");if(t.isPatternMissing(h))return;const d=!h&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const p=e.StencilMode.disabled,f=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),g=t.useProgram(h?"backgroundPattern":"background");let _,y=i;y||(_=t.getBackgroundTiles(),y=Object.values(_).map(e=>e.tileID)),h&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));const v=n.getCrossfadeParameters();for(const d of y){const y=d.toUnwrapped(),x=i?d.projMatrix:t.transform.calculateProjMatrix(y);t.prepareDrawTile();const b=r?r.getTile(d):_?_[d.key]:new e.Tile(d,u,c.zoom,t),w=h?ln(x,a,t,h,{tileID:d,tileSize:u},v):sn(x,a,o);t.prepareDrawProgram(s,g,y);const{tileBoundsBuffer:T,tileBoundsIndexBuffer:E,tileBoundsSegments:S}=t.getTileBoundsBuffers(b);g.draw(s,l.TRIANGLES,f,p,m,e.CullFaceMode.disabled,w,n.id,T,E,S)}},sky:function(t,r,n){const i=t.transform,o="mercator"===i.projection.name||"globe"===i.projection.name?1:e.smoothstep(7,8,i.zoom),a=n.paint.get("sky-opacity")*o;if(0===a)return;const s=t.context,l=n.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?n.needsSkyboxCapture(t)&&(function(t,r,n,i){const o=t.context,a=o.gl;let s=r.skyboxFbo;if(!s){s=r.skyboxFbo=o.createFramebuffer(32,32,!1),r.skyboxGeometry=new Dn(o),r.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,r.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);const l=r.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),Rn(o,r,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),Rn(o,r,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),Rn(o,r,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),Rn(o,r,c,u,l,3),e.identity(u),Rn(o,r,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),Rn(o,r,c,u,l,5),o.viewport.set([0,0,t.width,t.height])}(t,n),n.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,r,n,i,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,r.skyboxTexture);const u=((e,t,r,n,i)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:n,u_temporal_offset:i}))(l.skyboxMatrix,r.getCenter(t,!1),0,i,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}(t,n,c,a,u):"gradient"===l&&"sky"===t.renderPass&&function(t,r,n,i,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skyboxGradient");r.skyboxGeometry||(r.skyboxGeometry=new Dn(a)),a.activeTexture.set(s.TEXTURE0);let u=r.colorRampTexture;u||(u=r.colorRampTexture=new e.Texture(a,r.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((t,r,n,i,o)=>({u_matrix:t,u_color_ramp:0,u_center_direction:r,u_radius:e.degToRad(n),u_opacity:i,u_temporal_offset:o}))(l.skyboxMatrix,r.getCenter(t,!1),r.paint.get("sky-gradient-radius"),i,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skyboxGradient",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}(t,n,c,a,u)},debug:function(e,t,r){for(let n=0;n<r.length;n++)Cn(e,t,r[n])},custom:function(t,r,n){const i=t.context,o=n.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){const e=o.prerender;e&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),e.call(o,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(e.StencilMode.disabled);const r="3d"===o.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);i.setDepthMode(r),o.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}};class Fn{constructor(t,r){this.context=new Ce(t),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Xt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const r=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(r||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new zr(this,e));const n=this._terrain;this.transform.elevation=r?n:null,n.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[r,n]=t.getFovAdjustedRange(this.transform._fov);if(r>n)return void(this.transform.fogCullDistSq=null);const i=r+.78*(n-r);this.transform.fogCullDistSq=i*i}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,r){if(this.width=t*e.exported.devicePixelRatio,this.height=r*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const i=new e.StructArrayLayout2i4;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(-1,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new On(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,r.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Mr(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,r,n){if(!r||this.currentStencilSource===r.id||!t.isTileClipped()||!n||0===n.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of n)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=r.id;const i=this.context,o=i.gl;this.nextStencilID+n.length>256&&this.clearStencil(),i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of n){const n=r.getTile(t),s=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:u}=this.getTileBoundsBuffers(n);a.draw(i,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},s,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mr(t.projMatrix),"$clipping",l,c,u)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,r=this.context.gl;return new e.StencilMode({func:r.NOTEQUAL,mask:255},t,255,r.KEEP,r.KEEP,r.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const r=this.context.gl;return new e.StencilMode({func:r.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,r.KEEP,r.KEEP,r.REPLACE)}stencilConfigForOverlap(t){const r=this.context.gl,n=t.sort((e,t)=>t.overscaledZ-e.overscaledZ),i=n[n.length-1].overscaledZ,o=n[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const t={};for(let n=0;n<o;n++)t[n+i]=new e.StencilMode({func:r.GEQUAL,mask:255},n+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=o,[t,n]}return[{[i]:e.StencilMode.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const r=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(r,r,r,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,r,n){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(n||this.context.gl.LEQUAL,r,[i,i])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,r){this.style=t,this.options=r,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const n=this.style.order,i=this.style._sourceCaches;for(const e in i){const t=i[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in i){const t=i[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<n.length;e++)if(this.style._layers[n[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const e of n){const r=this.style._layers[e],n=t._getLayerSourceCache(r);if(!r.hasOffscreenPass()||r.isHidden(this.transform.zoom))continue;const i=n?a[n.id]:void 0;("custom"===r.type||r.isSky()||i&&i.length)&&this.renderLayer(this,n,r,i)}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[n[this.currentLayer]],r=t._getLayerSourceCache(e);if(e.isSky())continue;const i=r?a[r.id]:void 0;this._renderTileClippingMasks(e,r,i),this.renderLayer(this,r,e,i)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,r){const n=t.context,i=n.gl,o=t.transform,a=new e.DepthMode(i.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(o.zoom),c=r.properties.get("color").toArray01(),u=r.properties.get("high-color").toArray01(),h=r.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(o._center.lng)),e.rotateX$1(d,d,e.degToRad(o._center.lat)),e.rotateZ$1(d,d,o.angle),e.rotateX$1(d,d,-o._pitch);const p=e.fromQuat(new Float32Array(16),d),f=e.mapValue(r.properties.get("star-intensity"),0,1,0,.25),m=5e-4,g=e.mapValue(r.properties.get("horizon-blend"),0,1,m,.25),_=e.globeUseCustomAntiAliasing(t,n,o)&&g===m?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,y=t.frameCounter/1e3%1,v=e.length(o.globeCenterInViewSpace),x=Math.sqrt(Math.pow(v,2)-Math.pow(_,2)),b=Math.acos(x/v),w=((t,r,n,i,o,a,s,l,c,u,h,d,p,f)=>({u_frustum_tl:t,u_frustum_tr:r,u_frustum_br:n,u_frustum_bl:i,u_horizon:o,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:h,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:p,u_rotation_matrix:f}))(o.frustumCorners.TL,o.frustumCorners.TR,o.frustumCorners.BR,o.frustumCorners.BL,o.frustumCorners.horizon,l,g,c,u,h,f,y,b,p);t.prepareDrawProgram(n,s);const T=t.atmosphereBuffer;T&&s.draw(n,i.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",T.vertexBuffer,T.indexBuffer,T.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const e=this.style._layers[n[this.currentLayer]],r=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,r,e,r?a[r.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;){const e=this.style._layers[n[this.currentLayer]],r=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const i=r?("symbol"===e.type?s:a)[r.id]:void 0;this._renderTileClippingMasks(e,r,r?o[r.id]:void 0),this.renderLayer(this,r,e,i),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let r=null;e.values(this.style._layers).forEach(e=>{const n=t._getLayerSourceCache(e);n&&!e.isHidden(this.transform.zoom)&&(!r||r.getSource().maxzoom<n.getSource().maxzoom)&&(r=n)}),r&&this.options.showTileBoundaries&&Bn.debug(this,r,r.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Mn(e,e.transform.height-(t.top||0),3,bn),Mn(e,t.bottom||0,3,wn),kn(e,t.left||0,3,Tn),kn(e,e.transform.width-(t.right||0),3,En);const r=e.transform.centerPoint;!function(e,t,r,n){An(e,t-1,r-10,2,20,n),An(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,Sn)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}renderLayer(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"sky"===r.type||"custom"===r.type||n&&n.length)&&(this.id=r.id,this.gpuTimingStart(r),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(r.type)||Bn[r.type](e,t,r,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const r in e){const n=e[r],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=o}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let r=0;for(const n of e)r+=t.getQueryObjectEXT(n,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(n);return r}translatePosMatrix(t,r,n,i,o){if(!n[0]&&!n[1])return t;const a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}const s=[o?n[0]:D(r,n[0],this.transform.zoom),o?n[1]:D(r,n[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,r=[];return this.terrainRenderModeElevated()&&r.push("TERRAIN"),"globe"===this.transform.projection.name&&r.push("GLOBE"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&r.push("FOG"),e&&r.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&r.push("OVERDRAW_INSPECTOR"),r}useProgram(e,t,r){this.cache=this.cache||{};const n=r||[],i=this.currentGlobalDefines().concat(n),o=Dr.cacheKey(dr[e],e,i,t);return this.cache[o]||(this.cache[o]=new Dr(this.context,e,dr[e],t,cn[e],i)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,r,n){if(this.terrain&&this.terrain.renderingToTexture)return;const i=this.style.fog;if(i){const o=i.getOpacity(this.transform.pitch),a=((t,r,n,i,o,a,s,l,c,u,h)=>{const d=t.transform,p=r.properties.get("color").toArray01();p[3]=i;const f=t.frameCounter/1e3%1;return{u_fog_matrix:n?d.calculateFogTileMatrix(n):t.identityMat,u_fog_range:r.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:r.properties.get("horizon-blend"),u_fog_temporal_offset:f,u_frustum_tl:o,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:h,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,i,n,o,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);r.setFogUniformValues(t,a)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,r=this._backgroundTiles={},n=this.transform.coveringTiles({tileSize:512});for(const i of n)r[i.key]=t[i.key]||new e.Tile(i,512,this.transform.tileZoom,this);return r}clearBackgroundTiles(){this._backgroundTiles={}}}class jn{constructor(e=0,t=0,r=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n}interpolate(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this}getCenter(t,r){const n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.pointGeometry(n,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new jn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Un(t,r){const n=e.getColumn(t,3);e.fromQuat(t,r),e.setColumn(t,3,n)}function Nn(t,r){const n=e.identity$1([]);return e.rotateZ$1(n,n,-r),e.rotateX$1(n,n,-t),n}function Vn(t,r){const n=[t[0],t[1],0],i=[r[0],r[1],0];if(e.length(n)>=1e-15){const t=e.normalize([],n);e.scale$2(i,t,e.dot(i,t)),r[0]=i[0],r[1]=i[1]}const o=e.cross([],r,t);if(e.len(o)<1e-15)return null;const a=Math.atan2(-o[1],o[0]);return Nn(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Gn{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const r=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(r.x=e.wrap(r.x,0,1)),this._position=r}else this._position=null}lookAtPoint(t,r){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,i=this.position,o=e.MercatorCoordinate.fromLngLat(t,n),a=[o.x-i.x,o.y-i.y,o.z-i.z];r||(r=[0,0,1]),r[2]=Math.abs(r[2]),this.orientation=Vn(a,r)}setPitchBearing(t,r){this.orientation=Nn(e.degToRad(t),e.degToRad(-r))}}class qn{constructor(t,r){this._transform=e.identity([]),this.orientation=r,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var r;t&&e.setColumn(this._transform,3,[(r=t)[0],r[1],r[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&Un(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Nn(e,t),Un(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,r){const n=new Float64Array(16);return e.invert(n,this.getWorldToCamera(t,r)),n}getWorldToCameraPosition(t,r,n){const i=this.position;e.scale$2(i,i,-t);const o=new Float64Array(16);return e.fromScaling(o,[n,n,n]),e.translate(o,o,i),o[10]*=r,o}getWorldToCamera(t,r){const n=new Float64Array(16),i=new Float64Array(4),o=this.position;return e.conjugate(i,this._orientation),e.scale$2(o,o,-t),e.fromQuat(n,i),e.translate(n,n,o),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=r,n[9]*=r,n[10]*=r,n[11]*=r,n}getCameraToClipPerspective(t,r,n,i){const o=new Float64Array(16);return e.perspective(o,t,r,n,i),o}getDistanceToElevation(t){const r=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),n=this.forward();return(r-this.position[2])/n[2]}clone(){return new qn([...this.position],[...this.orientation])}}function Zn(t,r){const n=Wn(t.projection,t.zoom,t.width,t.height),i=function(t,r,n,i,o){const a=new e.LngLat(n.lng-180*Xn,n.lat),s=new e.LngLat(n.lng+180*Xn,n.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),h=e.MercatorCoordinate.fromLngLat(n);h.y=e.clamp(h.y,-.999975,.999975);const d=h.toLngLat(),p=t.project(d.lng,d.lat),f=e.MercatorCoordinate.fromLngLat(d);f.x+=Xn;const m=f.toLngLat(),g=t.project(m.lng,m.lat),_=Yn(g.x-p.x,g.y-p.y,u),y=e.MercatorCoordinate.fromLngLat(d);y.y+=Xn;const v=y.toLngLat(),x=t.project(v.lng,v.lat),b=Yn(x.x-p.x,x.y-p.y,u),w=Math.abs(_.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-u*(1-(o?0:i)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*i,1]),E[4]=-b.x/b.y*i,e.rotateZ(E,E,u),e.multiply(E,T,E),E}(t.projection,0,t.center,n,r),o=$n(t);return e.scale(i,i,[o,o,1]),i}function $n(t){const r=t.projection,n=Wn(t.projection,t.zoom,t.width,t.height),i=Hn(r,t.center),o=Hn(r,e.LngLat.convert(r.center));return Math.pow(2,i*n+(1-n)*o)}function Wn(t,r,n,i,o=1/0){const a=t.range;if(!a)return 0;const s=Math.min(o,Math.max(n,i)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,r)}const Xn=1/4e4;function Hn(t,r){const n=e.clamp(r.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=new e.LngLat(r.lng-180*Xn,n),o=new e.LngLat(r.lng+180*Xn,n),a=t.project(i.lng,n),s=t.project(o.lng,n),l=e.MercatorCoordinate.fromLngLat(i),c=e.MercatorCoordinate.fromLngLat(o),u=s.x-a.x,h=s.y-a.y,d=c.x-l.x,p=c.y-l.y,f=Math.sqrt((d*d+p*p)/(u*u+h*h));return Math.log(f)/Math.LN2}function Yn(e,t,r){const n=Math.cos(r),i=Math.sin(r);return{x:e*n-t*i,y:e*i+t*n}}class Kn{constructor(t,r,n,i,o,a,s){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new jn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new qn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Kn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e){const t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const n=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const i=!t(n,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const r=t!==this.projection.name;return r&&this._calcMatrices(),r}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const r=-t*Math.PI/180;var n;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);e[0]=n*l+o*s,e[1]=i*l+a*s,e[2]=n*-s+o*l,e[3]=i*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,r=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop();let i=0,o=0;for(let a=0;a<r.length;a++){const s=new e.pointGeometry(r[a][0]*this.width,n+r[a][1]*(this.height-n)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);i+=l[3]*c,o+=c}return 0===o?NaN:i/o}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),r=this.pixelsPerMeter/this.worldSize*t,n=this._mercatorZfromZoom(e),i=this._mercatorZfromZoom(this._maxZoom),o=Math.max(n-r,i);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let n;n=t.z<this._camera.position[2]?[r.x,r.y,r.z]:[t.x,t.y,t.z];const i=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let r=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(r=this._setCameraOrientation(t.orientation)),t.position){const n=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),r=!0)}r&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,r=new Gn;return r.position=new e.MercatorCoordinate(t[0],t[1],t[2]),r.orientation=this._camera.orientation,r._elevation=this.elevation,r._renderWorldCopies=this.renderWorldCopies,r}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const r=e.transformQuat([],[0,0,-1],t),n=e.transformQuat([],[0,-1,0],t);if(n[2]<0)return!1;const i=Vn(r,n);return!!i&&(this._camera.orientation=i,!0)}_setCameraPosition(t){const r=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;t[2]=e.clamp(t[2],i/n,i/r),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const r=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const n=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(n.x,i.x,o.x,a.x)),l=Math.floor(Math.max(n.x,i.x,o.x,a.x)),c=1;for(let n=s-c;n<=l+c;n++)0!==n&&r.push(new e.UnwrappedTileID(n,t))}return r}coveringTiles(t){let r=this.coveringZoomLevel(t);const n=r,i=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<r,c=[l*a.x,l*a.y,0],u="globe"===this.projection.name,h=!u,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,h),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[l*p.x,l*p.y,m*(h?1:f)],_=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),y=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?r:0,v=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?$n(this):1,w=t=>{const r=1/4e4,n=new e.MercatorCoordinate(t.x+r,t.y,t.z),i=new e.MercatorCoordinate(t.x,t.y+r,t.z),o=t.toLngLat(),a=n.toLngLat(),s=i.toLngLat(),l=this.locationCoordinate(o),c=this.locationCoordinate(a),u=this.locationCoordinate(s),h=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(u.x-l.x,u.y-l.y);return Math.sqrt(h*d)*b/r},T=t=>{const r=v,n=x;return{aabb:e.tileAABB(this,l,0,0,0,t,n,r,this.projection),zoom:0,x:0,y:0,minZ:n,maxZ:r,wrap:t,fullyVisible:!1}},E=[];let S=[];const C=r,M=t.reparseOverscaled?n:r,k=e=>e*e,A=k((m-this._centerAltitude)*f),I=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),r=e.aabb;t?(r.min[2]=t.min,r.max[2]=t.max,r.center[2]=(r.min[2]+r.max[2])/2):(e.shouldSplit=P(e),e.shouldSplit||(r.min[2]=r.max[2]=r.center[2]=this._centerAltitude))},P=t=>{if(t.zoom<y)return!0;if(t.zoom===C)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const r=t.aabb.distanceX(g),o=t.aabb.distanceY(g);let a=A,l=1;if(u){a=k(t.aabb.distanceZ(g));const r=Math.pow(2,t.zoom),n=e.latFromMercatorY((t.y+1)/r),i=e.latFromMercatorY(t.y/r),o=Math.min(Math.max(s,n),i),c=e.circumferenceAtLatitude(o)/e.circumferenceAtLatitude(s);if(l=o===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===C-1&&c>=.9)return!0}else if(i&&(a=k(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&n<=5){const r=Math.pow(2,t.zoom),n=w(new e.MercatorCoordinate((t.x+.5)/r,(t.y+.5)/r));l=n>.85?1:n}const c=r*r+o*o+a;return c<k((1<<C-t.zoom)*_*l*((e,t)=>{if(t*k(.707)<e)return 1;const r=Math.sqrt(t/e);return r/(1.4144271570014144+(Math.pow(1.1,r-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,A),c))};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const n=E.pop(),a=n.x,s=n.y;let h=n.fullyVisible;if(!h){const e=n.aabb.intersects(d);if(0===e)continue;h=2===e}if(n.zoom!==C&&P(n))for(let t=0;t<4;t++){const r=(a<<1)+t%2,c=(s<<1)+(t>>1),d={aabb:o?n.aabb.quadrant(t):e.tileAABB(this,l,n.zoom+1,r,c,n.wrap,n.minZ,n.maxZ,this.projection),zoom:n.zoom+1,x:r,y:c,wrap:n.wrap,fullyVisible:h,tileID:void 0,shouldSplit:void 0,minZ:n.minZ,maxZ:n.maxZ};i&&!u&&(d.tileID=new e.OverscaledTileID(n.zoom+1===C?M:n.zoom+1,n.wrap,n.zoom+1,r,c),I(d)),E.push(d)}else{const i=n.zoom===C?M:n.zoom;if(t.minzoom&&t.minzoom>i)continue;const o=c[0]-(.5+a+(n.wrap<<n.zoom))*(1<<r-n.zoom),l=c[1]-.5-s,u=n.tileID?n.tileID:new e.OverscaledTileID(i,n.wrap,n.zoom,a,s);S.push({tileID:u,distanceSq:o*o+l*l})}}if(this.fogCullDistSq){const r=this.fogCullDistSq,n=this.horizonLineFromTop();S=S.filter(i=>{const o=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(i.tileID.toUnwrapped());e.transformMat4$1(o,o,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(o,a);if(0===l)return!0;let c=!1;const u=this._elevation;if(u&&l>r&&0!==n){const r=this.calculateProjMatrix(i.tileID.toUnwrapped());let o;t.isTerrainDEM||(o=u.getMinMaxForTile(i.tileID)),o||(o={min:x,max:v});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,o.max];e.transformMat4(s,s,r),c=(1-s[1])*this.height*.5<n}return l<r||c})}return S.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const r=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),n=this.projection.project(t.lng,r);return new e.pointGeometry(n.x*this.worldSize,n.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,r){let n,i;const o=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;n=(r.x-o.x)/e,i=(r.y-o.y)/e}else{const e=this.pointCoordinate(r),t=this.pointCoordinate(o);n=e.x-t.x,i=e.y-t.y}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-n,a.y-i))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,r){const n=r?e.mercatorZfromAltitude(r,t.lat):void 0,i=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(i.x,i.y,n)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,r){const n=null!=r?r:this._centerAltitude,i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse);const a=o[3];e.scale$1(i,i,1/i[3]),e.scale$1(o,o,1/a);const s=i[2],l=o[2];return{p0:i,p1:o,t:s===l?0:(n-s)/(l-s)}}screenPointToMercatorRay(t){const r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];return e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse),e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/n[3]),r[2]=e.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,e.scale$1(r,r,1/this.worldSize),e.scale$1(n,n,1/this.worldSize),new e.Ray([r[0],r[1],r[2]],e.normalize([],e.sub([],n,r)))}rayIntersectionCoordinate(t){const{p0:r,p1:n,t:i}=t,o=e.mercatorZfromAltitude(r[2],this._center.lat),a=e.mercatorZfromAltitude(n[2],this._center.lat);return new e.MercatorCoordinate(e.number(r[0],n[0],i)/this.worldSize,e.number(r[1],n[1],i)/this.worldSize,e.number(o,a,i))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let r=this.projection.pointCoordinate3D(this,t.x,t.y);if(r)return new e.MercatorCoordinate(r[0],r[1],r[2]);let n=0,i=this.horizonLineFromTop();if(t.y>i)return this.pointCoordinate(t);const o=.02*i,a=t.clone();for(let t=0;t<10&&i-n>o;t++){a.y=e.number(n,i,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(i=a.y,r=t):n=a.y}return r?new e.MercatorCoordinate(r[0],r[1],r[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,r){const n=r&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,i=[t.x*this.worldSize,t.y*this.worldSize,n+t.toAltitude(),1];return e.transformMat4$1(i,i,this.pixelMatrix),i[3]>0?new e.pointGeometry(i[0]/i[3],i[1]/i[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:t,left:r}=this._edgeInsets,n=this.height-this._edgeInsets.bottom,i=this.width-this._edgeInsets.right,o=this.pointCoordinate3D(new e.pointGeometry(r,t)),a=this.pointCoordinate3D(new e.pointGeometry(i,t)),s=this.pointCoordinate3D(new e.pointGeometry(i,n)),l=this.pointCoordinate3D(new e.pointGeometry(r,n));let c=Math.min(o.x,l.x),u=Math.max(a.x,s.x),h=Math.min(o.y,a.y),d=Math.max(l.y,s.y);const p=Math.pow(2,-this.zoom)/16,f=(t,r,n,i)=>{const o=(t+n)/2,a=(r+i)/2,s=new e.pointGeometry(o,a),l=this.pointCoordinate3D(s),m=Math.max(0,c-l.x,h-l.y,l.x-u,l.y-d);c=Math.min(c,l.x),u=Math.max(u,l.x),h=Math.min(h,l.y),d=Math.max(d,l.y),m>p&&(f(t,r,o,a),f(o,a,n,i))};f(r,t,i,t),f(i,t,i,n),f(i,n,r,n),f(r,n,r,t);const m=new e.LngLat(e.lngFromMercatorX(u),e.latFromMercatorY(h)),g=new e.LngLat(e.lngFromMercatorX(c),e.latFromMercatorY(d));return new e.LngLatBounds(g,m)}_getBounds(t,r){if("globe"===this.projection.name)return this._getGlobeBounds();const n=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(n,t),l=this.pointCoordinate(i,t);const c=this.pointCoordinate(o,r),u=this.pointCoordinate(a,r),h=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-u.y)/h(u,s)+u.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-u.y/h(u,s)+u.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/h(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/h(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);const t=e.visibleDemTiles.reduce((e,t)=>{if(t.dem){const r=t.dem.tree;e.min=Math.min(e.min,r.minimums[0]),e.max=Math.max(e.max,r.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,r=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,r):r}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const r=t.key,n=this._distanceTileDataCache;if(n[r])return n[r];const i=t.canonical,o=1/this.height,a=this.cameraWorldSize/this.zoomScale(i.z),s=(i.x+Math.pow(2,i.z)*t.wrap)*a,l=i.y*a,c=this.point,u=this.angle,h=Math.sin(-u),d=-Math.cos(-u);return n[r]={bearing:[h,d],center:[(c.x-s)*o,(c.y-l)*o],scale:a/e.EXTENT*o},n[r]}calculateFogTileMatrix(t){const r=t.key,n=this._fogTileMatrixCache;if(n[r])return n[r];const i=this.projection.createTileMatrix(this,this.cameraWorldSize,t);return e.multiply(i,this.worldToFogMatrix,i),n[r]=new Float32Array(i),n[r]}calculateProjMatrix(t,r=!1){const n=t.key,i=r?this._alignedProjMatrixCache:this._projMatrixCache;if(i[n])return i[n];const o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:r?this.alignedProjMatrix:this.projMatrix,o),i[n]=new Float32Array(o),i[n]}calculatePixelsToTileUnitsMatrix(t){const r=t.tileID.key,n=this._pixelsToTileUnitsCache;if(n[r])return n[r];const i=function(t,r){const{scale:n}=t.tileTransform,i=n*e.EXTENT/(t.tileSize*Math.pow(2,r.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return o=new Float32Array(4),l=(a=r.inverseAdjustmentMatrix)[1],c=a[2],u=a[3],d=(s=[i,i])[1],o[0]=a[0]*(h=s[0]),o[1]=l*h,o[2]=c*d,o[3]=u*d,o;var o,a,s,l,c,u,h,d}(t,this);return n[r]=i,n[r]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,n=this._computeCameraPosition(r),i=this._camera.forward(),o=e.mercatorZfromAltitude(1,this._center.lat);n[2]/=o,i[2]/=o,e.normalize(i,i);const a=t.raycast(n,i,t.exaggeration());if(a){const t=e.scaleAndAdd([],n,i,a),r=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(r.z+e.length([r.x-n[0],r.y-n[1],r.z-n[2]*o]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=r.toAltitude(),this._center=this.coordinateLocation(r),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,n=this._computeCameraPosition(r),i=t.getAtPointOrZero(new e.MercatorCoordinate(...n)),o=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),a=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*i;if(a<o){const t=this.locationCoordinate(this._center,this._centerAltitude),r=[t.x-n[0],t.y-n[1],t.z-n[2]],i=e.length(r);r[2]-=(o-a)/this._pixelsPerMercatorPixel;const s=e.length(r);if(0===s)return;e.scale$2(r,r,i/s*this._pixelsPerMercatorPixel),this._camera.position=[t.x-r[0],t.y-r[1],t.z*this._pixelsPerMercatorPixel-r[2]],this._camera.orientation=Vn(r,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const r=this.center;return r.lat=e.clamp(r.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(r.lng=e.clamp(r.lng,this.minLng,this.maxLng)),this.center=r,void(this._constraining=!1)}const r=this._unmodified,{x:n,y:i}=this.point;let o=0,a=n,s=i;const l=this.width/2,c=this.height/2,u=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(i-c<u&&(s=u+c),i+c>h&&(s=h-c),h-u<this.height&&(o=Math.max(o,this.height/(h-u)),s=(h+u)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,r=this.worldSize/2-(e+t)/2;a=(n+r+this.worldSize)%this.worldSize-r,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(o=Math.max(o,this.width/(t-e)),a=(t+e)/2)}a===n&&s===i||(this.center=this.unproject(new e.pointGeometry(a,s))),o&&(this.zoom+=this.scaleZoom(o)),this._constrainCameraAltitude(),this._unmodified=r,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,r=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const n=Wn(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,n),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const i=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?r:1),o=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);o[8]=2*-t.x/this.width,o[9]=2*t.y/this.height;let a=e.mul([],o,i);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),r=e.identity([]);e.translate(r,r,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(r,r,Zn(this)),e.translate(r,r,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,r),this.inverseAdjustmentMatrix=function(e){const t=Zn(e,!0);return y([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/r,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],o);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const h=this.point,d=h.x,p=h.y,f=this.width%2/2,m=this.height%2/2,g=Math.cos(this.angle),_=Math.sin(this.angle),v=d-Math.round(d)+g*f+_*m,x=p-Math.round(p)+g*m+_*f,b=new Float64Array(a);if(e.translate(b,b,[v>.5?v-1:v,x>.5?x-1:x,0]),this.alignedProjMatrix=b,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,i),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSize,r=this.cameraPixelsPerMeter,n=this._camera.position,i=1/this.height/this._pixelsPerMercatorPixel,o=[t,t,r];e.scale$2(o,o,i),e.scale$2(n,n,-1),e.multiply$2(n,n,o);const a=e.create();e.translate(a,a,n),e.scale(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,r,i)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,r=this._camera.forward(),n=this.point,i=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[n.x/this.worldSize-r[0]*i,n.y/this.worldSize-r[1]*i,e/this.worldSize*this._centerAltitude-r[2]*i]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const r=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=this._camera.position[2],i=t[2];let o=1;this.projection.wrap&&(this.center=this.center.wrap()),i>0&&(o=Math.min((r-n)/i,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,r=this._camera.forward(),{pitch:n,bearing:i}=this._camera.getPitchBearing(),o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-o)/Math.cos(n),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,r,s),this._pitch=e.clamp(n,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(i,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){const t=t=>{const r=this.getCameraToCenterDistance(this.projection,t);return this.scaleZoom(r/(e*this.tileSize))};let r,n=t(this.zoom),i=Math.abs(n-t(n));for(;r!==i;)n=t(n),r=i,i=Math.abs(n-t(n));return n}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,r){const n=Math.min(t.x,r.x),i=Math.max(t.x,r.x),o=Math.min(t.y,r.y),a=Math.max(t.y,r.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const s=[new e.pointGeometry(n,o),new e.pointGeometry(i,a),new e.pointGeometry(n,a),new e.pointGeometry(i,o)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const r=this.rayIntersectionCoordinate(t);if(r.x<l||r.y<0||r.x>c||r.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,r){const n=e.length(e.sub([],this._camera.position,t)),i=this._zoomFromMercatorZ(n)+r;return n-this._mercatorZfromZoom(i)}getCameraPoint(){if("globe"===this.projection.name){const t=function(t,r){const n=[t[0],t[1],t[2],1];e.transformMat4$1(n,n,r);const i=Math.max(n[3],1e-6);return[n[0]/i,n[1]/i,n[2]/i,i]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom){const r=Wn(e,t,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,this.worldSize,r);return.5/Math.tan(.5*this._fov)*this.height*n}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Jn(e,t){let r=!1,n=null;const i=()=>{n=null,r&&(e(),n=setTimeout(i,t),r=!1)};return()=>(r=!0,n||i(),n)}class Qn{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Jn(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const r=ei(t);if(this._hashName){const t=this._hashName;let n=!1;const i=e.window.location.hash.slice(1).split("&").map(e=>{const i=e.split("=")[0];return i===t?(n=!0,`${i}=${r}`):e}).filter(e=>e);return n||i.push(`${t}=${r}`),"#"+i.join("&")}return"#"+r}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map(e=>e.split("=")).forEach(t=>{t[0]===this._hashName&&(e=t)}),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some(e=>isNaN(e))){const r=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:r,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function ei(e,t){const r=e.getCenter(),n=Math.round(100*e.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(r.lng*o)/o,s=Math.round(r.lat*o)/o,l=e.getBearing(),c=e.getPitch();let u=t?`/${a}/${s}/${n}`:`${n}/${s}/${a}`;return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),u}const ti={linearity:.3,easing:e.bezier(0,0,.3,1)},ri=e.extend({deceleration:2500,maxSpeed:1400},ti),ni=e.extend({deceleration:20,maxSpeed:1400},ti),ii=e.extend({deceleration:1e3,maxSpeed:360},ti),oi=e.extend({deceleration:1e3,maxSpeed:90},ti);class ai{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,r=e.exported.now();for(;t.length>0&&r-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)r.zoom+=e.zoomDelta||0,r.bearing+=e.bearingDelta||0,r.pitch+=e.pitchDelta||0,e.panDelta&&r.pan._add(e.panDelta),e.around&&(r.around=e.around),e.pinchAround&&(r.pinchAround=e.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(r.pan.mag()){const o=li(r.pan.mag(),n,e.extend({},ri,t||{}));i.offset=r.pan.mult(o.amount/r.pan.mag()),i.center=this._map.transform.center,si(i,o)}if(r.zoom){const e=li(r.zoom,n,ni);i.zoom=this._map.transform.zoom+e.amount,si(i,e)}if(r.bearing){const t=li(r.bearing,n,ii);i.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),si(i,t)}if(r.pitch){const e=li(r.pitch,n,oi);i.pitch=this._map.transform.pitch+e.amount,si(i,e)}if(i.zoom||i.bearing){const e=void 0===r.pinchAround?r.around:r.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),i.noMoveStart=!0,i}}function si(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function li(t,r,n){const{maxSpeed:i,linearity:o,deceleration:a}=n,s=e.clamp(t*o/(r/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}class ci extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,r,n,i={}){const o=f(r.getCanvasContainer(),n),a=r.unproject(o);super(t,e.extend({point:o,lngLat:a,originalEvent:n},i)),this._defaultPrevented=!1,this.target=r}}class ui extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,r,n){const i="touchend"===t?n.changedTouches:n.touches,o=m(r.getCanvasContainer(),i),a=o.map(e=>r.unproject(e)),s=o.reduce((e,t,r,n)=>e.add(t.div(n.length)),new e.pointGeometry(0,0));super(t,{points:o,point:s,lngLats:a,lngLat:r.unproject(s),originalEvent:n}),this._defaultPrevented=!1}}class hi extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,r){super(e,{originalEvent:r}),this._defaultPrevented=!1}}class di{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new hi(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new ci(e.type,this._map,e))}mouseup(e){this._map.fire(new ci(e.type,this._map,e))}preclick(t){const r=e.extend({},t);r.type="preclick",this._map.fire(new ci(r.type,this._map,r))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new ci(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new ci(e.type,this._map,e))}mouseover(e){this._map.fire(new ci(e.type,this._map,e))}mouseout(e){this._map.fire(new ci(e.type,this._map,e))}touchstart(e){return this._firePreventable(new ui(e.type,this._map,e))}touchmove(e){this._map.fire(new ui(e.type,this._map,e))}touchend(e){this._map.fire(new ui(e.type,this._map,e))}touchcancel(e){this._map.fire(new ui(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class pi{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new ci(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ci("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new ci(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fi{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const r=t,n=this._startPos,i=this._lastPos;if(!n||!i||i.equals(r)||!this._box&&r.dist(n)<this._clickTolerance)return;this._lastPos=r,this._box||(this._box=o("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(n.x,r.x),s=Math.max(n.x,r.x),l=Math.min(n.y,r.y),c=Math.max(n.y,r.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${a}px,${l}px)`,this._box.style.width=s-a+"px",this._box.style.height=c-l+"px")})}mouseupWindow(t,r){if(!this._active)return;const n=this._startPos,i=r;if(n&&0===t.button){if(this.reset(),p(),n.x!==i.x||n.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(n,i,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),h(),delete this._startPos,delete this._lastPos}_fireEvent(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))}}function mi(e,t){const r={};for(let n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}class gi{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){const r=new e.pointGeometry(0,0);for(const e of t)r._add(e);return r.div(t.length)}(r),this.touches=mi(n,r)))}touchmove(e,t,r){if(this.aborted||!this.centroid)return;const n=mi(r,t);for(const e in this.touches){const t=this.touches[e],r=n[e];(!r||r.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class _i{constructor(e){this.singleTap=new gi(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,r){this.singleTap.touchstart(e,t,r)}touchmove(e,t,r){this.singleTap.touchmove(e,t,r)}touchend(e,t,r){const n=this.singleTap.touchend(e,t,r);if(n){const t=e.timeStamp-this.lastTime<500,r=!this.lastTap||this.lastTap.dist(n)<30;if(t&&r||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class yi{constructor(){this._zoomIn=new _i({numTouches:1,numTaps:2}),this._zoomOut=new _i({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)}touchmove(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)}touchend(e,t,r){const n=this._zoomIn.touchend(e,t,r),i=this._zoomOut.touchend(e,t,r);return n?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(n)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const vi={0:1,2:2};class xi{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const r=g(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}mousemoveWindow(e,t){const r=this._lastPoint;if(r)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const r=vi[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)}mouseupWindow(e){this._lastPoint&&g(e)===this._eventButton&&(this._moved&&p(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bi extends xi{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class wi extends xi{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}}contextmenu(e){e.preventDefault()}}class Ti extends xi{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}}contextmenu(e){e.preventDefault()}}class Ei{constructor(t,r){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=r.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,r){return this._calculateTransform(e,t,r)}touchmove(t,r,n){if(this._active&&!(n.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===n.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,r,n)}}touchend(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,r,n){n.length>0&&(this._active=!0);const i=mi(n,r),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in i){const t=i[e],r=this._touches[e];r&&(o._add(t),a._add(t.sub(r)),s++,i[e]=t)}if(this._touches=i,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Si{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,r){return{}}touchstart(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,r){const n=this._firstTwoTouches;if(!n)return;e.preventDefault();const[i,o]=n,a=Ci(r,t,i),s=Ci(r,t,o);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,r){if(!this._firstTwoTouches)return;const[n,i]=this._firstTwoTouches,o=Ci(r,t,n),a=Ci(r,t,i);o&&a||(this._active&&p(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ci(e,t,r){for(let n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function Mi(e,t){return Math.log(e/t)/Math.LN2}class ki extends Si{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Mi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mi(this._distance,r),pinchAround:t}}}function Ai(e,t){return 180*e.angleWith(t)/Math.PI}class Ii extends Si{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const r=this._vector;if(this._vector=e[0].sub(e[1]),r&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ai(this._vector,r),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,r=this._startVector;if(!r)return!1;const n=Ai(e,r);return Math.abs(n)<t}}function Pi(e){return Math.abs(e.y)>Math.abs(e.x)}class zi extends Si{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,Pi(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,r,n){const i=this._lastPoints;if(!i)return;const o=t[0].sub(i[0]),a=t[1].sub(i[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&n.touches.length<3||(this._valid=this.gestureBeginsVertically(o,a,n.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(o.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,r){if(void 0!==this._valid)return this._valid;const n=e.mag()>=2,i=t.mag()>=2;if(!n&&!i)return;if(!n||!i)return null==this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return Pi(e)&&Pi(t)&&o}}const Di={panStep:100,bearingStep:15,pitchStep:10};class Ri{constructor(){const e=Di;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,r=0,n=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,n=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Li,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+r*this._bearingStep,pitch:a.getPitch()+n*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Li(e){return e*(2-e)}const Oi=4.000244140625;class Bi{constructor(t,r){this._map=t,this._el=t.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const n=e.exported.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%Oi==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=f(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const r=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Oi?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const i=r(),o=Math.pow(2,i),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*n))),"wheel"===this._type&&(this._startZoom=i,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:r(),i=this._startZoom,o=this._easing;let a,s=!1;if("wheel"===this._type&&i&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),r=o(t);a=e.number(i,n,r),t<1?this._frameId||(this._frameId=!0):s=!0}else a=n,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let r=e.ease;if(this._prevEase){const t=this._prevEase,n=(e.exported.now()-t.start)/t.duration,i=t.easing(n+.01)-t.easing(n),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);r=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:r},r}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Fi{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ji{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:r=>{r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ui{constructor(){this._tap=new _i({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))}touchmove(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;const n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)}touchend(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ni{constructor(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Vi{constructor(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Gi{constructor(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const qi=e=>e.zoom||e.drag||e.pitch||e.rotate;class Zi extends e.Event{}class $i{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,r){const n=e.sub([],r,t);this.radius=e.length(n[2]<0?e.div([],n,this.constants):[n[0],n[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const r=e.scale$2([],t,this.radius);if(r[2]>0){const t=e.scale$2([],[0,0,1],e.dot(r,[0,0,1])),n=e.scale$2([],e.normalize([],[r[0],r[1],0]),this.radius),i=e.add([],r,e.scale$2([],e.sub([],e.add([],n,t),r),2));r[0]=i[0],r[1]=i[1]}return r}}function Wi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Xi{constructor(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ai(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new $i,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,r,n]of this._listeners)t.addEventListener(r,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[t,r,n]of this._listeners)t.removeEventListener(r,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new di(t,e));const n=t.boxZoom=new fi(t,e);this._add("boxZoom",n);const i=new yi,o=new ji;t.doubleClickZoom=new Fi(o,i),this._add("tapZoom",i),this._add("clickZoom",o);const a=new Ui;this._add("tapDragZoom",a);const s=t.touchPitch=new zi(t);this._add("touchPitch",s);const l=new wi(e),c=new Ti(e);t.dragRotate=new Vi(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new bi(e),h=new Ei(t,e);t.dragPan=new Ni(r,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);const d=new Ii,p=new ki;t.touchZoomRotate=new Gi(r,p,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new pi(t));const f=t.scrollZoom=new Bi(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new Ri;this._add("keyboard",m);for(const r of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[r]&&t[r].enable(e[r])}_add(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!qi(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,t,r){for(const n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const r of e)this._el.contains(r.target)&&t.push(r);return t}handleEvent(e,t){this._updatingCamera=!0;const r="renderFrame"===e.type,n=r?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):r?void 0:f(this._el,e);for(const{handlerName:r,handler:c,allowed:u}of this._handlers){if(!c.isEnabled())continue;let h;this._blockedByActive(a,u,r)?c.reset():c[t||e.type]&&(h=c[t||e.type](e,l,s),this.mergeHandlerResult(i,o,h,r,n),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||c.isActive())&&(a[r]=c)}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=n);this._previousActiveHandlers=a,(Object.keys(c).length||Wi(i))&&(this._changes.push([i,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||Wi(i))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=i;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,r,n,i,o){if(!n)return;e.extend(t,n);const a={handlerName:i,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(r.zoom=a),void 0!==n.panDelta&&(r.drag=a),void 0!==n.pitchDelta&&(r.pitch=a),void 0!==n.bearingDelta&&(r.rotate=a)}_applyChanges(){const t={},r={},n={};for(const[i,o,a]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.aroundCoord&&(t.aroundCoord=i.aroundCoord),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.extend(r,o),e.extend(n,a);this._updateMapTransform(t,r,n),this._changes=[]}_updateMapTransform(t,r,n){const i=this._map,o=i.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Wi(t)){const e=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",e!==o.zoom&&this._map._update(!0)}if(!Wi(t))return void this._fireEvents(r,n,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:h,aroundCoord:d,pinchAround:p}=t;void 0!==p&&(h=p),(e=>r.drag&&!this._eventsInProgress.drag)()&&h&&(this._dragOrigin=a(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",i._stop(!0),h=h||i.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(s)if("mercator"===o.projection.name){const e=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(s)).dir);f[0]=t[0]-e[0],f[1]=t[1]-e[1]}else{const t=o.pointCoordinate(h);if("globe"===o.projection.name){s=s.rotate(-o.angle);const r=o._pixelsPerMercatorPixel/o.worldSize;f[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*r,f[1]=-s.y*e.mercatorScale(o.center.lat)*r}else{const e=o.pointCoordinate(h.sub(s));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}}const m=o.zoom,g=[0,0,0];if(l){const t=a(d||o.pointCoordinate3D(h)),r={dir:e.normalize([],e.sub([],t,o._camera.position))};if(r.dir[2]<0){const n=o.zoomDeltaToMovement(t,l);e.scale$2(g,r.dir,n)}}const _=e.add(f,f,g);o._translateCameraConstrained(_),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(r,n,!0)}_fireEvents(t,r,n){const i=qi(this._eventsInProgress),o=qi(t),a={};for(const e in t){const{originalEvent:r}=t[e];this._eventsInProgress[e]||(a[e+"start"]=r),this._eventsInProgress[e]=t[e]}!i&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:r}=t[e];this._fireEvent(e,r)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:n}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=r[t]||n,s[e+"end"]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=qi(this._eventsInProgress);if(n&&(i||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),r=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(r(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),r(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{this._frameId=void 0,this.handleEvent(new Zi("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Hi="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Yi extends e.Evented{constructor(t,r){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,r,n){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)}panTo(t,r,n){return this.easeTo(e.extend({center:t},r),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)}resetNorth(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this}resetNorthPitch(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,r){t=e.LngLatBounds.convert(t);const n=r&&r.bearing||0,i=t.getNorthWest(),o=t.getSouthEast();return this._cameraForBounds(this.transform,i,o,n,r)}_extendCameraOptions(t){const r={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:r,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(r,t.padding),t}_minimumAABBFrustumDistance(e,t){const r=t.max[0]-t.min[0],n=t.max[1]-t.min[1];return r/n>e.aspect?r/(2*Math.tan(.5*e.fovX)*e.aspect):n/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,r,n,i,o){const a=t.clone(),s=this._extendCameraOptions(o);a.bearing=i;const l=e.LngLat.convert(r),c=e.LngLat.convert(n),u=.5*(l.lat+c.lat),h=.5*(l.lng+c.lng),d=e.latLngToECEF(u,h),p=e.normalize([],d),f=e.normalize([],e.cross([],p,[0,1,0])),m=e.cross([],f,p),g=[f[0],f[1],f[2],0,m[0],m[1],m[2],0,p[0],p[1],p[2],0,0,0,0,1],_=[d,e.latLngToECEF(l.lat,l.lng),e.latLngToECEF(c.lat,l.lng),e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(l.lat,c.lng),e.latLngToECEF(u,l.lng),e.latLngToECEF(u,c.lng),e.latLngToECEF(l.lat,h),e.latLngToECEF(c.lat,h)];let y=e.Aabb.fromPoints(_.map(t=>[e.dot(f,t),e.dot(m,t),e.dot(p,t)]));const v=e.transformMat4([],y.center,g);0===e.squaredLength(v)&&e.set(v,0,0,1),e.normalize(v,v),e.scale$2(v,v,e.GLOBE_RADIUS),a.center=e.ecefToLatLng(v);const x=a.getWorldToCameraMatrix(),b=e.invert(new Float64Array(16),x);y=e.Aabb.applyTransform(y,e.multiply([],x,g)),e.transformMat4(v,v,x);const w=.5*(y.max[2]-y.min[2]),T=this._minimumAABBFrustumDistance(a,y),E=e.scale$2([],[0,0,1],w),S=e.add(E,v,E),C=T+(0===a.pitch?0:e.distance(v,S)),M=a.globeCenterInViewSpace,k=e.sub([],v,[M[0],M[1],M[2]]);e.normalize(k,k),e.scale$2(k,k,C);const A=e.add([],v,k);e.transformMat4(A,A,b);const I=e.earthRadius/e.GLOBE_RADIUS,P=e.length(A),z=e.mercatorZfromAltitude(P*I-e.earthRadius,0),D=Math.min(a.zoomFromMercatorZAdjusted(z),s.maxZoom);return D>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"mercator"}),a.zoom=D,this._cameraForBounds(a,r,n,i,o)):{center:a.center,zoom:D,bearing:i}}queryTerrainElevation(t,r){const n=this.transform.elevation;return n?(r=e.extend({},{exaggerated:!0},r),n.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,r.exaggerated)):null}_cameraForBounds(t,r,n,i,o){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,r,n,i,o);const a=t.clone(),s=this._extendCameraOptions(o),l=a.padding;a.bearing=i;const c=e.LngLat.convert(r),u=e.LngLat.convert(n),h=new e.LngLat(c.lng,u.lat),d=new e.LngLat(u.lng,c.lat),p=a.project(c),f=a.project(u),m=this.queryTerrainElevation(c),g=this.queryTerrainElevation(u),_=this.queryTerrainElevation(h),y=this.queryTerrainElevation(d),v=[[p.x,p.y,Math.min(m||0,g||0,_||0,y||0)],[f.x,f.y,Math.max(m||0,g||0,_||0,y||0)]];let x=e.Aabb.fromPoints(v);const b=a.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);x=e.Aabb.applyTransform(x,b);const T=e.sub([],x.max,x.min),E=l.left||0,S=l.right||0,C=l.bottom||0,M=l.top||0,{left:k,right:A,top:I,bottom:P}=s.padding,z=.5*(E+S),D=.5*(M+C),R=Math.min(a.scaleZoom(a.scale*Math.min((a.width-(E+S+k+A))/T[0],(a.height-(C+M+P+I))/T[1])),s.maxZoom),L=a.scale/a.zoomScale(R);x=new e.Aabb([x.min[0]-(k+z)*L,x.min[1]-(P+D)*L,x.min[2]],[x.max[0]+(A+z)*L,x.max[1]+(I+D)*L,x.max[2]]);const O=.5*T[2],B=this._minimumAABBFrustumDistance(a,x),F=[0,0,1,0];e.transformMat4$1(F,F,b),e.normalize$2(F,F);const j=e.scale$2([],F,B+O),U=e.add([],x.center,j),N=("number"==typeof s.offset.x&&"number"==typeof s.offset.y?new e.pointGeometry(s.offset.x,s.offset.y):e.pointGeometry.convert(s.offset)).rotate(-e.degToRad(i));x.center[0]-=N.x*L,x.center[1]+=N.y*L,e.transformMat4(x.center,x.center,w),e.transformMat4(U,U,w);const V=[x.center[0],x.center[1],U[2]*a.pixelsPerMeter];e.scale$2(V,V,1/a.worldSize);const G=e.lngFromMercatorX(V[0]),q=e.latFromMercatorY(V[1]),Z=Math.min(a._zoomFromMercatorZ(V[2]),s.maxZoom),$=new e.LngLat(G,q);return a.mercatorFromTransition&&Z<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"globe"}),a.zoom=Z,this._cameraForBounds(a,r,n,i,o)):{center:$,zoom:Z,bearing:i}}fitBounds(e,t,r){const n=this.cameraForBounds(e,t);return this._fitInternal(n,t,r)}fitScreenCoordinates(t,r,n,i,o){const a=e.pointGeometry.convert(t),s=e.pointGeometry.convert(r),l=new e.pointGeometry(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.pointGeometry(Math.max(a.x,s.x),Math.max(a.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const u=this.transform.pointLocation3D(l),h=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),p=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),f=[Math.min(u.lng,h.lng,d.lng,p.lng),Math.min(u.lat,h.lat,d.lat,p.lat)],m=[Math.max(u.lng,h.lng,d.lng,p.lng),Math.max(u.lat,h.lat,d.lat,p.lat)],g=this._cameraForBounds(this.transform,f,m,n,i);return this._fitInternal(g,i,o)}_fitInternal(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this}jumpTo(t,r){this.stop();const n=t.preloadOnly?this.transform.clone():this.transform;let i=!1,o=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),t.preloadOnly?(this._preloadTiles(n),this):(this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),o&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hi),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,r){const n=this.transform;if(!n.projection.supportsFreeCamera)return e.warnOnce(Hi),this;this.stop();const i=n.zoom,o=n.pitch,a=n.bearing;n.setFreeCameraOptions(t);const s=i!==n.zoom,l=o!==n.pitch,c=a!==n.bearing;return this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),s&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),c&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),l&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r)),this}easeTo(t,r){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const n=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:n.padding,d=e.pointGeometry.convert(t.offset);let p,f,m;if("globe"===n.projection.name){const r=e.MercatorCoordinate.fromLngLat(n.center),i=d.rotate(-n.angle);r.x+=i.x/n.worldSize,r.y+=i.y/n.worldSize;const o=r.toLngLat(),a=e.LngLat.convert(t.center||o);this._normalizeCenter(a),p=n.centerPoint.add(i),f=new e.pointGeometry(r.x,r.y).mult(n.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(n.worldSize).sub(f)}else{p=n.centerPoint.add(d);const r=n.pointLocation(p),i=e.LngLat.convert(t.center||r);this._normalizeCenter(i),f=n.project(r),m=n.project(i).sub(f)}const g=n.zoomScale(l-i);let _,y;t.around&&(_=e.LngLat.convert(t.around),y=n.locationPoint(_));const v=this._zooming||l!==i,x=this._rotating||o!==c,b=this._pitching||u!==a,w=!n.isPaddingEqual(h),T=n=>T=>{if(v&&(n.zoom=e.number(i,l,T)),x&&(n.bearing=e.number(o,c,T)),b&&(n.pitch=e.number(a,u,T)),w&&(n.interpolatePadding(s,h,T),p=n.centerPoint.add(d)),_)n.setLocationAtPoint(_,y);else{const e=n.zoomScale(n.zoom-i),t=l>i?Math.min(2,g):Math.max(.5,g),r=Math.pow(t,1-T),o=n.unproject(f.add(m.mult(T*r)).mult(e));n.setLocationAtPoint(n.renderWorldCopies?o.wrap():o,p)}return t.preloadOnly||this._fireMoveEvents(r),n};if(t.preloadOnly){const e=this._emulate(T,t.duration,n);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=v,this._rotating=x,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,E),this._ease(T(n),e=>{n.recenterOnTerrain(),this._afterEase(r,e)},t),this}_prepareEase(t,r,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,r){if(this._easeId&&r&&this._easeId===r)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const n=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,r){if(!t.essential&&e.exported.prefersReducedMotion){const n=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const n=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,n.minZoom,n.maxZoom):i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:n.padding,d=n.zoomScale(l-i),p=e.pointGeometry.convert(t.offset);let f=n.centerPoint.add(p);const m=n.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const _=n.project(m),y=n.project(g).sub(_);let v=t.curve;const x=Math.max(n.width,n.height),b=x/d,w=y.mag();if("minZoom"in t){const r=e.clamp(Math.min(t.minZoom,i,l),n.minZoom,n.maxZoom),o=x/n.zoomScale(r-i);v=Math.sqrt(o/w*2)}const T=v*v;function E(e){const t=(b*b-x*x+(e?-1:1)*T*T*w*w)/(2*(e?b:x)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function S(e){return(Math.exp(e)-Math.exp(-e))/2}function C(e){return(Math.exp(e)+Math.exp(-e))/2}const M=E(0);let k=function(e){return C(M)/C(M+v*e)},A=function(e){return x*((C(M)*(S(t=M+v*e)/C(t))-S(M))/T)/w;var t},I=(E(1)-M)/v;if(Math.abs(w)<1e-6||!isFinite(I)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,r);const e=b<x?-1:1;I=Math.abs(Math.log(b/x))/v,A=function(){return 0},k=function(t){return Math.exp(e*v*t)}}t.duration="duration"in t?+t.duration:1e3*I/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const P=o!==c,z=u!==a,D=!n.isPaddingEqual(h),R=n=>d=>{const m=d*I,v=1/k(m);n.zoom=1===d?l:i+n.scaleZoom(v),P&&(n.bearing=e.number(o,c,d)),z&&(n.pitch=e.number(a,u,d)),D&&(n.interpolatePadding(s,h,d),f=n.centerPoint.add(p));const x=1===d?g:n.unproject(_.add(y.mult(A(m))).mult(v));return n.setLocationAtPoint(n.renderWorldCopies?x.wrap():x,f),n._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(r),n};if(t.preloadOnly){const e=this._emulate(R,t.duration,n);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=P,this._pitching=z,this._padding=D,this._prepareEase(r,!1),this._ease(R(n),()=>this._afterEase(r),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.exported.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),r=this._onEaseFrame;r&&r(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,r){t=e.wrap(t,-180,180);const n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}_emulate(e,t,r){const n=Math.ceil(15*t/1e3),i=[],o=e(r.clone());for(let e=0;e<=n;e++){const t=o(e/n);i.push(t.clone())}return i}}class Ki{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o("button","mapboxgl-ctrl-attrib-button",this._container),o("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const r=this._map._getUIString("AttributionControl."+t);e.setAttribute("aria-label",r),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",r)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const n=r.reduce((e,t,n)=>(t.value&&(e+=`${t.key}=${t.value}${n<r.length-1?"&":""}`),e),"?");t.href=`${e.config.FEEDBACK_URL}/${n}#${ei(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const r in t){const n=t[r];if(n.used){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,r)=>{for(let n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const r=e.join(" | ");r!==this._attribHTML&&(this._attribHTML=r,e.length?(this._innerContainer.innerHTML=r,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Ji{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=o("div","mapboxgl-ctrl");const t=o("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const r=e[t].getSource();if(r.hasOwnProperty("mapbox_logo")&&!r.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Qi{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,r=t?this._queue.concat(t):this._queue;for(const t of r)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const r of t)if(!r.cancelled&&(r.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function eo(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){const i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-n.center.lng)/360),s=n.locationPoint(t).distSqr(r),l=r.x<0||r.y<0||r.x>n.width||r.y>n.height;n.locationPoint(i).distSqr(r)<s&&(l||Math.abs(i.lng-n.center.lng)<a)?t=i:n.locationPoint(o).distSqr(r)<s&&(l||Math.abs(o.lng-n.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){const e=n.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=n.width&&e.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}const to={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class ro extends e.Evented{constructor(t,r){if(super(),(t instanceof e.window.HTMLElement||r)&&(t=e.extend({element:t},r)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o("div");const r=41,n=27,i=a("svg",{display:"block",height:r*this._scale+"px",width:n*this._scale+"px",viewBox:`0 0 ${n} ${r}`},this._element),s=a("radialGradient",{id:"shadowGradient"},a("defs",{},i));a("stop",{offset:"10%","stop-opacity":.4},s),a("stop",{offset:"100%","stop-opacity":.05},s),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},i),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},i),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},i),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},i),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()});const n=this._element.classList;for(const e in to)n.remove("mapboxgl-marker-anchor-"+e);n.add("mapboxgl-marker-anchor-"+this._anchor),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,r=13.5,n=Math.sqrt(Math.pow(r,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-r+n)],"bottom-right":[-n,-1*(t-r+n)],left:[r,-1*(t-r)],right:[-r,-1*(t-r)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const r=e.unproject(t),n=e.getFreeCameraOptions();if(!n.position)return!1;const i=n.position.toLngLat();return i.distanceTo(r)<.9*i.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const r=this._pos;if(!r||r.x<0||r.x>t.transform.width||r.y<0||r.y>t.transform.height)return void this._clearFadeTimer();const n=t.unproject(r);let i;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?i=0:(i=1-t._queryFogOpacity(n),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(i*=this._occludedOpacity)),this._element.style.opacity=""+i,this._element.style.pointerEvents=i>0?"auto":"none",this._popup&&this._popup._setOpacity(i),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${to[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,r=this._map,n=this.getPitchAlignment();if(!r||!t||"map"!==n)return"";if(!r._showingGlobe()){const e=r.getPitch();return e?`rotateX(${e}deg)`:""}const i=e.radToDeg(e.globeTiltAtLngLat(r.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(r.transform)),a=Math.abs(o.x)+Math.abs(o.y);if(0===a)return"";const s=i/a;return`rotateX(${-o.y*s}deg) rotateY(${o.x*s}deg)`}_calculateZTransform(){const t=this._pos,r=this._map;if(!r||!t)return"";let n=0;const i=this.getRotationAlignment();if("map"===i)if(r._showingGlobe()){const t=r.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),i=r.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);n=e.radToDeg(Math.atan2(i.y,i.x))-90}else n=-r.getBearing();else if("horizon"===i){const i=e.smoothstep(4,6,r.getZoom()),o=e.globeCenterToScreenPoint(r.transform);o.y+=i*r.transform.height;const a=t.sub(o),s=e.radToDeg(Math.atan2(a.y,a.x));n=(s>90?s-270:s+90)*(1-i)}return n+=this._rotation,n?`rotateZ(${n}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const r=this._map;r&&(r.transform.renderWorldCopies&&(this._lngLat=eo(this._lngLat,this._pos,r.transform)),this._pos=r.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),r._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(r._showingGlobe()||r.getTerrain()||r.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const r=this._map;if(!r)return;const n=this._pointerdownPos,i=this._positionDelta;if(n&&i){if(!this._isDragging){const e=this._clickTolerance||r._clickTolerance;if(t.point.dist(n)<e)return;this._isDragging=!0}this._pos=t.point.sub(i),this._lngLat=r.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,r=this._pos;t&&r&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(r),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const no={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},io=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function oo(t=new e.pointGeometry(0,0),r="bottom"){if("number"==typeof t){const n=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(r){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(n,n);case"top-right":return new e.pointGeometry(-n,n);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(n,-n);case"bottom-right":return new e.pointGeometry(-n,-n);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[r]||[0,0])}class ao{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const r=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-r)+this._end*r}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,r){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+r}}const so={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},lo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function co(e){e.parentNode&&e.parentNode.removeChild(e)}const uo={showCompass:!0,showZoom:!0,visualizePitch:!1};class ho{constructor(t,r,n=!1){this._clickTolerance=10,this.element=r,this.mouseRotate=new wi({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,n&&(this.mousePitch=new Ti({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener("mousedown",this.mousedown),r.addEventListener("touchstart",this.touchstart,{passive:!1}),r.addEventListener("touchmove",this.touchmove),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),u()}move(e,t){const r=this.map,n=this.mouseRotate.mousemoveWindow(e,t),i=n&&n.bearingDelta;if(i&&r.setBearing(r.getBearing()+i),this.mousePitch){const n=this.mousePitch.mousemoveWindow(e,t),i=n&&n.pitchDelta;i&&r.setPitch(r.getPitch()+i)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){h(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),f(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,f(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const po={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},fo={maxWidth:100,unit:"metric"};function mo(e,t,r){const n=go(t),i=n/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[r];this._map._requestDomTask(()=>{this._container.style.width=e*i+"px",this._container.innerHTML=`${n}&nbsp;${o}`})}function go(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:r>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(r),t*r}const _o={version:e.version,supported:r,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Yi{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},lo,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Kn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Qi,this._domRenderTaskQueue=new Qi,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},so,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ao(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Xi(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Qn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Ki({customAttribution:t.customAttribution})),this._logoControl=new Ji,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})}_getMapId(){return this._mapId}addControl(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),r&&this.fire(new e.Event("moveend",t)),this}getBounds(){return"globe"===this.transform.projection.name&&e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map(t=>"auto"===t?e.window.navigator.language:t):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,r=t.projection.name;let n;"globe"===r&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),n=!0):"mercator"===r&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),n=!0),n&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let r;if(r="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),r){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(e,t,r){if("mouseenter"===e||"mouseover"===e){let n=!1;const i=i=>{const o=t.filter(e=>this.getLayer(e)),a=o.length?this.queryRenderedFeatures(i.point,{layers:o}):[];a.length?n||(n=!0,r.call(this,new ci(e,this,i.originalEvent,{features:a}))):n=!1},o=()=>{n=!1};return{layers:new Set(t),listener:r,delegates:{mousemove:i,mouseout:o}}}if("mouseleave"===e||"mouseout"===e){let n=!1;const i=i=>{const o=t.filter(e=>this.getLayer(e));(o.length?this.queryRenderedFeatures(i.point,{layers:o}):[]).length?n=!0:n&&(n=!1,r.call(this,new ci(e,this,i.originalEvent)))},o=t=>{n&&(n=!1,r.call(this,new ci(e,this,t.originalEvent)))};return{layers:new Set(t),listener:r,delegates:{mousemove:i,mouseout:o}}}{const n=e=>{const n=t.filter(e=>this.getLayer(e)),i=n.length?this.queryRenderedFeatures(e.point,{layers:n}):[];i.length&&(e.features=i,r.call(this,e),delete e.features)};return{layers:new Set(t),listener:r,delegates:{[e]:n}}}}on(e,t,r){if(void 0===r)return super.on(e,t);Array.isArray(t)||(t=[t]);const n=this._createDelegatedListener(e,t,r);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n);for(const e in n.delegates)this.on(e,n.delegates[e]);return this}once(e,t,r){if(void 0===r)return super.once(e,t);Array.isArray(t)||(t=[t]);const n=this._createDelegatedListener(e,t,r);for(const e in n.delegates)this.once(e,n.delegates[e]);return this}off(e,t,r){if(void 0===r)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const n=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0},i=this._delegatedListeners?this._delegatedListeners[e]:void 0;return i&&(e=>{for(let i=0;i<e.length;i++){const o=e[i];if(o.listener===r&&n(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(i,1),this}}})(i),this}queryRenderedFeatures(t,r){return this.style?(void 0!==r||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(r=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],r=r||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&r.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(t,r))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new er(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new er(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,r){if("string"==typeof t){const n=this._requestManager.normalizeStyleURL(t),i=this._requestManager.transformRequest(n,e.ResourceType.Style);e.getJSON(i,(t,n)=>{t?this.fire(new e.ErrorEvent(t)):n&&this._updateDiff(n,r)})}else"object"==typeof t&&this._updateDiff(t,r)}_updateDiff(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(t,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const r=e[t]._tiles;for(const e in r){const t=r[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,r){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,r,{pixelRatio:n=1,sdf:i=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap){const{width:l,height:c,data:u}=e.exported.getImageData(r);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:n,stretchX:o,stretchY:a,content:s,sdf:i,version:0})}else if(void 0===r.width||void 0===r.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=r,u=r;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u.data)),pixelRatio:n,stretchX:o,stretchY:a,content:s,sdf:i,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}updateImage(t,r){const n=this.style.getImage(t);if(!n)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap?e.exported.getImageData(r):r,{width:o,height:a}=i;void 0!==o&&void 0!==a?o===n.data.width&&a===n.data.height?(n.data.replace(i.data,!(r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap)),this.style.updateImage(t,n)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${o}, ${a})\n                must be that same as the previous version of the image\n                (${n.data.width}, ${n.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(t,n)=>{r(t,n instanceof e.window.HTMLImageElement?e.exported.getImageData(n):n)})}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)}setFilter(e,t,r={}){return this.style.setFilter(e,t,r),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,r,n={}){return this.style.setPaintProperty(e,t,r,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,r,n={}){return this.style.setLayoutProperty(e,t,r,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let n,i,o,a=this._container;for(;a&&(!i||!o);){const t=e.window.getComputedStyle(a).transform;t&&"none"!==t&&(n=t.match(/matrix.*\((.+)\)/)[1].split(", "),n[0]&&"0"!==n[0]&&"1"!==n[0]&&(i=n[0]),n[3]&&"0"!==n[3]&&"1"!==n[3]&&(o=n[3])),a=a.parentElement}this._containerWidth=i?Math.abs(t/i):t,this._containerHeight=o?Math.abs(r/o):r}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=o("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=o("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=o("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const r=this._controlContainer=o("div","mapboxgl-control-container",e),n=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{n[e]=o("div","mapboxgl-ctrl-"+e,r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,r){const n=e.exported.devicePixelRatio||1;this._canvas.width=n*Math.ceil(t),this._canvas.height=n*Math.ceil(r),this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},r.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);n?(e.storeAuthState(n,!0),this.painter=new Fn(n,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),e.exported$1.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let r;const n=this.painter.context.extTimerQuery,i=e.exported.now();if(this.listens("gpu-timing-frame")&&(r=n.createQueryEXT(),n.beginQueryEXT(n.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();let o=!1;const a=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,r=this.transform.pitch,n=e.exported.now();this.style.zoomHistory.update(t,n);const i=new e.EvaluationParameters(t,{now:n,fadeDuration:a,pitch:r,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=i.crossFadingFactor();1===s&&s===this._crossFadingFactor||(o=!0,this._crossFadingFactor=s),this.style.update(i)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let s=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),s=this._updateAverageElevation(i),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):s=this._updateAverageElevation(i),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const t=e.exported.now()-i;n.endQueryEXT(n.TIME_ELAPSED_EXT,r),setTimeout(()=>{const o=n.getQueryObjectEXT(r,n.QUERY_RESULT_EXT)/1e6;n.deleteQueryEXT(r),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:o})),e.window.performance.mark("frame-gpu",{startTime:i,detail:{gpuTime:o}})},50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout(()=>{const r=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:r}))},50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const r=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:r}))},50)}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(l||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(i,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const r=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&r(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let n=this.transform.sampleAverageElevation(),i=!1;this.transform.elevation&&(i=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(n)?n=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-n);if(o>1){if(this._isInitialLoad||i)return this._averageElevation.jumpTo(n),r(n);this._averageElevation.easeTo(n,e,300)}else if(o>1e-4)return this._averageElevation.jumpTo(n),r(n)}return!!this._averageElevation.isEasing(e)&&r(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Ji&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const r=this.painter.context.gl,n=r.createFramebuffer();function i(e){r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);const t=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);return r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,t),t}return r.bindFramebuffer(r.FRAMEBUFFER,n),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}_canvasPixelComparison(e,t,r){let n=r[1]-r[0];const i=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);n+=(r[o+2]-r[o+1])*(1-s/i)}return n}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),co(this._canvasContainer),co(this._controlContainer),co(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_preloadTiles(t){const r=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(r,(e,r)=>e._preloadTiles(t,r),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,r){e.setCacheLimits(t,r)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},uo,t),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>{this._map&&this._map.zoomIn({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>{this._map&&this._map.zoomOut({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))}),this._compassIcon=o("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),r=t===e.getMaxZoom(),n=t===e.getMinZoom();this._zoomInButton.disabled=r,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",r.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=t)})}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ho(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const r=o("button",e,this._container);return r.type="button",r.addEventListener("click",t),r}_setButtonTitle(e,t){if(!this._map)return;const r=this._map._getUIString("NavigationControl."+t);e.setAttribute("aria-label",r),e.firstElementChild&&e.firstElementChild.setAttribute("title",r)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},po,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Jn(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const r=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(e=>r("denied"!==e.state)).catch(()=>r()):r()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),r=e.coords;return!!t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),o,{geolocateSource:!0})}_updateMarker(t){if(t){const r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,r=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,n=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=n+"px",this._circleElement.style.height=n+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=o("button","mapboxgl-ctrl-geolocate",this._container),o("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o("div","mapboxgl-user-location"),this._dotElement.appendChild(o("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ro({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ro({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))})}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(e=>{"granted"===e&&t()}).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ki,ScaleControl:class{constructor(t){this.options=e.extend({},fo,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=mo.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,r=t._containerHeight/2,n=t._containerWidth/2-e/2,i=t.unproject([n,r]),o=t.unproject([n+e,r]),a=i.distanceTo(o);if("imperial"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,a/1852,"nautical-mile"):a>=1e3?this._setScale(e,a/1e3,"kilometer"):this._setScale(e,a,"meter")}_setScale(e,t,r){const n=go(t),i=n/t;this._map._requestDomTask(()=>{this._container.style.width=e*i+"px",this._container.innerHTML="nautical-mile"!==r?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:r}).format(n):n+"&nbsp;nm"})}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=o("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(no),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const r=e.window.document.createDocumentFragment(),n=e.window.document.createElement("body");let i;for(n.innerHTML=t;i=n.firstChild,i;)r.appendChild(i);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=o("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=o("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,r=this._container,n=this._pos;if(!t||!r||!n)return"bottom";const i=r.offsetWidth,o=r.offsetHeight,a=n.x<i/2,s=n.x>t.transform.width-i/2;if(n.y+e<o)return a?"top-left":s?"top-right":"top";if(n.y>t.transform.height-o){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-"+this._anchor),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const r=this._map,n=this._content;if(!r||!this._lngLat&&!this._trackPointer||!n)return;let i=this._container;if(i||(i=this._container=o("div","mapboxgl-popup",r.getContainer()),this._tip=o("div","mapboxgl-popup-tip",i),i.appendChild(n)),this.options.maxWidth&&i.style.maxWidth!==this.options.maxWidth&&(i.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=eo(this._lngLat,this._pos,r.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:r.project(this._lngLat),n=oo(this.options.offset),i=this._anchor=this._getAnchor(n.y),o=oo(this.options.offset,i),a=e.add(o).round();r._requestDomTask(()=>{this._container&&i&&(this._container.style.transform=`${to[i]} translate(${a.x}px,${a.y}px)`)})}if(!this._marker&&r._showingGlobe()){const t=e.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(io);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=""+e),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:ro,Style:er,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Gn,Evented:e.Evented,config:e.config,prewarm:function(){Ne().acquire(Fe)},clearPrewarmedResources:function(){const e=Ue;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Fe),Ue=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return je.workerCount},set workerCount(e){je.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return _o})),n}()}()}).call(this,r(142))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(5)),o=n(r(4)),a=n(r(2)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(n(r(6)),r(7),n(r(9))),u=function(e){var t={};return e.shadows.forEach((function(e,r){t["elevation".concat(r)]={boxShadow:e}})),(0,a.default)({root:{backgroundColor:e.palette.background.paper},rounded:{borderRadius:e.shape.borderRadius}},t)};function h(e){var t=e.classes,r=e.className,n=e.component,c=e.square,u=e.elevation,h=(0,o.default)(e,["classes","className","component","square","elevation"]),d=(0,l.default)(t.root,t["elevation".concat(u)],(0,i.default)({},t.rounded,!c),r);return s.default.createElement(n,(0,a.default)({className:d},h))}t.styles=u,h.defaultProps={component:"div",elevation:2,square:!1};var d=(0,c.default)(u,{name:"MuiPaper"})(h);t.default=d},,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(148))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(4)),a=n(r(1)),s=(n(r(3)),n(r(8))),l=n(r(149)),c=n(r(170)),u=n(r(178)),h=r(16),d=n(r(9)),p=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.action.disabled}}}};t.styles=p;var f=a.default.createElement(c.default,null),m=a.default.createElement(u.default,null);function g(e){var t=e.classes,r=e.color,n=(0,o.default)(e,["classes","color"]);return a.default.createElement(l.default,(0,i.default)({type:"radio",icon:f,checkedIcon:m,classes:{root:(0,s.default)(t.root,t["color".concat((0,h.capitalize)(r))]),checked:t.checked,disabled:t.disabled}},n))}g.defaultProps={color:"secondary"};var _=(0,d.default)(p,{name:"MuiRadio"})(g);t.default=_},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(8))),f=n(r(37)),m=n(r(9)),g=n(r(150)),_={root:{display:"inline-flex",alignItems:"center",transition:"none","&:hover":{backgroundColor:"transparent"}},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}};t.styles=_;var y=function(e){function t(e){var r;return(0,s.default)(this,t),(r=(0,c.default)(this,(0,u.default)(t).call(this))).handleFocus=function(e){r.props.onFocus&&r.props.onFocus(e);var t=r.props.muiFormControl;t&&t.onFocus&&t.onFocus(e)},r.handleBlur=function(e){r.props.onBlur&&r.props.onBlur(e);var t=r.props.muiFormControl;t&&t.onBlur&&t.onBlur(e)},r.handleInputChange=function(e){var t=e.target.checked;r.isControlled||r.setState({checked:t}),r.props.onChange&&r.props.onChange(e,t)},r.isControlled=null!=e.checked,r.state={},r.isControlled||(r.state.checked=void 0!==e.defaultChecked&&e.defaultChecked),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.autoFocus,n=t.checked,s=t.checkedIcon,l=t.classes,c=t.className,u=t.defaultChecked,h=t.disabled,f=t.icon,m=t.id,_=t.inputProps,y=t.inputRef,v=t.muiFormControl,x=t.name,b=(t.onBlur,t.onChange,t.onFocus,t.readOnly),w=t.required,T=t.tabIndex,E=t.type,S=t.value,C=(0,a.default)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),M=h;v&&void 0===M&&(M=v.disabled);var k=this.isControlled?n:this.state.checked,A="checkbox"===E||"radio"===E;return d.default.createElement(g.default,(0,i.default)({component:"span",className:(0,p.default)(l.root,(e={},(0,o.default)(e,l.checked,k),(0,o.default)(e,l.disabled,M),e),c),disabled:M,tabIndex:null,role:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},C),k?s:f,d.default.createElement("input",(0,i.default)({autoFocus:r,checked:n,defaultChecked:u,className:l.input,disabled:M,id:A&&m,name:x,onChange:this.handleInputChange,readOnly:b,ref:y,required:w,tabIndex:T,type:E,value:S},_)))}}]),t}(d.default.Component),v=(0,m.default)(_,{name:"MuiPrivateSwitchBase"})((0,f.default)(y));t.default=v},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(151))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(9))),u=r(42),h=n(r(152)),d=r(16),p=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,u.fade)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function f(e){var t,r=e.children,n=e.classes,c=e.className,u=e.color,p=e.disabled,f=(0,a.default)(e,["children","classes","className","color","disabled"]);return s.default.createElement(h.default,(0,i.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n["color".concat((0,d.capitalize)(u))],"default"!==u),(0,o.default)(t,n.disabled,p),t),c),centerRipple:!0,focusRipple:!0,disabled:p},f),s.default.createElement("span",{className:n.label},r))}t.styles=p,f.defaultProps={color:"default",disabled:!1};var m=(0,c.default)(p,{name:"MuiIconButton"})(f);t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(153))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(33)),p=n(r(1)),f=(n(r(3)),n(r(19))),m=n(r(8)),g=(r(7),n(r(154))),_=n(r(9)),y=n(r(155)),v=r(157),x=n(r(158)),b=n(r(169)),w={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};t.styles=w;var T=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).state={},r.keyDown=!1,r.focusVisibleCheckTime=50,r.focusVisibleMaxCheckTimes=5,r.handleMouseDown=(0,b.default)((0,d.default)((0,d.default)(r)),"MouseDown","start",(function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})})),r.handleMouseUp=(0,b.default)((0,d.default)((0,d.default)(r)),"MouseUp","stop"),r.handleMouseLeave=(0,b.default)((0,d.default)((0,d.default)(r)),"MouseLeave","stop",(function(e){r.state.focusVisible&&e.preventDefault()})),r.handleTouchStart=(0,b.default)((0,d.default)((0,d.default)(r)),"TouchStart","start"),r.handleTouchEnd=(0,b.default)((0,d.default)((0,d.default)(r)),"TouchEnd","stop"),r.handleTouchMove=(0,b.default)((0,d.default)((0,d.default)(r)),"TouchMove","stop"),r.handleContextMenu=(0,b.default)((0,d.default)((0,d.default)(r)),"ContextMenu","stop"),r.handleBlur=(0,b.default)((0,d.default)((0,d.default)(r)),"Blur","stop",(function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})})),r.onRippleRef=function(e){r.ripple=e},r.onFocusVisibleHandler=function(e){r.keyDown=!1,r.setState({focusVisible:!0}),r.props.onFocusVisible&&r.props.onFocusVisible(e)},r.handleKeyDown=function(e){var t=r.props,n=t.component,i=t.focusRipple,o=t.onKeyDown,a=t.onClick;i&&!r.keyDown&&r.state.focusVisible&&r.ripple&&" "===e.key&&(r.keyDown=!0,e.persist(),r.ripple.stop(e,(function(){r.ripple.start(e)}))),o&&o(e),e.target!==e.currentTarget||!n||"button"===n||" "!==e.key&&"Enter"!==e.key||"A"===r.button.tagName&&r.button.href||(e.preventDefault(),a&&a(e))},r.handleKeyUp=function(e){r.props.focusRipple&&" "===e.key&&r.ripple&&r.state.focusVisible&&(r.keyDown=!1,e.persist(),r.ripple.stop(e,(function(){r.ripple.pulsate(e)}))),r.props.onKeyUp&&r.props.onKeyUp(e)},r.handleFocus=function(e){r.props.disabled||(r.button||(r.button=e.currentTarget),e.persist(),(0,v.detectFocusVisible)((0,d.default)((0,d.default)(r)),r.button,(function(){r.onFocusVisibleHandler(e)})),r.props.onFocus&&r.props.onFocus(e))},r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.button=f.default.findDOMNode(this),(0,v.listenForFocusKeys)((0,g.default)(this.button)),this.props.action&&this.props.action({focusVisible:function(){e.setState({focusVisible:!0}),e.button.focus()}})}},{key:"componentDidUpdate",value:function(e,t){this.props.focusRipple&&!this.props.disableRipple&&!t.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function(){var e,t=this.props,r=(t.action,t.buttonRef),n=t.centerRipple,s=t.children,l=t.classes,c=t.className,u=t.component,h=t.disabled,d=t.disableRipple,f=(t.disableTouchRipple,t.focusRipple,t.focusVisibleClassName),g=(t.onBlur,t.onFocus,t.onFocusVisible,t.onKeyDown,t.onKeyUp,t.onMouseDown,t.onMouseLeave,t.onMouseUp,t.onTouchEnd,t.onTouchMove,t.onTouchStart,t.tabIndex),_=t.TouchRippleProps,v=t.type,b=(0,a.default)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),w=(0,m.default)(l.root,(e={},(0,o.default)(e,l.disabled,h),(0,o.default)(e,l.focusVisible,this.state.focusVisible),(0,o.default)(e,f,this.state.focusVisible),e),c),T=u;"button"===T&&b.href&&(T="a");var E={};return"button"===T?(E.type=v||"button",E.disabled=h):E.role="button",p.default.createElement(T,(0,i.default)({className:w,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu,ref:r,tabIndex:h?"-1":g},E,b),s,d||h?null:p.default.createElement(y.default,null,p.default.createElement(x.default,(0,i.default)({innerRef:this.onRippleRef,center:n},_))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.focusVisible||!t.prevState&&e.disabled&&t.focusVisible?{focusVisible:!1,lastDisabled:e.disabled}:{lastDisabled:e.disabled}}}]),t}(p.default.Component);T.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var E=(0,_.default)(w,{name:"MuiButtonBase"})(T);t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(58));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=(0,i.default)(e);return r.defaultView||r.parentView||t};t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(156))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(10)),o=n(r(11)),a=n(r(12)),s=n(r(13)),l=n(r(14)),c=n(r(1)),u=(n(r(3)),r(7),function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=(0,a.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,r.state={mounted:!1},r}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.props.defer?requestAnimationFrame((function(){requestAnimationFrame((function(){e.mounted&&e.setState({mounted:!0})}))})):this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallback;return this.state.mounted?t:r}}]),t}(c.default.Component));u.defaultProps={defer:!1,fallback:null};var h=u;t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.detectFocusVisible=function e(t,r,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout((function(){var l=a((0,i.default)(r));o.focusKeyPressed&&(l===r||r.contains(l))?n():s<t.focusVisibleMaxCheckTimes&&e(t,r,n,s+1)}),t.focusVisibleCheckTime)},t.listenForFocusKeys=function(e){e.addEventListener("keyup",l)};n(r(6));var i=n(r(58)),o={focusKeyPressed:!1,keyUpEventTimeout:-1};function a(e){for(var t=e.activeElement;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}var s=[9,13,27,32,37,38,39,40];var l=function(e){(function(e){return s.indexOf(e.keyCode)>-1})(e)&&(o.focusKeyPressed=!0,clearTimeout(o.keyUpEventTimeout),o.keyUpEventTimeout=setTimeout((function(){o.focusKeyPressed=!1}),500))}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.DELAY_RIPPLE=void 0;var i=n(r(2)),o=n(r(4)),a=n(r(159)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(33)),p=n(r(1)),f=(n(r(3)),n(r(19))),m=n(r(164)),g=n(r(8)),_=n(r(9)),y=n(r(166));t.DELAY_RIPPLE=80;var v=function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};t.styles=v;var x=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).state={nextKey:0,ripples:[]},r.pulsate=function(){r.start({},{pulsate:!0})},r.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,o=void 0!==i&&i,a=t.center,s=void 0===a?r.props.center||t.pulsate:a,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&r.ignoringMouseDown)r.ignoringMouseDown=!1;else{"touchstart"===e.type&&(r.ignoringMouseDown=!0);var u,h,p,m=c?null:f.default.findDOMNode((0,d.default)((0,d.default)(r))),g=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(g.width/2),h=Math.round(g.height/2);else{var _=e.clientX?e.clientX:e.touches[0].clientX,y=e.clientY?e.clientY:e.touches[0].clientY;u=Math.round(_-g.left),h=Math.round(y-g.top)}if(s)(p=Math.sqrt((2*Math.pow(g.width,2)+Math.pow(g.height,2))/3))%2==0&&(p+=1);else{var v=2*Math.max(Math.abs((m?m.clientWidth:0)-u),u)+2,x=2*Math.max(Math.abs((m?m.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(v,2)+Math.pow(x,2))}e.touches?(r.startTimerCommit=function(){r.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:n})},r.startTimer=setTimeout((function(){r.startTimerCommit&&(r.startTimerCommit(),r.startTimerCommit=null)}),80)):r.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:n})}},r.startCommit=function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,o=e.rippleSize,s=e.cb;r.setState((function(e){return{nextKey:e.nextKey+1,ripples:[].concat((0,a.default)(e.ripples),[p.default.createElement(y.default,{key:e.nextKey,classes:r.props.classes,timeout:{exit:550,enter:550},pulsate:t,rippleX:n,rippleY:i,rippleSize:o})])}}),s)},r.stop=function(e,t){clearTimeout(r.startTimer);var n=r.state.ripples;if("touchend"===e.type&&r.startTimerCommit)return e.persist(),r.startTimerCommit(),r.startTimerCommit=null,void(r.startTimer=setTimeout((function(){r.stop(e,t)})));r.startTimerCommit=null,n&&n.length&&r.setState({ripples:n.slice(1)},t)},r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),r=e.className,n=(0,o.default)(e,["center","classes","className"]);return p.default.createElement(m.default,(0,i.default)({component:"span",enter:!0,exit:!0,className:(0,g.default)(t.root,r)},n),this.state.ripples)}}]),t}(p.default.PureComponent);x.defaultProps={center:!1};var b=(0,_.default)(v,{flip:!1,name:"MuiTouchRipple"})(x);t.default=b},function(e,t,r){var n=r(160),i=r(161),o=r(162),a=r(163);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(59);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(59);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(3)),i=s(r(1)),o=r(60),a=r(165);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){function t(t,r){var n,i=(n=e.call(this,t,r)||this).handleExited.bind(c(c(n)));return n.state={handleExited:i,firstRender:!0},n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,n):(0,a.getNextChildMapping)(e,r,n),firstRender:!1}},r.handleExited=function(e,t){var r=(0,a.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=l({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["component","childFactory"]),o=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?o:i.default.createElement(t,n,o)},t}(i.default.Component);h.childContextTypes={transitionGroup:n.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(h);t.default=d,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:a(r,"appear",e),enter:a(r,"enter",e),exit:a(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,n.isValidElement)(o)){var c=i in t,u=i in s,h=t[i],d=(0,n.isValidElement)(h)&&!h.props.in;!u||c&&!d?u||!c||d?u&&c&&(0,n.isValidElement)(h)&&(l[i]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,n.cloneElement)(o,{in:!1}):l[i]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var n=r(1);function i(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function o(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var c=i[l][n];s[i[l][n]]=r(c)}s[l]=r(l)}for(n=0;n<o.length;n++)s[o[n]]=r(o[n]);return s}function a(e,t,r){return null!=r[t]?r[t]:e.props[t]}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(8))),f=n(r(167)),m=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).state={visible:!1,leaving:!1},r.handleEnter=function(){r.setState({visible:!0})},r.handleExit=function(){r.setState({leaving:!0})},r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,r=this.props,n=r.classes,s=r.className,l=r.pulsate,c=r.rippleX,u=r.rippleY,h=r.rippleSize,m=(0,a.default)(r,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),g=this.state,_=g.visible,y=g.leaving,v=(0,p.default)(n.ripple,(e={},(0,o.default)(e,n.rippleVisible,_),(0,o.default)(e,n.ripplePulsate,l),e),s),x={width:h,height:h,top:-h/2+u,left:-h/2+c},b=(0,p.default)(n.child,(t={},(0,o.default)(t,n.childLeaving,y),(0,o.default)(t,n.childPulsate,l),t));return d.default.createElement(f.default,(0,i.default)({onEnter:this.handleEnter,onExit:this.handleExit},m),d.default.createElement("span",{className:v,style:x},d.default.createElement("span",{className:b})))}}]),t}(d.default.Component);m.defaultProps={pulsate:!1};var g=m;t.default=g},function(e,t,r){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(3)),i=s(r(1)),o=s(r(19)),a=r(60);r(168);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i="exited",n.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:i},n.nextCallback=null,n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?"entering"!==r&&"entered"!==r&&(t="entering"):"entering"!==r&&"entered"!==r||(t="exiting")}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=o.default.findDOMNode(this);"entering"===t?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},r.performEnter=function(e,t){var r=this,n=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||n?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){r.props.onEntering(e,i),r.onTransitionEnd(e,a,(function(){r.safeSetState({status:"entered"},(function(){r.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){r.props.onEntered(e)}))},r.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var o=i.default.Children.only(r);return i.default.cloneElement(o,n)},t}(i.default.Component);function c(){}l.contextTypes={transitionGroup:n.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var u=(0,a.polyfill)(l);t.default=u},function(e,t,r){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;!function(e){e&&e.__esModule}(r(3));t.timeoutsShape=null;t.classNamesShape=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t,r,n){return function(i){n&&n.call(e,i);var o=!1;return i.defaultPrevented&&(o=!0),e.props.disableTouchRipple&&"Blur"!==t&&(o=!0),!o&&e.ripple&&e.ripple[r](i),"function"==typeof e.props["on".concat(t)]&&e.props["on".concat(t)](i),!0}};"undefined"==typeof window&&(n=function(){return function(){}});var i=n;t.default=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)),o=n(r(61)),a=n(r(64)),s=i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return i.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(172)),o=r(1),a=(n(r(62)),n(r(63)),function(e){return function(t){var r=(0,o.createFactory)(t);return function(t){function n(){return t.apply(this,arguments)||this}(0,i.default)(n,t);var o=n.prototype;return o.shouldComponentUpdate=function(t){return e(this.props,t)},o.render=function(){return r(this.props)},n}(o.Component)}});t.default=a},function(e,t,r){var n=r(56);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t){return function(r){return r[e]=t,r}};t.default=n},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0};t.default=n},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(176)).default;t.default=i},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!n.call(t,r[a])||!i(e[r[a]],t[r[a]]))return!1;return!0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(9))),u=r(16),h=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:24,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:20},fontSizeLarge:{fontSize:35}}};function d(e){var t,r=e.children,n=e.classes,c=e.className,h=e.color,d=e.component,p=e.fontSize,f=e.nativeColor,m=e.titleAccess,g=e.viewBox,_=(0,a.default)(e,["children","classes","className","color","component","fontSize","nativeColor","titleAccess","viewBox"]);return s.default.createElement(d,(0,i.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n["color".concat((0,u.capitalize)(h))],"inherit"!==h),(0,o.default)(t,n["fontSize".concat((0,u.capitalize)(p))],"default"!==p),t),c),focusable:"false",viewBox:g,color:f,"aria-hidden":m?"false":"true",role:m?"img":"presentation"},_),r,m?s.default.createElement("title",null,m):null)}t.styles=h,d.defaultProps={color:"inherit",component:"svg",fontSize:"default",viewBox:"0 0 24 24"},d.muiName="SvgIcon";var p=(0,c.default)(h,{name:"MuiSvgIcon"})(d);t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)),o=n(r(61)),a=n(r(64)),s=i.default.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return i.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(180))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2)),o=n(r(4)),a=n(r(10)),s=n(r(11)),l=n(r(12)),c=n(r(13)),u=n(r(14)),h=n(r(1)),d=(n(r(3)),n(r(6)),n(r(181))),p=r(16),f=function(e){function t(e){var r;return(0,a.default)(this,t),(r=(0,l.default)(this,(0,c.default)(t).call(this))).radios=[],r.focus=function(){if(r.radios&&r.radios.length){var e=r.radios.filter((function(e){return!e.disabled}));if(e.length){var t=(0,p.find)(e,(function(e){return e.checked}));t?t.focus():e[0].focus()}}},r.handleChange=function(e){r.isControlled||r.setState({value:e.target.value}),r.props.onChange&&r.props.onChange(e,e.target.value)},r.isControlled=null!=e.value,r.isControlled||(r.state={value:e.defaultValue}),r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.name,a=t.value,s=(t.onChange,(0,o.default)(t,["children","name","value","onChange"])),l=this.isControlled?a:this.state.value;return this.radios=[],h.default.createElement(d.default,(0,i.default)({role:"radiogroup"},s),h.default.Children.map(r,(function(t){return h.default.isValidElement(t)?h.default.cloneElement(t,{name:n,inputRef:function(t){t&&e.radios.push(t)},checked:l===t.props.value,onChange:(0,p.createChainedFunction)(t.props.onChange,e.handleChange)}):null})))}}]),t}(h.default.Component);t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(182))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=n(r(9)),u={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}};function h(e){var t=e.classes,r=e.className,n=e.children,c=e.row,u=(0,a.default)(e,["classes","className","children","row"]);return s.default.createElement("div",(0,i.default)({className:(0,l.default)(t.root,(0,o.default)({},t.row,c),r)},u),n)}t.styles=u,h.defaultProps={row:!1};var d=(0,c.default)(u,{name:"MuiFormGroup"})(h);t.default=d},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(184))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=n(r(37)),u=n(r(9)),h=n(r(26)),d=r(16),p=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-14,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-14},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}};function f(e){e.checked;var t,r=e.classes,n=e.className,c=e.control,u=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,m=e.muiFormControl,g=(e.name,e.onChange,e.value,(0,a.default)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","muiFormControl","name","onChange","value"])),_=u;void 0===_&&void 0!==c.props.disabled&&(_=c.props.disabled),void 0===_&&m&&(_=m.disabled);var y={disabled:_};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===c.props[t]&&void 0!==e[t]&&(y[t]=e[t])})),s.default.createElement("label",(0,i.default)({className:(0,l.default)(r.root,(t={},(0,o.default)(t,r["labelPlacement".concat((0,d.capitalize)(f))],"end"!==f),(0,o.default)(t,r.disabled,_),t),n)},g),s.default.cloneElement(c,y),s.default.createElement(h.default,{component:"span",className:(0,l.default)(r.label,(0,o.default)({},r.disabled,_))},p))}t.styles=p,f.defaultProps={labelPlacement:"end"};var m=(0,u.default)(p,{name:"MuiFormControlLabel"})((0,c.default)(f));t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(186))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(12)),c=n(r(13)),u=n(r(11)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(8))),f=(r(7),r(187)),m=n(r(9)),g=r(16),_=r(188),y=n(r(57)),v={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};t.styles=v;var x=function(e){function t(e){var r;(0,s.default)(this,t),(r=(0,l.default)(this,(0,c.default)(t).call(this))).handleFocus=function(){r.setState((function(e){return e.focused?null:{focused:!0}}))},r.handleBlur=function(){r.setState((function(e){return e.focused?{focused:!1}:null}))},r.handleDirty=function(){r.state.filled||r.setState({filled:!0})},r.handleClean=function(){r.state.filled&&r.setState({filled:!1})},r.state={adornedStart:!1,filled:!1,focused:!1};var n=e.children;return n&&d.default.Children.forEach(n,(function(e){if((0,_.isMuiElement)(e,["Input","Select"])){(0,f.isFilled)(e.props,!0)&&(r.state.filled=!0);var t=(0,_.isMuiElement)(e,["Select"])?e.props.input:e;t&&(0,f.isAdornedStart)(t.props)&&(r.state.adornedStart=!0)}})),r}return(0,h.default)(t,e),(0,u.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled&&t.focused?{focused:!1}:null}}]),(0,u.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.classes,n=t.className,s=t.component,l=t.disabled,c=t.error,u=t.fullWidth,h=t.margin,f=t.required,m=t.variant,_=(0,a.default)(t,["classes","className","component","disabled","error","fullWidth","margin","required","variant"]),v=this.state,x={adornedStart:v.adornedStart,disabled:l,error:c,filled:v.filled,focused:v.focused,margin:h,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:f,variant:m};return d.default.createElement(y.default.Provider,{value:x},d.default.createElement(s,(0,i.default)({className:(0,p.default)(r.root,(e={},(0,o.default)(e,r["margin".concat((0,g.capitalize)(h))],"none"!==h),(0,o.default)(e,r.fullWidth,u),e),n)},_)))}}]),t}(d.default.Component);x.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1,variant:"standard"};var b=(0,m.default)(v,{name:"MuiFormControl"})(x);t.default=b},function(e,t,r){"use strict";function n(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValue=n,t.isFilled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(n(e.value)&&""!==e.value||t&&n(e.defaultValue)&&""!==e.defaultValue)},t.isAdornedStart=function(e){return e.startAdornment}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElementWithClassName=a,t.cloneChildrenWithClassName=function(e,t){return i.default.Children.map(e,(function(e){return i.default.isValidElement(e)&&a(e,t)}))},t.isMuiElement=function(e,t){return i.default.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},t.setRef=function(e,t){"function"==typeof e?e(t):e&&(e.current=t)};var i=n(r(1)),o=n(r(8));function a(e,t){return i.default.cloneElement(e,{className:(0,o.default)(e.props.className,t)})}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(190))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(191))),u=n(r(37)),h=n(r(9)),d=function(e){return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}};function p(e){var t,r=e.children,n=e.classes,u=e.className,h=e.component,d=(e.disabled,e.error,e.filled,e.focused,e.muiFormControl),p=(e.required,(0,a.default)(e,["children","classes","className","component","disabled","error","filled","focused","muiFormControl","required"])),f=(0,c.default)({props:e,muiFormControl:d,states:["required","focused","disabled","error","filled"]});return s.default.createElement(h,(0,i.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n.disabled,f.disabled),(0,o.default)(t,n.error,f.error),(0,o.default)(t,n.filled,f.filled),(0,o.default)(t,n.focused,f.focused),(0,o.default)(t,n.required,f.required),t),u)},p),r,f.required&&s.default.createElement("span",{className:(0,l.default)(n.asterisk,(0,o.default)({},n.error,f.error))}," *"))}t.styles=d,p.defaultProps={component:"label"};var f=(0,h.default)(d,{name:"MuiFormLabel"})((0,u.default)(p));t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.props,r=e.states,n=e.muiFormControl;return r.reduce((function(e,r){return e[r]=t[r],n&&void 0===t[r]&&(e[r]=n[r]),e}),{})}},function(e,t,r){var n=r(193);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(66)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(65)(!1)).push([e.i,".mapboxgl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}.mapboxgl-canvas{left:0;position:absolute;top:0}.mapboxgl-map:-webkit-full-screen{height:100%;width:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.mapboxgl-ctrl-top-left{left:0;top:0}.mapboxgl-ctrl-top-right{right:0;top:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{bottom:0;right:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{float:left;margin:10px 0 0 10px}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{float:right;margin:10px 10px 0 0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{float:left;margin:0 0 10px 10px}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{float:right;margin:0 10px 10px 0}.mapboxgl-ctrl-group{background:#fff;border-radius:4px}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;overflow:hidden;padding:0;width:29px}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='0.9' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23000'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{background-color:#fff;border-radius:12px;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{right:0;top:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{left:0;top:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.mapboxgl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.mapboxgl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto;position:relative}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{left:0;opacity:1;position:absolute;top:0;transition:opacity .2s;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.mapboxgl-user-location-dot:before{animation:mapboxgl-user-location-dot-pulse 2s infinite;content:\"\";position:absolute}.mapboxgl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{height:0;width:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-bottom:7.5px solid #4aa1eb;content:\"\";position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{align-items:center;background:rgba(0,0,0,.7);color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;height:100%;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;text-align:center;top:0;transition:opacity .75s ease-in-out;transition-delay:1s;width:100%}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLTc4MjFmNWQ5ZWI4Y2M1ZjI0YTdiLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3ZlbmRvci03ODIxZjVkOWViOGNjNWYyNGE3Yi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIod2luZG93LndlYnBhY2tKc29ucD13aW5kb3cud2VicGFja0pzb25wfHxbXSkucHVzaChbW1widmVuZG9yXCJdLFtmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1yKDY5KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7cmV0dXJuIGUuZXhwb3J0cz1yPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWUuZXhwb3J0cz1yLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDEyNSkoKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsaSxvPW4oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihpPTA7aTxhLmxlbmd0aDtpKyspcj1hW2ldLHQuaW5kZXhPZihyKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscikmJihvW3JdPWVbcl0pfXJldHVybiBvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybih0PW4odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWZ1bmN0aW9uKCl7fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KTt2YXIgbj1yKDQzKSxpPXIubihuKTtyLmQodCxcImNvbXBvbmVudFByb3BUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKTt2YXIgbz1yKDQ1KSxhPXIubihvKTtyLmQodCxcImNoYWluUHJvcFR5cGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYX0pKTt2YXIgcz1yKDQ2KSxsPXIubihzKTtyLmQodCxcImV4YWN0UHJvcFwiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIGM9cig0NyksdT1yLm4oYyk7ci5kKHQsXCJnZXREaXNwbGF5TmFtZVwiLChmdW5jdGlvbigpe3JldHVybiB1LmF9KSk7dmFyIGg9cig0OCksZD1yLm4oaCk7ci5kKHQsXCJwb255ZmlsbEdsb2JhbFwiLChmdW5jdGlvbigpe3JldHVybiBkLmF9KSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbjshZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBpKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07aWYobil7dmFyIG89dHlwZW9mIG47aWYoXCJzdHJpbmdcIj09PW98fFwibnVtYmVyXCI9PT1vKWUucHVzaChuKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkobikpe2lmKG4ubGVuZ3RoKXt2YXIgYT1pLmFwcGx5KG51bGwsbik7YSYmZS5wdXNoKGEpfX1lbHNlIGlmKFwib2JqZWN0XCI9PT1vKXtpZihuLnRvU3RyaW5nIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyYmIW4udG9TdHJpbmcudG9TdHJpbmcoKS5pbmNsdWRlcyhcIltuYXRpdmUgY29kZV1cIikpe2UucHVzaChuLnRvU3RyaW5nKCkpO2NvbnRpbnVlfWZvcih2YXIgcyBpbiBuKXIuY2FsbChuLHMpJiZuW3NdJiZlLnB1c2gocyl9fX1yZXR1cm4gZS5qb2luKFwiIFwiKX1lLmV4cG9ydHM/KGkuZGVmYXVsdD1pLGUuZXhwb3J0cz1pKTp2b2lkIDA9PT0obj1mdW5jdGlvbigpe3JldHVybiBpfS5hcHBseSh0LFtdKSl8fChlLmV4cG9ydHM9bil9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnNoZWV0c01hbmFnZXI9dm9pZCAwO3ZhciBpPW4ocig1KSksbz1uKHIoMikpLGE9bihyKDEwKSkscz1uKHIoMTEpKSxsPW4ocigxMikpLGM9bihyKDEzKSksdT1uKHIoMTQpKSxoPW4ocig0KSksZD1uKHIoMSkpLHA9bihyKDMpKSxmPShuKHIoNikpLG4ocigzNSkpKSxtPXIoNyksZz1yKDUwKSxfPW4ocigxMjkpKSx5PW4ocig0OSkpLHY9bihyKDEzMCkpLHg9bihyKDEzMSkpLGI9bihyKDI4KSksdz1uKHIoMzQpKSxUPW4ocigzOSkpLEU9bihyKDEzMikpLFM9bihyKDEzMykpLEM9KDAsZy5jcmVhdGUpKCgwLHkuZGVmYXVsdCkoKSksTT0oMCxULmRlZmF1bHQpKCksaz0tMWUxMSxBPW5ldyBNYXA7dC5zaGVldHNNYW5hZ2VyPUE7dmFyIEk9e30sUD0oMCxiLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSk7bS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfX3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX189e30pLG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlc3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBuLG09dC53aXRoVGhlbWUsZz12b2lkIDAhPT1tJiZtLHk9dC5mbGlwLGI9dm9pZCAwPT09eT9udWxsOnksVD10Lm5hbWUsej0oMCxoLmRlZmF1bHQpKHQsW1wid2l0aFRoZW1lXCIsXCJmbGlwXCIsXCJuYW1lXCJdKSxEPSgwLEUuZGVmYXVsdCkoZSksUj1ELnRoZW1pbmdFbmFibGVkfHxcInN0cmluZ1wiPT10eXBlb2YgVHx8ZztrKz0xLEQub3B0aW9ucy5pbmRleD1rO3ZhciBMPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXt2YXIgbjsoMCxhLmRlZmF1bHQpKHRoaXMsdCksKG49KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzLGUscikpKS5qc3M9cltfLmRlZmF1bHQuanNzXXx8QyxuLnNoZWV0c01hbmFnZXI9QSxuLnVuc3Vic2NyaWJlSWQ9bnVsbDt2YXIgaT1yLm11aVRoZW1lUHJvdmlkZXJPcHRpb25zO3JldHVybiBpJiYoaS5zaGVldHNNYW5hZ2VyJiYobi5zaGVldHNNYW5hZ2VyPWkuc2hlZXRzTWFuYWdlciksbi5zaGVldHNDYWNoZT1pLnNoZWV0c0NhY2hlLG4uZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249aS5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbiksbi5zdHlsZXNDcmVhdG9yU2F2ZWQ9RCxuLnNoZWV0T3B0aW9ucz0oMCxvLmRlZmF1bHQpKHtnZW5lcmF0ZUNsYXNzTmFtZTpNfSxyW18uZGVmYXVsdC5zaGVldE9wdGlvbnNdKSxuLnRoZW1lPVI/dy5kZWZhdWx0LmluaXRpYWwocil8fFA6SSxuLmF0dGFjaChuLnRoZW1lKSxuLmNhY2hlQ2xhc3Nlcz17dmFsdWU6bnVsbCxsYXN0UHJvcDpudWxsLGxhc3RKU1M6e319LG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO1ImJih0aGlzLnVuc3Vic2NyaWJlSWQ9dy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe3ZhciByPWUudGhlbWU7ZS50aGVtZT10LGUuYXR0YWNoKGUudGhlbWUpLGUuc2V0U3RhdGUoe30sKGZ1bmN0aW9uKCl7ZS5kZXRhY2gocil9KSl9KSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWR9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGV0YWNoKHRoaXMudGhlbWUpLG51bGwhPT10aGlzLnVuc3Vic2NyaWJlSWQmJncuZGVmYXVsdC51bnN1YnNjcmliZSh0aGlzLmNvbnRleHQsdGhpcy51bnN1YnNjcmliZUlkKX19LHtrZXk6XCJnZXRDbGFzc2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXJldHVybiB0aGlzLnByb3BzLmNsYXNzZXN8fHt9O3ZhciBlPSExLHQ9eC5kZWZhdWx0LmdldCh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsdGhpcy50aGVtZSk7cmV0dXJuIHQuc2hlZXQuY2xhc3NlcyE9PXRoaXMuY2FjaGVDbGFzc2VzLmxhc3RKU1MmJih0aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0SlNTPXQuc2hlZXQuY2xhc3NlcyxlPSEwKSx0aGlzLnByb3BzLmNsYXNzZXMhPT10aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0UHJvcCYmKHRoaXMuY2FjaGVDbGFzc2VzLmxhc3RQcm9wPXRoaXMucHJvcHMuY2xhc3NlcyxlPSEwKSxlJiYodGhpcy5jYWNoZUNsYXNzZXMudmFsdWU9KDAsdi5kZWZhdWx0KSh7YmFzZUNsYXNzZXM6dGhpcy5jYWNoZUNsYXNzZXMubGFzdEpTUyxuZXdDbGFzc2VzOnRoaXMucHJvcHMuY2xhc3NlcyxDb21wb25lbnQ6cn0pKSx0aGlzLmNhY2hlQ2xhc3Nlcy52YWx1ZX19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbil7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQscj14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0LGUpO2lmKHJ8fChyPXtyZWZzOjAsc2hlZXQ6bnVsbH0seC5kZWZhdWx0LnNldCh0aGlzLnNoZWV0c01hbmFnZXIsdCxlLHIpKSwwPT09ci5yZWZzKXt2YXIgbjt0aGlzLnNoZWV0c0NhY2hlJiYobj14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzQ2FjaGUsdCxlKSksbnx8KChuPXRoaXMuY3JlYXRlU2hlZXQoZSkpLmF0dGFjaCgpLHRoaXMuc2hlZXRzQ2FjaGUmJnguZGVmYXVsdC5zZXQodGhpcy5zaGVldHNDYWNoZSx0LGUsbikpLHIuc2hlZXQ9bjt2YXIgaT10aGlzLmNvbnRleHRbXy5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtpJiZpLmFkZChuKX1yLnJlZnMrPTF9fX0se2tleTpcImNyZWF0ZVNoZWV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQuY3JlYXRlKGUsVCksbj1UO3JldHVybiB0aGlzLmpzcy5jcmVhdGVTdHlsZVNoZWV0KHQsKDAsby5kZWZhdWx0KSh7bWV0YTpuLGNsYXNzTmFtZVByZWZpeDpuLGZsaXA6XCJib29sZWFuXCI9PXR5cGVvZiBiP2I6XCJydGxcIj09PWUuZGlyZWN0aW9uLGxpbms6ITF9LHRoaXMuc2hlZXRPcHRpb25zLHRoaXMuc3R5bGVzQ3JlYXRvclNhdmVkLm9wdGlvbnMse25hbWU6VHx8ci5kaXNwbGF5TmFtZX0seikpfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXt2YXIgdD14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0aGlzLnN0eWxlc0NyZWF0b3JTYXZlZCxlKTtpZih0LnJlZnMtPTEsMD09PXQucmVmcyl7eC5kZWZhdWx0LmRlbGV0ZSh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsZSksdGhpcy5qc3MucmVtb3ZlU3R5bGVTaGVldCh0LnNoZWV0KTt2YXIgcj10aGlzLmNvbnRleHRbXy5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtyJiZyLnJlbW92ZSh0LnNoZWV0KX19fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PShlLmNsYXNzZXMsZS5pbm5lclJlZiksbj0oMCxoLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiaW5uZXJSZWZcIl0pLGk9KDAsUy5kZWZhdWx0KSh7dGhlbWU6dGhpcy50aGVtZSxuYW1lOlQscHJvcHM6bn0pO3JldHVybiBnJiYhaS50aGVtZSYmKGkudGhlbWU9dGhpcy50aGVtZSksZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQociwoMCxvLmRlZmF1bHQpKHt9LGkse2NsYXNzZXM6dGhpcy5nZXRDbGFzc2VzKCkscmVmOnR9KSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO3JldHVybiBMLmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKChuPXttdWlUaGVtZVByb3ZpZGVyT3B0aW9uczpwLmRlZmF1bHQub2JqZWN0fSwoMCxpLmRlZmF1bHQpKG4sXy5kZWZhdWx0LmpzcyxwLmRlZmF1bHQub2JqZWN0KSwoMCxpLmRlZmF1bHQpKG4sXy5kZWZhdWx0LnNoZWV0T3B0aW9ucyxwLmRlZmF1bHQub2JqZWN0KSwoMCxpLmRlZmF1bHQpKG4sXy5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5LHAuZGVmYXVsdC5vYmplY3QpLG4pLFI/dy5kZWZhdWx0LmNvbnRleHRUeXBlczp7fSksKDAsZi5kZWZhdWx0KShMLHIpLEx9fSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcyhlLCgwLG8uZGVmYXVsdCkoe2RlZmF1bHRUaGVtZTpQfSx0KSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApO2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbihpLmtleSksaSl9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmkoZS5wcm90b3R5cGUsdCksciYmaShlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNSkuZGVmYXVsdCxpPXIoMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHQmJihcIm9iamVjdFwiPT09bih0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkpcmV0dXJuIHQ7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGkoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQpe3JldHVybiBlLmV4cG9ydHM9cj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIodCl9ZS5leHBvcnRzPXIsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHQmJm4oZSx0KX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGUuZXhwb3J0cz1yPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxyKHQpfWUuZXhwb3J0cz1yLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jYXBpdGFsaXplPWZ1bmN0aW9uKGUpezA7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX0sdC5jb250YWlucz1vLHQuZmluZEluZGV4PWEsdC5maW5kPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShlLHQpO3JldHVybiByPi0xP2Vbcl06dm9pZCAwfSx0LmNyZWF0ZUNoYWluZWRGdW5jdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09dD9lOmZ1bmN0aW9uKCl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkociksaT0wO2k8cjtpKyspbltpXT1hcmd1bWVudHNbaV07ZS5hcHBseSh0aGlzLG4pLHQuYXBwbHkodGhpcyxuKX19KSwoZnVuY3Rpb24oKXt9KSl9O3ZhciBpPW4ocigxNSkpO24ocig2KSk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5ldmVyeSgoZnVuY3Rpb24ocil7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkocikmJmVbcl09PT10W3JdfSkpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHI9KDAsaS5kZWZhdWx0KSh0KSxuPTA7bjxlLmxlbmd0aDtuKz0xKXtpZihcImZ1bmN0aW9uXCI9PT1yJiYhMD09ISF0KGVbbl0sbixlKSlyZXR1cm4gbjtpZihcIm9iamVjdFwiPT09ciYmbyhlW25dLHQpKXJldHVybiBuO2lmKC0xIT09W1wic3RyaW5nXCIsXCJudW1iZXJcIixcImJvb2xlYW5cIl0uaW5kZXhPZihyKSlyZXR1cm4gZS5pbmRleE9mKHQpfXJldHVybi0xfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxhPWMocigxNykpLHM9YyhyKDI5KSksbD1jKHIoMjMpKTtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic3R5bGVcIix0aGlzLmlzUHJvY2Vzc2VkPSExO3ZhciBpPW4uc2hlZXQsbz1uLlJlbmRlcmVyLGE9bi5zZWxlY3Rvcjt0aGlzLmtleT10LHRoaXMub3B0aW9ucz1uLHRoaXMuc3R5bGU9cixhJiYodGhpcy5zZWxlY3RvclRleHQ9YSksdGhpcy5yZW5kZXJlcj1pP2kucmVuZGVyZXI6bmV3IG99cmV0dXJuIG8oZSxbe2tleTpcInByb3BcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuc3R5bGVbZV07aWYodGhpcy5zdHlsZVtlXT09PXQpcmV0dXJuIHRoaXM7dmFyIHI9bnVsbD09KHQ9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uQ2hhbmdlVmFsdWUodCxlLHRoaXMpKXx8ITE9PT10LG49ZSBpbiB0aGlzLnN0eWxlO2lmKHImJiFuKXJldHVybiB0aGlzO3ZhciBpPXImJm47aWYoaT9kZWxldGUgdGhpcy5zdHlsZVtlXTp0aGlzLnN0eWxlW2VdPXQsdGhpcy5yZW5kZXJhYmxlKXJldHVybiBpP3RoaXMucmVuZGVyZXIucmVtb3ZlUHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUpOnRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUsdCksdGhpczt2YXIgbz10aGlzLm9wdGlvbnMuc2hlZXQ7cmV0dXJuIG8mJm8uYXR0YWNoZWQmJigwLGEuZGVmYXVsdCkoITEsJ1J1bGUgaXMgbm90IGxpbmtlZC4gTWlzc2luZyBzaGVldCBvcHRpb24gXCJsaW5rOiB0cnVlXCIuJyksdGhpc319LHtrZXk6XCJhcHBseVRvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50b0pTT04oKTtmb3IodmFyIHIgaW4gdCl0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KGUscix0W3JdKTtyZXR1cm4gdGhpc319LHtrZXk6XCJ0b0pTT05cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0eWxlKXt2YXIgcj10aGlzLnN0eWxlW3RdO1wib2JqZWN0XCIhPT0odm9pZCAwPT09cj9cInVuZGVmaW5lZFwiOmkocikpP2VbdF09cjpBcnJheS5pc0FycmF5KHIpJiYoZVt0XT0oMCxsLmRlZmF1bHQpKHIpKX1yZXR1cm4gZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucy5zaGVldCxyPSEhdCYmdC5vcHRpb25zLmxpbms/bih7fSxlLHthbGxvd0VtcHR5OiEwfSk6ZTtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMuc2VsZWN0b3IsdGhpcy5zdHlsZSxyKX19LHtrZXk6XCJzZWxlY3RvclwiLHNldDpmdW5jdGlvbihlKXtpZihlIT09dGhpcy5zZWxlY3RvclRleHQmJih0aGlzLnNlbGVjdG9yVGV4dD1lLHRoaXMucmVuZGVyYWJsZSYmIXRoaXMucmVuZGVyZXIuc2V0U2VsZWN0b3IodGhpcy5yZW5kZXJhYmxlLGUpJiZ0aGlzLnJlbmRlcmFibGUpKXt2YXIgdD10aGlzLnJlbmRlcmVyLnJlcGxhY2VSdWxlKHRoaXMucmVuZGVyYWJsZSx0aGlzKTt0JiYodGhpcy5yZW5kZXJhYmxlPXQpfX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0b3JUZXh0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uIGUoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UpezA7dHJ5e19fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX19KCksZS5leHBvcnRzPXIoNzApfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0saT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLG89YyhyKDI0KSksYT1jKHIoNTMpKSxzPWMocigxOCkpLGw9YyhyKDk3KSk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm1hcD17fSx0aGlzLnJhdz17fSx0aGlzLmluZGV4PVtdLHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5vcHRpb25zLGk9bi5qc3MucGx1Z2lucyxvPW4uc2hlZXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpaS5vblVwZGF0ZSh0LHIuZ2V0KGUpLG8pO2Vsc2UgZm9yKHZhciBhPTA7YTxyLmluZGV4Lmxlbmd0aDthKyspaS5vblVwZGF0ZShlLHIuaW5kZXhbYV0sbyl9LHRoaXMub3B0aW9ucz10LHRoaXMuY2xhc3Nlcz10LmNsYXNzZXN9cmV0dXJuIGkoZSxbe2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLm9wdGlvbnMsYT1pLnBhcmVudCxjPWkuc2hlZXQsdT1pLmpzcyxoPWkuUmVuZGVyZXIsZD1pLmdlbmVyYXRlQ2xhc3NOYW1lOyEocj1uKHtjbGFzc2VzOnRoaXMuY2xhc3NlcyxwYXJlbnQ6YSxzaGVldDpjLGpzczp1LFJlbmRlcmVyOmgsZ2VuZXJhdGVDbGFzc05hbWU6ZH0scikpLnNlbGVjdG9yJiZ0aGlzLmNsYXNzZXNbZV0mJihyLnNlbGVjdG9yPVwiLlwiKygwLGwuZGVmYXVsdCkodGhpcy5jbGFzc2VzW2VdKSksdGhpcy5yYXdbZV09dDt2YXIgcD0oMCxvLmRlZmF1bHQpKGUsdCxyKSxmPXZvaWQgMDshci5zZWxlY3RvciYmcCBpbnN0YW5jZW9mIHMuZGVmYXVsdCYmKGY9ZChwLGMpLHAuc2VsZWN0b3I9XCIuXCIrKDAsbC5kZWZhdWx0KShmKSksdGhpcy5yZWdpc3RlcihwLGYpO3ZhciBtPXZvaWQgMD09PXIuaW5kZXg/dGhpcy5pbmRleC5sZW5ndGg6ci5pbmRleDtyZXR1cm4gdGhpcy5pbmRleC5zcGxpY2UobSwwLHApLHB9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwW2VdfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudW5yZWdpc3RlcihlKSx0aGlzLmluZGV4LnNwbGljZSh0aGlzLmluZGV4T2YoZSksMSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4LmluZGV4T2YoZSl9fSx7a2V5OlwicHJvY2Vzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zO3RoaXMuaW5kZXguc2xpY2UoMCkuZm9yRWFjaChlLm9uUHJvY2Vzc1J1bGUsZSl9fSx7a2V5OlwicmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubWFwW2Uua2V5XT1lLGUgaW5zdGFuY2VvZiBzLmRlZmF1bHQmJih0aGlzLm1hcFtlLnNlbGVjdG9yXT1lLHQmJih0aGlzLmNsYXNzZXNbZS5rZXldPXQpKX19LHtrZXk6XCJ1bnJlZ2lzdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMubWFwW2Uua2V5XSxlIGluc3RhbmNlb2Ygcy5kZWZhdWx0JiYoZGVsZXRlIHRoaXMubWFwW2Uuc2VsZWN0b3JdLGRlbGV0ZSB0aGlzLmNsYXNzZXNbZS5rZXldKX19LHtrZXk6XCJsaW5rXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRVbmVzY2FwZWRLZXlzTWFwKHRoaXMuaW5kZXgpLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXSxpPXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRLZXkobik7dFtpXSYmKGk9dFtpXSk7dmFyIG89dGhpcy5tYXBbaV07byYmKDAsYS5kZWZhdWx0KShvLG4pfX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLHI9dGhpcy5vcHRpb25zLnNoZWV0LG49ISFyJiZyLm9wdGlvbnMubGluayxpPTA7aTx0aGlzLmluZGV4Lmxlbmd0aDtpKyspe3ZhciBvPXRoaXMuaW5kZXhbaV0udG9TdHJpbmcoZSk7KG98fG4pJiYodCYmKHQrPVwiXFxuXCIpLHQrPW8pfXJldHVybiB0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZU11aVRoZW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImpzc1ByZXNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNdWlUaGVtZVByb3ZpZGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZVN0eWxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3aXRoU3R5bGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIndpdGhUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LmRlZmF1bHR9fSk7dmFyIGk9bihyKDM5KSksbz1uKHIoMjgpKSxhPW4ocig0OSkpLHM9bihyKDEyMykpLGw9bihyKDEyOCkpLGM9bihyKDkpKSx1PW4ocigxMzQpKX0sZnVuY3Rpb24oZSx0LHIpeyFmdW5jdGlvbih0LHIpe2UuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmIWZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09cnx8XCJbb2JqZWN0IERhdGVdXCI9PT1yfHxmdW5jdGlvbihlKXtyZXR1cm4gZS4kJHR5cGVvZj09PXR9KGUpfShlKX07dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4hMSE9PXQuY2xvbmUmJnQuaXNNZXJnZWFibGVPYmplY3QoZSk/YShmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9bXTp7fX0oZSksZSx0KTplfWZ1bmN0aW9uIG4oZSx0LG4pe3JldHVybiBlLmNvbmNhdCh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByKGUsbil9KSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuY29uY2F0KGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSh0KX0pKTpbXX0oZSkpfWZ1bmN0aW9uIG8oZSx0LG4pe3ZhciBvPXt9O3JldHVybiBuLmlzTWVyZ2VhYmxlT2JqZWN0KGUpJiZpKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09cihlW3RdLG4pfSkpLGkodCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7bi5pc01lcmdlYWJsZU9iamVjdCh0W2ldKSYmZVtpXT9vW2ldPWZ1bmN0aW9uKGUsdCl7aWYoIXQuY3VzdG9tTWVyZ2UpcmV0dXJuIGE7dmFyIHI9dC5jdXN0b21NZXJnZShlKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3I6YX0oaSxuKShlW2ldLHRbaV0sbik6b1tpXT1yKHRbaV0sbil9KSksb31mdW5jdGlvbiBhKHQsaSxhKXsoYT1hfHx7fSkuYXJyYXlNZXJnZT1hLmFycmF5TWVyZ2V8fG4sYS5pc01lcmdlYWJsZU9iamVjdD1hLmlzTWVyZ2VhYmxlT2JqZWN0fHxlO3ZhciBzPUFycmF5LmlzQXJyYXkoaSk7cmV0dXJuIHM9PT1BcnJheS5pc0FycmF5KHQpP3M/YS5hcnJheU1lcmdlKHQsaSxhKTpvKHQsaSxhKTpyKGksYSl9cmV0dXJuIGEuYWxsPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5XCIpO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gYShlLHIsdCl9KSx7fSl9LGF9KCl9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTt2YXIgcj1cIlwiO2lmKEFycmF5LmlzQXJyYXkoZVswXSkpZm9yKHZhciBpPTA7aTxlLmxlbmd0aCYmXCIhaW1wb3J0YW50XCIhPT1lW2ldO2krKylyJiYocis9XCIsIFwiKSxyKz1uKGVbaV0sXCIgXCIpO2Vsc2Ugcj1uKGUsXCIsIFwiKTt0fHxcIiFpbXBvcnRhbnRcIiE9PWVbZS5sZW5ndGgtMV18fChyKz1cIiAhaW1wb3J0YW50XCIpO3JldHVybiByfTt2YXIgbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1cIlwiLG49MDtuPGUubGVuZ3RoJiZcIiFpbXBvcnRhbnRcIiE9PWVbbl07bisrKXImJihyKz10KSxyKz1lW25dO3JldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcInVubmFtZWRcIix0PWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXSxhPXIuanNzLHM9KDAsby5kZWZhdWx0KSh0KSxsPWEucGx1Z2lucy5vbkNyZWF0ZVJ1bGUoZSxzLHIpO2lmKGwpcmV0dXJuIGw7XCJAXCI9PT1lWzBdJiYoMCxuLmRlZmF1bHQpKCExLFwiW0pTU10gVW5rbm93biBhdC1ydWxlICVzXCIsZSk7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZSxzLHIpfTt2YXIgbj1hKHIoMTcpKSxpPWEocigxOCkpLG89YShyKDk0KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5yKHQpLHIuZCh0LFwiaXNCcm93c2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0saT1cIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIjpuKHdpbmRvdykpJiZcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9cInVuZGVmaW5lZFwiOm4oZG9jdW1lbnQpKSYmOT09PWRvY3VtZW50Lm5vZGVUeXBlO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxMzcpKX0sLGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7bihyKDUpKTt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPW4ocigyMikpLHM9bihyKDc1KSksbD0obihyKDYpKSxuKHIoNzcpKSksYz1uKHIoNzgpKSx1PW4ocig3OSkpLGg9bihyKDg0KSksZD1uKHIoODYpKSxwPW4ocig4NykpLGY9bihyKDg4KSksbT1uKHIoODkpKSxnPW4ocig5MCkpO3ZhciBfPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5icmVha3BvaW50cyxyPXZvaWQgMD09PXQ/e306dCxuPWUubWl4aW5zLF89dm9pZCAwPT09bj97fTpuLHk9ZS5wYWxldHRlLHY9dm9pZCAwPT09eT97fTp5LHg9ZS5zaGFkb3dzLGI9ZS5zcGFjaW5nLHc9dm9pZCAwPT09Yj97fTpiLFQ9ZS50eXBvZ3JhcGh5LEU9dm9pZCAwPT09VD97fTpULFM9KDAsby5kZWZhdWx0KShlLFtcImJyZWFrcG9pbnRzXCIsXCJtaXhpbnNcIixcInBhbGV0dGVcIixcInNoYWRvd3NcIixcInNwYWNpbmdcIixcInR5cG9ncmFwaHlcIl0pLEM9KDAsdS5kZWZhdWx0KSh2KSxNPSgwLGwuZGVmYXVsdCkociksaz0oMCxpLmRlZmF1bHQpKHt9LGYuZGVmYXVsdCx3KSxBPSgwLGkuZGVmYXVsdCkoe2JyZWFrcG9pbnRzOk0sZGlyZWN0aW9uOlwibHRyXCIsbWl4aW5zOigwLGMuZGVmYXVsdCkoTSxrLF8pLG92ZXJyaWRlczp7fSxwYWxldHRlOkMscHJvcHM6e30sc2hhZG93czp4fHxkLmRlZmF1bHQsdHlwb2dyYXBoeTooMCxoLmRlZmF1bHQpKEMsRSl9LCgwLGEuZGVmYXVsdCkoe3NoYXBlOnAuZGVmYXVsdCxzcGFjaW5nOmssdHJhbnNpdGlvbnM6bS5kZWZhdWx0LHpJbmRleDpnLmRlZmF1bHR9LFMse2lzTWVyZ2VhYmxlT2JqZWN0OnMuZGVmYXVsdH0pKTtyZXR1cm4gQX07dC5kZWZhdWx0PV99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbz1cIlwiO2lmKCF0KXJldHVybiBvO3ZhciBhPXIuaW5kZW50LHM9dm9pZCAwPT09YT8wOmEsbD10LmZhbGxiYWNrcztpZihzKyssbClpZihBcnJheS5pc0FycmF5KGwpKWZvcih2YXIgYz0wO2M8bC5sZW5ndGg7YysrKXt2YXIgdT1sW2NdO2Zvcih2YXIgaCBpbiB1KXt2YXIgZD11W2hdO251bGwhPWQmJihvKz1cIlxcblwiK2koaCtcIjogXCIrKDAsbi5kZWZhdWx0KShkKStcIjtcIixzKSl9fWVsc2UgZm9yKHZhciBwIGluIGwpe3ZhciBmPWxbcF07bnVsbCE9ZiYmKG8rPVwiXFxuXCIraShwK1wiOiBcIisoMCxuLmRlZmF1bHQpKGYpK1wiO1wiLHMpKX1mb3IodmFyIG0gaW4gdCl7dmFyIGc9dFttXTtudWxsIT1nJiZcImZhbGxiYWNrc1wiIT09bSYmKG8rPVwiXFxuXCIraShtK1wiOiBcIisoMCxuLmRlZmF1bHQpKGcpK1wiO1wiLHMpKX1yZXR1cm4gb3x8ci5hbGxvd0VtcHR5PyhzLS0sbz1pKGUrXCIge1wiK28rXCJcXG5cIixzKStpKFwifVwiLHMpKTpvfTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoMjMpKTtmdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciByPVwiXCIsbj0wO248dDtuKyspcis9XCIgIFwiO3JldHVybiByK2V9fSxmdW5jdGlvbihlLHQpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoNTEpKTt0LmRlZmF1bHQ9bmV3IG4uZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiXCIsaT1cIlwiO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyNSkpLmRlZmF1bHQpe3ZhciBvPXtNb3o6XCItbW96LVwiLG1zOlwiLW1zLVwiLE86XCItby1cIixXZWJraXQ6XCItd2Via2l0LVwifSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLnN0eWxlO2Zvcih2YXIgcyBpbiBvKWlmKHMrXCJUcmFuc2Zvcm1cImluIGEpe249cyxpPW9bc107YnJlYWt9fXQuZGVmYXVsdD17anM6bixjc3M6aX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LkNIQU5ORUw9dm9pZCAwO3ZhciBpPW4ocig1KSksbz1cIl9fVEhFTUlOR19fXCI7dC5DSEFOTkVMPW87dmFyIGE9e2NvbnRleHRUeXBlczooMCxpLmRlZmF1bHQpKHt9LG8sKGZ1bmN0aW9uKCl7fSkpLGluaXRpYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbb10/ZVtvXS5nZXRTdGF0ZSgpOm51bGx9LHN1YnNjcmliZTpmdW5jdGlvbihlLHQpe3JldHVybiBlW29dP2Vbb10uc3Vic2NyaWJlKHQpOm51bGx9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGUsdCl7ZVtvXSYmZVtvXS51bnN1YnNjcmliZSh0KX19O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig0NCksaT17Y2hpbGRDb250ZXh0VHlwZXM6ITAsY29udGV4dFR5cGU6ITAsY29udGV4dFR5cGVzOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxnZXREZWZhdWx0UHJvcHM6ITAsZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiEwLGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczohMCxtaXhpbnM6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LG89e25hbWU6ITAsbGVuZ3RoOiEwLHByb3RvdHlwZTohMCxjYWxsZXI6ITAsY2FsbGVlOiEwLGFyZ3VtZW50czohMCxhcml0eTohMH0sYT17JCR0eXBlb2Y6ITAsY29tcGFyZTohMCxkZWZhdWx0UHJvcHM6ITAsZGlzcGxheU5hbWU6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LHM9e307ZnVuY3Rpb24gbChlKXtyZXR1cm4gbi5pc01lbW8oZSk/YTpzW2UuJCR0eXBlb2ZdfHxpfXNbbi5Gb3J3YXJkUmVmXT17JCR0eXBlb2Y6ITAscmVuZGVyOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxwcm9wVHlwZXM6ITB9LHNbbi5NZW1vXT1hO3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLGg9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1PYmplY3QuZ2V0UHJvdG90eXBlT2YsZj1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQscixuKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygcil7aWYoZil7dmFyIGk9cChyKTtpJiZpIT09ZiYmZSh0LGksbil9dmFyIGE9dShyKTtoJiYoYT1hLmNvbmNhdChoKHIpKSk7Zm9yKHZhciBzPWwodCksbT1sKHIpLGc9MDtnPGEubGVuZ3RoOysrZyl7dmFyIF89YVtnXTtpZighKG9bX118fG4mJm5bX118fG0mJm1bX118fHMmJnNbX10pKXt2YXIgeT1kKHIsXyk7dHJ5e2ModCxfLHkpfWNhdGNoKGUpe319fX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE0NCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG8uZGVmYXVsdC5jcmVhdGVFbGVtZW50KHMuZGVmYXVsdC5Db25zdW1lcixudWxsLChmdW5jdGlvbihyKXtyZXR1cm4gby5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZSwoMCxpLmRlZmF1bHQpKHttdWlGb3JtQ29udHJvbDpyfSx0KSl9KSl9OzA7cmV0dXJuKDAsYS5kZWZhdWx0KSh0LGUpLHR9O3ZhciBpPW4ocigyKSksbz1uKHIoMSkpLGE9bihyKDM1KSkscz1uKHIoNTcpKTtyKDcpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO2Z1bmN0aW9uIGEoZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdChlKX1lLmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIGU9bmV3IFN0cmluZyhcImFiY1wiKTtpZihlWzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpWzBdKXJldHVybiExO2Zvcih2YXIgdD17fSxyPTA7cjwxMDtyKyspdFtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKHIpXT1yO2lmKFwiMDEyMzQ1Njc4OVwiIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKS5qb2luKFwiXCIpKXJldHVybiExO3ZhciBuPXt9O3JldHVyblwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPWV9KSksXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiPT09T2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSxuKSkuam9pbihcIlwiKX1jYXRjaChlKXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcixzLGw9YShlKSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7Zm9yKHZhciB1IGluIHI9T2JqZWN0KGFyZ3VtZW50c1tjXSkpaS5jYWxsKHIsdSkmJihsW3VdPXJbdV0pO2lmKG4pe3M9bihyKTtmb3IodmFyIGg9MDtoPHMubGVuZ3RoO2grKylvLmNhbGwocixzW2hdKSYmKGxbc1toXV09cltzW2hdXSl9fXJldHVybiBsfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5kYW5nZXJvdXNseVVzZUdsb2JhbENTUyxyPXZvaWQgMCE9PXQmJnQsbj1lLnByb2R1Y3Rpb25QcmVmaXgsaT12b2lkIDA9PT1uP1wianNzXCI6bixhPWUuc2VlZCxzPXZvaWQgMD09PWE/XCJcIjphLGw9MDtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCs9MSxyJiZ0JiZ0Lm9wdGlvbnMubmFtZT9cIlwiLmNvbmNhdChvKHQub3B0aW9ucy5uYW1lKSxcIi1cIikuY29uY2F0KGUua2V5KTpcIlwiLmNvbmNhdChpKS5jb25jYXQocykuY29uY2F0KGwpfX07bihyKDYpKTt2YXIgaT0vKFtbXFxdLiMqJD48K349fF46KCksXCInYFxcc10pL2c7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoaSxcIi1cIil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNSkuZGVmYXVsdCxpPXIoNzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pKGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PW4odCk/dDpTdHJpbmcodCl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ezUwOlwiI2U4ZWFmNlwiLDEwMDpcIiNjNWNhZTlcIiwyMDA6XCIjOWZhOGRhXCIsMzAwOlwiIzc5ODZjYlwiLDQwMDpcIiM1YzZiYzBcIiw1MDA6XCIjM2Y1MWI1XCIsNjAwOlwiIzM5NDlhYlwiLDcwMDpcIiMzMDNmOWZcIiw4MDA6XCIjMjgzNTkzXCIsOTAwOlwiIzFhMjM3ZVwiLEExMDA6XCIjOGM5ZWZmXCIsQTIwMDpcIiM1MzZkZmVcIixBNDAwOlwiIzNkNWFmZVwiLEE3MDA6XCIjMzA0ZmZlXCJ9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbnZlcnRIZXhUb1JHQj1vLHQucmdiVG9IZXg9ZnVuY3Rpb24oZSl7aWYoMD09PWUuaW5kZXhPZihcIiNcIikpcmV0dXJuIGU7dmFyIHQ9YShlKS52YWx1ZXM7cmV0dXJuIHQ9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09PXQubGVuZ3RoP1wiMFwiLmNvbmNhdCh0KTp0fShlKX0pKSxcIiNcIi5jb25jYXQodC5qb2luKFwiXCIpKX0sdC5kZWNvbXBvc2VDb2xvcj1hLHQucmVjb21wb3NlQ29sb3I9cyx0LmdldENvbnRyYXN0UmF0aW89ZnVuY3Rpb24oZSx0KXt2YXIgcj1sKGUpLG49bCh0KTtyZXR1cm4oTWF0aC5tYXgocixuKSsuMDUpLyhNYXRoLm1pbihyLG4pKy4wNSl9LHQuZ2V0THVtaW5hbmNlPWwsdC5lbXBoYXNpemU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi4xNTtyZXR1cm4gbChlKT4uNT9jKGUsdCk6dShlLHQpfSx0LmZhZGU9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gZTtlPWEoZSksdD1pKHQpLChcInJnYlwiPT09ZS50eXBlfHxcImhzbFwiPT09ZS50eXBlKSYmKGUudHlwZSs9XCJhXCIpO3JldHVybiBlLnZhbHVlc1szXT10LHMoZSl9LHQuZGFya2VuPWMsdC5saWdodGVuPXU7bihyKDYpKTtmdW5jdGlvbiBpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE7cmV0dXJuIGU8dD90OmU+cj9yOmV9ZnVuY3Rpb24gbyhlKXtlPWUuc3Vic3RyKDEpO3ZhciB0PW5ldyBSZWdFeHAoXCIuezEsXCIuY29uY2F0KGUubGVuZ3RoLzMsXCJ9XCIpLFwiZ1wiKSxyPWUubWF0Y2godCk7cmV0dXJuIHImJjE9PT1yWzBdLmxlbmd0aCYmKHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlK2V9KSkpLHI/XCJyZ2IoXCIuY29uY2F0KHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9KSkuam9pbihcIiwgXCIpLFwiKVwiKTpcIlwifWZ1bmN0aW9uIGEoZSl7aWYoXCIjXCI9PT1lLmNoYXJBdCgwKSlyZXR1cm4gYShvKGUpKTt2YXIgdD1lLmluZGV4T2YoXCIoXCIpLHI9ZS5zdWJzdHJpbmcoMCx0KSxuPWUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aC0xKS5zcGxpdChcIixcIik7cmV0dXJue3R5cGU6cix2YWx1ZXM6bj1uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl9KSl9fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS50eXBlLHI9ZS52YWx1ZXM7cmV0dXJuLTEhPT10LmluZGV4T2YoXCJyZ2JcIikmJihyPXIubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiB0PDM/cGFyc2VJbnQoZSwxMCk6ZX0pKSksLTEhPT10LmluZGV4T2YoXCJoc2xcIikmJihyWzFdPVwiXCIuY29uY2F0KHJbMV0sXCIlXCIpLHJbMl09XCJcIi5jb25jYXQoclsyXSxcIiVcIikpLFwiXCIuY29uY2F0KGUudHlwZSxcIihcIikuY29uY2F0KHIuam9pbihcIiwgXCIpLFwiKVwiKX1mdW5jdGlvbiBsKGUpe3ZhciB0PWEoZSk7aWYoLTEhPT10LnR5cGUuaW5kZXhPZihcInJnYlwiKSl7dmFyIHI9dC52YWx1ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4oZS89MjU1KTw9LjAzOTI4P2UvMTIuOTI6TWF0aC5wb3coKGUrLjA1NSkvMS4wNTUsMi40KX0pKTtyZXR1cm4gTnVtYmVyKCguMjEyNipyWzBdKy43MTUyKnJbMV0rLjA3MjIqclsyXSkudG9GaXhlZCgzKSl9cmV0dXJuIHQudmFsdWVzWzJdLzEwMH1mdW5jdGlvbiBjKGUsdCl7aWYoIWUpcmV0dXJuIGU7aWYoZT1hKGUpLHQ9aSh0KSwtMSE9PWUudHlwZS5pbmRleE9mKFwiaHNsXCIpKWUudmFsdWVzWzJdKj0xLXQ7ZWxzZSBpZigtMSE9PWUudHlwZS5pbmRleE9mKFwicmdiXCIpKWZvcih2YXIgcj0wO3I8MztyKz0xKWUudmFsdWVzW3JdKj0xLXQ7cmV0dXJuIHMoZSl9ZnVuY3Rpb24gdShlLHQpe2lmKCFlKXJldHVybiBlO2lmKGU9YShlKSx0PWkodCksLTEhPT1lLnR5cGUuaW5kZXhPZihcImhzbFwiKSllLnZhbHVlc1syXSs9KDEwMC1lLnZhbHVlc1syXSkqdDtlbHNlIGlmKC0xIT09ZS50eXBlLmluZGV4T2YoXCJyZ2JcIikpZm9yKHZhciByPTA7cjwzO3IrPTEpZS52YWx1ZXNbcl0rPSgyNTUtZS52YWx1ZXNbcl0pKnQ7cmV0dXJuIHMoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO24ocigxNSkpLHIoNDQpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fXZhciBvPWkoKTtvLmlzUmVxdWlyZWQ9aSgpO3ZhciBhPW87dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9cig4NSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3BlY2lhbFByb3BlcnR5PXZvaWQgMDtuKHIoNSkpLG4ocigyKSk7dC5zcGVjaWFsUHJvcGVydHk9XCJleGFjdC1wcm9wOiDigItcIjt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldEZ1bmN0aW9uTmFtZT1pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49L15cXHMqZnVuY3Rpb24oPzpcXHN8XFxzKlxcL1xcKi4qXFwqXFwvXFxzKikrKFteKFxccy9dKilcXHMqLztmdW5jdGlvbiBpKGUpe3ZhciB0PVwiXCIuY29uY2F0KGUpLm1hdGNoKG4pO3JldHVybiB0JiZ0WzFdfHxcIlwifXZhciBvPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT9lLmRpc3BsYXlOYW1lfHxlLm5hbWV8fGkoZSl8fFwiQ29tcG9uZW50XCI6dm9pZCAwfTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDkxKSksbz1uKHIoMTExKSksYT1uKHIoMTEzKSkscz1uKHIoMTE1KSksbD1uKHIoMTE3KSksYz1uKHIoMTIyKSk7dmFyIHU9ZnVuY3Rpb24oKXtyZXR1cm57cGx1Z2luczpbKDAsaS5kZWZhdWx0KSgpLCgwLG8uZGVmYXVsdCkoKSwoMCxhLmRlZmF1bHQpKCksKDAscy5kZWZhdWx0KSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bnVsbDooMCxsLmRlZmF1bHQpKCksKDAsYy5kZWZhdWx0KSgpXX19O3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGU9dC5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZT10LnNoZWV0cz10LlJ1bGVMaXN0PXQuU2hlZXRzTWFuYWdlcj10LlNoZWV0c1JlZ2lzdHJ5PXQudG9Dc3NWYWx1ZT10LmdldER5bmFtaWNTdHlsZXM9dm9pZCAwO3ZhciBuPXIoOTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0RHluYW1pY1N0eWxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKG4pLmRlZmF1bHR9fSk7dmFyIGk9cigyMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ0b0Nzc1ZhbHVlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoaSkuZGVmYXVsdH19KTt2YXIgbz1yKDUxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlNoZWV0c1JlZ2lzdHJ5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgobykuZGVmYXVsdH19KTt2YXIgYT1yKDkzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlNoZWV0c01hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaChhKS5kZWZhdWx0fX0pO3ZhciBzPXIoMjApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUnVsZUxpc3RcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaChzKS5kZWZhdWx0fX0pO3ZhciBsPXIoMzEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic2hlZXRzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgobCkuZGVmYXVsdH19KTt2YXIgYz1yKDU0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoYykuZGVmYXVsdH19KTt2YXIgdT1oKHIoOTkpKTtmdW5jdGlvbiBoKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgZD10LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUuZGVmYXVsdChlKX07dC5kZWZhdWx0PWQoKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnJlZ2lzdHJ5PVtdfXJldHVybiBuKGUsW3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlZ2lzdHJ5LHI9ZS5vcHRpb25zLmluZGV4O2lmKC0xPT09dC5pbmRleE9mKGUpKWlmKDA9PT10Lmxlbmd0aHx8cj49dGhpcy5pbmRleCl0LnB1c2goZSk7ZWxzZSBmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLm9wdGlvbnMuaW5kZXg+cilyZXR1cm4gdm9pZCB0LnNwbGljZShuLDAsZSl9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVnaXN0cnk9W119fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWdpc3RyeS5pbmRleE9mKGUpO3RoaXMucmVnaXN0cnkuc3BsaWNlKHQsMSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZWdpc3RyeS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmF0dGFjaGVkfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoZSl9KSkuam9pbihcIlxcblwiKX19LHtrZXk6XCJpbmRleFwiLGdldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5yZWdpc3RyeS5sZW5ndGg/MDp0aGlzLnJlZ2lzdHJ5W3RoaXMucmVnaXN0cnkubGVuZ3RoLTFdLm9wdGlvbnMuaW5kZXh9fV0pLGV9KCk7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoOTUpKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbbi5kZWZhdWx0XSYmZT09PWVbbi5kZWZhdWx0XSgpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2UucmVuZGVyYWJsZT10LGUucnVsZXMmJnQuY3NzUnVsZXMmJmUucnVsZXMubGluayh0LmNzc1J1bGVzKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1vKHIoMTcpKSxpPShvKHIoNTUpKSxvKHIoOTgpKSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gZnVuY3Rpb24odCxyKXsoZSs9MSk+MWUxMCYmKDAsbi5kZWZhdWx0KSghMSxcIltKU1NdIFlvdSBtaWdodCBoYXZlIGEgbWVtb3J5IGxlYWsuIFJ1bGUgY291bnRlciBpcyBhdCAlcy5cIixlKTt2YXIgbz1cImNcIixhPVwiXCI7cmV0dXJuIHImJihvPXIub3B0aW9ucy5jbGFzc05hbWVQcmVmaXh8fFwiY1wiLG51bGwhPXIub3B0aW9ucy5qc3MuaWQmJihhKz1yLm9wdGlvbnMuanNzLmlkKSksXCJcIitvK2kuZGVmYXVsdCthK2V9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPXMocig1MykpLGE9cyhyKDIwKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7dmFyIGk9dGhpcztmb3IodmFyIG8gaW4gZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/aS5ydWxlcy51cGRhdGUoZSx0KTppLnJ1bGVzLnVwZGF0ZShlKSxpfSx0aGlzLmF0dGFjaGVkPSExLHRoaXMuZGVwbG95ZWQ9ITEsdGhpcy5saW5rZWQ9ITEsdGhpcy5jbGFzc2VzPXt9LHRoaXMub3B0aW9ucz1uKHt9LHIse3NoZWV0OnRoaXMscGFyZW50OnRoaXMsY2xhc3Nlczp0aGlzLmNsYXNzZXN9KSx0aGlzLnJlbmRlcmVyPW5ldyByLlJlbmRlcmVyKHRoaXMpLHRoaXMucnVsZXM9bmV3IGEuZGVmYXVsdCh0aGlzLm9wdGlvbnMpLHQpdGhpcy5ydWxlcy5hZGQobyx0W29dKTt0aGlzLnJ1bGVzLnByb2Nlc3MoKX1yZXR1cm4gaShlLFt7a2V5OlwiYXR0YWNoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2hlZHx8KHRoaXMuZGVwbG95ZWR8fHRoaXMuZGVwbG95KCksdGhpcy5yZW5kZXJlci5hdHRhY2goKSwhdGhpcy5saW5rZWQmJnRoaXMub3B0aW9ucy5saW5rJiZ0aGlzLmxpbmsoKSx0aGlzLmF0dGFjaGVkPSEwKSx0aGlzfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNoZWQ/KHRoaXMucmVuZGVyZXIuZGV0YWNoKCksdGhpcy5hdHRhY2hlZD0hMSx0aGlzKTp0aGlzfX0se2tleTpcImFkZFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5xdWV1ZTt0aGlzLmF0dGFjaGVkJiYhbiYmKHRoaXMucXVldWU9W10pO3ZhciBpPXRoaXMucnVsZXMuYWRkKGUsdCxyKTtyZXR1cm4gdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUoaSksdGhpcy5hdHRhY2hlZD90aGlzLmRlcGxveWVkPyhuP24ucHVzaChpKToodGhpcy5pbnNlcnRSdWxlKGkpLHRoaXMucXVldWUmJih0aGlzLnF1ZXVlLmZvckVhY2godGhpcy5pbnNlcnRSdWxlLHRoaXMpLHRoaXMucXVldWU9dm9pZCAwKSksaSk6aToodGhpcy5kZXBsb3llZD0hMSxpKX19LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZW5kZXJlci5pbnNlcnRSdWxlKGUpO3QmJnRoaXMub3B0aW9ucy5saW5rJiYoMCxvLmRlZmF1bHQpKGUsdCl9fSx7a2V5OlwiYWRkUnVsZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlKXIucHVzaCh0aGlzLmFkZFJ1bGUobixlW25dLHQpKTtyZXR1cm4gcn19LHtrZXk6XCJnZXRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVsZXMuZ2V0KGUpfX0se2tleTpcImRlbGV0ZVJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJ1bGVzLmdldChlKTtyZXR1cm4hIXQmJih0aGlzLnJ1bGVzLnJlbW92ZSh0KSwhdGhpcy5hdHRhY2hlZHx8IXQucmVuZGVyYWJsZXx8dGhpcy5yZW5kZXJlci5kZWxldGVSdWxlKHQucmVuZGVyYWJsZSkpfX0se2tleTpcImluZGV4T2ZcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5pbmRleE9mKGUpfX0se2tleTpcImRlcGxveVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZGVwbG95KCksdGhpcy5kZXBsb3llZD0hMCx0aGlzfX0se2tleTpcImxpbmtcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVuZGVyZXIuZ2V0UnVsZXMoKTtyZXR1cm4gZSYmdGhpcy5ydWxlcy5saW5rKGUpLHRoaXMubGlua2VkPSEwLHRoaXN9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy50b1N0cmluZyhlKX19XSksZX0oKTt0LmRlZmF1bHQ9bH0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQsbil7cmV0dXJuIGUuZXhwb3J0cz1yPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIodCxuKX1lLmV4cG9ydHM9cixlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDEpKS5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoKTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUub3duZXJEb2N1bWVudHx8ZG9jdW1lbnR9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHModGhpcy5wcm9wcyx0aGlzLnN0YXRlKTtudWxsIT1lJiZ0aGlzLnNldFN0YXRlKGUpfWZ1bmN0aW9uIGkoZSl7dGhpcy5zZXRTdGF0ZShmdW5jdGlvbih0KXt2YXIgcj10aGlzLmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhlLHQpO3JldHVybiBudWxsIT1yP3I6bnVsbH0uYmluZCh0aGlzKSl9ZnVuY3Rpb24gbyhlLHQpe3RyeXt2YXIgcj10aGlzLnByb3BzLG49dGhpcy5zdGF0ZTt0aGlzLnByb3BzPWUsdGhpcy5zdGF0ZT10LHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnPSEwLHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3Q9dGhpcy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShyLG4pfWZpbmFsbHl7dGhpcy5wcm9wcz1yLHRoaXMuc3RhdGU9bn19ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnByb3RvdHlwZTtpZighdHx8IXQuaXNSZWFjdENvbXBvbmVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4gb25seSBwb2x5ZmlsbCBjbGFzcyBjb21wb25lbnRzXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXJldHVybiBlO3ZhciByPW51bGwsYT1udWxsLHM9bnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxNb3VudD9yPVwiY29tcG9uZW50V2lsbE1vdW50XCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiYocj1cIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzP2E9XCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmKGE9XCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxVcGRhdGU/cz1cImNvbXBvbmVudFdpbGxVcGRhdGVcIjpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJiYocz1cIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlXCIpLG51bGwhPT1yfHxudWxsIT09YXx8bnVsbCE9PXMpe3ZhciBsPWUuZGlzcGxheU5hbWV8fGUubmFtZSxjPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzP1wiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKClcIjpcImdldFNuYXBzaG90QmVmb3JlVXBkYXRlKClcIjt0aHJvdyBFcnJvcihcIlVuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcblwiK2wrXCIgdXNlcyBcIitjK1wiIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6XCIrKG51bGwhPT1yP1wiXFxuICBcIityOlwiXCIpKyhudWxsIT09YT9cIlxcbiAgXCIrYTpcIlwiKSsobnVsbCE9PXM/XCJcXG4gIFwiK3M6XCJcIikrXCJcXG5cXG5UaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3NcIil9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJih0LmNvbXBvbmVudFdpbGxNb3VudD1uLHQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcz1pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmNvbXBvbmVudERpZFVwZGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcG9seWZpbGwgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBmb3IgY29tcG9uZW50cyB0aGF0IGRvIG5vdCBkZWZpbmUgY29tcG9uZW50RGlkVXBkYXRlKCkgb24gdGhlIHByb3RvdHlwZVwiKTt0LmNvbXBvbmVudFdpbGxVcGRhdGU9bzt2YXIgdT10LmNvbXBvbmVudERpZFVwZGF0ZTt0LmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWc/dGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdDpyO3UuY2FsbCh0aGlzLGUsdCxuKX19cmV0dXJuIGV9ci5yKHQpLHIuZCh0LFwicG9seWZpbGxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmc9ITAsaS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nPSEwLG8uX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZz0hMH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDE3MSkpLG89bihyKDE3NSkpLGE9KG4ocig2MikpLG4ocig2MykpLGZ1bmN0aW9uKGUpe3JldHVybigwLGkuZGVmYXVsdCkoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuISgwLG8uZGVmYXVsdCkoZSx0KX0pKShlKX0pO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMTczKSksbz1mdW5jdGlvbihlKXtyZXR1cm4oMCxpLmRlZmF1bHQpKFwiZGlzcGxheU5hbWVcIixlKX07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPW4ocigxNzQpKSxvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrXCIoXCIrKDAsaS5kZWZhdWx0KShlKStcIilcIn07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE3NykpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lWzFdfHxcIlwiLG49ZVszXTtpZighbilyZXR1cm4gcjtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlKSkpKStcIiAqL1wifShuKSxvPW4uc291cmNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIituLnNvdXJjZVJvb3QrZStcIiAqL1wifSkpO3JldHVybltyXS5jb25jYXQobykuY29uY2F0KFtpXSkuam9pbihcIlxcblwiKX1yZXR1cm5bcl0uam9pbihcIlxcblwiKX0odCxlKTtyZXR1cm4gdFsyXT9cIkBtZWRpYSBcIit0WzJdK1wie1wiK3IrXCJ9XCI6cn0pKS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxyKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTtmb3IodmFyIG49e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYobltvXT0hMCl9Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIGE9ZVtpXTtcIm51bWJlclwiPT10eXBlb2YgYVswXSYmblthWzBdXXx8KHImJiFhWzJdP2FbMl09cjpyJiYoYVsyXT1cIihcIithWzJdK1wiKSBhbmQgKFwiK3IrXCIpXCIpLHQucHVzaChhKSl9fSx0fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LGk9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0fX0oKGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSkpLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnF1ZXJ5U2VsZWN0b3IoZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sYT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKCk7aWYodm9pZCAwPT09dFtlXSl7dmFyIG49by5jYWxsKHRoaXMsZSxyKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJm4gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e249bi5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaChlKXtuPW51bGx9dFtlXT1ufXJldHVybiB0W2VdfX0oKSxzPW51bGwsbD0wLGM9W10sdT1yKDE5NCk7ZnVuY3Rpb24gaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLG89bltpLmlkXTtpZihvKXtvLnJlZnMrKztmb3IodmFyIGE9MDthPG8ucGFydHMubGVuZ3RoO2ErKylvLnBhcnRzW2FdKGkucGFydHNbYV0pO2Zvcig7YTxpLnBhcnRzLmxlbmd0aDthKyspby5wYXJ0cy5wdXNoKF8oaS5wYXJ0c1thXSx0KSl9ZWxzZXt2YXIgcz1bXTtmb3IoYT0wO2E8aS5wYXJ0cy5sZW5ndGg7YSsrKXMucHVzaChfKGkucGFydHNbYV0sdCkpO25baS5pZF09e2lkOmkuaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgcj1bXSxuPXt9LGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXSxhPXQuYmFzZT9vWzBdK3QuYmFzZTpvWzBdLHM9e2NzczpvWzFdLG1lZGlhOm9bMl0sc291cmNlTWFwOm9bM119O25bYV0/blthXS5wYXJ0cy5wdXNoKHMpOnIucHVzaChuW2FdPXtpZDphLHBhcnRzOltzXX0pfXJldHVybiByfWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj1hKGUuaW5zZXJ0SW50byk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIG49Y1tjLmxlbmd0aC0xXTtpZihcInRvcFwiPT09ZS5pbnNlcnRBdCluP24ubmV4dFNpYmxpbmc/ci5pbnNlcnRCZWZvcmUodCxuLm5leHRTaWJsaW5nKTpyLmFwcGVuZENoaWxkKHQpOnIuaW5zZXJ0QmVmb3JlKHQsci5maXJzdENoaWxkKSxjLnB1c2godCk7ZWxzZSBpZihcImJvdHRvbVwiPT09ZS5pbnNlcnRBdClyLmFwcGVuZENoaWxkKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuaW5zZXJ0QXR8fCFlLmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgaT1hKGUuaW5zZXJ0QXQuYmVmb3JlLHIpO3IuaW5zZXJ0QmVmb3JlKHQsaSl9fWZ1bmN0aW9uIGYoZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9Yy5pbmRleE9mKGUpO3Q+PTAmJmMuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gbShlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09ZS5hdHRycy5ub25jZSl7dmFyIG49ZnVuY3Rpb24oKXswO3JldHVybiByLm5jfSgpO24mJihlLmF0dHJzLm5vbmNlPW4pfXJldHVybiBnKHQsZS5hdHRycykscChlLHQpLHR9ZnVuY3Rpb24gZyhlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpe2Uuc2V0QXR0cmlidXRlKHIsdFtyXSl9KSl9ZnVuY3Rpb24gXyhlLHQpe3ZhciByLG4saSxvO2lmKHQudHJhbnNmb3JtJiZlLmNzcyl7aWYoIShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJhbnNmb3JtP3QudHJhbnNmb3JtKGUuY3NzKTp0LnRyYW5zZm9ybS5kZWZhdWx0KGUuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTtlLmNzcz1vfWlmKHQuc2luZ2xldG9uKXt2YXIgYT1sKys7cj1zfHwocz1tKHQpKSxuPXYuYmluZChudWxsLHIsYSwhMSksaT12LmJpbmQobnVsbCxyLGEsITApfWVsc2UgZS5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8ocj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksZS5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsZyh0LGUuYXR0cnMpLHAoZSx0KSx0fSh0KSxuPWIuYmluZChudWxsLHIsdCksaT1mdW5jdGlvbigpe2Yociksci5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKHIuaHJlZil9KToocj1tKHQpLG49eC5iaW5kKG51bGwsciksaT1mdW5jdGlvbigpe2Yocil9KTtyZXR1cm4gbihlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47bihlPXQpfWVsc2UgaSgpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyh0PXR8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgdC5hdHRycz90LmF0dHJzOnt9LHQuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249aSgpKSx0Lmluc2VydEludG98fCh0Lmluc2VydEludG89XCJoZWFkXCIpLHQuaW5zZXJ0QXR8fCh0Lmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciByPWQoZSx0KTtyZXR1cm4gaChyLHQpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1bXSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPXJbb107KHM9blthLmlkXSkucmVmcy0tLGkucHVzaChzKX1lJiZoKGQoZSx0KSx0KTtmb3Iobz0wO288aS5sZW5ndGg7bysrKXt2YXIgcztpZigwPT09KHM9aVtvXSkucmVmcyl7Zm9yKHZhciBsPTA7bDxzLnBhcnRzLmxlbmd0aDtsKyspcy5wYXJ0c1tsXSgpO2RlbGV0ZSBuW3MuaWRdfX19fTt2YXIgeT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlW3RdPXIsZS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCk7ZnVuY3Rpb24gdihlLHQscixuKXt2YXIgaT1yP1wiXCI6bi5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PXkodCxpKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpLGE9ZS5jaGlsZE5vZGVzO2FbdF0mJmUucmVtb3ZlQ2hpbGQoYVt0XSksYS5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUobyxhW3RdKTplLmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiB4KGUsdCl7dmFyIHI9dC5jc3Msbj10Lm1lZGlhO2lmKG4mJmUuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9cjtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSl9fWZ1bmN0aW9uIGIoZSx0LHIpe3ZhciBuPXIuY3NzLGk9ci5zb3VyY2VNYXAsbz12b2lkIDA9PT10LmNvbnZlcnRUb0Fic29sdXRlVXJscyYmaTsodC5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fG8pJiYobj11KG4pKSxpJiYobis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSkpK1wiICovXCIpO3ZhciBhPW5ldyBCbG9iKFtuXSx7dHlwZTpcInRleHQvY3NzXCJ9KSxzPWUuaHJlZjtlLmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7dmFyIHQscj1lLlN5bWJvbDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3Iub2JzZXJ2YWJsZT90PXIub2JzZXJ2YWJsZToodD1yKFwib2JzZXJ2YWJsZVwiKSxyLm9ic2VydmFibGU9dCk6dD1cIkBAb2JzZXJ2YWJsZVwiLHR9ci5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSl9LCxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigzOCksaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Isbz1pP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGE9aT9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LHM9aT9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsbD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxjPWk/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LHU9aT9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGQ9aT9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxmPWk/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsbT1pP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LGc9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gXyhlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW3JdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgeT17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sdj17fTtmdW5jdGlvbiB4KGUsdCxyKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPXJ8fHl9ZnVuY3Rpb24gYigpe31mdW5jdGlvbiB3KGUsdCxyKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPXJ8fHl9eC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fSx4LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT1lKXRocm93IEVycm9yKF8oODUpKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsZSx0LFwic2V0U3RhdGVcIil9LHgucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxlLFwiZm9yY2VVcGRhdGVcIil9LGIucHJvdG90eXBlPXgucHJvdG90eXBlO3ZhciBUPXcucHJvdG90eXBlPW5ldyBiO1QuY29uc3RydWN0b3I9dyxuKFQseC5wcm90b3R5cGUpLFQuaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIEU9e2N1cnJlbnQ6bnVsbH0sUz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEM9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtmdW5jdGlvbiBNKGUsdCxyKXt2YXIgbixpPXt9LGE9bnVsbCxzPW51bGw7aWYobnVsbCE9dClmb3IobiBpbiB2b2lkIDAhPT10LnJlZiYmKHM9dC5yZWYpLHZvaWQgMCE9PXQua2V5JiYoYT1cIlwiK3Qua2V5KSx0KVMuY2FsbCh0LG4pJiYhQy5oYXNPd25Qcm9wZXJ0eShuKSYmKGlbbl09dFtuXSk7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1sKWkuY2hpbGRyZW49cjtlbHNlIGlmKDE8bCl7Zm9yKHZhciBjPUFycmF5KGwpLHU9MDt1PGw7dSsrKWNbdV09YXJndW1lbnRzW3UrMl07aS5jaGlsZHJlbj1jfWlmKGUmJmUuZGVmYXVsdFByb3BzKWZvcihuIGluIGw9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09aVtuXSYmKGlbbl09bFtuXSk7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLGtleTphLHJlZjpzLHByb3BzOmksX293bmVyOkUuY3VycmVudH19ZnVuY3Rpb24gayhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuJCR0eXBlb2Y9PT1vfXZhciBBPS9cXC8rL2csST1bXTtmdW5jdGlvbiBQKGUsdCxyLG4pe2lmKEkubGVuZ3RoKXt2YXIgaT1JLnBvcCgpO3JldHVybiBpLnJlc3VsdD1lLGkua2V5UHJlZml4PXQsaS5mdW5jPXIsaS5jb250ZXh0PW4saS5jb3VudD0wLGl9cmV0dXJue3Jlc3VsdDplLGtleVByZWZpeDp0LGZ1bmM6cixjb250ZXh0Om4sY291bnQ6MH19ZnVuY3Rpb24geihlKXtlLnJlc3VsdD1udWxsLGUua2V5UHJlZml4PW51bGwsZS5mdW5jPW51bGwsZS5jb250ZXh0PW51bGwsZS5jb3VudD0wLDEwPkkubGVuZ3RoJiZJLnB1c2goZSl9ZnVuY3Rpb24gRChlLHQscil7cmV0dXJuIG51bGw9PWU/MDpmdW5jdGlvbiBlKHQscixuLGkpe3ZhciBzPXR5cGVvZiB0O1widW5kZWZpbmVkXCIhPT1zJiZcImJvb2xlYW5cIiE9PXN8fCh0PW51bGwpO3ZhciBsPSExO2lmKG51bGw9PT10KWw9ITA7ZWxzZSBzd2l0Y2gocyl7Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6bD0hMDticmVhaztjYXNlXCJvYmplY3RcIjpzd2l0Y2godC4kJHR5cGVvZil7Y2FzZSBvOmNhc2UgYTpsPSEwfX1pZihsKXJldHVybiBuKGksdCxcIlwiPT09cj9cIi5cIitSKHQsMCk6ciksMTtpZihsPTAscj1cIlwiPT09cj9cIi5cIjpyK1wiOlwiLEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciB1PXIrUihzPXRbY10sYyk7bCs9ZShzLHUsbixpKX1lbHNlIGlmKG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdD91PW51bGw6dT1cImZ1bmN0aW9uXCI9PXR5cGVvZih1PWcmJnRbZ118fHRbXCJAQGl0ZXJhdG9yXCJdKT91Om51bGwsXCJmdW5jdGlvblwiPT10eXBlb2YgdSlmb3IodD11LmNhbGwodCksYz0wOyEocz10Lm5leHQoKSkuZG9uZTspbCs9ZShzPXMudmFsdWUsdT1yK1IocyxjKyspLG4saSk7ZWxzZSBpZihcIm9iamVjdFwiPT09cyl0aHJvdyBuPVwiXCIrdCxFcnJvcihfKDMxLFwiW29iamVjdCBPYmplY3RdXCI9PT1uP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOm4sXCJcIikpO3JldHVybiBsfShlLFwiXCIsdCxyKX1mdW5jdGlvbiBSKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT1lLmtleT9mdW5jdGlvbihlKXt2YXIgdD17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrKFwiXCIrZSkucmVwbGFjZSgvWz06XS9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIEwoZSx0KXtlLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspfWZ1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPWUucmVzdWx0LGk9ZS5rZXlQcmVmaXg7ZT1lLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspLEFycmF5LmlzQXJyYXkoZSk/QihlLG4sciwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6bnVsbCE9ZSYmKGsoZSkmJihlPWZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLnR5cGUsa2V5OnQscmVmOmUucmVmLHByb3BzOmUucHJvcHMsX293bmVyOmUuX293bmVyfX0oZSxpKyghZS5rZXl8fHQmJnQua2V5PT09ZS5rZXk/XCJcIjooXCJcIitlLmtleSkucmVwbGFjZShBLFwiJCYvXCIpK1wiL1wiKStyKSksbi5wdXNoKGUpKX1mdW5jdGlvbiBCKGUsdCxyLG4saSl7dmFyIG89XCJcIjtudWxsIT1yJiYobz0oXCJcIityKS5yZXBsYWNlKEEsXCIkJi9cIikrXCIvXCIpLEQoZSxPLHQ9UCh0LG8sbixpKSkseih0KX12YXIgRj17Y3VycmVudDpudWxsfTtmdW5jdGlvbiBqKCl7dmFyIGU9Ri5jdXJyZW50O2lmKG51bGw9PT1lKXRocm93IEVycm9yKF8oMzIxKSk7cmV0dXJuIGV9dmFyIFU9e1JlYWN0Q3VycmVudERpc3BhdGNoZXI6RixSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzp7c3VzcGVuc2U6bnVsbH0sUmVhY3RDdXJyZW50T3duZXI6RSxJc1NvbWVSZW5kZXJlckFjdGluZzp7Y3VycmVudDohMX0sYXNzaWduOm59O3QuQ2hpbGRyZW49e21hcDpmdW5jdGlvbihlLHQscil7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgbj1bXTtyZXR1cm4gQihlLG4sbnVsbCx0LHIpLG59LGZvckVhY2g6ZnVuY3Rpb24oZSx0LHIpe2lmKG51bGw9PWUpcmV0dXJuIGU7RChlLEwsdD1QKG51bGwsbnVsbCx0LHIpKSx6KHQpfSxjb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gRChlLChmdW5jdGlvbigpe3JldHVybiBudWxsfSksbnVsbCl9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIEIoZSx0LG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHR9LG9ubHk6ZnVuY3Rpb24oZSl7aWYoIWsoZSkpdGhyb3cgRXJyb3IoXygxNDMpKTtyZXR1cm4gZX19LHQuQ29tcG9uZW50PXgsdC5GcmFnbWVudD1zLHQuUHJvZmlsZXI9Yyx0LlB1cmVDb21wb25lbnQ9dyx0LlN0cmljdE1vZGU9bCx0LlN1c3BlbnNlPXAsdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1VLHQuY2xvbmVFbGVtZW50PWZ1bmN0aW9uKGUsdCxyKXtpZihudWxsPT1lKXRocm93IEVycm9yKF8oMjY3LGUpKTt2YXIgaT1uKHt9LGUucHJvcHMpLGE9ZS5rZXkscz1lLnJlZixsPWUuX293bmVyO2lmKG51bGwhPXQpe2lmKHZvaWQgMCE9PXQucmVmJiYocz10LnJlZixsPUUuY3VycmVudCksdm9pZCAwIT09dC5rZXkmJihhPVwiXCIrdC5rZXkpLGUudHlwZSYmZS50eXBlLmRlZmF1bHRQcm9wcyl2YXIgYz1lLnR5cGUuZGVmYXVsdFByb3BzO2Zvcih1IGluIHQpUy5jYWxsKHQsdSkmJiFDLmhhc093blByb3BlcnR5KHUpJiYoaVt1XT12b2lkIDA9PT10W3VdJiZ2b2lkIDAhPT1jP2NbdV06dFt1XSl9dmFyIHU9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT11KWkuY2hpbGRyZW49cjtlbHNlIGlmKDE8dSl7Yz1BcnJheSh1KTtmb3IodmFyIGg9MDtoPHU7aCsrKWNbaF09YXJndW1lbnRzW2grMl07aS5jaGlsZHJlbj1jfXJldHVybnskJHR5cGVvZjpvLHR5cGU6ZS50eXBlLGtleTphLHJlZjpzLHByb3BzOmksX293bmVyOmx9fSx0LmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksKGU9eyQkdHlwZW9mOmgsX2NhbGN1bGF0ZUNoYW5nZWRCaXRzOnQsX2N1cnJlbnRWYWx1ZTplLF9jdXJyZW50VmFsdWUyOmUsX3RocmVhZENvdW50OjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsfSkuUHJvdmlkZXI9eyQkdHlwZW9mOnUsX2NvbnRleHQ6ZX0sZS5Db25zdW1lcj1lfSx0LmNyZWF0ZUVsZW1lbnQ9TSx0LmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9TS5iaW5kKG51bGwsZSk7cmV0dXJuIHQudHlwZT1lLHR9LHQuY3JlYXRlUmVmPWZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19LHQuZm9yd2FyZFJlZj1mdW5jdGlvbihlKXtyZXR1cm57JCR0eXBlb2Y6ZCxyZW5kZXI6ZX19LHQuaXNWYWxpZEVsZW1lbnQ9ayx0Lmxhenk9ZnVuY3Rpb24oZSl7cmV0dXJueyQkdHlwZW9mOm0sX2N0b3I6ZSxfc3RhdHVzOi0xLF9yZXN1bHQ6bnVsbH19LHQubWVtbz1mdW5jdGlvbihlLHQpe3JldHVybnskJHR5cGVvZjpmLHR5cGU6ZSxjb21wYXJlOnZvaWQgMD09PXQ/bnVsbDp0fX0sdC51c2VDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3JldHVybiBqKCkudXNlQ2FsbGJhY2soZSx0KX0sdC51c2VDb250ZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooKS51c2VDb250ZXh0KGUsdCl9LHQudXNlRGVidWdWYWx1ZT1mdW5jdGlvbigpe30sdC51c2VFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaigpLnVzZUVmZmVjdChlLHQpfSx0LnVzZUltcGVyYXRpdmVIYW5kbGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBqKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShlLHQscil9LHQudXNlTGF5b3V0RWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooKS51c2VMYXlvdXRFZmZlY3QoZSx0KX0sdC51c2VNZW1vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooKS51c2VNZW1vKGUsdCl9LHQudXNlUmVkdWNlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGooKS51c2VSZWR1Y2VyKGUsdCxyKX0sdC51c2VSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGooKS51c2VSZWYoZSl9LHQudXNlU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGooKS51c2VTdGF0ZShlKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxKSxpPXIoMzgpLG89cig3MSk7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW3JdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn1pZighbil0aHJvdyBFcnJvcihhKDIyNykpO2Z1bmN0aW9uIHMoZSx0LHIsbixpLG8sYSxzLGwpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTt0cnl7dC5hcHBseShyLGMpfWNhdGNoKGUpe3RoaXMub25FcnJvcihlKX19dmFyIGw9ITEsYz1udWxsLHU9ITEsaD1udWxsLGQ9e29uRXJyb3I6ZnVuY3Rpb24oZSl7bD0hMCxjPWV9fTtmdW5jdGlvbiBwKGUsdCxyLG4saSxvLGEsdSxoKXtsPSExLGM9bnVsbCxzLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZj1udWxsLG09bnVsbCxnPW51bGw7ZnVuY3Rpb24gXyhlLHQscil7dmFyIG49ZS50eXBlfHxcInVua25vd24tZXZlbnRcIjtlLmN1cnJlbnRUYXJnZXQ9ZyhyKSxmdW5jdGlvbihlLHQscixuLGksbyxzLGQsZil7aWYocC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCl7aWYoIWwpdGhyb3cgRXJyb3IoYSgxOTgpKTt2YXIgbT1jO2w9ITEsYz1udWxsLHV8fCh1PSEwLGg9bSl9fShuLHQsdm9pZCAwLGUpLGUuY3VycmVudFRhcmdldD1udWxsfXZhciB5PW51bGwsdj17fTtmdW5jdGlvbiB4KCl7aWYoeSlmb3IodmFyIGUgaW4gdil7dmFyIHQ9dltlXSxyPXkuaW5kZXhPZihlKTtpZighKC0xPHIpKXRocm93IEVycm9yKGEoOTYsZSkpO2lmKCF3W3JdKXtpZighdC5leHRyYWN0RXZlbnRzKXRocm93IEVycm9yKGEoOTcsZSkpO2Zvcih2YXIgbiBpbiB3W3JdPXQscj10LmV2ZW50VHlwZXMpe3ZhciBpPXZvaWQgMCxvPXJbbl0scz10LGw9bjtpZihULmhhc093blByb3BlcnR5KGwpKXRocm93IEVycm9yKGEoOTksbCkpO1RbbF09bzt2YXIgYz1vLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGMpe2ZvcihpIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShpKSYmYihjW2ldLHMsbCk7aT0hMH1lbHNlIG8ucmVnaXN0cmF0aW9uTmFtZT8oYihvLnJlZ2lzdHJhdGlvbk5hbWUscyxsKSxpPSEwKTppPSExO2lmKCFpKXRocm93IEVycm9yKGEoOTgsbixlKSl9fX19ZnVuY3Rpb24gYihlLHQscil7aWYoRVtlXSl0aHJvdyBFcnJvcihhKDEwMCxlKSk7RVtlXT10LFNbZV09dC5ldmVudFR5cGVzW3JdLmRlcGVuZGVuY2llc312YXIgdz1bXSxUPXt9LEU9e30sUz17fTtmdW5jdGlvbiBDKGUpe3ZhciB0LHI9ITE7Zm9yKHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgbj1lW3RdO2lmKCF2Lmhhc093blByb3BlcnR5KHQpfHx2W3RdIT09bil7aWYodlt0XSl0aHJvdyBFcnJvcihhKDEwMix0KSk7dlt0XT1uLHI9ITB9fXImJngoKX12YXIgTT0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMD09PXdpbmRvdy5kb2N1bWVudHx8dm9pZCAwPT09d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLGs9bnVsbCxBPW51bGwsST1udWxsO2Z1bmN0aW9uIFAoZSl7aWYoZT1tKGUpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBrKXRocm93IEVycm9yKGEoMjgwKSk7dmFyIHQ9ZS5zdGF0ZU5vZGU7dCYmKHQ9Zih0KSxrKGUuc3RhdGVOb2RlLGUudHlwZSx0KSl9fWZ1bmN0aW9uIHooZSl7QT9JP0kucHVzaChlKTpJPVtlXTpBPWV9ZnVuY3Rpb24gRCgpe2lmKEEpe3ZhciBlPUEsdD1JO2lmKEk9QT1udWxsLFAoZSksdClmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKVAodFtlXSl9fWZ1bmN0aW9uIFIoZSx0KXtyZXR1cm4gZSh0KX1mdW5jdGlvbiBMKGUsdCxyLG4saSl7cmV0dXJuIGUodCxyLG4saSl9ZnVuY3Rpb24gTygpe312YXIgQj1SLEY9ITEsaj0hMTtmdW5jdGlvbiBVKCl7bnVsbD09PUEmJm51bGw9PT1JfHwoTygpLEQoKSl9ZnVuY3Rpb24gTihlLHQscil7aWYoailyZXR1cm4gZSh0LHIpO2o9ITA7dHJ5e3JldHVybiBCKGUsdCxyKX1maW5hbGx5e2o9ITEsVSgpfX12YXIgVj0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8sRz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHE9e30sWj17fTtmdW5jdGlvbiAkKGUsdCxyLG4saSxvKXt0aGlzLmFjY2VwdHNCb29sZWFucz0yPT09dHx8Mz09PXR8fDQ9PT10LHRoaXMuYXR0cmlidXRlTmFtZT1uLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPWksdGhpcy5tdXN0VXNlUHJvcGVydHk9cix0aGlzLnByb3BlcnR5TmFtZT1lLHRoaXMudHlwZT10LHRoaXMuc2FuaXRpemVVUkw9b312YXIgVz17fTtcImNoaWxkcmVuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGRlZmF1bHRWYWx1ZSBkZWZhdWx0Q2hlY2tlZCBpbm5lckhUTUwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBzdHlsZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsMCwhMSxlLG51bGwsITEpfSkpLFtbXCJhY2NlcHRDaGFyc2V0XCIsXCJhY2NlcHQtY2hhcnNldFwiXSxbXCJjbGFzc05hbWVcIixcImNsYXNzXCJdLFtcImh0bWxGb3JcIixcImZvclwiXSxbXCJodHRwRXF1aXZcIixcImh0dHAtZXF1aXZcIl1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07V1t0XT1uZXcgJCh0LDEsITEsZVsxXSxudWxsLCExKX0pKSxbXCJjb250ZW50RWRpdGFibGVcIixcImRyYWdnYWJsZVwiLFwic3BlbGxDaGVja1wiLFwidmFsdWVcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDIsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLFtcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJmb2N1c2FibGVcIixcInByZXNlcnZlQWxwaGFcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDIsITEsZSxudWxsLCExKX0pKSxcImFsbG93RnVsbFNjcmVlbiBhc3luYyBhdXRvRm9jdXMgYXV0b1BsYXkgY29udHJvbHMgZGVmYXVsdCBkZWZlciBkaXNhYmxlZCBkaXNhYmxlUGljdHVyZUluUGljdHVyZSBmb3JtTm9WYWxpZGF0ZSBoaWRkZW4gbG9vcCBub01vZHVsZSBub1ZhbGlkYXRlIG9wZW4gcGxheXNJbmxpbmUgcmVhZE9ubHkgcmVxdWlyZWQgcmV2ZXJzZWQgc2NvcGVkIHNlYW1sZXNzIGl0ZW1TY29wZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsMywhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksW1wiY2hlY2tlZFwiLFwibXVsdGlwbGVcIixcIm11dGVkXCIsXCJzZWxlY3RlZFwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsMywhMCxlLG51bGwsITEpfSkpLFtcImNhcHR1cmVcIixcImRvd25sb2FkXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe1dbZV09bmV3ICQoZSw0LCExLGUsbnVsbCwhMSl9KSksW1wiY29sc1wiLFwicm93c1wiLFwic2l6ZVwiLFwic3BhblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsNiwhMSxlLG51bGwsITEpfSkpLFtcInJvd1NwYW5cIixcInN0YXJ0XCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe1dbZV09bmV3ICQoZSw1LCExLGUudG9Mb3dlckNhc2UoKSxudWxsLCExKX0pKTt2YXIgWD0vW1xcLTpdKFthLXpdKS9nO2Z1bmN0aW9uIEgoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1cImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShYLEgpO1dbdF09bmV3ICQodCwxLCExLGUsbnVsbCwhMSl9KSksXCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFgsSCk7V1t0XT1uZXcgJCh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMSl9KSksW1wieG1sOmJhc2VcIixcInhtbDpsYW5nXCIsXCJ4bWw6c3BhY2VcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFgsSCk7V1t0XT1uZXcgJCh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLCExKX0pKSxbXCJ0YWJJbmRleFwiLFwiY3Jvc3NPcmlnaW5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLFcueGxpbmtIcmVmPW5ldyAkKFwieGxpbmtIcmVmXCIsMSwhMSxcInhsaW5rOmhyZWZcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMCksW1wic3JjXCIsXCJocmVmXCIsXCJhY3Rpb25cIixcImZvcm1BY3Rpb25cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITApfSkpO3ZhciBZPW4uX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7ZnVuY3Rpb24gSyhlLHQscixuKXt2YXIgaT1XLmhhc093blByb3BlcnR5KHQpP1dbdF06bnVsbDsobnVsbCE9PWk/MD09PWkudHlwZTohbiYmKDI8dC5sZW5ndGgmJihcIm9cIj09PXRbMF18fFwiT1wiPT09dFswXSkmJihcIm5cIj09PXRbMV18fFwiTlwiPT09dFsxXSkpKXx8KGZ1bmN0aW9uKGUsdCxyLG4pe2lmKG51bGw9PXR8fGZ1bmN0aW9uKGUsdCxyLG4pe2lmKG51bGwhPT1yJiYwPT09ci50eXBlKXJldHVybiExO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwiZnVuY3Rpb25cIjpjYXNlXCJzeW1ib2xcIjpyZXR1cm4hMDtjYXNlXCJib29sZWFuXCI6cmV0dXJuIW4mJihudWxsIT09cj8hci5hY2NlcHRzQm9vbGVhbnM6XCJkYXRhLVwiIT09KGU9ZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNSkpJiZcImFyaWEtXCIhPT1lKTtkZWZhdWx0OnJldHVybiExfX0oZSx0LHIsbikpcmV0dXJuITA7aWYobilyZXR1cm4hMTtpZihudWxsIT09cilzd2l0Y2goci50eXBlKXtjYXNlIDM6cmV0dXJuIXQ7Y2FzZSA0OnJldHVybiExPT09dDtjYXNlIDU6cmV0dXJuIGlzTmFOKHQpO2Nhc2UgNjpyZXR1cm4gaXNOYU4odCl8fDE+dH1yZXR1cm4hMX0odCxyLGksbikmJihyPW51bGwpLG58fG51bGw9PT1pP2Z1bmN0aW9uKGUpe3JldHVybiEhRy5jYWxsKFosZSl8fCFHLmNhbGwocSxlKSYmKFYudGVzdChlKT9aW2VdPSEwOihxW2VdPSEwLCExKSl9KHQpJiYobnVsbD09PXI/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxcIlwiK3IpKTppLm11c3RVc2VQcm9wZXJ0eT9lW2kucHJvcGVydHlOYW1lXT1udWxsPT09cj8zIT09aS50eXBlJiZcIlwiOnI6KHQ9aS5hdHRyaWJ1dGVOYW1lLG49aS5hdHRyaWJ1dGVOYW1lc3BhY2UsbnVsbD09PXI/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6KHI9Mz09PShpPWkudHlwZSl8fDQ9PT1pJiYhMD09PXI/XCJcIjpcIlwiK3Isbj9lLnNldEF0dHJpYnV0ZU5TKG4sdCxyKTplLnNldEF0dHJpYnV0ZSh0LHIpKSkpfVkuaGFzT3duUHJvcGVydHkoXCJSZWFjdEN1cnJlbnREaXNwYXRjaGVyXCIpfHwoWS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyPXtjdXJyZW50Om51bGx9KSxZLmhhc093blByb3BlcnR5KFwiUmVhY3RDdXJyZW50QmF0Y2hDb25maWdcIil8fChZLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnPXtzdXNwZW5zZTpudWxsfSk7dmFyIEo9L14oLiopW1xcXFxcXC9dLyxRPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixlZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLHRlPVE/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixyZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxuZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxpZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxvZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxhZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLHNlPVE/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxsZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixjZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyx1ZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpOjYwMTIwLGhlPVE/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsZGU9UT9TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTo2MDExNixwZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5ibG9ja1wiKTo2MDEyMSxmZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBtZShlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YoZT1mZSYmZVtmZV18fGVbXCJAQGl0ZXJhdG9yXCJdKT9lOm51bGx9ZnVuY3Rpb24gZ2UoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fG51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2UgcmU6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgdGU6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIGllOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIG5lOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgY2U6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgdWU6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT10eXBlb2YgZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBhZTpyZXR1cm5cIkNvbnRleHQuQ29uc3VtZXJcIjtjYXNlIG9lOnJldHVyblwiQ29udGV4dC5Qcm92aWRlclwiO2Nhc2UgbGU6dmFyIHQ9ZS5yZW5kZXI7cmV0dXJuIHQ9dC5kaXNwbGF5TmFtZXx8dC5uYW1lfHxcIlwiLGUuZGlzcGxheU5hbWV8fChcIlwiIT09dD9cIkZvcndhcmRSZWYoXCIrdCtcIilcIjpcIkZvcndhcmRSZWZcIik7Y2FzZSBoZTpyZXR1cm4gZ2UoZS50eXBlKTtjYXNlIHBlOnJldHVybiBnZShlLnJlbmRlcik7Y2FzZSBkZTppZihlPTE9PT1lLl9zdGF0dXM/ZS5fcmVzdWx0Om51bGwpcmV0dXJuIGdlKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIF9lKGUpe3ZhciB0PVwiXCI7ZG97ZTpzd2l0Y2goZS50YWcpe2Nhc2UgMzpjYXNlIDQ6Y2FzZSA2OmNhc2UgNzpjYXNlIDEwOmNhc2UgOTp2YXIgcj1cIlwiO2JyZWFrIGU7ZGVmYXVsdDp2YXIgbj1lLl9kZWJ1Z093bmVyLGk9ZS5fZGVidWdTb3VyY2Usbz1nZShlLnR5cGUpO3I9bnVsbCxuJiYocj1nZShuLnR5cGUpKSxuPW8sbz1cIlwiLGk/bz1cIiAoYXQgXCIraS5maWxlTmFtZS5yZXBsYWNlKEosXCJcIikrXCI6XCIraS5saW5lTnVtYmVyK1wiKVwiOnImJihvPVwiIChjcmVhdGVkIGJ5IFwiK3IrXCIpXCIpLHI9XCJcXG4gICAgaW4gXCIrKG58fFwiVW5rbm93blwiKStvfXQrPXIsZT1lLnJldHVybn13aGlsZShlKTtyZXR1cm4gdH1mdW5jdGlvbiB5ZShlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJudW1iZXJcIjpjYXNlXCJvYmplY3RcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVyblwiXCJ9fWZ1bmN0aW9uIHZlKGUpe3ZhciB0PWUudHlwZTtyZXR1cm4oZT1lLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09ZS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09dHx8XCJyYWRpb1wiPT09dCl9ZnVuY3Rpb24geGUoZSl7ZS5fdmFsdWVUcmFja2VyfHwoZS5fdmFsdWVUcmFja2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXZlKGUpP1wiY2hlY2tlZFwiOlwidmFsdWVcIixyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksbj1cIlwiK2VbdF07aWYoIWUuaGFzT3duUHJvcGVydHkodCkmJnZvaWQgMCE9PXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZ2V0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnNldCl7dmFyIGk9ci5nZXQsbz1yLnNldDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmNhbGwodGhpcyl9LHNldDpmdW5jdGlvbihlKXtuPVwiXCIrZSxvLmNhbGwodGhpcyxlKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBufSxzZXRWYWx1ZTpmdW5jdGlvbihlKXtuPVwiXCIrZX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7ZS5fdmFsdWVUcmFja2VyPW51bGwsZGVsZXRlIGVbdF19fX19KGUpKX1mdW5jdGlvbiBiZShlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1lLl92YWx1ZVRyYWNrZXI7aWYoIXQpcmV0dXJuITA7dmFyIHI9dC5nZXRWYWx1ZSgpLG49XCJcIjtyZXR1cm4gZSYmKG49dmUoZSk/ZS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjplLnZhbHVlKSwoZT1uKSE9PXImJih0LnNldFZhbHVlKGUpLCEwKX1mdW5jdGlvbiB3ZShlLHQpe3ZhciByPXQuY2hlY2tlZDtyZXR1cm4gaSh7fSx0LHtkZWZhdWx0Q2hlY2tlZDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCx2YWx1ZTp2b2lkIDAsY2hlY2tlZDpudWxsIT1yP3I6ZS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9ZnVuY3Rpb24gVGUoZSx0KXt2YXIgcj1udWxsPT10LmRlZmF1bHRWYWx1ZT9cIlwiOnQuZGVmYXVsdFZhbHVlLG49bnVsbCE9dC5jaGVja2VkP3QuY2hlY2tlZDp0LmRlZmF1bHRDaGVja2VkO3I9eWUobnVsbCE9dC52YWx1ZT90LnZhbHVlOnIpLGUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbENoZWNrZWQ6bixpbml0aWFsVmFsdWU6cixjb250cm9sbGVkOlwiY2hlY2tib3hcIj09PXQudHlwZXx8XCJyYWRpb1wiPT09dC50eXBlP251bGwhPXQuY2hlY2tlZDpudWxsIT10LnZhbHVlfX1mdW5jdGlvbiBFZShlLHQpe251bGwhPSh0PXQuY2hlY2tlZCkmJksoZSxcImNoZWNrZWRcIix0LCExKX1mdW5jdGlvbiBTZShlLHQpe0VlKGUsdCk7dmFyIHI9eWUodC52YWx1ZSksbj10LnR5cGU7aWYobnVsbCE9cilcIm51bWJlclwiPT09bj8oMD09PXImJlwiXCI9PT1lLnZhbHVlfHxlLnZhbHVlIT1yKSYmKGUudmFsdWU9XCJcIityKTplLnZhbHVlIT09XCJcIityJiYoZS52YWx1ZT1cIlwiK3IpO2Vsc2UgaWYoXCJzdWJtaXRcIj09PW58fFwicmVzZXRcIj09PW4pcmV0dXJuIHZvaWQgZS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTt0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIik/TWUoZSx0LnR5cGUscik6dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmTWUoZSx0LnR5cGUseWUodC5kZWZhdWx0VmFsdWUpKSxudWxsPT10LmNoZWNrZWQmJm51bGwhPXQuZGVmYXVsdENoZWNrZWQmJihlLmRlZmF1bHRDaGVja2VkPSEhdC5kZWZhdWx0Q2hlY2tlZCl9ZnVuY3Rpb24gQ2UoZSx0LHIpe2lmKHQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSl7dmFyIG49dC50eXBlO2lmKCEoXCJzdWJtaXRcIiE9PW4mJlwicmVzZXRcIiE9PW58fHZvaWQgMCE9PXQudmFsdWUmJm51bGwhPT10LnZhbHVlKSlyZXR1cm47dD1cIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUscnx8dD09PWUudmFsdWV8fChlLnZhbHVlPXQpLGUuZGVmYXVsdFZhbHVlPXR9XCJcIiE9PShyPWUubmFtZSkmJihlLm5hbWU9XCJcIiksZS5kZWZhdWx0Q2hlY2tlZD0hIWUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZCxcIlwiIT09ciYmKGUubmFtZT1yKX1mdW5jdGlvbiBNZShlLHQscil7XCJudW1iZXJcIj09PXQmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZXx8KG51bGw9PXI/ZS5kZWZhdWx0VmFsdWU9XCJcIitlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlOmUuZGVmYXVsdFZhbHVlIT09XCJcIityJiYoZS5kZWZhdWx0VmFsdWU9XCJcIityKSl9ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4gZT1pKHtjaGlsZHJlbjp2b2lkIDB9LHQpLCh0PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIG4uQ2hpbGRyZW4uZm9yRWFjaChlLChmdW5jdGlvbihlKXtudWxsIT1lJiYodCs9ZSl9KSksdH0odC5jaGlsZHJlbikpJiYoZS5jaGlsZHJlbj10KSxlfWZ1bmN0aW9uIEFlKGUsdCxyLG4pe2lmKGU9ZS5vcHRpb25zLHQpe3Q9e307Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspdFtcIiRcIityW2ldXT0hMDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWk9dC5oYXNPd25Qcm9wZXJ0eShcIiRcIitlW3JdLnZhbHVlKSxlW3JdLnNlbGVjdGVkIT09aSYmKGVbcl0uc2VsZWN0ZWQ9aSksaSYmbiYmKGVbcl0uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2ZvcihyPVwiXCIreWUociksdD1udWxsLGk9MDtpPGUubGVuZ3RoO2krKyl7aWYoZVtpXS52YWx1ZT09PXIpcmV0dXJuIGVbaV0uc2VsZWN0ZWQ9ITAsdm9pZChuJiYoZVtpXS5kZWZhdWx0U2VsZWN0ZWQ9ITApKTtudWxsIT09dHx8ZVtpXS5kaXNhYmxlZHx8KHQ9ZVtpXSl9bnVsbCE9PXQmJih0LnNlbGVjdGVkPSEwKX19ZnVuY3Rpb24gSWUoZSx0KXtpZihudWxsIT10LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXRocm93IEVycm9yKGEoOTEpKTtyZXR1cm4gaSh7fSx0LHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX1mdW5jdGlvbiBQZShlLHQpe3ZhciByPXQudmFsdWU7aWYobnVsbD09cil7aWYocj10LmNoaWxkcmVuLHQ9dC5kZWZhdWx0VmFsdWUsbnVsbCE9cil7aWYobnVsbCE9dCl0aHJvdyBFcnJvcihhKDkyKSk7aWYoQXJyYXkuaXNBcnJheShyKSl7aWYoISgxPj1yLmxlbmd0aCkpdGhyb3cgRXJyb3IoYSg5MykpO3I9clswXX10PXJ9bnVsbD09dCYmKHQ9XCJcIikscj10fWUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbFZhbHVlOnllKHIpfX1mdW5jdGlvbiB6ZShlLHQpe3ZhciByPXllKHQudmFsdWUpLG49eWUodC5kZWZhdWx0VmFsdWUpO251bGwhPXImJigocj1cIlwiK3IpIT09ZS52YWx1ZSYmKGUudmFsdWU9ciksbnVsbD09dC5kZWZhdWx0VmFsdWUmJmUuZGVmYXVsdFZhbHVlIT09ciYmKGUuZGVmYXVsdFZhbHVlPXIpKSxudWxsIT1uJiYoZS5kZWZhdWx0VmFsdWU9XCJcIituKX1mdW5jdGlvbiBEZShlKXt2YXIgdD1lLnRleHRDb250ZW50O3Q9PT1lLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlJiZcIlwiIT09dCYmbnVsbCE9PXQmJihlLnZhbHVlPXQpfXZhciBSZT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixMZT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7ZnVuY3Rpb24gT2UoZSl7c3dpdGNoKGUpe2Nhc2VcInN2Z1wiOnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtjYXNlXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gbnVsbD09ZXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1lP09lKHQpOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj09PWUmJlwiZm9yZWlnbk9iamVjdFwiPT09dD9cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjplfXZhciBGZSxqZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKHQscixuLGkpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlKHQscil9KSl9OmV9KChmdW5jdGlvbihlLHQpe2lmKGUubmFtZXNwYWNlVVJJIT09TGV8fFwiaW5uZXJIVE1MXCJpbiBlKWUuaW5uZXJIVE1MPXQ7ZWxzZXtmb3IoKEZlPUZlfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c3ZnPlwiK3QudmFsdWVPZigpLnRvU3RyaW5nKCkrXCI8L3N2Zz5cIix0PUZlLmZpcnN0Q2hpbGQ7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7Zm9yKDt0LmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKX19KSk7ZnVuY3Rpb24gVWUoZSx0KXtpZih0KXt2YXIgcj1lLmZpcnN0Q2hpbGQ7aWYociYmcj09PWUubGFzdENoaWxkJiYzPT09ci5ub2RlVHlwZSlyZXR1cm4gdm9pZChyLm5vZGVWYWx1ZT10KX1lLnRleHRDb250ZW50PXR9ZnVuY3Rpb24gTmUoZSx0KXt2YXIgcj17fTtyZXR1cm4gcltlLnRvTG93ZXJDYXNlKCldPXQudG9Mb3dlckNhc2UoKSxyW1wiV2Via2l0XCIrZV09XCJ3ZWJraXRcIit0LHJbXCJNb3pcIitlXT1cIm1velwiK3Qscn12YXIgVmU9e2FuaW1hdGlvbmVuZDpOZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uRW5kXCIpLGFuaW1hdGlvbml0ZXJhdGlvbjpOZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLGFuaW1hdGlvbnN0YXJ0Ok5lKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25TdGFydFwiKSx0cmFuc2l0aW9uZW5kOk5lKFwiVHJhbnNpdGlvblwiLFwiVHJhbnNpdGlvbkVuZFwiKX0sR2U9e30scWU9e307ZnVuY3Rpb24gWmUoZSl7aWYoR2VbZV0pcmV0dXJuIEdlW2VdO2lmKCFWZVtlXSlyZXR1cm4gZTt2YXIgdCxyPVZlW2VdO2Zvcih0IGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eSh0KSYmdCBpbiBxZSlyZXR1cm4gR2VbZV09clt0XTtyZXR1cm4gZX1NJiYocWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgVmUuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgVmUudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTt2YXIgJGU9WmUoXCJhbmltYXRpb25lbmRcIiksV2U9WmUoXCJhbmltYXRpb25pdGVyYXRpb25cIiksWGU9WmUoXCJhbmltYXRpb25zdGFydFwiKSxIZT1aZShcInRyYW5zaXRpb25lbmRcIiksWWU9XCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nXCIuc3BsaXQoXCIgXCIpLEtlPW5ldyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwKTtmdW5jdGlvbiBKZShlKXt2YXIgdD1LZS5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBNYXAsS2Uuc2V0KGUsdCkpLHR9ZnVuY3Rpb24gUWUoZSl7dmFyIHQ9ZSxyPWU7aWYoZS5hbHRlcm5hdGUpZm9yKDt0LnJldHVybjspdD10LnJldHVybjtlbHNle2U9dDtkb3swIT0oMTAyNiYodD1lKS5lZmZlY3RUYWcpJiYocj10LnJldHVybiksZT10LnJldHVybn13aGlsZShlKX1yZXR1cm4gMz09PXQudGFnP3I6bnVsbH1mdW5jdGlvbiBldChlKXtpZigxMz09PWUudGFnKXt2YXIgdD1lLm1lbW9pemVkU3RhdGU7aWYobnVsbD09PXQmJihudWxsIT09KGU9ZS5hbHRlcm5hdGUpJiYodD1lLm1lbW9pemVkU3RhdGUpKSxudWxsIT09dClyZXR1cm4gdC5kZWh5ZHJhdGVkfXJldHVybiBudWxsfWZ1bmN0aW9uIHR0KGUpe2lmKFFlKGUpIT09ZSl0aHJvdyBFcnJvcihhKDE4OCkpfWZ1bmN0aW9uIHJ0KGUpe2lmKCEoZT1mdW5jdGlvbihlKXt2YXIgdD1lLmFsdGVybmF0ZTtpZighdCl7aWYobnVsbD09PSh0PVFlKGUpKSl0aHJvdyBFcnJvcihhKDE4OCkpO3JldHVybiB0IT09ZT9udWxsOmV9Zm9yKHZhciByPWUsbj10Ozspe3ZhciBpPXIucmV0dXJuO2lmKG51bGw9PT1pKWJyZWFrO3ZhciBvPWkuYWx0ZXJuYXRlO2lmKG51bGw9PT1vKXtpZihudWxsIT09KG49aS5yZXR1cm4pKXtyPW47Y29udGludWV9YnJlYWt9aWYoaS5jaGlsZD09PW8uY2hpbGQpe2ZvcihvPWkuY2hpbGQ7bzspe2lmKG89PT1yKXJldHVybiB0dChpKSxlO2lmKG89PT1uKXJldHVybiB0dChpKSx0O289by5zaWJsaW5nfXRocm93IEVycm9yKGEoMTg4KSl9aWYoci5yZXR1cm4hPT1uLnJldHVybilyPWksbj1vO2Vsc2V7Zm9yKHZhciBzPSExLGw9aS5jaGlsZDtsOyl7aWYobD09PXIpe3M9ITAscj1pLG49bzticmVha31pZihsPT09bil7cz0hMCxuPWkscj1vO2JyZWFrfWw9bC5zaWJsaW5nfWlmKCFzKXtmb3IobD1vLmNoaWxkO2w7KXtpZihsPT09cil7cz0hMCxyPW8sbj1pO2JyZWFrfWlmKGw9PT1uKXtzPSEwLG49byxyPWk7YnJlYWt9bD1sLnNpYmxpbmd9aWYoIXMpdGhyb3cgRXJyb3IoYSgxODkpKX19aWYoci5hbHRlcm5hdGUhPT1uKXRocm93IEVycm9yKGEoMTkwKSl9aWYoMyE9PXIudGFnKXRocm93IEVycm9yKGEoMTg4KSk7cmV0dXJuIHIuc3RhdGVOb2RlLmN1cnJlbnQ9PT1yP2U6dH0oZSkpKXJldHVybiBudWxsO2Zvcih2YXIgdD1lOzspe2lmKDU9PT10LnRhZ3x8Nj09PXQudGFnKXJldHVybiB0O2lmKHQuY2hpbGQpdC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7ZWxzZXtpZih0PT09ZSlicmVhaztmb3IoOyF0LnNpYmxpbmc7KXtpZighdC5yZXR1cm58fHQucmV0dXJuPT09ZSlyZXR1cm4gbnVsbDt0PXQucmV0dXJufXQuc2libGluZy5yZXR1cm49dC5yZXR1cm4sdD10LnNpYmxpbmd9fXJldHVybiBudWxsfWZ1bmN0aW9uIG50KGUsdCl7aWYobnVsbD09dCl0aHJvdyBFcnJvcihhKDMwKSk7cmV0dXJuIG51bGw9PWU/dDpBcnJheS5pc0FycmF5KGUpP0FycmF5LmlzQXJyYXkodCk/KGUucHVzaC5hcHBseShlLHQpLGUpOihlLnB1c2godCksZSk6QXJyYXkuaXNBcnJheSh0KT9bZV0uY29uY2F0KHQpOltlLHRdfWZ1bmN0aW9uIGl0KGUsdCxyKXtBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCh0LHIpOmUmJnQuY2FsbChyLGUpfXZhciBvdD1udWxsO2Z1bmN0aW9uIGF0KGUpe2lmKGUpe3ZhciB0PWUuX2Rpc3BhdGNoTGlzdGVuZXJzLHI9ZS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO24rKylfKGUsdFtuXSxyW25dKTtlbHNlIHQmJl8oZSx0LHIpO2UuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGwsZS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbCxlLmlzUGVyc2lzdGVudCgpfHxlLmNvbnN0cnVjdG9yLnJlbGVhc2UoZSl9fWZ1bmN0aW9uIHN0KGUpe2lmKG51bGwhPT1lJiYob3Q9bnQob3QsZSkpLGU9b3Qsb3Q9bnVsbCxlKXtpZihpdChlLGF0KSxvdCl0aHJvdyBFcnJvcihhKDk1KSk7aWYodSl0aHJvdyBlPWgsdT0hMSxoPW51bGwsZX19ZnVuY3Rpb24gbHQoZSl7cmV0dXJuKGU9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8d2luZG93KS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGU9ZS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCksMz09PWUubm9kZVR5cGU/ZS5wYXJlbnROb2RlOmV9ZnVuY3Rpb24gY3QoZSl7aWYoIU0pcmV0dXJuITE7dmFyIHQ9KGU9XCJvblwiK2UpaW4gZG9jdW1lbnQ7cmV0dXJuIHR8fCgodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoZSxcInJldHVybjtcIiksdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdKSx0fXZhciB1dD1bXTtmdW5jdGlvbiBodChlKXtlLnRvcExldmVsVHlwZT1udWxsLGUubmF0aXZlRXZlbnQ9bnVsbCxlLnRhcmdldEluc3Q9bnVsbCxlLmFuY2VzdG9ycy5sZW5ndGg9MCwxMD51dC5sZW5ndGgmJnV0LnB1c2goZSl9ZnVuY3Rpb24gZHQoZSx0LHIsbil7aWYodXQubGVuZ3RoKXt2YXIgaT11dC5wb3AoKTtyZXR1cm4gaS50b3BMZXZlbFR5cGU9ZSxpLmV2ZW50U3lzdGVtRmxhZ3M9bixpLm5hdGl2ZUV2ZW50PXQsaS50YXJnZXRJbnN0PXIsaX1yZXR1cm57dG9wTGV2ZWxUeXBlOmUsZXZlbnRTeXN0ZW1GbGFnczpuLG5hdGl2ZUV2ZW50OnQsdGFyZ2V0SW5zdDpyLGFuY2VzdG9yczpbXX19ZnVuY3Rpb24gcHQoZSl7dmFyIHQ9ZS50YXJnZXRJbnN0LHI9dDtkb3tpZighcil7ZS5hbmNlc3RvcnMucHVzaChyKTticmVha312YXIgbj1yO2lmKDM9PT1uLnRhZyluPW4uc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZWxzZXtmb3IoO24ucmV0dXJuOyluPW4ucmV0dXJuO249MyE9PW4udGFnP251bGw6bi5zdGF0ZU5vZGUuY29udGFpbmVySW5mb31pZighbilicmVhazs1IT09KHQ9ci50YWcpJiY2IT09dHx8ZS5hbmNlc3RvcnMucHVzaChyKSxyPUNyKG4pfXdoaWxlKHIpO2ZvcihyPTA7cjxlLmFuY2VzdG9ycy5sZW5ndGg7cisrKXt0PWUuYW5jZXN0b3JzW3JdO3ZhciBpPWx0KGUubmF0aXZlRXZlbnQpO249ZS50b3BMZXZlbFR5cGU7dmFyIG89ZS5uYXRpdmVFdmVudCxhPWUuZXZlbnRTeXN0ZW1GbGFnczswPT09ciYmKGF8PTY0KTtmb3IodmFyIHM9bnVsbCxsPTA7bDx3Lmxlbmd0aDtsKyspe3ZhciBjPXdbbF07YyYmKGM9Yy5leHRyYWN0RXZlbnRzKG4sdCxvLGksYSkpJiYocz1udChzLGMpKX1zdChzKX19ZnVuY3Rpb24gZnQoZSx0LHIpe2lmKCFyLmhhcyhlKSl7c3dpdGNoKGUpe2Nhc2VcInNjcm9sbFwiOlh0KHQsXCJzY3JvbGxcIiwhMCk7YnJlYWs7Y2FzZVwiZm9jdXNcIjpjYXNlXCJibHVyXCI6WHQodCxcImZvY3VzXCIsITApLFh0KHQsXCJibHVyXCIsITApLHIuc2V0KFwiYmx1clwiLG51bGwpLHIuc2V0KFwiZm9jdXNcIixudWxsKTticmVhaztjYXNlXCJjYW5jZWxcIjpjYXNlXCJjbG9zZVwiOmN0KGUpJiZYdCh0LGUsITApO2JyZWFrO2Nhc2VcImludmFsaWRcIjpjYXNlXCJzdWJtaXRcIjpjYXNlXCJyZXNldFwiOmJyZWFrO2RlZmF1bHQ6LTE9PT1ZZS5pbmRleE9mKGUpJiZXdChlLHQpfXIuc2V0KGUsbnVsbCl9fXZhciBtdCxndCxfdCx5dD0hMSx2dD1bXSx4dD1udWxsLGJ0PW51bGwsd3Q9bnVsbCxUdD1uZXcgTWFwLEV0PW5ldyBNYXAsU3Q9W10sQ3Q9XCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjbG9zZSBjYW5jZWwgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0IHN1Ym1pdFwiLnNwbGl0KFwiIFwiKSxNdD1cImZvY3VzIGJsdXIgZHJhZ2VudGVyIGRyYWdsZWF2ZSBtb3VzZW92ZXIgbW91c2VvdXQgcG9pbnRlcm92ZXIgcG9pbnRlcm91dCBnb3Rwb2ludGVyY2FwdHVyZSBsb3N0cG9pbnRlcmNhcHR1cmVcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24ga3QoZSx0LHIsbixpKXtyZXR1cm57YmxvY2tlZE9uOmUsdG9wTGV2ZWxUeXBlOnQsZXZlbnRTeXN0ZW1GbGFnczozMnxyLG5hdGl2ZUV2ZW50OmksY29udGFpbmVyOm59fWZ1bmN0aW9uIEF0KGUsdCl7c3dpdGNoKGUpe2Nhc2VcImZvY3VzXCI6Y2FzZVwiYmx1clwiOnh0PW51bGw7YnJlYWs7Y2FzZVwiZHJhZ2VudGVyXCI6Y2FzZVwiZHJhZ2xlYXZlXCI6YnQ9bnVsbDticmVhaztjYXNlXCJtb3VzZW92ZXJcIjpjYXNlXCJtb3VzZW91dFwiOnd0PW51bGw7YnJlYWs7Y2FzZVwicG9pbnRlcm92ZXJcIjpjYXNlXCJwb2ludGVyb3V0XCI6VHQuZGVsZXRlKHQucG9pbnRlcklkKTticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOkV0LmRlbGV0ZSh0LnBvaW50ZXJJZCl9fWZ1bmN0aW9uIEl0KGUsdCxyLG4saSxvKXtyZXR1cm4gbnVsbD09PWV8fGUubmF0aXZlRXZlbnQhPT1vPyhlPWt0KHQscixuLGksbyksbnVsbCE9PXQmJihudWxsIT09KHQ9TXIodCkpJiZndCh0KSksZSk6KGUuZXZlbnRTeXN0ZW1GbGFnc3w9bixlKX1mdW5jdGlvbiBQdChlKXt2YXIgdD1DcihlLnRhcmdldCk7aWYobnVsbCE9PXQpe3ZhciByPVFlKHQpO2lmKG51bGwhPT1yKWlmKDEzPT09KHQ9ci50YWcpKXtpZihudWxsIT09KHQ9ZXQocikpKXJldHVybiBlLmJsb2NrZWRPbj10LHZvaWQgby51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkoZS5wcmlvcml0eSwoZnVuY3Rpb24oKXtfdChyKX0pKX1lbHNlIGlmKDM9PT10JiZyLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiB2b2lkKGUuYmxvY2tlZE9uPTM9PT1yLnRhZz9yLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGwpfWUuYmxvY2tlZE9uPW51bGx9ZnVuY3Rpb24genQoZSl7aWYobnVsbCE9PWUuYmxvY2tlZE9uKXJldHVybiExO3ZhciB0PUp0KGUudG9wTGV2ZWxUeXBlLGUuZXZlbnRTeXN0ZW1GbGFncyxlLmNvbnRhaW5lcixlLm5hdGl2ZUV2ZW50KTtpZihudWxsIT09dCl7dmFyIHI9TXIodCk7cmV0dXJuIG51bGwhPT1yJiZndChyKSxlLmJsb2NrZWRPbj10LCExfXJldHVybiEwfWZ1bmN0aW9uIER0KGUsdCxyKXt6dChlKSYmci5kZWxldGUodCl9ZnVuY3Rpb24gUnQoKXtmb3IoeXQ9ITE7MDx2dC5sZW5ndGg7KXt2YXIgZT12dFswXTtpZihudWxsIT09ZS5ibG9ja2VkT24pe251bGwhPT0oZT1NcihlLmJsb2NrZWRPbikpJiZtdChlKTticmVha312YXIgdD1KdChlLnRvcExldmVsVHlwZSxlLmV2ZW50U3lzdGVtRmxhZ3MsZS5jb250YWluZXIsZS5uYXRpdmVFdmVudCk7bnVsbCE9PXQ/ZS5ibG9ja2VkT249dDp2dC5zaGlmdCgpfW51bGwhPT14dCYmenQoeHQpJiYoeHQ9bnVsbCksbnVsbCE9PWJ0JiZ6dChidCkmJihidD1udWxsKSxudWxsIT09d3QmJnp0KHd0KSYmKHd0PW51bGwpLFR0LmZvckVhY2goRHQpLEV0LmZvckVhY2goRHQpfWZ1bmN0aW9uIEx0KGUsdCl7ZS5ibG9ja2VkT249PT10JiYoZS5ibG9ja2VkT249bnVsbCx5dHx8KHl0PSEwLG8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhvLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFJ0KSkpfWZ1bmN0aW9uIE90KGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIEx0KHQsZSl9aWYoMDx2dC5sZW5ndGgpe0x0KHZ0WzBdLGUpO2Zvcih2YXIgcj0xO3I8dnQubGVuZ3RoO3IrKyl7dmFyIG49dnRbcl07bi5ibG9ja2VkT249PT1lJiYobi5ibG9ja2VkT249bnVsbCl9fWZvcihudWxsIT09eHQmJkx0KHh0LGUpLG51bGwhPT1idCYmTHQoYnQsZSksbnVsbCE9PXd0JiZMdCh3dCxlKSxUdC5mb3JFYWNoKHQpLEV0LmZvckVhY2godCkscj0wO3I8U3QubGVuZ3RoO3IrKykobj1TdFtyXSkuYmxvY2tlZE9uPT09ZSYmKG4uYmxvY2tlZE9uPW51bGwpO2Zvcig7MDxTdC5sZW5ndGgmJm51bGw9PT0ocj1TdFswXSkuYmxvY2tlZE9uOylQdChyKSxudWxsPT09ci5ibG9ja2VkT24mJlN0LnNoaWZ0KCl9dmFyIEJ0PXt9LEZ0PW5ldyBNYXAsanQ9bmV3IE1hcCxVdD1bXCJhYm9ydFwiLFwiYWJvcnRcIiwkZSxcImFuaW1hdGlvbkVuZFwiLFdlLFwiYW5pbWF0aW9uSXRlcmF0aW9uXCIsWGUsXCJhbmltYXRpb25TdGFydFwiLFwiY2FucGxheVwiLFwiY2FuUGxheVwiLFwiY2FucGxheXRocm91Z2hcIixcImNhblBsYXlUaHJvdWdoXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwiZHVyYXRpb25DaGFuZ2VcIixcImVtcHRpZWRcIixcImVtcHRpZWRcIixcImVuY3J5cHRlZFwiLFwiZW5jcnlwdGVkXCIsXCJlbmRlZFwiLFwiZW5kZWRcIixcImVycm9yXCIsXCJlcnJvclwiLFwiZ290cG9pbnRlcmNhcHR1cmVcIixcImdvdFBvaW50ZXJDYXB0dXJlXCIsXCJsb2FkXCIsXCJsb2FkXCIsXCJsb2FkZWRkYXRhXCIsXCJsb2FkZWREYXRhXCIsXCJsb2FkZWRtZXRhZGF0YVwiLFwibG9hZGVkTWV0YWRhdGFcIixcImxvYWRzdGFydFwiLFwibG9hZFN0YXJ0XCIsXCJsb3N0cG9pbnRlcmNhcHR1cmVcIixcImxvc3RQb2ludGVyQ2FwdHVyZVwiLFwicGxheWluZ1wiLFwicGxheWluZ1wiLFwicHJvZ3Jlc3NcIixcInByb2dyZXNzXCIsXCJzZWVraW5nXCIsXCJzZWVraW5nXCIsXCJzdGFsbGVkXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJzdXNwZW5kXCIsXCJ0aW1ldXBkYXRlXCIsXCJ0aW1lVXBkYXRlXCIsSGUsXCJ0cmFuc2l0aW9uRW5kXCIsXCJ3YWl0aW5nXCIsXCJ3YWl0aW5nXCJdO2Z1bmN0aW9uIE50KGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKz0yKXt2YXIgbj1lW3JdLGk9ZVtyKzFdLG89XCJvblwiKyhpWzBdLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKSk7bz17cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6byxjYXB0dXJlZDpvK1wiQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6W25dLGV2ZW50UHJpb3JpdHk6dH0sanQuc2V0KG4sdCksRnQuc2V0KG4sbyksQnRbaV09b319TnQoXCJibHVyIGJsdXIgY2FuY2VsIGNhbmNlbCBjbGljayBjbGljayBjbG9zZSBjbG9zZSBjb250ZXh0bWVudSBjb250ZXh0TWVudSBjb3B5IGNvcHkgY3V0IGN1dCBhdXhjbGljayBhdXhDbGljayBkYmxjbGljayBkb3VibGVDbGljayBkcmFnZW5kIGRyYWdFbmQgZHJhZ3N0YXJ0IGRyYWdTdGFydCBkcm9wIGRyb3AgZm9jdXMgZm9jdXMgaW5wdXQgaW5wdXQgaW52YWxpZCBpbnZhbGlkIGtleWRvd24ga2V5RG93biBrZXlwcmVzcyBrZXlQcmVzcyBrZXl1cCBrZXlVcCBtb3VzZWRvd24gbW91c2VEb3duIG1vdXNldXAgbW91c2VVcCBwYXN0ZSBwYXN0ZSBwYXVzZSBwYXVzZSBwbGF5IHBsYXkgcG9pbnRlcmNhbmNlbCBwb2ludGVyQ2FuY2VsIHBvaW50ZXJkb3duIHBvaW50ZXJEb3duIHBvaW50ZXJ1cCBwb2ludGVyVXAgcmF0ZWNoYW5nZSByYXRlQ2hhbmdlIHJlc2V0IHJlc2V0IHNlZWtlZCBzZWVrZWQgc3VibWl0IHN1Ym1pdCB0b3VjaGNhbmNlbCB0b3VjaENhbmNlbCB0b3VjaGVuZCB0b3VjaEVuZCB0b3VjaHN0YXJ0IHRvdWNoU3RhcnQgdm9sdW1lY2hhbmdlIHZvbHVtZUNoYW5nZVwiLnNwbGl0KFwiIFwiKSwwKSxOdChcImRyYWcgZHJhZyBkcmFnZW50ZXIgZHJhZ0VudGVyIGRyYWdleGl0IGRyYWdFeGl0IGRyYWdsZWF2ZSBkcmFnTGVhdmUgZHJhZ292ZXIgZHJhZ092ZXIgbW91c2Vtb3ZlIG1vdXNlTW92ZSBtb3VzZW91dCBtb3VzZU91dCBtb3VzZW92ZXIgbW91c2VPdmVyIHBvaW50ZXJtb3ZlIHBvaW50ZXJNb3ZlIHBvaW50ZXJvdXQgcG9pbnRlck91dCBwb2ludGVyb3ZlciBwb2ludGVyT3ZlciBzY3JvbGwgc2Nyb2xsIHRvZ2dsZSB0b2dnbGUgdG91Y2htb3ZlIHRvdWNoTW92ZSB3aGVlbCB3aGVlbFwiLnNwbGl0KFwiIFwiKSwxKSxOdChVdCwyKTtmb3IodmFyIFZ0PVwiY2hhbmdlIHNlbGVjdGlvbmNoYW5nZSB0ZXh0SW5wdXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZVwiLnNwbGl0KFwiIFwiKSxHdD0wO0d0PFZ0Lmxlbmd0aDtHdCsrKWp0LnNldChWdFtHdF0sMCk7dmFyIHF0PW8udW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksWnQ9by51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHksJHQ9ITA7ZnVuY3Rpb24gV3QoZSx0KXtYdCh0LGUsITEpfWZ1bmN0aW9uIFh0KGUsdCxyKXt2YXIgbj1qdC5nZXQodCk7c3dpdGNoKHZvaWQgMD09PW4/MjpuKXtjYXNlIDA6bj1IdC5iaW5kKG51bGwsdCwxLGUpO2JyZWFrO2Nhc2UgMTpuPVl0LmJpbmQobnVsbCx0LDEsZSk7YnJlYWs7ZGVmYXVsdDpuPUt0LmJpbmQobnVsbCx0LDEsZSl9cj9lLmFkZEV2ZW50TGlzdGVuZXIodCxuLCEwKTplLmFkZEV2ZW50TGlzdGVuZXIodCxuLCExKX1mdW5jdGlvbiBIdChlLHQscixuKXtGfHxPKCk7dmFyIGk9S3Qsbz1GO0Y9ITA7dHJ5e0woaSxlLHQscixuKX1maW5hbGx5eyhGPW8pfHxVKCl9fWZ1bmN0aW9uIFl0KGUsdCxyLG4pe1p0KHF0LEt0LmJpbmQobnVsbCxlLHQscixuKSl9ZnVuY3Rpb24gS3QoZSx0LHIsbil7aWYoJHQpaWYoMDx2dC5sZW5ndGgmJi0xPEN0LmluZGV4T2YoZSkpZT1rdChudWxsLGUsdCxyLG4pLHZ0LnB1c2goZSk7ZWxzZXt2YXIgaT1KdChlLHQscixuKTtpZihudWxsPT09aSlBdChlLG4pO2Vsc2UgaWYoLTE8Q3QuaW5kZXhPZihlKSllPWt0KGksZSx0LHIsbiksdnQucHVzaChlKTtlbHNlIGlmKCFmdW5jdGlvbihlLHQscixuLGkpe3N3aXRjaCh0KXtjYXNlXCJmb2N1c1wiOnJldHVybiB4dD1JdCh4dCxlLHQscixuLGkpLCEwO2Nhc2VcImRyYWdlbnRlclwiOnJldHVybiBidD1JdChidCxlLHQscixuLGkpLCEwO2Nhc2VcIm1vdXNlb3ZlclwiOnJldHVybiB3dD1JdCh3dCxlLHQscixuLGkpLCEwO2Nhc2VcInBvaW50ZXJvdmVyXCI6dmFyIG89aS5wb2ludGVySWQ7cmV0dXJuIFR0LnNldChvLEl0KFR0LmdldChvKXx8bnVsbCxlLHQscixuLGkpKSwhMDtjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOnJldHVybiBvPWkucG9pbnRlcklkLEV0LnNldChvLEl0KEV0LmdldChvKXx8bnVsbCxlLHQscixuLGkpKSwhMH1yZXR1cm4hMX0oaSxlLHQscixuKSl7QXQoZSxuKSxlPWR0KGUsbixudWxsLHQpO3RyeXtOKHB0LGUpfWZpbmFsbHl7aHQoZSl9fX19ZnVuY3Rpb24gSnQoZSx0LHIsbil7aWYobnVsbCE9PShyPUNyKHI9bHQobikpKSl7dmFyIGk9UWUocik7aWYobnVsbD09PWkpcj1udWxsO2Vsc2V7dmFyIG89aS50YWc7aWYoMTM9PT1vKXtpZihudWxsIT09KHI9ZXQoaSkpKXJldHVybiByO3I9bnVsbH1lbHNlIGlmKDM9PT1vKXtpZihpLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiAzPT09aS50YWc/aS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpudWxsO3I9bnVsbH1lbHNlIGkhPT1yJiYocj1udWxsKX19ZT1kdChlLG4scix0KTt0cnl7TihwdCxlKX1maW5hbGx5e2h0KGUpfXJldHVybiBudWxsfXZhciBRdD17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsYm9yZGVySW1hZ2VPdXRzZXQ6ITAsYm9yZGVySW1hZ2VTbGljZTohMCxib3JkZXJJbWFnZVdpZHRoOiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxjb2x1bW5zOiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkQXJlYTohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU1pdGVybGltaXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH0sZXI9W1wiV2Via2l0XCIsXCJtc1wiLFwiTW96XCIsXCJPXCJdO2Z1bmN0aW9uIHRyKGUsdCxyKXtyZXR1cm4gbnVsbD09dHx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxcIlwiPT09dD9cIlwiOnJ8fFwibnVtYmVyXCIhPXR5cGVvZiB0fHwwPT09dHx8UXQuaGFzT3duUHJvcGVydHkoZSkmJlF0W2VdPyhcIlwiK3QpLnRyaW0oKTp0K1wicHhcIn1mdW5jdGlvbiBycihlLHQpe2Zvcih2YXIgciBpbiBlPWUuc3R5bGUsdClpZih0Lmhhc093blByb3BlcnR5KHIpKXt2YXIgbj0wPT09ci5pbmRleE9mKFwiLS1cIiksaT10cihyLHRbcl0sbik7XCJmbG9hdFwiPT09ciYmKHI9XCJjc3NGbG9hdFwiKSxuP2Uuc2V0UHJvcGVydHkocixpKTplW3JdPWl9fU9iamVjdC5rZXlzKFF0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtlci5mb3JFYWNoKChmdW5jdGlvbih0KXt0PXQrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cmluZygxKSxRdFt0XT1RdFtlXX0pKX0pKTt2YXIgbnI9aSh7bWVudWl0ZW06ITB9LHthcmVhOiEwLGJhc2U6ITAsYnI6ITAsY29sOiEwLGVtYmVkOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITB9KTtmdW5jdGlvbiBpcihlLHQpe2lmKHQpe2lmKG5yW2VdJiYobnVsbCE9dC5jaGlsZHJlbnx8bnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IoYSgxMzcsZSxcIlwiKSk7aWYobnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCl7aWYobnVsbCE9dC5jaGlsZHJlbil0aHJvdyBFcnJvcihhKDYwKSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8fCEoXCJfX2h0bWxcImluIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKGEoNjEpKX1pZihudWxsIT10LnN0eWxlJiZcIm9iamVjdFwiIT10eXBlb2YgdC5zdHlsZSl0aHJvdyBFcnJvcihhKDYyLFwiXCIpKX19ZnVuY3Rpb24gb3IoZSx0KXtpZigtMT09PWUuaW5kZXhPZihcIi1cIikpcmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQuaXM7c3dpdGNoKGUpe2Nhc2VcImFubm90YXRpb24teG1sXCI6Y2FzZVwiY29sb3ItcHJvZmlsZVwiOmNhc2VcImZvbnQtZmFjZVwiOmNhc2VcImZvbnQtZmFjZS1zcmNcIjpjYXNlXCJmb250LWZhY2UtdXJpXCI6Y2FzZVwiZm9udC1mYWNlLWZvcm1hdFwiOmNhc2VcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZVwibWlzc2luZy1nbHlwaFwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fXZhciBhcj1SZTtmdW5jdGlvbiBzcihlLHQpe3ZhciByPUplKGU9OT09PWUubm9kZVR5cGV8fDExPT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudCk7dD1TW3RdO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWZ0KHRbbl0sZSxyKX1mdW5jdGlvbiBscigpe31mdW5jdGlvbiBjcihlKXtpZih2b2lkIDA9PT0oZT1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50OnZvaWQgMCkpKXJldHVybiBudWxsO3RyeXtyZXR1cm4gZS5hY3RpdmVFbGVtZW50fHxlLmJvZHl9Y2F0Y2godCl7cmV0dXJuIGUuYm9keX19ZnVuY3Rpb24gdXIoZSl7Zm9yKDtlJiZlLmZpcnN0Q2hpbGQ7KWU9ZS5maXJzdENoaWxkO3JldHVybiBlfWZ1bmN0aW9uIGhyKGUsdCl7dmFyIHIsbj11cihlKTtmb3IoZT0wO247KXtpZigzPT09bi5ub2RlVHlwZSl7aWYocj1lK24udGV4dENvbnRlbnQubGVuZ3RoLGU8PXQmJnI+PXQpcmV0dXJue25vZGU6bixvZmZzZXQ6dC1lfTtlPXJ9ZTp7Zm9yKDtuOyl7aWYobi5uZXh0U2libGluZyl7bj1uLm5leHRTaWJsaW5nO2JyZWFrIGV9bj1uLnBhcmVudE5vZGV9bj12b2lkIDB9bj11cihuKX19ZnVuY3Rpb24gZHIoKXtmb3IodmFyIGU9d2luZG93LHQ9Y3IoKTt0IGluc3RhbmNlb2YgZS5IVE1MSUZyYW1lRWxlbWVudDspe3RyeXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9Y2F0Y2goZSl7cj0hMX1pZighcilicmVhazt0PWNyKChlPXQuY29udGVudFdpbmRvdykuZG9jdW1lbnQpfXJldHVybiB0fWZ1bmN0aW9uIHByKGUpe3ZhciB0PWUmJmUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdCYmKFwiaW5wdXRcIj09PXQmJihcInRleHRcIj09PWUudHlwZXx8XCJzZWFyY2hcIj09PWUudHlwZXx8XCJ0ZWxcIj09PWUudHlwZXx8XCJ1cmxcIj09PWUudHlwZXx8XCJwYXNzd29yZFwiPT09ZS50eXBlKXx8XCJ0ZXh0YXJlYVwiPT09dHx8XCJ0cnVlXCI9PT1lLmNvbnRlbnRFZGl0YWJsZSl9dmFyIGZyPW51bGwsbXI9bnVsbDtmdW5jdGlvbiBncihlLHQpe3N3aXRjaChlKXtjYXNlXCJidXR0b25cIjpjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuISF0LmF1dG9Gb2N1c31yZXR1cm4hMX1mdW5jdGlvbiBfcihlLHQpe3JldHVyblwidGV4dGFyZWFcIj09PWV8fFwib3B0aW9uXCI9PT1lfHxcIm5vc2NyaXB0XCI9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgdC5jaGlsZHJlbnx8XCJudW1iZXJcIj09dHlwZW9mIHQuY2hpbGRyZW58fFwib2JqZWN0XCI9PXR5cGVvZiB0LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09dC5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWx9dmFyIHlyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp2b2lkIDAsdnI9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDp2b2lkIDA7ZnVuY3Rpb24geHIoZSl7Zm9yKDtudWxsIT1lO2U9ZS5uZXh0U2libGluZyl7dmFyIHQ9ZS5ub2RlVHlwZTtpZigxPT09dHx8Mz09PXQpYnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gYnIoZSl7ZT1lLnByZXZpb3VzU2libGluZztmb3IodmFyIHQ9MDtlOyl7aWYoOD09PWUubm9kZVR5cGUpe3ZhciByPWUuZGF0YTtpZihcIiRcIj09PXJ8fFwiJCFcIj09PXJ8fFwiJD9cIj09PXIpe2lmKDA9PT10KXJldHVybiBlO3QtLX1lbHNlXCIvJFwiPT09ciYmdCsrfWU9ZS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIHdyPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFRyPVwiX19yZWFjdEludGVybmFsSW5zdGFuY2UkXCIrd3IsRXI9XCJfX3JlYWN0RXZlbnRIYW5kbGVycyRcIit3cixTcj1cIl9fcmVhY3RDb250YWluZXJlJFwiK3dyO2Z1bmN0aW9uIENyKGUpe3ZhciB0PWVbVHJdO2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciByPWUucGFyZW50Tm9kZTtyOyl7aWYodD1yW1NyXXx8cltUcl0pe2lmKHI9dC5hbHRlcm5hdGUsbnVsbCE9PXQuY2hpbGR8fG51bGwhPT1yJiZudWxsIT09ci5jaGlsZClmb3IoZT1icihlKTtudWxsIT09ZTspe2lmKHI9ZVtUcl0pcmV0dXJuIHI7ZT1icihlKX1yZXR1cm4gdH1yPShlPXIpLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTXIoZSl7cmV0dXJuIShlPWVbVHJdfHxlW1NyXSl8fDUhPT1lLnRhZyYmNiE9PWUudGFnJiYxMyE9PWUudGFnJiYzIT09ZS50YWc/bnVsbDplfWZ1bmN0aW9uIGtyKGUpe2lmKDU9PT1lLnRhZ3x8Nj09PWUudGFnKXJldHVybiBlLnN0YXRlTm9kZTt0aHJvdyBFcnJvcihhKDMzKSl9ZnVuY3Rpb24gQXIoZSl7cmV0dXJuIGVbRXJdfHxudWxsfWZ1bmN0aW9uIElyKGUpe2Rve2U9ZS5yZXR1cm59d2hpbGUoZSYmNSE9PWUudGFnKTtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiBQcihlLHQpe3ZhciByPWUuc3RhdGVOb2RlO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPWYocik7aWYoIW4pcmV0dXJuIG51bGw7cj1uW3RdO2U6c3dpdGNoKHQpe2Nhc2VcIm9uQ2xpY2tcIjpjYXNlXCJvbkNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uRG91YmxlQ2xpY2tcIjpjYXNlXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uTW91c2VEb3duXCI6Y2FzZVwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZVwib25Nb3VzZU1vdmVcIjpjYXNlXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpjYXNlXCJvbk1vdXNlVXBcIjpjYXNlXCJvbk1vdXNlVXBDYXB0dXJlXCI6Y2FzZVwib25Nb3VzZUVudGVyXCI6KG49IW4uZGlzYWJsZWQpfHwobj0hKFwiYnV0dG9uXCI9PT0oZT1lLnR5cGUpfHxcImlucHV0XCI9PT1lfHxcInNlbGVjdFwiPT09ZXx8XCJ0ZXh0YXJlYVwiPT09ZSkpLGU9IW47YnJlYWsgZTtkZWZhdWx0OmU9ITF9aWYoZSlyZXR1cm4gbnVsbDtpZihyJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IEVycm9yKGEoMjMxLHQsdHlwZW9mIHIpKTtyZXR1cm4gcn1mdW5jdGlvbiB6cihlLHQscil7KHQ9UHIoZSxyLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3RdKSkmJihyLl9kaXNwYXRjaExpc3RlbmVycz1udChyLl9kaXNwYXRjaExpc3RlbmVycyx0KSxyLl9kaXNwYXRjaEluc3RhbmNlcz1udChyLl9kaXNwYXRjaEluc3RhbmNlcyxlKSl9ZnVuY3Rpb24gRHIoZSl7aWYoZSYmZS5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcyl7Zm9yKHZhciB0PWUuX3RhcmdldEluc3Qscj1bXTt0OylyLnB1c2godCksdD1Jcih0KTtmb3IodD1yLmxlbmd0aDswPHQtLTspenIoclt0XSxcImNhcHR1cmVkXCIsZSk7Zm9yKHQ9MDt0PHIubGVuZ3RoO3QrKyl6cihyW3RdLFwiYnViYmxlZFwiLGUpfX1mdW5jdGlvbiBScihlLHQscil7ZSYmciYmci5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lJiYodD1QcihlLHIuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkpJiYoci5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnQoci5fZGlzcGF0Y2hMaXN0ZW5lcnMsdCksci5fZGlzcGF0Y2hJbnN0YW5jZXM9bnQoci5fZGlzcGF0Y2hJbnN0YW5jZXMsZSkpfWZ1bmN0aW9uIExyKGUpe2UmJmUuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmUnIoZS5fdGFyZ2V0SW5zdCxudWxsLGUpfWZ1bmN0aW9uIE9yKGUpe2l0KGUsRHIpfXZhciBCcj1udWxsLEZyPW51bGwsanI9bnVsbDtmdW5jdGlvbiBVcigpe2lmKGpyKXJldHVybiBqcjt2YXIgZSx0LHI9RnIsbj1yLmxlbmd0aCxpPVwidmFsdWVcImluIEJyP0JyLnZhbHVlOkJyLnRleHRDb250ZW50LG89aS5sZW5ndGg7Zm9yKGU9MDtlPG4mJnJbZV09PT1pW2VdO2UrKyk7dmFyIGE9bi1lO2Zvcih0PTE7dDw9YSYmcltuLXRdPT09aVtvLXRdO3QrKyk7cmV0dXJuIGpyPWkuc2xpY2UoZSwxPHQ/MS10OnZvaWQgMCl9ZnVuY3Rpb24gTnIoKXtyZXR1cm4hMH1mdW5jdGlvbiBWcigpe3JldHVybiExfWZ1bmN0aW9uIEdyKGUsdCxyLG4pe2Zvcih2YXIgaSBpbiB0aGlzLmRpc3BhdGNoQ29uZmlnPWUsdGhpcy5fdGFyZ2V0SW5zdD10LHRoaXMubmF0aXZlRXZlbnQ9cixlPXRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlKWUuaGFzT3duUHJvcGVydHkoaSkmJigodD1lW2ldKT90aGlzW2ldPXQocik6XCJ0YXJnZXRcIj09PWk/dGhpcy50YXJnZXQ9bjp0aGlzW2ldPXJbaV0pO3JldHVybiB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD0obnVsbCE9ci5kZWZhdWx0UHJldmVudGVkP3IuZGVmYXVsdFByZXZlbnRlZDohMT09PXIucmV0dXJuVmFsdWUpP05yOlZyLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9VnIsdGhpc31mdW5jdGlvbiBxcihlLHQscixuKXtpZih0aGlzLmV2ZW50UG9vbC5sZW5ndGgpe3ZhciBpPXRoaXMuZXZlbnRQb29sLnBvcCgpO3JldHVybiB0aGlzLmNhbGwoaSxlLHQscixuKSxpfXJldHVybiBuZXcgdGhpcyhlLHQscixuKX1mdW5jdGlvbiBacihlKXtpZighKGUgaW5zdGFuY2VvZiB0aGlzKSl0aHJvdyBFcnJvcihhKDI3OSkpO2UuZGVzdHJ1Y3RvcigpLDEwPnRoaXMuZXZlbnRQb29sLmxlbmd0aCYmdGhpcy5ldmVudFBvb2wucHVzaChlKX1mdW5jdGlvbiAkcihlKXtlLmV2ZW50UG9vbD1bXSxlLmdldFBvb2xlZD1xcixlLnJlbGVhc2U9WnJ9aShHci5wcm90b3R5cGUse3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3ZhciBlPXRoaXMubmF0aXZlRXZlbnQ7ZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOlwidW5rbm93blwiIT10eXBlb2YgZS5yZXR1cm5WYWx1ZSYmKGUucmV0dXJuVmFsdWU9ITEpLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPU5yKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXRpdmVFdmVudDtlJiYoZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9dHlwZW9mIGUuY2FuY2VsQnViYmxlJiYoZS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9TnIpfSxwZXJzaXN0OmZ1bmN0aW9uKCl7dGhpcy5pc1BlcnNpc3RlbnQ9TnJ9LGlzUGVyc2lzdGVudDpWcixkZXN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtmb3IoZSBpbiB0KXRoaXNbZV09bnVsbDt0aGlzLm5hdGl2ZUV2ZW50PXRoaXMuX3RhcmdldEluc3Q9dGhpcy5kaXNwYXRjaENvbmZpZz1udWxsLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9VnIsdGhpcy5fZGlzcGF0Y2hJbnN0YW5jZXM9dGhpcy5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbH19KSxHci5JbnRlcmZhY2U9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV2ZW50UGhhc2U6bnVsbCxidWJibGVzOm51bGwsY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gZS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH0sR3IuZXh0ZW5kPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gcigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10aGlzO3QucHJvdG90eXBlPW4ucHJvdG90eXBlO3ZhciBvPW5ldyB0O3JldHVybiBpKG8sci5wcm90b3R5cGUpLHIucHJvdG90eXBlPW8sci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLkludGVyZmFjZT1pKHt9LG4uSW50ZXJmYWNlLGUpLHIuZXh0ZW5kPW4uZXh0ZW5kLCRyKHIpLHJ9LCRyKEdyKTt2YXIgV3I9R3IuZXh0ZW5kKHtkYXRhOm51bGx9KSxYcj1Hci5leHRlbmQoe2RhdGE6bnVsbH0pLEhyPVs5LDEzLDI3LDMyXSxZcj1NJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxLcj1udWxsO00mJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmKEtyPWRvY3VtZW50LmRvY3VtZW50TW9kZSk7dmFyIEpyPU0mJlwiVGV4dEV2ZW50XCJpbiB3aW5kb3cmJiFLcixRcj1NJiYoIVlyfHxLciYmODxLciYmMTE+PUtyKSxlbj1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSx0bj17YmVmb3JlSW5wdXQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25CZWZvcmVJbnB1dFwiLGNhcHR1cmVkOlwib25CZWZvcmVJbnB1dENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltcImNvbXBvc2l0aW9uZW5kXCIsXCJrZXlwcmVzc1wiLFwidGV4dElucHV0XCIsXCJwYXN0ZVwiXX0sY29tcG9zaXRpb25FbmQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvbkVuZFwiLGNhcHR1cmVkOlwib25Db21wb3NpdGlvbkVuZENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbmVuZCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uU3RhcnRcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfSxjb21wb3NpdGlvblVwZGF0ZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsY2FwdHVyZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbXBvc2l0aW9udXBkYXRlIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfX0scm49ITE7ZnVuY3Rpb24gbm4oZSx0KXtzd2l0Y2goZSl7Y2FzZVwia2V5dXBcIjpyZXR1cm4tMSE9PUhyLmluZGV4T2YodC5rZXlDb2RlKTtjYXNlXCJrZXlkb3duXCI6cmV0dXJuIDIyOSE9PXQua2V5Q29kZTtjYXNlXCJrZXlwcmVzc1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcImJsdXJcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YoZT1lLmRldGFpbCkmJlwiZGF0YVwiaW4gZT9lLmRhdGE6bnVsbH12YXIgYW49ITE7dmFyIHNuPXtldmVudFR5cGVzOnRuLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk7aWYoWXIpZTp7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uc3RhcnRcIjp2YXIgbz10bi5jb21wb3NpdGlvblN0YXJ0O2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb25lbmRcIjpvPXRuLmNvbXBvc2l0aW9uRW5kO2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb251cGRhdGVcIjpvPXRuLmNvbXBvc2l0aW9uVXBkYXRlO2JyZWFrIGV9bz12b2lkIDB9ZWxzZSBhbj9ubihlLHIpJiYobz10bi5jb21wb3NpdGlvbkVuZCk6XCJrZXlkb3duXCI9PT1lJiYyMjk9PT1yLmtleUNvZGUmJihvPXRuLmNvbXBvc2l0aW9uU3RhcnQpO3JldHVybiBvPyhRciYmXCJrb1wiIT09ci5sb2NhbGUmJihhbnx8byE9PXRuLmNvbXBvc2l0aW9uU3RhcnQ/bz09PXRuLmNvbXBvc2l0aW9uRW5kJiZhbiYmKGk9VXIoKSk6KEZyPVwidmFsdWVcImluKEJyPW4pP0JyLnZhbHVlOkJyLnRleHRDb250ZW50LGFuPSEwKSksbz1Xci5nZXRQb29sZWQobyx0LHIsbiksaT9vLmRhdGE9aTpudWxsIT09KGk9b24ocikpJiYoby5kYXRhPWkpLE9yKG8pLGk9byk6aT1udWxsLChlPUpyP2Z1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIG9uKHQpO2Nhc2VcImtleXByZXNzXCI6cmV0dXJuIDMyIT09dC53aGljaD9udWxsOihybj0hMCxlbik7Y2FzZVwidGV4dElucHV0XCI6cmV0dXJuKGU9dC5kYXRhKT09PWVuJiZybj9udWxsOmU7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUscik6ZnVuY3Rpb24oZSx0KXtpZihhbilyZXR1cm5cImNvbXBvc2l0aW9uZW5kXCI9PT1lfHwhWXImJm5uKGUsdCk/KGU9VXIoKSxqcj1Gcj1Ccj1udWxsLGFuPSExLGUpOm51bGw7c3dpdGNoKGUpe2Nhc2VcInBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZVwia2V5cHJlc3NcIjppZighKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fHQuY3RybEtleSYmdC5hbHRLZXkpe2lmKHQuY2hhciYmMTx0LmNoYXIubGVuZ3RoKXJldHVybiB0LmNoYXI7aWYodC53aGljaClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0LndoaWNoKX1yZXR1cm4gbnVsbDtjYXNlXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiBRciYmXCJrb1wiIT09dC5sb2NhbGU/bnVsbDp0LmRhdGE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUscikpPygodD1Yci5nZXRQb29sZWQodG4uYmVmb3JlSW5wdXQsdCxyLG4pKS5kYXRhPWUsT3IodCkpOnQ9bnVsbCxudWxsPT09aT90Om51bGw9PT10P2k6W2ksdF19fSxsbj17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiBjbihlKXt2YXIgdD1lJiZlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dD8hIWxuW2UudHlwZV06XCJ0ZXh0YXJlYVwiPT09dH12YXIgdW49e2NoYW5nZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNoYW5nZVwiLGNhcHR1cmVkOlwib25DaGFuZ2VDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcImJsdXIgY2hhbmdlIGNsaWNrIGZvY3VzIGlucHV0IGtleWRvd24ga2V5dXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXCIgXCIpfX07ZnVuY3Rpb24gaG4oZSx0LHIpe3JldHVybihlPUdyLmdldFBvb2xlZCh1bi5jaGFuZ2UsZSx0LHIpKS50eXBlPVwiY2hhbmdlXCIseihyKSxPcihlKSxlfXZhciBkbj1udWxsLHBuPW51bGw7ZnVuY3Rpb24gZm4oZSl7c3QoZSl9ZnVuY3Rpb24gbW4oZSl7aWYoYmUoa3IoZSkpKXJldHVybiBlfWZ1bmN0aW9uIGduKGUsdCl7aWYoXCJjaGFuZ2VcIj09PWUpcmV0dXJuIHR9dmFyIF9uPSExO2Z1bmN0aW9uIHluKCl7ZG4mJihkbi5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2bikscG49ZG49bnVsbCl9ZnVuY3Rpb24gdm4oZSl7aWYoXCJ2YWx1ZVwiPT09ZS5wcm9wZXJ0eU5hbWUmJm1uKHBuKSlpZihlPWhuKHBuLGUsbHQoZSkpLEYpc3QoZSk7ZWxzZXtGPSEwO3RyeXtSKGZuLGUpfWZpbmFsbHl7Rj0hMSxVKCl9fX1mdW5jdGlvbiB4bihlLHQscil7XCJmb2N1c1wiPT09ZT8oeW4oKSxwbj1yLChkbj10KS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2bikpOlwiYmx1clwiPT09ZSYmeW4oKX1mdW5jdGlvbiBibihlKXtpZihcInNlbGVjdGlvbmNoYW5nZVwiPT09ZXx8XCJrZXl1cFwiPT09ZXx8XCJrZXlkb3duXCI9PT1lKXJldHVybiBtbihwbil9ZnVuY3Rpb24gd24oZSx0KXtpZihcImNsaWNrXCI9PT1lKXJldHVybiBtbih0KX1mdW5jdGlvbiBUbihlLHQpe2lmKFwiaW5wdXRcIj09PWV8fFwiY2hhbmdlXCI9PT1lKXJldHVybiBtbih0KX1NJiYoX249Y3QoXCJpbnB1dFwiKSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7dmFyIEVuPXtldmVudFR5cGVzOnVuLF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6X24sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10P2tyKHQpOndpbmRvdyxvPWkubm9kZU5hbWUmJmkubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09b3x8XCJpbnB1dFwiPT09byYmXCJmaWxlXCI9PT1pLnR5cGUpdmFyIGE9Z247ZWxzZSBpZihjbihpKSlpZihfbilhPVRuO2Vsc2V7YT1ibjt2YXIgcz14bn1lbHNlKG89aS5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PW8udG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PWkudHlwZXx8XCJyYWRpb1wiPT09aS50eXBlKSYmKGE9d24pO2lmKGEmJihhPWEoZSx0KSkpcmV0dXJuIGhuKGEscixuKTtzJiZzKGUsaSx0KSxcImJsdXJcIj09PWUmJihlPWkuX3dyYXBwZXJTdGF0ZSkmJmUuY29udHJvbGxlZCYmXCJudW1iZXJcIj09PWkudHlwZSYmTWUoaSxcIm51bWJlclwiLGkudmFsdWUpfX0sU249R3IuZXh0ZW5kKHt2aWV3Om51bGwsZGV0YWlsOm51bGx9KSxDbj17QWx0OlwiYWx0S2V5XCIsQ29udHJvbDpcImN0cmxLZXlcIixNZXRhOlwibWV0YUtleVwiLFNoaWZ0Olwic2hpZnRLZXlcIn07ZnVuY3Rpb24gTW4oZSl7dmFyIHQ9dGhpcy5uYXRpdmVFdmVudDtyZXR1cm4gdC5nZXRNb2RpZmllclN0YXRlP3QuZ2V0TW9kaWZpZXJTdGF0ZShlKTohIShlPUNuW2VdKSYmISF0W2VdfWZ1bmN0aW9uIGtuKCl7cmV0dXJuIE1ufXZhciBBbj0wLEluPTAsUG49ITEsem49ITEsRG49U24uZXh0ZW5kKHtzY3JlZW5YOm51bGwsc2NyZWVuWTpudWxsLGNsaWVudFg6bnVsbCxjbGllbnRZOm51bGwscGFnZVg6bnVsbCxwYWdlWTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxnZXRNb2RpZmllclN0YXRlOmtuLGJ1dHRvbjpudWxsLGJ1dHRvbnM6bnVsbCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbGF0ZWRUYXJnZXR8fChlLmZyb21FbGVtZW50PT09ZS5zcmNFbGVtZW50P2UudG9FbGVtZW50OmUuZnJvbUVsZW1lbnQpfSxtb3ZlbWVudFg6ZnVuY3Rpb24oZSl7aWYoXCJtb3ZlbWVudFhcImluIGUpcmV0dXJuIGUubW92ZW1lbnRYO3ZhciB0PUFuO3JldHVybiBBbj1lLnNjcmVlblgsUG4/XCJtb3VzZW1vdmVcIj09PWUudHlwZT9lLnNjcmVlblgtdDowOihQbj0hMCwwKX0sbW92ZW1lbnRZOmZ1bmN0aW9uKGUpe2lmKFwibW92ZW1lbnRZXCJpbiBlKXJldHVybiBlLm1vdmVtZW50WTt2YXIgdD1JbjtyZXR1cm4gSW49ZS5zY3JlZW5ZLHpuP1wibW91c2Vtb3ZlXCI9PT1lLnR5cGU/ZS5zY3JlZW5ZLXQ6MDooem49ITAsMCl9fSksUm49RG4uZXh0ZW5kKHtwb2ludGVySWQ6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLHByZXNzdXJlOm51bGwsdGFuZ2VudGlhbFByZXNzdXJlOm51bGwsdGlsdFg6bnVsbCx0aWx0WTpudWxsLHR3aXN0Om51bGwscG9pbnRlclR5cGU6bnVsbCxpc1ByaW1hcnk6bnVsbH0pLExuPXttb3VzZUVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Nb3VzZUVudGVyXCIsZGVwZW5kZW5jaWVzOltcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl19LG1vdXNlTGVhdmU6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlTGVhdmVcIixkZXBlbmRlbmNpZXM6W1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXX0scG9pbnRlckVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Qb2ludGVyRW50ZXJcIixkZXBlbmRlbmNpZXM6W1wicG9pbnRlcm91dFwiLFwicG9pbnRlcm92ZXJcIl19LHBvaW50ZXJMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uUG9pbnRlckxlYXZlXCIsZGVwZW5kZW5jaWVzOltcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdfX0sT249e2V2ZW50VHlwZXM6TG4sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBvPVwibW91c2VvdmVyXCI9PT1lfHxcInBvaW50ZXJvdmVyXCI9PT1lLGE9XCJtb3VzZW91dFwiPT09ZXx8XCJwb2ludGVyb3V0XCI9PT1lO2lmKG8mJjA9PSgzMiZpKSYmKHIucmVsYXRlZFRhcmdldHx8ci5mcm9tRWxlbWVudCl8fCFhJiYhbylyZXR1cm4gbnVsbDsobz1uLndpbmRvdz09PW4/bjoobz1uLm93bmVyRG9jdW1lbnQpP28uZGVmYXVsdFZpZXd8fG8ucGFyZW50V2luZG93OndpbmRvdyxhKT8oYT10LG51bGwhPT0odD0odD1yLnJlbGF0ZWRUYXJnZXR8fHIudG9FbGVtZW50KT9Dcih0KTpudWxsKSYmKHQhPT1RZSh0KXx8NSE9PXQudGFnJiY2IT09dC50YWcpJiYodD1udWxsKSk6YT1udWxsO2lmKGE9PT10KXJldHVybiBudWxsO2lmKFwibW91c2VvdXRcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXZhciBzPURuLGw9TG4ubW91c2VMZWF2ZSxjPUxuLm1vdXNlRW50ZXIsdT1cIm1vdXNlXCI7ZWxzZVwicG9pbnRlcm91dFwiIT09ZSYmXCJwb2ludGVyb3ZlclwiIT09ZXx8KHM9Um4sbD1Mbi5wb2ludGVyTGVhdmUsYz1Mbi5wb2ludGVyRW50ZXIsdT1cInBvaW50ZXJcIik7aWYoZT1udWxsPT1hP286a3IoYSksbz1udWxsPT10P286a3IodCksKGw9cy5nZXRQb29sZWQobCxhLHIsbikpLnR5cGU9dStcImxlYXZlXCIsbC50YXJnZXQ9ZSxsLnJlbGF0ZWRUYXJnZXQ9bywocj1zLmdldFBvb2xlZChjLHQscixuKSkudHlwZT11K1wiZW50ZXJcIixyLnRhcmdldD1vLHIucmVsYXRlZFRhcmdldD1lLHU9dCwobj1hKSYmdSllOntmb3IoYz11LGE9MCxlPXM9bjtlO2U9SXIoZSkpYSsrO2ZvcihlPTAsdD1jO3Q7dD1Jcih0KSllKys7Zm9yKDswPGEtZTspcz1JcihzKSxhLS07Zm9yKDswPGUtYTspYz1JcihjKSxlLS07Zm9yKDthLS07KXtpZihzPT09Y3x8cz09PWMuYWx0ZXJuYXRlKWJyZWFrIGU7cz1JcihzKSxjPUlyKGMpfXM9bnVsbH1lbHNlIHM9bnVsbDtmb3IoYz1zLHM9W107biYmbiE9PWMmJihudWxsPT09KGE9bi5hbHRlcm5hdGUpfHxhIT09Yyk7KXMucHVzaChuKSxuPUlyKG4pO2ZvcihuPVtdO3UmJnUhPT1jJiYobnVsbD09PShhPXUuYWx0ZXJuYXRlKXx8YSE9PWMpOyluLnB1c2godSksdT1Jcih1KTtmb3IodT0wO3U8cy5sZW5ndGg7dSsrKVJyKHNbdV0sXCJidWJibGVkXCIsbCk7Zm9yKHU9bi5sZW5ndGg7MDx1LS07KVJyKG5bdV0sXCJjYXB0dXJlZFwiLHIpO3JldHVybiAwPT0oNjQmaSk/W2xdOltsLHJdfX07dmFyIEJuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJigwIT09ZXx8MS9lPT0xL3QpfHxlIT1lJiZ0IT10fSxGbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGpuKGUsdCl7aWYoQm4oZSx0KSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTt2YXIgcj1PYmplY3Qua2V5cyhlKSxuPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKG49MDtuPHIubGVuZ3RoO24rKylpZighRm4uY2FsbCh0LHJbbl0pfHwhQm4oZVtyW25dXSx0W3Jbbl1dKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgVW49TSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLE5uPXtzZWxlY3Q6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25TZWxlY3RcIixjYXB0dXJlZDpcIm9uU2VsZWN0Q2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXMga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIil9fSxWbj1udWxsLEduPW51bGwscW49bnVsbCxabj0hMTtmdW5jdGlvbiAkbihlLHQpe3ZhciByPXQud2luZG93PT09dD90LmRvY3VtZW50Ojk9PT10Lm5vZGVUeXBlP3Q6dC5vd25lckRvY3VtZW50O3JldHVybiBabnx8bnVsbD09Vm58fFZuIT09Y3Iocik/bnVsbDooXCJzZWxlY3Rpb25TdGFydFwiaW4ocj1WbikmJnByKHIpP3I9e3N0YXJ0OnIuc2VsZWN0aW9uU3RhcnQsZW5kOnIuc2VsZWN0aW9uRW5kfTpyPXthbmNob3JOb2RlOihyPShyLm93bmVyRG9jdW1lbnQmJnIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRTZWxlY3Rpb24oKSkuYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6ci5hbmNob3JPZmZzZXQsZm9jdXNOb2RlOnIuZm9jdXNOb2RlLGZvY3VzT2Zmc2V0OnIuZm9jdXNPZmZzZXR9LHFuJiZqbihxbixyKT9udWxsOihxbj1yLChlPUdyLmdldFBvb2xlZChObi5zZWxlY3QsR24sZSx0KSkudHlwZT1cInNlbGVjdFwiLGUudGFyZ2V0PVZuLE9yKGUpLGUpKX12YXIgV249e2V2ZW50VHlwZXM6Tm4sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQscixuLGksbyl7aWYoIShvPSEoaT1vfHwobi53aW5kb3c9PT1uP24uZG9jdW1lbnQ6OT09PW4ubm9kZVR5cGU/bjpuLm93bmVyRG9jdW1lbnQpKSkpe2U6e2k9SmUoaSksbz1TLm9uU2VsZWN0O2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWlmKCFpLmhhcyhvW2FdKSl7aT0hMTticmVhayBlfWk9ITB9bz0haX1pZihvKXJldHVybiBudWxsO3N3aXRjaChpPXQ/a3IodCk6d2luZG93LGUpe2Nhc2VcImZvY3VzXCI6KGNuKGkpfHxcInRydWVcIj09PWkuY29udGVudEVkaXRhYmxlKSYmKFZuPWksR249dCxxbj1udWxsKTticmVhaztjYXNlXCJibHVyXCI6cW49R249Vm49bnVsbDticmVhaztjYXNlXCJtb3VzZWRvd25cIjpabj0hMDticmVhaztjYXNlXCJjb250ZXh0bWVudVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJkcmFnZW5kXCI6cmV0dXJuIFpuPSExLCRuKHIsbik7Y2FzZVwic2VsZWN0aW9uY2hhbmdlXCI6aWYoVW4pYnJlYWs7Y2FzZVwia2V5ZG93blwiOmNhc2VcImtleXVwXCI6cmV0dXJuICRuKHIsbil9cmV0dXJuIG51bGx9fSxYbj1Hci5leHRlbmQoe2FuaW1hdGlvbk5hbWU6bnVsbCxlbGFwc2VkVGltZTpudWxsLHBzZXVkb0VsZW1lbnQ6bnVsbH0pLEhuPUdyLmV4dGVuZCh7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGU/ZS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pLFluPVNuLmV4dGVuZCh7cmVsYXRlZFRhcmdldDpudWxsfSk7ZnVuY3Rpb24gS24oZSl7dmFyIHQ9ZS5rZXlDb2RlO3JldHVyblwiY2hhckNvZGVcImluIGU/MD09PShlPWUuY2hhckNvZGUpJiYxMz09PXQmJihlPTEzKTplPXQsMTA9PT1lJiYoZT0xMyksMzI8PWV8fDEzPT09ZT9lOjB9dmFyIEpuPXtFc2M6XCJFc2NhcGVcIixTcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxRbj17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwyMjQ6XCJNZXRhXCJ9LGVpPVNuLmV4dGVuZCh7a2V5OmZ1bmN0aW9uKGUpe2lmKGUua2V5KXt2YXIgdD1KbltlLmtleV18fGUua2V5O2lmKFwiVW5pZGVudGlmaWVkXCIhPT10KXJldHVybiB0fXJldHVyblwia2V5cHJlc3NcIj09PWUudHlwZT8xMz09PShlPUtuKGUpKT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShlKTpcImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP1FuW2Uua2V5Q29kZV18fFwiVW5pZGVudGlmaWVkXCI6XCJcIn0sbG9jYXRpb246bnVsbCxjdHJsS2V5Om51bGwsc2hpZnRLZXk6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwscmVwZWF0Om51bGwsbG9jYWxlOm51bGwsZ2V0TW9kaWZpZXJTdGF0ZTprbixjaGFyQ29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/S24oZSk6MH0sa2V5Q29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP2Uua2V5Q29kZTowfSx3aGljaDpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/S24oZSk6XCJrZXlkb3duXCI9PT1lLnR5cGV8fFwia2V5dXBcIj09PWUudHlwZT9lLmtleUNvZGU6MH19KSx0aT1Ebi5leHRlbmQoe2RhdGFUcmFuc2ZlcjpudWxsfSkscmk9U24uZXh0ZW5kKHt0b3VjaGVzOm51bGwsdGFyZ2V0VG91Y2hlczpudWxsLGNoYW5nZWRUb3VjaGVzOm51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6a259KSxuaT1Hci5leHRlbmQoe3Byb3BlcnR5TmFtZTpudWxsLGVsYXBzZWRUaW1lOm51bGwscHNldWRvRWxlbWVudDpudWxsfSksaWk9RG4uZXh0ZW5kKHtkZWx0YVg6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVhcImluIGU/ZS5kZWx0YVg6XCJ3aGVlbERlbHRhWFwiaW4gZT8tZS53aGVlbERlbHRhWDowfSxkZWx0YVk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVlcImluIGU/ZS5kZWx0YVk6XCJ3aGVlbERlbHRhWVwiaW4gZT8tZS53aGVlbERlbHRhWTpcIndoZWVsRGVsdGFcImluIGU/LWUud2hlZWxEZWx0YTowfSxkZWx0YVo6bnVsbCxkZWx0YU1vZGU6bnVsbH0pLG9pPXtldmVudFR5cGVzOkJ0LGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9RnQuZ2V0KGUpO2lmKCFpKXJldHVybiBudWxsO3N3aXRjaChlKXtjYXNlXCJrZXlwcmVzc1wiOmlmKDA9PT1LbihyKSlyZXR1cm4gbnVsbDtjYXNlXCJrZXlkb3duXCI6Y2FzZVwia2V5dXBcIjplPWVpO2JyZWFrO2Nhc2VcImJsdXJcIjpjYXNlXCJmb2N1c1wiOmU9WW47YnJlYWs7Y2FzZVwiY2xpY2tcIjppZigyPT09ci5idXR0b24pcmV0dXJuIG51bGw7Y2FzZVwiYXV4Y2xpY2tcIjpjYXNlXCJkYmxjbGlja1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcIm1vdXNlbW92ZVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJtb3VzZW91dFwiOmNhc2VcIm1vdXNlb3ZlclwiOmNhc2VcImNvbnRleHRtZW51XCI6ZT1EbjticmVhaztjYXNlXCJkcmFnXCI6Y2FzZVwiZHJhZ2VuZFwiOmNhc2VcImRyYWdlbnRlclwiOmNhc2VcImRyYWdleGl0XCI6Y2FzZVwiZHJhZ2xlYXZlXCI6Y2FzZVwiZHJhZ292ZXJcIjpjYXNlXCJkcmFnc3RhcnRcIjpjYXNlXCJkcm9wXCI6ZT10aTticmVhaztjYXNlXCJ0b3VjaGNhbmNlbFwiOmNhc2VcInRvdWNoZW5kXCI6Y2FzZVwidG91Y2htb3ZlXCI6Y2FzZVwidG91Y2hzdGFydFwiOmU9cmk7YnJlYWs7Y2FzZSAkZTpjYXNlIFdlOmNhc2UgWGU6ZT1YbjticmVhaztjYXNlIEhlOmU9bmk7YnJlYWs7Y2FzZVwic2Nyb2xsXCI6ZT1TbjticmVhaztjYXNlXCJ3aGVlbFwiOmU9aWk7YnJlYWs7Y2FzZVwiY29weVwiOmNhc2VcImN1dFwiOmNhc2VcInBhc3RlXCI6ZT1IbjticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcInBvaW50ZXJjYW5jZWxcIjpjYXNlXCJwb2ludGVyZG93blwiOmNhc2VcInBvaW50ZXJtb3ZlXCI6Y2FzZVwicG9pbnRlcm91dFwiOmNhc2VcInBvaW50ZXJvdmVyXCI6Y2FzZVwicG9pbnRlcnVwXCI6ZT1SbjticmVhaztkZWZhdWx0OmU9R3J9cmV0dXJuIE9yKHQ9ZS5nZXRQb29sZWQoaSx0LHIsbikpLHR9fTtpZih5KXRocm93IEVycm9yKGEoMTAxKSk7eT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXCIuc3BsaXQoXCIgXCIpKSx4KCksZj1BcixtPU1yLGc9a3IsQyh7U2ltcGxlRXZlbnRQbHVnaW46b2ksRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOk9uLENoYW5nZUV2ZW50UGx1Z2luOkVuLFNlbGVjdEV2ZW50UGx1Z2luOlduLEJlZm9yZUlucHV0RXZlbnRQbHVnaW46c259KTt2YXIgYWk9W10sc2k9LTE7ZnVuY3Rpb24gbGkoZSl7MD5zaXx8KGUuY3VycmVudD1haVtzaV0sYWlbc2ldPW51bGwsc2ktLSl9ZnVuY3Rpb24gY2koZSx0KXtzaSsrLGFpW3NpXT1lLmN1cnJlbnQsZS5jdXJyZW50PXR9dmFyIHVpPXt9LGhpPXtjdXJyZW50OnVpfSxkaT17Y3VycmVudDohMX0scGk9dWk7ZnVuY3Rpb24gZmkoZSx0KXt2YXIgcj1lLnR5cGUuY29udGV4dFR5cGVzO2lmKCFyKXJldHVybiB1aTt2YXIgbj1lLnN0YXRlTm9kZTtpZihuJiZuLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT10KXJldHVybiBuLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciBpLG89e307Zm9yKGkgaW4gcilvW2ldPXRbaV07cmV0dXJuIG4mJigoZT1lLnN0YXRlTm9kZSkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD10LGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9byksb31mdW5jdGlvbiBtaShlKXtyZXR1cm4gbnVsbCE9KGU9ZS5jaGlsZENvbnRleHRUeXBlcyl9ZnVuY3Rpb24gZ2koKXtsaShkaSksbGkoaGkpfWZ1bmN0aW9uIF9pKGUsdCxyKXtpZihoaS5jdXJyZW50IT09dWkpdGhyb3cgRXJyb3IoYSgxNjgpKTtjaShoaSx0KSxjaShkaSxyKX1mdW5jdGlvbiB5aShlLHQscil7dmFyIG49ZS5zdGF0ZU5vZGU7aWYoZT10LmNoaWxkQ29udGV4dFR5cGVzLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4uZ2V0Q2hpbGRDb250ZXh0KXJldHVybiByO2Zvcih2YXIgbyBpbiBuPW4uZ2V0Q2hpbGRDb250ZXh0KCkpaWYoIShvIGluIGUpKXRocm93IEVycm9yKGEoMTA4LGdlKHQpfHxcIlVua25vd25cIixvKSk7cmV0dXJuIGkoe30scix7fSxuKX1mdW5jdGlvbiB2aShlKXtyZXR1cm4gZT0oZT1lLnN0YXRlTm9kZSkmJmUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fHVpLHBpPWhpLmN1cnJlbnQsY2koaGksZSksY2koZGksZGkuY3VycmVudCksITB9ZnVuY3Rpb24geGkoZSx0LHIpe3ZhciBuPWUuc3RhdGVOb2RlO2lmKCFuKXRocm93IEVycm9yKGEoMTY5KSk7cj8oZT15aShlLHQscGkpLG4uX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ9ZSxsaShkaSksbGkoaGkpLGNpKGhpLGUpKTpsaShkaSksY2koZGkscil9dmFyIGJpPW8udW5zdGFibGVfcnVuV2l0aFByaW9yaXR5LHdpPW8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxUaT1vLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLEVpPW8udW5zdGFibGVfcmVxdWVzdFBhaW50LFNpPW8udW5zdGFibGVfbm93LENpPW8udW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsTWk9by51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxraT1vLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LEFpPW8udW5zdGFibGVfTm9ybWFsUHJpb3JpdHksSWk9by51bnN0YWJsZV9Mb3dQcmlvcml0eSxQaT1vLnVuc3RhYmxlX0lkbGVQcmlvcml0eSx6aT17fSxEaT1vLnVuc3RhYmxlX3Nob3VsZFlpZWxkLFJpPXZvaWQgMCE9PUVpP0VpOmZ1bmN0aW9uKCl7fSxMaT1udWxsLE9pPW51bGwsQmk9ITEsRmk9U2koKSxqaT0xZTQ+Rmk/U2k6ZnVuY3Rpb24oKXtyZXR1cm4gU2koKS1GaX07ZnVuY3Rpb24gVWkoKXtzd2l0Y2goQ2koKSl7Y2FzZSBNaTpyZXR1cm4gOTk7Y2FzZSBraTpyZXR1cm4gOTg7Y2FzZSBBaTpyZXR1cm4gOTc7Y2FzZSBJaTpyZXR1cm4gOTY7Y2FzZSBQaTpyZXR1cm4gOTU7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBOaShlKXtzd2l0Y2goZSl7Y2FzZSA5OTpyZXR1cm4gTWk7Y2FzZSA5ODpyZXR1cm4ga2k7Y2FzZSA5NzpyZXR1cm4gQWk7Y2FzZSA5NjpyZXR1cm4gSWk7Y2FzZSA5NTpyZXR1cm4gUGk7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBWaShlLHQpe3JldHVybiBlPU5pKGUpLGJpKGUsdCl9ZnVuY3Rpb24gR2koZSx0LHIpe3JldHVybiBlPU5pKGUpLHdpKGUsdCxyKX1mdW5jdGlvbiBxaShlKXtyZXR1cm4gbnVsbD09PUxpPyhMaT1bZV0sT2k9d2koTWksJGkpKTpMaS5wdXNoKGUpLHppfWZ1bmN0aW9uIFppKCl7aWYobnVsbCE9PU9pKXt2YXIgZT1PaTtPaT1udWxsLFRpKGUpfSRpKCl9ZnVuY3Rpb24gJGkoKXtpZighQmkmJm51bGwhPT1MaSl7Qmk9ITA7dmFyIGU9MDt0cnl7dmFyIHQ9TGk7VmkoOTksKGZ1bmN0aW9uKCl7Zm9yKDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTtkb3tyPXIoITApfXdoaWxlKG51bGwhPT1yKX19KSksTGk9bnVsbH1jYXRjaCh0KXt0aHJvdyBudWxsIT09TGkmJihMaT1MaS5zbGljZShlKzEpKSx3aShNaSxaaSksdH1maW5hbGx5e0JpPSExfX19ZnVuY3Rpb24gV2koZSx0LHIpe3JldHVybiAxMDczNzQxODIxLSgxKygoMTA3Mzc0MTgyMS1lK3QvMTApLyhyLz0xMCl8MCkpKnJ9ZnVuY3Rpb24gWGkoZSx0KXtpZihlJiZlLmRlZmF1bHRQcm9wcylmb3IodmFyIHIgaW4gdD1pKHt9LHQpLGU9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09dFtyXSYmKHRbcl09ZVtyXSk7cmV0dXJuIHR9dmFyIEhpPXtjdXJyZW50Om51bGx9LFlpPW51bGwsS2k9bnVsbCxKaT1udWxsO2Z1bmN0aW9uIFFpKCl7Smk9S2k9WWk9bnVsbH1mdW5jdGlvbiBlbyhlKXt2YXIgdD1IaS5jdXJyZW50O2xpKEhpKSxlLnR5cGUuX2NvbnRleHQuX2N1cnJlbnRWYWx1ZT10fWZ1bmN0aW9uIHRvKGUsdCl7Zm9yKDtudWxsIT09ZTspe3ZhciByPWUuYWx0ZXJuYXRlO2lmKGUuY2hpbGRFeHBpcmF0aW9uVGltZTx0KWUuY2hpbGRFeHBpcmF0aW9uVGltZT10LG51bGwhPT1yJiZyLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKHIuY2hpbGRFeHBpcmF0aW9uVGltZT10KTtlbHNle2lmKCEobnVsbCE9PXImJnIuY2hpbGRFeHBpcmF0aW9uVGltZTx0KSlicmVhaztyLmNoaWxkRXhwaXJhdGlvblRpbWU9dH1lPWUucmV0dXJufX1mdW5jdGlvbiBybyhlLHQpe1lpPWUsSmk9S2k9bnVsbCxudWxsIT09KGU9ZS5kZXBlbmRlbmNpZXMpJiZudWxsIT09ZS5maXJzdENvbnRleHQmJihlLmV4cGlyYXRpb25UaW1lPj10JiYoSWE9ITApLGUuZmlyc3RDb250ZXh0PW51bGwpfWZ1bmN0aW9uIG5vKGUsdCl7aWYoSmkhPT1lJiYhMSE9PXQmJjAhPT10KWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYxMDczNzQxODIzIT09dHx8KEppPWUsdD0xMDczNzQxODIzKSx0PXtjb250ZXh0OmUsb2JzZXJ2ZWRCaXRzOnQsbmV4dDpudWxsfSxudWxsPT09S2kpe2lmKG51bGw9PT1ZaSl0aHJvdyBFcnJvcihhKDMwOCkpO0tpPXQsWWkuZGVwZW5kZW5jaWVzPXtleHBpcmF0aW9uVGltZTowLGZpcnN0Q29udGV4dDp0LHJlc3BvbmRlcnM6bnVsbH19ZWxzZSBLaT1LaS5uZXh0PXQ7cmV0dXJuIGUuX2N1cnJlbnRWYWx1ZX12YXIgaW89ITE7ZnVuY3Rpb24gb28oZSl7ZS51cGRhdGVRdWV1ZT17YmFzZVN0YXRlOmUubWVtb2l6ZWRTdGF0ZSxiYXNlUXVldWU6bnVsbCxzaGFyZWQ6e3BlbmRpbmc6bnVsbH0sZWZmZWN0czpudWxsfX1mdW5jdGlvbiBhbyhlLHQpe2U9ZS51cGRhdGVRdWV1ZSx0LnVwZGF0ZVF1ZXVlPT09ZSYmKHQudXBkYXRlUXVldWU9e2Jhc2VTdGF0ZTplLmJhc2VTdGF0ZSxiYXNlUXVldWU6ZS5iYXNlUXVldWUsc2hhcmVkOmUuc2hhcmVkLGVmZmVjdHM6ZS5lZmZlY3RzfSl9ZnVuY3Rpb24gc28oZSx0KXtyZXR1cm4oZT17ZXhwaXJhdGlvblRpbWU6ZSxzdXNwZW5zZUNvbmZpZzp0LHRhZzowLHBheWxvYWQ6bnVsbCxjYWxsYmFjazpudWxsLG5leHQ6bnVsbH0pLm5leHQ9ZX1mdW5jdGlvbiBsbyhlLHQpe2lmKG51bGwhPT0oZT1lLnVwZGF0ZVF1ZXVlKSl7dmFyIHI9KGU9ZS5zaGFyZWQpLnBlbmRpbmc7bnVsbD09PXI/dC5uZXh0PXQ6KHQubmV4dD1yLm5leHQsci5uZXh0PXQpLGUucGVuZGluZz10fX1mdW5jdGlvbiBjbyhlLHQpe3ZhciByPWUuYWx0ZXJuYXRlO251bGwhPT1yJiZhbyhyLGUpLG51bGw9PT0ocj0oZT1lLnVwZGF0ZVF1ZXVlKS5iYXNlUXVldWUpPyhlLmJhc2VRdWV1ZT10Lm5leHQ9dCx0Lm5leHQ9dCk6KHQubmV4dD1yLm5leHQsci5uZXh0PXQpfWZ1bmN0aW9uIHVvKGUsdCxyLG4pe3ZhciBvPWUudXBkYXRlUXVldWU7aW89ITE7dmFyIGE9by5iYXNlUXVldWUscz1vLnNoYXJlZC5wZW5kaW5nO2lmKG51bGwhPT1zKXtpZihudWxsIT09YSl7dmFyIGw9YS5uZXh0O2EubmV4dD1zLm5leHQscy5uZXh0PWx9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbCxudWxsIT09KGw9ZS5hbHRlcm5hdGUpJiYobnVsbCE9PShsPWwudXBkYXRlUXVldWUpJiYobC5iYXNlUXVldWU9cykpfWlmKG51bGwhPT1hKXtsPWEubmV4dDt2YXIgYz1vLmJhc2VTdGF0ZSx1PTAsaD1udWxsLGQ9bnVsbCxwPW51bGw7aWYobnVsbCE9PWwpZm9yKHZhciBmPWw7Oyl7aWYoKHM9Zi5leHBpcmF0aW9uVGltZSk8bil7dmFyIG09e2V4cGlyYXRpb25UaW1lOmYuZXhwaXJhdGlvblRpbWUsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9O251bGw9PT1wPyhkPXA9bSxoPWMpOnA9cC5uZXh0PW0scz51JiYodT1zKX1lbHNle251bGwhPT1wJiYocD1wLm5leHQ9e2V4cGlyYXRpb25UaW1lOjEwNzM3NDE4MjMsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9KSxvbChzLGYuc3VzcGVuc2VDb25maWcpO2U6e3ZhciBnPWUsXz1mO3N3aXRjaChzPXQsbT1yLF8udGFnKXtjYXNlIDE6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YoZz1fLnBheWxvYWQpKXtjPWcuY2FsbChtLGMscyk7YnJlYWsgZX1jPWc7YnJlYWsgZTtjYXNlIDM6Zy5lZmZlY3RUYWc9LTQwOTcmZy5lZmZlY3RUYWd8NjQ7Y2FzZSAwOmlmKG51bGw9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mKGc9Xy5wYXlsb2FkKT9nLmNhbGwobSxjLHMpOmcpKWJyZWFrIGU7Yz1pKHt9LGMscyk7YnJlYWsgZTtjYXNlIDI6aW89ITB9fW51bGwhPT1mLmNhbGxiYWNrJiYoZS5lZmZlY3RUYWd8PTMyLG51bGw9PT0ocz1vLmVmZmVjdHMpP28uZWZmZWN0cz1bZl06cy5wdXNoKGYpKX1pZihudWxsPT09KGY9Zi5uZXh0KXx8Zj09PWwpe2lmKG51bGw9PT0ocz1vLnNoYXJlZC5wZW5kaW5nKSlicmVhaztmPWEubmV4dD1zLm5leHQscy5uZXh0PWwsby5iYXNlUXVldWU9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbH19bnVsbD09PXA/aD1jOnAubmV4dD1kLG8uYmFzZVN0YXRlPWgsby5iYXNlUXVldWU9cCxhbCh1KSxlLmV4cGlyYXRpb25UaW1lPXUsZS5tZW1vaXplZFN0YXRlPWN9fWZ1bmN0aW9uIGhvKGUsdCxyKXtpZihlPXQuZWZmZWN0cyx0LmVmZmVjdHM9bnVsbCxudWxsIT09ZSlmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLGk9bi5jYWxsYmFjaztpZihudWxsIT09aSl7aWYobi5jYWxsYmFjaz1udWxsLG49aSxpPXIsXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBFcnJvcihhKDE5MSxuKSk7bi5jYWxsKGkpfX19dmFyIHBvPVkuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsZm89KG5ldyBuLkNvbXBvbmVudCkucmVmcztmdW5jdGlvbiBtbyhlLHQscixuKXtyPW51bGw9PShyPXIobix0PWUubWVtb2l6ZWRTdGF0ZSkpP3Q6aSh7fSx0LHIpLGUubWVtb2l6ZWRTdGF0ZT1yLDA9PT1lLmV4cGlyYXRpb25UaW1lJiYoZS51cGRhdGVRdWV1ZS5iYXNlU3RhdGU9cil9dmFyIGdvPXtpc01vdW50ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZT1lLl9yZWFjdEludGVybmFsRmliZXIpJiZRZShlKT09PWV9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihlLHQscil7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIG49JHMoKSxpPXBvLnN1c3BlbnNlOyhpPXNvKG49V3MobixlLGkpLGkpKS5wYXlsb2FkPXQsbnVsbCE9ciYmKGkuY2FsbGJhY2s9ciksbG8oZSxpKSxYcyhlLG4pfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGUsdCxyKXtlPWUuX3JlYWN0SW50ZXJuYWxGaWJlcjt2YXIgbj0kcygpLGk9cG8uc3VzcGVuc2U7KGk9c28obj1XcyhuLGUsaSksaSkpLnRhZz0xLGkucGF5bG9hZD10LG51bGwhPXImJihpLmNhbGxiYWNrPXIpLGxvKGUsaSksWHMoZSxuKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGUsdCl7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIHI9JHMoKSxuPXBvLnN1c3BlbnNlOyhuPXNvKHI9V3MocixlLG4pLG4pKS50YWc9MixudWxsIT10JiYobi5jYWxsYmFjaz10KSxsbyhlLG4pLFhzKGUscil9fTtmdW5jdGlvbiBfbyhlLHQscixuLGksbyxhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZihlPWUuc3RhdGVOb2RlKS5zaG91bGRDb21wb25lbnRVcGRhdGU/ZS5zaG91bGRDb21wb25lbnRVcGRhdGUobixvLGEpOiF0LnByb3RvdHlwZXx8IXQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50fHwoIWpuKHIsbil8fCFqbihpLG8pKX1mdW5jdGlvbiB5byhlLHQscil7dmFyIG49ITEsaT11aSxvPXQuY29udGV4dFR5cGU7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIG8mJm51bGwhPT1vP289bm8obyk6KGk9bWkodCk/cGk6aGkuY3VycmVudCxvPShuPW51bGwhPShuPXQuY29udGV4dFR5cGVzKSk/ZmkoZSxpKTp1aSksdD1uZXcgdChyLG8pLGUubWVtb2l6ZWRTdGF0ZT1udWxsIT09dC5zdGF0ZSYmdm9pZCAwIT09dC5zdGF0ZT90LnN0YXRlOm51bGwsdC51cGRhdGVyPWdvLGUuc3RhdGVOb2RlPXQsdC5fcmVhY3RJbnRlcm5hbEZpYmVyPWUsbiYmKChlPWUuc3RhdGVOb2RlKS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWksZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1vKSx0fWZ1bmN0aW9uIHZvKGUsdCxyLG4pe2U9dC5zdGF0ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhyLG4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocixuKSx0LnN0YXRlIT09ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0LHQuc3RhdGUsbnVsbCl9ZnVuY3Rpb24geG8oZSx0LHIsbil7dmFyIGk9ZS5zdGF0ZU5vZGU7aS5wcm9wcz1yLGkuc3RhdGU9ZS5tZW1vaXplZFN0YXRlLGkucmVmcz1mbyxvbyhlKTt2YXIgbz10LmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09bz9pLmNvbnRleHQ9bm8obyk6KG89bWkodCk/cGk6aGkuY3VycmVudCxpLmNvbnRleHQ9ZmkoZSxvKSksdW8oZSxyLGksbiksaS5zdGF0ZT1lLm1lbW9pemVkU3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2Yobz10LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykmJihtbyhlLHQsbyxyKSxpLnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHN8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT10eXBlb2YgaS5jb21wb25lbnRXaWxsTW91bnR8fCh0PWkuc3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2YgaS5jb21wb25lbnRXaWxsTW91bnQmJmkuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT10eXBlb2YgaS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZpLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSx0IT09aS5zdGF0ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZShpLGkuc3RhdGUsbnVsbCksdW8oZSxyLGksbiksaS5zdGF0ZT1lLm1lbW9pemVkU3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuY29tcG9uZW50RGlkTW91bnQmJihlLmVmZmVjdFRhZ3w9NCl9dmFyIGJvPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gd28oZSx0LHIpe2lmKG51bGwhPT0oZT1yLnJlZikmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXtpZihyLl9vd25lcil7aWYocj1yLl9vd25lcil7aWYoMSE9PXIudGFnKXRocm93IEVycm9yKGEoMzA5KSk7dmFyIG49ci5zdGF0ZU5vZGV9aWYoIW4pdGhyb3cgRXJyb3IoYSgxNDcsZSkpO3ZhciBpPVwiXCIrZTtyZXR1cm4gbnVsbCE9PXQmJm51bGwhPT10LnJlZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWYmJnQucmVmLl9zdHJpbmdSZWY9PT1pP3QucmVmOigodD1mdW5jdGlvbihlKXt2YXIgdD1uLnJlZnM7dD09PWZvJiYodD1uLnJlZnM9e30pLG51bGw9PT1lP2RlbGV0ZSB0W2ldOnRbaV09ZX0pLl9zdHJpbmdSZWY9aSx0KX1pZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBFcnJvcihhKDI4NCkpO2lmKCFyLl9vd25lcil0aHJvdyBFcnJvcihhKDI5MCxlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gVG8oZSx0KXtpZihcInRleHRhcmVhXCIhPT1lLnR5cGUpdGhyb3cgRXJyb3IoYSgzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOnQsXCJcIikpfWZ1bmN0aW9uIEVvKGUpe2Z1bmN0aW9uIHQodCxyKXtpZihlKXt2YXIgbj10Lmxhc3RFZmZlY3Q7bnVsbCE9PW4/KG4ubmV4dEVmZmVjdD1yLHQubGFzdEVmZmVjdD1yKTp0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1yLHIubmV4dEVmZmVjdD1udWxsLHIuZWZmZWN0VGFnPTh9fWZ1bmN0aW9uIHIocixuKXtpZighZSlyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1uOyl0KHIsbiksbj1uLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihlLHQpe2ZvcihlPW5ldyBNYXA7bnVsbCE9PXQ7KW51bGwhPT10LmtleT9lLnNldCh0LmtleSx0KTplLnNldCh0LmluZGV4LHQpLHQ9dC5zaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4oZT1DbChlLHQpKS5pbmRleD0wLGUuc2libGluZz1udWxsLGV9ZnVuY3Rpb24gbyh0LHIsbil7cmV0dXJuIHQuaW5kZXg9bixlP251bGwhPT0obj10LmFsdGVybmF0ZSk/KG49bi5pbmRleCk8cj8odC5lZmZlY3RUYWc9MixyKTpuOih0LmVmZmVjdFRhZz0yLHIpOnJ9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZSYmbnVsbD09PXQuYWx0ZXJuYXRlJiYodC5lZmZlY3RUYWc9MiksdH1mdW5jdGlvbiBsKGUsdCxyLG4pe3JldHVybiBudWxsPT09dHx8NiE9PXQudGFnPygodD1BbChyLGUubW9kZSxuKSkucmV0dXJuPWUsdCk6KCh0PWkodCxyKSkucmV0dXJuPWUsdCl9ZnVuY3Rpb24gYyhlLHQscixuKXtyZXR1cm4gbnVsbCE9PXQmJnQuZWxlbWVudFR5cGU9PT1yLnR5cGU/KChuPWkodCxyLnByb3BzKSkucmVmPXdvKGUsdCxyKSxuLnJldHVybj1lLG4pOigobj1NbChyLnR5cGUsci5rZXksci5wcm9wcyxudWxsLGUubW9kZSxuKSkucmVmPXdvKGUsdCxyKSxuLnJldHVybj1lLG4pfWZ1bmN0aW9uIHUoZSx0LHIsbil7cmV0dXJuIG51bGw9PT10fHw0IT09dC50YWd8fHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1yLmNvbnRhaW5lckluZm98fHQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09ci5pbXBsZW1lbnRhdGlvbj8oKHQ9SWwocixlLm1vZGUsbikpLnJldHVybj1lLHQpOigodD1pKHQsci5jaGlsZHJlbnx8W10pKS5yZXR1cm49ZSx0KX1mdW5jdGlvbiBoKGUsdCxyLG4sbyl7cmV0dXJuIG51bGw9PT10fHw3IT09dC50YWc/KCh0PWtsKHIsZS5tb2RlLG4sbykpLnJldHVybj1lLHQpOigodD1pKHQscikpLnJldHVybj1lLHQpfWZ1bmN0aW9uIGQoZSx0LHIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4odD1BbChcIlwiK3QsZS5tb2RlLHIpKS5yZXR1cm49ZSx0O2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCl7c3dpdGNoKHQuJCR0eXBlb2Ype2Nhc2UgZWU6cmV0dXJuKHI9TWwodC50eXBlLHQua2V5LHQucHJvcHMsbnVsbCxlLm1vZGUscikpLnJlZj13byhlLG51bGwsdCksci5yZXR1cm49ZSxyO2Nhc2UgdGU6cmV0dXJuKHQ9SWwodCxlLm1vZGUscikpLnJldHVybj1lLHR9aWYoYm8odCl8fG1lKHQpKXJldHVybih0PWtsKHQsZS5tb2RlLHIsbnVsbCkpLnJldHVybj1lLHQ7VG8oZSx0KX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUsdCxyLG4pe3ZhciBpPW51bGwhPT10P3Qua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHJ8fFwibnVtYmVyXCI9PXR5cGVvZiByKXJldHVybiBudWxsIT09aT9udWxsOmwoZSx0LFwiXCIrcixuKTtpZihcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXIpe3N3aXRjaChyLiQkdHlwZW9mKXtjYXNlIGVlOnJldHVybiByLmtleT09PWk/ci50eXBlPT09cmU/aChlLHQsci5wcm9wcy5jaGlsZHJlbixuLGkpOmMoZSx0LHIsbik6bnVsbDtjYXNlIHRlOnJldHVybiByLmtleT09PWk/dShlLHQscixuKTpudWxsfWlmKGJvKHIpfHxtZShyKSlyZXR1cm4gbnVsbCE9PWk/bnVsbDpoKGUsdCxyLG4sbnVsbCk7VG8oZSxyKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmKGUsdCxyLG4saSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBuKXJldHVybiBsKHQsZT1lLmdldChyKXx8bnVsbCxcIlwiK24saSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4mJm51bGwhPT1uKXtzd2l0Y2gobi4kJHR5cGVvZil7Y2FzZSBlZTpyZXR1cm4gZT1lLmdldChudWxsPT09bi5rZXk/cjpuLmtleSl8fG51bGwsbi50eXBlPT09cmU/aCh0LGUsbi5wcm9wcy5jaGlsZHJlbixpLG4ua2V5KTpjKHQsZSxuLGkpO2Nhc2UgdGU6cmV0dXJuIHUodCxlPWUuZ2V0KG51bGw9PT1uLmtleT9yOm4ua2V5KXx8bnVsbCxuLGkpfWlmKGJvKG4pfHxtZShuKSlyZXR1cm4gaCh0LGU9ZS5nZXQocil8fG51bGwsbixpLG51bGwpO1RvKHQsbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShpLGEscyxsKXtmb3IodmFyIGM9bnVsbCx1PW51bGwsaD1hLG09YT0wLGc9bnVsbDtudWxsIT09aCYmbTxzLmxlbmd0aDttKyspe2guaW5kZXg+bT8oZz1oLGg9bnVsbCk6Zz1oLnNpYmxpbmc7dmFyIF89cChpLGgsc1ttXSxsKTtpZihudWxsPT09Xyl7bnVsbD09PWgmJihoPWcpO2JyZWFrfWUmJmgmJm51bGw9PT1fLmFsdGVybmF0ZSYmdChpLGgpLGE9byhfLGEsbSksbnVsbD09PXU/Yz1fOnUuc2libGluZz1fLHU9XyxoPWd9aWYobT09PXMubGVuZ3RoKXJldHVybiByKGksaCksYztpZihudWxsPT09aCl7Zm9yKDttPHMubGVuZ3RoO20rKyludWxsIT09KGg9ZChpLHNbbV0sbCkpJiYoYT1vKGgsYSxtKSxudWxsPT09dT9jPWg6dS5zaWJsaW5nPWgsdT1oKTtyZXR1cm4gY31mb3IoaD1uKGksaCk7bTxzLmxlbmd0aDttKyspbnVsbCE9PShnPWYoaCxpLG0sc1ttXSxsKSkmJihlJiZudWxsIT09Zy5hbHRlcm5hdGUmJmguZGVsZXRlKG51bGw9PT1nLmtleT9tOmcua2V5KSxhPW8oZyxhLG0pLG51bGw9PT11P2M9Zzp1LnNpYmxpbmc9Zyx1PWcpO3JldHVybiBlJiZoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0KGksZSl9KSksY31mdW5jdGlvbiBnKGkscyxsLGMpe3ZhciB1PW1lKGwpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHUpdGhyb3cgRXJyb3IoYSgxNTApKTtpZihudWxsPT0obD11LmNhbGwobCkpKXRocm93IEVycm9yKGEoMTUxKSk7Zm9yKHZhciBoPXU9bnVsbCxtPXMsZz1zPTAsXz1udWxsLHk9bC5uZXh0KCk7bnVsbCE9PW0mJiF5LmRvbmU7ZysrLHk9bC5uZXh0KCkpe20uaW5kZXg+Zz8oXz1tLG09bnVsbCk6Xz1tLnNpYmxpbmc7dmFyIHY9cChpLG0seS52YWx1ZSxjKTtpZihudWxsPT09dil7bnVsbD09PW0mJihtPV8pO2JyZWFrfWUmJm0mJm51bGw9PT12LmFsdGVybmF0ZSYmdChpLG0pLHM9byh2LHMsZyksbnVsbD09PWg/dT12Omguc2libGluZz12LGg9dixtPV99aWYoeS5kb25lKXJldHVybiByKGksbSksdTtpZihudWxsPT09bSl7Zm9yKDsheS5kb25lO2crKyx5PWwubmV4dCgpKW51bGwhPT0oeT1kKGkseS52YWx1ZSxjKSkmJihzPW8oeSxzLGcpLG51bGw9PT1oP3U9eTpoLnNpYmxpbmc9eSxoPXkpO3JldHVybiB1fWZvcihtPW4oaSxtKTsheS5kb25lO2crKyx5PWwubmV4dCgpKW51bGwhPT0oeT1mKG0saSxnLHkudmFsdWUsYykpJiYoZSYmbnVsbCE9PXkuYWx0ZXJuYXRlJiZtLmRlbGV0ZShudWxsPT09eS5rZXk/Zzp5LmtleSkscz1vKHkscyxnKSxudWxsPT09aD91PXk6aC5zaWJsaW5nPXksaD15KTtyZXR1cm4gZSYmbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdChpLGUpfSkpLHV9cmV0dXJuIGZ1bmN0aW9uKGUsbixvLGwpe3ZhciBjPVwib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09byYmby50eXBlPT09cmUmJm51bGw9PT1vLmtleTtjJiYobz1vLnByb3BzLmNoaWxkcmVuKTt2YXIgdT1cIm9iamVjdFwiPT10eXBlb2YgbyYmbnVsbCE9PW87aWYodSlzd2l0Y2goby4kJHR5cGVvZil7Y2FzZSBlZTplOntmb3IodT1vLmtleSxjPW47bnVsbCE9PWM7KXtpZihjLmtleT09PXUpe3N3aXRjaChjLnRhZyl7Y2FzZSA3OmlmKG8udHlwZT09PXJlKXtyKGUsYy5zaWJsaW5nKSwobj1pKGMsby5wcm9wcy5jaGlsZHJlbikpLnJldHVybj1lLGU9bjticmVhayBlfWJyZWFrO2RlZmF1bHQ6aWYoYy5lbGVtZW50VHlwZT09PW8udHlwZSl7cihlLGMuc2libGluZyksKG49aShjLG8ucHJvcHMpKS5yZWY9d28oZSxjLG8pLG4ucmV0dXJuPWUsZT1uO2JyZWFrIGV9fXIoZSxjKTticmVha310KGUsYyksYz1jLnNpYmxpbmd9by50eXBlPT09cmU/KChuPWtsKG8ucHJvcHMuY2hpbGRyZW4sZS5tb2RlLGwsby5rZXkpKS5yZXR1cm49ZSxlPW4pOigobD1NbChvLnR5cGUsby5rZXksby5wcm9wcyxudWxsLGUubW9kZSxsKSkucmVmPXdvKGUsbixvKSxsLnJldHVybj1lLGU9bCl9cmV0dXJuIHMoZSk7Y2FzZSB0ZTplOntmb3IoYz1vLmtleTtudWxsIT09bjspe2lmKG4ua2V5PT09Yyl7aWYoND09PW4udGFnJiZuLnN0YXRlTm9kZS5jb250YWluZXJJbmZvPT09by5jb250YWluZXJJbmZvJiZuLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbj09PW8uaW1wbGVtZW50YXRpb24pe3IoZSxuLnNpYmxpbmcpLChuPWkobixvLmNoaWxkcmVufHxbXSkpLnJldHVybj1lLGU9bjticmVhayBlfXIoZSxuKTticmVha310KGUsbiksbj1uLnNpYmxpbmd9KG49SWwobyxlLm1vZGUsbCkpLnJldHVybj1lLGU9bn1yZXR1cm4gcyhlKX1pZihcInN0cmluZ1wiPT10eXBlb2Ygb3x8XCJudW1iZXJcIj09dHlwZW9mIG8pcmV0dXJuIG89XCJcIitvLG51bGwhPT1uJiY2PT09bi50YWc/KHIoZSxuLnNpYmxpbmcpLChuPWkobixvKSkucmV0dXJuPWUsZT1uKToocihlLG4pLChuPUFsKG8sZS5tb2RlLGwpKS5yZXR1cm49ZSxlPW4pLHMoZSk7aWYoYm8obykpcmV0dXJuIG0oZSxuLG8sbCk7aWYobWUobykpcmV0dXJuIGcoZSxuLG8sbCk7aWYodSYmVG8oZSxvKSx2b2lkIDA9PT1vJiYhYylzd2l0Y2goZS50YWcpe2Nhc2UgMTpjYXNlIDA6dGhyb3cgZT1lLnR5cGUsRXJyb3IoYSgxNTIsZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIkNvbXBvbmVudFwiKSl9cmV0dXJuIHIoZSxuKX19dmFyIFNvPUVvKCEwKSxDbz1FbyghMSksTW89e30sa289e2N1cnJlbnQ6TW99LEFvPXtjdXJyZW50Ok1vfSxJbz17Y3VycmVudDpNb307ZnVuY3Rpb24gUG8oZSl7aWYoZT09PU1vKXRocm93IEVycm9yKGEoMTc0KSk7cmV0dXJuIGV9ZnVuY3Rpb24gem8oZSx0KXtzd2l0Y2goY2koSW8sdCksY2koQW8sZSksY2koa28sTW8pLGU9dC5ub2RlVHlwZSl7Y2FzZSA5OmNhc2UgMTE6dD0odD10LmRvY3VtZW50RWxlbWVudCk/dC5uYW1lc3BhY2VVUkk6QmUobnVsbCxcIlwiKTticmVhaztkZWZhdWx0OnQ9QmUodD0oZT04PT09ZT90LnBhcmVudE5vZGU6dCkubmFtZXNwYWNlVVJJfHxudWxsLGU9ZS50YWdOYW1lKX1saShrbyksY2koa28sdCl9ZnVuY3Rpb24gRG8oKXtsaShrbyksbGkoQW8pLGxpKElvKX1mdW5jdGlvbiBSbyhlKXtQbyhJby5jdXJyZW50KTt2YXIgdD1Qbyhrby5jdXJyZW50KSxyPUJlKHQsZS50eXBlKTt0IT09ciYmKGNpKEFvLGUpLGNpKGtvLHIpKX1mdW5jdGlvbiBMbyhlKXtBby5jdXJyZW50PT09ZSYmKGxpKGtvKSxsaShBbykpfXZhciBPbz17Y3VycmVudDowfTtmdW5jdGlvbiBCbyhlKXtmb3IodmFyIHQ9ZTtudWxsIT09dDspe2lmKDEzPT09dC50YWcpe3ZhciByPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ciYmKG51bGw9PT0ocj1yLmRlaHlkcmF0ZWQpfHxcIiQ/XCI9PT1yLmRhdGF8fFwiJCFcIj09PXIuZGF0YSkpcmV0dXJuIHR9ZWxzZSBpZigxOT09PXQudGFnJiZ2b2lkIDAhPT10Lm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXIpe2lmKDAhPSg2NCZ0LmVmZmVjdFRhZykpcmV0dXJuIHR9ZWxzZSBpZihudWxsIT09dC5jaGlsZCl7dC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWUpYnJlYWs7Zm9yKDtudWxsPT09dC5zaWJsaW5nOyl7aWYobnVsbD09PXQucmV0dXJufHx0LnJldHVybj09PWUpcmV0dXJuIG51bGw7dD10LnJldHVybn10LnNpYmxpbmcucmV0dXJuPXQucmV0dXJuLHQ9dC5zaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIEZvKGUsdCl7cmV0dXJue3Jlc3BvbmRlcjplLHByb3BzOnR9fXZhciBqbz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsVW89WS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxObz0wLFZvPW51bGwsR289bnVsbCxxbz1udWxsLFpvPSExO2Z1bmN0aW9uICRvKCl7dGhyb3cgRXJyb3IoYSgzMjEpKX1mdW5jdGlvbiBXbyhlLHQpe2lmKG51bGw9PT10KXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGgmJnI8ZS5sZW5ndGg7cisrKWlmKCFCbihlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFhvKGUsdCxyLG4saSxvKXtpZihObz1vLFZvPXQsdC5tZW1vaXplZFN0YXRlPW51bGwsdC51cGRhdGVRdWV1ZT1udWxsLHQuZXhwaXJhdGlvblRpbWU9MCxqby5jdXJyZW50PW51bGw9PT1lfHxudWxsPT09ZS5tZW1vaXplZFN0YXRlP19hOnlhLGU9cihuLGkpLHQuZXhwaXJhdGlvblRpbWU9PT1Obyl7bz0wO2Rve2lmKHQuZXhwaXJhdGlvblRpbWU9MCwhKDI1Pm8pKXRocm93IEVycm9yKGEoMzAxKSk7bys9MSxxbz1Hbz1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxqby5jdXJyZW50PXZhLGU9cihuLGkpfXdoaWxlKHQuZXhwaXJhdGlvblRpbWU9PT1Obyl9aWYoam8uY3VycmVudD1nYSx0PW51bGwhPT1HbyYmbnVsbCE9PUdvLm5leHQsTm89MCxxbz1Hbz1Wbz1udWxsLFpvPSExLHQpdGhyb3cgRXJyb3IoYSgzMDApKTtyZXR1cm4gZX1mdW5jdGlvbiBIbygpe3ZhciBlPXttZW1vaXplZFN0YXRlOm51bGwsYmFzZVN0YXRlOm51bGwsYmFzZVF1ZXVlOm51bGwscXVldWU6bnVsbCxuZXh0Om51bGx9O3JldHVybiBudWxsPT09cW8/Vm8ubWVtb2l6ZWRTdGF0ZT1xbz1lOnFvPXFvLm5leHQ9ZSxxb31mdW5jdGlvbiBZbygpe2lmKG51bGw9PT1Hbyl7dmFyIGU9Vm8uYWx0ZXJuYXRlO2U9bnVsbCE9PWU/ZS5tZW1vaXplZFN0YXRlOm51bGx9ZWxzZSBlPUdvLm5leHQ7dmFyIHQ9bnVsbD09PXFvP1ZvLm1lbW9pemVkU3RhdGU6cW8ubmV4dDtpZihudWxsIT09dClxbz10LEdvPWU7ZWxzZXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMxMCkpO2U9e21lbW9pemVkU3RhdGU6KEdvPWUpLm1lbW9pemVkU3RhdGUsYmFzZVN0YXRlOkdvLmJhc2VTdGF0ZSxiYXNlUXVldWU6R28uYmFzZVF1ZXVlLHF1ZXVlOkdvLnF1ZXVlLG5leHQ6bnVsbH0sbnVsbD09PXFvP1ZvLm1lbW9pemVkU3RhdGU9cW89ZTpxbz1xby5uZXh0PWV9cmV0dXJuIHFvfWZ1bmN0aW9uIEtvKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KGUpOnR9ZnVuY3Rpb24gSm8oZSl7dmFyIHQ9WW8oKSxyPXQucXVldWU7aWYobnVsbD09PXIpdGhyb3cgRXJyb3IoYSgzMTEpKTtyLmxhc3RSZW5kZXJlZFJlZHVjZXI9ZTt2YXIgbj1HbyxpPW4uYmFzZVF1ZXVlLG89ci5wZW5kaW5nO2lmKG51bGwhPT1vKXtpZihudWxsIT09aSl7dmFyIHM9aS5uZXh0O2kubmV4dD1vLm5leHQsby5uZXh0PXN9bi5iYXNlUXVldWU9aT1vLHIucGVuZGluZz1udWxsfWlmKG51bGwhPT1pKXtpPWkubmV4dCxuPW4uYmFzZVN0YXRlO3ZhciBsPXM9bz1udWxsLGM9aTtkb3t2YXIgdT1jLmV4cGlyYXRpb25UaW1lO2lmKHU8Tm8pe3ZhciBoPXtleHBpcmF0aW9uVGltZTpjLmV4cGlyYXRpb25UaW1lLHN1c3BlbnNlQ29uZmlnOmMuc3VzcGVuc2VDb25maWcsYWN0aW9uOmMuYWN0aW9uLGVhZ2VyUmVkdWNlcjpjLmVhZ2VyUmVkdWNlcixlYWdlclN0YXRlOmMuZWFnZXJTdGF0ZSxuZXh0Om51bGx9O251bGw9PT1sPyhzPWw9aCxvPW4pOmw9bC5uZXh0PWgsdT5Wby5leHBpcmF0aW9uVGltZSYmKFZvLmV4cGlyYXRpb25UaW1lPXUsYWwodSkpfWVsc2UgbnVsbCE9PWwmJihsPWwubmV4dD17ZXhwaXJhdGlvblRpbWU6MTA3Mzc0MTgyMyxzdXNwZW5zZUNvbmZpZzpjLnN1c3BlbnNlQ29uZmlnLGFjdGlvbjpjLmFjdGlvbixlYWdlclJlZHVjZXI6Yy5lYWdlclJlZHVjZXIsZWFnZXJTdGF0ZTpjLmVhZ2VyU3RhdGUsbmV4dDpudWxsfSksb2wodSxjLnN1c3BlbnNlQ29uZmlnKSxuPWMuZWFnZXJSZWR1Y2VyPT09ZT9jLmVhZ2VyU3RhdGU6ZShuLGMuYWN0aW9uKTtjPWMubmV4dH13aGlsZShudWxsIT09YyYmYyE9PWkpO251bGw9PT1sP289bjpsLm5leHQ9cyxCbihuLHQubWVtb2l6ZWRTdGF0ZSl8fChJYT0hMCksdC5tZW1vaXplZFN0YXRlPW4sdC5iYXNlU3RhdGU9byx0LmJhc2VRdWV1ZT1sLHIubGFzdFJlbmRlcmVkU3RhdGU9bn1yZXR1cm5bdC5tZW1vaXplZFN0YXRlLHIuZGlzcGF0Y2hdfWZ1bmN0aW9uIFFvKGUpe3ZhciB0PVlvKCkscj10LnF1ZXVlO2lmKG51bGw9PT1yKXRocm93IEVycm9yKGEoMzExKSk7ci5sYXN0UmVuZGVyZWRSZWR1Y2VyPWU7dmFyIG49ci5kaXNwYXRjaCxpPXIucGVuZGluZyxvPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09aSl7ci5wZW5kaW5nPW51bGw7dmFyIHM9aT1pLm5leHQ7ZG97bz1lKG8scy5hY3Rpb24pLHM9cy5uZXh0fXdoaWxlKHMhPT1pKTtCbihvLHQubWVtb2l6ZWRTdGF0ZSl8fChJYT0hMCksdC5tZW1vaXplZFN0YXRlPW8sbnVsbD09PXQuYmFzZVF1ZXVlJiYodC5iYXNlU3RhdGU9byksci5sYXN0UmVuZGVyZWRTdGF0ZT1vfXJldHVybltvLG5dfWZ1bmN0aW9uIGVhKGUpe3ZhciB0PUhvKCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZSgpKSx0Lm1lbW9pemVkU3RhdGU9dC5iYXNlU3RhdGU9ZSxlPShlPXQucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6S28sbGFzdFJlbmRlcmVkU3RhdGU6ZX0pLmRpc3BhdGNoPW1hLmJpbmQobnVsbCxWbyxlKSxbdC5tZW1vaXplZFN0YXRlLGVdfWZ1bmN0aW9uIHRhKGUsdCxyLG4pe3JldHVybiBlPXt0YWc6ZSxjcmVhdGU6dCxkZXN0cm95OnIsZGVwczpuLG5leHQ6bnVsbH0sbnVsbD09PSh0PVZvLnVwZGF0ZVF1ZXVlKT8odD17bGFzdEVmZmVjdDpudWxsfSxWby51cGRhdGVRdWV1ZT10LHQubGFzdEVmZmVjdD1lLm5leHQ9ZSk6bnVsbD09PShyPXQubGFzdEVmZmVjdCk/dC5sYXN0RWZmZWN0PWUubmV4dD1lOihuPXIubmV4dCxyLm5leHQ9ZSxlLm5leHQ9bix0Lmxhc3RFZmZlY3Q9ZSksZX1mdW5jdGlvbiByYSgpe3JldHVybiBZbygpLm1lbW9pemVkU3RhdGV9ZnVuY3Rpb24gbmEoZSx0LHIsbil7dmFyIGk9SG8oKTtWby5lZmZlY3RUYWd8PWUsaS5tZW1vaXplZFN0YXRlPXRhKDF8dCxyLHZvaWQgMCx2b2lkIDA9PT1uP251bGw6bil9ZnVuY3Rpb24gaWEoZSx0LHIsbil7dmFyIGk9WW8oKTtuPXZvaWQgMD09PW4/bnVsbDpuO3ZhciBvPXZvaWQgMDtpZihudWxsIT09R28pe3ZhciBhPUdvLm1lbW9pemVkU3RhdGU7aWYobz1hLmRlc3Ryb3ksbnVsbCE9PW4mJldvKG4sYS5kZXBzKSlyZXR1cm4gdm9pZCB0YSh0LHIsbyxuKX1Wby5lZmZlY3RUYWd8PWUsaS5tZW1vaXplZFN0YXRlPXRhKDF8dCxyLG8sbil9ZnVuY3Rpb24gb2EoZSx0KXtyZXR1cm4gbmEoNTE2LDQsZSx0KX1mdW5jdGlvbiBhYShlLHQpe3JldHVybiBpYSg1MTYsNCxlLHQpfWZ1bmN0aW9uIHNhKGUsdCl7cmV0dXJuIGlhKDQsMixlLHQpfWZ1bmN0aW9uIGxhKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8oZT1lKCksdChlKSxmdW5jdGlvbigpe3QobnVsbCl9KTpudWxsIT10PyhlPWUoKSx0LmN1cnJlbnQ9ZSxmdW5jdGlvbigpe3QuY3VycmVudD1udWxsfSk6dm9pZCAwfWZ1bmN0aW9uIGNhKGUsdCxyKXtyZXR1cm4gcj1udWxsIT1yP3IuY29uY2F0KFtlXSk6bnVsbCxpYSg0LDIsbGEuYmluZChudWxsLHQsZSkscil9ZnVuY3Rpb24gdWEoKXt9ZnVuY3Rpb24gaGEoZSx0KXtyZXR1cm4gSG8oKS5tZW1vaXplZFN0YXRlPVtlLHZvaWQgMD09PXQ/bnVsbDp0XSxlfWZ1bmN0aW9uIGRhKGUsdCl7dmFyIHI9WW8oKTt0PXZvaWQgMD09PXQ/bnVsbDp0O3ZhciBuPXIubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbCE9PW4mJm51bGwhPT10JiZXbyh0LG5bMV0pP25bMF06KHIubWVtb2l6ZWRTdGF0ZT1bZSx0XSxlKX1mdW5jdGlvbiBwYShlLHQpe3ZhciByPVlvKCk7dD12b2lkIDA9PT10P251bGw6dDt2YXIgbj1yLm1lbW9pemVkU3RhdGU7cmV0dXJuIG51bGwhPT1uJiZudWxsIT09dCYmV28odCxuWzFdKT9uWzBdOihlPWUoKSxyLm1lbW9pemVkU3RhdGU9W2UsdF0sZSl9ZnVuY3Rpb24gZmEoZSx0LHIpe3ZhciBuPVVpKCk7VmkoOTg+bj85ODpuLChmdW5jdGlvbigpe2UoITApfSkpLFZpKDk3PG4/OTc6biwoZnVuY3Rpb24oKXt2YXIgbj1Vby5zdXNwZW5zZTtVby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7ZSghMSkscigpfWZpbmFsbHl7VW8uc3VzcGVuc2U9bn19KSl9ZnVuY3Rpb24gbWEoZSx0LHIpe3ZhciBuPSRzKCksaT1wby5zdXNwZW5zZTtpPXtleHBpcmF0aW9uVGltZTpuPVdzKG4sZSxpKSxzdXNwZW5zZUNvbmZpZzppLGFjdGlvbjpyLGVhZ2VyUmVkdWNlcjpudWxsLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O3ZhciBvPXQucGVuZGluZztpZihudWxsPT09bz9pLm5leHQ9aTooaS5uZXh0PW8ubmV4dCxvLm5leHQ9aSksdC5wZW5kaW5nPWksbz1lLmFsdGVybmF0ZSxlPT09Vm98fG51bGwhPT1vJiZvPT09Vm8pWm89ITAsaS5leHBpcmF0aW9uVGltZT1ObyxWby5leHBpcmF0aW9uVGltZT1ObztlbHNle2lmKDA9PT1lLmV4cGlyYXRpb25UaW1lJiYobnVsbD09PW98fDA9PT1vLmV4cGlyYXRpb25UaW1lKSYmbnVsbCE9PShvPXQubGFzdFJlbmRlcmVkUmVkdWNlcikpdHJ5e3ZhciBhPXQubGFzdFJlbmRlcmVkU3RhdGUscz1vKGEscik7aWYoaS5lYWdlclJlZHVjZXI9byxpLmVhZ2VyU3RhdGU9cyxCbihzLGEpKXJldHVybn1jYXRjaChlKXt9WHMoZSxuKX19dmFyIGdhPXtyZWFkQ29udGV4dDpubyx1c2VDYWxsYmFjazokbyx1c2VDb250ZXh0OiRvLHVzZUVmZmVjdDokbyx1c2VJbXBlcmF0aXZlSGFuZGxlOiRvLHVzZUxheW91dEVmZmVjdDokbyx1c2VNZW1vOiRvLHVzZVJlZHVjZXI6JG8sdXNlUmVmOiRvLHVzZVN0YXRlOiRvLHVzZURlYnVnVmFsdWU6JG8sdXNlUmVzcG9uZGVyOiRvLHVzZURlZmVycmVkVmFsdWU6JG8sdXNlVHJhbnNpdGlvbjokb30sX2E9e3JlYWRDb250ZXh0Om5vLHVzZUNhbGxiYWNrOmhhLHVzZUNvbnRleHQ6bm8sdXNlRWZmZWN0Om9hLHVzZUltcGVyYXRpdmVIYW5kbGU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPW51bGwhPXI/ci5jb25jYXQoW2VdKTpudWxsLG5hKDQsMixsYS5iaW5kKG51bGwsdCxlKSxyKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5hKDQsMixlLHQpfSx1c2VNZW1vOmZ1bmN0aW9uKGUsdCl7dmFyIHI9SG8oKTtyZXR1cm4gdD12b2lkIDA9PT10P251bGw6dCxlPWUoKSxyLm1lbW9pemVkU3RhdGU9W2UsdF0sZX0sdXNlUmVkdWNlcjpmdW5jdGlvbihlLHQscil7dmFyIG49SG8oKTtyZXR1cm4gdD12b2lkIDAhPT1yP3IodCk6dCxuLm1lbW9pemVkU3RhdGU9bi5iYXNlU3RhdGU9dCxlPShlPW4ucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6ZSxsYXN0UmVuZGVyZWRTdGF0ZTp0fSkuZGlzcGF0Y2g9bWEuYmluZChudWxsLFZvLGUpLFtuLm1lbW9pemVkU3RhdGUsZV19LHVzZVJlZjpmdW5jdGlvbihlKXtyZXR1cm4gZT17Y3VycmVudDplfSxIbygpLm1lbW9pemVkU3RhdGU9ZX0sdXNlU3RhdGU6ZWEsdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6Rm8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWVhKGUpLG49clswXSxpPXJbMV07cmV0dXJuIG9hKChmdW5jdGlvbigpe3ZhciByPVVvLnN1c3BlbnNlO1VvLnN1c3BlbnNlPXZvaWQgMD09PXQ/bnVsbDp0O3RyeXtpKGUpfWZpbmFsbHl7VW8uc3VzcGVuc2U9cn19KSxbZSx0XSksbn0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lYSghMSkscj10WzBdO3JldHVybiB0PXRbMV0sW2hhKGZhLmJpbmQobnVsbCx0LGUpLFt0LGVdKSxyXX19LHlhPXtyZWFkQ29udGV4dDpubyx1c2VDYWxsYmFjazpkYSx1c2VDb250ZXh0Om5vLHVzZUVmZmVjdDphYSx1c2VJbXBlcmF0aXZlSGFuZGxlOmNhLHVzZUxheW91dEVmZmVjdDpzYSx1c2VNZW1vOnBhLHVzZVJlZHVjZXI6Sm8sdXNlUmVmOnJhLHVzZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIEpvKEtvKX0sdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6Rm8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPUpvKEtvKSxuPXJbMF0saT1yWzFdO3JldHVybiBhYSgoZnVuY3Rpb24oKXt2YXIgcj1Vby5zdXNwZW5zZTtVby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7aShlKX1maW5hbGx5e1VvLnN1c3BlbnNlPXJ9fSksW2UsdF0pLG59LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9Sm8oS28pLHI9dFswXTtyZXR1cm4gdD10WzFdLFtkYShmYS5iaW5kKG51bGwsdCxlKSxbdCxlXSkscl19fSx2YT17cmVhZENvbnRleHQ6bm8sdXNlQ2FsbGJhY2s6ZGEsdXNlQ29udGV4dDpubyx1c2VFZmZlY3Q6YWEsdXNlSW1wZXJhdGl2ZUhhbmRsZTpjYSx1c2VMYXlvdXRFZmZlY3Q6c2EsdXNlTWVtbzpwYSx1c2VSZWR1Y2VyOlFvLHVzZVJlZjpyYSx1c2VTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBRbyhLbyl9LHVzZURlYnVnVmFsdWU6dWEsdXNlUmVzcG9uZGVyOkZvLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1RbyhLbyksbj1yWzBdLGk9clsxXTtyZXR1cm4gYWEoKGZ1bmN0aW9uKCl7dmFyIHI9VW8uc3VzcGVuc2U7VW8uc3VzcGVuc2U9dm9pZCAwPT09dD9udWxsOnQ7dHJ5e2koZSl9ZmluYWxseXtVby5zdXNwZW5zZT1yfX0pLFtlLHRdKSxufSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PVFvKEtvKSxyPXRbMF07cmV0dXJuIHQ9dFsxXSxbZGEoZmEuYmluZChudWxsLHQsZSksW3QsZV0pLHJdfX0seGE9bnVsbCxiYT1udWxsLHdhPSExO2Z1bmN0aW9uIFRhKGUsdCl7dmFyIHI9RWwoNSxudWxsLG51bGwsMCk7ci5lbGVtZW50VHlwZT1cIkRFTEVURURcIixyLnR5cGU9XCJERUxFVEVEXCIsci5zdGF0ZU5vZGU9dCxyLnJldHVybj1lLHIuZWZmZWN0VGFnPTgsbnVsbCE9PWUubGFzdEVmZmVjdD8oZS5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9cixlLmxhc3RFZmZlY3Q9cik6ZS5maXJzdEVmZmVjdD1lLmxhc3RFZmZlY3Q9cn1mdW5jdGlvbiBFYShlLHQpe3N3aXRjaChlLnRhZyl7Y2FzZSA1OnZhciByPWUudHlwZTtyZXR1cm4gbnVsbCE9PSh0PTEhPT10Lm5vZGVUeXBlfHxyLnRvTG93ZXJDYXNlKCkhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgNjpyZXR1cm4gbnVsbCE9PSh0PVwiXCI9PT1lLnBlbmRpbmdQcm9wc3x8MyE9PXQubm9kZVR5cGU/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgMTM6ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gU2EoZSl7aWYod2Epe3ZhciB0PWJhO2lmKHQpe3ZhciByPXQ7aWYoIUVhKGUsdCkpe2lmKCEodD14cihyLm5leHRTaWJsaW5nKSl8fCFFYShlLHQpKXJldHVybiBlLmVmZmVjdFRhZz0tMTAyNSZlLmVmZmVjdFRhZ3wyLHdhPSExLHZvaWQoeGE9ZSk7VGEoeGEscil9eGE9ZSxiYT14cih0LmZpcnN0Q2hpbGQpfWVsc2UgZS5lZmZlY3RUYWc9LTEwMjUmZS5lZmZlY3RUYWd8Mix3YT0hMSx4YT1lfX1mdW5jdGlvbiBDYShlKXtmb3IoZT1lLnJldHVybjtudWxsIT09ZSYmNSE9PWUudGFnJiYzIT09ZS50YWcmJjEzIT09ZS50YWc7KWU9ZS5yZXR1cm47eGE9ZX1mdW5jdGlvbiBNYShlKXtpZihlIT09eGEpcmV0dXJuITE7aWYoIXdhKXJldHVybiBDYShlKSx3YT0hMCwhMTt2YXIgdD1lLnR5cGU7aWYoNSE9PWUudGFnfHxcImhlYWRcIiE9PXQmJlwiYm9keVwiIT09dCYmIV9yKHQsZS5tZW1vaXplZFByb3BzKSlmb3IodD1iYTt0OylUYShlLHQpLHQ9eHIodC5uZXh0U2libGluZyk7aWYoQ2EoZSksMTM9PT1lLnRhZyl7aWYoIShlPW51bGwhPT0oZT1lLm1lbW9pemVkU3RhdGUpP2UuZGVoeWRyYXRlZDpudWxsKSl0aHJvdyBFcnJvcihhKDMxNykpO2U6e2ZvcihlPWUubmV4dFNpYmxpbmcsdD0wO2U7KXtpZig4PT09ZS5ub2RlVHlwZSl7dmFyIHI9ZS5kYXRhO2lmKFwiLyRcIj09PXIpe2lmKDA9PT10KXtiYT14cihlLm5leHRTaWJsaW5nKTticmVhayBlfXQtLX1lbHNlXCIkXCIhPT1yJiZcIiQhXCIhPT1yJiZcIiQ/XCIhPT1yfHx0Kyt9ZT1lLm5leHRTaWJsaW5nfWJhPW51bGx9fWVsc2UgYmE9eGE/eHIoZS5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpOm51bGw7cmV0dXJuITB9ZnVuY3Rpb24ga2EoKXtiYT14YT1udWxsLHdhPSExfXZhciBBYT1ZLlJlYWN0Q3VycmVudE93bmVyLElhPSExO2Z1bmN0aW9uIFBhKGUsdCxyLG4pe3QuY2hpbGQ9bnVsbD09PWU/Q28odCxudWxsLHIsbik6U28odCxlLmNoaWxkLHIsbil9ZnVuY3Rpb24gemEoZSx0LHIsbixpKXtyPXIucmVuZGVyO3ZhciBvPXQucmVmO3JldHVybiBybyh0LGkpLG49WG8oZSx0LHIsbixvLGkpLG51bGw9PT1lfHxJYT8odC5lZmZlY3RUYWd8PTEsUGEoZSx0LG4saSksdC5jaGlsZCk6KHQudXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0LmVmZmVjdFRhZyY9LTUxNyxlLmV4cGlyYXRpb25UaW1lPD1pJiYoZS5leHBpcmF0aW9uVGltZT0wKSxYYShlLHQsaSkpfWZ1bmN0aW9uIERhKGUsdCxyLG4saSxvKXtpZihudWxsPT09ZSl7dmFyIGE9ci50eXBlO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGF8fFNsKGEpfHx2b2lkIDAhPT1hLmRlZmF1bHRQcm9wc3x8bnVsbCE9PXIuY29tcGFyZXx8dm9pZCAwIT09ci5kZWZhdWx0UHJvcHM/KChlPU1sKHIudHlwZSxudWxsLG4sbnVsbCx0Lm1vZGUsbykpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSk6KHQudGFnPTE1LHQudHlwZT1hLFJhKGUsdCxhLG4saSxvKSl9cmV0dXJuIGE9ZS5jaGlsZCxpPG8mJihpPWEubWVtb2l6ZWRQcm9wcywocj1udWxsIT09KHI9ci5jb21wYXJlKT9yOmpuKShpLG4pJiZlLnJlZj09PXQucmVmKT9YYShlLHQsbyk6KHQuZWZmZWN0VGFnfD0xLChlPUNsKGEsbikpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSl9ZnVuY3Rpb24gUmEoZSx0LHIsbixpLG8pe3JldHVybiBudWxsIT09ZSYmam4oZS5tZW1vaXplZFByb3BzLG4pJiZlLnJlZj09PXQucmVmJiYoSWE9ITEsaTxvKT8odC5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLFhhKGUsdCxvKSk6T2EoZSx0LHIsbixvKX1mdW5jdGlvbiBMYShlLHQpe3ZhciByPXQucmVmOyhudWxsPT09ZSYmbnVsbCE9PXJ8fG51bGwhPT1lJiZlLnJlZiE9PXIpJiYodC5lZmZlY3RUYWd8PTEyOCl9ZnVuY3Rpb24gT2EoZSx0LHIsbixpKXt2YXIgbz1taShyKT9waTpoaS5jdXJyZW50O3JldHVybiBvPWZpKHQsbykscm8odCxpKSxyPVhvKGUsdCxyLG4sbyxpKSxudWxsPT09ZXx8SWE/KHQuZWZmZWN0VGFnfD0xLFBhKGUsdCxyLGkpLHQuY2hpbGQpOih0LnVwZGF0ZVF1ZXVlPWUudXBkYXRlUXVldWUsdC5lZmZlY3RUYWcmPS01MTcsZS5leHBpcmF0aW9uVGltZTw9aSYmKGUuZXhwaXJhdGlvblRpbWU9MCksWGEoZSx0LGkpKX1mdW5jdGlvbiBCYShlLHQscixuLGkpe2lmKG1pKHIpKXt2YXIgbz0hMDt2aSh0KX1lbHNlIG89ITE7aWYocm8odCxpKSxudWxsPT09dC5zdGF0ZU5vZGUpbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLHlvKHQscixuKSx4byh0LHIsbixpKSxuPSEwO2Vsc2UgaWYobnVsbD09PWUpe3ZhciBhPXQuc3RhdGVOb2RlLHM9dC5tZW1vaXplZFByb3BzO2EucHJvcHM9czt2YXIgbD1hLmNvbnRleHQsYz1yLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBjJiZudWxsIT09Yz9jPW5vKGMpOmM9ZmkodCxjPW1pKHIpP3BpOmhpLmN1cnJlbnQpO3ZhciB1PXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fChzIT09bnx8bCE9PWMpJiZ2byh0LGEsbixjKSxpbz0hMTt2YXIgZD10Lm1lbW9pemVkU3RhdGU7YS5zdGF0ZT1kLHVvKHQsbixhLGkpLGw9dC5tZW1vaXplZFN0YXRlLHMhPT1ufHxkIT09bHx8ZGkuY3VycmVudHx8aW8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LHIsdSxuKSxsPXQubWVtb2l6ZWRTdGF0ZSksKHM9aW98fF9vKHQscixzLG4sZCxsLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudHx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50V2lsbE1vdW50JiZhLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCkpOihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZE1vdW50JiYodC5lZmZlY3RUYWd8PTQpLHQubWVtb2l6ZWRQcm9wcz1uLHQubWVtb2l6ZWRTdGF0ZT1sKSxhLnByb3BzPW4sYS5zdGF0ZT1sLGEuY29udGV4dD1jLG49cyk6KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCksbj0hMSl9ZWxzZSBhPXQuc3RhdGVOb2RlLGFvKGUsdCkscz10Lm1lbW9pemVkUHJvcHMsYS5wcm9wcz10LnR5cGU9PT10LmVsZW1lbnRUeXBlP3M6WGkodC50eXBlLHMpLGw9YS5jb250ZXh0LFwib2JqZWN0XCI9PXR5cGVvZihjPXIuY29udGV4dFR5cGUpJiZudWxsIT09Yz9jPW5vKGMpOmM9ZmkodCxjPW1pKHIpP3BpOmhpLmN1cnJlbnQpLChoPVwiZnVuY3Rpb25cIj09dHlwZW9mKHU9ci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHwocyE9PW58fGwhPT1jKSYmdm8odCxhLG4sYyksaW89ITEsbD10Lm1lbW9pemVkU3RhdGUsYS5zdGF0ZT1sLHVvKHQsbixhLGkpLGQ9dC5tZW1vaXplZFN0YXRlLHMhPT1ufHxsIT09ZHx8ZGkuY3VycmVudHx8aW8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LHIsdSxuKSxkPXQubWVtb2l6ZWRTdGF0ZSksKHU9aW98fF9vKHQscixzLG4sbCxkLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlJiZhLmNvbXBvbmVudFdpbGxVcGRhdGUobixkLGMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJmEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUobixkLGMpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZSYmKHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYodC5lZmZlY3RUYWd8PTI1NikpOihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxzPT09ZS5tZW1vaXplZFByb3BzJiZsPT09ZS5tZW1vaXplZFN0YXRlfHwodC5lZmZlY3RUYWd8PTI1NiksdC5tZW1vaXplZFByb3BzPW4sdC5tZW1vaXplZFN0YXRlPWQpLGEucHJvcHM9bixhLnN0YXRlPWQsYS5jb250ZXh0PWMsbj11KTooXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnREaWRVcGRhdGV8fHM9PT1lLm1lbW9pemVkUHJvcHMmJmw9PT1lLm1lbW9pemVkU3RhdGV8fCh0LmVmZmVjdFRhZ3w9NCksXCJmdW5jdGlvblwiIT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD0yNTYpLG49ITEpO3JldHVybiBGYShlLHQscixuLG8saSl9ZnVuY3Rpb24gRmEoZSx0LHIsbixpLG8pe0xhKGUsdCk7dmFyIGE9MCE9KDY0JnQuZWZmZWN0VGFnKTtpZighbiYmIWEpcmV0dXJuIGkmJnhpKHQsciwhMSksWGEoZSx0LG8pO249dC5zdGF0ZU5vZGUsQWEuY3VycmVudD10O3ZhciBzPWEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yP251bGw6bi5yZW5kZXIoKTtyZXR1cm4gdC5lZmZlY3RUYWd8PTEsbnVsbCE9PWUmJmE/KHQuY2hpbGQ9U28odCxlLmNoaWxkLG51bGwsbyksdC5jaGlsZD1Tbyh0LG51bGwscyxvKSk6UGEoZSx0LHMsbyksdC5tZW1vaXplZFN0YXRlPW4uc3RhdGUsaSYmeGkodCxyLCEwKSx0LmNoaWxkfWZ1bmN0aW9uIGphKGUpe3ZhciB0PWUuc3RhdGVOb2RlO3QucGVuZGluZ0NvbnRleHQ/X2koMCx0LnBlbmRpbmdDb250ZXh0LHQucGVuZGluZ0NvbnRleHQhPT10LmNvbnRleHQpOnQuY29udGV4dCYmX2koMCx0LmNvbnRleHQsITEpLHpvKGUsdC5jb250YWluZXJJbmZvKX12YXIgVWEsTmEsVmEsR2E9e2RlaHlkcmF0ZWQ6bnVsbCxyZXRyeVRpbWU6MH07ZnVuY3Rpb24gcWEoZSx0LHIpe3ZhciBuLGk9dC5tb2RlLG89dC5wZW5kaW5nUHJvcHMsYT1Pby5jdXJyZW50LHM9ITE7aWYoKG49MCE9KDY0JnQuZWZmZWN0VGFnKSl8fChuPTAhPSgyJmEpJiYobnVsbD09PWV8fG51bGwhPT1lLm1lbW9pemVkU3RhdGUpKSxuPyhzPSEwLHQuZWZmZWN0VGFnJj0tNjUpOm51bGwhPT1lJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlfHx2b2lkIDA9PT1vLmZhbGxiYWNrfHwhMD09PW8udW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fChhfD0xKSxjaShPbywxJmEpLG51bGw9PT1lKXtpZih2b2lkIDAhPT1vLmZhbGxiYWNrJiZTYSh0KSxzKXtpZihzPW8uZmFsbGJhY2ssKG89a2wobnVsbCxpLDAsbnVsbCkpLnJldHVybj10LDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihyPWtsKHMsaSxyLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9cix0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLHJ9cmV0dXJuIGk9by5jaGlsZHJlbix0Lm1lbW9pemVkU3RhdGU9bnVsbCx0LmNoaWxkPUNvKHQsbnVsbCxpLHIpfWlmKG51bGwhPT1lLm1lbW9pemVkU3RhdGUpe2lmKGk9KGU9ZS5jaGlsZCkuc2libGluZyxzKXtpZihvPW8uZmFsbGJhY2ssKHI9Q2woZSxlLnBlbmRpbmdQcm9wcykpLnJldHVybj10LDA9PSgyJnQubW9kZSkmJihzPW51bGwhPT10Lm1lbW9pemVkU3RhdGU/dC5jaGlsZC5jaGlsZDp0LmNoaWxkKSE9PWUuY2hpbGQpZm9yKHIuY2hpbGQ9cztudWxsIT09czspcy5yZXR1cm49cixzPXMuc2libGluZztyZXR1cm4oaT1DbChpLG8pKS5yZXR1cm49dCxyLnNpYmxpbmc9aSxyLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1yLGl9cmV0dXJuIHI9U28odCxlLmNoaWxkLG8uY2hpbGRyZW4sciksdC5tZW1vaXplZFN0YXRlPW51bGwsdC5jaGlsZD1yfWlmKGU9ZS5jaGlsZCxzKXtpZihzPW8uZmFsbGJhY2ssKG89a2wobnVsbCxpLDAsbnVsbCkpLnJldHVybj10LG8uY2hpbGQ9ZSxudWxsIT09ZSYmKGUucmV0dXJuPW8pLDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihyPWtsKHMsaSxyLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9cixyLmVmZmVjdFRhZ3w9MixvLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLHJ9cmV0dXJuIHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQuY2hpbGQ9U28odCxlLG8uY2hpbGRyZW4scil9ZnVuY3Rpb24gWmEoZSx0KXtlLmV4cGlyYXRpb25UaW1lPHQmJihlLmV4cGlyYXRpb25UaW1lPXQpO3ZhciByPWUuYWx0ZXJuYXRlO251bGwhPT1yJiZyLmV4cGlyYXRpb25UaW1lPHQmJihyLmV4cGlyYXRpb25UaW1lPXQpLHRvKGUucmV0dXJuLHQpfWZ1bmN0aW9uICRhKGUsdCxyLG4saSxvKXt2YXIgYT1lLm1lbW9pemVkU3RhdGU7bnVsbD09PWE/ZS5tZW1vaXplZFN0YXRlPXtpc0JhY2t3YXJkczp0LHJlbmRlcmluZzpudWxsLHJlbmRlcmluZ1N0YXJ0VGltZTowLGxhc3Q6bix0YWlsOnIsdGFpbEV4cGlyYXRpb246MCx0YWlsTW9kZTppLGxhc3RFZmZlY3Q6b306KGEuaXNCYWNrd2FyZHM9dCxhLnJlbmRlcmluZz1udWxsLGEucmVuZGVyaW5nU3RhcnRUaW1lPTAsYS5sYXN0PW4sYS50YWlsPXIsYS50YWlsRXhwaXJhdGlvbj0wLGEudGFpbE1vZGU9aSxhLmxhc3RFZmZlY3Q9byl9ZnVuY3Rpb24gV2EoZSx0LHIpe3ZhciBuPXQucGVuZGluZ1Byb3BzLGk9bi5yZXZlYWxPcmRlcixvPW4udGFpbDtpZihQYShlLHQsbi5jaGlsZHJlbixyKSwwIT0oMiYobj1Pby5jdXJyZW50KSkpbj0xJm58Mix0LmVmZmVjdFRhZ3w9NjQ7ZWxzZXtpZihudWxsIT09ZSYmMCE9KDY0JmUuZWZmZWN0VGFnKSllOmZvcihlPXQuY2hpbGQ7bnVsbCE9PWU7KXtpZigxMz09PWUudGFnKW51bGwhPT1lLm1lbW9pemVkU3RhdGUmJlphKGUscik7ZWxzZSBpZigxOT09PWUudGFnKVphKGUscik7ZWxzZSBpZihudWxsIT09ZS5jaGlsZCl7ZS5jaGlsZC5yZXR1cm49ZSxlPWUuY2hpbGQ7Y29udGludWV9aWYoZT09PXQpYnJlYWsgZTtmb3IoO251bGw9PT1lLnNpYmxpbmc7KXtpZihudWxsPT09ZS5yZXR1cm58fGUucmV0dXJuPT09dClicmVhayBlO2U9ZS5yZXR1cm59ZS5zaWJsaW5nLnJldHVybj1lLnJldHVybixlPWUuc2libGluZ31uJj0xfWlmKGNpKE9vLG4pLDA9PSgyJnQubW9kZSkpdC5tZW1vaXplZFN0YXRlPW51bGw7ZWxzZSBzd2l0Y2goaSl7Y2FzZVwiZm9yd2FyZHNcIjpmb3Iocj10LmNoaWxkLGk9bnVsbDtudWxsIT09cjspbnVsbCE9PShlPXIuYWx0ZXJuYXRlKSYmbnVsbD09PUJvKGUpJiYoaT1yKSxyPXIuc2libGluZztudWxsPT09KHI9aSk/KGk9dC5jaGlsZCx0LmNoaWxkPW51bGwpOihpPXIuc2libGluZyxyLnNpYmxpbmc9bnVsbCksJGEodCwhMSxpLHIsbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcImJhY2t3YXJkc1wiOmZvcihyPW51bGwsaT10LmNoaWxkLHQuY2hpbGQ9bnVsbDtudWxsIT09aTspe2lmKG51bGwhPT0oZT1pLmFsdGVybmF0ZSkmJm51bGw9PT1CbyhlKSl7dC5jaGlsZD1pO2JyZWFrfWU9aS5zaWJsaW5nLGkuc2libGluZz1yLHI9aSxpPWV9JGEodCwhMCxyLG51bGwsbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcInRvZ2V0aGVyXCI6JGEodCwhMSxudWxsLG51bGwsdm9pZCAwLHQubGFzdEVmZmVjdCk7YnJlYWs7ZGVmYXVsdDp0Lm1lbW9pemVkU3RhdGU9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBYYShlLHQscil7bnVsbCE9PWUmJih0LmRlcGVuZGVuY2llcz1lLmRlcGVuZGVuY2llcyk7dmFyIG49dC5leHBpcmF0aW9uVGltZTtpZigwIT09biYmYWwobiksdC5jaGlsZEV4cGlyYXRpb25UaW1lPHIpcmV0dXJuIG51bGw7aWYobnVsbCE9PWUmJnQuY2hpbGQhPT1lLmNoaWxkKXRocm93IEVycm9yKGEoMTUzKSk7aWYobnVsbCE9PXQuY2hpbGQpe2ZvcihyPUNsKGU9dC5jaGlsZCxlLnBlbmRpbmdQcm9wcyksdC5jaGlsZD1yLHIucmV0dXJuPXQ7bnVsbCE9PWUuc2libGluZzspZT1lLnNpYmxpbmcsKHI9ci5zaWJsaW5nPUNsKGUsZS5wZW5kaW5nUHJvcHMpKS5yZXR1cm49dDtyLnNpYmxpbmc9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBIYShlLHQpe3N3aXRjaChlLnRhaWxNb2RlKXtjYXNlXCJoaWRkZW5cIjp0PWUudGFpbDtmb3IodmFyIHI9bnVsbDtudWxsIT09dDspbnVsbCE9PXQuYWx0ZXJuYXRlJiYocj10KSx0PXQuc2libGluZztudWxsPT09cj9lLnRhaWw9bnVsbDpyLnNpYmxpbmc9bnVsbDticmVhaztjYXNlXCJjb2xsYXBzZWRcIjpyPWUudGFpbDtmb3IodmFyIG49bnVsbDtudWxsIT09cjspbnVsbCE9PXIuYWx0ZXJuYXRlJiYobj1yKSxyPXIuc2libGluZztudWxsPT09bj90fHxudWxsPT09ZS50YWlsP2UudGFpbD1udWxsOmUudGFpbC5zaWJsaW5nPW51bGw6bi5zaWJsaW5nPW51bGx9fWZ1bmN0aW9uIFlhKGUsdCxyKXt2YXIgbj10LnBlbmRpbmdQcm9wcztzd2l0Y2godC50YWcpe2Nhc2UgMjpjYXNlIDE2OmNhc2UgMTU6Y2FzZSAwOmNhc2UgMTE6Y2FzZSA3OmNhc2UgODpjYXNlIDEyOmNhc2UgOTpjYXNlIDE0OnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gbWkodC50eXBlKSYmZ2koKSxudWxsO2Nhc2UgMzpyZXR1cm4gRG8oKSxsaShkaSksbGkoaGkpLChyPXQuc3RhdGVOb2RlKS5wZW5kaW5nQ29udGV4dCYmKHIuY29udGV4dD1yLnBlbmRpbmdDb250ZXh0LHIucGVuZGluZ0NvbnRleHQ9bnVsbCksbnVsbCE9PWUmJm51bGwhPT1lLmNoaWxkfHwhTWEodCl8fCh0LmVmZmVjdFRhZ3w9NCksbnVsbDtjYXNlIDU6TG8odCkscj1QbyhJby5jdXJyZW50KTt2YXIgbz10LnR5cGU7aWYobnVsbCE9PWUmJm51bGwhPXQuc3RhdGVOb2RlKU5hKGUsdCxvLG4sciksZS5yZWYhPT10LnJlZiYmKHQuZWZmZWN0VGFnfD0xMjgpO2Vsc2V7aWYoIW4pe2lmKG51bGw9PT10LnN0YXRlTm9kZSl0aHJvdyBFcnJvcihhKDE2NikpO3JldHVybiBudWxsfWlmKGU9UG8oa28uY3VycmVudCksTWEodCkpe249dC5zdGF0ZU5vZGUsbz10LnR5cGU7dmFyIHM9dC5tZW1vaXplZFByb3BzO3N3aXRjaChuW1RyXT10LG5bRXJdPXMsbyl7Y2FzZVwiaWZyYW1lXCI6Y2FzZVwib2JqZWN0XCI6Y2FzZVwiZW1iZWRcIjpXdChcImxvYWRcIixuKTticmVhaztjYXNlXCJ2aWRlb1wiOmNhc2VcImF1ZGlvXCI6Zm9yKGU9MDtlPFllLmxlbmd0aDtlKyspV3QoWWVbZV0sbik7YnJlYWs7Y2FzZVwic291cmNlXCI6V3QoXCJlcnJvclwiLG4pO2JyZWFrO2Nhc2VcImltZ1wiOmNhc2VcImltYWdlXCI6Y2FzZVwibGlua1wiOld0KFwiZXJyb3JcIixuKSxXdChcImxvYWRcIixuKTticmVhaztjYXNlXCJmb3JtXCI6V3QoXCJyZXNldFwiLG4pLFd0KFwic3VibWl0XCIsbik7YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOld0KFwidG9nZ2xlXCIsbik7YnJlYWs7Y2FzZVwiaW5wdXRcIjpUZShuLHMpLFd0KFwiaW52YWxpZFwiLG4pLHNyKHIsXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJzZWxlY3RcIjpuLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhcy5tdWx0aXBsZX0sV3QoXCJpbnZhbGlkXCIsbiksc3IocixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6UGUobixzKSxXdChcImludmFsaWRcIixuKSxzcihyLFwib25DaGFuZ2VcIil9Zm9yKHZhciBsIGluIGlyKG8scyksZT1udWxsLHMpaWYocy5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIGM9c1tsXTtcImNoaWxkcmVuXCI9PT1sP1wic3RyaW5nXCI9PXR5cGVvZiBjP24udGV4dENvbnRlbnQhPT1jJiYoZT1bXCJjaGlsZHJlblwiLGNdKTpcIm51bWJlclwiPT10eXBlb2YgYyYmbi50ZXh0Q29udGVudCE9PVwiXCIrYyYmKGU9W1wiY2hpbGRyZW5cIixcIlwiK2NdKTpFLmhhc093blByb3BlcnR5KGwpJiZudWxsIT1jJiZzcihyLGwpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKG4pLENlKG4scywhMCk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShuKSxEZShuKTticmVhaztjYXNlXCJzZWxlY3RcIjpjYXNlXCJvcHRpb25cIjpicmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIHMub25DbGljayYmKG4ub25jbGljaz1scil9cj1lLHQudXBkYXRlUXVldWU9cixudWxsIT09ciYmKHQuZWZmZWN0VGFnfD00KX1lbHNle3N3aXRjaChsPTk9PT1yLm5vZGVUeXBlP3I6ci5vd25lckRvY3VtZW50LGU9PT1hciYmKGU9T2UobykpLGU9PT1hcj9cInNjcmlwdFwiPT09bz8oKGU9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c2NyaXB0PjxcXC9zY3JpcHQ+XCIsZT1lLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCkpOlwic3RyaW5nXCI9PXR5cGVvZiBuLmlzP2U9bC5jcmVhdGVFbGVtZW50KG8se2lzOm4uaXN9KTooZT1sLmNyZWF0ZUVsZW1lbnQobyksXCJzZWxlY3RcIj09PW8mJihsPWUsbi5tdWx0aXBsZT9sLm11bHRpcGxlPSEwOm4uc2l6ZSYmKGwuc2l6ZT1uLnNpemUpKSk6ZT1sLmNyZWF0ZUVsZW1lbnROUyhlLG8pLGVbVHJdPXQsZVtFcl09bixVYShlLHQpLHQuc3RhdGVOb2RlPWUsbD1vcihvLG4pLG8pe2Nhc2VcImlmcmFtZVwiOmNhc2VcIm9iamVjdFwiOmNhc2VcImVtYmVkXCI6V3QoXCJsb2FkXCIsZSksYz1uO2JyZWFrO2Nhc2VcInZpZGVvXCI6Y2FzZVwiYXVkaW9cIjpmb3IoYz0wO2M8WWUubGVuZ3RoO2MrKylXdChZZVtjXSxlKTtjPW47YnJlYWs7Y2FzZVwic291cmNlXCI6V3QoXCJlcnJvclwiLGUpLGM9bjticmVhaztjYXNlXCJpbWdcIjpjYXNlXCJpbWFnZVwiOmNhc2VcImxpbmtcIjpXdChcImVycm9yXCIsZSksV3QoXCJsb2FkXCIsZSksYz1uO2JyZWFrO2Nhc2VcImZvcm1cIjpXdChcInJlc2V0XCIsZSksV3QoXCJzdWJtaXRcIixlKSxjPW47YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOld0KFwidG9nZ2xlXCIsZSksYz1uO2JyZWFrO2Nhc2VcImlucHV0XCI6VGUoZSxuKSxjPXdlKGUsbiksV3QoXCJpbnZhbGlkXCIsZSksc3IocixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcIm9wdGlvblwiOmM9a2UoZSxuKTticmVhaztjYXNlXCJzZWxlY3RcIjplLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhbi5tdWx0aXBsZX0sYz1pKHt9LG4se3ZhbHVlOnZvaWQgMH0pLFd0KFwiaW52YWxpZFwiLGUpLHNyKHIsXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOlBlKGUsbiksYz1JZShlLG4pLFd0KFwiaW52YWxpZFwiLGUpLHNyKHIsXCJvbkNoYW5nZVwiKTticmVhaztkZWZhdWx0OmM9bn1pcihvLGMpO3ZhciB1PWM7Zm9yKHMgaW4gdSlpZih1Lmhhc093blByb3BlcnR5KHMpKXt2YXIgaD11W3NdO1wic3R5bGVcIj09PXM/cnIoZSxoKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP251bGwhPShoPWg/aC5fX2h0bWw6dm9pZCAwKSYmamUoZSxoKTpcImNoaWxkcmVuXCI9PT1zP1wic3RyaW5nXCI9PXR5cGVvZiBoPyhcInRleHRhcmVhXCIhPT1vfHxcIlwiIT09aCkmJlVlKGUsaCk6XCJudW1iZXJcIj09dHlwZW9mIGgmJlVlKGUsXCJcIitoKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9udWxsIT1oJiZzcihyLHMpOm51bGwhPWgmJksoZSxzLGgsbCkpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKGUpLENlKGUsbiwhMSk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShlKSxEZShlKTticmVhaztjYXNlXCJvcHRpb25cIjpudWxsIT1uLnZhbHVlJiZlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIit5ZShuLnZhbHVlKSk7YnJlYWs7Y2FzZVwic2VsZWN0XCI6ZS5tdWx0aXBsZT0hIW4ubXVsdGlwbGUsbnVsbCE9KHI9bi52YWx1ZSk/QWUoZSwhIW4ubXVsdGlwbGUsciwhMSk6bnVsbCE9bi5kZWZhdWx0VmFsdWUmJkFlKGUsISFuLm11bHRpcGxlLG4uZGVmYXVsdFZhbHVlLCEwKTticmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25DbGljayYmKGUub25jbGljaz1scil9Z3IobyxuKSYmKHQuZWZmZWN0VGFnfD00KX1udWxsIT09dC5yZWYmJih0LmVmZmVjdFRhZ3w9MTI4KX1yZXR1cm4gbnVsbDtjYXNlIDY6aWYoZSYmbnVsbCE9dC5zdGF0ZU5vZGUpVmEoMCx0LGUubWVtb2l6ZWRQcm9wcyxuKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuJiZudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjYpKTtyPVBvKElvLmN1cnJlbnQpLFBvKGtvLmN1cnJlbnQpLE1hKHQpPyhyPXQuc3RhdGVOb2RlLG49dC5tZW1vaXplZFByb3BzLHJbVHJdPXQsci5ub2RlVmFsdWUhPT1uJiYodC5lZmZlY3RUYWd8PTQpKTooKHI9KDk9PT1yLm5vZGVUeXBlP3I6ci5vd25lckRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShuKSlbVHJdPXQsdC5zdGF0ZU5vZGU9cil9cmV0dXJuIG51bGw7Y2FzZSAxMzpyZXR1cm4gbGkoT28pLG49dC5tZW1vaXplZFN0YXRlLDAhPSg2NCZ0LmVmZmVjdFRhZyk/KHQuZXhwaXJhdGlvblRpbWU9cix0KToocj1udWxsIT09bixuPSExLG51bGw9PT1lP3ZvaWQgMCE9PXQubWVtb2l6ZWRQcm9wcy5mYWxsYmFjayYmTWEodCk6KG49bnVsbCE9PShvPWUubWVtb2l6ZWRTdGF0ZSkscnx8bnVsbD09PW98fG51bGwhPT0obz1lLmNoaWxkLnNpYmxpbmcpJiYobnVsbCE9PShzPXQuZmlyc3RFZmZlY3QpPyh0LmZpcnN0RWZmZWN0PW8sby5uZXh0RWZmZWN0PXMpOih0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1vLG8ubmV4dEVmZmVjdD1udWxsKSxvLmVmZmVjdFRhZz04KSksciYmIW4mJjAhPSgyJnQubW9kZSkmJihudWxsPT09ZSYmITAhPT10Lm1lbW9pemVkUHJvcHMudW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fDAhPSgxJk9vLmN1cnJlbnQpP01zPT09eHMmJihNcz1icyk6KE1zIT09eHMmJk1zIT09YnN8fChNcz13cyksMCE9PXpzJiZudWxsIT09RXMmJihEbChFcyxDcyksUmwoRXMsenMpKSkpLChyfHxuKSYmKHQuZWZmZWN0VGFnfD00KSxudWxsKTtjYXNlIDQ6cmV0dXJuIERvKCksbnVsbDtjYXNlIDEwOnJldHVybiBlbyh0KSxudWxsO2Nhc2UgMTc6cmV0dXJuIG1pKHQudHlwZSkmJmdpKCksbnVsbDtjYXNlIDE5OmlmKGxpKE9vKSxudWxsPT09KG49dC5tZW1vaXplZFN0YXRlKSlyZXR1cm4gbnVsbDtpZihvPTAhPSg2NCZ0LmVmZmVjdFRhZyksbnVsbD09PShzPW4ucmVuZGVyaW5nKSl7aWYobylIYShuLCExKTtlbHNlIGlmKE1zIT09eHN8fG51bGwhPT1lJiYwIT0oNjQmZS5lZmZlY3RUYWcpKWZvcihzPXQuY2hpbGQ7bnVsbCE9PXM7KXtpZihudWxsIT09KGU9Qm8ocykpKXtmb3IodC5lZmZlY3RUYWd8PTY0LEhhKG4sITEpLG51bGwhPT0obz1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9byx0LmVmZmVjdFRhZ3w9NCksbnVsbD09PW4ubGFzdEVmZmVjdCYmKHQuZmlyc3RFZmZlY3Q9bnVsbCksdC5sYXN0RWZmZWN0PW4ubGFzdEVmZmVjdCxuPXQuY2hpbGQ7bnVsbCE9PW47KXM9ciwobz1uKS5lZmZlY3RUYWcmPTIsby5uZXh0RWZmZWN0PW51bGwsby5maXJzdEVmZmVjdD1udWxsLG8ubGFzdEVmZmVjdD1udWxsLG51bGw9PT0oZT1vLmFsdGVybmF0ZSk/KG8uY2hpbGRFeHBpcmF0aW9uVGltZT0wLG8uZXhwaXJhdGlvblRpbWU9cyxvLmNoaWxkPW51bGwsby5tZW1vaXplZFByb3BzPW51bGwsby5tZW1vaXplZFN0YXRlPW51bGwsby51cGRhdGVRdWV1ZT1udWxsLG8uZGVwZW5kZW5jaWVzPW51bGwpOihvLmNoaWxkRXhwaXJhdGlvblRpbWU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lLG8uZXhwaXJhdGlvblRpbWU9ZS5leHBpcmF0aW9uVGltZSxvLmNoaWxkPWUuY2hpbGQsby5tZW1vaXplZFByb3BzPWUubWVtb2l6ZWRQcm9wcyxvLm1lbW9pemVkU3RhdGU9ZS5tZW1vaXplZFN0YXRlLG8udXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSxzPWUuZGVwZW5kZW5jaWVzLG8uZGVwZW5kZW5jaWVzPW51bGw9PT1zP251bGw6e2V4cGlyYXRpb25UaW1lOnMuZXhwaXJhdGlvblRpbWUsZmlyc3RDb250ZXh0OnMuZmlyc3RDb250ZXh0LHJlc3BvbmRlcnM6cy5yZXNwb25kZXJzfSksbj1uLnNpYmxpbmc7cmV0dXJuIGNpKE9vLDEmT28uY3VycmVudHwyKSx0LmNoaWxkfXM9cy5zaWJsaW5nfX1lbHNle2lmKCFvKWlmKG51bGwhPT0oZT1CbyhzKSkpe2lmKHQuZWZmZWN0VGFnfD02NCxvPSEwLG51bGwhPT0ocj1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9cix0LmVmZmVjdFRhZ3w9NCksSGEobiwhMCksbnVsbD09PW4udGFpbCYmXCJoaWRkZW5cIj09PW4udGFpbE1vZGUmJiFzLmFsdGVybmF0ZSlyZXR1cm4gbnVsbCE9PSh0PXQubGFzdEVmZmVjdD1uLmxhc3RFZmZlY3QpJiYodC5uZXh0RWZmZWN0PW51bGwpLG51bGx9ZWxzZSAyKmppKCktbi5yZW5kZXJpbmdTdGFydFRpbWU+bi50YWlsRXhwaXJhdGlvbiYmMTxyJiYodC5lZmZlY3RUYWd8PTY0LG89ITAsSGEobiwhMSksdC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9ci0xKTtuLmlzQmFja3dhcmRzPyhzLnNpYmxpbmc9dC5jaGlsZCx0LmNoaWxkPXMpOihudWxsIT09KHI9bi5sYXN0KT9yLnNpYmxpbmc9czp0LmNoaWxkPXMsbi5sYXN0PXMpfXJldHVybiBudWxsIT09bi50YWlsPygwPT09bi50YWlsRXhwaXJhdGlvbiYmKG4udGFpbEV4cGlyYXRpb249amkoKSs1MDApLHI9bi50YWlsLG4ucmVuZGVyaW5nPXIsbi50YWlsPXIuc2libGluZyxuLmxhc3RFZmZlY3Q9dC5sYXN0RWZmZWN0LG4ucmVuZGVyaW5nU3RhcnRUaW1lPWppKCksci5zaWJsaW5nPW51bGwsdD1Pby5jdXJyZW50LGNpKE9vLG8/MSZ0fDI6MSZ0KSxyKTpudWxsfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9ZnVuY3Rpb24gS2EoZSl7c3dpdGNoKGUudGFnKXtjYXNlIDE6bWkoZS50eXBlKSYmZ2koKTt2YXIgdD1lLmVmZmVjdFRhZztyZXR1cm4gNDA5NiZ0PyhlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGUpOm51bGw7Y2FzZSAzOmlmKERvKCksbGkoZGkpLGxpKGhpKSwwIT0oNjQmKHQ9ZS5lZmZlY3RUYWcpKSl0aHJvdyBFcnJvcihhKDI4NSkpO3JldHVybiBlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGU7Y2FzZSA1OnJldHVybiBMbyhlKSxudWxsO2Nhc2UgMTM6cmV0dXJuIGxpKE9vKSw0MDk2Jih0PWUuZWZmZWN0VGFnKT8oZS5lZmZlY3RUYWc9LTQwOTcmdHw2NCxlKTpudWxsO2Nhc2UgMTk6cmV0dXJuIGxpKE9vKSxudWxsO2Nhc2UgNDpyZXR1cm4gRG8oKSxudWxsO2Nhc2UgMTA6cmV0dXJuIGVvKGUpLG51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gSmEoZSx0KXtyZXR1cm57dmFsdWU6ZSxzb3VyY2U6dCxzdGFjazpfZSh0KX19VWE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dC5jaGlsZDtudWxsIT09cjspe2lmKDU9PT1yLnRhZ3x8Nj09PXIudGFnKWUuYXBwZW5kQ2hpbGQoci5zdGF0ZU5vZGUpO2Vsc2UgaWYoNCE9PXIudGFnJiZudWxsIT09ci5jaGlsZCl7ci5jaGlsZC5yZXR1cm49cixyPXIuY2hpbGQ7Y29udGludWV9aWYocj09PXQpYnJlYWs7Zm9yKDtudWxsPT09ci5zaWJsaW5nOyl7aWYobnVsbD09PXIucmV0dXJufHxyLnJldHVybj09PXQpcmV0dXJuO3I9ci5yZXR1cm59ci5zaWJsaW5nLnJldHVybj1yLnJldHVybixyPXIuc2libGluZ319LE5hPWZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGE9ZS5tZW1vaXplZFByb3BzO2lmKGEhPT1uKXt2YXIgcyxsLGM9dC5zdGF0ZU5vZGU7c3dpdGNoKFBvKGtvLmN1cnJlbnQpLGU9bnVsbCxyKXtjYXNlXCJpbnB1dFwiOmE9d2UoYyxhKSxuPXdlKGMsbiksZT1bXTticmVhaztjYXNlXCJvcHRpb25cIjphPWtlKGMsYSksbj1rZShjLG4pLGU9W107YnJlYWs7Y2FzZVwic2VsZWN0XCI6YT1pKHt9LGEse3ZhbHVlOnZvaWQgMH0pLG49aSh7fSxuLHt2YWx1ZTp2b2lkIDB9KSxlPVtdO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6YT1JZShjLGEpLG49SWUoYyxuKSxlPVtdO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiIT10eXBlb2YgYS5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uQ2xpY2smJihjLm9uY2xpY2s9bHIpfWZvcihzIGluIGlyKHIsbikscj1udWxsLGEpaWYoIW4uaGFzT3duUHJvcGVydHkocykmJmEuaGFzT3duUHJvcGVydHkocykmJm51bGwhPWFbc10paWYoXCJzdHlsZVwiPT09cylmb3IobCBpbiBjPWFbc10pYy5oYXNPd25Qcm9wZXJ0eShsKSYmKHJ8fChyPXt9KSxyW2xdPVwiXCIpO2Vsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1zJiZcImNoaWxkcmVuXCIhPT1zJiZcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9lfHwoZT1bXSk6KGU9ZXx8W10pLnB1c2gocyxudWxsKSk7Zm9yKHMgaW4gbil7dmFyIHU9bltzXTtpZihjPW51bGwhPWE/YVtzXTp2b2lkIDAsbi5oYXNPd25Qcm9wZXJ0eShzKSYmdSE9PWMmJihudWxsIT11fHxudWxsIT1jKSlpZihcInN0eWxlXCI9PT1zKWlmKGMpe2ZvcihsIGluIGMpIWMuaGFzT3duUHJvcGVydHkobCl8fHUmJnUuaGFzT3duUHJvcGVydHkobCl8fChyfHwocj17fSkscltsXT1cIlwiKTtmb3IobCBpbiB1KXUuaGFzT3duUHJvcGVydHkobCkmJmNbbF0hPT11W2xdJiYocnx8KHI9e30pLHJbbF09dVtsXSl9ZWxzZSByfHwoZXx8KGU9W10pLGUucHVzaChzLHIpKSxyPXU7ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PXM/KHU9dT91Ll9faHRtbDp2b2lkIDAsYz1jP2MuX19odG1sOnZvaWQgMCxudWxsIT11JiZjIT09dSYmKGU9ZXx8W10pLnB1c2gocyx1KSk6XCJjaGlsZHJlblwiPT09cz9jPT09dXx8XCJzdHJpbmdcIiE9dHlwZW9mIHUmJlwibnVtYmVyXCIhPXR5cGVvZiB1fHwoZT1lfHxbXSkucHVzaChzLFwiXCIrdSk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PXMmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT8obnVsbCE9dSYmc3IobyxzKSxlfHxjPT09dXx8KGU9W10pKTooZT1lfHxbXSkucHVzaChzLHUpKX1yJiYoZT1lfHxbXSkucHVzaChcInN0eWxlXCIsciksbz1lLCh0LnVwZGF0ZVF1ZXVlPW8pJiYodC5lZmZlY3RUYWd8PTQpfX0sVmE9ZnVuY3Rpb24oZSx0LHIsbil7ciE9PW4mJih0LmVmZmVjdFRhZ3w9NCl9O3ZhciBRYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrU2V0P1dlYWtTZXQ6U2V0O2Z1bmN0aW9uIGVzKGUsdCl7dmFyIHI9dC5zb3VyY2Usbj10LnN0YWNrO251bGw9PT1uJiZudWxsIT09ciYmKG49X2UocikpLG51bGwhPT1yJiZnZShyLnR5cGUpLHQ9dC52YWx1ZSxudWxsIT09ZSYmMT09PWUudGFnJiZnZShlLnR5cGUpO3RyeXtjb25zb2xlLmVycm9yKHQpfWNhdGNoKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKX19ZnVuY3Rpb24gdHMoZSl7dmFyIHQ9ZS5yZWY7aWYobnVsbCE9PXQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0cnl7dChudWxsKX1jYXRjaCh0KXt5bChlLHQpfWVsc2UgdC5jdXJyZW50PW51bGx9ZnVuY3Rpb24gcnMoZSx0KXtzd2l0Y2godC50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm47Y2FzZSAxOmlmKDI1NiZ0LmVmZmVjdFRhZyYmbnVsbCE9PWUpe3ZhciByPWUubWVtb2l6ZWRQcm9wcyxuPWUubWVtb2l6ZWRTdGF0ZTt0PShlPXQuc3RhdGVOb2RlKS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh0LmVsZW1lbnRUeXBlPT09dC50eXBlP3I6WGkodC50eXBlLHIpLG4pLGUuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGU9dH1yZXR1cm47Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA0OmNhc2UgMTc6cmV0dXJufXRocm93IEVycm9yKGEoMTYzKSl9ZnVuY3Rpb24gbnMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIHI9dD10Lm5leHQ7ZG97aWYoKHIudGFnJmUpPT09ZSl7dmFyIG49ci5kZXN0cm95O3IuZGVzdHJveT12b2lkIDAsdm9pZCAwIT09biYmbigpfXI9ci5uZXh0fXdoaWxlKHIhPT10KX19ZnVuY3Rpb24gaXMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIHI9dD10Lm5leHQ7ZG97aWYoKHIudGFnJmUpPT09ZSl7dmFyIG49ci5jcmVhdGU7ci5kZXN0cm95PW4oKX1yPXIubmV4dH13aGlsZShyIT09dCl9fWZ1bmN0aW9uIG9zKGUsdCxyKXtzd2l0Y2goci50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBpcygzLHIpO2Nhc2UgMTppZihlPXIuc3RhdGVOb2RlLDQmci5lZmZlY3RUYWcpaWYobnVsbD09PXQpZS5jb21wb25lbnREaWRNb3VudCgpO2Vsc2V7dmFyIG49ci5lbGVtZW50VHlwZT09PXIudHlwZT90Lm1lbW9pemVkUHJvcHM6WGkoci50eXBlLHQubWVtb2l6ZWRQcm9wcyk7ZS5jb21wb25lbnREaWRVcGRhdGUobix0Lm1lbW9pemVkU3RhdGUsZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSl9cmV0dXJuIHZvaWQobnVsbCE9PSh0PXIudXBkYXRlUXVldWUpJiZobyhyLHQsZSkpO2Nhc2UgMzppZihudWxsIT09KHQ9ci51cGRhdGVRdWV1ZSkpe2lmKGU9bnVsbCxudWxsIT09ci5jaGlsZClzd2l0Y2goci5jaGlsZC50YWcpe2Nhc2UgNTplPXIuY2hpbGQuc3RhdGVOb2RlO2JyZWFrO2Nhc2UgMTplPXIuY2hpbGQuc3RhdGVOb2RlfWhvKHIsdCxlKX1yZXR1cm47Y2FzZSA1OnJldHVybiBlPXIuc3RhdGVOb2RlLHZvaWQobnVsbD09PXQmJjQmci5lZmZlY3RUYWcmJmdyKHIudHlwZSxyLm1lbW9pemVkUHJvcHMpJiZlLmZvY3VzKCkpO2Nhc2UgNjpjYXNlIDQ6Y2FzZSAxMjpyZXR1cm47Y2FzZSAxMzpyZXR1cm4gdm9pZChudWxsPT09ci5tZW1vaXplZFN0YXRlJiYocj1yLmFsdGVybmF0ZSxudWxsIT09ciYmKHI9ci5tZW1vaXplZFN0YXRlLG51bGwhPT1yJiYocj1yLmRlaHlkcmF0ZWQsbnVsbCE9PXImJk90KHIpKSkpKTtjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMDpjYXNlIDIxOnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGFzKGUsdCxyKXtzd2l0Y2goXCJmdW5jdGlvblwiPT10eXBlb2Ygd2wmJndsKHQpLHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjppZihudWxsIT09KGU9dC51cGRhdGVRdWV1ZSkmJm51bGwhPT0oZT1lLmxhc3RFZmZlY3QpKXt2YXIgbj1lLm5leHQ7VmkoOTc8cj85NzpyLChmdW5jdGlvbigpe3ZhciBlPW47ZG97dmFyIHI9ZS5kZXN0cm95O2lmKHZvaWQgMCE9PXIpe3ZhciBpPXQ7dHJ5e3IoKX1jYXRjaChlKXt5bChpLGUpfX1lPWUubmV4dH13aGlsZShlIT09bil9KSl9YnJlYWs7Y2FzZSAxOnRzKHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mKHI9dC5zdGF0ZU5vZGUpLmNvbXBvbmVudFdpbGxVbm1vdW50JiZmdW5jdGlvbihlLHQpe3RyeXt0LnByb3BzPWUubWVtb2l6ZWRQcm9wcyx0LnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSx0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2godCl7eWwoZSx0KX19KHQscik7YnJlYWs7Y2FzZSA1OnRzKHQpO2JyZWFrO2Nhc2UgNDp1cyhlLHQscil9fWZ1bmN0aW9uIHNzKGUpe3ZhciB0PWUuYWx0ZXJuYXRlO2UucmV0dXJuPW51bGwsZS5jaGlsZD1udWxsLGUubWVtb2l6ZWRTdGF0ZT1udWxsLGUudXBkYXRlUXVldWU9bnVsbCxlLmRlcGVuZGVuY2llcz1udWxsLGUuYWx0ZXJuYXRlPW51bGwsZS5maXJzdEVmZmVjdD1udWxsLGUubGFzdEVmZmVjdD1udWxsLGUucGVuZGluZ1Byb3BzPW51bGwsZS5tZW1vaXplZFByb3BzPW51bGwsZS5zdGF0ZU5vZGU9bnVsbCxudWxsIT09dCYmc3ModCl9ZnVuY3Rpb24gbHMoZSl7cmV0dXJuIDU9PT1lLnRhZ3x8Mz09PWUudGFnfHw0PT09ZS50YWd9ZnVuY3Rpb24gY3MoZSl7ZTp7Zm9yKHZhciB0PWUucmV0dXJuO251bGwhPT10Oyl7aWYobHModCkpe3ZhciByPXQ7YnJlYWsgZX10PXQucmV0dXJufXRocm93IEVycm9yKGEoMTYwKSl9c3dpdGNoKHQ9ci5zdGF0ZU5vZGUsci50YWcpe2Nhc2UgNTp2YXIgbj0hMTticmVhaztjYXNlIDM6Y2FzZSA0OnQ9dC5jb250YWluZXJJbmZvLG49ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDE2MSkpfTE2JnIuZWZmZWN0VGFnJiYoVWUodCxcIlwiKSxyLmVmZmVjdFRhZyY9LTE3KTtlOnQ6Zm9yKHI9ZTs7KXtmb3IoO251bGw9PT1yLnNpYmxpbmc7KXtpZihudWxsPT09ci5yZXR1cm58fGxzKHIucmV0dXJuKSl7cj1udWxsO2JyZWFrIGV9cj1yLnJldHVybn1mb3Ioci5zaWJsaW5nLnJldHVybj1yLnJldHVybixyPXIuc2libGluZzs1IT09ci50YWcmJjYhPT1yLnRhZyYmMTghPT1yLnRhZzspe2lmKDImci5lZmZlY3RUYWcpY29udGludWUgdDtpZihudWxsPT09ci5jaGlsZHx8ND09PXIudGFnKWNvbnRpbnVlIHQ7ci5jaGlsZC5yZXR1cm49cixyPXIuY2hpbGR9aWYoISgyJnIuZWZmZWN0VGFnKSl7cj1yLnN0YXRlTm9kZTticmVhayBlfX1uP2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBpPXQudGFnLG89NT09PWl8fDY9PT1pO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLHI/OD09PW4ubm9kZVR5cGU/bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LHIpOm4uaW5zZXJ0QmVmb3JlKHQscik6KDg9PT1uLm5vZGVUeXBlPyhyPW4ucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHQsbik6KHI9bikuYXBwZW5kQ2hpbGQodCksbnVsbCE9PShuPW4uX3JlYWN0Um9vdENvbnRhaW5lcikmJnZvaWQgMCE9PW58fG51bGwhPT1yLm9uY2xpY2t8fChyLm9uY2xpY2s9bHIpKTtlbHNlIGlmKDQhPT1pJiZudWxsIT09KHQ9dC5jaGlsZCkpZm9yKGUodCxyLG4pLHQ9dC5zaWJsaW5nO251bGwhPT10OyllKHQscixuKSx0PXQuc2libGluZ30oZSxyLHQpOmZ1bmN0aW9uIGUodCxyLG4pe3ZhciBpPXQudGFnLG89NT09PWl8fDY9PT1pO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLHI/bi5pbnNlcnRCZWZvcmUodCxyKTpuLmFwcGVuZENoaWxkKHQpO2Vsc2UgaWYoNCE9PWkmJm51bGwhPT0odD10LmNoaWxkKSlmb3IoZSh0LHIsbiksdD10LnNpYmxpbmc7bnVsbCE9PXQ7KWUodCxyLG4pLHQ9dC5zaWJsaW5nfShlLHIsdCl9ZnVuY3Rpb24gdXMoZSx0LHIpe2Zvcih2YXIgbixpLG89dCxzPSExOzspe2lmKCFzKXtzPW8ucmV0dXJuO2U6Zm9yKDs7KXtpZihudWxsPT09cyl0aHJvdyBFcnJvcihhKDE2MCkpO3N3aXRjaChuPXMuc3RhdGVOb2RlLHMudGFnKXtjYXNlIDU6aT0hMTticmVhayBlO2Nhc2UgMzpjYXNlIDQ6bj1uLmNvbnRhaW5lckluZm8saT0hMDticmVhayBlfXM9cy5yZXR1cm59cz0hMH1pZig1PT09by50YWd8fDY9PT1vLnRhZyl7ZTpmb3IodmFyIGw9ZSxjPW8sdT1yLGg9Yzs7KWlmKGFzKGwsaCx1KSxudWxsIT09aC5jaGlsZCYmNCE9PWgudGFnKWguY2hpbGQucmV0dXJuPWgsaD1oLmNoaWxkO2Vsc2V7aWYoaD09PWMpYnJlYWsgZTtmb3IoO251bGw9PT1oLnNpYmxpbmc7KXtpZihudWxsPT09aC5yZXR1cm58fGgucmV0dXJuPT09YylicmVhayBlO2g9aC5yZXR1cm59aC5zaWJsaW5nLnJldHVybj1oLnJldHVybixoPWguc2libGluZ31pPyhsPW4sYz1vLnN0YXRlTm9kZSw4PT09bC5ub2RlVHlwZT9sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk6bC5yZW1vdmVDaGlsZChjKSk6bi5yZW1vdmVDaGlsZChvLnN0YXRlTm9kZSl9ZWxzZSBpZig0PT09by50YWcpe2lmKG51bGwhPT1vLmNoaWxkKXtuPW8uc3RhdGVOb2RlLmNvbnRhaW5lckluZm8saT0hMCxvLmNoaWxkLnJldHVybj1vLG89by5jaGlsZDtjb250aW51ZX19ZWxzZSBpZihhcyhlLG8sciksbnVsbCE9PW8uY2hpbGQpe28uY2hpbGQucmV0dXJuPW8sbz1vLmNoaWxkO2NvbnRpbnVlfWlmKG89PT10KWJyZWFrO2Zvcig7bnVsbD09PW8uc2libGluZzspe2lmKG51bGw9PT1vLnJldHVybnx8by5yZXR1cm49PT10KXJldHVybjs0PT09KG89by5yZXR1cm4pLnRhZyYmKHM9ITEpfW8uc2libGluZy5yZXR1cm49by5yZXR1cm4sbz1vLnNpYmxpbmd9fWZ1bmN0aW9uIGhzKGUsdCl7c3dpdGNoKHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBucygzLHQpO2Nhc2UgMTpyZXR1cm47Y2FzZSA1OnZhciByPXQuc3RhdGVOb2RlO2lmKG51bGwhPXIpe3ZhciBuPXQubWVtb2l6ZWRQcm9wcyxpPW51bGwhPT1lP2UubWVtb2l6ZWRQcm9wczpuO2U9dC50eXBlO3ZhciBvPXQudXBkYXRlUXVldWU7aWYodC51cGRhdGVRdWV1ZT1udWxsLG51bGwhPT1vKXtmb3IocltFcl09bixcImlucHV0XCI9PT1lJiZcInJhZGlvXCI9PT1uLnR5cGUmJm51bGwhPW4ubmFtZSYmRWUocixuKSxvcihlLGkpLHQ9b3IoZSxuKSxpPTA7aTxvLmxlbmd0aDtpKz0yKXt2YXIgcz1vW2ldLGw9b1tpKzFdO1wic3R5bGVcIj09PXM/cnIocixsKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP2plKHIsbCk6XCJjaGlsZHJlblwiPT09cz9VZShyLGwpOksocixzLGwsdCl9c3dpdGNoKGUpe2Nhc2VcImlucHV0XCI6U2UocixuKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOnplKHIsbik7YnJlYWs7Y2FzZVwic2VsZWN0XCI6dD1yLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUsci5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlPSEhbi5tdWx0aXBsZSxudWxsIT0oZT1uLnZhbHVlKT9BZShyLCEhbi5tdWx0aXBsZSxlLCExKTp0IT09ISFuLm11bHRpcGxlJiYobnVsbCE9bi5kZWZhdWx0VmFsdWU/QWUociwhIW4ubXVsdGlwbGUsbi5kZWZhdWx0VmFsdWUsITApOkFlKHIsISFuLm11bHRpcGxlLG4ubXVsdGlwbGU/W106XCJcIiwhMSkpfX19cmV0dXJuO2Nhc2UgNjppZihudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjIpKTtyZXR1cm4gdm9pZCh0LnN0YXRlTm9kZS5ub2RlVmFsdWU9dC5tZW1vaXplZFByb3BzKTtjYXNlIDM6cmV0dXJuIHZvaWQoKHQ9dC5zdGF0ZU5vZGUpLmh5ZHJhdGUmJih0Lmh5ZHJhdGU9ITEsT3QodC5jb250YWluZXJJbmZvKSkpO2Nhc2UgMTI6cmV0dXJuO2Nhc2UgMTM6aWYocj10LG51bGw9PT10Lm1lbW9pemVkU3RhdGU/bj0hMToobj0hMCxyPXQuY2hpbGQsUnM9amkoKSksbnVsbCE9PXIpZTpmb3IoZT1yOzspe2lmKDU9PT1lLnRhZylvPWUuc3RhdGVOb2RlLG4/XCJmdW5jdGlvblwiPT10eXBlb2Yobz1vLnN0eWxlKS5zZXRQcm9wZXJ0eT9vLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiLFwiaW1wb3J0YW50XCIpOm8uZGlzcGxheT1cIm5vbmVcIjoobz1lLnN0YXRlTm9kZSxpPW51bGwhPShpPWUubWVtb2l6ZWRQcm9wcy5zdHlsZSkmJmkuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5XCIpP2kuZGlzcGxheTpudWxsLG8uc3R5bGUuZGlzcGxheT10cihcImRpc3BsYXlcIixpKSk7ZWxzZSBpZig2PT09ZS50YWcpZS5zdGF0ZU5vZGUubm9kZVZhbHVlPW4/XCJcIjplLm1lbW9pemVkUHJvcHM7ZWxzZXtpZigxMz09PWUudGFnJiZudWxsIT09ZS5tZW1vaXplZFN0YXRlJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpeyhvPWUuY2hpbGQuc2libGluZykucmV0dXJuPWUsZT1vO2NvbnRpbnVlfWlmKG51bGwhPT1lLmNoaWxkKXtlLmNoaWxkLnJldHVybj1lLGU9ZS5jaGlsZDtjb250aW51ZX19aWYoZT09PXIpYnJlYWs7Zm9yKDtudWxsPT09ZS5zaWJsaW5nOyl7aWYobnVsbD09PWUucmV0dXJufHxlLnJldHVybj09PXIpYnJlYWsgZTtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm4sZT1lLnNpYmxpbmd9cmV0dXJuIHZvaWQgZHModCk7Y2FzZSAxOTpyZXR1cm4gdm9pZCBkcyh0KTtjYXNlIDE3OnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGRzKGUpe3ZhciB0PWUudXBkYXRlUXVldWU7aWYobnVsbCE9PXQpe2UudXBkYXRlUXVldWU9bnVsbDt2YXIgcj1lLnN0YXRlTm9kZTtudWxsPT09ciYmKHI9ZS5zdGF0ZU5vZGU9bmV3IFFhKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXhsLmJpbmQobnVsbCxlLHQpO3IuaGFzKHQpfHwoci5hZGQodCksdC50aGVuKG4sbikpfSkpfX12YXIgcHM9XCJmdW5jdGlvblwiPT10eXBlb2YgV2Vha01hcD9XZWFrTWFwOk1hcDtmdW5jdGlvbiBmcyhlLHQscil7KHI9c28ocixudWxsKSkudGFnPTMsci5wYXlsb2FkPXtlbGVtZW50Om51bGx9O3ZhciBuPXQudmFsdWU7cmV0dXJuIHIuY2FsbGJhY2s9ZnVuY3Rpb24oKXtPc3x8KE9zPSEwLEJzPW4pLGVzKGUsdCl9LHJ9ZnVuY3Rpb24gbXMoZSx0LHIpeyhyPXNvKHIsbnVsbCkpLnRhZz0zO3ZhciBuPWUudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7dmFyIGk9dC52YWx1ZTtyLnBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXMoZSx0KSxuKGkpfX12YXIgbz1lLnN0YXRlTm9kZTtyZXR1cm4gbnVsbCE9PW8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8uY29tcG9uZW50RGlkQ2F0Y2gmJihyLmNhbGxiYWNrPWZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgbiYmKG51bGw9PT1Gcz9Gcz1uZXcgU2V0KFt0aGlzXSk6RnMuYWRkKHRoaXMpLGVzKGUsdCkpO3ZhciByPXQuc3RhY2s7dGhpcy5jb21wb25lbnREaWRDYXRjaCh0LnZhbHVlLHtjb21wb25lbnRTdGFjazpudWxsIT09cj9yOlwiXCJ9KX0pLHJ9dmFyIGdzLF9zPU1hdGguY2VpbCx5cz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsdnM9WS5SZWFjdEN1cnJlbnRPd25lcix4cz0wLGJzPTMsd3M9NCxUcz0wLEVzPW51bGwsU3M9bnVsbCxDcz0wLE1zPXhzLGtzPW51bGwsQXM9MTA3Mzc0MTgyMyxJcz0xMDczNzQxODIzLFBzPW51bGwsenM9MCxEcz0hMSxScz0wLExzPW51bGwsT3M9ITEsQnM9bnVsbCxGcz1udWxsLGpzPSExLFVzPW51bGwsTnM9OTAsVnM9bnVsbCxHcz0wLHFzPW51bGwsWnM9MDtmdW5jdGlvbiAkcygpe3JldHVybiAwIT0oNDgmVHMpPzEwNzM3NDE4MjEtKGppKCkvMTB8MCk6MCE9PVpzP1pzOlpzPTEwNzM3NDE4MjEtKGppKCkvMTB8MCl9ZnVuY3Rpb24gV3MoZSx0LHIpe2lmKDA9PSgyJih0PXQubW9kZSkpKXJldHVybiAxMDczNzQxODIzO3ZhciBuPVVpKCk7aWYoMD09KDQmdCkpcmV0dXJuIDk5PT09bj8xMDczNzQxODIzOjEwNzM3NDE4MjI7aWYoMCE9KDE2JlRzKSlyZXR1cm4gQ3M7aWYobnVsbCE9PXIpZT1XaShlLDB8ci50aW1lb3V0TXN8fDVlMywyNTApO2Vsc2Ugc3dpdGNoKG4pe2Nhc2UgOTk6ZT0xMDczNzQxODIzO2JyZWFrO2Nhc2UgOTg6ZT1XaShlLDE1MCwxMDApO2JyZWFrO2Nhc2UgOTc6Y2FzZSA5NjplPVdpKGUsNWUzLDI1MCk7YnJlYWs7Y2FzZSA5NTplPTI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMyNikpfXJldHVybiBudWxsIT09RXMmJmU9PT1DcyYmLS1lLGV9ZnVuY3Rpb24gWHMoZSx0KXtpZig1MDxHcyl0aHJvdyBHcz0wLHFzPW51bGwsRXJyb3IoYSgxODUpKTtpZihudWxsIT09KGU9SHMoZSx0KSkpe3ZhciByPVVpKCk7MTA3Mzc0MTgyMz09PXQ/MCE9KDgmVHMpJiYwPT0oNDgmVHMpP1FzKGUpOihLcyhlKSwwPT09VHMmJlppKCkpOktzKGUpLDA9PSg0JlRzKXx8OTghPT1yJiY5OSE9PXJ8fChudWxsPT09VnM/VnM9bmV3IE1hcChbW2UsdF1dKToodm9pZCAwPT09KHI9VnMuZ2V0KGUpKXx8cj50KSYmVnMuc2V0KGUsdCkpfX1mdW5jdGlvbiBIcyhlLHQpe2UuZXhwaXJhdGlvblRpbWU8dCYmKGUuZXhwaXJhdGlvblRpbWU9dCk7dmFyIHI9ZS5hbHRlcm5hdGU7bnVsbCE9PXImJnIuZXhwaXJhdGlvblRpbWU8dCYmKHIuZXhwaXJhdGlvblRpbWU9dCk7dmFyIG49ZS5yZXR1cm4saT1udWxsO2lmKG51bGw9PT1uJiYzPT09ZS50YWcpaT1lLnN0YXRlTm9kZTtlbHNlIGZvcig7bnVsbCE9PW47KXtpZihyPW4uYWx0ZXJuYXRlLG4uY2hpbGRFeHBpcmF0aW9uVGltZTx0JiYobi5jaGlsZEV4cGlyYXRpb25UaW1lPXQpLG51bGwhPT1yJiZyLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKHIuY2hpbGRFeHBpcmF0aW9uVGltZT10KSxudWxsPT09bi5yZXR1cm4mJjM9PT1uLnRhZyl7aT1uLnN0YXRlTm9kZTticmVha31uPW4ucmV0dXJufXJldHVybiBudWxsIT09aSYmKEVzPT09aSYmKGFsKHQpLE1zPT09d3MmJkRsKGksQ3MpKSxSbChpLHQpKSxpfWZ1bmN0aW9uIFlzKGUpe3ZhciB0PWUubGFzdEV4cGlyZWRUaW1lO2lmKDAhPT10KXJldHVybiB0O2lmKCF6bChlLHQ9ZS5maXJzdFBlbmRpbmdUaW1lKSlyZXR1cm4gdDt2YXIgcj1lLmxhc3RQaW5nZWRUaW1lO3JldHVybiAyPj0oZT1yPihlPWUubmV4dEtub3duUGVuZGluZ0xldmVsKT9yOmUpJiZ0IT09ZT8wOmV9ZnVuY3Rpb24gS3MoZSl7aWYoMCE9PWUubGFzdEV4cGlyZWRUaW1lKWUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT0xMDczNzQxODIzLGUuY2FsbGJhY2tQcmlvcml0eT05OSxlLmNhbGxiYWNrTm9kZT1xaShRcy5iaW5kKG51bGwsZSkpO2Vsc2V7dmFyIHQ9WXMoZSkscj1lLmNhbGxiYWNrTm9kZTtpZigwPT09dCludWxsIT09ciYmKGUuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwKTtlbHNle3ZhciBuPSRzKCk7aWYoMTA3Mzc0MTgyMz09PXQ/bj05OToxPT09dHx8Mj09PXQ/bj05NTpuPTA+PShuPTEwKigxMDczNzQxODIxLXQpLTEwKigxMDczNzQxODIxLW4pKT85OToyNTA+PW4/OTg6NTI1MD49bj85Nzo5NSxudWxsIT09cil7dmFyIGk9ZS5jYWxsYmFja1ByaW9yaXR5O2lmKGUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT09PXQmJmk+PW4pcmV0dXJuO3IhPT16aSYmVGkocil9ZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPXQsZS5jYWxsYmFja1ByaW9yaXR5PW4sdD0xMDczNzQxODIzPT09dD9xaShRcy5iaW5kKG51bGwsZSkpOkdpKG4sSnMuYmluZChudWxsLGUpLHt0aW1lb3V0OjEwKigxMDczNzQxODIxLXQpLWppKCl9KSxlLmNhbGxiYWNrTm9kZT10fX19ZnVuY3Rpb24gSnMoZSx0KXtpZihacz0wLHQpcmV0dXJuIExsKGUsdD0kcygpKSxLcyhlKSxudWxsO3ZhciByPVlzKGUpO2lmKDAhPT1yKXtpZih0PWUuY2FsbGJhY2tOb2RlLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMjcpKTtpZihtbCgpLGU9PT1FcyYmcj09PUNzfHxybChlLHIpLG51bGwhPT1Tcyl7dmFyIG49VHM7VHN8PTE2O2Zvcih2YXIgaT1pbCgpOzspdHJ5e2xsKCk7YnJlYWt9Y2F0Y2godCl7bmwoZSx0KX1pZihRaSgpLFRzPW4seXMuY3VycmVudD1pLDE9PT1Ncyl0aHJvdyB0PWtzLHJsKGUsciksRGwoZSxyKSxLcyhlKSx0O2lmKG51bGw9PT1Tcylzd2l0Y2goaT1lLmZpbmlzaGVkV29yaz1lLmN1cnJlbnQuYWx0ZXJuYXRlLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT1yLG49TXMsRXM9bnVsbCxuKXtjYXNlIHhzOmNhc2UgMTp0aHJvdyBFcnJvcihhKDM0NSkpO2Nhc2UgMjpMbChlLDI8cj8yOnIpO2JyZWFrO2Nhc2UgYnM6aWYoRGwoZSxyKSxyPT09KG49ZS5sYXN0U3VzcGVuZGVkVGltZSkmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD1obChpKSksMTA3Mzc0MTgyMz09PUFzJiYxMDwoaT1Scys1MDAtamkoKSkpe2lmKERzKXt2YXIgbz1lLmxhc3RQaW5nZWRUaW1lO2lmKDA9PT1vfHxvPj1yKXtlLmxhc3RQaW5nZWRUaW1lPXIscmwoZSxyKTticmVha319aWYoMCE9PShvPVlzKGUpKSYmbyE9PXIpYnJlYWs7aWYoMCE9PW4mJm4hPT1yKXtlLmxhc3RQaW5nZWRUaW1lPW47YnJlYWt9ZS50aW1lb3V0SGFuZGxlPXlyKGRsLmJpbmQobnVsbCxlKSxpKTticmVha31kbChlKTticmVhaztjYXNlIHdzOmlmKERsKGUscikscj09PShuPWUubGFzdFN1c3BlbmRlZFRpbWUpJiYoZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9aGwoaSkpLERzJiYoMD09PShpPWUubGFzdFBpbmdlZFRpbWUpfHxpPj1yKSl7ZS5sYXN0UGluZ2VkVGltZT1yLHJsKGUscik7YnJlYWt9aWYoMCE9PShpPVlzKGUpKSYmaSE9PXIpYnJlYWs7aWYoMCE9PW4mJm4hPT1yKXtlLmxhc3RQaW5nZWRUaW1lPW47YnJlYWt9aWYoMTA3Mzc0MTgyMyE9PUlzP249MTAqKDEwNzM3NDE4MjEtSXMpLWppKCk6MTA3Mzc0MTgyMz09PUFzP249MDoobj0xMCooMTA3Mzc0MTgyMS1BcyktNWUzLDA+KG49KGk9amkoKSktbikmJihuPTApLChyPTEwKigxMDczNzQxODIxLXIpLWkpPChuPSgxMjA+bj8xMjA6NDgwPm4/NDgwOjEwODA+bj8xMDgwOjE5MjA+bj8xOTIwOjNlMz5uPzNlMzo0MzIwPm4/NDMyMDoxOTYwKl9zKG4vMTk2MCkpLW4pJiYobj1yKSksMTA8bil7ZS50aW1lb3V0SGFuZGxlPXlyKGRsLmJpbmQobnVsbCxlKSxuKTticmVha31kbChlKTticmVhaztjYXNlIDU6aWYoMTA3Mzc0MTgyMyE9PUFzJiZudWxsIT09UHMpe289QXM7dmFyIHM9UHM7aWYoMD49KG49MHxzLmJ1c3lNaW5EdXJhdGlvbk1zKT9uPTA6KGk9MHxzLmJ1c3lEZWxheU1zLG49KG89amkoKS0oMTAqKDEwNzM3NDE4MjEtbyktKDB8cy50aW1lb3V0TXN8fDVlMykpKTw9aT8wOmkrbi1vKSwxMDxuKXtEbChlLHIpLGUudGltZW91dEhhbmRsZT15cihkbC5iaW5kKG51bGwsZSksbik7YnJlYWt9fWRsKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoYSgzMjkpKX1pZihLcyhlKSxlLmNhbGxiYWNrTm9kZT09PXQpcmV0dXJuIEpzLmJpbmQobnVsbCxlKX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gUXMoZSl7dmFyIHQ9ZS5sYXN0RXhwaXJlZFRpbWU7aWYodD0wIT09dD90OjEwNzM3NDE4MjMsMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO2lmKG1sKCksZT09PUVzJiZ0PT09Q3N8fHJsKGUsdCksbnVsbCE9PVNzKXt2YXIgcj1UcztUc3w9MTY7Zm9yKHZhciBuPWlsKCk7Oyl0cnl7c2woKTticmVha31jYXRjaCh0KXtubChlLHQpfWlmKFFpKCksVHM9cix5cy5jdXJyZW50PW4sMT09PU1zKXRocm93IHI9a3MscmwoZSx0KSxEbChlLHQpLEtzKGUpLHI7aWYobnVsbCE9PVNzKXRocm93IEVycm9yKGEoMjYxKSk7ZS5maW5pc2hlZFdvcms9ZS5jdXJyZW50LmFsdGVybmF0ZSxlLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9dCxFcz1udWxsLGRsKGUpLEtzKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIGVsKGUsdCl7dmFyIHI9VHM7VHN8PTE7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1yKSYmWmkoKX19ZnVuY3Rpb24gdGwoZSx0KXt2YXIgcj1UcztUcyY9LTIsVHN8PTg7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1yKSYmWmkoKX19ZnVuY3Rpb24gcmwoZSx0KXtlLmZpbmlzaGVkV29yaz1udWxsLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT0wO3ZhciByPWUudGltZW91dEhhbmRsZTtpZigtMSE9PXImJihlLnRpbWVvdXRIYW5kbGU9LTEsdnIocikpLG51bGwhPT1Tcylmb3Iocj1Tcy5yZXR1cm47bnVsbCE9PXI7KXt2YXIgbj1yO3N3aXRjaChuLnRhZyl7Y2FzZSAxOm51bGwhPShuPW4udHlwZS5jaGlsZENvbnRleHRUeXBlcykmJmdpKCk7YnJlYWs7Y2FzZSAzOkRvKCksbGkoZGkpLGxpKGhpKTticmVhaztjYXNlIDU6TG8obik7YnJlYWs7Y2FzZSA0OkRvKCk7YnJlYWs7Y2FzZSAxMzpjYXNlIDE5OmxpKE9vKTticmVhaztjYXNlIDEwOmVvKG4pfXI9ci5yZXR1cm59RXM9ZSxTcz1DbChlLmN1cnJlbnQsbnVsbCksQ3M9dCxNcz14cyxrcz1udWxsLElzPUFzPTEwNzM3NDE4MjMsUHM9bnVsbCx6cz0wLERzPSExfWZ1bmN0aW9uIG5sKGUsdCl7Zm9yKDs7KXt0cnl7aWYoUWkoKSxqby5jdXJyZW50PWdhLFpvKWZvcih2YXIgcj1Wby5tZW1vaXplZFN0YXRlO251bGwhPT1yOyl7dmFyIG49ci5xdWV1ZTtudWxsIT09biYmKG4ucGVuZGluZz1udWxsKSxyPXIubmV4dH1pZihObz0wLHFvPUdvPVZvPW51bGwsWm89ITEsbnVsbD09PVNzfHxudWxsPT09U3MucmV0dXJuKXJldHVybiBNcz0xLGtzPXQsU3M9bnVsbDtlOnt2YXIgaT1lLG89U3MucmV0dXJuLGE9U3Mscz10O2lmKHQ9Q3MsYS5lZmZlY3RUYWd8PTIwNDgsYS5maXJzdEVmZmVjdD1hLmxhc3RFZmZlY3Q9bnVsbCxudWxsIT09cyYmXCJvYmplY3RcIj09dHlwZW9mIHMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMudGhlbil7dmFyIGw9cztpZigwPT0oMiZhLm1vZGUpKXt2YXIgYz1hLmFsdGVybmF0ZTtjPyhhLnVwZGF0ZVF1ZXVlPWMudXBkYXRlUXVldWUsYS5tZW1vaXplZFN0YXRlPWMubWVtb2l6ZWRTdGF0ZSxhLmV4cGlyYXRpb25UaW1lPWMuZXhwaXJhdGlvblRpbWUpOihhLnVwZGF0ZVF1ZXVlPW51bGwsYS5tZW1vaXplZFN0YXRlPW51bGwpfXZhciB1PTAhPSgxJk9vLmN1cnJlbnQpLGg9bztkb3t2YXIgZDtpZihkPTEzPT09aC50YWcpe3ZhciBwPWgubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cClkPW51bGwhPT1wLmRlaHlkcmF0ZWQ7ZWxzZXt2YXIgZj1oLm1lbW9pemVkUHJvcHM7ZD12b2lkIDAhPT1mLmZhbGxiYWNrJiYoITAhPT1mLnVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrfHwhdSl9fWlmKGQpe3ZhciBtPWgudXBkYXRlUXVldWU7aWYobnVsbD09PW0pe3ZhciBnPW5ldyBTZXQ7Zy5hZGQobCksaC51cGRhdGVRdWV1ZT1nfWVsc2UgbS5hZGQobCk7aWYoMD09KDImaC5tb2RlKSl7aWYoaC5lZmZlY3RUYWd8PTY0LGEuZWZmZWN0VGFnJj0tMjk4MSwxPT09YS50YWcpaWYobnVsbD09PWEuYWx0ZXJuYXRlKWEudGFnPTE3O2Vsc2V7dmFyIF89c28oMTA3Mzc0MTgyMyxudWxsKTtfLnRhZz0yLGxvKGEsXyl9YS5leHBpcmF0aW9uVGltZT0xMDczNzQxODIzO2JyZWFrIGV9cz12b2lkIDAsYT10O3ZhciB5PWkucGluZ0NhY2hlO2lmKG51bGw9PT15Pyh5PWkucGluZ0NhY2hlPW5ldyBwcyxzPW5ldyBTZXQseS5zZXQobCxzKSk6dm9pZCAwPT09KHM9eS5nZXQobCkpJiYocz1uZXcgU2V0LHkuc2V0KGwscykpLCFzLmhhcyhhKSl7cy5hZGQoYSk7dmFyIHY9dmwuYmluZChudWxsLGksbCxhKTtsLnRoZW4odix2KX1oLmVmZmVjdFRhZ3w9NDA5NixoLmV4cGlyYXRpb25UaW1lPXQ7YnJlYWsgZX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKTtzPUVycm9yKChnZShhLnR5cGUpfHxcIkEgUmVhY3QgY29tcG9uZW50XCIpK1wiIHN1c3BlbmRlZCB3aGlsZSByZW5kZXJpbmcsIGJ1dCBubyBmYWxsYmFjayBVSSB3YXMgc3BlY2lmaWVkLlxcblxcbkFkZCBhIDxTdXNwZW5zZSBmYWxsYmFjaz0uLi4+IGNvbXBvbmVudCBoaWdoZXIgaW4gdGhlIHRyZWUgdG8gcHJvdmlkZSBhIGxvYWRpbmcgaW5kaWNhdG9yIG9yIHBsYWNlaG9sZGVyIHRvIGRpc3BsYXkuXCIrX2UoYSkpfTUhPT1NcyYmKE1zPTIpLHM9SmEocyxhKSxoPW87ZG97c3dpdGNoKGgudGFnKXtjYXNlIDM6bD1zLGguZWZmZWN0VGFnfD00MDk2LGguZXhwaXJhdGlvblRpbWU9dCxjbyhoLGZzKGgsbCx0KSk7YnJlYWsgZTtjYXNlIDE6bD1zO3ZhciB4PWgudHlwZSxiPWguc3RhdGVOb2RlO2lmKDA9PSg2NCZoLmVmZmVjdFRhZykmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcnx8bnVsbCE9PWImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09RnN8fCFGcy5oYXMoYikpKSl7aC5lZmZlY3RUYWd8PTQwOTYsaC5leHBpcmF0aW9uVGltZT10LGNvKGgsbXMoaCxsLHQpKTticmVhayBlfX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKX1Tcz11bChTcyl9Y2F0Y2goZSl7dD1lO2NvbnRpbnVlfWJyZWFrfX1mdW5jdGlvbiBpbCgpe3ZhciBlPXlzLmN1cnJlbnQ7cmV0dXJuIHlzLmN1cnJlbnQ9Z2EsbnVsbD09PWU/Z2E6ZX1mdW5jdGlvbiBvbChlLHQpe2U8QXMmJjI8ZSYmKEFzPWUpLG51bGwhPT10JiZlPElzJiYyPGUmJihJcz1lLFBzPXQpfWZ1bmN0aW9uIGFsKGUpe2U+enMmJih6cz1lKX1mdW5jdGlvbiBzbCgpe2Zvcig7bnVsbCE9PVNzOylTcz1jbChTcyl9ZnVuY3Rpb24gbGwoKXtmb3IoO251bGwhPT1TcyYmIURpKCk7KVNzPWNsKFNzKX1mdW5jdGlvbiBjbChlKXt2YXIgdD1ncyhlLmFsdGVybmF0ZSxlLENzKTtyZXR1cm4gZS5tZW1vaXplZFByb3BzPWUucGVuZGluZ1Byb3BzLG51bGw9PT10JiYodD11bChlKSksdnMuY3VycmVudD1udWxsLHR9ZnVuY3Rpb24gdWwoZSl7U3M9ZTtkb3t2YXIgdD1Tcy5hbHRlcm5hdGU7aWYoZT1Tcy5yZXR1cm4sMD09KDIwNDgmU3MuZWZmZWN0VGFnKSl7aWYodD1ZYSh0LFNzLENzKSwxPT09Q3N8fDEhPT1Tcy5jaGlsZEV4cGlyYXRpb25UaW1lKXtmb3IodmFyIHI9MCxuPVNzLmNoaWxkO251bGwhPT1uOyl7dmFyIGk9bi5leHBpcmF0aW9uVGltZSxvPW4uY2hpbGRFeHBpcmF0aW9uVGltZTtpPnImJihyPWkpLG8+ciYmKHI9byksbj1uLnNpYmxpbmd9U3MuY2hpbGRFeHBpcmF0aW9uVGltZT1yfWlmKG51bGwhPT10KXJldHVybiB0O251bGwhPT1lJiYwPT0oMjA0OCZlLmVmZmVjdFRhZykmJihudWxsPT09ZS5maXJzdEVmZmVjdCYmKGUuZmlyc3RFZmZlY3Q9U3MuZmlyc3RFZmZlY3QpLG51bGwhPT1Tcy5sYXN0RWZmZWN0JiYobnVsbCE9PWUubGFzdEVmZmVjdCYmKGUubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzLmZpcnN0RWZmZWN0KSxlLmxhc3RFZmZlY3Q9U3MubGFzdEVmZmVjdCksMTxTcy5lZmZlY3RUYWcmJihudWxsIT09ZS5sYXN0RWZmZWN0P2UubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzOmUuZmlyc3RFZmZlY3Q9U3MsZS5sYXN0RWZmZWN0PVNzKSl9ZWxzZXtpZihudWxsIT09KHQ9S2EoU3MpKSlyZXR1cm4gdC5lZmZlY3RUYWcmPTIwNDcsdDtudWxsIT09ZSYmKGUuZmlyc3RFZmZlY3Q9ZS5sYXN0RWZmZWN0PW51bGwsZS5lZmZlY3RUYWd8PTIwNDgpfWlmKG51bGwhPT0odD1Tcy5zaWJsaW5nKSlyZXR1cm4gdDtTcz1lfXdoaWxlKG51bGwhPT1Tcyk7cmV0dXJuIE1zPT09eHMmJihNcz01KSxudWxsfWZ1bmN0aW9uIGhsKGUpe3ZhciB0PWUuZXhwaXJhdGlvblRpbWU7cmV0dXJuIHQ+KGU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lKT90OmV9ZnVuY3Rpb24gZGwoZSl7dmFyIHQ9VWkoKTtyZXR1cm4gVmkoOTkscGwuYmluZChudWxsLGUsdCkpLG51bGx9ZnVuY3Rpb24gcGwoZSx0KXtkb3ttbCgpfXdoaWxlKG51bGwhPT1Vcyk7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO3ZhciByPWUuZmluaXNoZWRXb3JrLG49ZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lO2lmKG51bGw9PT1yKXJldHVybiBudWxsO2lmKGUuZmluaXNoZWRXb3JrPW51bGwsZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAscj09PWUuY3VycmVudCl0aHJvdyBFcnJvcihhKDE3NykpO2UuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwLGUubmV4dEtub3duUGVuZGluZ0xldmVsPTA7dmFyIGk9aGwocik7aWYoZS5maXJzdFBlbmRpbmdUaW1lPWksbjw9ZS5sYXN0U3VzcGVuZGVkVGltZT9lLmZpcnN0U3VzcGVuZGVkVGltZT1lLmxhc3RTdXNwZW5kZWRUaW1lPWUubmV4dEtub3duUGVuZGluZ0xldmVsPTA6bjw9ZS5maXJzdFN1c3BlbmRlZFRpbWUmJihlLmZpcnN0U3VzcGVuZGVkVGltZT1uLTEpLG48PWUubGFzdFBpbmdlZFRpbWUmJihlLmxhc3RQaW5nZWRUaW1lPTApLG48PWUubGFzdEV4cGlyZWRUaW1lJiYoZS5sYXN0RXhwaXJlZFRpbWU9MCksZT09PUVzJiYoU3M9RXM9bnVsbCxDcz0wKSwxPHIuZWZmZWN0VGFnP251bGwhPT1yLmxhc3RFZmZlY3Q/KHIubGFzdEVmZmVjdC5uZXh0RWZmZWN0PXIsaT1yLmZpcnN0RWZmZWN0KTppPXI6aT1yLmZpcnN0RWZmZWN0LG51bGwhPT1pKXt2YXIgbz1UcztUc3w9MzIsdnMuY3VycmVudD1udWxsLGZyPSR0O3ZhciBzPWRyKCk7aWYocHIocykpe2lmKFwic2VsZWN0aW9uU3RhcnRcImluIHMpdmFyIGw9e3N0YXJ0OnMuc2VsZWN0aW9uU3RhcnQsZW5kOnMuc2VsZWN0aW9uRW5kfTtlbHNlIGU6e3ZhciBjPShsPShsPXMub3duZXJEb2N1bWVudCkmJmwuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiZsLmdldFNlbGVjdGlvbigpO2lmKGMmJjAhPT1jLnJhbmdlQ291bnQpe2w9Yy5hbmNob3JOb2RlO3ZhciB1PWMuYW5jaG9yT2Zmc2V0LGg9Yy5mb2N1c05vZGU7Yz1jLmZvY3VzT2Zmc2V0O3RyeXtsLm5vZGVUeXBlLGgubm9kZVR5cGV9Y2F0Y2goZSl7bD1udWxsO2JyZWFrIGV9dmFyIGQ9MCxwPS0xLGY9LTEsbT0wLGc9MCxfPXMseT1udWxsO3Q6Zm9yKDs7KXtmb3IodmFyIHY7XyE9PWx8fDAhPT11JiYzIT09Xy5ub2RlVHlwZXx8KHA9ZCt1KSxfIT09aHx8MCE9PWMmJjMhPT1fLm5vZGVUeXBlfHwoZj1kK2MpLDM9PT1fLm5vZGVUeXBlJiYoZCs9Xy5ub2RlVmFsdWUubGVuZ3RoKSxudWxsIT09KHY9Xy5maXJzdENoaWxkKTspeT1fLF89djtmb3IoOzspe2lmKF89PT1zKWJyZWFrIHQ7aWYoeT09PWwmJisrbT09PXUmJihwPWQpLHk9PT1oJiYrK2c9PT1jJiYoZj1kKSxudWxsIT09KHY9Xy5uZXh0U2libGluZykpYnJlYWs7eT0oXz15KS5wYXJlbnROb2RlfV89dn1sPS0xPT09cHx8LTE9PT1mP251bGw6e3N0YXJ0OnAsZW5kOmZ9fWVsc2UgbD1udWxsfWw9bHx8e3N0YXJ0OjAsZW5kOjB9fWVsc2UgbD1udWxsO21yPXthY3RpdmVFbGVtZW50RGV0YWNoZWQ6bnVsbCxmb2N1c2VkRWxlbTpzLHNlbGVjdGlvblJhbmdlOmx9LCR0PSExLExzPWk7ZG97dHJ5e2ZsKCl9Y2F0Y2goZSl7aWYobnVsbD09PUxzKXRocm93IEVycm9yKGEoMzMwKSk7eWwoTHMsZSksTHM9THMubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PUxzKTtMcz1pO2Rve3RyeXtmb3Iocz1lLGw9dDtudWxsIT09THM7KXt2YXIgeD1Mcy5lZmZlY3RUYWc7aWYoMTYmeCYmVWUoTHMuc3RhdGVOb2RlLFwiXCIpLDEyOCZ4KXt2YXIgYj1Mcy5hbHRlcm5hdGU7aWYobnVsbCE9PWIpe3ZhciB3PWIucmVmO251bGwhPT13JiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygdz93KG51bGwpOncuY3VycmVudD1udWxsKX19c3dpdGNoKDEwMzgmeCl7Y2FzZSAyOmNzKExzKSxMcy5lZmZlY3RUYWcmPS0zO2JyZWFrO2Nhc2UgNjpjcyhMcyksTHMuZWZmZWN0VGFnJj0tMyxocyhMcy5hbHRlcm5hdGUsTHMpO2JyZWFrO2Nhc2UgMTAyNDpMcy5lZmZlY3RUYWcmPS0xMDI1O2JyZWFrO2Nhc2UgMTAyODpMcy5lZmZlY3RUYWcmPS0xMDI1LGhzKExzLmFsdGVybmF0ZSxMcyk7YnJlYWs7Y2FzZSA0OmhzKExzLmFsdGVybmF0ZSxMcyk7YnJlYWs7Y2FzZSA4OnVzKHMsdT1McyxsKSxzcyh1KX1Mcz1Mcy5uZXh0RWZmZWN0fX1jYXRjaChlKXtpZihudWxsPT09THMpdGhyb3cgRXJyb3IoYSgzMzApKTt5bChMcyxlKSxMcz1Mcy5uZXh0RWZmZWN0fX13aGlsZShudWxsIT09THMpO2lmKHc9bXIsYj1kcigpLHg9dy5mb2N1c2VkRWxlbSxsPXcuc2VsZWN0aW9uUmFuZ2UsYiE9PXgmJngmJngub3duZXJEb2N1bWVudCYmZnVuY3Rpb24gZSh0LHIpe3JldHVybiEoIXR8fCFyKSYmKHQ9PT1yfHwoIXR8fDMhPT10Lm5vZGVUeXBlKSYmKHImJjM9PT1yLm5vZGVUeXBlP2UodCxyLnBhcmVudE5vZGUpOlwiY29udGFpbnNcImluIHQ/dC5jb250YWlucyhyKTohIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJiEhKDE2JnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKSl9KHgub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQseCkpe251bGwhPT1sJiZwcih4KSYmKGI9bC5zdGFydCx2b2lkIDA9PT0odz1sLmVuZCkmJih3PWIpLFwic2VsZWN0aW9uU3RhcnRcImluIHg/KHguc2VsZWN0aW9uU3RhcnQ9Yix4LnNlbGVjdGlvbkVuZD1NYXRoLm1pbih3LHgudmFsdWUubGVuZ3RoKSk6KHc9KGI9eC5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmIuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiYodz13LmdldFNlbGVjdGlvbigpLHU9eC50ZXh0Q29udGVudC5sZW5ndGgscz1NYXRoLm1pbihsLnN0YXJ0LHUpLGw9dm9pZCAwPT09bC5lbmQ/czpNYXRoLm1pbihsLmVuZCx1KSwhdy5leHRlbmQmJnM+bCYmKHU9bCxsPXMscz11KSx1PWhyKHgscyksaD1ocih4LGwpLHUmJmgmJigxIT09dy5yYW5nZUNvdW50fHx3LmFuY2hvck5vZGUhPT11Lm5vZGV8fHcuYW5jaG9yT2Zmc2V0IT09dS5vZmZzZXR8fHcuZm9jdXNOb2RlIT09aC5ub2RlfHx3LmZvY3VzT2Zmc2V0IT09aC5vZmZzZXQpJiYoKGI9Yi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh1Lm5vZGUsdS5vZmZzZXQpLHcucmVtb3ZlQWxsUmFuZ2VzKCkscz5sPyh3LmFkZFJhbmdlKGIpLHcuZXh0ZW5kKGgubm9kZSxoLm9mZnNldCkpOihiLnNldEVuZChoLm5vZGUsaC5vZmZzZXQpLHcuYWRkUmFuZ2UoYikpKSkpLGI9W107Zm9yKHc9eDt3PXcucGFyZW50Tm9kZTspMT09PXcubm9kZVR5cGUmJmIucHVzaCh7ZWxlbWVudDp3LGxlZnQ6dy5zY3JvbGxMZWZ0LHRvcDp3LnNjcm9sbFRvcH0pO2ZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmZvY3VzJiZ4LmZvY3VzKCkseD0wO3g8Yi5sZW5ndGg7eCsrKSh3PWJbeF0pLmVsZW1lbnQuc2Nyb2xsTGVmdD13LmxlZnQsdy5lbGVtZW50LnNjcm9sbFRvcD13LnRvcH0kdD0hIWZyLG1yPWZyPW51bGwsZS5jdXJyZW50PXIsTHM9aTtkb3t0cnl7Zm9yKHg9ZTtudWxsIT09THM7KXt2YXIgVD1Mcy5lZmZlY3RUYWc7aWYoMzYmVCYmb3MoeCxMcy5hbHRlcm5hdGUsTHMpLDEyOCZUKXtiPXZvaWQgMDt2YXIgRT1Mcy5yZWY7aWYobnVsbCE9PUUpe3ZhciBTPUxzLnN0YXRlTm9kZTtzd2l0Y2goTHMudGFnKXtjYXNlIDU6Yj1TO2JyZWFrO2RlZmF1bHQ6Yj1TfVwiZnVuY3Rpb25cIj09dHlwZW9mIEU/RShiKTpFLmN1cnJlbnQ9Yn19THM9THMubmV4dEVmZmVjdH19Y2F0Y2goZSl7aWYobnVsbD09PUxzKXRocm93IEVycm9yKGEoMzMwKSk7eWwoTHMsZSksTHM9THMubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PUxzKTtMcz1udWxsLFJpKCksVHM9b31lbHNlIGUuY3VycmVudD1yO2lmKGpzKWpzPSExLFVzPWUsTnM9dDtlbHNlIGZvcihMcz1pO251bGwhPT1MczspdD1Mcy5uZXh0RWZmZWN0LExzLm5leHRFZmZlY3Q9bnVsbCxMcz10O2lmKDA9PT0odD1lLmZpcnN0UGVuZGluZ1RpbWUpJiYoRnM9bnVsbCksMTA3Mzc0MTgyMz09PXQ/ZT09PXFzP0dzKys6KEdzPTAscXM9ZSk6R3M9MCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBibCYmYmwoci5zdGF0ZU5vZGUsbiksS3MoZSksT3MpdGhyb3cgT3M9ITEsZT1CcyxCcz1udWxsLGU7cmV0dXJuIDAhPSg4JlRzKXx8WmkoKSxudWxsfWZ1bmN0aW9uIGZsKCl7Zm9yKDtudWxsIT09THM7KXt2YXIgZT1Mcy5lZmZlY3RUYWc7MCE9KDI1NiZlKSYmcnMoTHMuYWx0ZXJuYXRlLExzKSwwPT0oNTEyJmUpfHxqc3x8KGpzPSEwLEdpKDk3LChmdW5jdGlvbigpe3JldHVybiBtbCgpLG51bGx9KSkpLExzPUxzLm5leHRFZmZlY3R9fWZ1bmN0aW9uIG1sKCl7aWYoOTAhPT1Ocyl7dmFyIGU9OTc8TnM/OTc6TnM7cmV0dXJuIE5zPTkwLFZpKGUsZ2wpfX1mdW5jdGlvbiBnbCgpe2lmKG51bGw9PT1VcylyZXR1cm4hMTt2YXIgZT1VcztpZihVcz1udWxsLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMzEpKTt2YXIgdD1Ucztmb3IoVHN8PTMyLGU9ZS5jdXJyZW50LmZpcnN0RWZmZWN0O251bGwhPT1lOyl7dHJ5e3ZhciByPWU7aWYoMCE9KDUxMiZyLmVmZmVjdFRhZykpc3dpdGNoKHIudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmNhc2UgMjI6bnMoNSxyKSxpcyg1LHIpfX1jYXRjaCh0KXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMzMCkpO3lsKGUsdCl9cj1lLm5leHRFZmZlY3QsZS5uZXh0RWZmZWN0PW51bGwsZT1yfXJldHVybiBUcz10LFppKCksITB9ZnVuY3Rpb24gX2woZSx0LHIpe2xvKGUsdD1mcyhlLHQ9SmEocix0KSwxMDczNzQxODIzKSksbnVsbCE9PShlPUhzKGUsMTA3Mzc0MTgyMykpJiZLcyhlKX1mdW5jdGlvbiB5bChlLHQpe2lmKDM9PT1lLnRhZylfbChlLGUsdCk7ZWxzZSBmb3IodmFyIHI9ZS5yZXR1cm47bnVsbCE9PXI7KXtpZigzPT09ci50YWcpe19sKHIsZSx0KTticmVha31pZigxPT09ci50YWcpe3ZhciBuPXIuc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09RnN8fCFGcy5oYXMobikpKXtsbyhyLGU9bXMocixlPUphKHQsZSksMTA3Mzc0MTgyMykpLG51bGwhPT0ocj1IcyhyLDEwNzM3NDE4MjMpKSYmS3Mocik7YnJlYWt9fXI9ci5yZXR1cm59fWZ1bmN0aW9uIHZsKGUsdCxyKXt2YXIgbj1lLnBpbmdDYWNoZTtudWxsIT09biYmbi5kZWxldGUodCksRXM9PT1lJiZDcz09PXI/TXM9PT13c3x8TXM9PT1icyYmMTA3Mzc0MTgyMz09PUFzJiZqaSgpLVJzPDUwMD9ybChlLENzKTpEcz0hMDp6bChlLHIpJiYoMCE9PSh0PWUubGFzdFBpbmdlZFRpbWUpJiZ0PHJ8fChlLmxhc3RQaW5nZWRUaW1lPXIsS3MoZSkpKX1mdW5jdGlvbiB4bChlLHQpe3ZhciByPWUuc3RhdGVOb2RlO251bGwhPT1yJiZyLmRlbGV0ZSh0KSwwPT09KHQ9MCkmJih0PVdzKHQ9JHMoKSxlLG51bGwpKSxudWxsIT09KGU9SHMoZSx0KSkmJktzKGUpfWdzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cGlyYXRpb25UaW1lO2lmKG51bGwhPT1lKXt2YXIgaT10LnBlbmRpbmdQcm9wcztpZihlLm1lbW9pemVkUHJvcHMhPT1pfHxkaS5jdXJyZW50KUlhPSEwO2Vsc2V7aWYobjxyKXtzd2l0Y2goSWE9ITEsdC50YWcpe2Nhc2UgMzpqYSh0KSxrYSgpO2JyZWFrO2Nhc2UgNTppZihSbyh0KSw0JnQubW9kZSYmMSE9PXImJmkuaGlkZGVuKXJldHVybiB0LmV4cGlyYXRpb25UaW1lPXQuY2hpbGRFeHBpcmF0aW9uVGltZT0xLG51bGw7YnJlYWs7Y2FzZSAxOm1pKHQudHlwZSkmJnZpKHQpO2JyZWFrO2Nhc2UgNDp6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO2JyZWFrO2Nhc2UgMTA6bj10Lm1lbW9pemVkUHJvcHMudmFsdWUsaT10LnR5cGUuX2NvbnRleHQsY2koSGksaS5fY3VycmVudFZhbHVlKSxpLl9jdXJyZW50VmFsdWU9bjticmVhaztjYXNlIDEzOmlmKG51bGwhPT10Lm1lbW9pemVkU3RhdGUpcmV0dXJuIDAhPT0obj10LmNoaWxkLmNoaWxkRXhwaXJhdGlvblRpbWUpJiZuPj1yP3FhKGUsdCxyKTooY2koT28sMSZPby5jdXJyZW50KSxudWxsIT09KHQ9WGEoZSx0LHIpKT90LnNpYmxpbmc6bnVsbCk7Y2koT28sMSZPby5jdXJyZW50KTticmVhaztjYXNlIDE5OmlmKG49dC5jaGlsZEV4cGlyYXRpb25UaW1lPj1yLDAhPSg2NCZlLmVmZmVjdFRhZykpe2lmKG4pcmV0dXJuIFdhKGUsdCxyKTt0LmVmZmVjdFRhZ3w9NjR9aWYobnVsbCE9PShpPXQubWVtb2l6ZWRTdGF0ZSkmJihpLnJlbmRlcmluZz1udWxsLGkudGFpbD1udWxsKSxjaShPbyxPby5jdXJyZW50KSwhbilyZXR1cm4gbnVsbH1yZXR1cm4gWGEoZSx0LHIpfUlhPSExfX1lbHNlIElhPSExO3N3aXRjaCh0LmV4cGlyYXRpb25UaW1lPTAsdC50YWcpe2Nhc2UgMjppZihuPXQudHlwZSxudWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksZT10LnBlbmRpbmdQcm9wcyxpPWZpKHQsaGkuY3VycmVudCkscm8odCxyKSxpPVhvKG51bGwsdCxuLGUsaSxyKSx0LmVmZmVjdFRhZ3w9MSxcIm9iamVjdFwiPT10eXBlb2YgaSYmbnVsbCE9PWkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkucmVuZGVyJiZ2b2lkIDA9PT1pLiQkdHlwZW9mKXtpZih0LnRhZz0xLHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxtaShuKSl7dmFyIG89ITA7dmkodCl9ZWxzZSBvPSExO3QubWVtb2l6ZWRTdGF0ZT1udWxsIT09aS5zdGF0ZSYmdm9pZCAwIT09aS5zdGF0ZT9pLnN0YXRlOm51bGwsb28odCk7dmFyIHM9bi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmbW8odCxuLHMsZSksaS51cGRhdGVyPWdvLHQuc3RhdGVOb2RlPWksaS5fcmVhY3RJbnRlcm5hbEZpYmVyPXQseG8odCxuLGUsciksdD1GYShudWxsLHQsbiwhMCxvLHIpfWVsc2UgdC50YWc9MCxQYShudWxsLHQsaSxyKSx0PXQuY2hpbGQ7cmV0dXJuIHQ7Y2FzZSAxNjplOntpZihpPXQuZWxlbWVudFR5cGUsbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLGU9dC5wZW5kaW5nUHJvcHMsZnVuY3Rpb24oZSl7aWYoLTE9PT1lLl9zdGF0dXMpe2UuX3N0YXR1cz0wO3ZhciB0PWUuX2N0b3I7dD10KCksZS5fcmVzdWx0PXQsdC50aGVuKChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYodD10LmRlZmF1bHQsZS5fc3RhdHVzPTEsZS5fcmVzdWx0PXQpfSksKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJihlLl9zdGF0dXM9MixlLl9yZXN1bHQ9dCl9KSl9fShpKSwxIT09aS5fc3RhdHVzKXRocm93IGkuX3Jlc3VsdDtzd2l0Y2goaT1pLl9yZXN1bHQsdC50eXBlPWksbz10LnRhZz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBTbChlKT8xOjA7aWYobnVsbCE9ZSl7aWYoKGU9ZS4kJHR5cGVvZik9PT1sZSlyZXR1cm4gMTE7aWYoZT09PWhlKXJldHVybiAxNH1yZXR1cm4gMn0oaSksZT1YaShpLGUpLG8pe2Nhc2UgMDp0PU9hKG51bGwsdCxpLGUscik7YnJlYWsgZTtjYXNlIDE6dD1CYShudWxsLHQsaSxlLHIpO2JyZWFrIGU7Y2FzZSAxMTp0PXphKG51bGwsdCxpLGUscik7YnJlYWsgZTtjYXNlIDE0OnQ9RGEobnVsbCx0LGksWGkoaS50eXBlLGUpLG4scik7YnJlYWsgZX10aHJvdyBFcnJvcihhKDMwNixpLFwiXCIpKX1yZXR1cm4gdDtjYXNlIDA6cmV0dXJuIG49dC50eXBlLGk9dC5wZW5kaW5nUHJvcHMsT2EoZSx0LG4saT10LmVsZW1lbnRUeXBlPT09bj9pOlhpKG4saSkscik7Y2FzZSAxOnJldHVybiBuPXQudHlwZSxpPXQucGVuZGluZ1Byb3BzLEJhKGUsdCxuLGk9dC5lbGVtZW50VHlwZT09PW4/aTpYaShuLGkpLHIpO2Nhc2UgMzppZihqYSh0KSxuPXQudXBkYXRlUXVldWUsbnVsbD09PWV8fG51bGw9PT1uKXRocm93IEVycm9yKGEoMjgyKSk7aWYobj10LnBlbmRpbmdQcm9wcyxpPW51bGwhPT0oaT10Lm1lbW9pemVkU3RhdGUpP2kuZWxlbWVudDpudWxsLGFvKGUsdCksdW8odCxuLG51bGwsciksKG49dC5tZW1vaXplZFN0YXRlLmVsZW1lbnQpPT09aSlrYSgpLHQ9WGEoZSx0LHIpO2Vsc2V7aWYoKGk9dC5zdGF0ZU5vZGUuaHlkcmF0ZSkmJihiYT14cih0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGQpLHhhPXQsaT13YT0hMCksaSlmb3Iocj1Dbyh0LG51bGwsbixyKSx0LmNoaWxkPXI7cjspci5lZmZlY3RUYWc9LTMmci5lZmZlY3RUYWd8MTAyNCxyPXIuc2libGluZztlbHNlIFBhKGUsdCxuLHIpLGthKCk7dD10LmNoaWxkfXJldHVybiB0O2Nhc2UgNTpyZXR1cm4gUm8odCksbnVsbD09PWUmJlNhKHQpLG49dC50eXBlLGk9dC5wZW5kaW5nUHJvcHMsbz1udWxsIT09ZT9lLm1lbW9pemVkUHJvcHM6bnVsbCxzPWkuY2hpbGRyZW4sX3IobixpKT9zPW51bGw6bnVsbCE9PW8mJl9yKG4sbykmJih0LmVmZmVjdFRhZ3w9MTYpLExhKGUsdCksNCZ0Lm1vZGUmJjEhPT1yJiZpLmhpZGRlbj8odC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9MSx0PW51bGwpOihQYShlLHQscyxyKSx0PXQuY2hpbGQpLHQ7Y2FzZSA2OnJldHVybiBudWxsPT09ZSYmU2EodCksbnVsbDtjYXNlIDEzOnJldHVybiBxYShlLHQscik7Y2FzZSA0OnJldHVybiB6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLG49dC5wZW5kaW5nUHJvcHMsbnVsbD09PWU/dC5jaGlsZD1Tbyh0LG51bGwsbixyKTpQYShlLHQsbixyKSx0LmNoaWxkO2Nhc2UgMTE6cmV0dXJuIG49dC50eXBlLGk9dC5wZW5kaW5nUHJvcHMsemEoZSx0LG4saT10LmVsZW1lbnRUeXBlPT09bj9pOlhpKG4saSkscik7Y2FzZSA3OnJldHVybiBQYShlLHQsdC5wZW5kaW5nUHJvcHMsciksdC5jaGlsZDtjYXNlIDg6Y2FzZSAxMjpyZXR1cm4gUGEoZSx0LHQucGVuZGluZ1Byb3BzLmNoaWxkcmVuLHIpLHQuY2hpbGQ7Y2FzZSAxMDplOntuPXQudHlwZS5fY29udGV4dCxpPXQucGVuZGluZ1Byb3BzLHM9dC5tZW1vaXplZFByb3BzLG89aS52YWx1ZTt2YXIgbD10LnR5cGUuX2NvbnRleHQ7aWYoY2koSGksbC5fY3VycmVudFZhbHVlKSxsLl9jdXJyZW50VmFsdWU9byxudWxsIT09cylpZihsPXMudmFsdWUsMD09PShvPUJuKGwsbyk/MDowfChcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLl9jYWxjdWxhdGVDaGFuZ2VkQml0cz9uLl9jYWxjdWxhdGVDaGFuZ2VkQml0cyhsLG8pOjEwNzM3NDE4MjMpKSl7aWYocy5jaGlsZHJlbj09PWkuY2hpbGRyZW4mJiFkaS5jdXJyZW50KXt0PVhhKGUsdCxyKTticmVhayBlfX1lbHNlIGZvcihudWxsIT09KGw9dC5jaGlsZCkmJihsLnJldHVybj10KTtudWxsIT09bDspe3ZhciBjPWwuZGVwZW5kZW5jaWVzO2lmKG51bGwhPT1jKXtzPWwuY2hpbGQ7Zm9yKHZhciB1PWMuZmlyc3RDb250ZXh0O251bGwhPT11Oyl7aWYodS5jb250ZXh0PT09biYmMCE9KHUub2JzZXJ2ZWRCaXRzJm8pKXsxPT09bC50YWcmJigodT1zbyhyLG51bGwpKS50YWc9MixsbyhsLHUpKSxsLmV4cGlyYXRpb25UaW1lPHImJihsLmV4cGlyYXRpb25UaW1lPXIpLG51bGwhPT0odT1sLmFsdGVybmF0ZSkmJnUuZXhwaXJhdGlvblRpbWU8ciYmKHUuZXhwaXJhdGlvblRpbWU9ciksdG8obC5yZXR1cm4sciksYy5leHBpcmF0aW9uVGltZTxyJiYoYy5leHBpcmF0aW9uVGltZT1yKTticmVha311PXUubmV4dH19ZWxzZSBzPTEwPT09bC50YWcmJmwudHlwZT09PXQudHlwZT9udWxsOmwuY2hpbGQ7aWYobnVsbCE9PXMpcy5yZXR1cm49bDtlbHNlIGZvcihzPWw7bnVsbCE9PXM7KXtpZihzPT09dCl7cz1udWxsO2JyZWFrfWlmKG51bGwhPT0obD1zLnNpYmxpbmcpKXtsLnJldHVybj1zLnJldHVybixzPWw7YnJlYWt9cz1zLnJldHVybn1sPXN9UGEoZSx0LGkuY2hpbGRyZW4sciksdD10LmNoaWxkfXJldHVybiB0O2Nhc2UgOTpyZXR1cm4gaT10LnR5cGUsbj0obz10LnBlbmRpbmdQcm9wcykuY2hpbGRyZW4scm8odCxyKSxuPW4oaT1ubyhpLG8udW5zdGFibGVfb2JzZXJ2ZWRCaXRzKSksdC5lZmZlY3RUYWd8PTEsUGEoZSx0LG4sciksdC5jaGlsZDtjYXNlIDE0OnJldHVybiBvPVhpKGk9dC50eXBlLHQucGVuZGluZ1Byb3BzKSxEYShlLHQsaSxvPVhpKGkudHlwZSxvKSxuLHIpO2Nhc2UgMTU6cmV0dXJuIFJhKGUsdCx0LnR5cGUsdC5wZW5kaW5nUHJvcHMsbixyKTtjYXNlIDE3OnJldHVybiBuPXQudHlwZSxpPXQucGVuZGluZ1Byb3BzLGk9dC5lbGVtZW50VHlwZT09PW4/aTpYaShuLGkpLG51bGwhPT1lJiYoZS5hbHRlcm5hdGU9bnVsbCx0LmFsdGVybmF0ZT1udWxsLHQuZWZmZWN0VGFnfD0yKSx0LnRhZz0xLG1pKG4pPyhlPSEwLHZpKHQpKTplPSExLHJvKHQscikseW8odCxuLGkpLHhvKHQsbixpLHIpLEZhKG51bGwsdCxuLCEwLGUscik7Y2FzZSAxOTpyZXR1cm4gV2EoZSx0LHIpfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9O3ZhciBibD1udWxsLHdsPW51bGw7ZnVuY3Rpb24gVGwoZSx0LHIsbil7dGhpcy50YWc9ZSx0aGlzLmtleT1yLHRoaXMuc2libGluZz10aGlzLmNoaWxkPXRoaXMucmV0dXJuPXRoaXMuc3RhdGVOb2RlPXRoaXMudHlwZT10aGlzLmVsZW1lbnRUeXBlPW51bGwsdGhpcy5pbmRleD0wLHRoaXMucmVmPW51bGwsdGhpcy5wZW5kaW5nUHJvcHM9dCx0aGlzLmRlcGVuZGVuY2llcz10aGlzLm1lbW9pemVkU3RhdGU9dGhpcy51cGRhdGVRdWV1ZT10aGlzLm1lbW9pemVkUHJvcHM9bnVsbCx0aGlzLm1vZGU9bix0aGlzLmVmZmVjdFRhZz0wLHRoaXMubGFzdEVmZmVjdD10aGlzLmZpcnN0RWZmZWN0PXRoaXMubmV4dEVmZmVjdD1udWxsLHRoaXMuY2hpbGRFeHBpcmF0aW9uVGltZT10aGlzLmV4cGlyYXRpb25UaW1lPTAsdGhpcy5hbHRlcm5hdGU9bnVsbH1mdW5jdGlvbiBFbChlLHQscixuKXtyZXR1cm4gbmV3IFRsKGUsdCxyLG4pfWZ1bmN0aW9uIFNsKGUpe3JldHVybiEoIShlPWUucHJvdG90eXBlKXx8IWUuaXNSZWFjdENvbXBvbmVudCl9ZnVuY3Rpb24gQ2woZSx0KXt2YXIgcj1lLmFsdGVybmF0ZTtyZXR1cm4gbnVsbD09PXI/KChyPUVsKGUudGFnLHQsZS5rZXksZS5tb2RlKSkuZWxlbWVudFR5cGU9ZS5lbGVtZW50VHlwZSxyLnR5cGU9ZS50eXBlLHIuc3RhdGVOb2RlPWUuc3RhdGVOb2RlLHIuYWx0ZXJuYXRlPWUsZS5hbHRlcm5hdGU9cik6KHIucGVuZGluZ1Byb3BzPXQsci5lZmZlY3RUYWc9MCxyLm5leHRFZmZlY3Q9bnVsbCxyLmZpcnN0RWZmZWN0PW51bGwsci5sYXN0RWZmZWN0PW51bGwpLHIuY2hpbGRFeHBpcmF0aW9uVGltZT1lLmNoaWxkRXhwaXJhdGlvblRpbWUsci5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLHIuY2hpbGQ9ZS5jaGlsZCxyLm1lbW9pemVkUHJvcHM9ZS5tZW1vaXplZFByb3BzLHIubWVtb2l6ZWRTdGF0ZT1lLm1lbW9pemVkU3RhdGUsci51cGRhdGVRdWV1ZT1lLnVwZGF0ZVF1ZXVlLHQ9ZS5kZXBlbmRlbmNpZXMsci5kZXBlbmRlbmNpZXM9bnVsbD09PXQ/bnVsbDp7ZXhwaXJhdGlvblRpbWU6dC5leHBpcmF0aW9uVGltZSxmaXJzdENvbnRleHQ6dC5maXJzdENvbnRleHQscmVzcG9uZGVyczp0LnJlc3BvbmRlcnN9LHIuc2libGluZz1lLnNpYmxpbmcsci5pbmRleD1lLmluZGV4LHIucmVmPWUucmVmLHJ9ZnVuY3Rpb24gTWwoZSx0LHIsbixpLG8pe3ZhciBzPTI7aWYobj1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpU2woZSkmJihzPTEpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcz01O2Vsc2UgZTpzd2l0Y2goZSl7Y2FzZSByZTpyZXR1cm4ga2woci5jaGlsZHJlbixpLG8sdCk7Y2FzZSBzZTpzPTgsaXw9NzticmVhaztjYXNlIG5lOnM9OCxpfD0xO2JyZWFrO2Nhc2UgaWU6cmV0dXJuKGU9RWwoMTIscix0LDh8aSkpLmVsZW1lbnRUeXBlPWllLGUudHlwZT1pZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtjYXNlIGNlOnJldHVybihlPUVsKDEzLHIsdCxpKSkudHlwZT1jZSxlLmVsZW1lbnRUeXBlPWNlLGUuZXhwaXJhdGlvblRpbWU9byxlO2Nhc2UgdWU6cmV0dXJuKGU9RWwoMTkscix0LGkpKS5lbGVtZW50VHlwZT11ZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtkZWZhdWx0OmlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBvZTpzPTEwO2JyZWFrIGU7Y2FzZSBhZTpzPTk7YnJlYWsgZTtjYXNlIGxlOnM9MTE7YnJlYWsgZTtjYXNlIGhlOnM9MTQ7YnJlYWsgZTtjYXNlIGRlOnM9MTYsbj1udWxsO2JyZWFrIGU7Y2FzZSBwZTpzPTIyO2JyZWFrIGV9dGhyb3cgRXJyb3IoYSgxMzAsbnVsbD09ZT9lOnR5cGVvZiBlLFwiXCIpKX1yZXR1cm4odD1FbChzLHIsdCxpKSkuZWxlbWVudFR5cGU9ZSx0LnR5cGU9bix0LmV4cGlyYXRpb25UaW1lPW8sdH1mdW5jdGlvbiBrbChlLHQscixuKXtyZXR1cm4oZT1FbCg3LGUsbix0KSkuZXhwaXJhdGlvblRpbWU9cixlfWZ1bmN0aW9uIEFsKGUsdCxyKXtyZXR1cm4oZT1FbCg2LGUsbnVsbCx0KSkuZXhwaXJhdGlvblRpbWU9cixlfWZ1bmN0aW9uIElsKGUsdCxyKXtyZXR1cm4odD1FbCg0LG51bGwhPT1lLmNoaWxkcmVuP2UuY2hpbGRyZW46W10sZS5rZXksdCkpLmV4cGlyYXRpb25UaW1lPXIsdC5zdGF0ZU5vZGU9e2NvbnRhaW5lckluZm86ZS5jb250YWluZXJJbmZvLHBlbmRpbmdDaGlsZHJlbjpudWxsLGltcGxlbWVudGF0aW9uOmUuaW1wbGVtZW50YXRpb259LHR9ZnVuY3Rpb24gUGwoZSx0LHIpe3RoaXMudGFnPXQsdGhpcy5jdXJyZW50PW51bGwsdGhpcy5jb250YWluZXJJbmZvPWUsdGhpcy5waW5nQ2FjaGU9dGhpcy5wZW5kaW5nQ2hpbGRyZW49bnVsbCx0aGlzLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9MCx0aGlzLmZpbmlzaGVkV29yaz1udWxsLHRoaXMudGltZW91dEhhbmRsZT0tMSx0aGlzLnBlbmRpbmdDb250ZXh0PXRoaXMuY29udGV4dD1udWxsLHRoaXMuaHlkcmF0ZT1yLHRoaXMuY2FsbGJhY2tOb2RlPW51bGwsdGhpcy5jYWxsYmFja1ByaW9yaXR5PTkwLHRoaXMubGFzdEV4cGlyZWRUaW1lPXRoaXMubGFzdFBpbmdlZFRpbWU9dGhpcy5uZXh0S25vd25QZW5kaW5nTGV2ZWw9dGhpcy5sYXN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0UGVuZGluZ1RpbWU9MH1mdW5jdGlvbiB6bChlLHQpe3ZhciByPWUuZmlyc3RTdXNwZW5kZWRUaW1lO3JldHVybiBlPWUubGFzdFN1c3BlbmRlZFRpbWUsMCE9PXImJnI+PXQmJmU8PXR9ZnVuY3Rpb24gRGwoZSx0KXt2YXIgcj1lLmZpcnN0U3VzcGVuZGVkVGltZSxuPWUubGFzdFN1c3BlbmRlZFRpbWU7cjx0JiYoZS5maXJzdFN1c3BlbmRlZFRpbWU9dCksKG4+dHx8MD09PXIpJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KSx0PD1lLmxhc3RQaW5nZWRUaW1lJiYoZS5sYXN0UGluZ2VkVGltZT0wKSx0PD1lLmxhc3RFeHBpcmVkVGltZSYmKGUubGFzdEV4cGlyZWRUaW1lPTApfWZ1bmN0aW9uIFJsKGUsdCl7dD5lLmZpcnN0UGVuZGluZ1RpbWUmJihlLmZpcnN0UGVuZGluZ1RpbWU9dCk7dmFyIHI9ZS5maXJzdFN1c3BlbmRlZFRpbWU7MCE9PXImJih0Pj1yP2UuZmlyc3RTdXNwZW5kZWRUaW1lPWUubGFzdFN1c3BlbmRlZFRpbWU9ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9MDp0Pj1lLmxhc3RTdXNwZW5kZWRUaW1lJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KzEpLHQ+ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWwmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD10KSl9ZnVuY3Rpb24gTGwoZSx0KXt2YXIgcj1lLmxhc3RFeHBpcmVkVGltZTsoMD09PXJ8fHI+dCkmJihlLmxhc3RFeHBpcmVkVGltZT10KX1mdW5jdGlvbiBPbChlLHQscixuKXt2YXIgaT10LmN1cnJlbnQsbz0kcygpLHM9cG8uc3VzcGVuc2U7bz1XcyhvLGkscyk7ZTppZihyKXt0OntpZihRZShyPXIuX3JlYWN0SW50ZXJuYWxGaWJlcikhPT1yfHwxIT09ci50YWcpdGhyb3cgRXJyb3IoYSgxNzApKTt2YXIgbD1yO2Rve3N3aXRjaChsLnRhZyl7Y2FzZSAzOmw9bC5zdGF0ZU5vZGUuY29udGV4dDticmVhayB0O2Nhc2UgMTppZihtaShsLnR5cGUpKXtsPWwuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O2JyZWFrIHR9fWw9bC5yZXR1cm59d2hpbGUobnVsbCE9PWwpO3Rocm93IEVycm9yKGEoMTcxKSl9aWYoMT09PXIudGFnKXt2YXIgYz1yLnR5cGU7aWYobWkoYykpe3I9eWkocixjLGwpO2JyZWFrIGV9fXI9bH1lbHNlIHI9dWk7cmV0dXJuIG51bGw9PT10LmNvbnRleHQ/dC5jb250ZXh0PXI6dC5wZW5kaW5nQ29udGV4dD1yLCh0PXNvKG8scykpLnBheWxvYWQ9e2VsZW1lbnQ6ZX0sbnVsbCE9PShuPXZvaWQgMD09PW4/bnVsbDpuKSYmKHQuY2FsbGJhY2s9biksbG8oaSx0KSxYcyhpLG8pLG99ZnVuY3Rpb24gQmwoZSl7aWYoIShlPWUuY3VycmVudCkuY2hpbGQpcmV0dXJuIG51bGw7c3dpdGNoKGUuY2hpbGQudGFnKXtjYXNlIDU6ZGVmYXVsdDpyZXR1cm4gZS5jaGlsZC5zdGF0ZU5vZGV9fWZ1bmN0aW9uIEZsKGUsdCl7bnVsbCE9PShlPWUubWVtb2l6ZWRTdGF0ZSkmJm51bGwhPT1lLmRlaHlkcmF0ZWQmJmUucmV0cnlUaW1lPHQmJihlLnJldHJ5VGltZT10KX1mdW5jdGlvbiBqbChlLHQpe0ZsKGUsdCksKGU9ZS5hbHRlcm5hdGUpJiZGbChlLHQpfWZ1bmN0aW9uIFVsKGUsdCxyKXt2YXIgbj1uZXcgUGwoZSx0LHI9bnVsbCE9ciYmITA9PT1yLmh5ZHJhdGUpLGk9RWwoMyxudWxsLG51bGwsMj09PXQ/NzoxPT09dD8zOjApO24uY3VycmVudD1pLGkuc3RhdGVOb2RlPW4sb28oaSksZVtTcl09bi5jdXJyZW50LHImJjAhPT10JiZmdW5jdGlvbihlLHQpe3ZhciByPUplKHQpO0N0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Z0KGUsdCxyKX0pKSxNdC5mb3JFYWNoKChmdW5jdGlvbihlKXtmdChlLHQscil9KSl9KDAsOT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQpLHRoaXMuX2ludGVybmFsUm9vdD1ufWZ1bmN0aW9uIE5sKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlJiY5IT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlJiYoOCE9PWUubm9kZVR5cGV8fFwiIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlIFwiIT09ZS5ub2RlVmFsdWUpKX1mdW5jdGlvbiBWbChlLHQscixuLGkpe3ZhciBvPXIuX3JlYWN0Um9vdENvbnRhaW5lcjtpZihvKXt2YXIgYT1vLl9pbnRlcm5hbFJvb3Q7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7dmFyIHM9aTtpPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7cy5jYWxsKGUpfX1PbCh0LGEsZSxpKX1lbHNle2lmKG89ci5fcmVhY3RSb290Q29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9ISghKHQ9ZT85PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLmZpcnN0Q2hpbGQ6bnVsbCl8fDEhPT10Lm5vZGVUeXBlfHwhdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXJlYWN0cm9vdFwiKSkpLCF0KWZvcih2YXIgcjtyPWUubGFzdENoaWxkOyllLnJlbW92ZUNoaWxkKHIpO3JldHVybiBuZXcgVWwoZSwwLHQ/e2h5ZHJhdGU6ITB9OnZvaWQgMCl9KHIsbiksYT1vLl9pbnRlcm5hbFJvb3QsXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7dmFyIGw9aTtpPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7bC5jYWxsKGUpfX10bCgoZnVuY3Rpb24oKXtPbCh0LGEsZSxpKX0pKX1yZXR1cm4gQmwoYSl9ZnVuY3Rpb24gR2woZSx0LHIpe3ZhciBuPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjp0ZSxrZXk6bnVsbD09bj9udWxsOlwiXCIrbixjaGlsZHJlbjplLGNvbnRhaW5lckluZm86dCxpbXBsZW1lbnRhdGlvbjpyfX1mdW5jdGlvbiBxbChlLHQpe3ZhciByPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO2lmKCFObCh0KSl0aHJvdyBFcnJvcihhKDIwMCkpO3JldHVybiBHbChlLHQsbnVsbCxyKX1VbC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe09sKGUsdGhpcy5faW50ZXJuYWxSb290LG51bGwsbnVsbCl9LFVsLnByb3RvdHlwZS51bm1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faW50ZXJuYWxSb290LHQ9ZS5jb250YWluZXJJbmZvO09sKG51bGwsZSxudWxsLChmdW5jdGlvbigpe3RbU3JdPW51bGx9KSl9LG10PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PVdpKCRzKCksMTUwLDEwMCk7WHMoZSx0KSxqbChlLHQpfX0sZ3Q9ZnVuY3Rpb24oZSl7MTM9PT1lLnRhZyYmKFhzKGUsMyksamwoZSwzKSl9LF90PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PSRzKCk7WHMoZSx0PVdzKHQsZSxudWxsKSksamwoZSx0KX19LGs9ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaCh0KXtjYXNlXCJpbnB1dFwiOmlmKFNlKGUsciksdD1yLm5hbWUsXCJyYWRpb1wiPT09ci50eXBlJiZudWxsIT10KXtmb3Iocj1lO3IucGFyZW50Tm9kZTspcj1yLnBhcmVudE5vZGU7Zm9yKHI9ci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT1cIitKU09OLnN0cmluZ2lmeShcIlwiK3QpKyddW3R5cGU9XCJyYWRpb1wiXScpLHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuIT09ZSYmbi5mb3JtPT09ZS5mb3JtKXt2YXIgaT1BcihuKTtpZighaSl0aHJvdyBFcnJvcihhKDkwKSk7YmUobiksU2UobixpKX19fWJyZWFrO2Nhc2VcInRleHRhcmVhXCI6emUoZSxyKTticmVhaztjYXNlXCJzZWxlY3RcIjpudWxsIT0odD1yLnZhbHVlKSYmQWUoZSwhIXIubXVsdGlwbGUsdCwhMSl9fSxSPWVsLEw9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz1UcztUc3w9NDt0cnl7cmV0dXJuIFZpKDk4LGUuYmluZChudWxsLHQscixuLGkpKX1maW5hbGx5ezA9PT0oVHM9bykmJlppKCl9fSxPPWZ1bmN0aW9uKCl7MD09KDQ5JlRzKSYmKGZ1bmN0aW9uKCl7aWYobnVsbCE9PVZzKXt2YXIgZT1WcztWcz1udWxsLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtMbCh0LGUpLEtzKHQpfSkpLFppKCl9fSgpLG1sKCkpfSxCPWZ1bmN0aW9uKGUsdCl7dmFyIHI9VHM7VHN8PTI7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1yKSYmWmkoKX19O3ZhciBabD17RXZlbnRzOltNcixrcixBcixDLFQsT3IsZnVuY3Rpb24oZSl7aXQoZSxMcil9LHosRCxLdCxzdCxtbCx7Y3VycmVudDohMX1dfTshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTsoZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXylyZXR1cm4hMTt2YXIgdD1fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187aWYodC5pc0Rpc2FibGVkfHwhdC5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgcj10LmluamVjdChlKTtibD1mdW5jdGlvbihlKXt0cnl7dC5vbkNvbW1pdEZpYmVyUm9vdChyLGUsdm9pZCAwLDY0PT0oNjQmZS5jdXJyZW50LmVmZmVjdFRhZykpfWNhdGNoKGUpe319LHdsPWZ1bmN0aW9uKGUpe3RyeXt0Lm9uQ29tbWl0RmliZXJVbm1vdW50KHIsZSl9Y2F0Y2goZSl7fX19Y2F0Y2goZSl7fX0pKGkoe30sZSx7b3ZlcnJpZGVIb29rU3RhdGU6bnVsbCxvdmVycmlkZVByb3BzOm51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOm51bGwsc2NoZWR1bGVVcGRhdGU6bnVsbCxjdXJyZW50RGlzcGF0Y2hlclJlZjpZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT0oZT1ydChlKSk/bnVsbDplLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ/dChlKTpudWxsfSxmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6bnVsbCxzY2hlZHVsZVJlZnJlc2g6bnVsbCxzY2hlZHVsZVJvb3Q6bnVsbCxzZXRSZWZyZXNoSGFuZGxlcjpudWxsLGdldEN1cnJlbnRGaWJlcjpudWxsfSkpfSh7ZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6Q3IsYnVuZGxlVHlwZTowLHZlcnNpb246XCIxNi4xNC4wXCIscmVuZGVyZXJQYWNrYWdlTmFtZTpcInJlYWN0LWRvbVwifSksdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1abCx0LmNyZWF0ZVBvcnRhbD1xbCx0LmZpbmRET01Ob2RlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoMT09PWUubm9kZVR5cGUpcmV0dXJuIGU7dmFyIHQ9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyO2lmKHZvaWQgMD09PXQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVuZGVyKXRocm93IEVycm9yKGEoMTg4KSk7dGhyb3cgRXJyb3IoYSgyNjgsT2JqZWN0LmtleXMoZSkpKX1yZXR1cm4gZT1udWxsPT09KGU9cnQodCkpP251bGw6ZS5zdGF0ZU5vZGV9LHQuZmx1c2hTeW5jPWZ1bmN0aW9uKGUsdCl7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDE4NykpO3ZhciByPVRzO1RzfD0xO3RyeXtyZXR1cm4gVmkoOTksZS5iaW5kKG51bGwsdCkpfWZpbmFsbHl7VHM9cixaaSgpfX0sdC5oeWRyYXRlPWZ1bmN0aW9uKGUsdCxyKXtpZighTmwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITAscil9LHQucmVuZGVyPWZ1bmN0aW9uKGUsdCxyKXtpZighTmwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITEscil9LHQudW5tb3VudENvbXBvbmVudEF0Tm9kZT1mdW5jdGlvbihlKXtpZighTmwoZSkpdGhyb3cgRXJyb3IoYSg0MCkpO3JldHVybiEhZS5fcmVhY3RSb290Q29udGFpbmVyJiYodGwoKGZ1bmN0aW9uKCl7VmwobnVsbCxudWxsLGUsITEsKGZ1bmN0aW9uKCl7ZS5fcmVhY3RSb290Q29udGFpbmVyPW51bGwsZVtTcl09bnVsbH0pKX0pKSwhMCl9LHQudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM9ZWwsdC51bnN0YWJsZV9jcmVhdGVQb3J0YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcWwoZSx0LDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsKX0sdC51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcj1mdW5jdGlvbihlLHQscixuKXtpZighTmwocikpdGhyb3cgRXJyb3IoYSgyMDApKTtpZihudWxsPT1lfHx2b2lkIDA9PT1lLl9yZWFjdEludGVybmFsRmliZXIpdGhyb3cgRXJyb3IoYSgzOCkpO3JldHVybiBWbChlLHQsciwhMSxuKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXIoNzIpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saSxvLGEscztpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCl7dmFyIGw9bnVsbCxjPW51bGwsdT1mdW5jdGlvbigpe2lmKG51bGwhPT1sKXRyeXt2YXIgZT10LnVuc3RhYmxlX25vdygpO2woITAsZSksbD1udWxsfWNhdGNoKGUpe3Rocm93IHNldFRpbWVvdXQodSwwKSxlfX0saD1EYXRlLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktaH0sbj1mdW5jdGlvbihlKXtudWxsIT09bD9zZXRUaW1lb3V0KG4sMCxlKToobD1lLHNldFRpbWVvdXQodSwwKSl9LGk9ZnVuY3Rpb24oZSx0KXtjPXNldFRpbWVvdXQoZSx0KX0sbz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0sYT1mdW5jdGlvbigpe3JldHVybiExfSxzPXQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oKXt9fWVsc2V7dmFyIGQ9d2luZG93LnBlcmZvcm1hbmNlLHA9d2luZG93LkRhdGUsZj13aW5kb3cuc2V0VGltZW91dCxtPXdpbmRvdy5jbGVhclRpbWVvdXQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciBnPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzXCIpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGcmJmNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNhbmNlbEFuaW1hdGlvbkZyYW1lLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxsc1wiKX1pZihcIm9iamVjdFwiPT10eXBlb2YgZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5ub3cpdC51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gZC5ub3coKX07ZWxzZXt2YXIgXz1wLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHAubm93KCktX319dmFyIHk9ITEsdj1udWxsLHg9LTEsYj01LHc9MDthPWZ1bmN0aW9uKCl7cmV0dXJuIHQudW5zdGFibGVfbm93KCk+PXd9LHM9ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oZSl7MD5lfHwxMjU8ZT9jb25zb2xlLmVycm9yKFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWVyYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCB1bnN1cHBvcnRlZFwiKTpiPTA8ZT9NYXRoLmZsb29yKDFlMy9lKTo1fTt2YXIgVD1uZXcgTWVzc2FnZUNoYW5uZWwsRT1ULnBvcnQyO1QucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXYpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7dz1lK2I7dHJ5e3YoITAsZSk/RS5wb3N0TWVzc2FnZShudWxsKTooeT0hMSx2PW51bGwpfWNhdGNoKGUpe3Rocm93IEUucG9zdE1lc3NhZ2UobnVsbCksZX19ZWxzZSB5PSExfSxuPWZ1bmN0aW9uKGUpe3Y9ZSx5fHwoeT0hMCxFLnBvc3RNZXNzYWdlKG51bGwpKX0saT1mdW5jdGlvbihlLHIpe3g9ZigoZnVuY3Rpb24oKXtlKHQudW5zdGFibGVfbm93KCkpfSkscil9LG89ZnVuY3Rpb24oKXttKHgpLHg9LTF9fWZ1bmN0aW9uIFMoZSx0KXt2YXIgcj1lLmxlbmd0aDtlLnB1c2godCk7ZTpmb3IoOzspe3ZhciBuPXItMT4+PjEsaT1lW25dO2lmKCEodm9pZCAwIT09aSYmMDxrKGksdCkpKWJyZWFrIGU7ZVtuXT10LGVbcl09aSxyPW59fWZ1bmN0aW9uIEMoZSl7cmV0dXJuIHZvaWQgMD09PShlPWVbMF0pP251bGw6ZX1mdW5jdGlvbiBNKGUpe3ZhciB0PWVbMF07aWYodm9pZCAwIT09dCl7dmFyIHI9ZS5wb3AoKTtpZihyIT09dCl7ZVswXT1yO2U6Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7KXt2YXIgbz0yKihuKzEpLTEsYT1lW29dLHM9bysxLGw9ZVtzXTtpZih2b2lkIDAhPT1hJiYwPmsoYSxyKSl2b2lkIDAhPT1sJiYwPmsobCxhKT8oZVtuXT1sLGVbc109cixuPXMpOihlW25dPWEsZVtvXT1yLG49byk7ZWxzZXtpZighKHZvaWQgMCE9PWwmJjA+ayhsLHIpKSlicmVhayBlO2Vbbl09bCxlW3NdPXIsbj1zfX19cmV0dXJuIHR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gayhlLHQpe3ZhciByPWUuc29ydEluZGV4LXQuc29ydEluZGV4O3JldHVybiAwIT09cj9yOmUuaWQtdC5pZH12YXIgQT1bXSxJPVtdLFA9MSx6PW51bGwsRD0zLFI9ITEsTD0hMSxPPSExO2Z1bmN0aW9uIEIoZSl7Zm9yKHZhciB0PUMoSSk7bnVsbCE9PXQ7KXtpZihudWxsPT09dC5jYWxsYmFjaylNKEkpO2Vsc2V7aWYoISh0LnN0YXJ0VGltZTw9ZSkpYnJlYWs7TShJKSx0LnNvcnRJbmRleD10LmV4cGlyYXRpb25UaW1lLFMoQSx0KX10PUMoSSl9fWZ1bmN0aW9uIEYoZSl7aWYoTz0hMSxCKGUpLCFMKWlmKG51bGwhPT1DKEEpKUw9ITAsbihqKTtlbHNle3ZhciB0PUMoSSk7bnVsbCE9PXQmJmkoRix0LnN0YXJ0VGltZS1lKX19ZnVuY3Rpb24gaihlLHIpe0w9ITEsTyYmKE89ITEsbygpKSxSPSEwO3ZhciBuPUQ7dHJ5e2ZvcihCKHIpLHo9QyhBKTtudWxsIT09eiYmKCEoei5leHBpcmF0aW9uVGltZT5yKXx8ZSYmIWEoKSk7KXt2YXIgcz16LmNhbGxiYWNrO2lmKG51bGwhPT1zKXt6LmNhbGxiYWNrPW51bGwsRD16LnByaW9yaXR5TGV2ZWw7dmFyIGw9cyh6LmV4cGlyYXRpb25UaW1lPD1yKTtyPXQudW5zdGFibGVfbm93KCksXCJmdW5jdGlvblwiPT10eXBlb2YgbD96LmNhbGxiYWNrPWw6ej09PUMoQSkmJk0oQSksQihyKX1lbHNlIE0oQSk7ej1DKEEpfWlmKG51bGwhPT16KXZhciBjPSEwO2Vsc2V7dmFyIHU9QyhJKTtudWxsIT09dSYmaShGLHUuc3RhcnRUaW1lLXIpLGM9ITF9cmV0dXJuIGN9ZmluYWxseXt6PW51bGwsRD1uLFI9ITF9fWZ1bmN0aW9uIFUoZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4tMTtjYXNlIDI6cmV0dXJuIDI1MDtjYXNlIDU6cmV0dXJuIDEwNzM3NDE4MjM7Y2FzZSA0OnJldHVybiAxZTQ7ZGVmYXVsdDpyZXR1cm4gNWUzfX12YXIgTj1zO3QudW5zdGFibGVfSWRsZVByaW9yaXR5PTUsdC51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eT0xLHQudW5zdGFibGVfTG93UHJpb3JpdHk9NCx0LnVuc3RhYmxlX05vcm1hbFByaW9yaXR5PTMsdC51bnN0YWJsZV9Qcm9maWxpbmc9bnVsbCx0LnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5PTIsdC51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaz1mdW5jdGlvbihlKXtlLmNhbGxiYWNrPW51bGx9LHQudW5zdGFibGVfY29udGludWVFeGVjdXRpb249ZnVuY3Rpb24oKXtMfHxSfHwoTD0hMCxuKGopKX0sdC51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbD1mdW5jdGlvbigpe3JldHVybiBEfSx0LnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIEMoQSl9LHQudW5zdGFibGVfbmV4dD1mdW5jdGlvbihlKXtzd2l0Y2goRCl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIHQ9MzticmVhaztkZWZhdWx0OnQ9RH12YXIgcj1EO0Q9dDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e0Q9cn19LHQudW5zdGFibGVfcGF1c2VFeGVjdXRpb249ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfcmVxdWVzdFBhaW50PU4sdC51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmU9M312YXIgcj1EO0Q9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0Q9cn19LHQudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaz1mdW5jdGlvbihlLHIsYSl7dmFyIHM9dC51bnN0YWJsZV9ub3coKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9PWEpe3ZhciBsPWEuZGVsYXk7bD1cIm51bWJlclwiPT10eXBlb2YgbCYmMDxsP3MrbDpzLGE9XCJudW1iZXJcIj09dHlwZW9mIGEudGltZW91dD9hLnRpbWVvdXQ6VShlKX1lbHNlIGE9VShlKSxsPXM7cmV0dXJuIGU9e2lkOlArKyxjYWxsYmFjazpyLHByaW9yaXR5TGV2ZWw6ZSxzdGFydFRpbWU6bCxleHBpcmF0aW9uVGltZTphPWwrYSxzb3J0SW5kZXg6LTF9LGw+cz8oZS5zb3J0SW5kZXg9bCxTKEksZSksbnVsbD09PUMoQSkmJmU9PT1DKEkpJiYoTz9vKCk6Tz0hMCxpKEYsbC1zKSkpOihlLnNvcnRJbmRleD1hLFMoQSxlKSxMfHxSfHwoTD0hMCxuKGopKSksZX0sdC51bnN0YWJsZV9zaG91bGRZaWVsZD1mdW5jdGlvbigpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7QihlKTt2YXIgcj1DKEEpO3JldHVybiByIT09eiYmbnVsbCE9PXomJm51bGwhPT1yJiZudWxsIT09ci5jYWxsYmFjayYmci5zdGFydFRpbWU8PWUmJnIuZXhwaXJhdGlvblRpbWU8ei5leHBpcmF0aW9uVGltZXx8YSgpfSx0LnVuc3RhYmxlX3dyYXBDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgdD1EO3JldHVybiBmdW5jdGlvbigpe3ZhciByPUQ7RD10O3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtEPXJ9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE1KS5kZWZhdWx0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1uKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIGk9ci5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1uKGkpKXJldHVybiBpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspcj1vW25dLHQuaW5kZXhPZihyKT49MHx8KGlbcl09ZVtyXSk7cmV0dXJuIGl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNzYpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuITA9PT1uKGUpJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiExIT09aShlKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9ZS5jb25zdHJ1Y3RvcikmJighMSE9PWkocj10LnByb3RvdHlwZSkmJiExIT09ci5oYXNPd25Qcm9wZXJ0eShcImlzUHJvdG90eXBlT2ZcIikpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhMT09PUFycmF5LmlzQXJyYXkoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZXMscj12b2lkIDA9PT10P3t4czowLHNtOjYwMCxtZDo5NjAsbGc6MTI4MCx4bDoxOTIwfTp0LG49ZS51bml0LHM9dm9pZCAwPT09bj9cInB4XCI6bixsPWUuc3RlcCxjPXZvaWQgMD09PWw/NTpsLHU9KDAsby5kZWZhdWx0KShlLFtcInZhbHVlc1wiLFwidW5pdFwiLFwic3RlcFwiXSk7ZnVuY3Rpb24gaChlKXt2YXIgdD1cIm51bWJlclwiPT10eXBlb2YgcltlXT9yW2VdOmU7cmV0dXJuXCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQodCkuY29uY2F0KHMsXCIpXCIpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1hLmluZGV4T2YodCkrMTtyZXR1cm4gbj09PWEubGVuZ3RoP2goZSk6XCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQocltlXSkuY29uY2F0KHMsXCIpIGFuZCBcIikrXCIobWF4LXdpZHRoOlwiLmNvbmNhdChyW2Fbbl1dLWMvMTAwKS5jb25jYXQocyxcIilcIil9cmV0dXJuKDAsaS5kZWZhdWx0KSh7a2V5czphLHZhbHVlczpyLHVwOmgsZG93bjpmdW5jdGlvbihlKXt2YXIgdD1hLmluZGV4T2YoZSkrMSxuPXJbYVt0XV07cmV0dXJuIHQ9PT1hLmxlbmd0aD9oKFwieHNcIik6XCJAbWVkaWEgKG1heC13aWR0aDpcIi5jb25jYXQoKFwibnVtYmVyXCI9PXR5cGVvZiBuJiZ0PjA/bjplKS1jLzEwMCkuY29uY2F0KHMsXCIpXCIpfSxiZXR3ZWVuOmQsb25seTpmdW5jdGlvbihlKXtyZXR1cm4gZChlLGUpfSx3aWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gcltlXX19LHUpfSx0LmtleXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNCkpLGE9W1wieHNcIixcInNtXCIsXCJtZFwiLFwibGdcIixcInhsXCJdO3Qua2V5cz1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3JldHVybigwLG8uZGVmYXVsdCkoe2d1dHRlcnM6ZnVuY3Rpb24oKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKDAsby5kZWZhdWx0KSh7cGFkZGluZ0xlZnQ6Mip0LnVuaXQscGFkZGluZ1JpZ2h0OjIqdC51bml0fSxyLCgwLGkuZGVmYXVsdCkoe30sZS51cChcInNtXCIpLCgwLG8uZGVmYXVsdCkoe3BhZGRpbmdMZWZ0OjMqdC51bml0LHBhZGRpbmdSaWdodDozKnQudW5pdH0scltlLnVwKFwic21cIildKSkpfSx0b29sYmFyOihuPXttaW5IZWlnaHQ6NTZ9LCgwLGkuZGVmYXVsdCkobixcIlwiLmNvbmNhdChlLnVwKFwieHNcIiksXCIgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSx7bWluSGVpZ2h0OjQ4fSksKDAsaS5kZWZhdWx0KShuLGUudXAoXCJzbVwiKSx7bWluSGVpZ2h0OjY0fSksbil9LHIpfTt2YXIgaT1uKHIoNSkpLG89bihyKDIpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJpbWFyeSxyPXZvaWQgMD09PXQ/e2xpZ2h0OnMuZGVmYXVsdFszMDBdLG1haW46cy5kZWZhdWx0WzUwMF0sZGFyazpzLmRlZmF1bHRbNzAwXX06dCxuPWUuc2Vjb25kYXJ5LGc9dm9pZCAwPT09bj97bGlnaHQ6bC5kZWZhdWx0LkEyMDAsbWFpbjpsLmRlZmF1bHQuQTQwMCxkYXJrOmwuZGVmYXVsdC5BNzAwfTpuLF89ZS5lcnJvcix5PXZvaWQgMD09PV8/e2xpZ2h0OnUuZGVmYXVsdFszMDBdLG1haW46dS5kZWZhdWx0WzUwMF0sZGFyazp1LmRlZmF1bHRbNzAwXX06Xyx2PWUudHlwZSx4PXZvaWQgMD09PXY/XCJsaWdodFwiOnYsYj1lLmNvbnRyYXN0VGhyZXNob2xkLHc9dm9pZCAwPT09Yj8zOmIsVD1lLnRvbmFsT2Zmc2V0LEU9dm9pZCAwPT09VD8uMjpULFM9KDAsby5kZWZhdWx0KShlLFtcInByaW1hcnlcIixcInNlY29uZGFyeVwiLFwiZXJyb3JcIixcInR5cGVcIixcImNvbnRyYXN0VGhyZXNob2xkXCIsXCJ0b25hbE9mZnNldFwiXSk7ZnVuY3Rpb24gQyhlKXtyZXR1cm4oMCxkLmdldENvbnRyYXN0UmF0aW8pKGUsZi50ZXh0LnByaW1hcnkpPj13P2YudGV4dC5wcmltYXJ5OnAudGV4dC5wcmltYXJ5fWZ1bmN0aW9uIE0oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjUwMCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTozMDAsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NzAwO3JldHVybiFlLm1haW4mJmVbdF0mJihlLm1haW49ZVt0XSksbShlLFwibGlnaHRcIixyLEUpLG0oZSxcImRhcmtcIixuLEUpLGUuY29udHJhc3RUZXh0fHwoZS5jb250cmFzdFRleHQ9QyhlLm1haW4pKSxlfU0ociksTShnLFwiQTQwMFwiLFwiQTIwMFwiLFwiQTcwMFwiKSxNKHkpO3ZhciBrPXtkYXJrOmYsbGlnaHQ6cH07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxpLmRlZmF1bHQpKHtjb21tb246aC5kZWZhdWx0LHR5cGU6eCxwcmltYXJ5OnIsc2Vjb25kYXJ5OmcsZXJyb3I6eSxncmV5OmMuZGVmYXVsdCxjb250cmFzdFRocmVzaG9sZDp3LGdldENvbnRyYXN0VGV4dDpDLGF1Z21lbnRDb2xvcjpNLHRvbmFsT2Zmc2V0OkV9LGtbeF0pLFMse2Nsb25lOiExfSl9LHQuZGFyaz10LmxpZ2h0PXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPShuKHIoNikpLG4ocigyMikpKSxzPW4ocig0MSkpLGw9bihyKDgwKSksYz1uKHIoODEpKSx1PW4ocig4MikpLGg9bihyKDgzKSksZD1yKDQyKSxwPXt0ZXh0OntwcmltYXJ5OlwicmdiYSgwLCAwLCAwLCAwLjg3KVwiLHNlY29uZGFyeTpcInJnYmEoMCwgMCwgMCwgMC41NClcIixkaXNhYmxlZDpcInJnYmEoMCwgMCwgMCwgMC4zOClcIixoaW50OlwicmdiYSgwLCAwLCAwLCAwLjM4KVwifSxkaXZpZGVyOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwiLGJhY2tncm91bmQ6e3BhcGVyOmguZGVmYXVsdC53aGl0ZSxkZWZhdWx0OmMuZGVmYXVsdFs1MF19LGFjdGlvbjp7YWN0aXZlOlwicmdiYSgwLCAwLCAwLCAwLjU0KVwiLGhvdmVyOlwicmdiYSgwLCAwLCAwLCAwLjA4KVwiLGhvdmVyT3BhY2l0eTouMDgsc2VsZWN0ZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMTQpXCIsZGlzYWJsZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMjYpXCIsZGlzYWJsZWRCYWNrZ3JvdW5kOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwifX07dC5saWdodD1wO3ZhciBmPXt0ZXh0OntwcmltYXJ5OmguZGVmYXVsdC53aGl0ZSxzZWNvbmRhcnk6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNylcIixkaXNhYmxlZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KVwiLGhpbnQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSlcIixpY29uOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpXCJ9LGRpdmlkZXI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCIsYmFja2dyb3VuZDp7cGFwZXI6Yy5kZWZhdWx0WzgwMF0sZGVmYXVsdDpcIiMzMDMwMzBcIn0sYWN0aW9uOnthY3RpdmU6aC5kZWZhdWx0LndoaXRlLGhvdmVyOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCIsaG92ZXJPcGFjaXR5Oi4xLHNlbGVjdGVkOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIsZGlzYWJsZWQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMylcIixkaXNhYmxlZEJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCJ9fTtmdW5jdGlvbiBtKGUsdCxyLG4pe2VbdF18fChlLmhhc093blByb3BlcnR5KHIpP2VbdF09ZVtyXTpcImxpZ2h0XCI9PT10P2UubGlnaHQ9KDAsZC5saWdodGVuKShlLm1haW4sbik6XCJkYXJrXCI9PT10JiYoZS5kYXJrPSgwLGQuZGFya2VuKShlLm1haW4sMS41Km4pKSl9dC5kYXJrPWZ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXs1MDpcIiNmY2U0ZWNcIiwxMDA6XCIjZjhiYmQwXCIsMjAwOlwiI2Y0OGZiMVwiLDMwMDpcIiNmMDYyOTJcIiw0MDA6XCIjZWM0MDdhXCIsNTAwOlwiI2U5MWU2M1wiLDYwMDpcIiNkODFiNjBcIiw3MDA6XCIjYzIxODViXCIsODAwOlwiI2FkMTQ1N1wiLDkwMDpcIiM4ODBlNGZcIixBMTAwOlwiI2ZmODBhYlwiLEEyMDA6XCIjZmY0MDgxXCIsQTQwMDpcIiNmNTAwNTdcIixBNzAwOlwiI2M1MTE2MlwifTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ezUwOlwiI2ZhZmFmYVwiLDEwMDpcIiNmNWY1ZjVcIiwyMDA6XCIjZWVlZWVlXCIsMzAwOlwiI2UwZTBlMFwiLDQwMDpcIiNiZGJkYmRcIiw1MDA6XCIjOWU5ZTllXCIsNjAwOlwiIzc1NzU3NVwiLDcwMDpcIiM2MTYxNjFcIiw4MDA6XCIjNDI0MjQyXCIsOTAwOlwiIzIxMjEyMVwiLEExMDA6XCIjZDVkNWQ1XCIsQTIwMDpcIiNhYWFhYWFcIixBNDAwOlwiIzMwMzAzMFwiLEE3MDA6XCIjNjE2MTYxXCJ9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17NTA6XCIjZmZlYmVlXCIsMTAwOlwiI2ZmY2RkMlwiLDIwMDpcIiNlZjlhOWFcIiwzMDA6XCIjZTU3MzczXCIsNDAwOlwiI2VmNTM1MFwiLDUwMDpcIiNmNDQzMzZcIiw2MDA6XCIjZTUzOTM1XCIsNzAwOlwiI2QzMmYyZlwiLDgwMDpcIiNjNjI4MjhcIiw5MDA6XCIjYjcxYzFjXCIsQTEwMDpcIiNmZjhhODBcIixBMjAwOlwiI2ZmNTI1MlwiLEE0MDA6XCIjZmYxNzQ0XCIsQTcwMDpcIiNkNTAwMDBcIn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXtibGFjazpcIiMwMDBcIix3aGl0ZTpcIiNmZmZcIn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTp0LG49ci5mb250RmFtaWx5LHU9dm9pZCAwPT09bj8nXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJzpuLGg9ci5mb250U2l6ZSxkPXZvaWQgMD09PWg/MTQ6aCxwPXIuZm9udFdlaWdodExpZ2h0LGY9dm9pZCAwPT09cD8zMDA6cCxtPXIuZm9udFdlaWdodFJlZ3VsYXIsZz12b2lkIDA9PT1tPzQwMDptLF89ci5mb250V2VpZ2h0TWVkaXVtLHk9dm9pZCAwPT09Xz81MDA6Xyx2PXIuaHRtbEZvbnRTaXplLHg9dm9pZCAwPT09dj8xNjp2LGI9ci51c2VOZXh0VmFyaWFudHMsdz12b2lkIDA9PT1iP0Jvb2xlYW4ocy5wb255ZmlsbEdsb2JhbC5fX01VSV9VU0VfTkVYVF9UWVBPR1JBUEhZX1ZBUklBTlRTX18pOmIsVD0oci5zdXBwcmVzc1dhcm5pbmcsci5hbGxWYXJpYW50cyksRT0oMCxvLmRlZmF1bHQpKHIsW1wiZm9udEZhbWlseVwiLFwiZm9udFNpemVcIixcImZvbnRXZWlnaHRMaWdodFwiLFwiZm9udFdlaWdodFJlZ3VsYXJcIixcImZvbnRXZWlnaHRNZWRpdW1cIixcImh0bWxGb250U2l6ZVwiLFwidXNlTmV4dFZhcmlhbnRzXCIsXCJzdXBwcmVzc1dhcm5pbmdcIixcImFsbFZhcmlhbnRzXCJdKTt2YXIgUz1kLzE0LEM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJcIi5jb25jYXQoZS94KlMsXCJyZW1cIil9LE09ZnVuY3Rpb24odCxyLG4sbyxhKXtyZXR1cm4oMCxpLmRlZmF1bHQpKHtjb2xvcjplLnRleHQucHJpbWFyeSxmb250RmFtaWx5OnUsZm9udFdlaWdodDp0LGZvbnRTaXplOkMociksbGluZUhlaWdodDpufSwnXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJz09PXU/e2xldHRlclNwYWNpbmc6XCJcIi5jb25jYXQobChvL3IpLFwiZW1cIil9Ont9LGEsVCl9LGs9e2gxOk0oZiw5NiwxLC0xLjUpLGgyOk0oZiw2MCwxLC0uNSksaDM6TShnLDQ4LDEuMDQsMCksaDQ6TShnLDM0LDEuMTcsLjI1KSxoNTpNKGcsMjQsMS4zMywwKSxoNjpNKHksMjAsMS42LC4xNSksc3VidGl0bGUxOk0oZywxNiwxLjc1LC4xNSksc3VidGl0bGUyOk0oeSwxNCwxLjU3LC4xKSxib2R5MU5leHQ6TShnLDE2LDEuNSwuMTUpLGJvZHkyTmV4dDpNKGcsMTQsMS41LC4xNSksYnV0dG9uTmV4dDpNKHksMTQsMS43NSwuNCxjKSxjYXB0aW9uTmV4dDpNKGcsMTIsMS42NiwuNCksb3ZlcmxpbmU6TShnLDEyLDIuNjYsMSxjKX0sQT17ZGlzcGxheTQ6KDAsaS5kZWZhdWx0KSh7Zm9udFNpemU6QygxMTIpLGZvbnRXZWlnaHQ6Zixmb250RmFtaWx5OnUsbGV0dGVyU3BhY2luZzpcIi0uMDRlbVwiLGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgxMjgvMTEyKSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjA0ZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MzooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDU2KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxldHRlclNwYWNpbmc6XCItLjAyZW1cIixsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoNzMvNTYpLFwiZW1cIiksbWFyZ2luTGVmdDpcIi0uMDJlbVwiLGNvbG9yOmUudGV4dC5zZWNvbmRhcnl9LFQpLGRpc3BsYXkyOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoNDUpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDUxLzQ1KSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjAyZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MTooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDM0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCg0MS8zNCksXCJlbVwiKSxjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxoZWFkbGluZTooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDI0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgzMi41LzI0KSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSx0aXRsZTooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDIxKSxmb250V2VpZ2h0OnksZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgyNC41LzIxKSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSxzdWJoZWFkaW5nOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoMTYpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDEuNSksXCJlbVwiKSxjb2xvcjplLnRleHQucHJpbWFyeX0sVCksYm9keTI6KDAsaS5kZWZhdWx0KSh7Zm9udFNpemU6QygxNCksZm9udFdlaWdodDp5LGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMjQvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGJvZHkxOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoMTQpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDIwLjUvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGNhcHRpb246KDAsaS5kZWZhdWx0KSh7Zm9udFNpemU6QygxMiksZm9udFdlaWdodDpnLGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMS4zNzUpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnNlY29uZGFyeX0sVCksYnV0dG9uOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoMTQpLHRleHRUcmFuc2Zvcm06XCJ1cHBlcmNhc2VcIixmb250V2VpZ2h0OnksZm9udEZhbWlseTp1LGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKX07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxpLmRlZmF1bHQpKHtweFRvUmVtOkMscm91bmQ6bCxmb250RmFtaWx5OnUsZm9udFNpemU6ZCxmb250V2VpZ2h0TGlnaHQ6Zixmb250V2VpZ2h0UmVndWxhcjpnLGZvbnRXZWlnaHRNZWRpdW06eX0sQSxrLHc/e2JvZHkxOmsuYm9keTFOZXh0LGJvZHkyOmsuYm9keTJOZXh0LGJ1dHRvbjprLmJ1dHRvbk5leHQsY2FwdGlvbjprLmNhcHRpb25OZXh0fTp7fSx7dXNlTmV4dFZhcmlhbnRzOnd9KSxFLHtjbG9uZTohMX0pfTt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPW4ocigyMikpLHM9KG4ocig2KSkscig3KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqZSkvMWU1fXZhciBjPXt0ZXh0VHJhbnNmb3JtOlwidXBwZXJjYXNlXCJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLGk9bj9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxvPW4/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixhPW4/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LHM9bj9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsbD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxjPW4/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LHU9bj9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxoPW4/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsZD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik6NjAxMTEscD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixmPW4/U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpOjYwMTEzLG09bj9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxnPW4/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsXz1uP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LHk9bj9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdj1uP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PW4/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCxiPW4/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O2Z1bmN0aW9uIHcoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgdD1lLiQkdHlwZW9mO3N3aXRjaCh0KXtjYXNlIGk6c3dpdGNoKGU9ZS50eXBlKXtjYXNlIGg6Y2FzZSBkOmNhc2UgYTpjYXNlIGw6Y2FzZSBzOmNhc2UgZjpyZXR1cm4gZTtkZWZhdWx0OnN3aXRjaChlPWUmJmUuJCR0eXBlb2Ype2Nhc2UgdTpjYXNlIHA6Y2FzZSBfOmNhc2UgZzpjYXNlIGM6cmV0dXJuIGU7ZGVmYXVsdDpyZXR1cm4gdH19Y2FzZSBvOnJldHVybiB0fX19ZnVuY3Rpb24gVChlKXtyZXR1cm4gdyhlKT09PWR9dC5Bc3luY01vZGU9aCx0LkNvbmN1cnJlbnRNb2RlPWQsdC5Db250ZXh0Q29uc3VtZXI9dSx0LkNvbnRleHRQcm92aWRlcj1jLHQuRWxlbWVudD1pLHQuRm9yd2FyZFJlZj1wLHQuRnJhZ21lbnQ9YSx0Lkxhenk9Xyx0Lk1lbW89Zyx0LlBvcnRhbD1vLHQuUHJvZmlsZXI9bCx0LlN0cmljdE1vZGU9cyx0LlN1c3BlbnNlPWYsdC5pc0FzeW5jTW9kZT1mdW5jdGlvbihlKXtyZXR1cm4gVChlKXx8dyhlKT09PWh9LHQuaXNDb25jdXJyZW50TW9kZT1ULHQuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT11fSx0LmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Y30sdC5pc0VsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09aX0sdC5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1wfSx0LmlzRnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1hfSx0LmlzTGF6eT1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PV99LHQuaXNNZW1vPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Z30sdC5pc1BvcnRhbD1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PW99LHQuaXNQcm9maWxlcj1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PWx9LHQuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09c30sdC5pc1N1c3BlbnNlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Zn0sdC5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fGU9PT1hfHxlPT09ZHx8ZT09PWx8fGU9PT1zfHxlPT09Znx8ZT09PW18fFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmKGUuJCR0eXBlb2Y9PT1ffHxlLiQkdHlwZW9mPT09Z3x8ZS4kJHR5cGVvZj09PWN8fGUuJCR0eXBlb2Y9PT11fHxlLiQkdHlwZW9mPT09cHx8ZS4kJHR5cGVvZj09PXZ8fGUuJCR0eXBlb2Y9PT14fHxlLiQkdHlwZW9mPT09Ynx8ZS4kJHR5cGVvZj09PXkpfSx0LnR5cGVPZj13fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtmdW5jdGlvbiBuKCl7cmV0dXJuW1wiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9MT92b2lkIDA6YXJndW1lbnRzWzFdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0yP3ZvaWQgMDphcmd1bWVudHNbMl0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTM/dm9pZCAwOmFyZ3VtZW50c1szXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMixcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9ND92b2lkIDA6YXJndW1lbnRzWzRdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD01P3ZvaWQgMDphcmd1bWVudHNbNV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTY/dm9pZCAwOmFyZ3VtZW50c1s2XSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9Nz92b2lkIDA6YXJndW1lbnRzWzddLFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KC4xNCxcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9OD92b2lkIDA6YXJndW1lbnRzWzhdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD05P3ZvaWQgMDphcmd1bWVudHNbOV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTEwP3ZvaWQgMDphcmd1bWVudHNbMTBdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0xMT92b2lkIDA6YXJndW1lbnRzWzExXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMTIsXCIpXCIpXS5qb2luKFwiLFwiKX12YXIgaT1bXCJub25lXCIsbigwLDEsMywwLDAsMSwxLDAsMCwyLDEsLTEpLG4oMCwxLDUsMCwwLDIsMiwwLDAsMywxLC0yKSxuKDAsMSw4LDAsMCwzLDQsMCwwLDMsMywtMiksbigwLDIsNCwtMSwwLDQsNSwwLDAsMSwxMCwwKSxuKDAsMyw1LC0xLDAsNSw4LDAsMCwxLDE0LDApLG4oMCwzLDUsLTEsMCw2LDEwLDAsMCwxLDE4LDApLG4oMCw0LDUsLTIsMCw3LDEwLDEsMCwyLDE2LDEpLG4oMCw1LDUsLTMsMCw4LDEwLDEsMCwzLDE0LDIpLG4oMCw1LDYsLTMsMCw5LDEyLDEsMCwzLDE2LDIpLG4oMCw2LDYsLTMsMCwxMCwxNCwxLDAsNCwxOCwzKSxuKDAsNiw3LC00LDAsMTEsMTUsMSwwLDQsMjAsMyksbigwLDcsOCwtNCwwLDEyLDE3LDIsMCw1LDIyLDQpLG4oMCw3LDgsLTQsMCwxMywxOSwyLDAsNSwyNCw0KSxuKDAsNyw5LC00LDAsMTQsMjEsMiwwLDUsMjYsNCksbigwLDgsOSwtNSwwLDE1LDIyLDIsMCw2LDI4LDUpLG4oMCw4LDEwLC01LDAsMTYsMjQsMiwwLDYsMzAsNSksbigwLDgsMTEsLTUsMCwxNywyNiwyLDAsNiwzMiw1KSxuKDAsOSwxMSwtNSwwLDE4LDI4LDIsMCw3LDM0LDYpLG4oMCw5LDEyLC02LDAsMTksMjksMiwwLDcsMzYsNiksbigwLDEwLDEzLC02LDAsMjAsMzEsMywwLDgsMzgsNyksbigwLDEwLDEzLC02LDAsMjEsMzMsMywwLDgsNDAsNyksbigwLDEwLDE0LC02LDAsMjIsMzUsMywwLDgsNDIsNyksbigwLDExLDE0LC03LDAsMjMsMzYsMywwLDksNDQsOCksbigwLDExLDE1LC03LDAsMjQsMzgsMywwLDksNDYsOCldO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17Ym9yZGVyUmFkaXVzOjR9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17dW5pdDo4fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuaXNOdW1iZXI9dC5pc1N0cmluZz10LmZvcm1hdE1zPXQuZHVyYXRpb249dC5lYXNpbmc9dm9pZCAwO3ZhciBpPW4ocig0KSksbz0obihyKDYpKSx7ZWFzZUluT3V0OlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKVwiLGVhc2VPdXQ6XCJjdWJpYy1iZXppZXIoMC4wLCAwLCAwLjIsIDEpXCIsZWFzZUluOlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSlcIixzaGFycDpcImN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSlcIn0pO3QuZWFzaW5nPW87dmFyIGE9e3Nob3J0ZXN0OjE1MCxzaG9ydGVyOjIwMCxzaG9ydDoyNTAsc3RhbmRhcmQ6MzAwLGNvbXBsZXg6Mzc1LGVudGVyaW5nU2NyZWVuOjIyNSxsZWF2aW5nU2NyZWVuOjE5NX07dC5kdXJhdGlvbj1hO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KE1hdGgucm91bmQoZSksXCJtc1wiKX07dC5mb3JtYXRNcz1zO3QuaXNTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9O3QuaXNOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoZSkpfTt2YXIgbD17ZWFzaW5nOm8sZHVyYXRpb246YSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W1wiYWxsXCJdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC5kdXJhdGlvbixuPXZvaWQgMD09PXI/YS5zdGFuZGFyZDpyLGw9dC5lYXNpbmcsYz12b2lkIDA9PT1sP28uZWFzZUluT3V0OmwsdT10LmRlbGF5LGg9dm9pZCAwPT09dT8wOnU7KDAsaS5kZWZhdWx0KSh0LFtcImR1cmF0aW9uXCIsXCJlYXNpbmdcIixcImRlbGF5XCJdKTtyZXR1cm4oQXJyYXkuaXNBcnJheShlKT9lOltlXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoXCJzdHJpbmdcIj09dHlwZW9mIG4/bjpzKG4pLFwiIFwiKS5jb25jYXQoYyxcIiBcIikuY29uY2F0KFwic3RyaW5nXCI9PXR5cGVvZiBoP2g6cyhoKSl9KSkuam9pbihcIixcIil9LGdldEF1dG9IZWlnaHREdXJhdGlvbjpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gMDt2YXIgdD1lLzM2O3JldHVybiBNYXRoLnJvdW5kKDEwKig0KzE1Kk1hdGgucG93KHQsLjI1KSt0LzUpKX19O3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17bW9iaWxlU3RlcHBlcjoxZTMsYXBwQmFyOjExMDAsZHJhd2VyOjEyMDAsbW9kYWw6MTMwMCxzbmFja2JhcjoxNDAwLHRvb2x0aXA6MTUwMH07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQscil7aWYoXCJAZ2xvYmFsXCI9PT1lKXJldHVybiBuZXcgcyhlLHQscik7aWYoXCJAXCI9PT1lWzBdJiZcIkBnbG9iYWwgXCI9PT1lLnN1YnN0cigwLFwiQGdsb2JhbCBcIi5sZW5ndGgpKXJldHVybiBuZXcgbChlLHQscik7dmFyIG49ci5wYXJlbnQ7cmV0dXJuIG4mJihcImdsb2JhbFwiIT09bi50eXBlJiZcImdsb2JhbFwiIT09bi5vcHRpb25zLnBhcmVudC50eXBlfHwoci5nbG9iYWw9ITApKSxyLmdsb2JhbCYmKHIuc2VsZWN0b3I9ZSksbnVsbH0sb25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcInN0eWxlXCI9PT1lLnR5cGUmJihmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMscj1lLnN0eWxlLGk9cltcIkBnbG9iYWxcIl07aWYoIWkpcmV0dXJuO2Zvcih2YXIgbyBpbiBpKXQuc2hlZXQuYWRkUnVsZShvLGlbb10sbih7fSx0LHtzZWxlY3Rvcjp1KG8sZS5zZWxlY3Rvcil9KSk7ZGVsZXRlIHJbXCJAZ2xvYmFsXCJdfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMscj1lLnN0eWxlO2Zvcih2YXIgaSBpbiByKWlmKFwiQGdsb2JhbFwiPT09aS5zdWJzdHIoMCxcIkBnbG9iYWxcIi5sZW5ndGgpKXt2YXIgbz11KGkuc3Vic3RyKFwiQGdsb2JhbFwiLmxlbmd0aCksZS5zZWxlY3Rvcik7dC5zaGVldC5hZGRSdWxlKG8scltpXSxuKHt9LHQse3NlbGVjdG9yOm99KSksZGVsZXRlIHJbaV19fShlKSl9fX07dmFyIG89cig1MCk7ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixpKXtmb3IodmFyIHMgaW4gYSh0aGlzLGUpLHRoaXMudHlwZT1cImdsb2JhbFwiLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPWksdGhpcy5ydWxlcz1uZXcgby5SdWxlTGlzdChuKHt9LGkse3BhcmVudDp0aGlzfSkpLHIpdGhpcy5ydWxlcy5hZGQocyxyW3NdLHtzZWxlY3RvcjpzfSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIGkoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnJ1bGVzLmFkZChlLHQscik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKG4pLG59fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKCl9fV0pLGV9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLGkpe2EodGhpcyxlKSx0aGlzLm5hbWU9dCx0aGlzLm9wdGlvbnM9aTt2YXIgbz10LnN1YnN0cihcIkBnbG9iYWwgXCIubGVuZ3RoKTt0aGlzLnJ1bGU9aS5qc3MuY3JlYXRlUnVsZShvLHIsbih7fSxpLHtwYXJlbnQ6dGhpcyxzZWxlY3RvcjpvfSkpfXJldHVybiBpKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGUudG9TdHJpbmcoZSl9fV0pLGV9KCksYz0vXFxzKixcXHMqL2c7ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1lLnNwbGl0KGMpLG49XCJcIixpPTA7aTxyLmxlbmd0aDtpKyspbis9dCtcIiBcIityW2ldLnRyaW0oKSxyW2krMV0mJihuKz1cIiwgXCIpO3JldHVybiBufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe3ZhciByPW51bGw7Zm9yKHZhciBpIGluIHQpe3ZhciBvPXRbaV0sYT12b2lkIDA9PT1vP1widW5kZWZpbmVkXCI6bihvKTtpZihcImZ1bmN0aW9uXCI9PT1hKXJ8fChyPXt9KSxyW2ldPW87ZWxzZSBpZihcIm9iamVjdFwiPT09YSYmbnVsbCE9PW8mJiFBcnJheS5pc0FycmF5KG8pKXt2YXIgcz1lKG8pO3MmJihyfHwocj17fSkscltpXT1zKX19cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5zaGVldHM9W10sdGhpcy5yZWZzPVtdLHRoaXMua2V5cz1bXX1yZXR1cm4gbihlLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7cmV0dXJuIHRoaXMuc2hlZXRzW3RdfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5zaGVldHMsbj10aGlzLnJlZnMsaT10aGlzLmtleXMsbz1yLmluZGV4T2YodCk7cmV0dXJuLTEhPT1vP286KHIucHVzaCh0KSxuLnB1c2goMCksaS5wdXNoKGUpLHIubGVuZ3RoLTEpfX0se2tleTpcIm1hbmFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMua2V5cy5pbmRleE9mKGUpLHI9dGhpcy5zaGVldHNbdF07cmV0dXJuIDA9PT10aGlzLnJlZnNbdF0mJnIuYXR0YWNoKCksdGhpcy5yZWZzW3RdKyssdGhpcy5rZXlzW3RdfHx0aGlzLmtleXMuc3BsaWNlKHQsMCxlKSxyfX0se2tleTpcInVubWFuYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7LTEhPT10P3RoaXMucmVmc1t0XT4wJiYodGhpcy5yZWZzW3RdLS0sMD09PXRoaXMucmVmc1t0XSYmdGhpcy5zaGVldHNbdF0uZGV0YWNoKCkpOigwLGkuZGVmYXVsdCkoITEsXCJTaGVldHNNYW5hZ2VyOiBjYW4ndCBmaW5kIHNoZWV0IHRvIHVubWFuYWdlXCIpfX0se2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe2lmKG51bGw9PXQpcmV0dXJuIHQ7dmFyIHI9dm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOm4odCk7aWYoXCJzdHJpbmdcIj09PXJ8fFwibnVtYmVyXCI9PT1yfHxcImZ1bmN0aW9uXCI9PT1yKXJldHVybiB0O2lmKG8odCkpcmV0dXJuIHQubWFwKGUpO2lmKCgwLGkuZGVmYXVsdCkodCkpcmV0dXJuIHQ7dmFyIGE9e307Zm9yKHZhciBzIGluIHQpe3ZhciBsPXRbc107XCJvYmplY3RcIiE9PSh2b2lkIDA9PT1sP1widW5kZWZpbmVkXCI6bihsKSk/YVtzXT1sOmFbc109ZShsKX1yZXR1cm4gYX07dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKDUyKSk7dmFyIG89QXJyYXkuaXNBcnJheX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KSxmdW5jdGlvbihlLG4pe3ZhciBpLG89cig2Nyk7aT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PWU/ZTpuO3ZhciBhPU9iamVjdChvLmEpKGkpO3QuZGVmYXVsdD1hfS5jYWxsKHRoaXMscigzMCkscig5NikoZSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighZS53ZWJwYWNrUG9seWZpbGwpe3ZhciB0PU9iamVjdC5jcmVhdGUoZSk7dC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImV4cG9ydHNcIix7ZW51bWVyYWJsZTohMH0pLHQud2VicGFja1BvbHlmaWxsPTF9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuQ1NTO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gZX19KS5jYWxsKHRoaXMscigzMCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPVwiMmYxYWNjNmMzYTYwNmIwODJlNWVlZjVlNTQ0MTRmZmJcIjtudWxsPT1lW3JdJiYoZVtyXT0wKSx0LmRlZmF1bHQ9ZVtyXSsrfSkuY2FsbCh0aGlzLHIoMzApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGE9eShyKDI1KSkscz15KHIoNTUpKSxsPXkocigxMDApKSxjPXkocigxMDEpKSx1PXkocigxMDcpKSxoPXkocigxMDgpKSxkPXkocigzMSkpLHA9eShyKDE4KSksZj15KHIoNTQpKSxtPXkocigyNCkpLGc9eShyKDEwOSkpLF89eShyKDExMCkpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB2PWMuZGVmYXVsdC5jb25jYXQoW3UuZGVmYXVsdCxoLmRlZmF1bHRdKSx4PTAsYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmlkPXgrKyx0aGlzLnZlcnNpb249XCI5LjguN1wiLHRoaXMucGx1Z2lucz1uZXcgbC5kZWZhdWx0LHRoaXMub3B0aW9ucz17Y3JlYXRlR2VuZXJhdGVDbGFzc05hbWU6Zi5kZWZhdWx0LFJlbmRlcmVyOmEuZGVmYXVsdD9nLmRlZmF1bHQ6Xy5kZWZhdWx0LHBsdWdpbnM6W119LHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9KDAsZi5kZWZhdWx0KSgpLHRoaXMudXNlLmFwcGx5KHRoaXMsdiksdGhpcy5zZXR1cCh0KX1yZXR1cm4gbyhlLFt7a2V5Olwic2V0dXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSYmKHRoaXMub3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZT1lLmNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lLHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9ZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSgpKSxudWxsIT1lLmluc2VydGlvblBvaW50JiYodGhpcy5vcHRpb25zLmluc2VydGlvblBvaW50PWUuaW5zZXJ0aW9uUG9pbnQpLChlLnZpcnR1YWx8fGUuUmVuZGVyZXIpJiYodGhpcy5vcHRpb25zLlJlbmRlcmVyPWUuUmVuZGVyZXJ8fChlLnZpcnR1YWw/Xy5kZWZhdWx0OmcuZGVmYXVsdCkpLGUucGx1Z2lucyYmdGhpcy51c2UuYXBwbHkodGhpcyxlLnBsdWdpbnMpLHRoaXN9fSx7a2V5OlwiY3JlYXRlU3R5bGVTaGVldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQuaW5kZXg7XCJudW1iZXJcIiE9dHlwZW9mIHImJihyPTA9PT1kLmRlZmF1bHQuaW5kZXg/MDpkLmRlZmF1bHQuaW5kZXgrMSk7dmFyIG49bmV3IHMuZGVmYXVsdChlLGkoe30sdCx7anNzOnRoaXMsZ2VuZXJhdGVDbGFzc05hbWU6dC5nZW5lcmF0ZUNsYXNzTmFtZXx8dGhpcy5nZW5lcmF0ZUNsYXNzTmFtZSxpbnNlcnRpb25Qb2ludDp0aGlzLm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQsUmVuZGVyZXI6dGhpcy5vcHRpb25zLlJlbmRlcmVyLGluZGV4OnJ9KSk7cmV0dXJuIHRoaXMucGx1Z2lucy5vblByb2Nlc3NTaGVldChuKSxufX0se2tleTpcInJlbW92ZVN0eWxlU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXRhY2goKSxkLmRlZmF1bHQucmVtb3ZlKGUpLHRoaXN9fSx7a2V5OlwiY3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpuKGUpKSYmKHI9dCx0PWUsZT12b2lkIDApO3ZhciBpPXI7aS5qc3M9dGhpcyxpLlJlbmRlcmVyPXRoaXMub3B0aW9ucy5SZW5kZXJlcixpLmdlbmVyYXRlQ2xhc3NOYW1lfHwoaS5nZW5lcmF0ZUNsYXNzTmFtZT10aGlzLmdlbmVyYXRlQ2xhc3NOYW1lKSxpLmNsYXNzZXN8fChpLmNsYXNzZXM9e30pO3ZhciBvPSgwLG0uZGVmYXVsdCkoZSx0LGkpO3JldHVybiFpLnNlbGVjdG9yJiZvIGluc3RhbmNlb2YgcC5kZWZhdWx0JiYoby5zZWxlY3Rvcj1cIi5cIitpLmdlbmVyYXRlQ2xhc3NOYW1lKG8pKSx0aGlzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShvKSxvfX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodCksbj0wO248dDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLm9wdGlvbnMucGx1Z2lucy5pbmRleE9mKHQpJiYoZS5vcHRpb25zLnBsdWdpbnMucHVzaCh0KSxlLnBsdWdpbnMudXNlKHQpKX0pKSx0aGlzfX1dKSxlfSgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5ob29rcz17b25DcmVhdGVSdWxlOltdLG9uUHJvY2Vzc1J1bGU6W10sb25Qcm9jZXNzU3R5bGU6W10sb25Qcm9jZXNzU2hlZXQ6W10sb25DaGFuZ2VWYWx1ZTpbXSxvblVwZGF0ZTpbXX19cmV0dXJuIG4oZSxbe2tleTpcIm9uQ3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49MDtuPHRoaXMuaG9va3Mub25DcmVhdGVSdWxlLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuaG9va3Mub25DcmVhdGVSdWxlW25dKGUsdCxyKTtpZihpKXJldHVybiBpfXJldHVybiBudWxsfX0se2tleTpcIm9uUHJvY2Vzc1J1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5pc1Byb2Nlc3NlZCl7Zm9yKHZhciB0PWUub3B0aW9ucy5zaGVldCxyPTA7cjx0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGUubGVuZ3RoO3IrKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGVbcl0oZSx0KTtlLnN0eWxlJiZ0aGlzLm9uUHJvY2Vzc1N0eWxlKGUuc3R5bGUsZSx0KSxlLmlzUHJvY2Vzc2VkPSEwfX19LHtrZXk6XCJvblByb2Nlc3NTdHlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZSxpPTA7aTx0aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlLmxlbmd0aDtpKyspbj10aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlW2ldKG4sdCxyKSx0LnN0eWxlPW59fSx7a2V5Olwib25Qcm9jZXNzU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuaG9va3Mub25Qcm9jZXNzU2hlZXQubGVuZ3RoO3QrKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1NoZWV0W3RdKGUpfX0se2tleTpcIm9uVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj0wO248dGhpcy5ob29rcy5vblVwZGF0ZS5sZW5ndGg7bisrKXRoaXMuaG9va3Mub25VcGRhdGVbbl0oZSx0LHIpfX0se2tleTpcIm9uQ2hhbmdlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWUsaT0wO2k8dGhpcy5ob29rcy5vbkNoYW5nZVZhbHVlLmxlbmd0aDtpKyspbj10aGlzLmhvb2tzLm9uQ2hhbmdlVmFsdWVbaV0obix0LHIpO3JldHVybiBufX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMuaG9va3NbdF0/dGhpcy5ob29rc1t0XS5wdXNoKGVbdF0pOigwLGkuZGVmYXVsdCkoITEsJ1tKU1NdIFVua25vd24gaG9vayBcIiVzXCIuJyx0KX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWwocigxMDIpKSxpPWwocigxMDMpKSxvPWwocigxMDQpKSxhPWwocigxMDUpKSxzPWwocigxMDYpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz17XCJAY2hhcnNldFwiOm4uZGVmYXVsdCxcIkBpbXBvcnRcIjpuLmRlZmF1bHQsXCJAbmFtZXNwYWNlXCI6bi5kZWZhdWx0LFwiQGtleWZyYW1lc1wiOmkuZGVmYXVsdCxcIkBtZWRpYVwiOm8uZGVmYXVsdCxcIkBzdXBwb3J0c1wiOm8uZGVmYXVsdCxcIkBmb250LWZhY2VcIjphLmRlZmF1bHQsXCJAdmlld3BvcnRcIjpzLmRlZmF1bHQsXCJALW1zLXZpZXdwb3J0XCI6cy5kZWZhdWx0fSx1PU9iamVjdC5rZXlzKGMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFJlZ0V4cChcIl5cIitlKSxyPWNbZV07cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLG4saSl7cmV0dXJuIHQudGVzdChlKT9uZXcgcihlLG4saSk6bnVsbH19fSkpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic2ltcGxlXCIsdGhpcy5pc1Byb2Nlc3NlZD0hMSx0aGlzLmtleT10LHRoaXMudmFsdWU9cix0aGlzLm9wdGlvbnM9bn1yZXR1cm4gbihlLFt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKXtmb3IodmFyIHQ9XCJcIixyPTA7cjx0aGlzLnZhbHVlLmxlbmd0aDtyKyspdCs9dGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZVtyXStcIjtcIix0aGlzLnZhbHVlW3IrMV0mJih0Kz1cIlxcblwiKTtyZXR1cm4gdH1yZXR1cm4gdGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZStcIjtcIn19XSksZX0oKTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsaSl7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJrZXlmcmFtZXNcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPWksdGhpcy5ydWxlcz1uZXcgby5kZWZhdWx0KG4oe30saSx7cGFyZW50OnRoaXN9KSkscil0aGlzLnJ1bGVzLmFkZChhLHJbYV0sbih7fSx0aGlzLm9wdGlvbnMse3BhcmVudDp0aGlzLHNlbGVjdG9yOmF9KSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIGkoZSxbe2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2luZGVudDoxfSx0PXRoaXMucnVsZXMudG9TdHJpbmcoZSk7cmV0dXJuIHQmJih0Kz1cIlxcblwiKSx0aGlzLmtleStcIiB7XFxuXCIrdCtcIn1cIn19XSksZX0oKTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsaSl7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJjb25kaXRpb25hbFwiLHRoaXMuaXNQcm9jZXNzZWQ9ITEsdGhpcy5rZXk9dCx0aGlzLm9wdGlvbnM9aSx0aGlzLnJ1bGVzPW5ldyBvLmRlZmF1bHQobih7fSxpLHtwYXJlbnQ6dGhpc30pKSxyKXRoaXMucnVsZXMuYWRkKGEsclthXSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIGkoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnJ1bGVzLmFkZChlLHQscik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKG4pLG59fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7aW5kZW50OjF9LHQ9dGhpcy5ydWxlcy50b1N0cmluZyhlKTtyZXR1cm4gdD90aGlzLmtleStcIiB7XFxuXCIrdCtcIlxcbn1cIjpcIlwifX1dKSxlfSgpO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyOSkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJmb250LWZhY2VcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1yLHRoaXMub3B0aW9ucz1ufXJldHVybiBuKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5zdHlsZSkpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPHRoaXMuc3R5bGUubGVuZ3RoO3IrKyl0Kz0oMCxpLmRlZmF1bHQpKHRoaXMua2V5LHRoaXMuc3R5bGVbcl0pLHRoaXMuc3R5bGVbcisxXSYmKHQrPVwiXFxuXCIpO3JldHVybiB0fXJldHVybigwLGkuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoMjkpKTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwidmlld3BvcnRcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1yLHRoaXMub3B0aW9ucz1ufXJldHVybiBuKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybigwLGkuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWEocigxOCkpLGk9YShyKDI0KSksbz1hKHIoNTIpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LmRlZmF1bHQ9e29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQscil7aWYoISgwLG8uZGVmYXVsdCkodCkpcmV0dXJuIG51bGw7dmFyIG49dCxhPSgwLGkuZGVmYXVsdCkoZSx7fSxyKTtyZXR1cm4gbi5zdWJzY3JpYmUoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWEucHJvcCh0LGVbdF0pfSkpLGF9LG9uUHJvY2Vzc1J1bGU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIG4uZGVmYXVsdCl7dmFyIHQ9ZSxyPXQuc3R5bGUsaT1mdW5jdGlvbihlKXt2YXIgbj1yW2VdO2lmKCEoMCxvLmRlZmF1bHQpKG4pKXJldHVyblwiY29udGludWVcIjtkZWxldGUgcltlXSxuLnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbihyKXt0LnByb3AoZSxyKX19KX07Zm9yKHZhciBhIGluIHIpaShhKX19fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWEocigyMCkpLGk9YShyKDE4KSksbz1hKHIoMjQpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz1EYXRlLm5vdygpLGw9XCJmblZhbHVlc1wiK3MsYz1cImZuU3R5bGVcIisgKytzO3QuZGVmYXVsdD17b25DcmVhdGVSdWxlOmZ1bmN0aW9uKGUsdCxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBudWxsO3ZhciBuPSgwLG8uZGVmYXVsdCkoZSx7fSxyKTtyZXR1cm4gbltjXT10LG59LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e307Zm9yKHZhciBuIGluIGUpe3ZhciBpPWVbbl07XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGRlbGV0ZSBlW25dLHJbbl09aSl9cmV0dXJuKHQ9dClbbF09cixlfSxvblVwZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHQucnVsZXMgaW5zdGFuY2VvZiBuLmRlZmF1bHQpdC5ydWxlcy51cGRhdGUoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgaS5kZWZhdWx0KXtpZigodD10KVtsXSlmb3IodmFyIHIgaW4gdFtsXSl0LnByb3Aocix0W2xdW3JdKGUpKTt2YXIgbz0odD10KVtjXTtpZihvKXt2YXIgYT1vKGUpO2Zvcih2YXIgcyBpbiBhKXQucHJvcChzLGFbc10pfX19fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksaT1sKHIoMTcpKSxvPWwocigzMSkpLGE9bChyKDE4KSkscz1sKHIoMjMpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR8fCh0PWUoKSksdH19O2Z1bmN0aW9uIHUoZSx0KXt0cnl7cmV0dXJuIGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0KX1jYXRjaChlKXtyZXR1cm5cIlwifX1mdW5jdGlvbiBoKGUsdCxyKXt0cnl7dmFyIG49cjtpZihBcnJheS5pc0FycmF5KHIpJiYobj0oMCxzLmRlZmF1bHQpKHIsITApLFwiIWltcG9ydGFudFwiPT09cltyLmxlbmd0aC0xXSkpcmV0dXJuIGUuc3R5bGUuc2V0UHJvcGVydHkodCxuLFwiaW1wb3J0YW50XCIpLCEwO2Uuc3R5bGUuc2V0UHJvcGVydHkodCxuKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBkKGUsdCl7dHJ5e2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkodCl9Y2F0Y2goZSl7KDAsaS5kZWZhdWx0KSghMSwnW0pTU10gRE9NRXhjZXB0aW9uIFwiJXNcIiB3YXMgdGhyb3duLiBUcmllZCB0byByZW1vdmUgcHJvcGVydHkgXCIlc1wiLicsZS5tZXNzYWdlLHQpfX12YXIgcD0xLGY9NyxtPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIGUuc3Vic3RyKHQsZS5pbmRleE9mKFwie1wiKS0xKX07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PXApcmV0dXJuIHQuc2VsZWN0b3JUZXh0O2lmKHQudHlwZT09PWYpe3ZhciByPXQubmFtZTtpZihyKXJldHVyblwiQGtleWZyYW1lcyBcIityO3ZhciBuPXQuY3NzVGV4dDtyZXR1cm5cIkBcIitlKG4sbi5pbmRleE9mKFwia2V5ZnJhbWVzXCIpKX1yZXR1cm4gZSh0LmNzc1RleHQpfX0oKTtmdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGUuc2VsZWN0b3JUZXh0PXQsZS5zZWxlY3RvclRleHQ9PT10fXZhciBfPWMoKGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXX0pKSx5PWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBuPXt9O2V8fChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSk7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV07aWYobyBpbnN0YW5jZW9mIGEuZGVmYXVsdCl7dmFyIHM9by5zZWxlY3RvcjtpZihzJiYtMSE9PXMuaW5kZXhPZihcIlxcXFxcIikpe3R8fChfKCkuYXBwZW5kQ2hpbGQoZSksdD0hMCksZS50ZXh0Q29udGVudD1zK1wiIHt9XCI7dmFyIGw9ZS5zaGVldDtpZihsKXt2YXIgYz1sLmNzc1J1bGVzO2MmJihuW2NbMF0uc2VsZWN0b3JUZXh0XT1vLmtleSl9fX19cmV0dXJuIHQmJihfKCkucmVtb3ZlQ2hpbGQoZSksdD0hMSksbn19KCk7ZnVuY3Rpb24gdihlKXt2YXIgdD1vLmRlZmF1bHQucmVnaXN0cnk7aWYodC5sZW5ndGg+MCl7dmFyIHI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtpZihuLmF0dGFjaGVkJiZuLm9wdGlvbnMuaW5kZXg+dC5pbmRleCYmbi5vcHRpb25zLmluc2VydGlvblBvaW50PT09dC5pbnNlcnRpb25Qb2ludClyZXR1cm4gbn1yZXR1cm4gbnVsbH0odCxlKTtpZihyKXJldHVybiByLnJlbmRlcmVyLmVsZW1lbnQ7aWYocj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgbj1lW3JdO2lmKG4uYXR0YWNoZWQmJm4ub3B0aW9ucy5pbnNlcnRpb25Qb2ludD09PXQuaW5zZXJ0aW9uUG9pbnQpcmV0dXJuIG59cmV0dXJuIG51bGx9KHQsZSkpcmV0dXJuIHIucmVuZGVyZXIuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmd9dmFyIG49ZS5pbnNlcnRpb25Qb2ludDtpZihuJiZcInN0cmluZ1wiPT10eXBlb2Ygbil7dmFyIGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PV8oKSxyPTA7cjx0LmNoaWxkTm9kZXMubGVuZ3RoO3IrKyl7dmFyIG49dC5jaGlsZE5vZGVzW3JdO2lmKDg9PT1uLm5vZGVUeXBlJiZuLm5vZGVWYWx1ZS50cmltKCk9PT1lKXJldHVybiBufXJldHVybiBudWxsfShuKTtpZihhKXJldHVybiBhLm5leHRTaWJsaW5nOygwLGkuZGVmYXVsdCkoXCJqc3NcIj09PW4sJ1tKU1NdIEluc2VydGlvbiBwb2ludCBcIiVzXCIgbm90IGZvdW5kLicsbil9cmV0dXJuIG51bGx9dmFyIHg9YygoZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7cmV0dXJuIGU/ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpOm51bGx9KSksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmdldFByb3BlcnR5VmFsdWU9dSx0aGlzLnNldFByb3BlcnR5PWgsdGhpcy5yZW1vdmVQcm9wZXJ0eT1kLHRoaXMuc2V0U2VsZWN0b3I9Zyx0aGlzLmdldEtleT1tLHRoaXMuZ2V0VW5lc2NhcGVkS2V5c01hcD15LHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcz0hMSx0JiZvLmRlZmF1bHQuYWRkKHQpLHRoaXMuc2hlZXQ9dDt2YXIgcj10aGlzLnNoZWV0P3RoaXMuc2hlZXQub3B0aW9uczp7fSxuPXIubWVkaWEsaT1yLm1ldGEsYT1yLmVsZW1lbnQ7dGhpcy5lbGVtZW50PWF8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1qc3NcIixcIlwiKSxuJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKSxpJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1tZXRhXCIsaSk7dmFyIHM9eCgpO3MmJnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLHMpfXJldHVybiBuKGUsW3trZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpeyF0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5zaGVldCYmKHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyYmKHRoaXMuZGVwbG95KCksdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSExKSxmdW5jdGlvbihlLHQpe3ZhciByPXQuaW5zZXJ0aW9uUG9pbnQsbj12KHQpO2lmKG4pe3ZhciBvPW4ucGFyZW50Tm9kZTtvJiZvLmluc2VydEJlZm9yZShlLG4pfWVsc2UgaWYociYmXCJudW1iZXJcIj09dHlwZW9mIHIubm9kZVR5cGUpe3ZhciBhPXIscz1hLnBhcmVudE5vZGU7cz9zLmluc2VydEJlZm9yZShlLGEubmV4dFNpYmxpbmcpOigwLGkuZGVmYXVsdCkoITEsXCJbSlNTXSBJbnNlcnRpb24gcG9pbnQgaXMgbm90IGluIHRoZSBET00uXCIpfWVsc2UgXygpLmluc2VydEJlZm9yZShlLG4pfSh0aGlzLmVsZW1lbnQsdGhpcy5zaGVldC5vcHRpb25zKSl9fSx7a2V5OlwiZGV0YWNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpfX0se2tleTpcImRlcGxveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGVldCYmKHRoaXMuZWxlbWVudC50ZXh0Q29udGVudD1cIlxcblwiK3RoaXMuc2hlZXQudG9TdHJpbmcoKStcIlxcblwiKX19LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVsZW1lbnQuc2hlZXQsbj1yLmNzc1J1bGVzLG89ZS50b1N0cmluZygpO2lmKHR8fCh0PW4ubGVuZ3RoKSwhbylyZXR1cm4hMTt0cnl7ci5pbnNlcnRSdWxlKG8sdCl9Y2F0Y2godCl7cmV0dXJuKDAsaS5kZWZhdWx0KSghMSxcIltKU1NdIENhbiBub3QgaW5zZXJ0IGFuIHVuc3VwcG9ydGVkIHJ1bGUgXFxuXFxyJXNcIixlKSwhMX1yZXR1cm4gdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSEwLG5bdF19fSx7a2V5OlwiZGVsZXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudC5zaGVldCxyPXRoaXMuaW5kZXhPZihlKTtyZXR1cm4tMSE9PXImJih0LmRlbGV0ZVJ1bGUociksITApfX0se2tleTpcImluZGV4T2ZcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5lbGVtZW50LnNoZWV0LmNzc1J1bGVzLHI9MDtyPHQubGVuZ3RoO3IrKylpZihlPT09dFtyXSlyZXR1cm4gcjtyZXR1cm4tMX19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5pbmRleE9mKGUpLG49dGhpcy5pbnNlcnRSdWxlKHQscik7cmV0dXJuIHRoaXMuZWxlbWVudC5zaGVldC5kZWxldGVSdWxlKHIpLG59fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuc2hlZXQuY3NzUnVsZXN9fV0pLGV9KCk7dC5kZWZhdWx0PWJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSl9cmV0dXJuIG4oZSxbe2tleTpcInNldFByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJnZXRQcm9wZXJ0eVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0se2tleTpcInJlbW92ZVByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic2V0U2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcImdldEtleVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXBsb3lcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJkZWxldGVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbmRleE9mXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMX19XSksZX0oKTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9O3QuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG49ZS5nZXRSdWxlKHIpO3JldHVybiBuP24uc2VsZWN0b3I6KCgwLGkuZGVmYXVsdCkoITEsXCJbSlNTXSBDb3VsZCBub3QgZmluZCB0aGUgcmVmZXJlbmNlZCBydWxlICVzIGluICVzLlwiLHIsZS5vcHRpb25zLm1ldGF8fGUpLHIpfX12YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIiZcIil9O2Z1bmN0aW9uIHIoZSxyKXtmb3IodmFyIG49ci5zcGxpdChvKSxpPWUuc3BsaXQobykscz1cIlwiLGw9MDtsPG4ubGVuZ3RoO2wrKylmb3IodmFyIGM9bltsXSx1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBoPWlbdV07cyYmKHMrPVwiLCBcIikscys9dChoKT9oLnJlcGxhY2UoYSxjKTpjK1wiIFwiK2h9cmV0dXJuIHN9ZnVuY3Rpb24gbChlLHQscil7aWYocilyZXR1cm4gbih7fSxyLHtpbmRleDpyLmluZGV4KzF9KTt2YXIgaT1lLm9wdGlvbnMubmVzdGluZ0xldmVsO3JldHVybiBpPXZvaWQgMD09PWk/MTppKzEsbih7fSxlLm9wdGlvbnMse25lc3RpbmdMZXZlbDppLGluZGV4OnQuaW5kZXhPZihlKSsxfSl9cmV0dXJue29uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGksbyl7aWYoXCJzdHlsZVwiIT09by50eXBlKXJldHVybiBpO3ZhciBhPW8ub3B0aW9ucy5wYXJlbnQsYz12b2lkIDAsdT12b2lkIDA7Zm9yKHZhciBoIGluIGkpe3ZhciBkPXQoaCkscD1cIkBcIj09PWhbMF07aWYoZHx8cCl7aWYoYz1sKG8sYSxjKSxkKXt2YXIgZj1yKGgsby5zZWxlY3Rvcik7dXx8KHU9ZShhKSksZj1mLnJlcGxhY2Uocyx1KSxhLmFkZFJ1bGUoZixpW2hdLG4oe30sYyx7c2VsZWN0b3I6Zn0pKX1lbHNlIHAmJmEuYWRkUnVsZShoLG51bGwsYykuYWRkUnVsZShvLmtleSxpW2hdLHtzZWxlY3RvcjpvLnNlbGVjdG9yfSk7ZGVsZXRlIGlbaF19fXJldHVybiBpfX19O3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxMTIpKTt2YXIgbz0vXFxzKixcXHMqL2csYT0vJi9nLHM9L1xcJChbXFx3LV0rKS9nfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPWkoZVt0XSk7cmV0dXJuIGV9cmV0dXJuIGkoZSl9LG9uQ2hhbmdlVmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPSgwLG4uZGVmYXVsdCkodCk7cmV0dXJuIHQ9PT1pP2U6KHIucHJvcChpLGUpLG51bGwpfX19O3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxMTQpKTtmdW5jdGlvbiBpKGUpe3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKXRbKDAsbi5kZWZhdWx0KShyKV09ZVtyXTtyZXR1cm4gZS5mYWxsYmFja3MmJihBcnJheS5pc0FycmF5KGUuZmFsbGJhY2tzKT90LmZhbGxiYWNrcz1lLmZhbGxiYWNrcy5tYXAoaSk6dC5mYWxsYmFja3M9aShlLmZhbGxiYWNrcykpLHR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5yKHQpO3ZhciBuPS9bQS1aXS9nLGk9L15tcy0vLG89e307ZnVuY3Rpb24gYShlKXtyZXR1cm5cIi1cIitlLnRvTG93ZXJDYXNlKCl9dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2lmKG8uaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIG9bZV07dmFyIHQ9ZS5yZXBsYWNlKG4sYSk7cmV0dXJuIG9bZV09aS50ZXN0KHQpP1wiLVwiK3Q6dH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtmdW5jdGlvbiBpKGUpe3ZhciB0PS8oLVthLXpdKS9nLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX0sbj17fTtmb3IodmFyIGkgaW4gZSluW2ldPWVbaV0sbltpLnJlcGxhY2UodCxyKV09ZVtpXTtyZXR1cm4gbn10LmRlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1pKGUpO2Z1bmN0aW9uIHIoZSxyKXtpZihcInN0eWxlXCIhPT1yLnR5cGUpcmV0dXJuIGU7Zm9yKHZhciBuIGluIGUpZVtuXT1hKG4sZVtuXSx0KTtyZXR1cm4gZX1mdW5jdGlvbiBuKGUscil7cmV0dXJuIGEocixlLHQpfXJldHVybntvblByb2Nlc3NTdHlsZTpyLG9uQ2hhbmdlVmFsdWU6bn19O3ZhciBvPWkoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKDExNikpLmRlZmF1bHQpO2Z1bmN0aW9uIGEoZSx0LHIpe2lmKCF0KXJldHVybiB0O3ZhciBpPXQscz12b2lkIDA9PT10P1widW5kZWZpbmVkXCI6bih0KTtzd2l0Y2goXCJvYmplY3RcIj09PXMmJkFycmF5LmlzQXJyYXkodCkmJihzPVwiYXJyYXlcIikscyl7Y2FzZVwib2JqZWN0XCI6aWYoXCJmYWxsYmFja3NcIj09PWUpe2Zvcih2YXIgbCBpbiB0KXRbbF09YShsLHRbbF0scik7YnJlYWt9Zm9yKHZhciBjIGluIHQpdFtjXT1hKGUrXCItXCIrYyx0W2NdLHIpO2JyZWFrO2Nhc2VcImFycmF5XCI6Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspdFt1XT1hKGUsdFt1XSxyKTticmVhaztjYXNlXCJudW1iZXJcIjowIT09dCYmKGk9dCsocltlXXx8b1tlXXx8XCJcIikpfXJldHVybiBpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD17XCJhbmltYXRpb24tZGVsYXlcIjpcIm1zXCIsXCJhbmltYXRpb24tZHVyYXRpb25cIjpcIm1zXCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCI6XCJweFwiLFwiYmFja2dyb3VuZC1zaXplXCI6XCJweFwiLGJvcmRlcjpcInB4XCIsXCJib3JkZXItYm90dG9tXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiOlwicHhcIixcImJvcmRlci1sZWZ0XCI6XCJweFwiLFwiYm9yZGVyLWxlZnQtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0XCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLXNwYWNpbmdcIjpcInB4XCIsXCJib3JkZXItdG9wXCI6XCJweFwiLFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXRvcC13aWR0aFwiOlwicHhcIixcImJvcmRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1hZnRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1iZWZvcmUtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItZW5kLXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLWhvcml6b250YWwtc3BhY2luZ1wiOlwicHhcIixcImJvcmRlci1zdGFydC13aWR0aFwiOlwicHhcIixcImJvcmRlci12ZXJ0aWNhbC1zcGFjaW5nXCI6XCJweFwiLGJvdHRvbTpcInB4XCIsXCJib3gtc2hhZG93XCI6XCJweFwiLFwiY29sdW1uLWdhcFwiOlwicHhcIixcImNvbHVtbi1ydWxlXCI6XCJweFwiLFwiY29sdW1uLXJ1bGUtd2lkdGhcIjpcInB4XCIsXCJjb2x1bW4td2lkdGhcIjpcInB4XCIsXCJmbGV4LWJhc2lzXCI6XCJweFwiLFwiZm9udC1zaXplXCI6XCJweFwiLFwiZm9udC1zaXplLWRlbHRhXCI6XCJweFwiLGhlaWdodDpcInB4XCIsbGVmdDpcInB4XCIsXCJsZXR0ZXItc3BhY2luZ1wiOlwicHhcIixcImxvZ2ljYWwtaGVpZ2h0XCI6XCJweFwiLFwibG9naWNhbC13aWR0aFwiOlwicHhcIixtYXJnaW46XCJweFwiLFwibWFyZ2luLWFmdGVyXCI6XCJweFwiLFwibWFyZ2luLWJlZm9yZVwiOlwicHhcIixcIm1hcmdpbi1ib3R0b21cIjpcInB4XCIsXCJtYXJnaW4tbGVmdFwiOlwicHhcIixcIm1hcmdpbi1yaWdodFwiOlwicHhcIixcIm1hcmdpbi10b3BcIjpcInB4XCIsXCJtYXgtaGVpZ2h0XCI6XCJweFwiLFwibWF4LXdpZHRoXCI6XCJweFwiLFwibWFyZ2luLWVuZFwiOlwicHhcIixcIm1hcmdpbi1zdGFydFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teVwiOlwicHhcIixcIm1hc2stc2l6ZVwiOlwicHhcIixcIm1heC1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1heC1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLFwibWluLWhlaWdodFwiOlwicHhcIixcIm1pbi13aWR0aFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLG1vdGlvbjpcInB4XCIsXCJtb3Rpb24tb2Zmc2V0XCI6XCJweFwiLG91dGxpbmU6XCJweFwiLFwib3V0bGluZS1vZmZzZXRcIjpcInB4XCIsXCJvdXRsaW5lLXdpZHRoXCI6XCJweFwiLHBhZGRpbmc6XCJweFwiLFwicGFkZGluZy1ib3R0b21cIjpcInB4XCIsXCJwYWRkaW5nLWxlZnRcIjpcInB4XCIsXCJwYWRkaW5nLXJpZ2h0XCI6XCJweFwiLFwicGFkZGluZy10b3BcIjpcInB4XCIsXCJwYWRkaW5nLWFmdGVyXCI6XCJweFwiLFwicGFkZGluZy1iZWZvcmVcIjpcInB4XCIsXCJwYWRkaW5nLWVuZFwiOlwicHhcIixcInBhZGRpbmctc3RhcnRcIjpcInB4XCIsXCJwZXJzcGVjdGl2ZS1vcmlnaW4teFwiOlwiJVwiLFwicGVyc3BlY3RpdmUtb3JpZ2luLXlcIjpcIiVcIixwZXJzcGVjdGl2ZTpcInB4XCIscmlnaHQ6XCJweFwiLFwic2hhcGUtbWFyZ2luXCI6XCJweFwiLHNpemU6XCJweFwiLFwidGV4dC1pbmRlbnRcIjpcInB4XCIsXCJ0ZXh0LXN0cm9rZVwiOlwicHhcIixcInRleHQtc3Ryb2tlLXdpZHRoXCI6XCJweFwiLHRvcDpcInB4XCIsXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6XCIlXCIsXCJ0cmFuc2Zvcm0tb3JpZ2luLXhcIjpcIiVcIixcInRyYW5zZm9ybS1vcmlnaW4teVwiOlwiJVwiLFwidHJhbnNmb3JtLW9yaWdpbi16XCI6XCIlXCIsXCJ0cmFuc2l0aW9uLWRlbGF5XCI6XCJtc1wiLFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOlwibXNcIixcInZlcnRpY2FsLWFsaWduXCI6XCJweFwiLHdpZHRoOlwicHhcIixcIndvcmQtc3BhY2luZ1wiOlwicHhcIixcImJveC1zaGFkb3cteFwiOlwicHhcIixcImJveC1zaGFkb3cteVwiOlwicHhcIixcImJveC1zaGFkb3ctYmx1clwiOlwicHhcIixcImJveC1zaGFkb3ctc3ByZWFkXCI6XCJweFwiLFwiZm9udC1saW5lLWhlaWdodFwiOlwicHhcIixcInRleHQtc2hhZG93LXhcIjpcInB4XCIsXCJ0ZXh0LXNoYWRvdy15XCI6XCJweFwiLFwidGV4dC1zaGFkb3ctYmx1clwiOlwicHhcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57b25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcImtleWZyYW1lc1wiPT09ZS50eXBlJiYoZS5rZXk9XCJAXCIrbi5wcmVmaXguY3NzK2Uua2V5LnN1YnN0cigxKSl9LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7aWYoXCJzdHlsZVwiIT09dC50eXBlKXJldHVybiBlO2Zvcih2YXIgciBpbiBlKXt2YXIgaT1lW3JdLG89ITEsYT1uLnN1cHBvcnRlZFByb3BlcnR5KHIpO2EmJmEhPT1yJiYobz0hMCk7dmFyIHM9ITEsbD1uLnN1cHBvcnRlZFZhbHVlKGEsaSk7bCYmbCE9PWkmJihzPSEwKSwob3x8cykmJihvJiZkZWxldGUgZVtyXSxlW2F8fHJdPWx8fGkpfXJldHVybiBlfSxvbkNoYW5nZVZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uc3VwcG9ydGVkVmFsdWUodCxlKX19fTt2YXIgbj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoMTE4KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnN1cHBvcnRlZFZhbHVlPXQuc3VwcG9ydGVkUHJvcGVydHk9dC5wcmVmaXg9dm9pZCAwO3ZhciBuPWEocigzMikpLGk9YShyKDExOSkpLG89YShyKDEyMSkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD17cHJlZml4Om4uZGVmYXVsdCxzdXBwb3J0ZWRQcm9wZXJ0eTppLmRlZmF1bHQsc3VwcG9ydGVkVmFsdWU6by5kZWZhdWx0fSx0LnByZWZpeD1uLmRlZmF1bHQsdC5zdXBwb3J0ZWRQcm9wZXJ0eT1pLmRlZmF1bHQsdC5zdXBwb3J0ZWRWYWx1ZT1vLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoIXMpcmV0dXJuIGU7aWYobnVsbCE9bFtlXSlyZXR1cm4gbFtlXTsoMCxvLmRlZmF1bHQpKGUpaW4gcy5zdHlsZT9sW2VdPWU6aS5kZWZhdWx0LmpzKygwLG8uZGVmYXVsdCkoXCItXCIrZSlpbiBzLnN0eWxlP2xbZV09aS5kZWZhdWx0LmNzcytlOmxbZV09ITE7cmV0dXJuIGxbZV19O3ZhciBuPWEocigyNSkpLGk9YShyKDMyKSksbz1hKHIoMTIwKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9dm9pZCAwLGw9e307aWYobi5kZWZhdWx0KXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3ZhciBjPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIlwiKTtmb3IodmFyIHUgaW4gYylpc05hTih1KXx8KGxbY1t1XV09Y1t1XSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UobixpKX07dmFyIG49L1stXFxzXSsoLik/L2c7ZnVuY3Rpb24gaShlLHQpe3JldHVybiB0P3QudG9VcHBlckNhc2UoKTpcIlwifX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFzKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHwhaXNOYU4ocGFyc2VJbnQodCwxMCkpKXJldHVybiB0O3ZhciByPWUrdDtpZihudWxsIT1hW3JdKXJldHVybiBhW3JdO3RyeXtzLnN0eWxlW2VdPXR9Y2F0Y2goZSl7cmV0dXJuIGFbcl09ITEsITF9XCJcIiE9PXMuc3R5bGVbZV0/YVtyXT10OihcIi1tcy1mbGV4XCI9PT0odD1pLmRlZmF1bHQuY3NzK3QpJiYodD1cIi1tcy1mbGV4Ym94XCIpLHMuc3R5bGVbZV09dCxcIlwiIT09cy5zdHlsZVtlXSYmKGFbcl09dCkpO2Fbcl18fChhW3JdPSExKTtyZXR1cm4gcy5zdHlsZVtlXT1cIlwiLGFbcl19O3ZhciBuPW8ocigyNSkpLGk9byhyKDMyKSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9e30scz12b2lkIDA7bi5kZWZhdWx0JiYocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIGUubGVuZ3RoLXQubGVuZ3RofXJldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbih0LHIpe2lmKFwic3R5bGVcIiE9PXIudHlwZSlyZXR1cm4gdDt2YXIgbj17fSxpPU9iamVjdC5rZXlzKHQpLnNvcnQoZSk7Zm9yKHZhciBvIGluIGkpbltpW29dXT10W2lbb11dO3JldHVybiBufX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxMjQpLGk9cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5NdWlUaGVtZVByb3ZpZGVyT2xkPXZvaWQgMDt2YXIgbz1pKHIoMikpLGE9aShyKDUpKSxzPWkocigxMCkpLGw9aShyKDExKSksYz1pKHIoMTIpKSx1PWkocigxMykpLGg9aShyKDE0KSksZD1pKHIoMSkpLHA9aShyKDMpKSxmPShpKHIoNikpLGkocigxMjcpKSksbT1yKDcpLGc9bihyKDM0KSksXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7dmFyIG47cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLHQpLChuPSgwLGMuZGVmYXVsdCkodGhpcywoMCx1LmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5icm9hZGNhc3Q9KDAsZi5kZWZhdWx0KSgpLG4ub3V0ZXJUaGVtZT1nLmRlZmF1bHQuaW5pdGlhbChyKSxuLmJyb2FkY2FzdC5zZXRTdGF0ZShuLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKGUudGhlbWUpKSxufXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJnZXRDaGlsZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5wcm9wcyxyPXQuZGlzYWJsZVN0eWxlc0dlbmVyYXRpb24sbj10LnNoZWV0c0NhY2hlLGk9dC5zaGVldHNNYW5hZ2VyLG89dGhpcy5jb250ZXh0Lm11aVRoZW1lUHJvdmlkZXJPcHRpb25zfHx7fTtyZXR1cm4gdm9pZCAwIT09ciYmKG8uZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249ciksdm9pZCAwIT09biYmKG8uc2hlZXRzQ2FjaGU9biksdm9pZCAwIT09aSYmKG8uc2hlZXRzTWFuYWdlcj1pKSxlPXt9LCgwLGEuZGVmYXVsdCkoZSxnLkNIQU5ORUwsdGhpcy5icm9hZGNhc3QpLCgwLGEuZGVmYXVsdCkoZSxcIm11aVRoZW1lUHJvdmlkZXJPcHRpb25zXCIsbyksZX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uub3V0ZXJUaGVtZT10LGUuYnJvYWRjYXN0LnNldFN0YXRlKGUubWVyZ2VPdXRlckxvY2FsVGhlbWUoZS5wcm9wcy50aGVtZSkpfSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJvcHMudGhlbWUhPT1lLnRoZW1lJiZ0aGlzLmJyb2FkY2FzdC5zZXRTdGF0ZSh0aGlzLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKHRoaXMucHJvcHMudGhlbWUpKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcIm1lcmdlT3V0ZXJMb2NhbFRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHRoaXMub3V0ZXJUaGVtZSk6dGhpcy5vdXRlclRoZW1lPygwLG8uZGVmYXVsdCkoe30sdGhpcy5vdXRlclRoZW1lLGUpOmV9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbn19XSksdH0oZC5kZWZhdWx0LkNvbXBvbmVudCk7dC5NdWlUaGVtZVByb3ZpZGVyT2xkPV8sXy5jaGlsZENvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSxfLmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSxtLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19ffHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXz17fSksbS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyfHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyPV8pO3ZhciB5PW0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18uTXVpVGhlbWVQcm92aWRlcjt0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTUpLmRlZmF1bHQ7ZnVuY3Rpb24gaShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXA7cmV0dXJuKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/cjp0fSkoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PW4oZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHI9aSh0KTtpZihyJiZyLmhhcyhlKSlyZXR1cm4gci5nZXQoZSk7dmFyIG89e30sYT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBzIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1zJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7dmFyIGw9YT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscyk6bnVsbDtsJiYobC5nZXR8fGwuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxzLGwpOm9bc109ZVtzXX1yZXR1cm4gby5kZWZhdWx0PWUsciYmci5zZXQoZSxvKSxvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDEyNik7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBvKCl7fW8ucmVzZXRXYXJuaW5nQ2FjaGU9aSxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbyxhKXtpZihhIT09bil7dmFyIHM9bmV3IEVycm9yKFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKTt0aHJvdyBzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCIsc319ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciByPXthcnJheTplLGJpZ2ludDplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxlbGVtZW50VHlwZTplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dCxjaGVja1Byb3BUeXBlczpvLHJlc2V0V2FybmluZ0NhY2hlOml9O3JldHVybiByLlByb3BUeXBlcz1yLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj0xLG49ZTtyZXR1cm57Z2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7bj1lO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxpPTAsbz1yLmxlbmd0aDtpPG87aSsrKXRbcltpXV0mJnRbcltpXV0oZSl9LHN1YnNjcmliZTpmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIG49cjtyZXR1cm4gdFtuXT1lLHIrPTEsbn0sdW5zdWJzY3JpYmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19fX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17anNzOlwiNjRhNTVkNTc4Zjg1NmQyNThkYzM0NWIwOTRhMmEyYjNcIixzaGVldHNSZWdpc3RyeTpcImQ0YmQwYmFhY2JjNTJiYmQ0OGJiYjllYjI0MzQ0ZWNkXCIsc2hlZXRPcHRpb25zOlwiNmZjNTcwZDZiZDYxMzgzODE5ZDBmOWU3NDA3YzQ1MmRcIn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDIpKTtuKHIoNikpLHIoNyk7dmFyIG89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJhc2VDbGFzc2VzLHI9ZS5uZXdDbGFzc2VzO2lmKGUuQ29tcG9uZW50LCFyKXJldHVybiB0O3ZhciBuPSgwLGkuZGVmYXVsdCkoe30sdCk7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZV0mJihuW2VdPVwiXCIuY29uY2F0KHRbZV0sXCIgXCIpLmNvbmNhdChyW2VdKSl9KSksbn07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXtzZXQ6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9ZS5nZXQodCk7aXx8KGk9bmV3IE1hcCxlLnNldCh0LGkpKSxpLnNldChyLG4pfSxnZXQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuZ2V0KHQpO3JldHVybiBuP24uZ2V0KHIpOnZvaWQgMH0sZGVsZXRlOmZ1bmN0aW9uKGUsdCxyKXtlLmdldCh0KS5kZWxldGUocil9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMikpLG89KG4ocigxNSkpLG4ocig2KSksbihyKDIyKSkpO2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gdH12YXIgcz1mdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO3JldHVybntjcmVhdGU6ZnVuY3Rpb24ocixuKXt2YXIgcz10P2Uocik6ZTtpZighbnx8IXIub3ZlcnJpZGVzfHwhci5vdmVycmlkZXNbbl0pcmV0dXJuIHM7dmFyIGw9ci5vdmVycmlkZXNbbl0sYz0oMCxpLmRlZmF1bHQpKHt9LHMpO3JldHVybiBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKChmdW5jdGlvbihlKXtjW2VdPSgwLG8uZGVmYXVsdCkoY1tlXSxsW2VdLHthcnJheU1lcmdlOmF9KX0pKSxjfSxvcHRpb25zOnt9LHRoZW1pbmdFbmFibGVkOnR9fTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aGVtZSxyPWUubmFtZSxuPWUucHJvcHM7aWYoIXQucHJvcHN8fCFyfHwhdC5wcm9wc1tyXSlyZXR1cm4gbjt2YXIgaSxvPXQucHJvcHNbcl07Zm9yKGkgaW4gbyl2b2lkIDA9PT1uW2ldJiYobltpXT1vW2ldKTtyZXR1cm4gbn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGksbz1uKHIoMikpLGE9bihyKDQpKSxzPW4ocigxMCkpLGw9bihyKDExKSksYz1uKHIoMTIpKSx1PW4ocigxMykpLGg9bihyKDE0KSksZD1uKHIoMSkpLHA9KG4ocigzKSksbihyKDM1KSkpLGY9cig3KSxtPW4ocigyOCkpLGc9bihyKDM0KSk7ZnVuY3Rpb24gXygpe3JldHVybiBpfHwoaT0oMCxtLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSkpfWYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX198fChmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fPXt9KSxmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fLndpdGhUaGVtZXx8KGYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSx0KXt2YXIgbjtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsciksKG49KDAsYy5kZWZhdWx0KSh0aGlzLCgwLHUuZGVmYXVsdCkocikuY2FsbCh0aGlzKSkpLnN0YXRlPXt0aGVtZTpnLmRlZmF1bHQuaW5pdGlhbCh0KXx8XygpfSxufXJldHVybigwLGguZGVmYXVsdCkocix0KSwoMCxsLmRlZmF1bHQpKHIsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uuc2V0U3RhdGUoe3RoZW1lOnR9KX0pKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxyPXQuaW5uZXJSZWYsbj0oMCxhLmRlZmF1bHQpKHQsW1wiaW5uZXJSZWZcIl0pO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChlLCgwLG8uZGVmYXVsdCkoe3RoZW1lOnRoaXMuc3RhdGUudGhlbWUscmVmOnJ9LG4pKX19XSkscn0oZC5kZWZhdWx0LkNvbXBvbmVudCk7cmV0dXJuIHQuY29udGV4dFR5cGVzPWcuZGVmYXVsdC5jb250ZXh0VHlwZXMsKDAscC5kZWZhdWx0KSh0LGUpLHR9fSk7dmFyIHk9Zi5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy53aXRoVGhlbWU7dC5kZWZhdWx0PXl9LCwsZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz0ocig3KSxuKHIoOSkpKSx1PXIoMTYpLGg9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJibG9ja1wiLG1hcmdpbjowfSxkaXNwbGF5NDplLnR5cG9ncmFwaHkuZGlzcGxheTQsZGlzcGxheTM6ZS50eXBvZ3JhcGh5LmRpc3BsYXkzLGRpc3BsYXkyOmUudHlwb2dyYXBoeS5kaXNwbGF5MixkaXNwbGF5MTplLnR5cG9ncmFwaHkuZGlzcGxheTEsaGVhZGxpbmU6ZS50eXBvZ3JhcGh5LmhlYWRsaW5lLHRpdGxlOmUudHlwb2dyYXBoeS50aXRsZSxzdWJoZWFkaW5nOmUudHlwb2dyYXBoeS5zdWJoZWFkaW5nLGJvZHkyOmUudHlwb2dyYXBoeS5ib2R5Mixib2R5MTplLnR5cG9ncmFwaHkuYm9keTEsY2FwdGlvbjplLnR5cG9ncmFwaHkuY2FwdGlvbixidXR0b246ZS50eXBvZ3JhcGh5LmJ1dHRvbixoMTplLnR5cG9ncmFwaHkuaDEsaDI6ZS50eXBvZ3JhcGh5LmgyLGgzOmUudHlwb2dyYXBoeS5oMyxoNDplLnR5cG9ncmFwaHkuaDQsaDU6ZS50eXBvZ3JhcGh5Lmg1LGg2OmUudHlwb2dyYXBoeS5oNixzdWJ0aXRsZTE6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMSxzdWJ0aXRsZTI6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMixvdmVybGluZTplLnR5cG9ncmFwaHkub3ZlcmxpbmUsc3JPbmx5Ontwb3NpdGlvbjpcImFic29sdXRlXCIsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSxhbGlnbkxlZnQ6e3RleHRBbGlnbjpcImxlZnRcIn0sYWxpZ25DZW50ZXI6e3RleHRBbGlnbjpcImNlbnRlclwifSxhbGlnblJpZ2h0Ont0ZXh0QWxpZ246XCJyaWdodFwifSxhbGlnbkp1c3RpZnk6e3RleHRBbGlnbjpcImp1c3RpZnlcIn0sbm9XcmFwOntvdmVyZmxvdzpcImhpZGRlblwiLHRleHRPdmVyZmxvdzpcImVsbGlwc2lzXCIsd2hpdGVTcGFjZTpcIm5vd3JhcFwifSxndXR0ZXJCb3R0b206e21hcmdpbkJvdHRvbTpcIjAuMzVlbVwifSxwYXJhZ3JhcGg6e21hcmdpbkJvdHRvbToxNn0sY29sb3JJbmhlcml0Ontjb2xvcjpcImluaGVyaXRcIn0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxjb2xvclNlY29uZGFyeTp7Y29sb3I6ZS5wYWxldHRlLnNlY29uZGFyeS5tYWlufSxjb2xvclRleHRQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUudGV4dC5wcmltYXJ5fSxjb2xvclRleHRTZWNvbmRhcnk6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeX0sY29sb3JFcnJvcjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59LGlubGluZTp7ZGlzcGxheTpcImlubGluZVwifX19O3Quc3R5bGVzPWg7dmFyIGQ9e2Rpc3BsYXk0OlwiaDFcIixkaXNwbGF5MzpcImgyXCIsZGlzcGxheTI6XCJoM1wiLGRpc3BsYXkxOlwiaDRcIixoZWFkbGluZTpcImg1XCIsdGl0bGU6XCJoNlwiLHN1YmhlYWRpbmc6XCJzdWJ0aXRsZTFcIn07dmFyIHA9e2gxOlwiaDFcIixoMjpcImgyXCIsaDM6XCJoM1wiLGg0OlwiaDRcIixoNTpcImg1XCIsaDY6XCJoNlwiLHN1YnRpdGxlMTpcImg2XCIsc3VidGl0bGUyOlwiaDZcIixib2R5MTpcInBcIixib2R5MjpcInBcIixkaXNwbGF5NDpcImgxXCIsZGlzcGxheTM6XCJoMVwiLGRpc3BsYXkyOlwiaDFcIixkaXNwbGF5MTpcImgxXCIsaGVhZGxpbmU6XCJoMVwiLHRpdGxlOlwiaDJcIixzdWJoZWFkaW5nOlwiaDNcIn07ZnVuY3Rpb24gZihlKXt2YXIgdCxyPWUuYWxpZ24sbj1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSxoPWUuY29sb3IsZj1lLmNvbXBvbmVudCxtPWUuZ3V0dGVyQm90dG9tLGc9ZS5oZWFkbGluZU1hcHBpbmcsXz1lLmlubGluZSx5PShlLmludGVybmFsRGVwcmVjYXRlZFZhcmlhbnQsZS5ub1dyYXApLHY9ZS5wYXJhZ3JhcGgseD1lLnRoZW1lLGI9ZS52YXJpYW50LHc9KDAsYS5kZWZhdWx0KShlLFtcImFsaWduXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJjb21wb25lbnRcIixcImd1dHRlckJvdHRvbVwiLFwiaGVhZGxpbmVNYXBwaW5nXCIsXCJpbmxpbmVcIixcImludGVybmFsRGVwcmVjYXRlZFZhcmlhbnRcIixcIm5vV3JhcFwiLFwicGFyYWdyYXBoXCIsXCJ0aGVtZVwiLFwidmFyaWFudFwiXSksVD1mdW5jdGlvbihlLHQpe3ZhciByPWUudHlwb2dyYXBoeSxuPXQ7cmV0dXJuIG58fChuPXIudXNlTmV4dFZhcmlhbnRzP1wiYm9keTJcIjpcImJvZHkxXCIpLHIudXNlTmV4dFZhcmlhbnRzJiYobj1kW25dfHxuKSxufSh4LGIpLEU9KDAsbC5kZWZhdWx0KShuLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LG5bVF0sXCJpbmhlcml0XCIhPT1UKSwoMCxvLmRlZmF1bHQpKHQsbltcImNvbG9yXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkoaCkpXSxcImRlZmF1bHRcIiE9PWgpLCgwLG8uZGVmYXVsdCkodCxuLm5vV3JhcCx5KSwoMCxvLmRlZmF1bHQpKHQsbi5ndXR0ZXJCb3R0b20sbSksKDAsby5kZWZhdWx0KSh0LG4ucGFyYWdyYXBoLHYpLCgwLG8uZGVmYXVsdCkodCxuW1wiYWxpZ25cIi5jb25jYXQoKDAsdS5jYXBpdGFsaXplKShyKSldLFwiaW5oZXJpdFwiIT09ciksKDAsby5kZWZhdWx0KSh0LG4uaW5saW5lLF8pLHQpLGMpLFM9Znx8KHY/XCJwXCI6Z1tUXXx8cFtUXSl8fFwic3BhblwiO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChTLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTpFfSx3KSl9Zi5kZWZhdWx0UHJvcHM9e2FsaWduOlwiaW5oZXJpdFwiLGNvbG9yOlwiZGVmYXVsdFwiLGd1dHRlckJvdHRvbTohMSxoZWFkbGluZU1hcHBpbmc6cCxpbmxpbmU6ITEsbm9XcmFwOiExLHBhcmFncmFwaDohMX07dmFyIG09KDAsYy5kZWZhdWx0KShoLHtuYW1lOlwiTXVpVHlwb2dyYXBoeVwiLHdpdGhUaGVtZTohMH0pKGYpO3QuZGVmYXVsdD1tfSwsLCxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihyLG4pe2UuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHIsbjtmdW5jdGlvbiBpKHQsaSl7aWYoZSlpZihyKXt2YXIgbz1cInNlbGYub25lcnJvciA9IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwYXJzaW5nIHRoZSBXZWJXb3JrZXIgYnVuZGxlLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBpbXByb3BlciB0cmFuc3BpbGF0aW9uIGJ5IEJhYmVsOyBwbGVhc2Ugc2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9ndWlkZXMvaW5zdGFsbC8jdHJhbnNwaWxpbmcnKTsgfTsgdmFyIHNoYXJlZENodW5rID0ge307IChcIitlK1wiKShzaGFyZWRDaHVuayk7IChcIityK1wiKShzaGFyZWRDaHVuayk7IHNlbGYub25lcnJvciA9IG51bGw7XCIsYT17fTtlKGEpLG49aShhKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJndpbmRvdy5VUkwmJndpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMJiYobi53b3JrZXJVcmw9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW29dLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSkpfWVsc2Ugcj1pO2Vsc2UgZT1pfXJldHVybiBpKFtcImV4cG9ydHNcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30sbj1cIjIuMTEuMVwiO2xldCBpO2NvbnN0IG89e0FQSV9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tXCIsZ2V0IEFQSV9VUkxfUkVHRVgoKXtpZihudWxsPT1pKXtjb25zdCBlPS9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3xcXD98JCkvaTt0cnl7aT1udWxsIT10LmVudi5BUElfVVJMX1JFR0VYP25ldyBSZWdFeHAodC5lbnYuQVBJX1VSTF9SRUdFWCk6ZX1jYXRjaCh0KXtpPWV9fXJldHVybiBpfSxnZXQgQVBJX1RJTEVKU09OX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvdlswLTldKlxcLy4qXFwuanNvbi4qJCkvaX0sZ2V0IEFQSV9TUFJJVEVfUkVHRVgoKXtyZXR1cm4vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKlxcL3Nwcml0ZS4qXFwuLiokKS9pfSxnZXQgQVBJX0ZPTlRTX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvZm9udHNcXC92WzAtOV0qXFwvKSguKlxcLnBiZi4qJCkvaX0sZ2V0IEFQSV9TVFlMRV9SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3N0eWxlc1xcL3ZbMC05XSpcXC8pKC4qJCkvaX0sZ2V0IEVWRU5UU19VUkwoKXtyZXR1cm4gdGhpcy5BUElfVVJMPzA9PT10aGlzLkFQSV9VUkwuaW5kZXhPZihcImh0dHBzOi8vYXBpLm1hcGJveC5jblwiKT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jbi9ldmVudHMvdjJcIjowPT09dGhpcy5BUElfVVJMLmluZGV4T2YoXCJodHRwczovL2FwaS5tYXBib3guY29tXCIpP1wiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNvbS9ldmVudHMvdjJcIjpudWxsOm51bGx9LFNFU1NJT05fUEFUSDpcIi9tYXAtc2Vzc2lvbnMvdjFcIixGRUVEQkFDS19VUkw6XCJodHRwczovL2FwcHMubWFwYm94LmNvbS9mZWVkYmFja1wiLFRJTEVfVVJMX1ZFUlNJT046XCJ2NFwiLFJBU1RFUl9VUkxfUFJFRklYOlwicmFzdGVyL3YxXCIsUkVRVUlSRV9BQ0NFU1NfVE9LRU46ITAsQUNDRVNTX1RPS0VOOm51bGwsTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOjE2fSxhPXtzdXBwb3J0ZWQ6ITEsdGVzdFN1cHBvcnQ6ZnVuY3Rpb24oZSl7IWMmJmwmJih1P2goZSk6cz1lKX19O2xldCBzLGwsYz0hMSx1PSExO2Z1bmN0aW9uIGgoZSl7Y29uc3QgdD1lLmNyZWF0ZVRleHR1cmUoKTtlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0KTt0cnl7aWYoZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCQSxlLlJHQkEsZS5VTlNJR05FRF9CWVRFLGwpLGUuaXNDb250ZXh0TG9zdCgpKXJldHVybjthLnN1cHBvcnRlZD0hMH1jYXRjaChlKXt9ZS5kZWxldGVUZXh0dXJlKHQpLGM9ITB9ci5kb2N1bWVudCYmKGw9ci5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGwub25sb2FkPWZ1bmN0aW9uKCl7cyYmaChzKSxzPW51bGwsdT0hMH0sbC5vbmVycm9yPWZ1bmN0aW9uKCl7Yz0hMCxzPW51bGx9LGwuc3JjPVwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9XCIpO2NvbnN0IGQ9XCIwMVwiO3ZhciBwPWY7ZnVuY3Rpb24gZihlLHQscixuKXt0aGlzLmN4PTMqZSx0aGlzLmJ4PTMqKHItZSktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9Myp0LHRoaXMuYnk9Myoobi10KS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9ZSx0aGlzLnAxeT10LHRoaXMucDJ4PXIsdGhpcy5wMnk9bn1mLnByb3RvdHlwZT17c2FtcGxlQ3VydmVYOmZ1bmN0aW9uKGUpe3JldHVybigodGhpcy5heCplK3RoaXMuYngpKmUrdGhpcy5jeCkqZX0sc2FtcGxlQ3VydmVZOmZ1bmN0aW9uKGUpe3JldHVybigodGhpcy5heSplK3RoaXMuYnkpKmUrdGhpcy5jeSkqZX0sc2FtcGxlQ3VydmVEZXJpdmF0aXZlWDpmdW5jdGlvbihlKXtyZXR1cm4oMyp0aGlzLmF4KmUrMip0aGlzLmJ4KSplK3RoaXMuY3h9LHNvbHZlQ3VydmVYOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9MWUtNiksZTwwKXJldHVybiAwO2lmKGU+MSlyZXR1cm4gMTtmb3IodmFyIHI9ZSxuPTA7bjw4O24rKyl7dmFyIGk9dGhpcy5zYW1wbGVDdXJ2ZVgociktZTtpZihNYXRoLmFicyhpKTx0KXJldHVybiByO3ZhciBvPXRoaXMuc2FtcGxlQ3VydmVEZXJpdmF0aXZlWChyKTtpZihNYXRoLmFicyhvKTwxZS02KWJyZWFrO3ItPWkvb312YXIgYT0wLHM9MTtmb3Iocj1lLG49MDtuPDIwJiYoaT10aGlzLnNhbXBsZUN1cnZlWChyKSwhKE1hdGguYWJzKGktZSk8dCkpO24rKyllPmk/YT1yOnM9cixyPS41KihzLWEpK2E7cmV0dXJuIHJ9LHNvbHZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2FtcGxlQ3VydmVZKHRoaXMuc29sdmVDdXJ2ZVgoZSx0KSl9fTt2YXIgbT1nO2Z1bmN0aW9uIGcoZSx0KXt0aGlzLng9ZSx0aGlzLnk9dH1nLnByb3RvdHlwZT17Y2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcodGhpcy54LHRoaXMueSl9LGFkZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQoZSl9LHN1YjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIoZSl9LG11bHRCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KGUpfSxkaXZCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQoZSl9LG11bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdChlKX0sZGl2OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX2RpdihlKX0scm90YXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZShlKX0scm90YXRlQXJvdW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlQXJvdW5kKGUsdCl9LG1hdE11bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdChlKX0sdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKX0scGVycDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKX0scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxtYWc6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LGRpc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIoZSkpfSxkaXN0U3FyOmZ1bmN0aW9uKGUpe3ZhciB0PWUueC10aGlzLngscj1lLnktdGhpcy55O3JldHVybiB0KnQrcipyfSxhbmdsZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueSx0aGlzLngpfSxhbmdsZVRvOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueS1lLnksdGhpcy54LWUueCl9LGFuZ2xlV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAoZS54LGUueSl9LGFuZ2xlV2l0aFNlcDpmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueCp0LXRoaXMueSplLHRoaXMueCplK3RoaXMueSp0KX0sX21hdE11bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVsyXSp0aGlzLngrZVszXSp0aGlzLnk7cmV0dXJuIHRoaXMueD1lWzBdKnRoaXMueCtlWzFdKnRoaXMueSx0aGlzLnk9dCx0aGlzfSxfYWRkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzfSxfc3ViOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxfbXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzfSxfZGl2OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUsdGhpcy55Lz1lLHRoaXN9LF9tdWx0QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc30sX2RpdkJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC89ZS54LHRoaXMueS89ZS55LHRoaXN9LF91bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpdih0aGlzLm1hZygpKSx0aGlzfSxfcGVycDpmdW5jdGlvbigpe3ZhciBlPXRoaXMueTtyZXR1cm4gdGhpcy55PXRoaXMueCx0aGlzLng9LWUsdGhpc30sX3JvdGF0ZTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpLG49cip0aGlzLngrdCp0aGlzLnk7cmV0dXJuIHRoaXMueD10KnRoaXMueC1yKnRoaXMueSx0aGlzLnk9bix0aGlzfSxfcm90YXRlQXJvdW5kOmZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5jb3MoZSksbj1NYXRoLnNpbihlKSxpPXQueStuKih0aGlzLngtdC54KStyKih0aGlzLnktdC55KTtyZXR1cm4gdGhpcy54PXQueCtyKih0aGlzLngtdC54KS1uKih0aGlzLnktdC55KSx0aGlzLnk9aSx0aGlzfSxfcm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9fSxnLmNvbnZlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBnP2U6QXJyYXkuaXNBcnJheShlKT9uZXcgZyhlWzBdLGVbMV0pOmV9O2NvbnN0IF89TWF0aC5QSS8xODAseT0xODAvTWF0aC5QSTtmdW5jdGlvbiB2KGUpe3JldHVybiBlKl99ZnVuY3Rpb24geChlKXtyZXR1cm4gZSp5fWNvbnN0IGI9W1swLDBdLFsxLDBdLFsxLDFdLFswLDFdXTtmdW5jdGlvbiB3KGUpe2lmKGU8PTApcmV0dXJuIDA7aWYoZT49MSlyZXR1cm4gMTtjb25zdCB0PWUqZSxyPXQqZTtyZXR1cm4gNCooZTwuNT9yOjMqKGUtdCkrci0uNzUpfWZ1bmN0aW9uIFQoZSx0LHIsbil7Y29uc3QgaT1uZXcgcChlLHQscixuKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGkuc29sdmUoZSl9fWNvbnN0IEU9VCguMjUsLjEsLjI1LDEpO2Z1bmN0aW9uIFMoZSx0LHIpe3JldHVybiBNYXRoLm1pbihyLE1hdGgubWF4KHQsZSkpfWZ1bmN0aW9uIEMoZSx0LHIpe3JldHVybihyPVMoKHItZSkvKHQtZSksMCwxKSkqciooMy0yKnIpfWZ1bmN0aW9uIE0oZSx0LHIpe2NvbnN0IG49ci10LGk9KChlLXQpJW4rbiklbit0O3JldHVybiBpPT09dD9yOml9ZnVuY3Rpb24gayhlLHQscil7aWYoIWUubGVuZ3RoKXJldHVybiByKG51bGwsW10pO2xldCBuPWUubGVuZ3RoO2NvbnN0IGk9bmV3IEFycmF5KGUubGVuZ3RoKTtsZXQgbz1udWxsO2UuZm9yRWFjaCgoZSxhKT0+e3QoZSwoZSx0KT0+e2UmJihvPWUpLGlbYV09dCwwPT0tLW4mJnIobyxpKX0pfSl9ZnVuY3Rpb24gQShlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIGluIGUpdC5wdXNoKGVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIEkoZSwuLi50KXtmb3IoY29uc3QgciBvZiB0KWZvcihjb25zdCB0IGluIHIpZVt0XT1yW3RdO3JldHVybiBlfWxldCBQPTE7ZnVuY3Rpb24geigpe3JldHVybiBQKyt9ZnVuY3Rpb24gRCgpe3JldHVybiBmdW5jdGlvbiBlKHQpe3JldHVybiB0Pyh0Xk1hdGgucmFuZG9tKCkqKDE2Pj50LzQpKS50b1N0cmluZygxNik6KFsxZTddKy1bMWUzXSstNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csZSl9KCl9ZnVuY3Rpb24gUihlKXtyZXR1cm4gZTw9MT8xOk1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nKGUpL01hdGguTE4yKSl9ZnVuY3Rpb24gTChlKXtyZXR1cm4hIWUmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzRdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QoZSl9ZnVuY3Rpb24gTyhlLHQpe2UuZm9yRWFjaChlPT57dFtlXSYmKHRbZV09dFtlXS5iaW5kKHQpKX0pfWZ1bmN0aW9uIEIoZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0LGUubGVuZ3RoLXQubGVuZ3RoKX1mdW5jdGlvbiBGKGUsdCxyKXtjb25zdCBuPXt9O2Zvcihjb25zdCBpIGluIGUpbltpXT10LmNhbGwocnx8dGhpcyxlW2ldLGksZSk7cmV0dXJuIG59ZnVuY3Rpb24gaihlLHQscil7Y29uc3Qgbj17fTtmb3IoY29uc3QgaSBpbiBlKXQuY2FsbChyfHx0aGlzLGVbaV0saSxlKSYmKG5baV09ZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gVShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLm1hcChVKTpcIm9iamVjdFwiPT10eXBlb2YgZSYmZT9GKGUsVSk6ZX1jb25zdCBOPXt9O2Z1bmN0aW9uIFYoZSl7TltlXXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4oZSksTltlXT0hMCl9ZnVuY3Rpb24gRyhlLHQscil7cmV0dXJuKHIueS1lLnkpKih0LngtZS54KT4odC55LWUueSkqKHIueC1lLngpfWZ1bmN0aW9uIHEoZSl7bGV0IHQ9MDtmb3IobGV0IHIsbixpPTAsbz1lLmxlbmd0aCxhPW8tMTtpPG87YT1pKyspcj1lW2ldLG49ZVthXSx0Kz0obi54LXIueCkqKHIueStuLnkpO3JldHVybiB0fWZ1bmN0aW9uIFooKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gJChlKXtjb25zdCB0PXt9O2lmKGUucmVwbGFjZSgvKD86XnwoPzpcXHMqXFwsXFxzKikpKFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKykoPzpcXD0oPzooW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKXwoPzpcXFwiKCg/OlteXCJcXFxcXXxcXFxcLikqKVxcXCIpKSk/L2csKGUscixuLGkpPT57Y29uc3Qgbz1ufHxpO3JldHVybiB0W3JdPSFvfHxvLnRvTG93ZXJDYXNlKCksXCJcIn0pLHRbXCJtYXgtYWdlXCJdKXtjb25zdCBlPXBhcnNlSW50KHRbXCJtYXgtYWdlXCJdLDEwKTtpc05hTihlKT9kZWxldGUgdFtcIm1heC1hZ2VcIl06dFtcIm1heC1hZ2VcIl09ZX1yZXR1cm4gdH1sZXQgVz1udWxsO2Z1bmN0aW9uIFgoZSl7aWYobnVsbD09Vyl7Y29uc3QgdD1lLm5hdmlnYXRvcj9lLm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtXPSEhZS5zYWZhcml8fCEoIXR8fCEoL1xcYihpUGFkfGlQaG9uZXxpUG9kKVxcYi8udGVzdCh0KXx8dC5tYXRjaChcIlNhZmFyaVwiKSYmIXQubWF0Y2goXCJDaHJvbWVcIikpKX1yZXR1cm4gV31mdW5jdGlvbiBIKGUpe3RyeXtjb25zdCB0PXJbZV07cmV0dXJuIHQuc2V0SXRlbShcIl9tYXBib3hfdGVzdF9cIiwxKSx0LnJlbW92ZUl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBZKGUsdCl7cmV0dXJuW2VbNCp0XSxlWzQqdCsxXSxlWzQqdCsyXSxlWzQqdCszXV19Y29uc3QgSz1cIm1hcGJveC10aWxlc1wiO2xldCBKLFEsZWU9NTAwLHRlPTUwO2Z1bmN0aW9uIHJlKCl7dHJ5e3JldHVybiByLmNhY2hlc31jYXRjaChlKXt9fWZ1bmN0aW9uIG5lKCl7cmUoKSYmIUomJihKPXIuY2FjaGVzLm9wZW4oSykpfWZ1bmN0aW9uIGllKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKFwiP1wiKTtpZih0PDApcmV0dXJuIGU7Y29uc3Qgcj1mdW5jdGlvbihlKXtjb25zdCB0PWUuaW5kZXhPZihcIj9cIik7cmV0dXJuIHQ+MD9lLnNsaWNlKHQrMSkuc3BsaXQoXCImXCIpOltdfShlKS5maWx0ZXIoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIj1cIik7cmV0dXJuXCJsYW5ndWFnZVwiPT09dFswXXx8XCJ3b3JsZHZpZXdcIj09PXRbMF19KTtyZXR1cm4gci5sZW5ndGg/YCR7ZS5zbGljZSgwLHQpfT8ke3Iuam9pbihcIiZcIil9YDplLnNsaWNlKDAsdCl9bGV0IG9lPTEvMDtjb25zdCBhZT17VW5rbm93bjpcIlVua25vd25cIixTdHlsZTpcIlN0eWxlXCIsU291cmNlOlwiU291cmNlXCIsVGlsZTpcIlRpbGVcIixHbHlwaHM6XCJHbHlwaHNcIixTcHJpdGVJbWFnZTpcIlNwcml0ZUltYWdlXCIsU3ByaXRlSlNPTjpcIlNwcml0ZUpTT05cIixJbWFnZTpcIkltYWdlXCJ9O1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoYWUpO2NsYXNzIHNlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LHIpezQwMT09PXQmJnllKHIpJiYoZSs9XCI6IHlvdSBtYXkgaGF2ZSBwcm92aWRlZCBhbiBpbnZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4uIFNlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIiksc3VwZXIoZSksdGhpcy5zdGF0dXM9dCx0aGlzLnVybD1yfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9ICgke3RoaXMuc3RhdHVzfSk6ICR7dGhpcy51cmx9YH19Y29uc3QgbGU9WigpPygpPT5zZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXI6KCk9PihcImJsb2I6XCI9PT1yLmxvY2F0aW9uLnByb3RvY29sP3IucGFyZW50OnIpLmxvY2F0aW9uLmhyZWYsY2U9ZnVuY3Rpb24oZSx0KXtpZighKC9eZmlsZTovLnRlc3Qobj1lLnVybCl8fC9eZmlsZTovLnRlc3QobGUoKSkmJiEvXlxcdys6Ly50ZXN0KG4pKSl7aWYoci5mZXRjaCYmci5SZXF1ZXN0JiZyLkFib3J0Q29udHJvbGxlciYmci5SZXF1ZXN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInNpZ25hbFwiKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPW5ldyByLkFib3J0Q29udHJvbGxlcixpPW5ldyByLlJlcXVlc3QoZS51cmwse21ldGhvZDplLm1ldGhvZHx8XCJHRVRcIixib2R5OmUuYm9keSxjcmVkZW50aWFsczplLmNyZWRlbnRpYWxzLGhlYWRlcnM6ZS5oZWFkZXJzLHJlZmVycmVyOmxlKCksc2lnbmFsOm4uc2lnbmFsfSk7bGV0IG89ITEsYT0hMTtjb25zdCBzPShsPWkudXJsKS5pbmRleE9mKFwic2t1PVwiKT4wJiZ5ZShsKTt2YXIgbDtcImpzb25cIj09PWUudHlwZSYmaS5oZWFkZXJzLnNldChcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKTtjb25zdCBjPShuLG8sbCk9PntpZihhKXJldHVybjtpZihuJiZcIlNlY3VyaXR5RXJyb3JcIiE9PW4ubWVzc2FnZSYmVihuKSxvJiZsKXJldHVybiB1KG8pO2NvbnN0IGM9RGF0ZS5ub3coKTtyLmZldGNoKGkpLnRoZW4ocj0+e2lmKHIub2spe2NvbnN0IGU9cz9yLmNsb25lKCk6bnVsbDtyZXR1cm4gdShyLGUsYyl9cmV0dXJuIHQobmV3IHNlKHIuc3RhdHVzVGV4dCxyLnN0YXR1cyxlLnVybCkpfSkuY2F0Y2goZT0+ezIwIT09ZS5jb2RlJiZ0KG5ldyBFcnJvcihlLm1lc3NhZ2UpKX0pfSx1PShuLHMsbCk9PnsoXCJhcnJheUJ1ZmZlclwiPT09ZS50eXBlP24uYXJyYXlCdWZmZXIoKTpcImpzb25cIj09PWUudHlwZT9uLmpzb24oKTpuLnRleHQoKSkudGhlbihlPT57YXx8KHMmJmwmJmZ1bmN0aW9uKGUsdCxuKXtpZihuZSgpLCFKKXJldHVybjtjb25zdCBpPXtzdGF0dXM6dC5zdGF0dXMsc3RhdHVzVGV4dDp0LnN0YXR1c1RleHQsaGVhZGVyczpuZXcgci5IZWFkZXJzfTt0LmhlYWRlcnMuZm9yRWFjaCgoZSx0KT0+aS5oZWFkZXJzLnNldCh0LGUpKTtjb25zdCBvPSQodC5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIil8fFwiXCIpO2lmKG9bXCJuby1zdG9yZVwiXSlyZXR1cm47b1tcIm1heC1hZ2VcIl0mJmkuaGVhZGVycy5zZXQoXCJFeHBpcmVzXCIsbmV3IERhdGUobisxZTMqb1tcIm1heC1hZ2VcIl0pLnRvVVRDU3RyaW5nKCkpO2NvbnN0IGE9aS5oZWFkZXJzLmdldChcIkV4cGlyZXNcIik7YSYmKG5ldyBEYXRlKGEpLmdldFRpbWUoKS1uPDQyZTR8fGZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09USl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSksUT0hMH1jYXRjaChlKXtRPSExfVE/dChlLmJvZHkpOmUuYmxvYigpLnRoZW4odCl9KHQsdD0+e2NvbnN0IG49bmV3IHIuUmVzcG9uc2UodCxpKTtuZSgpLEomJkoudGhlbih0PT50LnB1dChpZShlLnVybCksbikpLmNhdGNoKGU9PlYoZS5tZXNzYWdlKSl9KSl9KGkscyxsKSxvPSEwLHQobnVsbCxlLG4uaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpLG4uaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpKSl9KS5jYXRjaChlPT57YXx8dChuZXcgRXJyb3IoZS5tZXNzYWdlKSl9KX07cmV0dXJuIHM/ZnVuY3Rpb24oZSx0KXtpZihuZSgpLCFKKXJldHVybiB0KG51bGwpO2NvbnN0IHI9aWUoZS51cmwpO0oudGhlbihlPT57ZS5tYXRjaChyKS50aGVuKG49Pntjb25zdCBpPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO2NvbnN0IHQ9bmV3IERhdGUoZS5oZWFkZXJzLmdldChcIkV4cGlyZXNcIil8fDApLHI9JChlLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7cmV0dXJuIHQ+RGF0ZS5ub3coKSYmIXJbXCJuby1jYWNoZVwiXX0obik7ZS5kZWxldGUociksaSYmZS5wdXQocixuLmNsb25lKCkpLHQobnVsbCxuLGkpfSkuY2F0Y2godCl9KS5jYXRjaCh0KX0oaSxjKTpjKG51bGwsbnVsbCkse2NhbmNlbDooKT0+e2E9ITAsb3x8bi5hYm9ydCgpfX19KGUsdCk7aWYoWigpJiZzZWxmLndvcmtlciYmc2VsZi53b3JrZXIuYWN0b3IpcmV0dXJuIHNlbGYud29ya2VyLmFjdG9yLnNlbmQoXCJnZXRSZXNvdXJjZVwiLGUsdCx2b2lkIDAsITApfXZhciBuO3JldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IG49bmV3IHIuWE1MSHR0cFJlcXVlc3Q7bi5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKSxcImFycmF5QnVmZmVyXCI9PT1lLnR5cGUmJihuLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpO2Zvcihjb25zdCB0IGluIGUuaGVhZGVycyluLnNldFJlcXVlc3RIZWFkZXIodCxlLmhlYWRlcnNbdF0pO3JldHVyblwianNvblwiPT09ZS50eXBlJiYobi5yZXNwb25zZVR5cGU9XCJ0ZXh0XCIsbi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpKSxuLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09PWUuY3JlZGVudGlhbHMsbi5vbmVycm9yPSgpPT57dChuZXcgRXJyb3Iobi5zdGF0dXNUZXh0KSl9LG4ub25sb2FkPSgpPT57aWYoKG4uc3RhdHVzPj0yMDAmJm4uc3RhdHVzPDMwMHx8MD09PW4uc3RhdHVzKSYmbnVsbCE9PW4ucmVzcG9uc2Upe2xldCByPW4ucmVzcG9uc2U7aWYoXCJqc29uXCI9PT1lLnR5cGUpdHJ5e3I9SlNPTi5wYXJzZShuLnJlc3BvbnNlKX1jYXRjaChlKXtyZXR1cm4gdChlKX10KG51bGwscixuLmdldFJlc3BvbnNlSGVhZGVyKFwiQ2FjaGUtQ29udHJvbFwiKSxuLmdldFJlc3BvbnNlSGVhZGVyKFwiRXhwaXJlc1wiKSl9ZWxzZSB0KG5ldyBzZShuLnN0YXR1c1RleHQsbi5zdGF0dXMsZS51cmwpKX0sbi5zZW5kKGUuYm9keSkse2NhbmNlbDooKT0+bi5hYm9ydCgpfX0oZSx0KX0sdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoSShlLHt0eXBlOlwiYXJyYXlCdWZmZXJcIn0pLHQpfTtmdW5jdGlvbiBoZShlKXtjb25zdCB0PXIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHQuaHJlZj1lLHQucHJvdG9jb2w9PT1yLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZ0Lmhvc3Q9PT1yLmRvY3VtZW50LmxvY2F0aW9uLmhvc3R9Y29uc3QgZGU9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST1cIjtsZXQgcGUsZmU7cGU9W10sZmU9MDtjb25zdCBtZT1mdW5jdGlvbihlLHQpe2lmKGEuc3VwcG9ydGVkJiYoZS5oZWFkZXJzfHwoZS5oZWFkZXJzPXt9KSxlLmhlYWRlcnMuYWNjZXB0PVwiaW1hZ2Uvd2VicCwqLypcIiksZmU+PW8uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTKXtjb25zdCByPXtyZXF1ZXN0UGFyYW1ldGVyczplLGNhbGxiYWNrOnQsY2FuY2VsbGVkOiExLGNhbmNlbCgpe3RoaXMuY2FuY2VsbGVkPSEwfX07cmV0dXJuIHBlLnB1c2gocikscn1mZSsrO2xldCBuPSExO2NvbnN0IGk9KCk9PntpZighbilmb3Iobj0hMCxmZS0tO3BlLmxlbmd0aCYmZmU8by5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM7KXtjb25zdCBlPXBlLnNoaWZ0KCkse3JlcXVlc3RQYXJhbWV0ZXJzOnQsY2FsbGJhY2s6cixjYW5jZWxsZWQ6bn09ZTtufHwoZS5jYW5jZWw9bWUodCxyKS5jYW5jZWwpfX0scz11ZShlLChlLG4sbyxhKT0+e2koKSxlP3QoZSk6biYmKHIuY3JlYXRlSW1hZ2VCaXRtYXA/ZnVuY3Rpb24oZSx0KXtjb25zdCBuPW5ldyByLkJsb2IoW25ldyBVaW50OEFycmF5KGUpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7ci5jcmVhdGVJbWFnZUJpdG1hcChuKS50aGVuKGU9Pnt0KG51bGwsZSl9KS5jYXRjaChlPT57dChuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIGltYWdlIGJlY2F1c2Ugb2YgJHtlLm1lc3NhZ2V9LiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLmApKX0pfShuLChlLHIpPT50KGUscixvLGEpKTpmdW5jdGlvbihlLHQpe2NvbnN0IG49bmV3IHIuSW1hZ2UsaT1yLlVSTDtuLm9ubG9hZD0oKT0+e3QobnVsbCxuKSxpLnJldm9rZU9iamVjdFVSTChuLnNyYyksbi5vbmxvYWQ9bnVsbCxyLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e24uc3JjPWRlfSl9LG4ub25lcnJvcj0oKT0+dChuZXcgRXJyb3IoXCJDb3VsZCBub3QgbG9hZCBpbWFnZS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC5cIikpO2NvbnN0IG89bmV3IHIuQmxvYihbbmV3IFVpbnQ4QXJyYXkoZSldLHt0eXBlOlwiaW1hZ2UvcG5nXCJ9KTtuLnNyYz1lLmJ5dGVMZW5ndGg/aS5jcmVhdGVPYmplY3RVUkwobyk6ZGV9KG4sKGUscik9PnQoZSxyLG8sYSkpKX0pO3JldHVybntjYW5jZWw6KCk9PntzLmNhbmNlbCgpLGkoKX19fSxnZT1cIk5PX0FDQ0VTU19UT0tFTlwiO2Z1bmN0aW9uIF9lKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwibWFwYm94OlwiKX1mdW5jdGlvbiB5ZShlKXtyZXR1cm4gby5BUElfVVJMX1JFR0VYLnRlc3QoZSl9ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG8uQVBJX1NUWUxFX1JFR0VYLnRlc3QoZSkmJiF4ZShlKX1mdW5jdGlvbiB4ZShlKXtyZXR1cm4gby5BUElfU1BSSVRFX1JFR0VYLnRlc3QoZSl9Y29uc3QgYmU9L14oXFx3Kyk6XFwvXFwvKFteLz9dKikoXFwvW14/XSspP1xcPz8oLispPy87ZnVuY3Rpb24gd2UoZSl7Y29uc3QgdD1lLm1hdGNoKGJlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcGFyc2UgVVJMIG9iamVjdFwiKTtyZXR1cm57cHJvdG9jb2w6dFsxXSxhdXRob3JpdHk6dFsyXSxwYXRoOnRbM118fFwiL1wiLHBhcmFtczp0WzRdP3RbNF0uc3BsaXQoXCImXCIpOltdfX1mdW5jdGlvbiBUZShlKXtjb25zdCB0PWUucGFyYW1zLmxlbmd0aD9cIj9cIitlLnBhcmFtcy5qb2luKFwiJlwiKTpcIlwiO3JldHVybmAke2UucHJvdG9jb2x9Oi8vJHtlLmF1dGhvcml0eX0ke2UucGF0aH0ke3R9YH1mdW5jdGlvbiBFZShlKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuc3BsaXQoXCIuXCIpO2lmKCF0fHwzIT09dC5sZW5ndGgpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChyLmF0b2IodFsxXSkuc3BsaXQoXCJcIikubWFwKGU9PlwiJVwiKyhcIjAwXCIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKS5qb2luKFwiXCIpKSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fWNsYXNzIFNle2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1lLHRoaXMuYW5vbklkPW51bGwsdGhpcy5ldmVudERhdGE9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGx9Z2V0U3RvcmFnZUtleShlKXtjb25zdCB0PUVlKG8uQUNDRVNTX1RPS0VOKTtsZXQgbj1cIlwiO3JldHVybiBuPXQmJnQudT9yLmJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KHQudSkucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZywoZSx0KT0+U3RyaW5nLmZyb21DaGFyQ29kZShOdW1iZXIoXCIweFwiK3QpKSkpOm8uQUNDRVNTX1RPS0VOfHxcIlwiLGU/YG1hcGJveC5ldmVudERhdGEuJHtlfToke259YDpcIm1hcGJveC5ldmVudERhdGE6XCIrbn1mZXRjaEV2ZW50RGF0YSgpe2NvbnN0IGU9SChcImxvY2FsU3RvcmFnZVwiKSx0PXRoaXMuZ2V0U3RvcmFnZUtleSgpLG49dGhpcy5nZXRTdG9yYWdlS2V5KFwidXVpZFwiKTtpZihlKXRyeXtjb25zdCBlPXIubG9jYWxTdG9yYWdlLmdldEl0ZW0odCk7ZSYmKHRoaXMuZXZlbnREYXRhPUpTT04ucGFyc2UoZSkpO2NvbnN0IGk9ci5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTtpJiYodGhpcy5hbm9uSWQ9aSl9Y2F0Y2goZSl7VihcIlVuYWJsZSB0byByZWFkIGZyb20gTG9jYWxTdG9yYWdlXCIpfX1zYXZlRXZlbnREYXRhKCl7Y29uc3QgZT1IKFwibG9jYWxTdG9yYWdlXCIpLHQ9dGhpcy5nZXRTdG9yYWdlS2V5KCksbj10aGlzLmdldFN0b3JhZ2VLZXkoXCJ1dWlkXCIpO2lmKGUpdHJ5e3IubG9jYWxTdG9yYWdlLnNldEl0ZW0obix0aGlzLmFub25JZCksT2JqZWN0LmtleXModGhpcy5ldmVudERhdGEpLmxlbmd0aD49MSYmci5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0LEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnREYXRhKSl9Y2F0Y2goZSl7VihcIlVuYWJsZSB0byB3cml0ZSB0byBMb2NhbFN0b3JhZ2VcIil9fXByb2Nlc3NSZXF1ZXN0cyhlKXt9cG9zdEV2ZW50KGUsdCxyLG4pe2lmKCFvLkVWRU5UU19VUkwpcmV0dXJuO2NvbnN0IGk9d2Uoby5FVkVOVFNfVVJMKTtpLnBhcmFtcy5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiKyhufHxvLkFDQ0VTU19UT0tFTnx8XCJcIikpO2NvbnN0IGE9e2V2ZW50OnRoaXMudHlwZSxjcmVhdGVkOm5ldyBEYXRlKGUpLnRvSVNPU3RyaW5nKCl9LHM9dD9JKGEsdCk6YSxsPXt1cmw6VGUoaSksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn0sYm9keTpKU09OLnN0cmluZ2lmeShbc10pfTt0aGlzLnBlbmRpbmdSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlKEkoZSx7bWV0aG9kOlwiUE9TVFwifSksdCl9KGwsZT0+e3RoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbCxyKGUpLHRoaXMuc2F2ZUV2ZW50RGF0YSgpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKG4pfSl9cXVldWVSZXF1ZXN0KGUsdCl7dGhpcy5xdWV1ZS5wdXNoKGUpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKHQpfX1jb25zdCBDZT1uZXcgY2xhc3MgZXh0ZW5kcyBTZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihcImFwcFVzZXJUdXJuc3RpbGVcIiksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW49ZX1wb3N0VHVybnN0aWxlRXZlbnQoZSx0KXtvLkVWRU5UU19VUkwmJm8uQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUoZT0+X2UoZSl8fHllKGUpKSYmdGhpcy5xdWV1ZVJlcXVlc3QoRGF0ZS5ub3coKSx0KX1wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjt0aGlzLmFub25JZCYmdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MmJnRoaXMuZXZlbnREYXRhLnRva2VuVXx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpO2NvbnN0IHQ9RWUoby5BQ0NFU1NfVE9LRU4pLHI9dD90LnU6by5BQ0NFU1NfVE9LRU47bGV0IGk9ciE9PXRoaXMuZXZlbnREYXRhLnRva2VuVTtMKHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPUQoKSxpPSEwKTtjb25zdCBhPXRoaXMucXVldWUuc2hpZnQoKTtpZih0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcyl7Y29uc3QgZT1uZXcgRGF0ZSh0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcyksdD1uZXcgRGF0ZShhKSxyPShhLXRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKS84NjRlNTtpPWl8fHI+PTF8fHI8LTF8fGUuZ2V0RGF0ZSgpIT09dC5nZXREYXRlKCl9ZWxzZSBpPSEwO2k/dGhpcy5wb3N0RXZlbnQoYSx7c2RrSWRlbnRpZmllcjpcIm1hcGJveC1nbC1qc1wiLHNka1ZlcnNpb246bixza3VJZDpkLFwiZW5hYmxlZC50ZWxlbWV0cnlcIjohMSx1c2VySWQ6dGhpcy5hbm9uSWR9LGU9PntlfHwodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3M9YSx0aGlzLmV2ZW50RGF0YS50b2tlblU9cil9LGUpOnRoaXMucHJvY2Vzc1JlcXVlc3RzKCl9fSxNZT1DZS5wb3N0VHVybnN0aWxlRXZlbnQuYmluZChDZSksa2U9bmV3IGNsYXNzIGV4dGVuZHMgU2V7Y29uc3RydWN0b3IoKXtzdXBlcihcIm1hcC5sb2FkXCIpLHRoaXMuc3VjY2Vzcz17fSx0aGlzLnNrdVRva2VuPVwiXCJ9cG9zdE1hcExvYWRFdmVudChlLHQscixuKXt0aGlzLnNrdVRva2VuPXQsdGhpcy5lcnJvckNiPW4sby5FVkVOVFNfVVJMJiYocnx8by5BQ0NFU1NfVE9LRU4/dGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOmUsdGltZXN0YW1wOkRhdGUubm93KCl9LHIpOnRoaXMuZXJyb3JDYihuZXcgRXJyb3IoZ2UpKSl9cHJvY2Vzc1JlcXVlc3RzKGUpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7aWQ6dCx0aW1lc3RhbXA6cn09dGhpcy5xdWV1ZS5zaGlmdCgpO3QmJnRoaXMuc3VjY2Vzc1t0XXx8KHRoaXMuYW5vbklkfHx0aGlzLmZldGNoRXZlbnREYXRhKCksTCh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1EKCkpLHRoaXMucG9zdEV2ZW50KHIse3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOm4sc2t1SWQ6ZCxza3VUb2tlbjp0aGlzLnNrdVRva2VuLHVzZXJJZDp0aGlzLmFub25JZH0sZT0+e2U/dGhpcy5lcnJvckNiKGUpOnQmJih0aGlzLnN1Y2Nlc3NbdF09ITApfSxlKSl9fSxBZT1rZS5wb3N0TWFwTG9hZEV2ZW50LmJpbmQoa2UpLEllPW5ldyBjbGFzcyBleHRlbmRzIFNle2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJnbGpzLnBlcmZvcm1hbmNlXCIpfXBvc3RQZXJmb3JtYW5jZUV2ZW50KGUsdCl7by5FVkVOVFNfVVJMJiYoZXx8by5BQ0NFU1NfVE9LRU4pJiZ0aGlzLnF1ZXVlUmVxdWVzdCh7dGltZXN0YW1wOkRhdGUubm93KCkscGVyZm9ybWFuY2VEYXRhOnR9LGUpfXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e3RpbWVzdGFtcDp0LHBlcmZvcm1hbmNlRGF0YTppfT10aGlzLnF1ZXVlLnNoaWZ0KCksbz1mdW5jdGlvbihlKXtjb25zdCB0PXIucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcInJlc291cmNlXCIpLGk9ci5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWFya1wiKSxvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307aWYoZSlmb3IoY29uc3QgciBpbiBlKWlmKFwib3RoZXJcIiE9PXIpZm9yKGNvbnN0IG4gb2YgZVtyXSl7Y29uc3QgZT1yK1wiUmVxdWVzdENvdW50XCIsaT1yK1wiUmVzb2x2ZVJhbmdlTWluXCIsbz1yK1wiUmVzb2x2ZVJhbmdlTWF4XCI7dFtpXT1NYXRoLm1pbih0W2ldfHwxLzAsbi5zdGFydFRpbWUpLHRbb109TWF0aC5tYXgodFtvXXx8LTEvMCxuLnJlc3BvbnNlRW5kKSx2b2lkIDA9PT10W2VdJiYodFtlXT0wKSwrK3RbZV19cmV0dXJuIHR9KGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj17fTtpZihlKWZvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9dChuKTt2b2lkIDA9PT1yW2VdJiYocltlXT1bXSkscltlXS5wdXNoKG4pfXJldHVybiByfSh0LEJlKSksYT1yLmRldmljZVBpeGVsUmF0aW8scz1yLm5hdmlnYXRvci5jb25uZWN0aW9ufHxyLm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHxyLm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uLGw9e2NvdW50ZXJzOltdLG1ldGFkYXRhOltdLGF0dHJpYnV0ZXM6W119LGM9KGUsdCxyKT0+e251bGwhPXImJmUucHVzaCh7bmFtZTp0LHZhbHVlOnIudG9TdHJpbmcoKX0pfTtmb3IoY29uc3QgZSBpbiBvKWMobC5jb3VudGVycyxlLG9bZV0pO2lmKGUuaW50ZXJhY3Rpb25SYW5nZVswXSE9PTEvMCYmZS5pbnRlcmFjdGlvblJhbmdlWzFdIT09LTEvMCYmKGMobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNaW5cIixlLmludGVyYWN0aW9uUmFuZ2VbMF0pLGMobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNYXhcIixlLmludGVyYWN0aW9uUmFuZ2VbMV0pKSxpKWZvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKExlKSl7Y29uc3QgdD1MZVtlXSxyPWkuZmluZChlPT5lLm5hbWU9PT10KTtyJiZjKGwuY291bnRlcnMsdCxyLnN0YXJ0VGltZSl9cmV0dXJuIGMobC5jb3VudGVycyxcInZpc2liaWxpdHlIaWRkZW5cIixlLnZpc2liaWxpdHlIaWRkZW4pLGMobC5hdHRyaWJ1dGVzLFwic3R5bGVcIixmdW5jdGlvbihlKXtpZihlKWZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dC5uYW1lLnNwbGl0KFwiP1wiKVswXTtpZih2ZShlKSl7Y29uc3QgdD1lLnNwbGl0KFwiL1wiKS5zbGljZSgtMik7aWYoMj09PXQubGVuZ3RoKXJldHVybmBtYXBib3g6Ly9zdHlsZXMvJHt0WzBdfS8ke3RbMV19YH19fSh0KSksYyhsLmF0dHJpYnV0ZXMsXCJ0ZXJyYWluRW5hYmxlZFwiLGUudGVycmFpbkVuYWJsZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiKSxjKGwuYXR0cmlidXRlcyxcImZvZ0VuYWJsZWRcIixlLmZvZ0VuYWJsZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiKSxjKGwuYXR0cmlidXRlcyxcInByb2plY3Rpb25cIixlLnByb2plY3Rpb24ubmFtZSksYyhsLmF0dHJpYnV0ZXMsXCJ6b29tXCIsZS56b29tKSxjKGwubWV0YWRhdGEsXCJkZXZpY2VQaXhlbFJhdGlvXCIsYSksYyhsLm1ldGFkYXRhLFwiY29ubmVjdGlvbkVmZmVjdGl2ZVR5cGVcIixzP3MuZWZmZWN0aXZlVHlwZTp2b2lkIDApLGMobC5tZXRhZGF0YSxcIm5hdmlnYXRvclVzZXJBZ2VudFwiLHIubmF2aWdhdG9yLnVzZXJBZ2VudCksYyhsLm1ldGFkYXRhLFwic2NyZWVuV2lkdGhcIixyLnNjcmVlbi53aWR0aCksYyhsLm1ldGFkYXRhLFwic2NyZWVuSGVpZ2h0XCIsci5zY3JlZW4uaGVpZ2h0KSxjKGwubWV0YWRhdGEsXCJ3aW5kb3dXaWR0aFwiLHIuaW5uZXJXaWR0aCksYyhsLm1ldGFkYXRhLFwid2luZG93SGVpZ2h0XCIsci5pbm5lckhlaWdodCksYyhsLm1ldGFkYXRhLFwibWFwV2lkdGhcIixlLndpZHRoL2EpLGMobC5tZXRhZGF0YSxcIm1hcEhlaWdodFwiLGUuaGVpZ2h0L2EpLGMobC5tZXRhZGF0YSxcIndlYmdsUmVuZGVyZXJcIixlLnJlbmRlcmVyKSxjKGwubWV0YWRhdGEsXCJ3ZWJnbFZlbmRvclwiLGUudmVuZG9yKSxjKGwubWV0YWRhdGEsXCJzZGtWZXJzaW9uXCIsbiksYyhsLm1ldGFkYXRhLFwic2RrSWRlbnRpZmllclwiLFwibWFwYm94LWdsLWpzXCIpLGx9KGkpO2Zvcihjb25zdCBlIG9mIG8ubWV0YWRhdGEpO2Zvcihjb25zdCBlIG9mIG8uY291bnRlcnMpO2Zvcihjb25zdCBlIG9mIG8uYXR0cmlidXRlcyk7dGhpcy5wb3N0RXZlbnQodCxvLCgpPT57fSxlKX19LFBlPUllLnBvc3RQZXJmb3JtYW5jZUV2ZW50LmJpbmQoSWUpLHplPW5ldyBjbGFzcyBleHRlbmRzIFNle2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAuYXV0aFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwifWdldFNlc3Npb24oZSx0LHIsbil7aWYoIW8uQVBJX1VSTHx8IW8uU0VTU0lPTl9QQVRIKXJldHVybjtjb25zdCBpPXdlKG8uQVBJX1VSTCtvLlNFU1NJT05fUEFUSCk7aS5wYXJhbXMucHVzaChcInNrdT1cIisodHx8XCJcIikpLGkucGFyYW1zLnB1c2goXCJhY2Nlc3NfdG9rZW49XCIrKG58fG8uQUNDRVNTX1RPS0VOfHxcIlwiKSk7Y29uc3QgYT17dXJsOlRlKGkpLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluXCJ9fTt0aGlzLnBlbmRpbmdSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlKEkoZSx7bWV0aG9kOlwiR0VUXCJ9KSx0KX0oYSxlPT57dGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsLHIoZSksdGhpcy5zYXZlRXZlbnREYXRhKCksdGhpcy5wcm9jZXNzUmVxdWVzdHMobil9KX1nZXRTZXNzaW9uQVBJKGUsdCxyLG4pe3RoaXMuc2t1VG9rZW49dCx0aGlzLmVycm9yQ2I9bixvLlNFU1NJT05fUEFUSCYmby5BUElfVVJMJiYocnx8by5BQ0NFU1NfVE9LRU4/dGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOmUsdGltZXN0YW1wOkRhdGUubm93KCl9LHIpOnRoaXMuZXJyb3JDYihuZXcgRXJyb3IoZ2UpKSl9cHJvY2Vzc1JlcXVlc3RzKGUpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7aWQ6dCx0aW1lc3RhbXA6cn09dGhpcy5xdWV1ZS5zaGlmdCgpO3QmJnRoaXMuc3VjY2Vzc1t0XXx8dGhpcy5nZXRTZXNzaW9uKHIsdGhpcy5za3VUb2tlbixlPT57ZT90aGlzLmVycm9yQ2IoZSk6dCYmKHRoaXMuc3VjY2Vzc1t0XT0hMCl9LGUpfX0sRGU9emUuZ2V0U2Vzc2lvbkFQSS5iaW5kKHplKSxSZT1uZXcgU2V0LExlPXtjcmVhdGU6XCJjcmVhdGVcIixsb2FkOlwibG9hZFwiLGZ1bGxMb2FkOlwiZnVsbExvYWRcIn0sT2U9e21hcmsoZSl7ci5wZXJmb3JtYW5jZS5tYXJrKGUpfSxtZWFzdXJlKGUsdCxuKXtyLnBlcmZvcm1hbmNlLm1lYXN1cmUoZSx0LG4pfX07ZnVuY3Rpb24gQmUoZSl7Y29uc3QgdD1lLm5hbWUuc3BsaXQoXCI/XCIpWzBdO3JldHVybiB0LmluY2x1ZGVzKFwibWFwYm94LWdsLmpzXCIpP1wiamF2YXNjcmlwdFwiOnQuaW5jbHVkZXMoXCJtYXBib3gtZ2wuY3NzXCIpP1wiY3NzXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uQVBJX0ZPTlRTX1JFR0VYLnRlc3QoZSl9KHQpP1wiZm9udFJhbmdlXCI6eGUodCk/XCJzcHJpdGVcIjp2ZSh0KT9cInN0eWxlXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uQVBJX1RJTEVKU09OX1JFR0VYLnRlc3QoZSl9KHQpP1widGlsZWpzb25cIjpcIm90aGVyXCJ9Y29uc3QgRmU9ci5wZXJmb3JtYW5jZTtmdW5jdGlvbiBqZShlKXtjb25zdCB0PWU/ZS51cmwudG9TdHJpbmcoKTp2b2lkIDA7cmV0dXJuIEZlLmdldEVudHJpZXNCeU5hbWUodCl9bGV0IFVlLE5lLFZlLEdlO2NvbnN0IHFlPXtub3c6KCk9PnZvaWQgMCE9PVZlP1ZlOnIucGVyZm9ybWFuY2Uubm93KCksc2V0Tm93KGUpe1ZlPWV9LHJlc3RvcmVOb3coKXtWZT12b2lkIDB9LGZyYW1lKGUpe2NvbnN0IHQ9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJue2NhbmNlbDooKT0+ci5jYW5jZWxBbmltYXRpb25GcmFtZSh0KX19LGdldEltYWdlRGF0YShlLHQ9MCl7Y29uc3R7d2lkdGg6bixoZWlnaHQ6aX09ZTtHZXx8KEdlPXIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3Qgbz1HZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjYW52YXMgMmQgY29udGV4dFwiKTtyZXR1cm4obj5HZS53aWR0aHx8aT5HZS5oZWlnaHQpJiYoR2Uud2lkdGg9bixHZS5oZWlnaHQ9aSksby5jbGVhclJlY3QoLXQsLXQsbisyKnQsaSsyKnQpLG8uZHJhd0ltYWdlKGUsMCwwLG4saSksby5nZXRJbWFnZURhdGEoLXQsLXQsbisyKnQsaSsyKnQpfSxyZXNvbHZlVVJMOmU9PihVZXx8KFVlPXIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLFVlLmhyZWY9ZSxVZS5ocmVmKSxnZXQgZGV2aWNlUGl4ZWxSYXRpbygpe3JldHVybiByLmRldmljZVBpeGVsUmF0aW99LGdldCBwcmVmZXJzUmVkdWNlZE1vdGlvbigpe3JldHVybiEhci5tYXRjaE1lZGlhJiYobnVsbD09TmUmJihOZT1yLm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKSksTmUubWF0Y2hlcyl9fTtmdW5jdGlvbiBaZShlLHQscil7cltlXSYmLTEhPT1yW2VdLmluZGV4T2YodCl8fChyW2VdPXJbZV18fFtdLHJbZV0ucHVzaCh0KSl9ZnVuY3Rpb24gJGUoZSx0LHIpe2lmKHImJnJbZV0pe2NvbnN0IG49cltlXS5pbmRleE9mKHQpOy0xIT09biYmcltlXS5zcGxpY2UobiwxKX19Y2xhc3MgV2V7Y29uc3RydWN0b3IoZSx0PXt9KXtJKHRoaXMsdCksdGhpcy50eXBlPWV9fWNsYXNzIFhlIGV4dGVuZHMgV2V7Y29uc3RydWN0b3IoZSx0PXt9KXtzdXBlcihcImVycm9yXCIsSSh7ZXJyb3I6ZX0sdCkpfX1jbGFzcyBIZXtvbihlLHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxaZShlLHQsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZihlLHQpe3JldHVybiAkZShlLHQsdGhpcy5fbGlzdGVuZXJzKSwkZShlLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKGUsdCl7cmV0dXJuIHQ/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sWmUoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKHQ9PnRoaXMub25jZShlLHQpKX1maXJlKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW5ldyBXZShlLHR8fHt9KSk7Y29uc3Qgcj1lLnR5cGU7aWYodGhpcy5saXN0ZW5zKHIpKXtlLnRhcmdldD10aGlzO2NvbnN0IHQ9dGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbcl0/dGhpcy5fbGlzdGVuZXJzW3JdLnNsaWNlKCk6W107Zm9yKGNvbnN0IHIgb2YgdClyLmNhbGwodGhpcyxlKTtjb25zdCBuPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnMmJnRoaXMuX29uZVRpbWVMaXN0ZW5lcnNbcl0/dGhpcy5fb25lVGltZUxpc3RlbmVyc1tyXS5zbGljZSgpOltdO2Zvcihjb25zdCB0IG9mIG4pJGUocix0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHQuY2FsbCh0aGlzLGUpO2NvbnN0IGk9dGhpcy5fZXZlbnRlZFBhcmVudDtpJiYoSShlLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhP3RoaXMuX2V2ZW50ZWRQYXJlbnREYXRhKCk6dGhpcy5fZXZlbnRlZFBhcmVudERhdGEpLGkuZmlyZShlKSl9ZWxzZSBlIGluc3RhbmNlb2YgWGUmJmNvbnNvbGUuZXJyb3IoZS5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyhlKXtyZXR1cm4hISh0aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tlXSYmdGhpcy5fbGlzdGVuZXJzW2VdLmxlbmd0aD4wfHx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdLmxlbmd0aD4wfHx0aGlzLl9ldmVudGVkUGFyZW50JiZ0aGlzLl9ldmVudGVkUGFyZW50Lmxpc3RlbnMoZSkpfXNldEV2ZW50ZWRQYXJlbnQoZSx0KXtyZXR1cm4gdGhpcy5fZXZlbnRlZFBhcmVudD1lLHRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhPXQsdGhpc319dmFyIFllPUpTT04ucGFyc2UoJ3tcIiR2ZXJzaW9uXCI6OCxcIiRyb290XCI6e1widmVyc2lvblwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOls4XX0sXCJuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwibWV0YWRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIn0sXCJ6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiYmVhcmluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ1bml0c1wiOlwiZGVncmVlc1wifSxcInBpdGNoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInVuaXRzXCI6XCJkZWdyZWVzXCJ9LFwibGlnaHRcIjp7XCJ0eXBlXCI6XCJsaWdodFwifSxcInRlcnJhaW5cIjp7XCJ0eXBlXCI6XCJ0ZXJyYWluXCJ9LFwiZm9nXCI6e1widHlwZVwiOlwiZm9nXCJ9LFwic291cmNlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcInNvdXJjZXNcIn0sXCJzcHJpdGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJnbHlwaHNcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0cmFuc2l0aW9uXCI6e1widHlwZVwiOlwidHJhbnNpdGlvblwifSxcInByb2plY3Rpb25cIjp7XCJ0eXBlXCI6XCJwcm9qZWN0aW9uXCJ9LFwibGF5ZXJzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJsYXllclwifX0sXCJzb3VyY2VzXCI6e1wiKlwiOntcInR5cGVcIjpcInNvdXJjZVwifX0sXCJzb3VyY2VcIjpbXCJzb3VyY2VfdmVjdG9yXCIsXCJzb3VyY2VfcmFzdGVyXCIsXCJzb3VyY2VfcmFzdGVyX2RlbVwiLFwic291cmNlX2dlb2pzb25cIixcInNvdXJjZV92aWRlb1wiLFwic291cmNlX2ltYWdlXCJdLFwic291cmNlX3ZlY3RvclwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2ZWN0b3JcIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwic2NoZW1lXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wieHl6XCI6e30sXCJ0bXNcIjp7fX0sXCJkZWZhdWx0XCI6XCJ4eXpcIn0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJwcm9tb3RlSWRcIjp7XCJ0eXBlXCI6XCJwcm9tb3RlSWRcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfcmFzdGVyXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJhc3RlclwiOnt9fX0sXCJ1cmxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0aWxlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCJ9LFwiYm91bmRzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwidGlsZVNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MTIsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwic2NoZW1lXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wieHl6XCI6e30sXCJ0bXNcIjp7fX0sXCJkZWZhdWx0XCI6XCJ4eXpcIn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9yYXN0ZXJfZGVtXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJhc3Rlci1kZW1cIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyLFwidW5pdHNcIjpcInBpeGVsc1wifSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZW5jb2RpbmdcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ0ZXJyYXJpdW1cIjp7fSxcIm1hcGJveFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcGJveFwifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9nZW9qc29uXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImdlb2pzb25cIjp7fX19LFwiZGF0YVwiOntcInR5cGVcIjpcIipcIn0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTh9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJidWZmZXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMjgsXCJtYXhpbXVtXCI6NTEyLFwibWluaW11bVwiOjB9LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiKlwifSxcInRvbGVyYW5jZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAuMzc1fSxcImNsdXN0ZXJcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiY2x1c3RlclJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUwLFwibWluaW11bVwiOjB9LFwiY2x1c3Rlck1heFpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJjbHVzdGVyTWluUG9pbnRzXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3RlclByb3BlcnRpZXNcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibGluZU1ldHJpY3NcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiZ2VuZXJhdGVJZFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCJwcm9tb3RlSWRcIjp7XCJ0eXBlXCI6XCJwcm9tb3RlSWRcIn19LFwic291cmNlX3ZpZGVvXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpZGVvXCI6e319fSxcInVybHNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX2ltYWdlXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImltYWdlXCI6e319fSxcInVybFwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwibGF5ZXJcIjp7XCJpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcInR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJmaWxsXCI6e30sXCJsaW5lXCI6e30sXCJzeW1ib2xcIjp7fSxcImNpcmNsZVwiOnt9LFwiaGVhdG1hcFwiOnt9LFwiZmlsbC1leHRydXNpb25cIjp7fSxcInJhc3RlclwiOnt9LFwiaGlsbHNoYWRlXCI6e30sXCJiYWNrZ3JvdW5kXCI6e30sXCJza3lcIjp7fX0sXCJyZXF1aXJlZFwiOnRydWV9LFwibWV0YWRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwic291cmNlLWxheWVyXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjR9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjR9LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiZmlsdGVyXCJ9LFwibGF5b3V0XCI6e1widHlwZVwiOlwibGF5b3V0XCJ9LFwicGFpbnRcIjp7XCJ0eXBlXCI6XCJwYWludFwifX0sXCJsYXlvdXRcIjpbXCJsYXlvdXRfZmlsbFwiLFwibGF5b3V0X2xpbmVcIixcImxheW91dF9jaXJjbGVcIixcImxheW91dF9oZWF0bWFwXCIsXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIixcImxheW91dF9zeW1ib2xcIixcImxheW91dF9yYXN0ZXJcIixcImxheW91dF9oaWxsc2hhZGVcIixcImxheW91dF9iYWNrZ3JvdW5kXCIsXCJsYXlvdXRfc2t5XCJdLFwibGF5b3V0X2JhY2tncm91bmRcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9za3lcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsXCI6e1wiZmlsbC1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9jaXJjbGVcIjp7XCJjaXJjbGUtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfaGVhdG1hcFwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9saW5lXCI6e1wibGluZS1jYXBcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJidXR0XCI6e30sXCJyb3VuZFwiOnt9LFwic3F1YXJlXCI6e319LFwiZGVmYXVsdFwiOlwiYnV0dFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWpvaW5cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJiZXZlbFwiOnt9LFwicm91bmRcIjp7fSxcIm1pdGVyXCI6e319LFwiZGVmYXVsdFwiOlwibWl0ZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1taXRlci1saW1pdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJyZXF1aXJlc1wiOlt7XCJsaW5lLWpvaW5cIjpcIm1pdGVyXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtcm91bmQtbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLjA1LFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJyb3VuZFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3N5bWJvbFwiOntcInN5bWJvbC1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJwb2ludFwiOnt9LFwibGluZVwiOnt9LFwibGluZS1jZW50ZXJcIjp7fX0sXCJkZWZhdWx0XCI6XCJwb2ludFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjUwLFwibWluaW11bVwiOjEsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOlt7XCJzeW1ib2wtcGxhY2VtZW50XCI6XCJsaW5lXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwic3ltYm9sLXotb3JkZXJcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6e30sXCJ2aWV3cG9ydC15XCI6e30sXCJzb3VyY2VcIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwiZmFjdG9yIG9mIHRoZSBvcmlnaW5hbCBpY29uIHNpemVcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRleHQtZml0XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibm9uZVwiOnt9LFwid2lkdGhcIjp7fSxcImhlaWdodFwiOnt9LFwiYm90aFwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbMCwwLDAsMF0sXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcInRleHQtZmllbGRcIix7XCJpY29uLXRleHQtZml0XCI6W1wiYm90aFwiLFwid2lkdGhcIixcImhlaWdodFwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1pbWFnZVwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRva2Vuc1wiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIix7XCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOlwibWFwXCJ9LHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjp7fSxcImxlZnRcIjp7fSxcInJpZ2h0XCI6e30sXCJ0b3BcIjp7fSxcImJvdHRvbVwiOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e30sXCJhdXRvXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWZpZWxkXCI6e1widHlwZVwiOlwiZm9ybWF0dGVkXCIsXCJkZWZhdWx0XCI6XCJcIixcInRva2Vuc1wiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtZm9udFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6W1wiT3BlbiBTYW5zIFJlZ3VsYXJcIixcIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhclwiXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTYsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwiZW1zXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wicG9pbnRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4yLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtanVzdGlmeVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImF1dG9cIjp7fSxcImxlZnRcIjp7fSxcImNlbnRlclwiOnt9LFwicmlnaHRcIjp7fX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1yYWRpYWwtb2Zmc2V0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJ1bml0c1wiOlwiZW1zXCIsXCJkZWZhdWx0XCI6MCxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX0sXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6e30sXCJsZWZ0XCI6e30sXCJyaWdodFwiOnt9LFwidG9wXCI6e30sXCJib3R0b21cIjp7fSxcInRvcC1sZWZ0XCI6e30sXCJ0b3AtcmlnaHRcIjp7fSxcImJvdHRvbS1sZWZ0XCI6e30sXCJib3R0b20tcmlnaHRcIjp7fX0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wicG9pbnRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCIhXCI6XCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtbWF4LWFuZ2xlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NDUsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXdyaXRpbmctbW9kZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaG9yaXpvbnRhbFwiOnt9LFwidmVydGljYWxcIjp7fX0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWtlZXAtdXByaWdodFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zZm9ybVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjp7fSxcInVwcGVyY2FzZVwiOnt9LFwibG93ZXJjYXNlXCI6e319LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJ1bml0c1wiOlwiZW1zXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wiIVwiOlwidGV4dC1yYWRpYWwtb2Zmc2V0XCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtb3B0aW9uYWxcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIixcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfcmFzdGVyXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfaGlsbHNoYWRlXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJmaWx0ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIn0sXCJmaWx0ZXJfc3ltYm9sXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl19fSxcImZpbHRlcl9maWxsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX0sXCJmaWx0ZXJfbGluZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2NpcmNsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2ZpbGwtZXh0cnVzaW9uXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX0sXCJmaWx0ZXJfaGVhdG1hcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX29wZXJhdG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiPT1cIjp7fSxcIiE9XCI6e30sXCI+XCI6e30sXCI+PVwiOnt9LFwiPFwiOnt9LFwiPD1cIjp7fSxcImluXCI6e30sXCIhaW5cIjp7fSxcImFsbFwiOnt9LFwiYW55XCI6e30sXCJub25lXCI6e30sXCJoYXNcIjp7fSxcIiFoYXNcIjp7fSxcIndpdGhpblwiOnt9fX0sXCJnZW9tZXRyeV90eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiUG9pbnRcIjp7fSxcIkxpbmVTdHJpbmdcIjp7fSxcIlBvbHlnb25cIjp7fX19LFwiZnVuY3Rpb25cIjp7XCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiZXhwcmVzc2lvblwifSxcInN0b3BzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJmdW5jdGlvbl9zdG9wXCJ9LFwiYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MH0sXCJwcm9wZXJ0eVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiJHpvb21cIn0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaWRlbnRpdHlcIjp7fSxcImV4cG9uZW50aWFsXCI6e30sXCJpbnRlcnZhbFwiOnt9LFwiY2F0ZWdvcmljYWxcIjp7fX0sXCJkZWZhdWx0XCI6XCJleHBvbmVudGlhbFwifSxcImNvbG9yU3BhY2VcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyZ2JcIjp7fSxcImxhYlwiOnt9LFwiaGNsXCI6e319LFwiZGVmYXVsdFwiOlwicmdiXCJ9LFwiZGVmYXVsdFwiOntcInR5cGVcIjpcIipcIixcInJlcXVpcmVkXCI6ZmFsc2V9fSxcImZ1bmN0aW9uX3N0b3BcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjQsXCJ2YWx1ZVwiOltcIm51bWJlclwiLFwiY29sb3JcIl0sXCJsZW5ndGhcIjoyfSxcImV4cHJlc3Npb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIixcIm1pbmltdW1cIjoxfSxcImZvZ1wiOntcInJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMC41LDEwXSxcIm1pbmltdW1cIjotMjAsXCJtYXhpbXVtXCI6MjAsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImhpZ2gtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiIzI0NWNkZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJzcGFjZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw0LFwiIzAxMGIxOVwiLDcsXCIjMzY3YWI5XCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJob3Jpem9uLWJsZW5kXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw0LDAuMiw3LDAuMV0sXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJzdGFyLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNSwwLjM1LDYsMF0sXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwibGlnaHRcIjp7XCJhbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJwb3NpdGlvblwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzEuMTUsMjEwLDMwXSxcImxlbmd0aFwiOjMsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb2plY3Rpb25cIjp7XCJuYW1lXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYWxiZXJzXCI6e30sXCJlcXVhbEVhcnRoXCI6e30sXCJlcXVpcmVjdGFuZ3VsYXJcIjp7fSxcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiOnt9LFwibWVyY2F0b3JcIjp7fSxcIm5hdHVyYWxFYXJ0aFwiOnt9LFwid2lua2VsVHJpcGVsXCI6e30sXCJnbG9iZVwiOnt9fSxcImRlZmF1bHRcIjpcIm1lcmNhdG9yXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJtaW5pbXVtXCI6Wy0xODAsLTkwXSxcIm1heGltdW1cIjpbMTgwLDkwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIm5hbWVcIjpbXCJhbGJlcnNcIixcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiXX1dfSxcInBhcmFsbGVsc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwibWluaW11bVwiOlstOTAsLTkwXSxcIm1heGltdW1cIjpbOTAsOTBdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wibmFtZVwiOltcImFsYmVyc1wiLFwibGFtYmVydENvbmZvcm1hbENvbmljXCJdfV19fSxcInRlcnJhaW5cIjp7XCJzb3VyY2VcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJleGFnZ2VyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTAwMCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInNvdXJjZVwiXX19LFwicGFpbnRcIjpbXCJwYWludF9maWxsXCIsXCJwYWludF9saW5lXCIsXCJwYWludF9jaXJjbGVcIixcInBhaW50X2hlYXRtYXBcIixcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCIsXCJwYWludF9zeW1ib2xcIixcInBhaW50X3Jhc3RlclwiLFwicGFpbnRfaGlsbHNoYWRlXCIsXCJwYWludF9iYWNrZ3JvdW5kXCIsXCJwYWludF9za3lcIl0sXCJwYWludF9maWxsXCI6e1wiZmlsbC1hbnRpYWxpYXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtb3V0bGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtcGF0dGVyblwifSx7XCJmaWxsLWFudGlhbGlhc1wiOnRydWV9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImZpbGwtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIn19LFwicGFpbnRfZmlsbC1leHRydXNpb25cIjp7XCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiZmlsbC1leHRydXNpb24tcGF0dGVyblwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtZXRlcnNcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLWJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWV0ZXJzXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiZmlsbC1leHRydXNpb24taGVpZ2h0XCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjozLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiXX19LFwicGFpbnRfbGluZVwiOntcImxpbmUtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJsaW5lLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1nYXAtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWRhc2hhcnJheVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcImxpbmUgd2lkdGhzXCIsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIn0sXCJsaW5lLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9LFwibGluZS1ncmFkaWVudFwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn0se1wic291cmNlXCI6XCJnZW9qc29uXCIsXCJoYXNcIjp7XCJsaW5lTWV0cmljc1wiOnRydWV9fV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJsaW5lLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJsaW5lLXRyaW0tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzEsMV0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJzb3VyY2VcIjpcImdlb2pzb25cIixcImhhc1wiOntcImxpbmVNZXRyaWNzXCI6dHJ1ZX19XSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcInBhaW50X2NpcmNsZVwiOntcImNpcmNsZS1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1LFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImNpcmNsZS10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXBpdGNoLXNjYWxlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifX0sXCJwYWludF9oZWF0bWFwXCI6e1wiaGVhdG1hcC1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMCxcIm1pbmltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC13ZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhlYXRtYXAtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcImhlYXRtYXAtZGVuc2l0eVwiXSwwLFwicmdiYSgwLCAwLCAyNTUsIDApXCIsMC4xLFwicm95YWxibHVlXCIsMC4zLFwiY3lhblwiLDAuNSxcImxpbWVcIiwwLjcsXCJ5ZWxsb3dcIiwxLFwicmVkXCJdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiaGVhdG1hcC1kZW5zaXR5XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJoZWF0bWFwLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X3N5bWJvbFwiOntcImljb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcImljb24tdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcIm92ZXJyaWRhYmxlXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIixcInRleHQtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9yYXN0ZXJcIjp7XCJyYXN0ZXItb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItaHVlLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1zYXR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItY29udHJhc3RcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOi0xLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1yZXNhbXBsaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibGluZWFyXCI6e30sXCJuZWFyZXN0XCI6e319LFwiZGVmYXVsdFwiOlwibGluZWFyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMDAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9oaWxsc2hhZGVcIjp7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMzNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjM1OSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiNGRkZGRkZcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9iYWNrZ3JvdW5kXCI6e1wiYmFja2dyb3VuZC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImJhY2tncm91bmQtcGF0dGVyblwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkXCJ9LFwiYmFja2dyb3VuZC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9za3lcIjp7XCJza3ktdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImdyYWRpZW50XCI6e30sXCJhdG1vc3BoZXJlXCI6e319LFwiZGVmYXVsdFwiOlwiYXRtb3NwaGVyZVwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1blwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTAwLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcInZhbHVlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjpbMCwwXSxcImxlbmd0aFwiOjIsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlszNjAsMTgwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnQtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiZ3JhZGllbnRcIn1dLFwiZGVmYXVsdFwiOjkwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTgwLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudFwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wic2t5LXJhZGlhbC1wcm9ncmVzc1wiXSwwLjgsXCIjODdjZWViXCIsMSxcIndoaXRlXCJdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJ3aGl0ZVwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJ0cmFuc2l0aW9uXCI6e1wiZHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMDAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIn0sXCJkZWxheVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIn19LFwicHJvcGVydHktdHlwZVwiOntcImRhdGEtZHJpdmVuXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNyb3NzLWZhZGVkXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNvbG9yLXJhbXBcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiZGF0YS1jb25zdGFudFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjb25zdGFudFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn19LFwicHJvbW90ZUlkXCI6e1wiKlwiOntcInR5cGVcIjpcInN0cmluZ1wifX19Jyk7ZnVuY3Rpb24gS2UoZSwuLi50KXtmb3IoY29uc3QgciBvZiB0KWZvcihjb25zdCB0IGluIHIpZVt0XT1yW3RdO3JldHVybiBlfWZ1bmN0aW9uIEplKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgQm9vbGVhbj9lLnZhbHVlT2YoKTplfWZ1bmN0aW9uIFFlKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUubWFwKFFlKTtpZihlIGluc3RhbmNlb2YgT2JqZWN0JiYhKGUgaW5zdGFuY2VvZiBOdW1iZXJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd8fGUgaW5zdGFuY2VvZiBCb29sZWFuKSl7Y29uc3QgdD17fTtmb3IoY29uc3QgciBpbiBlKXRbcl09UWUoZVtyXSk7cmV0dXJuIHR9cmV0dXJuIEplKGUpfWNsYXNzIGV0IGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0KXtzdXBlcih0KSx0aGlzLm1lc3NhZ2U9dCx0aGlzLmtleT1lfX12YXIgdHQ9ZXQ7Y2xhc3MgcnR7Y29uc3RydWN0b3IoZSx0PVtdKXt0aGlzLnBhcmVudD1lLHRoaXMuYmluZGluZ3M9e307Zm9yKGNvbnN0W2Uscl1vZiB0KXRoaXMuYmluZGluZ3NbZV09cn1jb25jYXQoZSl7cmV0dXJuIG5ldyBydCh0aGlzLGUpfWdldChlKXtpZih0aGlzLmJpbmRpbmdzW2VdKXJldHVybiB0aGlzLmJpbmRpbmdzW2VdO2lmKHRoaXMucGFyZW50KXJldHVybiB0aGlzLnBhcmVudC5nZXQoZSk7dGhyb3cgbmV3IEVycm9yKGUrXCIgbm90IGZvdW5kIGluIHNjb3BlLlwiKX1oYXMoZSl7cmV0dXJuISF0aGlzLmJpbmRpbmdzW2VdfHwhIXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oYXMoZSl9fXZhciBudD1ydDtjb25zdCBpdD17a2luZDpcIm51bGxcIn0sb3Q9e2tpbmQ6XCJudW1iZXJcIn0sYXQ9e2tpbmQ6XCJzdHJpbmdcIn0sc3Q9e2tpbmQ6XCJib29sZWFuXCJ9LGx0PXtraW5kOlwiY29sb3JcIn0sY3Q9e2tpbmQ6XCJvYmplY3RcIn0sdXQ9e2tpbmQ6XCJ2YWx1ZVwifSxodD17a2luZDpcImNvbGxhdG9yXCJ9LGR0PXtraW5kOlwiZm9ybWF0dGVkXCJ9LHB0PXtraW5kOlwicmVzb2x2ZWRJbWFnZVwifTtmdW5jdGlvbiBmdChlLHQpe3JldHVybntraW5kOlwiYXJyYXlcIixpdGVtVHlwZTplLE46dH19ZnVuY3Rpb24gbXQoZSl7aWYoXCJhcnJheVwiPT09ZS5raW5kKXtjb25zdCB0PW10KGUuaXRlbVR5cGUpO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlLk4/YGFycmF5PCR7dH0sICR7ZS5OfT5gOlwidmFsdWVcIj09PWUuaXRlbVR5cGUua2luZD9cImFycmF5XCI6YGFycmF5PCR7dH0+YH1yZXR1cm4gZS5raW5kfWNvbnN0IGd0PVtpdCxvdCxhdCxzdCxsdCxkdCxjdCxmdCh1dCkscHRdO2Z1bmN0aW9uIF90KGUsdCl7aWYoXCJlcnJvclwiPT09dC5raW5kKXJldHVybiBudWxsO2lmKFwiYXJyYXlcIj09PWUua2luZCl7aWYoXCJhcnJheVwiPT09dC5raW5kJiYoMD09PXQuTiYmXCJ2YWx1ZVwiPT09dC5pdGVtVHlwZS5raW5kfHwhX3QoZS5pdGVtVHlwZSx0Lml0ZW1UeXBlKSkmJihcIm51bWJlclwiIT10eXBlb2YgZS5OfHxlLk49PT10Lk4pKXJldHVybiBudWxsfWVsc2V7aWYoZS5raW5kPT09dC5raW5kKXJldHVybiBudWxsO2lmKFwidmFsdWVcIj09PWUua2luZClmb3IoY29uc3QgZSBvZiBndClpZighX3QoZSx0KSlyZXR1cm4gbnVsbH1yZXR1cm5gRXhwZWN0ZWQgJHttdChlKX0gYnV0IGZvdW5kICR7bXQodCl9IGluc3RlYWQuYH1mdW5jdGlvbiB5dChlLHQpe3JldHVybiB0LnNvbWUodD0+dC5raW5kPT09ZS5raW5kKX1mdW5jdGlvbiB2dChlLHQpe3JldHVybiB0LnNvbWUodD0+XCJudWxsXCI9PT10P251bGw9PT1lOlwiYXJyYXlcIj09PXQ/QXJyYXkuaXNBcnJheShlKTpcIm9iamVjdFwiPT09dD9lJiYhQXJyYXkuaXNBcnJheShlKSYmXCJvYmplY3RcIj09dHlwZW9mIGU6dD09PXR5cGVvZiBlKX12YXIgeHQsYnQ9e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzLDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07ZnVuY3Rpb24gd3QoZSl7cmV0dXJuKGU9TWF0aC5yb3VuZChlKSk8MD8wOmU+MjU1PzI1NTplfWZ1bmN0aW9uIFR0KGUpe3JldHVybiB3dChcIiVcIj09PWVbZS5sZW5ndGgtMV0/cGFyc2VGbG9hdChlKS8xMDAqMjU1OnBhcnNlSW50KGUpKX1mdW5jdGlvbiBFdChlKXtyZXR1cm4odD1cIiVcIj09PWVbZS5sZW5ndGgtMV0/cGFyc2VGbG9hdChlKS8xMDA6cGFyc2VGbG9hdChlKSk8MD8wOnQ+MT8xOnQ7dmFyIHR9ZnVuY3Rpb24gU3QoZSx0LHIpe3JldHVybiByPDA/cis9MTpyPjEmJihyLT0xKSw2KnI8MT9lKyh0LWUpKnIqNjoyKnI8MT90OjMqcjwyP2UrKHQtZSkqKDIvMy1yKSo2OmV9dHJ5e3h0PXt9LnBhcnNlQ1NTQ29sb3I9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLnJlcGxhY2UoLyAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKHIgaW4gYnQpcmV0dXJuIGJ0W3JdLnNsaWNlKCk7aWYoXCIjXCI9PT1yWzBdKXJldHVybiA0PT09ci5sZW5ndGg/KHQ9cGFyc2VJbnQoci5zdWJzdHIoMSksMTYpKT49MCYmdDw9NDA5NT9bKDM4NDAmdCk+PjR8KDM4NDAmdCk+PjgsMjQwJnR8KDI0MCZ0KT4+NCwxNSZ0fCgxNSZ0KTw8NCwxXTpudWxsOjc9PT1yLmxlbmd0aCYmKHQ9cGFyc2VJbnQoci5zdWJzdHIoMSksMTYpKT49MCYmdDw9MTY3NzcyMTU/WygxNjcxMTY4MCZ0KT4+MTYsKDY1MjgwJnQpPj44LDI1NSZ0LDFdOm51bGw7dmFyIG49ci5pbmRleE9mKFwiKFwiKSxpPXIuaW5kZXhPZihcIilcIik7aWYoLTEhPT1uJiZpKzE9PT1yLmxlbmd0aCl7dmFyIG89ci5zdWJzdHIoMCxuKSxhPXIuc3Vic3RyKG4rMSxpLShuKzEpKS5zcGxpdChcIixcIikscz0xO3N3aXRjaChvKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PWEubGVuZ3RoKXJldHVybiBudWxsO3M9RXQoYS5wb3AoKSk7Y2FzZVwicmdiXCI6cmV0dXJuIDMhPT1hLmxlbmd0aD9udWxsOltUdChhWzBdKSxUdChhWzFdKSxUdChhWzJdKSxzXTtjYXNlXCJoc2xhXCI6aWYoNCE9PWEubGVuZ3RoKXJldHVybiBudWxsO3M9RXQoYS5wb3AoKSk7Y2FzZVwiaHNsXCI6aWYoMyE9PWEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBsPShwYXJzZUZsb2F0KGFbMF0pJTM2MCszNjApJTM2MC8zNjAsYz1FdChhWzFdKSx1PUV0KGFbMl0pLGg9dTw9LjU/dSooYysxKTp1K2MtdSpjLGQ9Mip1LWg7cmV0dXJuW3d0KDI1NSpTdChkLGgsbCsxLzMpKSx3dCgyNTUqU3QoZCxoLGwpKSx3dCgyNTUqU3QoZCxoLGwtMS8zKSksc107ZGVmYXVsdDpyZXR1cm4gbnVsbH19cmV0dXJuIG51bGx9fWNhdGNoKGUpe31jbGFzcyBDdHtjb25zdHJ1Y3RvcihlLHQscixuPTEpe3RoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1yLHRoaXMuYT1ufXN0YXRpYyBwYXJzZShlKXtpZighZSlyZXR1cm47aWYoZSBpbnN0YW5jZW9mIEN0KXJldHVybiBlO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybjtjb25zdCB0PXh0KGUpO3JldHVybiB0P25ldyBDdCh0WzBdLzI1NSp0WzNdLHRbMV0vMjU1KnRbM10sdFsyXS8yNTUqdFszXSx0WzNdKTp2b2lkIDB9dG9TdHJpbmcoKXtjb25zdFtlLHQscixuXT10aGlzLnRvQXJyYXkoKTtyZXR1cm5gcmdiYSgke01hdGgucm91bmQoZSl9LCR7TWF0aC5yb3VuZCh0KX0sJHtNYXRoLnJvdW5kKHIpfSwke259KWB9dG9BcnJheSgpe2NvbnN0e3I6ZSxnOnQsYjpyLGE6bn09dGhpcztyZXR1cm4gMD09PW4/WzAsMCwwLDBdOlsyNTUqZS9uLDI1NSp0L24sMjU1KnIvbixuXX10b0FycmF5MDEoKXtjb25zdHtyOmUsZzp0LGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMCwwXTpbZS9uLHQvbixyL24sbl19dG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhKCl7Y29uc3R7cjplLGc6dCxiOnIsYTpufT10aGlzO3JldHVybltlLHQscixuXX19Q3QuYmxhY2s9bmV3IEN0KDAsMCwwLDEpLEN0LndoaXRlPW5ldyBDdCgxLDEsMSwxKSxDdC50cmFuc3BhcmVudD1uZXcgQ3QoMCwwLDAsMCksQ3QucmVkPW5ldyBDdCgxLDAsMCwxKSxDdC5ibHVlPW5ldyBDdCgwLDAsMSwxKTt2YXIgTXQ9Q3Q7Y2xhc3Mga3R7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuc2Vuc2l0aXZpdHk9ZT90P1widmFyaWFudFwiOlwiY2FzZVwiOnQ/XCJhY2NlbnRcIjpcImJhc2VcIix0aGlzLmxvY2FsZT1yLHRoaXMuY29sbGF0b3I9bmV3IEludGwuQ29sbGF0b3IodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGU6W10se3NlbnNpdGl2aXR5OnRoaXMuc2Vuc2l0aXZpdHksdXNhZ2U6XCJzZWFyY2hcIn0pfWNvbXBhcmUoZSx0KXtyZXR1cm4gdGhpcy5jb2xsYXRvci5jb21wYXJlKGUsdCl9cmVzb2x2ZWRMb2NhbGUoKXtyZXR1cm4gbmV3IEludGwuQ29sbGF0b3IodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGU6W10pLnJlc29sdmVkT3B0aW9ucygpLmxvY2FsZX19Y2xhc3MgQXR7Y29uc3RydWN0b3IoZSx0LHIsbixpKXt0aGlzLnRleHQ9ZS5ub3JtYWxpemU/ZS5ub3JtYWxpemUoKTplLHRoaXMuaW1hZ2U9dCx0aGlzLnNjYWxlPXIsdGhpcy5mb250U3RhY2s9bix0aGlzLnRleHRDb2xvcj1pfX1jbGFzcyBJdHtjb25zdHJ1Y3RvcihlKXt0aGlzLnNlY3Rpb25zPWV9c3RhdGljIGZyb21TdHJpbmcoZSl7cmV0dXJuIG5ldyBJdChbbmV3IEF0KGUsbnVsbCxudWxsLG51bGwsbnVsbCldKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLnNlY3Rpb25zLmxlbmd0aHx8IXRoaXMuc2VjdGlvbnMuc29tZShlPT4wIT09ZS50ZXh0Lmxlbmd0aHx8ZS5pbWFnZSYmMCE9PWUuaW1hZ2UubmFtZS5sZW5ndGgpfXN0YXRpYyBmYWN0b3J5KGUpe3JldHVybiBlIGluc3RhbmNlb2YgSXQ/ZTpJdC5mcm9tU3RyaW5nKGUpfXRvU3RyaW5nKCl7cmV0dXJuIDA9PT10aGlzLnNlY3Rpb25zLmxlbmd0aD9cIlwiOnRoaXMuc2VjdGlvbnMubWFwKGU9PmUudGV4dCkuam9pbihcIlwiKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImZvcm1hdFwiXTtmb3IoY29uc3QgdCBvZiB0aGlzLnNlY3Rpb25zKXtpZih0LmltYWdlKXtlLnB1c2goW1wiaW1hZ2VcIix0LmltYWdlLm5hbWVdKTtjb250aW51ZX1lLnB1c2godC50ZXh0KTtjb25zdCByPXt9O3QuZm9udFN0YWNrJiYocltcInRleHQtZm9udFwiXT1bXCJsaXRlcmFsXCIsdC5mb250U3RhY2suc3BsaXQoXCIsXCIpXSksdC5zY2FsZSYmKHJbXCJmb250LXNjYWxlXCJdPXQuc2NhbGUpLHQudGV4dENvbG9yJiYocltcInRleHQtY29sb3JcIl09W1wicmdiYVwiXS5jb25jYXQodC50ZXh0Q29sb3IudG9BcnJheSgpKSksZS5wdXNoKHIpfXJldHVybiBlfX1jbGFzcyBQdHtjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9ZS5uYW1lLHRoaXMuYXZhaWxhYmxlPWUuYXZhaWxhYmxlfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZX1zdGF0aWMgZnJvbVN0cmluZyhlKXtyZXR1cm4gZT9uZXcgUHQoe25hbWU6ZSxhdmFpbGFibGU6ITF9KTpudWxsfXNlcmlhbGl6ZSgpe3JldHVybltcImltYWdlXCIsdGhpcy5uYW1lXX19ZnVuY3Rpb24genQoZSx0LHIsbil7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+PTAmJmU8PTI1NSYmXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+PTAmJnQ8PTI1NSYmXCJudW1iZXJcIj09dHlwZW9mIHImJnI+PTAmJnI8PTI1NT92b2lkIDA9PT1ufHxcIm51bWJlclwiPT10eXBlb2YgbiYmbj49MCYmbjw9MT9udWxsOmBJbnZhbGlkIHJnYmEgdmFsdWUgWyR7W2UsdCxyLG5dLmpvaW4oXCIsIFwiKX1dOiAnYScgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEuYDpgSW52YWxpZCByZ2JhIHZhbHVlIFskeyhcIm51bWJlclwiPT10eXBlb2Ygbj9bZSx0LHIsbl06W2UsdCxyXSkuam9pbihcIiwgXCIpfV06ICdyJywgJ2cnLCBhbmQgJ2InIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUuYH1mdW5jdGlvbiBEdChlKXtpZihudWxsPT09ZSlyZXR1cm4hMDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4hMDtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuITA7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuITA7aWYoZSBpbnN0YW5jZW9mIE10KXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiBrdClyZXR1cm4hMDtpZihlIGluc3RhbmNlb2YgSXQpcmV0dXJuITA7aWYoZSBpbnN0YW5jZW9mIFB0KXJldHVybiEwO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcihjb25zdCB0IG9mIGUpaWYoIUR0KHQpKXJldHVybiExO3JldHVybiEwfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IoY29uc3QgdCBpbiBlKWlmKCFEdChlW3RdKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBSdChlKXtpZihudWxsPT09ZSlyZXR1cm4gaXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGF0O2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4gc3Q7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIG90O2lmKGUgaW5zdGFuY2VvZiBNdClyZXR1cm4gbHQ7aWYoZSBpbnN0YW5jZW9mIGt0KXJldHVybiBodDtpZihlIGluc3RhbmNlb2YgSXQpcmV0dXJuIGR0O2lmKGUgaW5zdGFuY2VvZiBQdClyZXR1cm4gcHQ7aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgcjtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPVJ0KHQpO2lmKHIpe2lmKHI9PT1lKWNvbnRpbnVlO3I9dXQ7YnJlYWt9cj1lfXJldHVybiBmdChyfHx1dCx0KX1yZXR1cm4gY3R9ZnVuY3Rpb24gTHQoZSl7Y29uc3QgdD10eXBlb2YgZTtyZXR1cm4gbnVsbD09PWU/XCJcIjpcInN0cmluZ1wiPT09dHx8XCJudW1iZXJcIj09PXR8fFwiYm9vbGVhblwiPT09dD9TdHJpbmcoZSk6ZSBpbnN0YW5jZW9mIE10fHxlIGluc3RhbmNlb2YgSXR8fGUgaW5zdGFuY2VvZiBQdD9lLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZSl9Y2xhc3MgT3R7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLnZhbHVlPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGAnbGl0ZXJhbCcgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtpZighRHQoZVsxXSkpcmV0dXJuIHQuZXJyb3IoXCJpbnZhbGlkIHZhbHVlXCIpO2NvbnN0IHI9ZVsxXTtsZXQgbj1SdChyKTtjb25zdCBpPXQuZXhwZWN0ZWRUeXBlO3JldHVyblwiYXJyYXlcIiE9PW4ua2luZHx8MCE9PW4uTnx8IWl8fFwiYXJyYXlcIiE9PWkua2luZHx8XCJudW1iZXJcIj09dHlwZW9mIGkuTiYmMCE9PWkuTnx8KG49aSksbmV3IE90KG4scil9ZXZhbHVhdGUoKXtyZXR1cm4gdGhpcy52YWx1ZX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiEwfXNlcmlhbGl6ZSgpe3JldHVyblwiYXJyYXlcIj09PXRoaXMudHlwZS5raW5kfHxcIm9iamVjdFwiPT09dGhpcy50eXBlLmtpbmQ/W1wibGl0ZXJhbFwiLHRoaXMudmFsdWVdOnRoaXMudmFsdWUgaW5zdGFuY2VvZiBNdD9bXCJyZ2JhXCJdLmNvbmNhdCh0aGlzLnZhbHVlLnRvQXJyYXkoKSk6dGhpcy52YWx1ZSBpbnN0YW5jZW9mIEl0P3RoaXMudmFsdWUuc2VyaWFsaXplKCk6dGhpcy52YWx1ZX19dmFyIEJ0PU90LEZ0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZT1cIkV4cHJlc3Npb25FdmFsdWF0aW9uRXJyb3JcIix0aGlzLm1lc3NhZ2U9ZX10b0pTT04oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX07Y29uc3QganQ9e3N0cmluZzphdCxudW1iZXI6b3QsYm9vbGVhbjpzdCxvYmplY3Q6Y3R9O2NsYXNzIFV0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5hcmdzPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IHIsbj0xO2NvbnN0IGk9ZVswXTtpZihcImFycmF5XCI9PT1pKXtsZXQgaSxvO2lmKGUubGVuZ3RoPjIpe2NvbnN0IHI9ZVsxXTtpZihcInN0cmluZ1wiIT10eXBlb2Ygcnx8IShyIGluIGp0KXx8XCJvYmplY3RcIj09PXIpcmV0dXJuIHQuZXJyb3IoJ1RoZSBpdGVtIHR5cGUgYXJndW1lbnQgb2YgXCJhcnJheVwiIG11c3QgYmUgb25lIG9mIHN0cmluZywgbnVtYmVyLCBib29sZWFuJywxKTtpPWp0W3JdLG4rK31lbHNlIGk9dXQ7aWYoZS5sZW5ndGg+Myl7aWYobnVsbCE9PWVbMl0mJihcIm51bWJlclwiIT10eXBlb2YgZVsyXXx8ZVsyXTwwfHxlWzJdIT09TWF0aC5mbG9vcihlWzJdKSkpcmV0dXJuIHQuZXJyb3IoJ1RoZSBsZW5ndGggYXJndW1lbnQgdG8gXCJhcnJheVwiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGxpdGVyYWwnLDIpO289ZVsyXSxuKyt9cj1mdChpLG8pfWVsc2Ugcj1qdFtpXTtjb25zdCBvPVtdO2Zvcig7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHI9dC5wYXJzZShlW25dLG4sdXQpO2lmKCFyKXJldHVybiBudWxsO28ucHVzaChyKX1yZXR1cm4gbmV3IFV0KHIsbyl9ZXZhbHVhdGUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmFyZ3MubGVuZ3RoO3QrKyl7Y29uc3Qgcj10aGlzLmFyZ3NbdF0uZXZhbHVhdGUoZSk7aWYoIV90KHRoaXMudHlwZSxSdChyKSkpcmV0dXJuIHI7aWYodD09PXRoaXMuYXJncy5sZW5ndGgtMSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgJHttdCh0aGlzLnR5cGUpfSwgYnV0IGZvdW5kICR7bXQoUnQocikpfSBpbnN0ZWFkLmApfXJldHVybiBudWxsfWVhY2hDaGlsZChlKXt0aGlzLmFyZ3MuZm9yRWFjaChlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSl9c2VyaWFsaXplKCl7Y29uc3QgZT10aGlzLnR5cGUsdD1bZS5raW5kXTtpZihcImFycmF5XCI9PT1lLmtpbmQpe2NvbnN0IHI9ZS5pdGVtVHlwZTtpZihcInN0cmluZ1wiPT09ci5raW5kfHxcIm51bWJlclwiPT09ci5raW5kfHxcImJvb2xlYW5cIj09PXIua2luZCl7dC5wdXNoKHIua2luZCk7Y29uc3Qgbj1lLk47KFwibnVtYmVyXCI9PXR5cGVvZiBufHx0aGlzLmFyZ3MubGVuZ3RoPjEpJiZ0LnB1c2gobil9fXJldHVybiB0LmNvbmNhdCh0aGlzLmFyZ3MubWFwKGU9PmUuc2VyaWFsaXplKCkpKX19dmFyIE50PVV0O2NsYXNzIFZ0e2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1kdCx0aGlzLnNlY3Rpb25zPWV9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7Y29uc3Qgcj1lWzFdO2lmKCFBcnJheS5pc0FycmF5KHIpJiZcIm9iamVjdFwiPT10eXBlb2YgcilyZXR1cm4gdC5lcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW1hZ2Ugb3IgdGV4dCBzZWN0aW9uLlwiKTtjb25zdCBuPVtdO2xldCBpPSExO2ZvcihsZXQgcj0xO3I8PWUubGVuZ3RoLTE7KytyKXtjb25zdCBvPWVbcl07aWYoaSYmXCJvYmplY3RcIj09dHlwZW9mIG8mJiFBcnJheS5pc0FycmF5KG8pKXtpPSExO2xldCBlPW51bGw7aWYob1tcImZvbnQtc2NhbGVcIl0mJihlPXQucGFyc2Uob1tcImZvbnQtc2NhbGVcIl0sMSxvdCksIWUpKXJldHVybiBudWxsO2xldCByPW51bGw7aWYob1tcInRleHQtZm9udFwiXSYmKHI9dC5wYXJzZShvW1widGV4dC1mb250XCJdLDEsZnQoYXQpKSwhcikpcmV0dXJuIG51bGw7bGV0IGE9bnVsbDtpZihvW1widGV4dC1jb2xvclwiXSYmKGE9dC5wYXJzZShvW1widGV4dC1jb2xvclwiXSwxLGx0KSwhYSkpcmV0dXJuIG51bGw7Y29uc3Qgcz1uW24ubGVuZ3RoLTFdO3Muc2NhbGU9ZSxzLmZvbnQ9cixzLnRleHRDb2xvcj1hfWVsc2V7Y29uc3Qgbz10LnBhcnNlKGVbcl0sMSx1dCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgYT1vLnR5cGUua2luZDtpZihcInN0cmluZ1wiIT09YSYmXCJ2YWx1ZVwiIT09YSYmXCJudWxsXCIhPT1hJiZcInJlc29sdmVkSW1hZ2VcIiE9PWEpcmV0dXJuIHQuZXJyb3IoXCJGb3JtYXR0ZWQgdGV4dCB0eXBlIG11c3QgYmUgJ3N0cmluZycsICd2YWx1ZScsICdpbWFnZScgb3IgJ251bGwnLlwiKTtpPSEwLG4ucHVzaCh7Y29udGVudDpvLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfSl9fXJldHVybiBuZXcgVnQobil9ZXZhbHVhdGUoZSl7cmV0dXJuIG5ldyBJdCh0aGlzLnNlY3Rpb25zLm1hcCh0PT57Y29uc3Qgcj10LmNvbnRlbnQuZXZhbHVhdGUoZSk7cmV0dXJuIFJ0KHIpPT09cHQ/bmV3IEF0KFwiXCIscixudWxsLG51bGwsbnVsbCk6bmV3IEF0KEx0KHIpLG51bGwsdC5zY2FsZT90LnNjYWxlLmV2YWx1YXRlKGUpOm51bGwsdC5mb250P3QuZm9udC5ldmFsdWF0ZShlKS5qb2luKFwiLFwiKTpudWxsLHQudGV4dENvbG9yP3QudGV4dENvbG9yLmV2YWx1YXRlKGUpOm51bGwpfSkpfWVhY2hDaGlsZChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLnNlY3Rpb25zKWUodC5jb250ZW50KSx0LnNjYWxlJiZlKHQuc2NhbGUpLHQuZm9udCYmZSh0LmZvbnQpLHQudGV4dENvbG9yJiZlKHQudGV4dENvbG9yKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyl7ZS5wdXNoKHQuY29udGVudC5zZXJpYWxpemUoKSk7Y29uc3Qgcj17fTt0LnNjYWxlJiYocltcImZvbnQtc2NhbGVcIl09dC5zY2FsZS5zZXJpYWxpemUoKSksdC5mb250JiYocltcInRleHQtZm9udFwiXT10LmZvbnQuc2VyaWFsaXplKCkpLHQudGV4dENvbG9yJiYocltcInRleHQtY29sb3JcIl09dC50ZXh0Q29sb3Iuc2VyaWFsaXplKCkpLGUucHVzaChyKX1yZXR1cm4gZX19Y2xhc3MgR3R7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPXB0LHRoaXMuaW5wdXQ9ZX1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLlwiKTtjb25zdCByPXQucGFyc2UoZVsxXSwxLGF0KTtyZXR1cm4gcj9uZXcgR3Qocik6dC5lcnJvcihcIk5vIGltYWdlIG5hbWUgcHJvdmlkZWQuXCIpfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKSxyPVB0LmZyb21TdHJpbmcodCk7cmV0dXJuIHImJmUuYXZhaWxhYmxlSW1hZ2VzJiYoci5hdmFpbGFibGU9ZS5hdmFpbGFibGVJbWFnZXMuaW5kZXhPZih0KT4tMSkscn1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7cmV0dXJuW1wiaW1hZ2VcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX19Y29uc3QgcXQ9e1widG8tYm9vbGVhblwiOnN0LFwidG8tY29sb3JcIjpsdCxcInRvLW51bWJlclwiOm90LFwidG8tc3RyaW5nXCI6YXR9O2NsYXNzIFp0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5hcmdzPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7Y29uc3Qgcj1lWzBdO2lmKChcInRvLWJvb2xlYW5cIj09PXJ8fFwidG8tc3RyaW5nXCI9PT1yKSYmMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBuPXF0W3JdLGk9W107Zm9yKGxldCByPTE7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG49dC5wYXJzZShlW3JdLHIsdXQpO2lmKCFuKXJldHVybiBudWxsO2kucHVzaChuKX1yZXR1cm4gbmV3IFp0KG4saSl9ZXZhbHVhdGUoZSl7aWYoXCJib29sZWFuXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gQm9vbGVhbih0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpO2lmKFwiY29sb3JcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgdCxyO2Zvcihjb25zdCBuIG9mIHRoaXMuYXJncyl7aWYodD1uLmV2YWx1YXRlKGUpLHI9bnVsbCx0IGluc3RhbmNlb2YgTXQpcmV0dXJuIHQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0IHI9ZS5wYXJzZUNvbG9yKHQpO2lmKHIpcmV0dXJuIHJ9ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpJiYocj10Lmxlbmd0aDwzfHx0Lmxlbmd0aD40P2BJbnZhbGlkIHJiZ2EgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh0KX06IGV4cGVjdGVkIGFuIGFycmF5IGNvbnRhaW5pbmcgZWl0aGVyIHRocmVlIG9yIGZvdXIgbnVtZXJpYyB2YWx1ZXMuYDp6dCh0WzBdLHRbMV0sdFsyXSx0WzNdKSwhcikpcmV0dXJuIG5ldyBNdCh0WzBdLzI1NSx0WzFdLzI1NSx0WzJdLzI1NSx0WzNdKX10aHJvdyBuZXcgRnQocnx8YENvdWxkIG5vdCBwYXJzZSBjb2xvciBmcm9tIHZhbHVlICcke1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q6U3RyaW5nKEpTT04uc3RyaW5naWZ5KHQpKX0nYCl9aWYoXCJudW1iZXJcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgdD1udWxsO2Zvcihjb25zdCByIG9mIHRoaXMuYXJncyl7aWYodD1yLmV2YWx1YXRlKGUpLG51bGw9PT10KXJldHVybiAwO2NvbnN0IG49TnVtYmVyKHQpO2lmKCFpc05hTihuKSlyZXR1cm4gbn10aHJvdyBuZXcgRnQoYENvdWxkIG5vdCBjb252ZXJ0ICR7SlNPTi5zdHJpbmdpZnkodCl9IHRvIG51bWJlci5gKX1yZXR1cm5cImZvcm1hdHRlZFwiPT09dGhpcy50eXBlLmtpbmQ/SXQuZnJvbVN0cmluZyhMdCh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpKTpcInJlc29sdmVkSW1hZ2VcIj09PXRoaXMudHlwZS5raW5kP1B0LmZyb21TdHJpbmcoTHQodGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKSk6THQodGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKX1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2lmKFwiZm9ybWF0dGVkXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gbmV3IFZ0KFt7Y29udGVudDp0aGlzLmFyZ3NbMF0sc2NhbGU6bnVsbCxmb250Om51bGwsdGV4dENvbG9yOm51bGx9XSkuc2VyaWFsaXplKCk7aWYoXCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gbmV3IEd0KHRoaXMuYXJnc1swXSkuc2VyaWFsaXplKCk7Y29uc3QgZT1bXCJ0by1cIit0aGlzLnR5cGUua2luZF07cmV0dXJuIHRoaXMuZWFjaENoaWxkKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSl9KSxlfX12YXIgJHQ9WnQ7Y29uc3QgV3Q9W1wiVW5rbm93blwiLFwiUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIlBvbHlnb25cIl07dmFyIFh0PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5nbG9iYWxzPW51bGwsdGhpcy5mZWF0dXJlPW51bGwsdGhpcy5mZWF0dXJlU3RhdGU9bnVsbCx0aGlzLmZvcm1hdHRlZFNlY3Rpb249bnVsbCx0aGlzLl9wYXJzZUNvbG9yQ2FjaGU9e30sdGhpcy5hdmFpbGFibGVJbWFnZXM9bnVsbCx0aGlzLmNhbm9uaWNhbD1udWxsLHRoaXMuZmVhdHVyZVRpbGVDb29yZD1udWxsLHRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YT1udWxsfWlkKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdm9pZCAwIT09dGhpcy5mZWF0dXJlLmlkP3RoaXMuZmVhdHVyZS5pZDpudWxsfWdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLmZlYXR1cmU/XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZmVhdHVyZS50eXBlP1d0W3RoaXMuZmVhdHVyZS50eXBlXTp0aGlzLmZlYXR1cmUudHlwZTpudWxsfWdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmXCJnZW9tZXRyeVwiaW4gdGhpcy5mZWF0dXJlP3RoaXMuZmVhdHVyZS5nZW9tZXRyeTpudWxsfWNhbm9uaWNhbElEKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsfXByb3BlcnRpZXMoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUucHJvcGVydGllc3x8e319ZGlzdGFuY2VGcm9tQ2VudGVyKCl7aWYodGhpcy5mZWF0dXJlVGlsZUNvb3JkJiZ0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEpe2NvbnN0IGU9dGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmNlbnRlcix0PXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5zY2FsZSx7eDpyLHk6bn09dGhpcy5mZWF0dXJlVGlsZUNvb3JkO3JldHVybiB0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1swXSoocip0LWVbMF0pK3RoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5iZWFyaW5nWzFdKihuKnQtZVsxXSl9cmV0dXJuIDB9cGFyc2VDb2xvcihlKXtsZXQgdD10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbZV07cmV0dXJuIHR8fCh0PXRoaXMuX3BhcnNlQ29sb3JDYWNoZVtlXT1NdC5wYXJzZShlKSksdH19O2NsYXNzIEh0e2NvbnN0cnVjdG9yKGUsdCxyLG4pe3RoaXMubmFtZT1lLHRoaXMudHlwZT10LHRoaXMuX2V2YWx1YXRlPXIsdGhpcy5hcmdzPW59ZXZhbHVhdGUoZSl7cmV0dXJuIHRoaXMuX2V2YWx1YXRlKGUsdGhpcy5hcmdzKX1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVyblt0aGlzLm5hbWVdLmNvbmNhdCh0aGlzLmFyZ3MubWFwKGU9PmUuc2VyaWFsaXplKCkpKX1zdGF0aWMgcGFyc2UoZSx0KXtjb25zdCByPWVbMF0sbj1IdC5kZWZpbml0aW9uc1tyXTtpZighbilyZXR1cm4gdC5lcnJvcihgVW5rbm93biBleHByZXNzaW9uIFwiJHtyfVwiLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCk7Y29uc3QgaT1BcnJheS5pc0FycmF5KG4pP25bMF06bi50eXBlLG89QXJyYXkuaXNBcnJheShuKT9bW25bMV0sblsyXV1dOm4ub3ZlcmxvYWRzLGE9by5maWx0ZXIoKFt0XSk9PiFBcnJheS5pc0FycmF5KHQpfHx0Lmxlbmd0aD09PWUubGVuZ3RoLTEpO2xldCBzPW51bGw7Zm9yKGNvbnN0W24sb11vZiBhKXtzPW5ldyB3cih0LnJlZ2lzdHJ5LHQucGF0aCxudWxsLHQuc2NvcGUpO2NvbnN0IGE9W107bGV0IGw9ITE7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XSxpPUFycmF5LmlzQXJyYXkobik/blt0LTFdOm4udHlwZSxvPXMucGFyc2UociwxK2EubGVuZ3RoLGkpO2lmKCFvKXtsPSEwO2JyZWFrfWEucHVzaChvKX1pZighbClpZihBcnJheS5pc0FycmF5KG4pJiZuLmxlbmd0aCE9PWEubGVuZ3RoKXMuZXJyb3IoYEV4cGVjdGVkICR7bi5sZW5ndGh9IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7YS5sZW5ndGh9IGluc3RlYWQuYCk7ZWxzZXtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl7Y29uc3QgdD1BcnJheS5pc0FycmF5KG4pP25bZV06bi50eXBlLHI9YVtlXTtzLmNvbmNhdChlKzEpLmNoZWNrU3VidHlwZSh0LHIudHlwZSl9aWYoMD09PXMuZXJyb3JzLmxlbmd0aClyZXR1cm4gbmV3IEh0KHIsaSxvLGEpfX1pZigxPT09YS5sZW5ndGgpdC5lcnJvcnMucHVzaCguLi5zLmVycm9ycyk7ZWxzZXtjb25zdCByPShhLmxlbmd0aD9hOm8pLm1hcCgoW2VdKT0+e3JldHVybiB0PWUsQXJyYXkuaXNBcnJheSh0KT9gKCR7dC5tYXAobXQpLmpvaW4oXCIsIFwiKX0pYDpgKCR7bXQodC50eXBlKX0uLi4pYDt2YXIgdH0pLmpvaW4oXCIgfCBcIiksbj1bXTtmb3IobGV0IHI9MTtyPGUubGVuZ3RoO3IrKyl7Y29uc3QgaT10LnBhcnNlKGVbcl0sMStuLmxlbmd0aCk7aWYoIWkpcmV0dXJuIG51bGw7bi5wdXNoKG10KGkudHlwZSkpfXQuZXJyb3IoYEV4cGVjdGVkIGFyZ3VtZW50cyBvZiB0eXBlICR7cn0sIGJ1dCBmb3VuZCAoJHtuLmpvaW4oXCIsIFwiKX0pIGluc3RlYWQuYCl9cmV0dXJuIG51bGx9c3RhdGljIHJlZ2lzdGVyKGUsdCl7SHQuZGVmaW5pdGlvbnM9dDtmb3IoY29uc3QgciBpbiB0KWVbcl09SHR9fXZhciBZdD1IdDtjbGFzcyBLdHtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy50eXBlPWh0LHRoaXMubG9jYWxlPXIsdGhpcy5jYXNlU2Vuc2l0aXZlPWUsdGhpcy5kaWFjcml0aWNTZW5zaXRpdmU9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IHI9ZVsxXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSlyZXR1cm4gdC5lcnJvcihcIkNvbGxhdG9yIG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO2NvbnN0IG49dC5wYXJzZSh2b2lkIDAhPT1yW1wiY2FzZS1zZW5zaXRpdmVcIl0mJnJbXCJjYXNlLXNlbnNpdGl2ZVwiXSwxLHN0KTtpZighbilyZXR1cm4gbnVsbDtjb25zdCBpPXQucGFyc2Uodm9pZCAwIT09cltcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl0mJnJbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdLDEsc3QpO2lmKCFpKXJldHVybiBudWxsO2xldCBvPW51bGw7cmV0dXJuIHIubG9jYWxlJiYobz10LnBhcnNlKHIubG9jYWxlLDEsYXQpLCFvKT9udWxsOm5ldyBLdChuLGksbyl9ZXZhbHVhdGUoZSl7cmV0dXJuIG5ldyBrdCh0aGlzLmNhc2VTZW5zaXRpdmUuZXZhbHVhdGUoZSksdGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuZXZhbHVhdGUoZSksdGhpcy5sb2NhbGU/dGhpcy5sb2NhbGUuZXZhbHVhdGUoZSk6bnVsbCl9ZWFjaENoaWxkKGUpe2UodGhpcy5jYXNlU2Vuc2l0aXZlKSxlKHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlKSx0aGlzLmxvY2FsZSYmZSh0aGlzLmxvY2FsZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIGVbXCJjYXNlLXNlbnNpdGl2ZVwiXT10aGlzLmNhc2VTZW5zaXRpdmUuc2VyaWFsaXplKCksZVtcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJihlLmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksW1wiY29sbGF0b3JcIixlXX19Y29uc3QgSnQ9ODE5MjtmdW5jdGlvbiBRdChlLHQpe2VbMF09TWF0aC5taW4oZVswXSx0WzBdKSxlWzFdPU1hdGgubWluKGVbMV0sdFsxXSksZVsyXT1NYXRoLm1heChlWzJdLHRbMF0pLGVbM109TWF0aC5tYXgoZVszXSx0WzFdKX1mdW5jdGlvbiBlcihlLHQpe3JldHVybiEoZVswXTw9dFswXXx8ZVsyXT49dFsyXXx8ZVsxXTw9dFsxXXx8ZVszXT49dFszXSl9ZnVuY3Rpb24gdHIoZSx0KXtjb25zdCByPSgxODArZVswXSkvMzYwLG49KDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrZVsxXSpNYXRoLlBJLzM2MCkpKS8zNjAsaT1NYXRoLnBvdygyLHQueik7cmV0dXJuW01hdGgucm91bmQocippKkp0KSxNYXRoLnJvdW5kKG4qaSpKdCldfWZ1bmN0aW9uIHJyKGUsdCxyKXtjb25zdCBuPWVbMF0tdFswXSxpPWVbMV0tdFsxXSxvPWVbMF0tclswXSxhPWVbMV0tclsxXTtyZXR1cm4gbiphLW8qaT09MCYmbipvPD0wJiZpKmE8PTB9ZnVuY3Rpb24gbnIoZSx0KXtsZXQgcj0hMTtmb3IobGV0IGE9MCxzPXQubGVuZ3RoO2E8czthKyspe2NvbnN0IHM9dFthXTtmb3IobGV0IHQ9MCxhPXMubGVuZ3RoO3Q8YS0xO3QrKyl7aWYocnIoZSxzW3RdLHNbdCsxXSkpcmV0dXJuITE7KGk9c1t0XSlbMV0+KG49ZSlbMV0hPShvPXNbdCsxXSlbMV0+blsxXSYmblswXTwob1swXS1pWzBdKSooblsxXS1pWzFdKS8ob1sxXS1pWzFdKStpWzBdJiYocj0hcil9fXZhciBuLGksbztyZXR1cm4gcn1mdW5jdGlvbiBpcihlLHQpe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKG5yKGUsdFtyXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gb3IoZSx0LHIsbil7Y29uc3QgaT1uWzBdLXJbMF0sbz1uWzFdLXJbMV0sYT0oZVswXS1yWzBdKSpvLWkqKGVbMV0tclsxXSkscz0odFswXS1yWzBdKSpvLWkqKHRbMV0tclsxXSk7cmV0dXJuIGE+MCYmczwwfHxhPDAmJnM+MH1mdW5jdGlvbiBhcihlLHQscil7Zm9yKGNvbnN0IGMgb2Ygcilmb3IobGV0IHI9MDtyPGMubGVuZ3RoLTE7KytyKWlmKDAhPShzPVsoYT1jW3IrMV0pWzBdLShvPWNbcl0pWzBdLGFbMV0tb1sxXV0pWzBdKihsPVsoaT10KVswXS0obj1lKVswXSxpWzFdLW5bMV1dKVsxXS1zWzFdKmxbMF0mJm9yKG4saSxvLGEpJiZvcihvLGEsbixpKSlyZXR1cm4hMDt2YXIgbixpLG8sYSxzLGw7cmV0dXJuITF9ZnVuY3Rpb24gc3IoZSx0KXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcilpZighbnIoZVtyXSx0KSlyZXR1cm4hMTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoLTE7KytyKWlmKGFyKGVbcl0sZVtyKzFdLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGxyKGUsdCl7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYoc3IoZSx0W3JdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjcihlLHQscil7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1bXTtmb3IobGV0IG49MDtuPGVbaV0ubGVuZ3RoO24rKyl7Y29uc3QgYT10cihlW2ldW25dLHIpO1F0KHQsYSksby5wdXNoKGEpfW4ucHVzaChvKX1yZXR1cm4gbn1mdW5jdGlvbiB1cihlLHQscil7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1jcihlW2ldLHQscik7bi5wdXNoKG8pfXJldHVybiBufWZ1bmN0aW9uIGhyKGUsdCxyLG4pe2lmKGVbMF08clswXXx8ZVswXT5yWzJdKXtjb25zdCB0PS41Km47bGV0IGk9ZVswXS1yWzBdPnQ/LW46clswXS1lWzBdPnQ/bjowOzA9PT1pJiYoaT1lWzBdLXJbMl0+dD8tbjpyWzJdLWVbMF0+dD9uOjApLGVbMF0rPWl9UXQodCxlKX1mdW5jdGlvbiBkcihlLHQscixuKXtjb25zdCBpPU1hdGgucG93KDIsbi56KSpKdCxvPVtuLngqSnQsbi55Kkp0XSxhPVtdO2lmKCFlKXJldHVybiBhO2Zvcihjb25zdCBuIG9mIGUpZm9yKGNvbnN0IGUgb2Ygbil7Y29uc3Qgbj1bZS54K29bMF0sZS55K29bMV1dO2hyKG4sdCxyLGkpLGEucHVzaChuKX1yZXR1cm4gYX1mdW5jdGlvbiBwcihlLHQscixuKXtjb25zdCBpPU1hdGgucG93KDIsbi56KSpKdCxvPVtuLngqSnQsbi55Kkp0XSxhPVtdO2lmKCFlKXJldHVybiBhO2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj1bbi54K29bMF0sbi55K29bMV1dO1F0KHQsciksZS5wdXNoKHIpfWEucHVzaChlKX1pZih0WzJdLXRbMF08PWkvMil7KHM9dClbMF09c1sxXT0xLzAsc1syXT1zWzNdPS0xLzA7Zm9yKGNvbnN0IGUgb2YgYSlmb3IoY29uc3QgbiBvZiBlKWhyKG4sdCxyLGkpfXZhciBzO3JldHVybiBhfWNsYXNzIGZye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXN0LHRoaXMuZ2VvanNvbj1lLHRoaXMuZ2VvbWV0cmllcz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtpZihEdChlWzFdKSl7Y29uc3QgdD1lWzFdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PXQudHlwZSlmb3IobGV0IGU9MDtlPHQuZmVhdHVyZXMubGVuZ3RoOysrZSl7Y29uc3Qgcj10LmZlYXR1cmVzW2VdLmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT1yfHxcIk11bHRpUG9seWdvblwiPT09cilyZXR1cm4gbmV3IGZyKHQsdC5mZWF0dXJlc1tlXS5nZW9tZXRyeSl9ZWxzZSBpZihcIkZlYXR1cmVcIj09PXQudHlwZSl7Y29uc3QgZT10Lmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT1lfHxcIk11bHRpUG9seWdvblwiPT09ZSlyZXR1cm4gbmV3IGZyKHQsdC5nZW9tZXRyeSl9ZWxzZSBpZihcIlBvbHlnb25cIj09PXQudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSlyZXR1cm4gbmV3IGZyKHQsdCl9cmV0dXJuIHQuZXJyb3IoXCInd2l0aGluJyBleHByZXNzaW9uIHJlcXVpcmVzIHZhbGlkIGdlb2pzb24gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9seWdvbiBnZW9tZXRyeSB0eXBlLlwiKX1ldmFsdWF0ZShlKXtpZihudWxsIT1lLmdlb21ldHJ5KCkmJm51bGwhPWUuY2Fub25pY2FsSUQoKSl7aWYoXCJQb2ludFwiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCByPVsxLzAsMS8wLC0xLzAsLTEvMF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9ZS5jYW5vbmljYWxJRCgpO2lmKCFpKXJldHVybiExO2lmKFwiUG9seWdvblwiPT09dC50eXBlKXtjb25zdCBvPWNyKHQuY29vcmRpbmF0ZXMsbixpKSxhPWRyKGUuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIWVyKHIsbikpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgYSlpZighbnIoZSxvKSlyZXR1cm4hMX1pZihcIk11bHRpUG9seWdvblwiPT09dC50eXBlKXtjb25zdCBvPXVyKHQuY29vcmRpbmF0ZXMsbixpKSxhPWRyKGUuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIWVyKHIsbikpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgYSlpZighaXIoZSxvKSlyZXR1cm4hMX1yZXR1cm4hMH0oZSx0aGlzLmdlb21ldHJpZXMpO2lmKFwiTGluZVN0cmluZ1wiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCByPVsxLzAsMS8wLC0xLzAsLTEvMF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9ZS5jYW5vbmljYWxJRCgpO2lmKCFpKXJldHVybiExO2lmKFwiUG9seWdvblwiPT09dC50eXBlKXtjb25zdCBvPWNyKHQuY29vcmRpbmF0ZXMsbixpKSxhPXByKGUuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIWVyKHIsbikpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgYSlpZighc3IoZSxvKSlyZXR1cm4hMX1pZihcIk11bHRpUG9seWdvblwiPT09dC50eXBlKXtjb25zdCBvPXVyKHQuY29vcmRpbmF0ZXMsbixpKSxhPXByKGUuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIWVyKHIsbikpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgYSlpZighbHIoZSxvKSlyZXR1cm4hMX1yZXR1cm4hMH0oZSx0aGlzLmdlb21ldHJpZXMpfXJldHVybiExfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuITB9c2VyaWFsaXplKCl7cmV0dXJuW1wid2l0aGluXCIsdGhpcy5nZW9qc29uXX19dmFyIG1yPWZyO2Z1bmN0aW9uIGdyKGUpe2lmKGUgaW5zdGFuY2VvZiBZdCl7aWYoXCJnZXRcIj09PWUubmFtZSYmMT09PWUuYXJncy5sZW5ndGgpcmV0dXJuITE7aWYoXCJmZWF0dXJlLXN0YXRlXCI9PT1lLm5hbWUpcmV0dXJuITE7aWYoXCJoYXNcIj09PWUubmFtZSYmMT09PWUuYXJncy5sZW5ndGgpcmV0dXJuITE7aWYoXCJwcm9wZXJ0aWVzXCI9PT1lLm5hbWV8fFwiZ2VvbWV0cnktdHlwZVwiPT09ZS5uYW1lfHxcImlkXCI9PT1lLm5hbWUpcmV0dXJuITE7aWYoL15maWx0ZXItLy50ZXN0KGUubmFtZSkpcmV0dXJuITF9aWYoZSBpbnN0YW5jZW9mIG1yKXJldHVybiExO2xldCB0PSEwO3JldHVybiBlLmVhY2hDaGlsZChlPT57dCYmIWdyKGUpJiYodD0hMSl9KSx0fWZ1bmN0aW9uIF9yKGUpe2lmKGUgaW5zdGFuY2VvZiBZdCYmXCJmZWF0dXJlLXN0YXRlXCI9PT1lLm5hbWUpcmV0dXJuITE7bGV0IHQ9ITA7cmV0dXJuIGUuZWFjaENoaWxkKGU9Pnt0JiYhX3IoZSkmJih0PSExKX0pLHR9ZnVuY3Rpb24geXIoZSx0KXtpZihlIGluc3RhbmNlb2YgWXQmJnQuaW5kZXhPZihlLm5hbWUpPj0wKXJldHVybiExO2xldCByPSEwO3JldHVybiBlLmVhY2hDaGlsZChlPT57ciYmIXlyKGUsdCkmJihyPSExKX0pLHJ9Y2xhc3MgdnJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9dC50eXBlLHRoaXMubmFtZT1lLHRoaXMuYm91bmRFeHByZXNzaW9uPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RofHxcInN0cmluZ1wiIT10eXBlb2YgZVsxXSlyZXR1cm4gdC5lcnJvcihcIid2YXInIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgc3RyaW5nIGxpdGVyYWwgYXJndW1lbnQuXCIpO2NvbnN0IHI9ZVsxXTtyZXR1cm4gdC5zY29wZS5oYXMocik/bmV3IHZyKHIsdC5zY29wZS5nZXQocikpOnQuZXJyb3IoYFVua25vd24gdmFyaWFibGUgXCIke3J9XCIuIE1ha2Ugc3VyZSBcIiR7cn1cIiBoYXMgYmVlbiBib3VuZCBpbiBhbiBlbmNsb3NpbmcgXCJsZXRcIiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC5gLDEpfWV2YWx1YXRlKGUpe3JldHVybiB0aGlzLmJvdW5kRXhwcmVzc2lvbi5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVybltcInZhclwiLHRoaXMubmFtZV19fXZhciB4cj12cjtjbGFzcyBicntjb25zdHJ1Y3RvcihlLHQ9W10scixuPW5ldyBudCxpPVtdKXt0aGlzLnJlZ2lzdHJ5PWUsdGhpcy5wYXRoPXQsdGhpcy5rZXk9dC5tYXAoZT0+YFske2V9XWApLmpvaW4oXCJcIiksdGhpcy5zY29wZT1uLHRoaXMuZXJyb3JzPWksdGhpcy5leHBlY3RlZFR5cGU9cn1wYXJzZShlLHQscixuLGk9e30pe3JldHVybiB0P3RoaXMuY29uY2F0KHQscixuKS5fcGFyc2UoZSxpKTp0aGlzLl9wYXJzZShlLGkpfV9wYXJzZShlLHQpe2Z1bmN0aW9uIHIoZSx0LHIpe3JldHVyblwiYXNzZXJ0XCI9PT1yP25ldyBOdCh0LFtlXSk6XCJjb2VyY2VcIj09PXI/bmV3ICR0KHQsW2VdKTplfWlmKG51bGwhPT1lJiZcInN0cmluZ1wiIT10eXBlb2YgZSYmXCJib29sZWFuXCIhPXR5cGVvZiBlJiZcIm51bWJlclwiIT10eXBlb2YgZXx8KGU9W1wibGl0ZXJhbFwiLGVdKSxBcnJheS5pc0FycmF5KGUpKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHRoaXMuZXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5IHdpdGggYXQgbGVhc3Qgb25lIGVsZW1lbnQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbXV0uJyk7Y29uc3Qgbj1lWzBdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXJldHVybiB0aGlzLmVycm9yKGBFeHByZXNzaW9uIG5hbWUgbXVzdCBiZSBhIHN0cmluZywgYnV0IGZvdW5kICR7dHlwZW9mIG59IGluc3RlYWQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKSxudWxsO2NvbnN0IGk9dGhpcy5yZWdpc3RyeVtuXTtpZihpKXtsZXQgbj1pLnBhcnNlKGUsdGhpcyk7aWYoIW4pcmV0dXJuIG51bGw7aWYodGhpcy5leHBlY3RlZFR5cGUpe2NvbnN0IGU9dGhpcy5leHBlY3RlZFR5cGUsaT1uLnR5cGU7aWYoXCJzdHJpbmdcIiE9PWUua2luZCYmXCJudW1iZXJcIiE9PWUua2luZCYmXCJib29sZWFuXCIhPT1lLmtpbmQmJlwib2JqZWN0XCIhPT1lLmtpbmQmJlwiYXJyYXlcIiE9PWUua2luZHx8XCJ2YWx1ZVwiIT09aS5raW5kKWlmKFwiY29sb3JcIiE9PWUua2luZCYmXCJmb3JtYXR0ZWRcIiE9PWUua2luZCYmXCJyZXNvbHZlZEltYWdlXCIhPT1lLmtpbmR8fFwidmFsdWVcIiE9PWkua2luZCYmXCJzdHJpbmdcIiE9PWkua2luZCl7aWYodGhpcy5jaGVja1N1YnR5cGUoZSxpKSlyZXR1cm4gbnVsbH1lbHNlIG49cihuLGUsdC50eXBlQW5ub3RhdGlvbnx8XCJjb2VyY2VcIik7ZWxzZSBuPXIobixlLHQudHlwZUFubm90YXRpb258fFwiYXNzZXJ0XCIpfWlmKCEobiBpbnN0YW5jZW9mIEJ0KSYmXCJyZXNvbHZlZEltYWdlXCIhPT1uLnR5cGUua2luZCYmZnVuY3Rpb24gZSh0KXtpZih0IGluc3RhbmNlb2YgeHIpcmV0dXJuIGUodC5ib3VuZEV4cHJlc3Npb24pO2lmKHQgaW5zdGFuY2VvZiBZdCYmXCJlcnJvclwiPT09dC5uYW1lKXJldHVybiExO2lmKHQgaW5zdGFuY2VvZiBLdClyZXR1cm4hMTtpZih0IGluc3RhbmNlb2YgbXIpcmV0dXJuITE7Y29uc3Qgcj10IGluc3RhbmNlb2YgJHR8fHQgaW5zdGFuY2VvZiBOdDtsZXQgbj0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQodD0+e249cj9uJiZlKHQpOm4mJnQgaW5zdGFuY2VvZiBCdH0pLCEhbiYmZ3IodCkmJnlyKHQsW1wiem9vbVwiLFwiaGVhdG1hcC1kZW5zaXR5XCIsXCJsaW5lLXByb2dyZXNzXCIsXCJza3ktcmFkaWFsLXByb2dyZXNzXCIsXCJhY2N1bXVsYXRlZFwiLFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKX0obikpe2NvbnN0IHQ9bmV3IFh0O3RyeXtuPW5ldyBCdChuLnR5cGUsbi5ldmFsdWF0ZSh0KSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMuZXJyb3IoZS5tZXNzYWdlKSxudWxsfX1yZXR1cm4gbn1yZXR1cm4gdGhpcy5lcnJvcihgVW5rbm93biBleHByZXNzaW9uIFwiJHtufVwiLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCl9cmV0dXJuIHRoaXMuZXJyb3Iodm9pZCAwPT09ZT9cIid1bmRlZmluZWQnIHZhbHVlIGludmFsaWQuIFVzZSBudWxsIGluc3RlYWQuXCI6XCJvYmplY3RcIj09dHlwZW9mIGU/J0JhcmUgb2JqZWN0cyBpbnZhbGlkLiBVc2UgW1wibGl0ZXJhbFwiLCB7Li4ufV0gaW5zdGVhZC4nOmBFeHBlY3RlZCBhbiBhcnJheSwgYnV0IGZvdW5kICR7dHlwZW9mIGV9IGluc3RlYWQuYCl9Y29uY2F0KGUsdCxyKXtjb25zdCBuPVwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMucGF0aC5jb25jYXQoZSk6dGhpcy5wYXRoLGk9cj90aGlzLnNjb3BlLmNvbmNhdChyKTp0aGlzLnNjb3BlO3JldHVybiBuZXcgYnIodGhpcy5yZWdpc3RyeSxuLHR8fG51bGwsaSx0aGlzLmVycm9ycyl9ZXJyb3IoZSwuLi50KXtjb25zdCByPWAke3RoaXMua2V5fSR7dC5tYXAoZT0+YFske2V9XWApLmpvaW4oXCJcIil9YDt0aGlzLmVycm9ycy5wdXNoKG5ldyB0dChyLGUpKX1jaGVja1N1YnR5cGUoZSx0KXtjb25zdCByPV90KGUsdCk7cmV0dXJuIHImJnRoaXMuZXJyb3Iocikscn19dmFyIHdyPWJyO2Z1bmN0aW9uIFRyKGUsdCl7Y29uc3Qgcj1lLmxlbmd0aC0xO2xldCBuLGksbz0wLGE9cixzPTA7Zm9yKDtvPD1hOylpZihzPU1hdGguZmxvb3IoKG8rYSkvMiksbj1lW3NdLGk9ZVtzKzFdLG48PXQpe2lmKHM9PT1yfHx0PGkpcmV0dXJuIHM7bz1zKzF9ZWxzZXtpZighKG4+dCkpdGhyb3cgbmV3IEZ0KFwiSW5wdXQgaXMgbm90IGEgbnVtYmVyLlwiKTthPXMtMX1yZXR1cm4gMH1jbGFzcyBFcntjb25zdHJ1Y3RvcihlLHQscil7dGhpcy50eXBlPWUsdGhpcy5pbnB1dD10LHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IoY29uc3RbZSx0XW9mIHIpdGhpcy5sYWJlbHMucHVzaChlKSx0aGlzLm91dHB1dHMucHVzaCh0KX1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aC0xPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKChlLmxlbmd0aC0xKSUyIT0wKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtjb25zdCByPXQucGFyc2UoZVsxXSwxLG90KTtpZighcilyZXR1cm4gbnVsbDtjb25zdCBuPVtdO2xldCBpPW51bGw7dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihpPXQuZXhwZWN0ZWRUeXBlKTtmb3IobGV0IHI9MTtyPGUubGVuZ3RoO3IrPTIpe2NvbnN0IG89MT09PXI/LTEvMDplW3JdLGE9ZVtyKzFdLHM9cixsPXIrMTtpZihcIm51bWJlclwiIT10eXBlb2YgbylyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcInN0ZXBcIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLHMpO2lmKG4ubGVuZ3RoJiZuW24ubGVuZ3RoLTFdWzBdPj1vKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwic3RlcFwiIGV4cHJlc3Npb25zIG11c3QgYmUgYXJyYW5nZWQgd2l0aCBpbnB1dCB2YWx1ZXMgaW4gc3RyaWN0bHkgYXNjZW5kaW5nIG9yZGVyLicscyk7Y29uc3QgYz10LnBhcnNlKGEsbCxpKTtpZighYylyZXR1cm4gbnVsbDtpPWl8fGMudHlwZSxuLnB1c2goW28sY10pfXJldHVybiBuZXcgRXIoaSxyLG4pfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5sYWJlbHMscj10aGlzLm91dHB1dHM7aWYoMT09PXQubGVuZ3RoKXJldHVybiByWzBdLmV2YWx1YXRlKGUpO2NvbnN0IG49dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZihuPD10WzBdKXJldHVybiByWzBdLmV2YWx1YXRlKGUpO2NvbnN0IGk9dC5sZW5ndGg7cmV0dXJuIG4+PXRbaS0xXT9yW2ktMV0uZXZhbHVhdGUoZSk6cltUcih0LG4pXS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KTtmb3IoY29uc3QgdCBvZiB0aGlzLm91dHB1dHMpZSh0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJzdGVwXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV07Zm9yKGxldCB0PTA7dDx0aGlzLmxhYmVscy5sZW5ndGg7dCsrKXQ+MCYmZS5wdXNoKHRoaXMubGFiZWxzW3RdKSxlLnB1c2godGhpcy5vdXRwdXRzW3RdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gZX19dmFyIFNyPUVyO2Z1bmN0aW9uIENyKGUsdCxyKXtyZXR1cm4gZSooMS1yKSt0KnJ9dmFyIE1yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLG51bWJlcjpDcixjb2xvcjpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBNdChDcihlLnIsdC5yLHIpLENyKGUuZyx0LmcsciksQ3IoZS5iLHQuYixyKSxDcihlLmEsdC5hLHIpKX0sYXJyYXk6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLm1hcCgoZSxuKT0+Q3IoZSx0W25dLHIpKX19KTtjb25zdCBrcj02LzI5KjMqKDYvMjkpLEFyPU1hdGguUEkvMTgwLElyPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIFByKGUpe3JldHVybiBlPi4wMDg4NTY0NTE2NzkwMzU2MzE/TWF0aC5wb3coZSwxLzMpOmUva3IrNC8yOX1mdW5jdGlvbiB6cihlKXtyZXR1cm4gZT42LzI5P2UqZSplOmtyKihlLTQvMjkpfWZ1bmN0aW9uIERyKGUpe3JldHVybiAyNTUqKGU8PS4wMDMxMzA4PzEyLjkyKmU6MS4wNTUqTWF0aC5wb3coZSwxLzIuNCktLjA1NSl9ZnVuY3Rpb24gUnIoZSl7cmV0dXJuKGUvPTI1NSk8PS4wNDA0NT9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gTHIoZSl7Y29uc3QgdD1ScihlLnIpLHI9UnIoZS5nKSxuPVJyKGUuYiksaT1QcigoLjQxMjQ1NjQqdCsuMzU3NTc2MSpyKy4xODA0Mzc1Km4pLy45NTA0Nyksbz1QcigoLjIxMjY3MjkqdCsuNzE1MTUyMipyKy4wNzIxNzUqbikvMSk7cmV0dXJue2w6MTE2Km8tMTYsYTo1MDAqKGktbyksYjoyMDAqKG8tUHIoKC4wMTkzMzM5KnQrLjExOTE5MipyKy45NTAzMDQxKm4pLzEuMDg4ODMpKSxhbHBoYTplLmF9fWZ1bmN0aW9uIE9yKGUpe2xldCB0PShlLmwrMTYpLzExNixyPWlzTmFOKGUuYSk/dDp0K2UuYS81MDAsbj1pc05hTihlLmIpP3Q6dC1lLmIvMjAwO3JldHVybiB0PTEqenIodCkscj0uOTUwNDcqenIociksbj0xLjA4ODgzKnpyKG4pLG5ldyBNdChEcigzLjI0MDQ1NDIqci0xLjUzNzEzODUqdC0uNDk4NTMxNCpuKSxEcigtLjk2OTI2NipyKzEuODc2MDEwOCp0Ky4wNDE1NTYqbiksRHIoLjA1NTY0MzQqci0uMjA0MDI1OSp0KzEuMDU3MjI1MipuKSxlLmFscGhhKX1mdW5jdGlvbiBCcihlLHQscil7Y29uc3Qgbj10LWU7cmV0dXJuIGUrcioobj4xODB8fG48LTE4MD9uLTM2MCpNYXRoLnJvdW5kKG4vMzYwKTpuKX1jb25zdCBGcj17Zm9yd2FyZDpMcixyZXZlcnNlOk9yLGludGVycG9sYXRlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57bDpDcihlLmwsdC5sLHIpLGE6Q3IoZS5hLHQuYSxyKSxiOkNyKGUuYix0LmIsciksYWxwaGE6Q3IoZS5hbHBoYSx0LmFscGhhLHIpfX19LGpyPXtmb3J3YXJkOmZ1bmN0aW9uKGUpe2NvbnN0e2w6dCxhOnIsYjpufT1McihlKSxpPU1hdGguYXRhbjIobixyKSpJcjtyZXR1cm57aDppPDA/aSszNjA6aSxjOk1hdGguc3FydChyKnIrbipuKSxsOnQsYWxwaGE6ZS5hfX0scmV2ZXJzZTpmdW5jdGlvbihlKXtjb25zdCB0PWUuaCpBcixyPWUuYztyZXR1cm4gT3Ioe2w6ZS5sLGE6TWF0aC5jb3ModCkqcixiOk1hdGguc2luKHQpKnIsYWxwaGE6ZS5hbHBoYX0pfSxpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQscil7cmV0dXJue2g6QnIoZS5oLHQuaCxyKSxjOkNyKGUuYyx0LmMsciksbDpDcihlLmwsdC5sLHIpLGFscGhhOkNyKGUuYWxwaGEsdC5hbHBoYSxyKX19fTt2YXIgVXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbGFiOkZyLGhjbDpqcn0pO2NsYXNzIE5ye2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy50eXBlPWUsdGhpcy5vcGVyYXRvcj10LHRoaXMuaW50ZXJwb2xhdGlvbj1yLHRoaXMuaW5wdXQ9bix0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKGNvbnN0W2UsdF1vZiBpKXRoaXMubGFiZWxzLnB1c2goZSksdGhpcy5vdXRwdXRzLnB1c2godCl9c3RhdGljIGludGVycG9sYXRpb25GYWN0b3IoZSx0LHIsbil7bGV0IGk9MDtpZihcImV4cG9uZW50aWFsXCI9PT1lLm5hbWUpaT1Wcih0LGUuYmFzZSxyLG4pO2Vsc2UgaWYoXCJsaW5lYXJcIj09PWUubmFtZSlpPVZyKHQsMSxyLG4pO2Vsc2UgaWYoXCJjdWJpYy1iZXppZXJcIj09PWUubmFtZSl7Y29uc3Qgbz1lLmNvbnRyb2xQb2ludHM7aT1uZXcgcChvWzBdLG9bMV0sb1syXSxvWzNdKS5zb2x2ZShWcih0LDEscixuKSl9cmV0dXJuIGl9c3RhdGljIHBhcnNlKGUsdCl7bGV0W3IsbixpLC4uLm9dPWU7aWYoIUFycmF5LmlzQXJyYXkobil8fDA9PT1uLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGludGVycG9sYXRpb24gdHlwZSBleHByZXNzaW9uLlwiLDEpO2lmKFwibGluZWFyXCI9PT1uWzBdKW49e25hbWU6XCJsaW5lYXJcIn07ZWxzZSBpZihcImV4cG9uZW50aWFsXCI9PT1uWzBdKXtjb25zdCBlPW5bMV07aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpcmV0dXJuIHQuZXJyb3IoXCJFeHBvbmVudGlhbCBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGEgbnVtZXJpYyBiYXNlLlwiLDEsMSk7bj17bmFtZTpcImV4cG9uZW50aWFsXCIsYmFzZTplfX1lbHNle2lmKFwiY3ViaWMtYmV6aWVyXCIhPT1uWzBdKXJldHVybiB0LmVycm9yKFwiVW5rbm93biBpbnRlcnBvbGF0aW9uIHR5cGUgXCIrU3RyaW5nKG5bMF0pLDEsMCk7e2NvbnN0IGU9bi5zbGljZSgxKTtpZig0IT09ZS5sZW5ndGh8fGUuc29tZShlPT5cIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxlPjEpKXJldHVybiB0LmVycm9yKFwiQ3ViaWMgYmV6aWVyIGludGVycG9sYXRpb24gcmVxdWlyZXMgZm91ciBudW1lcmljIGFyZ3VtZW50cyB3aXRoIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDEuXCIsMSk7bj17bmFtZTpcImN1YmljLWJlemllclwiLGNvbnRyb2xQb2ludHM6ZX19fWlmKGUubGVuZ3RoLTE8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoKGUubGVuZ3RoLTEpJTIhPTApcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2lmKGk9dC5wYXJzZShpLDIsb3QpLCFpKXJldHVybiBudWxsO2NvbnN0IGE9W107bGV0IHM9bnVsbDtcImludGVycG9sYXRlLWhjbFwiPT09cnx8XCJpbnRlcnBvbGF0ZS1sYWJcIj09PXI/cz1sdDp0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKHM9dC5leHBlY3RlZFR5cGUpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSs9Mil7Y29uc3Qgcj1vW2VdLG49b1tlKzFdLGk9ZSszLGw9ZSs0O2lmKFwibnVtYmVyXCIhPXR5cGVvZiByKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLGkpO2lmKGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdWzBdPj1yKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLGkpO2NvbnN0IGM9dC5wYXJzZShuLGwscyk7aWYoIWMpcmV0dXJuIG51bGw7cz1zfHxjLnR5cGUsYS5wdXNoKFtyLGNdKX1yZXR1cm5cIm51bWJlclwiPT09cy5raW5kfHxcImNvbG9yXCI9PT1zLmtpbmR8fFwiYXJyYXlcIj09PXMua2luZCYmXCJudW1iZXJcIj09PXMuaXRlbVR5cGUua2luZCYmXCJudW1iZXJcIj09dHlwZW9mIHMuTj9uZXcgTnIocyxyLG4saSxhKTp0LmVycm9yKGBUeXBlICR7bXQocyl9IGlzIG5vdCBpbnRlcnBvbGF0YWJsZS5gKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZShlKTtjb25zdCBuPXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7aWYobjw9dFswXSlyZXR1cm4gclswXS5ldmFsdWF0ZShlKTtjb25zdCBpPXQubGVuZ3RoO2lmKG4+PXRbaS0xXSlyZXR1cm4gcltpLTFdLmV2YWx1YXRlKGUpO2NvbnN0IG89VHIodCxuKSxhPU5yLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uLG4sdFtvXSx0W28rMV0pLHM9cltvXS5ldmFsdWF0ZShlKSxsPXJbbysxXS5ldmFsdWF0ZShlKTtyZXR1cm5cImludGVycG9sYXRlXCI9PT10aGlzLm9wZXJhdG9yP01yW3RoaXMudHlwZS5raW5kLnRvTG93ZXJDYXNlKCldKHMsbCxhKTpcImludGVycG9sYXRlLWhjbFwiPT09dGhpcy5vcGVyYXRvcj9qci5yZXZlcnNlKGpyLmludGVycG9sYXRlKGpyLmZvcndhcmQocyksanIuZm9yd2FyZChsKSxhKSk6RnIucmV2ZXJzZShGci5pbnRlcnBvbGF0ZShGci5mb3J3YXJkKHMpLEZyLmZvcndhcmQobCksYSkpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpO2Zvcihjb25zdCB0IG9mIHRoaXMub3V0cHV0cyllKHQpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtsZXQgZTtlPVwibGluZWFyXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT9bXCJsaW5lYXJcIl06XCJleHBvbmVudGlhbFwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/MT09PXRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlP1tcImxpbmVhclwiXTpbXCJleHBvbmVudGlhbFwiLHRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlXTpbXCJjdWJpYy1iZXppZXJcIl0uY29uY2F0KHRoaXMuaW50ZXJwb2xhdGlvbi5jb250cm9sUG9pbnRzKTtjb25zdCB0PVt0aGlzLm9wZXJhdG9yLGUsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV07Zm9yKGxldCBlPTA7ZTx0aGlzLmxhYmVscy5sZW5ndGg7ZSsrKXQucHVzaCh0aGlzLmxhYmVsc1tlXSx0aGlzLm91dHB1dHNbZV0uc2VyaWFsaXplKCkpO3JldHVybiB0fX1mdW5jdGlvbiBWcihlLHQscixuKXtjb25zdCBpPW4tcixvPWUtcjtyZXR1cm4gMD09PWk/MDoxPT09dD9vL2k6KE1hdGgucG93KHQsbyktMSkvKE1hdGgucG93KHQsaSktMSl9dmFyIEdyPU5yO2NsYXNzIHFye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5hcmdzPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IHI9bnVsbDtjb25zdCBuPXQuZXhwZWN0ZWRUeXBlO24mJlwidmFsdWVcIiE9PW4ua2luZCYmKHI9bik7Y29uc3QgaT1bXTtmb3IoY29uc3QgbiBvZiBlLnNsaWNlKDEpKXtjb25zdCBlPXQucGFyc2UobiwxK2kubGVuZ3RoLHIsdm9pZCAwLHt0eXBlQW5ub3RhdGlvbjpcIm9taXRcIn0pO2lmKCFlKXJldHVybiBudWxsO3I9cnx8ZS50eXBlLGkucHVzaChlKX1jb25zdCBvPW4mJmkuc29tZShlPT5fdChuLGUudHlwZSkpO3JldHVybiBuZXcgcXIobz91dDpyLGkpfWV2YWx1YXRlKGUpe2xldCB0LHI9bnVsbCxuPTA7Zm9yKGNvbnN0IGkgb2YgdGhpcy5hcmdzKXtpZihuKysscj1pLmV2YWx1YXRlKGUpLHImJnIgaW5zdGFuY2VvZiBQdCYmIXIuYXZhaWxhYmxlJiYodHx8KHQ9cikscj1udWxsLG49PT10aGlzLmFyZ3MubGVuZ3RoKSlyZXR1cm4gdDtpZihudWxsIT09cilicmVha31yZXR1cm4gcn1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiY29hbGVzY2VcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSl9KSxlfX12YXIgWnI9cXI7Y2xhc3MgJHJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9dC50eXBlLHRoaXMuYmluZGluZ3M9W10uY29uY2F0KGUpLHRoaXMucmVzdWx0PXR9ZXZhbHVhdGUoZSl7cmV0dXJuIHRoaXMucmVzdWx0LmV2YWx1YXRlKGUpfWVhY2hDaGlsZChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLmJpbmRpbmdzKWUodFsxXSk7ZSh0aGlzLnJlc3VsdCl9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1bXTtmb3IobGV0IG49MTtuPGUubGVuZ3RoLTE7bis9Mil7Y29uc3QgaT1lW25dO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBzdHJpbmcsIGJ1dCBmb3VuZCAke3R5cGVvZiBpfSBpbnN0ZWFkLmAsbik7aWYoL1teYS16QS1aMC05X10vLnRlc3QoaSkpcmV0dXJuIHQuZXJyb3IoXCJWYXJpYWJsZSBuYW1lcyBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvciAnXycuXCIsbik7Y29uc3Qgbz10LnBhcnNlKGVbbisxXSxuKzEpO2lmKCFvKXJldHVybiBudWxsO3IucHVzaChbaSxvXSl9Y29uc3Qgbj10LnBhcnNlKGVbZS5sZW5ndGgtMV0sZS5sZW5ndGgtMSx0LmV4cGVjdGVkVHlwZSxyKTtyZXR1cm4gbj9uZXcgJHIocixuKTpudWxsfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5yZXN1bHQub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibGV0XCJdO2Zvcihjb25zdFt0LHJdb2YgdGhpcy5iaW5kaW5ncyllLnB1c2godCxyLnNlcmlhbGl6ZSgpKTtyZXR1cm4gZS5wdXNoKHRoaXMucmVzdWx0LnNlcmlhbGl6ZSgpKSxlfX12YXIgV3I9JHI7Y2xhc3MgWHJ7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudHlwZT1lLHRoaXMuaW5kZXg9dCx0aGlzLmlucHV0PXJ9c3RhdGljIHBhcnNlKGUsdCl7aWYoMyE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPXQucGFyc2UoZVsxXSwxLG90KSxuPXQucGFyc2UoZVsyXSwyLGZ0KHQuZXhwZWN0ZWRUeXBlfHx1dCkpO3JldHVybiByJiZuP25ldyBYcihuLnR5cGUuaXRlbVR5cGUscixuKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbmRleC5ldmFsdWF0ZShlKSxyPXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7aWYodDwwKXRocm93IG5ldyBGdChgQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogJHt0fSA8IDAuYCk7aWYodD49ci5sZW5ndGgpdGhyb3cgbmV3IEZ0KGBBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAke3R9ID4gJHtyLmxlbmd0aC0xfS5gKTtpZih0IT09TWF0aC5mbG9vcih0KSl0aHJvdyBuZXcgRnQoYEFycmF5IGluZGV4IG11c3QgYmUgYW4gaW50ZWdlciwgYnV0IGZvdW5kICR7dH0gaW5zdGVhZC5gKTtyZXR1cm4gclt0XX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmluZGV4KSxlKHRoaXMuaW5wdXQpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm5bXCJhdFwiLHRoaXMuaW5kZXguc2VyaWFsaXplKCksdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19fXZhciBIcj1YcjtjbGFzcyBZcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1zdCx0aGlzLm5lZWRsZT1lLHRoaXMuaGF5c3RhY2s9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9dC5wYXJzZShlWzFdLDEsdXQpLG49dC5wYXJzZShlWzJdLDIsdXQpO3JldHVybiByJiZuP3l0KHIudHlwZSxbc3QsYXQsb3QsaXQsdXRdKT9uZXcgWXIocixuKTp0LmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke210KHIudHlwZSl9IGluc3RlYWRgKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5uZWVkbGUuZXZhbHVhdGUoZSkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKGUpO2lmKG51bGw9PXIpcmV0dXJuITE7aWYoIXZ0KHQsW1wiYm9vbGVhblwiLFwic3RyaW5nXCIsXCJudW1iZXJcIixcIm51bGxcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHttdChSdCh0KSl9IGluc3RlYWQuYCk7aWYoIXZ0KHIsW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke210KFJ0KHIpKX0gaW5zdGVhZC5gKTtyZXR1cm4gci5pbmRleE9mKHQpPj0wfWVhY2hDaGlsZChlKXtlKHRoaXMubmVlZGxlKSxlKHRoaXMuaGF5c3RhY2spfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMH1zZXJpYWxpemUoKXtyZXR1cm5bXCJpblwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfX12YXIgS3I9WXI7Y2xhc3MgSnJ7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudHlwZT1vdCx0aGlzLm5lZWRsZT1lLHRoaXMuaGF5c3RhY2s9dCx0aGlzLmZyb21JbmRleD1yfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPD0yfHxlLmxlbmd0aD49NSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPXQucGFyc2UoZVsxXSwxLHV0KSxuPXQucGFyc2UoZVsyXSwyLHV0KTtpZighcnx8IW4pcmV0dXJuIG51bGw7aWYoIXl0KHIudHlwZSxbc3QsYXQsb3QsaXQsdXRdKSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHttdChyLnR5cGUpfSBpbnN0ZWFkYCk7aWYoND09PWUubGVuZ3RoKXtjb25zdCBpPXQucGFyc2UoZVszXSwzLG90KTtyZXR1cm4gaT9uZXcgSnIocixuLGkpOm51bGx9cmV0dXJuIG5ldyBKcihyLG4pfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5uZWVkbGUuZXZhbHVhdGUoZSkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKGUpO2lmKCF2dCh0LFtcImJvb2xlYW5cIixcInN0cmluZ1wiLFwibnVtYmVyXCIsXCJudWxsXCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7bXQoUnQodCkpfSBpbnN0ZWFkLmApO2lmKCF2dChyLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHttdChSdChyKSl9IGluc3RlYWQuYCk7aWYodGhpcy5mcm9tSW5kZXgpe2NvbnN0IG49dGhpcy5mcm9tSW5kZXguZXZhbHVhdGUoZSk7cmV0dXJuIHIuaW5kZXhPZih0LG4pfXJldHVybiByLmluZGV4T2YodCl9ZWFjaENoaWxkKGUpe2UodGhpcy5uZWVkbGUpLGUodGhpcy5oYXlzdGFjayksdGhpcy5mcm9tSW5kZXgmJmUodGhpcy5mcm9tSW5kZXgpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtpZihudWxsIT10aGlzLmZyb21JbmRleCYmdm9pZCAwIT09dGhpcy5mcm9tSW5kZXgpe2NvbnN0IGU9dGhpcy5mcm9tSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuW1wiaW5kZXgtb2ZcIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpLGVdfXJldHVybltcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19fXZhciBRcj1KcjtjbGFzcyBlbntjb25zdHJ1Y3RvcihlLHQscixuLGksbyl7dGhpcy5pbnB1dFR5cGU9ZSx0aGlzLnR5cGU9dCx0aGlzLmlucHV0PXIsdGhpcy5jYXNlcz1uLHRoaXMub3V0cHV0cz1pLHRoaXMub3RoZXJ3aXNlPW99c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8NSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoZS5sZW5ndGglMiE9MSlyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bGV0IHIsbjt0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKG49dC5leHBlY3RlZFR5cGUpO2NvbnN0IGk9e30sbz1bXTtmb3IobGV0IGE9MjthPGUubGVuZ3RoLTE7YSs9Mil7bGV0IHM9ZVthXTtjb25zdCBsPWVbYSsxXTtBcnJheS5pc0FycmF5KHMpfHwocz1bc10pO2NvbnN0IGM9dC5jb25jYXQoYSk7aWYoMD09PXMubGVuZ3RoKXJldHVybiBjLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGJyYW5jaCBsYWJlbC5cIik7Zm9yKGNvbnN0IGUgb2Ygcyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUmJlwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBjLmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIG51bWJlcnMgb3Igc3RyaW5ncy5cIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJk1hdGguYWJzKGUpPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKXJldHVybiBjLmVycm9yKGBCcmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlcnMgbm8gbGFyZ2VyIHRoYW4gJHtOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0uYCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJk1hdGguZmxvb3IoZSkhPT1lKXJldHVybiBjLmVycm9yKFwiTnVtZXJpYyBicmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlciB2YWx1ZXMuXCIpO2lmKHIpe2lmKGMuY2hlY2tTdWJ0eXBlKHIsUnQoZSkpKXJldHVybiBudWxsfWVsc2Ugcj1SdChlKTtpZih2b2lkIDAhPT1pW1N0cmluZyhlKV0pcmV0dXJuIGMuZXJyb3IoXCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgdW5pcXVlLlwiKTtpW1N0cmluZyhlKV09by5sZW5ndGh9Y29uc3QgdT10LnBhcnNlKGwsYSxuKTtpZighdSlyZXR1cm4gbnVsbDtuPW58fHUudHlwZSxvLnB1c2godSl9Y29uc3QgYT10LnBhcnNlKGVbMV0sMSx1dCk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgcz10LnBhcnNlKGVbZS5sZW5ndGgtMV0sZS5sZW5ndGgtMSxuKTtyZXR1cm4gcz9cInZhbHVlXCIhPT1hLnR5cGUua2luZCYmdC5jb25jYXQoMSkuY2hlY2tTdWJ0eXBlKHIsYS50eXBlKT9udWxsOm5ldyBlbihyLG4sYSxpLG8scyk6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7cmV0dXJuKFJ0KHQpPT09dGhpcy5pbnB1dFR5cGUmJnRoaXMub3V0cHV0c1t0aGlzLmNhc2VzW3RdXXx8dGhpcy5vdGhlcndpc2UpLmV2YWx1YXRlKGUpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpLHRoaXMub3V0cHV0cy5mb3JFYWNoKGUpLGUodGhpcy5vdGhlcndpc2UpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibWF0Y2hcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXSx0PU9iamVjdC5rZXlzKHRoaXMuY2FzZXMpLnNvcnQoKSxyPVtdLG49e307Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1uW3RoaXMuY2FzZXNbZV1dO3ZvaWQgMD09PXQ/KG5bdGhpcy5jYXNlc1tlXV09ci5sZW5ndGgsci5wdXNoKFt0aGlzLmNhc2VzW2VdLFtlXV0pKTpyW3RdWzFdLnB1c2goZSl9Y29uc3QgaT1lPT5cIm51bWJlclwiPT09dGhpcy5pbnB1dFR5cGUua2luZD9OdW1iZXIoZSk6ZTtmb3IoY29uc3RbdCxuXW9mIHIpZS5wdXNoKDE9PT1uLmxlbmd0aD9pKG5bMF0pOm4ubWFwKGkpKSxlLnB1c2godGhpcy5vdXRwdXRzW3RdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gZS5wdXNoKHRoaXMub3RoZXJ3aXNlLnNlcmlhbGl6ZSgpKSxlfX12YXIgdG49ZW47Y2xhc3Mgcm57Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudHlwZT1lLHRoaXMuYnJhbmNoZXM9dCx0aGlzLm90aGVyd2lzZT1yfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKGUubGVuZ3RoJTIhPTApcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBvZGQgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bGV0IHI7dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihyPXQuZXhwZWN0ZWRUeXBlKTtjb25zdCBuPVtdO2ZvcihsZXQgaT0xO2k8ZS5sZW5ndGgtMTtpKz0yKXtjb25zdCBvPXQucGFyc2UoZVtpXSxpLHN0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBhPXQucGFyc2UoZVtpKzFdLGkrMSxyKTtpZighYSlyZXR1cm4gbnVsbDtuLnB1c2goW28sYV0pLHI9cnx8YS50eXBlfWNvbnN0IGk9dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEscik7cmV0dXJuIGk/bmV3IHJuKHIsbixpKTpudWxsfWV2YWx1YXRlKGUpe2Zvcihjb25zdFt0LHJdb2YgdGhpcy5icmFuY2hlcylpZih0LmV2YWx1YXRlKGUpKXJldHVybiByLmV2YWx1YXRlKGUpO3JldHVybiB0aGlzLm90aGVyd2lzZS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0W3Qscl1vZiB0aGlzLmJyYW5jaGVzKWUodCksZShyKTtlKHRoaXMub3RoZXJ3aXNlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYnJhbmNoZXMuZXZlcnkoKFtlLHRdKT0+dC5vdXRwdXREZWZpbmVkKCkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJjYXNlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19dmFyIG5uPXJuO2NsYXNzIG9ue2NvbnN0cnVjdG9yKGUsdCxyLG4pe3RoaXMudHlwZT1lLHRoaXMuaW5wdXQ9dCx0aGlzLmJlZ2luSW5kZXg9cix0aGlzLmVuZEluZGV4PW59c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8PTJ8fGUubGVuZ3RoPj01KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAzIG9yIDQgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9dC5wYXJzZShlWzFdLDEsdXQpLG49dC5wYXJzZShlWzJdLDIsb3QpO2lmKCFyfHwhbilyZXR1cm4gbnVsbDtpZigheXQoci50eXBlLFtmdCh1dCksYXQsdXRdKSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke210KHIudHlwZSl9IGluc3RlYWRgKTtpZig0PT09ZS5sZW5ndGgpe2NvbnN0IGk9dC5wYXJzZShlWzNdLDMsb3QpO3JldHVybiBpP25ldyBvbihyLnR5cGUscixuLGkpOm51bGx9cmV0dXJuIG5ldyBvbihyLnR5cGUscixuKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSkscj10aGlzLmJlZ2luSW5kZXguZXZhbHVhdGUoZSk7aWYoIXZ0KHQsW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7bXQoUnQodCkpfSBpbnN0ZWFkLmApO2lmKHRoaXMuZW5kSW5kZXgpe2NvbnN0IG49dGhpcy5lbmRJbmRleC5ldmFsdWF0ZShlKTtyZXR1cm4gdC5zbGljZShyLG4pfXJldHVybiB0LnNsaWNlKHIpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpLGUodGhpcy5iZWdpbkluZGV4KSx0aGlzLmVuZEluZGV4JiZlKHRoaXMuZW5kSW5kZXgpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtpZihudWxsIT10aGlzLmVuZEluZGV4JiZ2b2lkIDAhPT10aGlzLmVuZEluZGV4KXtjb25zdCBlPXRoaXMuZW5kSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuW1wic2xpY2VcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKSxlXX1yZXR1cm5bXCJzbGljZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpXX19dmFyIGFuPW9uO2Z1bmN0aW9uIHNuKGUsdCl7cmV0dXJuXCI9PVwiPT09ZXx8XCIhPVwiPT09ZT9cImJvb2xlYW5cIj09PXQua2luZHx8XCJzdHJpbmdcIj09PXQua2luZHx8XCJudW1iZXJcIj09PXQua2luZHx8XCJudWxsXCI9PT10LmtpbmR8fFwidmFsdWVcIj09PXQua2luZDpcInN0cmluZ1wiPT09dC5raW5kfHxcIm51bWJlclwiPT09dC5raW5kfHxcInZhbHVlXCI9PT10LmtpbmR9ZnVuY3Rpb24gbG4oZSx0LHIsbil7cmV0dXJuIDA9PT1uLmNvbXBhcmUodCxyKX1mdW5jdGlvbiBjbihlLHQscil7Y29uc3Qgbj1cIj09XCIhPT1lJiZcIiE9XCIhPT1lO3JldHVybiBjbGFzcyBpe2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnR5cGU9c3QsdGhpcy5saHM9ZSx0aGlzLnJocz10LHRoaXMuY29sbGF0b3I9cix0aGlzLmhhc1VudHlwZWRBcmd1bWVudD1cInZhbHVlXCI9PT1lLnR5cGUua2luZHx8XCJ2YWx1ZVwiPT09dC50eXBlLmtpbmR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMyE9PWUubGVuZ3RoJiY0IT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlwiKTtjb25zdCByPWVbMF07bGV0IG89dC5wYXJzZShlWzFdLDEsdXQpO2lmKCFvKXJldHVybiBudWxsO2lmKCFzbihyLG8udHlwZSkpcmV0dXJuIHQuY29uY2F0KDEpLmVycm9yKGBcIiR7cn1cIiBjb21wYXJpc29ucyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZSAnJHttdChvLnR5cGUpfScuYCk7bGV0IGE9dC5wYXJzZShlWzJdLDIsdXQpO2lmKCFhKXJldHVybiBudWxsO2lmKCFzbihyLGEudHlwZSkpcmV0dXJuIHQuY29uY2F0KDIpLmVycm9yKGBcIiR7cn1cIiBjb21wYXJpc29ucyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZSAnJHttdChhLnR5cGUpfScuYCk7aWYoby50eXBlLmtpbmQhPT1hLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09by50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kKXJldHVybiB0LmVycm9yKGBDYW5ub3QgY29tcGFyZSB0eXBlcyAnJHttdChvLnR5cGUpfScgYW5kICcke210KGEudHlwZSl9Jy5gKTtuJiYoXCJ2YWx1ZVwiPT09by50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kP289bmV3IE50KGEudHlwZSxbb10pOlwidmFsdWVcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCI9PT1hLnR5cGUua2luZCYmKGE9bmV3IE50KG8udHlwZSxbYV0pKSk7bGV0IHM9bnVsbDtpZig0PT09ZS5sZW5ndGgpe2lmKFwic3RyaW5nXCIhPT1vLnR5cGUua2luZCYmXCJzdHJpbmdcIiE9PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQpcmV0dXJuIHQuZXJyb3IoXCJDYW5ub3QgdXNlIGNvbGxhdG9yIHRvIGNvbXBhcmUgbm9uLXN0cmluZyB0eXBlcy5cIik7aWYocz10LnBhcnNlKGVbM10sMyxodCksIXMpcmV0dXJuIG51bGx9cmV0dXJuIG5ldyBpKG8sYSxzKX1ldmFsdWF0ZShpKXtjb25zdCBvPXRoaXMubGhzLmV2YWx1YXRlKGkpLGE9dGhpcy5yaHMuZXZhbHVhdGUoaSk7aWYobiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe2NvbnN0IHQ9UnQobykscj1SdChhKTtpZih0LmtpbmQhPT1yLmtpbmR8fFwic3RyaW5nXCIhPT10LmtpbmQmJlwibnVtYmVyXCIhPT10LmtpbmQpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBhcmd1bWVudHMgZm9yIFwiJHtlfVwiIHRvIGJlIChzdHJpbmcsIHN0cmluZykgb3IgKG51bWJlciwgbnVtYmVyKSwgYnV0IGZvdW5kICgke3Qua2luZH0sICR7ci5raW5kfSkgaW5zdGVhZC5gKX1pZih0aGlzLmNvbGxhdG9yJiYhbiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe2NvbnN0IGU9UnQobykscj1SdChhKTtpZihcInN0cmluZ1wiIT09ZS5raW5kfHxcInN0cmluZ1wiIT09ci5raW5kKXJldHVybiB0KGksbyxhKX1yZXR1cm4gdGhpcy5jb2xsYXRvcj9yKGksbyxhLHRoaXMuY29sbGF0b3IuZXZhbHVhdGUoaSkpOnQoaSxvLGEpfWVhY2hDaGlsZChlKXtlKHRoaXMubGhzKSxlKHRoaXMucmhzKSx0aGlzLmNvbGxhdG9yJiZlKHRoaXMuY29sbGF0b3IpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMH1zZXJpYWxpemUoKXtjb25zdCB0PVtlXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoZT0+e3QucHVzaChlLnNlcmlhbGl6ZSgpKX0pLHR9fX1jb25zdCB1bj1jbihcIj09XCIsKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdD09PXJ9KSxsbiksaG49Y24oXCIhPVwiLChmdW5jdGlvbihlLHQscil7cmV0dXJuIHQhPT1yfSksKGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiFsbigwLHQscixuKX0pKSxkbj1jbihcIjxcIiwoZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PHJ9KSwoZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG4uY29tcGFyZSh0LHIpPDB9KSkscG49Y24oXCI+XCIsKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdD5yfSksKGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuLmNvbXBhcmUodCxyKT4wfSkpLGZuPWNuKFwiPD1cIiwoZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PD1yfSksKGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuLmNvbXBhcmUodCxyKTw9MH0pKSxtbj1jbihcIj49XCIsKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdD49cn0pLChmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbi5jb21wYXJlKHQscik+PTB9KSk7Y2xhc3MgZ257Y29uc3RydWN0b3IoZSx0LHIsbixpLG8pe3RoaXMudHlwZT1hdCx0aGlzLm51bWJlcj1lLHRoaXMubG9jYWxlPXQsdGhpcy5jdXJyZW5jeT1yLHRoaXMudW5pdD1uLHRoaXMubWluRnJhY3Rpb25EaWdpdHM9aSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzPW99c3RhdGljIHBhcnNlKGUsdCl7aWYoMyE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj10LnBhcnNlKGVbMV0sMSxvdCk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj1lWzJdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBufHxBcnJheS5pc0FycmF5KG4pKXJldHVybiB0LmVycm9yKFwiTnVtYmVyRm9ybWF0IG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO2xldCBpPW51bGw7aWYobi5sb2NhbGUmJihpPXQucGFyc2Uobi5sb2NhbGUsMSxhdCksIWkpKXJldHVybiBudWxsO2xldCBvPW51bGw7aWYobi5jdXJyZW5jeSYmKG89dC5wYXJzZShuLmN1cnJlbmN5LDEsYXQpLCFvKSlyZXR1cm4gbnVsbDtsZXQgYT1udWxsO2lmKG4udW5pdCYmKGE9dC5wYXJzZShuLnVuaXQsMSxhdCksIWEpKXJldHVybiBudWxsO2xldCBzPW51bGw7aWYobltcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl0mJihzPXQucGFyc2UobltcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl0sMSxvdCksIXMpKXJldHVybiBudWxsO2xldCBsPW51bGw7cmV0dXJuIG5bXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdJiYobD10LnBhcnNlKG5bXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdLDEsb3QpLCFsKT9udWxsOm5ldyBnbihyLGksbyxhLHMsbCl9ZXZhbHVhdGUoZSl7cmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLmxvY2FsZT90aGlzLmxvY2FsZS5ldmFsdWF0ZShlKTpbXSx7c3R5bGU6KHRoaXMuY3VycmVuY3k/XCJjdXJyZW5jeVwiOnRoaXMudW5pdCYmXCJ1bml0XCIpfHxcImRlY2ltYWxcIixjdXJyZW5jeTp0aGlzLmN1cnJlbmN5P3RoaXMuY3VycmVuY3kuZXZhbHVhdGUoZSk6dm9pZCAwLHVuaXQ6dGhpcy51bml0P3RoaXMudW5pdC5ldmFsdWF0ZShlKTp2b2lkIDAsbWluaW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWluRnJhY3Rpb25EaWdpdHM/dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZShlKTp2b2lkIDAsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWF4RnJhY3Rpb25EaWdpdHM/dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZShlKTp2b2lkIDB9KS5mb3JtYXQodGhpcy5udW1iZXIuZXZhbHVhdGUoZSkpfWVhY2hDaGlsZChlKXtlKHRoaXMubnVtYmVyKSx0aGlzLmxvY2FsZSYmZSh0aGlzLmxvY2FsZSksdGhpcy5jdXJyZW5jeSYmZSh0aGlzLmN1cnJlbmN5KSx0aGlzLnVuaXQmJmUodGhpcy51bml0KSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiZlKHRoaXMubWluRnJhY3Rpb25EaWdpdHMpLHRoaXMubWF4RnJhY3Rpb25EaWdpdHMmJmUodGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMubG9jYWxlJiYoZS5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLHRoaXMuY3VycmVuY3kmJihlLmN1cnJlbmN5PXRoaXMuY3VycmVuY3kuc2VyaWFsaXplKCkpLHRoaXMudW5pdCYmKGUudW5pdD10aGlzLnVuaXQuc2VyaWFsaXplKCkpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJihlW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXT10aGlzLm1pbkZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzJiYoZVtcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl09dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksW1wibnVtYmVyLWZvcm1hdFwiLHRoaXMubnVtYmVyLnNlcmlhbGl6ZSgpLGVdfX1jbGFzcyBfbntjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9b3QsdGhpcy5pbnB1dD1lfXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMSBhcmd1bWVudCwgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPXQucGFyc2UoZVsxXSwxKTtyZXR1cm4gcj9cImFycmF5XCIhPT1yLnR5cGUua2luZCYmXCJzdHJpbmdcIiE9PXIudHlwZS5raW5kJiZcInZhbHVlXCIhPT1yLnR5cGUua2luZD90LmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICR7bXQoci50eXBlKX0gaW5zdGVhZC5gKTpuZXcgX24ocik6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQubGVuZ3RoO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubGVuZ3RoO3Rocm93IG5ldyBGdChgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb2YgdHlwZSBzdHJpbmcgb3IgYXJyYXksIGJ1dCBmb3VuZCAke210KFJ0KHQpKX0gaW5zdGVhZC5gKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJsZW5ndGhcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSl9KSxlfX1jb25zdCB5bj17XCI9PVwiOnVuLFwiIT1cIjpobixcIj5cIjpwbixcIjxcIjpkbixcIj49XCI6bW4sXCI8PVwiOmZuLGFycmF5Ok50LGF0OkhyLGJvb2xlYW46TnQsY2FzZTpubixjb2FsZXNjZTpacixjb2xsYXRvcjpLdCxmb3JtYXQ6VnQsaW1hZ2U6R3QsaW46S3IsXCJpbmRleC1vZlwiOlFyLGludGVycG9sYXRlOkdyLFwiaW50ZXJwb2xhdGUtaGNsXCI6R3IsXCJpbnRlcnBvbGF0ZS1sYWJcIjpHcixsZW5ndGg6X24sbGV0OldyLGxpdGVyYWw6QnQsbWF0Y2g6dG4sbnVtYmVyOk50LFwibnVtYmVyLWZvcm1hdFwiOmduLG9iamVjdDpOdCxzbGljZTphbixzdGVwOlNyLHN0cmluZzpOdCxcInRvLWJvb2xlYW5cIjokdCxcInRvLWNvbG9yXCI6JHQsXCJ0by1udW1iZXJcIjokdCxcInRvLXN0cmluZ1wiOiR0LHZhcjp4cix3aXRoaW46bXJ9O2Z1bmN0aW9uIHZuKGUsW3QscixuLGldKXt0PXQuZXZhbHVhdGUoZSkscj1yLmV2YWx1YXRlKGUpLG49bi5ldmFsdWF0ZShlKTtjb25zdCBvPWk/aS5ldmFsdWF0ZShlKToxLGE9enQodCxyLG4sbyk7aWYoYSl0aHJvdyBuZXcgRnQoYSk7cmV0dXJuIG5ldyBNdCh0LzI1NSpvLHIvMjU1Km8sbi8yNTUqbyxvKX1mdW5jdGlvbiB4bihlLHQpe3JldHVybiBlIGluIHR9ZnVuY3Rpb24gYm4oZSx0KXtjb25zdCByPXRbZV07cmV0dXJuIHZvaWQgMD09PXI/bnVsbDpyfWZ1bmN0aW9uIHduKGUpe3JldHVybnt0eXBlOmV9fVl0LnJlZ2lzdGVyKHluLHtlcnJvcjpbe2tpbmQ6XCJlcnJvclwifSxbYXRdLChlLFt0XSk9Pnt0aHJvdyBuZXcgRnQodC5ldmFsdWF0ZShlKSl9XSx0eXBlb2Y6W2F0LFt1dF0sKGUsW3RdKT0+bXQoUnQodC5ldmFsdWF0ZShlKSkpXSxcInRvLXJnYmFcIjpbZnQob3QsNCksW2x0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvQXJyYXkoKV0scmdiOltsdCxbb3Qsb3Qsb3RdLHZuXSxyZ2JhOltsdCxbb3Qsb3Qsb3Qsb3RdLHZuXSxoYXM6e3R5cGU6c3Qsb3ZlcmxvYWRzOltbW2F0XSwoZSxbdF0pPT54bih0LmV2YWx1YXRlKGUpLGUucHJvcGVydGllcygpKV0sW1thdCxjdF0sKGUsW3Qscl0pPT54bih0LmV2YWx1YXRlKGUpLHIuZXZhbHVhdGUoZSkpXV19LGdldDp7dHlwZTp1dCxvdmVybG9hZHM6W1tbYXRdLChlLFt0XSk9PmJuKHQuZXZhbHVhdGUoZSksZS5wcm9wZXJ0aWVzKCkpXSxbW2F0LGN0XSwoZSxbdCxyXSk9PmJuKHQuZXZhbHVhdGUoZSksci5ldmFsdWF0ZShlKSldXX0sXCJmZWF0dXJlLXN0YXRlXCI6W3V0LFthdF0sKGUsW3RdKT0+Ym4odC5ldmFsdWF0ZShlKSxlLmZlYXR1cmVTdGF0ZXx8e30pXSxwcm9wZXJ0aWVzOltjdCxbXSxlPT5lLnByb3BlcnRpZXMoKV0sXCJnZW9tZXRyeS10eXBlXCI6W2F0LFtdLGU9PmUuZ2VvbWV0cnlUeXBlKCldLGlkOlt1dCxbXSxlPT5lLmlkKCldLHpvb206W290LFtdLGU9PmUuZ2xvYmFscy56b29tXSxwaXRjaDpbb3QsW10sZT0+ZS5nbG9iYWxzLnBpdGNofHwwXSxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI6W290LFtdLGU9PmUuZGlzdGFuY2VGcm9tQ2VudGVyKCldLFwiaGVhdG1hcC1kZW5zaXR5XCI6W290LFtdLGU9PmUuZ2xvYmFscy5oZWF0bWFwRGVuc2l0eXx8MF0sXCJsaW5lLXByb2dyZXNzXCI6W290LFtdLGU9PmUuZ2xvYmFscy5saW5lUHJvZ3Jlc3N8fDBdLFwic2t5LXJhZGlhbC1wcm9ncmVzc1wiOltvdCxbXSxlPT5lLmdsb2JhbHMuc2t5UmFkaWFsUHJvZ3Jlc3N8fDBdLGFjY3VtdWxhdGVkOlt1dCxbXSxlPT52b2lkIDA9PT1lLmdsb2JhbHMuYWNjdW11bGF0ZWQ/bnVsbDplLmdsb2JhbHMuYWNjdW11bGF0ZWRdLFwiK1wiOltvdCx3bihvdCksKGUsdCk9PntsZXQgcj0wO2Zvcihjb25zdCBuIG9mIHQpcis9bi5ldmFsdWF0ZShlKTtyZXR1cm4gcn1dLFwiKlwiOltvdCx3bihvdCksKGUsdCk9PntsZXQgcj0xO2Zvcihjb25zdCBuIG9mIHQpcio9bi5ldmFsdWF0ZShlKTtyZXR1cm4gcn1dLFwiLVwiOnt0eXBlOm90LG92ZXJsb2FkczpbW1tvdCxvdF0sKGUsW3Qscl0pPT50LmV2YWx1YXRlKGUpLXIuZXZhbHVhdGUoZSldLFtbb3RdLChlLFt0XSk9Pi10LmV2YWx1YXRlKGUpXV19LFwiL1wiOltvdCxbb3Qsb3RdLChlLFt0LHJdKT0+dC5ldmFsdWF0ZShlKS9yLmV2YWx1YXRlKGUpXSxcIiVcIjpbb3QsW290LG90XSwoZSxbdCxyXSk9PnQuZXZhbHVhdGUoZSklci5ldmFsdWF0ZShlKV0sbG4yOltvdCxbXSwoKT0+TWF0aC5MTjJdLHBpOltvdCxbXSwoKT0+TWF0aC5QSV0sZTpbb3QsW10sKCk9Pk1hdGguRV0sXCJeXCI6W290LFtvdCxvdF0sKGUsW3Qscl0pPT5NYXRoLnBvdyh0LmV2YWx1YXRlKGUpLHIuZXZhbHVhdGUoZSkpXSxzcXJ0OltvdCxbb3RdLChlLFt0XSk9Pk1hdGguc3FydCh0LmV2YWx1YXRlKGUpKV0sbG9nMTA6W290LFtvdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSkvTWF0aC5MTjEwXSxsbjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmxvZyh0LmV2YWx1YXRlKGUpKV0sbG9nMjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmxvZyh0LmV2YWx1YXRlKGUpKS9NYXRoLkxOMl0sc2luOltvdCxbb3RdLChlLFt0XSk9Pk1hdGguc2luKHQuZXZhbHVhdGUoZSkpXSxjb3M6W290LFtvdF0sKGUsW3RdKT0+TWF0aC5jb3ModC5ldmFsdWF0ZShlKSldLHRhbjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLnRhbih0LmV2YWx1YXRlKGUpKV0sYXNpbjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmFzaW4odC5ldmFsdWF0ZShlKSldLGFjb3M6W290LFtvdF0sKGUsW3RdKT0+TWF0aC5hY29zKHQuZXZhbHVhdGUoZSkpXSxhdGFuOltvdCxbb3RdLChlLFt0XSk9Pk1hdGguYXRhbih0LmV2YWx1YXRlKGUpKV0sbWluOltvdCx3bihvdCksKGUsdCk9Pk1hdGgubWluKC4uLnQubWFwKHQ9PnQuZXZhbHVhdGUoZSkpKV0sbWF4OltvdCx3bihvdCksKGUsdCk9Pk1hdGgubWF4KC4uLnQubWFwKHQ9PnQuZXZhbHVhdGUoZSkpKV0sYWJzOltvdCxbb3RdLChlLFt0XSk9Pk1hdGguYWJzKHQuZXZhbHVhdGUoZSkpXSxyb3VuZDpbb3QsW290XSwoZSxbdF0pPT57Y29uc3Qgcj10LmV2YWx1YXRlKGUpO3JldHVybiByPDA/LU1hdGgucm91bmQoLXIpOk1hdGgucm91bmQocil9XSxmbG9vcjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmZsb29yKHQuZXZhbHVhdGUoZSkpXSxjZWlsOltvdCxbb3RdLChlLFt0XSk9Pk1hdGguY2VpbCh0LmV2YWx1YXRlKGUpKV0sXCJmaWx0ZXItPT1cIjpbc3QsW2F0LHV0XSwoZSxbdCxyXSk9PmUucHJvcGVydGllcygpW3QudmFsdWVdPT09ci52YWx1ZV0sXCJmaWx0ZXItaWQtPT1cIjpbc3QsW3V0XSwoZSxbdF0pPT5lLmlkKCk9PT10LnZhbHVlXSxcImZpbHRlci10eXBlLT09XCI6W3N0LFthdF0sKGUsW3RdKT0+ZS5nZW9tZXRyeVR5cGUoKT09PXQudmFsdWVdLFwiZmlsdGVyLTxcIjpbc3QsW2F0LHV0XSwoZSxbdCxyXSk9Pntjb25zdCBuPWUucHJvcGVydGllcygpW3QudmFsdWVdLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPGl9XSxcImZpbHRlci1pZC08XCI6W3N0LFt1dF0sKGUsW3RdKT0+e2NvbnN0IHI9ZS5pZCgpLG49dC52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPG59XSxcImZpbHRlci0+XCI6W3N0LFthdCx1dF0sKGUsW3Qscl0pPT57Y29uc3Qgbj1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbj5pfV0sXCJmaWx0ZXItaWQtPlwiOltzdCxbdXRdLChlLFt0XSk9Pntjb25zdCByPWUuaWQoKSxuPXQudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcj5ufV0sXCJmaWx0ZXItPD1cIjpbc3QsW2F0LHV0XSwoZSxbdCxyXSk9Pntjb25zdCBuPWUucHJvcGVydGllcygpW3QudmFsdWVdLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPD1pfV0sXCJmaWx0ZXItaWQtPD1cIjpbc3QsW3V0XSwoZSxbdF0pPT57Y29uc3Qgcj1lLmlkKCksbj10LnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8PW59XSxcImZpbHRlci0+PVwiOltzdCxbYXQsdXRdLChlLFt0LHJdKT0+e2NvbnN0IG49ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+PWl9XSxcImZpbHRlci1pZC0+PVwiOltzdCxbdXRdLChlLFt0XSk9Pntjb25zdCByPWUuaWQoKSxuPXQudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcj49bn1dLFwiZmlsdGVyLWhhc1wiOltzdCxbdXRdLChlLFt0XSk9PnQudmFsdWUgaW4gZS5wcm9wZXJ0aWVzKCldLFwiZmlsdGVyLWhhcy1pZFwiOltzdCxbXSxlPT5udWxsIT09ZS5pZCgpJiZ2b2lkIDAhPT1lLmlkKCldLFwiZmlsdGVyLXR5cGUtaW5cIjpbc3QsW2Z0KGF0KV0sKGUsW3RdKT0+dC52YWx1ZS5pbmRleE9mKGUuZ2VvbWV0cnlUeXBlKCkpPj0wXSxcImZpbHRlci1pZC1pblwiOltzdCxbZnQodXQpXSwoZSxbdF0pPT50LnZhbHVlLmluZGV4T2YoZS5pZCgpKT49MF0sXCJmaWx0ZXItaW4tc21hbGxcIjpbc3QsW2F0LGZ0KHV0KV0sKGUsW3Qscl0pPT5yLnZhbHVlLmluZGV4T2YoZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0pPj0wXSxcImZpbHRlci1pbi1sYXJnZVwiOltzdCxbYXQsZnQodXQpXSwoZSxbdCxyXSk9PmZ1bmN0aW9uKGUsdCxyLG4pe2Zvcig7cjw9bjspe2NvbnN0IGk9cituPj4xO2lmKHRbaV09PT1lKXJldHVybiEwO3RbaV0+ZT9uPWktMTpyPWkrMX1yZXR1cm4hMX0oZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0sci52YWx1ZSwwLHIudmFsdWUubGVuZ3RoLTEpXSxhbGw6e3R5cGU6c3Qsb3ZlcmxvYWRzOltbW3N0LHN0XSwoZSxbdCxyXSk9PnQuZXZhbHVhdGUoZSkmJnIuZXZhbHVhdGUoZSldLFt3bihzdCksKGUsdCk9Pntmb3IoY29uc3QgciBvZiB0KWlmKCFyLmV2YWx1YXRlKGUpKXJldHVybiExO3JldHVybiEwfV1dfSxhbnk6e3R5cGU6c3Qsb3ZlcmxvYWRzOltbW3N0LHN0XSwoZSxbdCxyXSk9PnQuZXZhbHVhdGUoZSl8fHIuZXZhbHVhdGUoZSldLFt3bihzdCksKGUsdCk9Pntmb3IoY29uc3QgciBvZiB0KWlmKHIuZXZhbHVhdGUoZSkpcmV0dXJuITA7cmV0dXJuITF9XV19LFwiIVwiOltzdCxbc3RdLChlLFt0XSk9PiF0LmV2YWx1YXRlKGUpXSxcImlzLXN1cHBvcnRlZC1zY3JpcHRcIjpbc3QsW2F0XSwoZSxbdF0pPT57Y29uc3Qgcj1lLmdsb2JhbHMmJmUuZ2xvYmFscy5pc1N1cHBvcnRlZFNjcmlwdDtyZXR1cm4hcnx8cih0LmV2YWx1YXRlKGUpKX1dLHVwY2FzZTpbYXQsW2F0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvVXBwZXJDYXNlKCldLGRvd25jYXNlOlthdCxbYXRdLChlLFt0XSk9PnQuZXZhbHVhdGUoZSkudG9Mb3dlckNhc2UoKV0sY29uY2F0OlthdCx3bih1dCksKGUsdCk9PnQubWFwKHQ9Pkx0KHQuZXZhbHVhdGUoZSkpKS5qb2luKFwiXCIpXSxcInJlc29sdmVkLWxvY2FsZVwiOlthdCxbaHRdLChlLFt0XSk9PnQuZXZhbHVhdGUoZSkucmVzb2x2ZWRMb2NhbGUoKV19KTt2YXIgVG49eW47ZnVuY3Rpb24gRW4oZSl7cmV0dXJue3Jlc3VsdDpcInN1Y2Nlc3NcIix2YWx1ZTplfX1mdW5jdGlvbiBTbihlKXtyZXR1cm57cmVzdWx0OlwiZXJyb3JcIix2YWx1ZTplfX1mdW5jdGlvbiBDbihlKXtyZXR1cm5cImRhdGEtZHJpdmVuXCI9PT1lW1wicHJvcGVydHktdHlwZVwiXXx8XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiPT09ZVtcInByb3BlcnR5LXR5cGVcIl19ZnVuY3Rpb24gTW4oZSl7cmV0dXJuISFlLmV4cHJlc3Npb24mJmUuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzLmluZGV4T2YoXCJ6b29tXCIpPi0xfWZ1bmN0aW9uIGtuKGUpe3JldHVybiEhZS5leHByZXNzaW9uJiZlLmV4cHJlc3Npb24uaW50ZXJwb2xhdGVkfWZ1bmN0aW9uIEFuKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTnVtYmVyP1wibnVtYmVyXCI6ZSBpbnN0YW5jZW9mIFN0cmluZz9cInN0cmluZ1wiOmUgaW5zdGFuY2VvZiBCb29sZWFuP1wiYm9vbGVhblwiOkFycmF5LmlzQXJyYXkoZSk/XCJhcnJheVwiOm51bGw9PT1lP1wibnVsbFwiOnR5cGVvZiBlfWZ1bmN0aW9uIEluKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmIUFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gUG4oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gem4oZSx0LHIpe3JldHVybiB2b2lkIDAhPT1lP2U6dm9pZCAwIT09dD90OnZvaWQgMCE9PXI/cjp2b2lkIDB9ZnVuY3Rpb24gRG4oZSx0LHIsbixpKXtyZXR1cm4gem4odHlwZW9mIHI9PT1pP25bcl06dm9pZCAwLGUuZGVmYXVsdCx0LmRlZmF1bHQpfWZ1bmN0aW9uIFJuKGUsdCxyKXtpZihcIm51bWJlclwiIT09QW4ocikpcmV0dXJuIHpuKGUuZGVmYXVsdCx0LmRlZmF1bHQpO2NvbnN0IG49ZS5zdG9wcy5sZW5ndGg7aWYoMT09PW4pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYocjw9ZS5zdG9wc1swXVswXSlyZXR1cm4gZS5zdG9wc1swXVsxXTtpZihyPj1lLnN0b3BzW24tMV1bMF0pcmV0dXJuIGUuc3RvcHNbbi0xXVsxXTtjb25zdCBpPVRyKGUuc3RvcHMubWFwKGU9PmVbMF0pLHIpO3JldHVybiBlLnN0b3BzW2ldWzFdfWZ1bmN0aW9uIExuKGUsdCxyKXtjb25zdCBuPXZvaWQgMCE9PWUuYmFzZT9lLmJhc2U6MTtpZihcIm51bWJlclwiIT09QW4ocikpcmV0dXJuIHpuKGUuZGVmYXVsdCx0LmRlZmF1bHQpO2NvbnN0IGk9ZS5zdG9wcy5sZW5ndGg7aWYoMT09PWkpcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYocjw9ZS5zdG9wc1swXVswXSlyZXR1cm4gZS5zdG9wc1swXVsxXTtpZihyPj1lLnN0b3BzW2ktMV1bMF0pcmV0dXJuIGUuc3RvcHNbaS0xXVsxXTtjb25zdCBvPVRyKGUuc3RvcHMubWFwKGU9PmVbMF0pLHIpLGE9ZnVuY3Rpb24oZSx0LHIsbil7Y29uc3QgaT1uLXIsbz1lLXI7cmV0dXJuIDA9PT1pPzA6MT09PXQ/by9pOihNYXRoLnBvdyh0LG8pLTEpLyhNYXRoLnBvdyh0LGkpLTEpfShyLG4sZS5zdG9wc1tvXVswXSxlLnN0b3BzW28rMV1bMF0pLHM9ZS5zdG9wc1tvXVsxXSxsPWUuc3RvcHNbbysxXVsxXTtsZXQgYz1Nclt0LnR5cGVdfHxQbjtpZihlLmNvbG9yU3BhY2UmJlwicmdiXCIhPT1lLmNvbG9yU3BhY2Upe2NvbnN0IHQ9VXJbZS5jb2xvclNwYWNlXTtjPShlLHIpPT50LnJldmVyc2UodC5pbnRlcnBvbGF0ZSh0LmZvcndhcmQoZSksdC5mb3J3YXJkKHIpLGEpKX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmV2YWx1YXRlP3tldmFsdWF0ZSguLi5lKXtjb25zdCB0PXMuZXZhbHVhdGUuYXBwbHkodm9pZCAwLGUpLHI9bC5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsZSk7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09cilyZXR1cm4gYyh0LHIsYSl9fTpjKHMsbCxhKX1mdW5jdGlvbiBPbihlLHQscil7cmV0dXJuXCJjb2xvclwiPT09dC50eXBlP3I9TXQucGFyc2Uocik6XCJmb3JtYXR0ZWRcIj09PXQudHlwZT9yPUl0LmZyb21TdHJpbmcoci50b1N0cmluZygpKTpcInJlc29sdmVkSW1hZ2VcIj09PXQudHlwZT9yPVB0LmZyb21TdHJpbmcoci50b1N0cmluZygpKTpBbihyKT09PXQudHlwZXx8XCJlbnVtXCI9PT10LnR5cGUmJnQudmFsdWVzW3JdfHwocj12b2lkIDApLHpuKHIsZS5kZWZhdWx0LHQuZGVmYXVsdCl9Y2xhc3MgQm57Y29uc3RydWN0b3IoZSx0KXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLl93YXJuaW5nSGlzdG9yeT17fSx0aGlzLl9ldmFsdWF0b3I9bmV3IFh0LHRoaXMuX2RlZmF1bHRWYWx1ZT10P2Z1bmN0aW9uKGUpe3JldHVyblwiY29sb3JcIj09PWUudHlwZSYmKEluKGUuZGVmYXVsdCl8fEFycmF5LmlzQXJyYXkoZS5kZWZhdWx0KSk/bmV3IE10KDAsMCwwLDApOlwiY29sb3JcIj09PWUudHlwZT9NdC5wYXJzZShlLmRlZmF1bHQpfHxudWxsOnZvaWQgMD09PWUuZGVmYXVsdD9udWxsOmUuZGVmYXVsdH0odCk6bnVsbCx0aGlzLl9lbnVtVmFsdWVzPXQmJlwiZW51bVwiPT09dC50eXBlP3QudmFsdWVzOm51bGx9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQscixuLGksbyxhLHMpe3JldHVybiB0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz1lLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1yLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9bnx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249byx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVRpbGVDb29yZD1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlRGlzdGFuY2VEYXRhPXN8fG51bGwsdGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcil9ZXZhbHVhdGUoZSx0LHIsbixpLG8sYSxzKXt0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz1lLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPXR8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1yfHxudWxsLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9bnx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249b3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVRpbGVDb29yZD1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlRGlzdGFuY2VEYXRhPXN8fG51bGw7dHJ5e2NvbnN0IGU9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcik7aWYobnVsbD09ZXx8XCJudW1iZXJcIj09dHlwZW9mIGUmJmUhPWUpcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtpZih0aGlzLl9lbnVtVmFsdWVzJiYhKGUgaW4gdGhpcy5fZW51bVZhbHVlcykpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgJHtPYmplY3Qua2V5cyh0aGlzLl9lbnVtVmFsdWVzKS5tYXAoZT0+SlNPTi5zdHJpbmdpZnkoZSkpLmpvaW4oXCIsIFwiKX0sIGJ1dCBmb3VuZCAke0pTT04uc3RyaW5naWZ5KGUpfSBpbnN0ZWFkLmApO3JldHVybiBlfWNhdGNoKGUpe3JldHVybiB0aGlzLl93YXJuaW5nSGlzdG9yeVtlLm1lc3NhZ2VdfHwodGhpcy5fd2FybmluZ0hpc3RvcnlbZS5tZXNzYWdlXT0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKGUubWVzc2FnZSkpLHRoaXMuX2RlZmF1bHRWYWx1ZX19fWZ1bmN0aW9uIEZuKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmZVswXWluIFRufWZ1bmN0aW9uIGpuKGUsdCl7Y29uc3Qgcj1uZXcgd3IoVG4sW10sdD9mdW5jdGlvbihlKXtjb25zdCB0PXtjb2xvcjpsdCxzdHJpbmc6YXQsbnVtYmVyOm90LGVudW06YXQsYm9vbGVhbjpzdCxmb3JtYXR0ZWQ6ZHQscmVzb2x2ZWRJbWFnZTpwdH07cmV0dXJuXCJhcnJheVwiPT09ZS50eXBlP2Z0KHRbZS52YWx1ZV18fHV0LGUubGVuZ3RoKTp0W2UudHlwZV19KHQpOnZvaWQgMCksbj1yLnBhcnNlKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdCYmXCJzdHJpbmdcIj09PXQudHlwZT97dHlwZUFubm90YXRpb246XCJjb2VyY2VcIn06dm9pZCAwKTtyZXR1cm4gbj9FbihuZXcgQm4obix0KSk6U24oci5lcnJvcnMpfWNsYXNzIFVue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5raW5kPWUsdGhpcy5fc3R5bGVFeHByZXNzaW9uPXQsdGhpcy5pc1N0YXRlRGVwZW5kZW50PVwiY29uc3RhbnRcIiE9PWUmJiFfcih0LmV4cHJlc3Npb24pfWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LHIsbixpLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQscixuLGksbyl9ZXZhbHVhdGUoZSx0LHIsbixpLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUoZSx0LHIsbixpLG8pfX1jbGFzcyBObntjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLmtpbmQ9ZSx0aGlzLnpvb21TdG9wcz1yLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj10LHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNhbWVyYVwiIT09ZSYmIV9yKHQuZXhwcmVzc2lvbiksdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT1ufWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LHIsbixpLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQscixuLGksbyl9ZXZhbHVhdGUoZSx0LHIsbixpLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUoZSx0LHIsbixpLG8pfWludGVycG9sYXRpb25GYWN0b3IoZSx0LHIpe3JldHVybiB0aGlzLmludGVycG9sYXRpb25UeXBlP0dyLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uVHlwZSxlLHQscik6MH19ZnVuY3Rpb24gVm4oZSx0KXtpZihcImVycm9yXCI9PT0oZT1qbihlLHQpKS5yZXN1bHQpcmV0dXJuIGU7Y29uc3Qgcj1lLnZhbHVlLmV4cHJlc3Npb24sbj1ncihyKTtpZighbiYmIUNuKHQpKXJldHVybiBTbihbbmV3IHR0KFwiXCIsXCJkYXRhIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBpPXlyKHIsW1wiem9vbVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZighaSYmIU1uKHQpKXJldHVybiBTbihbbmV3IHR0KFwiXCIsXCJ6b29tIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBvPWZ1bmN0aW9uIGUodCl7bGV0IHI9bnVsbDtpZih0IGluc3RhbmNlb2YgV3Ipcj1lKHQucmVzdWx0KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBacil7Zm9yKGNvbnN0IG4gb2YgdC5hcmdzKWlmKHI9ZShuKSxyKWJyZWFrfWVsc2UodCBpbnN0YW5jZW9mIFNyfHx0IGluc3RhbmNlb2YgR3IpJiZ0LmlucHV0IGluc3RhbmNlb2YgWXQmJlwiem9vbVwiPT09dC5pbnB1dC5uYW1lJiYocj10KTtyZXR1cm4gciBpbnN0YW5jZW9mIHR0fHx0LmVhY2hDaGlsZCh0PT57Y29uc3Qgbj1lKHQpO24gaW5zdGFuY2VvZiB0dD9yPW46IXImJm4/cj1uZXcgdHQoXCJcIiwnXCJ6b29tXCIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9uLicpOnImJm4mJnIhPT1uJiYocj1uZXcgdHQoXCJcIiwnT25seSBvbmUgem9vbS1iYXNlZCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgc3ViZXhwcmVzc2lvbiBtYXkgYmUgdXNlZCBpbiBhbiBleHByZXNzaW9uLicpKX0pLHJ9KHIpO3JldHVybiBvfHxpP28gaW5zdGFuY2VvZiB0dD9Tbihbb10pOm8gaW5zdGFuY2VvZiBHciYmIWtuKHQpP1NuKFtuZXcgdHQoXCJcIiwnXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIGNhbm5vdCBiZSB1c2VkIHdpdGggdGhpcyBwcm9wZXJ0eScpXSk6RW4obz9uZXcgTm4obj9cImNhbWVyYVwiOlwiY29tcG9zaXRlXCIsZS52YWx1ZSxvLmxhYmVscyxvIGluc3RhbmNlb2YgR3I/by5pbnRlcnBvbGF0aW9uOnZvaWQgMCk6bmV3IFVuKG4/XCJjb25zdGFudFwiOlwic291cmNlXCIsZS52YWx1ZSkpOlNuKFtuZXcgdHQoXCJcIiwnXCJ6b29tXCIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9uLicpXSl9Y2xhc3MgR257Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJhbWV0ZXJzPWUsdGhpcy5fc3BlY2lmaWNhdGlvbj10LEtlKHRoaXMsZnVuY3Rpb24gZSh0LHIpe2NvbnN0IG49XCJjb2xvclwiPT09ci50eXBlLGk9dC5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIHQuc3RvcHNbMF1bMF0sbz1pfHwhKGl8fHZvaWQgMCE9PXQucHJvcGVydHkpLGE9dC50eXBlfHwoa24ocik/XCJleHBvbmVudGlhbFwiOlwiaW50ZXJ2YWxcIik7aWYobiYmKCh0PUtlKHt9LHQpKS5zdG9wcyYmKHQuc3RvcHM9dC5zdG9wcy5tYXAoZT0+W2VbMF0sTXQucGFyc2UoZVsxXSldKSksdC5kZWZhdWx0PU10LnBhcnNlKHQuZGVmYXVsdD90LmRlZmF1bHQ6ci5kZWZhdWx0KSksdC5jb2xvclNwYWNlJiZcInJnYlwiIT09dC5jb2xvclNwYWNlJiYhVXJbdC5jb2xvclNwYWNlXSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbG9yIHNwYWNlOiBcIit0LmNvbG9yU3BhY2UpO2xldCBzLGwsYztpZihcImV4cG9uZW50aWFsXCI9PT1hKXM9TG47ZWxzZSBpZihcImludGVydmFsXCI9PT1hKXM9Um47ZWxzZSBpZihcImNhdGVnb3JpY2FsXCI9PT1hKXtzPURuLGw9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgZSBvZiB0LnN0b3BzKWxbZVswXV09ZVsxXTtjPXR5cGVvZiB0LnN0b3BzWzBdWzBdfWVsc2V7aWYoXCJpZGVudGl0eVwiIT09YSl0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZnVuY3Rpb24gdHlwZSBcIiR7YX1cImApO3M9T259aWYoaSl7Y29uc3Qgbj17fSxpPVtdO2ZvcihsZXQgZT0wO2U8dC5zdG9wcy5sZW5ndGg7ZSsrKXtjb25zdCByPXQuc3RvcHNbZV0sbz1yWzBdLnpvb207dm9pZCAwPT09bltvXSYmKG5bb109e3pvb206byx0eXBlOnQudHlwZSxwcm9wZXJ0eTp0LnByb3BlcnR5LGRlZmF1bHQ6dC5kZWZhdWx0LHN0b3BzOltdfSxpLnB1c2gobykpLG5bb10uc3RvcHMucHVzaChbclswXS52YWx1ZSxyWzFdXSl9Y29uc3Qgbz1bXTtmb3IoY29uc3QgdCBvZiBpKW8ucHVzaChbblt0XS56b29tLGUoblt0XSxyKV0pO2NvbnN0IGE9e25hbWU6XCJsaW5lYXJcIn07cmV0dXJue2tpbmQ6XCJjb21wb3NpdGVcIixpbnRlcnBvbGF0aW9uVHlwZTphLGludGVycG9sYXRpb25GYWN0b3I6R3IuaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxhKSx6b29tU3RvcHM6by5tYXAoZT0+ZVswXSksZXZhbHVhdGU6KHt6b29tOmV9LG4pPT5Mbih7c3RvcHM6byxiYXNlOnQuYmFzZX0scixlKS5ldmFsdWF0ZShlLG4pfX1pZihvKXtjb25zdCBlPVwiZXhwb25lbnRpYWxcIj09PWE/e25hbWU6XCJleHBvbmVudGlhbFwiLGJhc2U6dm9pZCAwIT09dC5iYXNlP3QuYmFzZToxfTpudWxsO3JldHVybntraW5kOlwiY2FtZXJhXCIsaW50ZXJwb2xhdGlvblR5cGU6ZSxpbnRlcnBvbGF0aW9uRmFjdG9yOkdyLmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAsZSksem9vbVN0b3BzOnQuc3RvcHMubWFwKGU9PmVbMF0pLGV2YWx1YXRlOih7em9vbTplfSk9PnModCxyLGUsbCxjKX19cmV0dXJue2tpbmQ6XCJzb3VyY2VcIixldmFsdWF0ZShlLG4pe2NvbnN0IGk9biYmbi5wcm9wZXJ0aWVzP24ucHJvcGVydGllc1t0LnByb3BlcnR5XTp2b2lkIDA7cmV0dXJuIHZvaWQgMD09PWk/em4odC5kZWZhdWx0LHIuZGVmYXVsdCk6cyh0LHIsaSxsLGMpfX19KHRoaXMuX3BhcmFtZXRlcnMsdGhpcy5fc3BlY2lmaWNhdGlvbikpfXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtyZXR1cm4gbmV3IEduKGUuX3BhcmFtZXRlcnMsZS5fc3BlY2lmaWNhdGlvbil9c3RhdGljIHNlcmlhbGl6ZShlKXtyZXR1cm57X3BhcmFtZXRlcnM6ZS5fcGFyYW1ldGVycyxfc3BlY2lmaWNhdGlvbjplLl9zcGVjaWZpY2F0aW9ufX19Y2xhc3MgcW57Y29uc3RydWN0b3IoZSx0LHIsbil7dGhpcy5tZXNzYWdlPShlP2UrXCI6IFwiOlwiXCIpK3IsbiYmKHRoaXMuaWRlbnRpZmllcj1uKSxudWxsIT10JiZ0Ll9fbGluZV9fJiYodGhpcy5saW5lPXQuX19saW5lX18pfX1mdW5jdGlvbiBabihlKXtjb25zdCB0PWUua2V5LHI9ZS52YWx1ZSxuPWUudmFsdWVTcGVjfHx7fSxpPWUub2JqZWN0RWxlbWVudFZhbGlkYXRvcnN8fHt9LG89ZS5zdHlsZSxhPWUuc3R5bGVTcGVjO2xldCBzPVtdO2NvbnN0IGw9QW4ocik7aWYoXCJvYmplY3RcIiE9PWwpcmV0dXJuW25ldyBxbih0LHIsYG9iamVjdCBleHBlY3RlZCwgJHtsfSBmb3VuZGApXTtmb3IoY29uc3QgZSBpbiByKXtjb25zdCBsPWUuc3BsaXQoXCIuXCIpWzBdLGM9bltsXXx8bltcIipcIl07bGV0IHU7aVtsXT91PWlbbF06bltsXT91PXhpOmlbXCIqXCJdP3U9aVtcIipcIl06bltcIipcIl0mJih1PXhpKSx1P3M9cy5jb25jYXQodSh7a2V5Oih0P3QrXCIuXCI6dCkrZSx2YWx1ZTpyW2VdLHZhbHVlU3BlYzpjLHN0eWxlOm8sc3R5bGVTcGVjOmEsb2JqZWN0OnIsb2JqZWN0S2V5OmV9LHIpKTpzLnB1c2gobmV3IHFuKHQscltlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApKX1mb3IoY29uc3QgZSBpbiBuKWlbZV18fG5bZV0ucmVxdWlyZWQmJnZvaWQgMD09PW5bZV0uZGVmYXVsdCYmdm9pZCAwPT09cltlXSYmcy5wdXNoKG5ldyBxbih0LHIsYG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCIke2V9XCJgKSk7cmV0dXJuIHN9ZnVuY3Rpb24gJG4oZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS52YWx1ZVNwZWMsbj1lLnN0eWxlLGk9ZS5zdHlsZVNwZWMsbz1lLmtleSxhPWUuYXJyYXlFbGVtZW50VmFsaWRhdG9yfHx4aTtpZihcImFycmF5XCIhPT1Bbih0KSlyZXR1cm5bbmV3IHFuKG8sdCxgYXJyYXkgZXhwZWN0ZWQsICR7QW4odCl9IGZvdW5kYCldO2lmKHIubGVuZ3RoJiZ0Lmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybltuZXcgcW4obyx0LGBhcnJheSBsZW5ndGggJHtyLmxlbmd0aH0gZXhwZWN0ZWQsIGxlbmd0aCAke3QubGVuZ3RofSBmb3VuZGApXTtpZihyW1wibWluLWxlbmd0aFwiXSYmdC5sZW5ndGg8cltcIm1pbi1sZW5ndGhcIl0pcmV0dXJuW25ldyBxbihvLHQsYGFycmF5IGxlbmd0aCBhdCBsZWFzdCAke3JbXCJtaW4tbGVuZ3RoXCJdfSBleHBlY3RlZCwgbGVuZ3RoICR7dC5sZW5ndGh9IGZvdW5kYCldO2xldCBzPXt0eXBlOnIudmFsdWUsdmFsdWVzOnIudmFsdWVzLG1pbmltdW06ci5taW5pbXVtLG1heGltdW06ci5tYXhpbXVtLGZ1bmN0aW9uOnZvaWQgMH07aS4kdmVyc2lvbjw3JiYocy5mdW5jdGlvbj1yLmZ1bmN0aW9uKSxcIm9iamVjdFwiPT09QW4oci52YWx1ZSkmJihzPXIudmFsdWUpO2xldCBsPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWw9bC5jb25jYXQoYSh7YXJyYXk6dCxhcnJheUluZGV4OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6cyxzdHlsZTpuLHN0eWxlU3BlYzppLGtleTpgJHtvfVske2V9XWB9KSk7cmV0dXJuIGx9ZnVuY3Rpb24gV24oZSl7Y29uc3QgdD1lLmtleSxyPWUudmFsdWUsbj1lLnZhbHVlU3BlYztsZXQgaT1BbihyKTtpZihcIm51bWJlclwiPT09aSYmciE9ciYmKGk9XCJOYU5cIiksXCJudW1iZXJcIiE9PWkpcmV0dXJuW25ldyBxbih0LHIsYG51bWJlciBleHBlY3RlZCwgJHtpfSBmb3VuZGApXTtpZihcIm1pbmltdW1cImluIG4pe2xldCBpPW4ubWluaW11bTtpZihcImFycmF5XCI9PT1BbihuLm1pbmltdW0pJiYoaT1uLm1pbmltdW1bZS5hcnJheUluZGV4XSkscjxpKXJldHVybltuZXcgcW4odCxyLGAke3J9IGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSAke2l9YCldfWlmKFwibWF4aW11bVwiaW4gbil7bGV0IGk9bi5tYXhpbXVtO2lmKFwiYXJyYXlcIj09PUFuKG4ubWF4aW11bSkmJihpPW4ubWF4aW11bVtlLmFycmF5SW5kZXhdKSxyPmkpcmV0dXJuW25ldyBxbih0LHIsYCR7cn0gaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICR7aX1gKV19cmV0dXJuW119ZnVuY3Rpb24gWG4oZSl7Y29uc3QgdD1lLnZhbHVlU3BlYyxyPUplKGUudmFsdWUudHlwZSk7bGV0IG4saSxvLGE9e307Y29uc3Qgcz1cImNhdGVnb3JpY2FsXCIhPT1yJiZ2b2lkIDA9PT1lLnZhbHVlLnByb3BlcnR5LGw9IXMsYz1cImFycmF5XCI9PT1BbihlLnZhbHVlLnN0b3BzKSYmXCJhcnJheVwiPT09QW4oZS52YWx1ZS5zdG9wc1swXSkmJlwib2JqZWN0XCI9PT1BbihlLnZhbHVlLnN0b3BzWzBdWzBdKSx1PVpuKHtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6ZS5zdHlsZVNwZWMuZnVuY3Rpb24sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3N0b3BzOmZ1bmN0aW9uKGUpe2lmKFwiaWRlbnRpdHlcIj09PXIpcmV0dXJuW25ldyBxbihlLmtleSxlLnZhbHVlLCdpZGVudGl0eSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgYSBcInN0b3BzXCIgcHJvcGVydHknKV07bGV0IHQ9W107Y29uc3Qgbj1lLnZhbHVlO3JldHVybiB0PXQuY29uY2F0KCRuKHtrZXk6ZS5rZXksdmFsdWU6bix2YWx1ZVNwZWM6ZS52YWx1ZVNwZWMsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsYXJyYXlFbGVtZW50VmFsaWRhdG9yOmh9KSksXCJhcnJheVwiPT09QW4obikmJjA9PT1uLmxlbmd0aCYmdC5wdXNoKG5ldyBxbihlLmtleSxuLFwiYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdG9wXCIpKSx0fSxkZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB4aSh7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOnQsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KX19fSk7cmV0dXJuXCJpZGVudGl0eVwiPT09ciYmcyYmdS5wdXNoKG5ldyBxbihlLmtleSxlLnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwicHJvcGVydHlcIicpKSxcImlkZW50aXR5XCI9PT1yfHxlLnZhbHVlLnN0b3BzfHx1LnB1c2gobmV3IHFuKGUua2V5LGUudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PXImJmUudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFrbihlLnZhbHVlU3BlYykmJnUucHVzaChuZXcgcW4oZS5rZXksZS52YWx1ZSxcImV4cG9uZW50aWFsIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSxlLnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKGwmJiFDbihlLnZhbHVlU3BlYyk/dS5wdXNoKG5ldyBxbihlLmtleSxlLnZhbHVlLFwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpOnMmJiFNbihlLnZhbHVlU3BlYykmJnUucHVzaChuZXcgcW4oZS5rZXksZS52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1yJiYhY3x8dm9pZCAwIT09ZS52YWx1ZS5wcm9wZXJ0eXx8dS5wdXNoKG5ldyBxbihlLmtleSxlLnZhbHVlLCdcInByb3BlcnR5XCIgcHJvcGVydHkgaXMgcmVxdWlyZWQnKSksdTtmdW5jdGlvbiBoKGUpe2xldCByPVtdO2NvbnN0IG49ZS52YWx1ZSxzPWUua2V5O2lmKFwiYXJyYXlcIiE9PUFuKG4pKXJldHVybltuZXcgcW4ocyxuLGBhcnJheSBleHBlY3RlZCwgJHtBbihuKX0gZm91bmRgKV07aWYoMiE9PW4ubGVuZ3RoKXJldHVybltuZXcgcW4ocyxuLGBhcnJheSBsZW5ndGggMiBleHBlY3RlZCwgbGVuZ3RoICR7bi5sZW5ndGh9IGZvdW5kYCldO2lmKGMpe2lmKFwib2JqZWN0XCIhPT1BbihuWzBdKSlyZXR1cm5bbmV3IHFuKHMsbixgb2JqZWN0IGV4cGVjdGVkLCAke0FuKG5bMF0pfSBmb3VuZGApXTtpZih2b2lkIDA9PT1uWzBdLnpvb20pcmV0dXJuW25ldyBxbihzLG4sXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHpvb21cIildO2lmKHZvaWQgMD09PW5bMF0udmFsdWUpcmV0dXJuW25ldyBxbihzLG4sXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHZhbHVlXCIpXTtjb25zdCB0PUplKG5bMF0uem9vbSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuW25ldyBxbihzLG5bMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBiZSBudW1iZXJzXCIpXTtpZihvJiZvPnQpcmV0dXJuW25ldyBxbihzLG5bMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXTt0IT09byYmKG89dCxpPXZvaWQgMCxhPXt9KSxyPXIuY29uY2F0KFpuKHtrZXk6cytcIlswXVwiLHZhbHVlOm5bMF0sdmFsdWVTcGVjOnt6b29tOnt9fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7em9vbTpXbix2YWx1ZTpkfX0pKX1lbHNlIHI9ci5jb25jYXQoZCh7a2V5OnMrXCJbMF1cIix2YWx1ZTpuWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30sbikpO3JldHVybiBGbihRZShuWzFdKSk/ci5jb25jYXQoW25ldyBxbihzK1wiWzFdXCIsblsxXSxcImV4cHJlc3Npb25zIGFyZSBub3QgYWxsb3dlZCBpbiBmdW5jdGlvbiBzdG9wcy5cIildKTpyLmNvbmNhdCh4aSh7a2V5OnMrXCJbMV1cIix2YWx1ZTpuWzFdLHZhbHVlU3BlYzp0LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIGQoZSxvKXtjb25zdCBzPUFuKGUudmFsdWUpLGw9SmUoZS52YWx1ZSksYz1udWxsIT09ZS52YWx1ZT9lLnZhbHVlOm87aWYobil7aWYocyE9PW4pcmV0dXJuW25ldyBxbihlLmtleSxjLGAke3N9IHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICR7bn1gKV19ZWxzZSBuPXM7aWYoXCJudW1iZXJcIiE9PXMmJlwic3RyaW5nXCIhPT1zJiZcImJvb2xlYW5cIiE9PXMmJlwibnVtYmVyXCIhPXR5cGVvZiBsJiZcInN0cmluZ1wiIT10eXBlb2YgbCYmXCJib29sZWFuXCIhPXR5cGVvZiBsKXJldHVybltuZXcgcW4oZS5rZXksYyxcInN0b3AgZG9tYWluIHZhbHVlIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhblwiKV07aWYoXCJudW1iZXJcIiE9PXMmJlwiY2F0ZWdvcmljYWxcIiE9PXIpe2xldCBuPWBudW1iZXIgZXhwZWN0ZWQsICR7c30gZm91bmRgO3JldHVybiBDbih0KSYmdm9pZCAwPT09ciYmKG4rPSdcXG5JZiB5b3UgaW50ZW5kZWQgdG8gdXNlIGEgY2F0ZWdvcmljYWwgZnVuY3Rpb24sIHNwZWNpZnkgYFwidHlwZVwiOiBcImNhdGVnb3JpY2FsXCJgLicpLFtuZXcgcW4oZS5rZXksYyxuKV19cmV0dXJuXCJjYXRlZ29yaWNhbFwiIT09cnx8XCJudW1iZXJcIiE9PXN8fFwibnVtYmVyXCI9PXR5cGVvZiBsJiZpc0Zpbml0ZShsKSYmTWF0aC5mbG9vcihsKT09PWw/XCJjYXRlZ29yaWNhbFwiIT09ciYmXCJudW1iZXJcIj09PXMmJlwibnVtYmVyXCI9PXR5cGVvZiBsJiZcIm51bWJlclwiPT10eXBlb2YgaSYmdm9pZCAwIT09aSYmbDxpP1tuZXcgcW4oZS5rZXksYyxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGFwcGVhciBpbiBhc2NlbmRpbmcgb3JkZXJcIildOihpPWwsXCJjYXRlZ29yaWNhbFwiPT09ciYmbCBpbiBhP1tuZXcgcW4oZS5rZXksYyxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGJlIHVuaXF1ZVwiKV06KGFbbF09ITAsW10pKTpbbmV3IHFuKGUua2V5LGMsXCJpbnRlZ2VyIGV4cGVjdGVkLCBmb3VuZCBcIitTdHJpbmcobCkpXX19ZnVuY3Rpb24gSG4oZSl7Y29uc3QgdD0oXCJwcm9wZXJ0eVwiPT09ZS5leHByZXNzaW9uQ29udGV4dD9WbjpqbikoUWUoZS52YWx1ZSksZS52YWx1ZVNwZWMpO2lmKFwiZXJyb3JcIj09PXQucmVzdWx0KXJldHVybiB0LnZhbHVlLm1hcCh0PT5uZXcgcW4oYCR7ZS5rZXl9JHt0LmtleX1gLGUudmFsdWUsdC5tZXNzYWdlKSk7Y29uc3Qgcj10LnZhbHVlLmV4cHJlc3Npb258fHQudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uO2lmKFwicHJvcGVydHlcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJlwidGV4dC1mb250XCI9PT1lLnByb3BlcnR5S2V5JiYhci5vdXRwdXREZWZpbmVkKCkpcmV0dXJuW25ldyBxbihlLmtleSxlLnZhbHVlLGBJbnZhbGlkIGRhdGEgZXhwcmVzc2lvbiBmb3IgXCIke2UucHJvcGVydHlLZXl9XCIuIE91dHB1dCB2YWx1ZXMgbXVzdCBiZSBjb250YWluZWQgYXMgbGl0ZXJhbHMgd2l0aGluIHRoZSBleHByZXNzaW9uLmApXTtpZihcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiZcImxheW91dFwiPT09ZS5wcm9wZXJ0eVR5cGUmJiFfcihyKSlyZXR1cm5bbmV3IHFuKGUua2V5LGUudmFsdWUsJ1wiZmVhdHVyZS1zdGF0ZVwiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBsYXlvdXQgcHJvcGVydGllcy4nKV07aWYoXCJmaWx0ZXJcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQpcmV0dXJuIGZ1bmN0aW9uIGUodCxyKXtjb25zdCBuPW5ldyBTZXQoW1wiem9vbVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZihyLnZhbHVlU3BlYyYmci52YWx1ZVNwZWMuZXhwcmVzc2lvbilmb3IoY29uc3QgZSBvZiByLnZhbHVlU3BlYy5leHByZXNzaW9uLnBhcmFtZXRlcnMpbi5kZWxldGUoZSk7aWYoMD09PW4uc2l6ZSlyZXR1cm5bXTtjb25zdCBpPVtdO3JldHVybiB0IGluc3RhbmNlb2YgWXQmJm4uaGFzKHQubmFtZSk/W25ldyBxbihyLmtleSxyLnZhbHVlLGBbXCIke3QubmFtZX1cIl0gZXhwcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGEgZmlsdGVyIGZvciBhICR7ci5vYmplY3QudHlwZX0gbGF5ZXIgd2l0aCBpZDogJHtyLm9iamVjdC5pZH1gKV06KHQuZWFjaENoaWxkKHQ9PntpLnB1c2goLi4uZSh0LHIpKX0pLGkpfShyLGUpO2lmKGUuZXhwcmVzc2lvbkNvbnRleHQmJjA9PT1lLmV4cHJlc3Npb25Db250ZXh0LmluZGV4T2YoXCJjbHVzdGVyXCIpKXtpZigheXIocixbXCJ6b29tXCIsXCJmZWF0dXJlLXN0YXRlXCJdKSlyZXR1cm5bbmV3IHFuKGUua2V5LGUudmFsdWUsJ1wiem9vbVwiIGFuZCBcImZlYXR1cmUtc3RhdGVcIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoXCJjbHVzdGVyLWluaXRpYWxcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJiFncihyKSlyZXR1cm5bbmV3IHFuKGUua2V5LGUudmFsdWUsXCJGZWF0dXJlIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBpbml0aWFsIGV4cHJlc3Npb24gcGFydCBvZiBjbHVzdGVyIHByb3BlcnRpZXMuXCIpXX1yZXR1cm5bXX1mdW5jdGlvbiBZbihlKXtjb25zdCB0PWUua2V5LHI9ZS52YWx1ZSxuPWUudmFsdWVTcGVjLGk9W107cmV0dXJuIEFycmF5LmlzQXJyYXkobi52YWx1ZXMpPy0xPT09bi52YWx1ZXMuaW5kZXhPZihKZShyKSkmJmkucHVzaChuZXcgcW4odCxyLGBleHBlY3RlZCBvbmUgb2YgWyR7bi52YWx1ZXMuam9pbihcIiwgXCIpfV0sICR7SlNPTi5zdHJpbmdpZnkocil9IGZvdW5kYCkpOi0xPT09T2JqZWN0LmtleXMobi52YWx1ZXMpLmluZGV4T2YoSmUocikpJiZpLnB1c2gobmV3IHFuKHQscixgZXhwZWN0ZWQgb25lIG9mIFske09iamVjdC5rZXlzKG4udmFsdWVzKS5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShyKX0gZm91bmRgKSksaX1mdW5jdGlvbiBLbihlKXtpZighMD09PWV8fCExPT09ZSlyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheShlKXx8MD09PWUubGVuZ3RoKXJldHVybiExO3N3aXRjaChlWzBdKXtjYXNlXCJoYXNcIjpyZXR1cm4gZS5sZW5ndGg+PTImJlwiJGlkXCIhPT1lWzFdJiZcIiR0eXBlXCIhPT1lWzFdO2Nhc2VcImluXCI6cmV0dXJuIGUubGVuZ3RoPj0zJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGVbMV18fEFycmF5LmlzQXJyYXkoZVsyXSkpO2Nhc2VcIiFpblwiOmNhc2VcIiFoYXNcIjpjYXNlXCJub25lXCI6cmV0dXJuITE7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmNhc2VcIjxcIjpjYXNlXCI8PVwiOnJldHVybiAzIT09ZS5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZVsxXSl8fEFycmF5LmlzQXJyYXkoZVsyXSk7Y2FzZVwiYW55XCI6Y2FzZVwiYWxsXCI6Zm9yKGNvbnN0IHQgb2YgZS5zbGljZSgxKSlpZighS24odCkmJlwiYm9vbGVhblwiIT10eXBlb2YgdClyZXR1cm4hMTtyZXR1cm4hMDtkZWZhdWx0OnJldHVybiEwfX1mdW5jdGlvbiBKbihlLHQ9XCJmaWxsXCIpe2lmKG51bGw9PWUpcmV0dXJue2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfTtLbihlKXx8KGU9bmkoZSkpO2NvbnN0IHI9ZTtsZXQgbj0hMDt0cnl7bj1mdW5jdGlvbihlKXtpZighUW4oZSkpcmV0dXJuIGU7bGV0IHQ9UWUoZSk7cmV0dXJuIGZ1bmN0aW9uIGUodCl7bGV0IHI9ITE7Y29uc3Qgbj1bXTtpZihcImNhc2VcIj09PXRbMF0pe2ZvcihsZXQgZT0xO2U8dC5sZW5ndGgtMTtlKz0yKXI9cnx8UW4odFtlXSksbi5wdXNoKHRbZSsxXSk7bi5wdXNoKHRbdC5sZW5ndGgtMV0pfWVsc2UgaWYoXCJtYXRjaFwiPT09dFswXSl7cj1yfHxRbih0WzFdKTtmb3IobGV0IGU9MjtlPHQubGVuZ3RoLTE7ZSs9MiluLnB1c2godFtlKzFdKTtuLnB1c2godFt0Lmxlbmd0aC0xXSl9ZWxzZSBpZihcInN0ZXBcIj09PXRbMF0pe3I9cnx8UW4odFsxXSk7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aC0xO2UrPTIpbi5wdXNoKHRbZSsxXSl9ciYmKHQubGVuZ3RoPTAsdC5wdXNoKFwiYW55XCIsLi4ubikpO2ZvcihsZXQgcj0xO3I8dC5sZW5ndGg7cisrKWUodFtyXSl9KHQpLHQ9ZnVuY3Rpb24gZSh0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtjb25zdCByPWZ1bmN0aW9uKGUpe2lmKGVpLmhhcyhlWzBdKSlmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylpZihRbihlW3RdKSlyZXR1cm4hMDtyZXR1cm4gZX0odCk7cmV0dXJuITA9PT1yP3I6ci5tYXAodD0+ZSh0KSl9KHQpLHR9KHIpfWNhdGNoKGUpe2NvbnNvbGUud2FybihgRmFpbGVkIHRvIGV4dHJhY3Qgc3RhdGljIGZpbHRlci4gRmlsdGVyIHdpbGwgY29udGludWUgd29ya2luZywgYnV0IGF0IGhpZ2hlciBtZW1vcnkgdXNhZ2UgYW5kIHNsb3dlciBmcmFtZXJhdGUuXFxuVGhpcyBpcyBtb3N0IGxpa2VseSBhIGJ1ZywgcGxlYXNlIHJlcG9ydCB0aGlzIHZpYSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz0mbGFiZWxzPSZ0ZW1wbGF0ZT1CdWdfcmVwb3J0Lm1kXFxuYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0aGlzIG1lc3NhZ2UgaW4gdGhlIHJlcG9ydC5cXG5UaGFuayB5b3UhXFxuRmlsdGVyIEV4cHJlc3Npb246XFxuJHtKU09OLnN0cmluZ2lmeShyLG51bGwsMil9XFxuICAgICAgICBgKX1jb25zdCBpPVllW1wiZmlsdGVyX1wiK3RdLG89am4obixpKTtsZXQgYT1udWxsO2lmKFwiZXJyb3JcIj09PW8ucmVzdWx0KXRocm93IG5ldyBFcnJvcihvLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7YT0oZSx0LHIpPT5vLnZhbHVlLmV2YWx1YXRlKGUsdCx7fSxyKTtsZXQgcz1udWxsLGw9bnVsbDtpZihuIT09cil7Y29uc3QgZT1qbihyLGkpO2lmKFwiZXJyb3JcIj09PWUucmVzdWx0KXRocm93IG5ldyBFcnJvcihlLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7cz0odCxyLG4saSxvKT0+ZS52YWx1ZS5ldmFsdWF0ZSh0LHIse30sbix2b2lkIDAsdm9pZCAwLGksbyksbD0hZ3IoZS52YWx1ZS5leHByZXNzaW9uKX1yZXR1cm57ZmlsdGVyOmEsZHluYW1pY0ZpbHRlcjpzfHx2b2lkIDAsbmVlZEdlb21ldHJ5OnJpKG4pLG5lZWRGZWF0dXJlOiEhbH19ZnVuY3Rpb24gUW4oZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuITE7aWYoXCJwaXRjaFwiPT09KHQ9ZVswXSl8fFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIj09PXQpcmV0dXJuITA7dmFyIHQ7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0KyspaWYoUW4oZVt0XSkpcmV0dXJuITA7cmV0dXJuITF9Y29uc3QgZWk9bmV3IFNldChbXCJpblwiLFwiPT1cIixcIiE9XCIsXCI+XCIsXCI+PVwiLFwiPFwiLFwiPD1cIixcInRvLWJvb2xlYW5cIl0pO2Z1bmN0aW9uIHRpKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfWZ1bmN0aW9uIHJpKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2lmKFwid2l0aGluXCI9PT1lWzBdKXJldHVybiEwO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKHJpKGVbdF0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG5pKGUpe2lmKCFlKXJldHVybiEwO2NvbnN0IHQ9ZVswXTtyZXR1cm4gZS5sZW5ndGg8PTE/XCJhbnlcIiE9PXQ6XCI9PVwiPT09dD9paShlWzFdLGVbMl0sXCI9PVwiKTpcIiE9XCI9PT10P3NpKGlpKGVbMV0sZVsyXSxcIj09XCIpKTpcIjxcIj09PXR8fFwiPlwiPT09dHx8XCI8PVwiPT09dHx8XCI+PVwiPT09dD9paShlWzFdLGVbMl0sdCk6XCJhbnlcIj09PXQ/KHI9ZS5zbGljZSgxKSxbXCJhbnlcIl0uY29uY2F0KHIubWFwKG5pKSkpOlwiYWxsXCI9PT10P1tcImFsbFwiXS5jb25jYXQoZS5zbGljZSgxKS5tYXAobmkpKTpcIm5vbmVcIj09PXQ/W1wiYWxsXCJdLmNvbmNhdChlLnNsaWNlKDEpLm1hcChuaSkubWFwKHNpKSk6XCJpblwiPT09dD9vaShlWzFdLGUuc2xpY2UoMikpOlwiIWluXCI9PT10P3NpKG9pKGVbMV0sZS5zbGljZSgyKSkpOlwiaGFzXCI9PT10P2FpKGVbMV0pOlwiIWhhc1wiPT09dD9zaShhaShlWzFdKSk6XCJ3aXRoaW5cIiE9PXR8fGU7dmFyIHJ9ZnVuY3Rpb24gaWkoZSx0LHIpe3N3aXRjaChlKXtjYXNlXCIkdHlwZVwiOnJldHVybltcImZpbHRlci10eXBlLVwiK3IsdF07Y2FzZVwiJGlkXCI6cmV0dXJuW1wiZmlsdGVyLWlkLVwiK3IsdF07ZGVmYXVsdDpyZXR1cm5bXCJmaWx0ZXItXCIrcixlLHRdfX1mdW5jdGlvbiBvaShlLHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4hMTtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm5bXCJmaWx0ZXItdHlwZS1pblwiLFtcImxpdGVyYWxcIix0XV07Y2FzZVwiJGlkXCI6cmV0dXJuW1wiZmlsdGVyLWlkLWluXCIsW1wibGl0ZXJhbFwiLHRdXTtkZWZhdWx0OnJldHVybiB0Lmxlbmd0aD4yMDAmJiF0LnNvbWUoZT0+dHlwZW9mIGUhPXR5cGVvZiB0WzBdKT9bXCJmaWx0ZXItaW4tbGFyZ2VcIixlLFtcImxpdGVyYWxcIix0LnNvcnQodGkpXV06W1wiZmlsdGVyLWluLXNtYWxsXCIsZSxbXCJsaXRlcmFsXCIsdF1dfX1mdW5jdGlvbiBhaShlKXtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4hMDtjYXNlXCIkaWRcIjpyZXR1cm5bXCJmaWx0ZXItaGFzLWlkXCJdO2RlZmF1bHQ6cmV0dXJuW1wiZmlsdGVyLWhhc1wiLGVdfX1mdW5jdGlvbiBzaShlKXtyZXR1cm5bXCIhXCIsZV19ZnVuY3Rpb24gbGkoZSl7cmV0dXJuIEtuKFFlKGUudmFsdWUpKT9IbihLZSh7fSxlLHtleHByZXNzaW9uQ29udGV4dDpcImZpbHRlclwiLHZhbHVlU3BlYzplLnN0eWxlU3BlY1tcImZpbHRlcl9cIisoZS5sYXllclR5cGV8fFwiZmlsbFwiKV19KSk6ZnVuY3Rpb24gZSh0KXtjb25zdCByPXQudmFsdWUsbj10LmtleTtpZihcImFycmF5XCIhPT1BbihyKSlyZXR1cm5bbmV3IHFuKG4scixgYXJyYXkgZXhwZWN0ZWQsICR7QW4ocil9IGZvdW5kYCldO2NvbnN0IGk9dC5zdHlsZVNwZWM7bGV0IG8sYT1bXTtpZihyLmxlbmd0aDwxKXJldHVybltuZXcgcW4obixyLFwiZmlsdGVyIGFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCAxIGVsZW1lbnRcIildO3N3aXRjaChhPWEuY29uY2F0KFluKHtrZXk6bitcIlswXVwiLHZhbHVlOnJbMF0sdmFsdWVTcGVjOmkuZmlsdGVyX29wZXJhdG9yLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpLEplKHJbMF0pKXtjYXNlXCI8XCI6Y2FzZVwiPD1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpyLmxlbmd0aD49MiYmXCIkdHlwZVwiPT09SmUoclsxXSkmJmEucHVzaChuZXcgcW4obixyLGBcIiR0eXBlXCIgY2Fubm90IGJlIHVzZSB3aXRoIG9wZXJhdG9yIFwiJHtyWzBdfVwiYCkpO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjozIT09ci5sZW5ndGgmJmEucHVzaChuZXcgcW4obixyLGBmaWx0ZXIgYXJyYXkgZm9yIG9wZXJhdG9yIFwiJHtyWzBdfVwiIG11c3QgaGF2ZSAzIGVsZW1lbnRzYCkpO2Nhc2VcImluXCI6Y2FzZVwiIWluXCI6ci5sZW5ndGg+PTImJihvPUFuKHJbMV0pLFwic3RyaW5nXCIhPT1vJiZhLnB1c2gobmV3IHFuKG4rXCJbMV1cIixyWzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7b30gZm91bmRgKSkpO2ZvcihsZXQgZT0yO2U8ci5sZW5ndGg7ZSsrKW89QW4ocltlXSksXCIkdHlwZVwiPT09SmUoclsxXSk/YT1hLmNvbmNhdChZbih7a2V5OmAke259WyR7ZX1dYCx2YWx1ZTpyW2VdLHZhbHVlU3BlYzppLmdlb21ldHJ5X3R5cGUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSk6XCJzdHJpbmdcIiE9PW8mJlwibnVtYmVyXCIhPT1vJiZcImJvb2xlYW5cIiE9PW8mJmEucHVzaChuZXcgcW4oYCR7bn1bJHtlfV1gLHJbZV0sYHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAke299IGZvdW5kYCkpO2JyZWFrO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmNhc2VcIm5vbmVcIjpmb3IobGV0IGk9MTtpPHIubGVuZ3RoO2krKylhPWEuY29uY2F0KGUoe2tleTpgJHtufVske2l9XWAsdmFsdWU6cltpXSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKTticmVhaztjYXNlXCJoYXNcIjpjYXNlXCIhaGFzXCI6bz1BbihyWzFdKSwyIT09ci5sZW5ndGg/YS5wdXNoKG5ldyBxbihuLHIsYGZpbHRlciBhcnJheSBmb3IgXCIke3JbMF19XCIgb3BlcmF0b3IgbXVzdCBoYXZlIDIgZWxlbWVudHNgKSk6XCJzdHJpbmdcIiE9PW8mJmEucHVzaChuZXcgcW4obitcIlsxXVwiLHJbMV0sYHN0cmluZyBleHBlY3RlZCwgJHtvfSBmb3VuZGApKTticmVhaztjYXNlXCJ3aXRoaW5cIjpvPUFuKHJbMV0pLDIhPT1yLmxlbmd0aD9hLnB1c2gobmV3IHFuKG4scixgZmlsdGVyIGFycmF5IGZvciBcIiR7clswXX1cIiBvcGVyYXRvciBtdXN0IGhhdmUgMiBlbGVtZW50c2ApKTpcIm9iamVjdFwiIT09byYmYS5wdXNoKG5ldyBxbihuK1wiWzFdXCIsclsxXSxgb2JqZWN0IGV4cGVjdGVkLCAke299IGZvdW5kYCkpfXJldHVybiBhfShlKX1mdW5jdGlvbiBjaShlLHQpe2NvbnN0IHI9ZS5rZXksbj1lLnN0eWxlLGk9ZS5zdHlsZVNwZWMsbz1lLnZhbHVlLGE9ZS5vYmplY3RLZXkscz1pW2Ake3R9XyR7ZS5sYXllclR5cGV9YF07aWYoIXMpcmV0dXJuW107Y29uc3QgbD1hLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2lmKFwicGFpbnRcIj09PXQmJmwmJnNbbFsxXV0mJnNbbFsxXV0udHJhbnNpdGlvbilyZXR1cm4geGkoe2tleTpyLHZhbHVlOm8sdmFsdWVTcGVjOmkudHJhbnNpdGlvbixzdHlsZTpuLHN0eWxlU3BlYzppfSk7Y29uc3QgYz1lLnZhbHVlU3BlY3x8c1thXTtpZighYylyZXR1cm5bbmV3IHFuKHIsbyxgdW5rbm93biBwcm9wZXJ0eSBcIiR7YX1cImApXTtsZXQgdTtpZihcInN0cmluZ1wiPT09QW4obykmJkNuKGMpJiYhYy50b2tlbnMmJih1PS9eeyhbXn1dKyl9JC8uZXhlYyhvKSkpcmV0dXJuW25ldyBxbihyLG8sYFwiJHthfVwiIGRvZXMgbm90IHN1cHBvcnQgaW50ZXJwb2xhdGlvbiBzeW50YXhcXG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogXFxgeyBcInR5cGVcIjogXCJpZGVudGl0eVwiLCBcInByb3BlcnR5XCI6ICR7SlNPTi5zdHJpbmdpZnkodVsxXSl9IH1cXGAuYCldO2NvbnN0IGg9W107cmV0dXJuXCJzeW1ib2xcIj09PWUubGF5ZXJUeXBlJiYoXCJ0ZXh0LWZpZWxkXCI9PT1hJiZuJiYhbi5nbHlwaHMmJmgucHVzaChuZXcgcW4ocixvLCd1c2Ugb2YgXCJ0ZXh0LWZpZWxkXCIgcmVxdWlyZXMgYSBzdHlsZSBcImdseXBoc1wiIHByb3BlcnR5JykpLFwidGV4dC1mb250XCI9PT1hJiZJbihRZShvKSkmJlwiaWRlbnRpdHlcIj09PUplKG8udHlwZSkmJmgucHVzaChuZXcgcW4ocixvLCdcInRleHQtZm9udFwiIGRvZXMgbm90IHN1cHBvcnQgaWRlbnRpdHkgZnVuY3Rpb25zJykpKSxoLmNvbmNhdCh4aSh7a2V5OmUua2V5LHZhbHVlOm8sdmFsdWVTcGVjOmMsc3R5bGU6bixzdHlsZVNwZWM6aSxleHByZXNzaW9uQ29udGV4dDpcInByb3BlcnR5XCIscHJvcGVydHlUeXBlOnQscHJvcGVydHlLZXk6YX0pKX1mdW5jdGlvbiB1aShlKXtyZXR1cm4gY2koZSxcInBhaW50XCIpfWZ1bmN0aW9uIGhpKGUpe3JldHVybiBjaShlLFwibGF5b3V0XCIpfWZ1bmN0aW9uIGRpKGUpe2xldCB0PVtdO2NvbnN0IHI9ZS52YWx1ZSxuPWUua2V5LGk9ZS5zdHlsZSxvPWUuc3R5bGVTcGVjO3IudHlwZXx8ci5yZWZ8fHQucHVzaChuZXcgcW4obixyLCdlaXRoZXIgXCJ0eXBlXCIgb3IgXCJyZWZcIiBpcyByZXF1aXJlZCcpKTtsZXQgYT1KZShyLnR5cGUpO2NvbnN0IHM9SmUoci5yZWYpO2lmKHIuaWQpe2NvbnN0IG89SmUoci5pZCk7Zm9yKGxldCBhPTA7YTxlLmFycmF5SW5kZXg7YSsrKXtjb25zdCBlPWkubGF5ZXJzW2FdO0plKGUuaWQpPT09byYmdC5wdXNoKG5ldyBxbihuLHIuaWQsYGR1cGxpY2F0ZSBsYXllciBpZCBcIiR7ci5pZH1cIiwgcHJldmlvdXNseSB1c2VkIGF0IGxpbmUgJHtlLmlkLl9fbGluZV9ffWApKX19aWYoXCJyZWZcImluIHIpe2xldCBlO1tcInR5cGVcIixcInNvdXJjZVwiLFwic291cmNlLWxheWVyXCIsXCJmaWx0ZXJcIixcImxheW91dFwiXS5mb3JFYWNoKGU9PntlIGluIHImJnQucHVzaChuZXcgcW4obixyW2VdLGBcIiR7ZX1cIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzYCkpfSksaS5sYXllcnMuZm9yRWFjaCh0PT57SmUodC5pZCk9PT1zJiYoZT10KX0pLGU/ZS5yZWY/dC5wdXNoKG5ldyBxbihuLHIucmVmLFwicmVmIGNhbm5vdCByZWZlcmVuY2UgYW5vdGhlciByZWYgbGF5ZXJcIikpOmE9SmUoZS50eXBlKTpcInN0cmluZ1wiPT10eXBlb2YgcyYmdC5wdXNoKG5ldyBxbihuLHIucmVmLGByZWYgbGF5ZXIgXCIke3N9XCIgbm90IGZvdW5kYCkpfWVsc2UgaWYoXCJiYWNrZ3JvdW5kXCIhPT1hJiZcInNreVwiIT09YSlpZihyLnNvdXJjZSl7Y29uc3QgZT1pLnNvdXJjZXMmJmkuc291cmNlc1tyLnNvdXJjZV0sbz1lJiZKZShlLnR5cGUpO2U/XCJ2ZWN0b3JcIj09PW8mJlwicmFzdGVyXCI9PT1hP3QucHVzaChuZXcgcW4obixyLnNvdXJjZSxgbGF5ZXIgXCIke3IuaWR9XCIgcmVxdWlyZXMgYSByYXN0ZXIgc291cmNlYCkpOlwicmFzdGVyXCI9PT1vJiZcInJhc3RlclwiIT09YT90LnB1c2gobmV3IHFuKG4sci5zb3VyY2UsYGxheWVyIFwiJHtyLmlkfVwiIHJlcXVpcmVzIGEgdmVjdG9yIHNvdXJjZWApKTpcInZlY3RvclwiIT09b3x8cltcInNvdXJjZS1sYXllclwiXT9cInJhc3Rlci1kZW1cIj09PW8mJlwiaGlsbHNoYWRlXCIhPT1hP3QucHVzaChuZXcgcW4obixyLnNvdXJjZSxcInJhc3Rlci1kZW0gc291cmNlIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBsYXllciB0eXBlICdoaWxsc2hhZGUnLlwiKSk6XCJsaW5lXCIhPT1hfHwhci5wYWludHx8IXIucGFpbnRbXCJsaW5lLWdyYWRpZW50XCJdJiYhci5wYWludFtcImxpbmUtdHJpbS1vZmZzZXRcIl18fFwiZ2VvanNvblwiPT09byYmZS5saW5lTWV0cmljc3x8dC5wdXNoKG5ldyBxbihuLHIsYGxheWVyIFwiJHtyLmlkfVwiIHNwZWNpZmllcyBhIGxpbmUtZ3JhZGllbnQsIHdoaWNoIHJlcXVpcmVzIGEgR2VvSlNPTiBzb3VyY2Ugd2l0aCBcXGBsaW5lTWV0cmljc1xcYCBlbmFibGVkLmApKTp0LnB1c2gobmV3IHFuKG4scixgbGF5ZXIgXCIke3IuaWR9XCIgbXVzdCBzcGVjaWZ5IGEgXCJzb3VyY2UtbGF5ZXJcImApKTp0LnB1c2gobmV3IHFuKG4sci5zb3VyY2UsYHNvdXJjZSBcIiR7ci5zb3VyY2V9XCIgbm90IGZvdW5kYCkpfWVsc2UgdC5wdXNoKG5ldyBxbihuLHIsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gdD10LmNvbmNhdChabih7a2V5Om4sdmFsdWU6cix2YWx1ZVNwZWM6by5sYXllcixzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6KCk9PltdLHR5cGU6KCk9PnhpKHtrZXk6bitcIi50eXBlXCIsdmFsdWU6ci50eXBlLHZhbHVlU3BlYzpvLmxheWVyLnR5cGUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0OnIsb2JqZWN0S2V5OlwidHlwZVwifSksZmlsdGVyOmU9PmxpKEtlKHtsYXllclR5cGU6YX0sZSkpLGxheW91dDplPT5abih7bGF5ZXI6cixrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOmU9PmhpKEtlKHtsYXllclR5cGU6YX0sZSkpfX0pLHBhaW50OmU9PlpuKHtsYXllcjpyLGtleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6ZT0+dWkoS2Uoe2xheWVyVHlwZTphfSxlKSl9fSl9fSkpLHR9ZnVuY3Rpb24gcGkoZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS5rZXksbj1Bbih0KTtyZXR1cm5cInN0cmluZ1wiIT09bj9bbmV3IHFuKHIsdCxgc3RyaW5nIGV4cGVjdGVkLCAke259IGZvdW5kYCldOltdfWNvbnN0IGZpPXtwcm9tb3RlSWQ6ZnVuY3Rpb24oe2tleTplLHZhbHVlOnR9KXtpZihcInN0cmluZ1wiPT09QW4odCkpcmV0dXJuIHBpKHtrZXk6ZSx2YWx1ZTp0fSk7e2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gaW4gdClyLnB1c2goLi4ucGkoe2tleTpgJHtlfS4ke259YCx2YWx1ZTp0W25dfSkpO3JldHVybiByfX19O2Z1bmN0aW9uIG1pKGUpe2NvbnN0IHQ9ZS52YWx1ZSxyPWUua2V5LG49ZS5zdHlsZVNwZWMsaT1lLnN0eWxlO2lmKCF0LnR5cGUpcmV0dXJuW25ldyBxbihyLHQsJ1widHlwZVwiIGlzIHJlcXVpcmVkJyldO2NvbnN0IG89SmUodC50eXBlKTtsZXQgYTtzd2l0Y2gobyl7Y2FzZVwidmVjdG9yXCI6Y2FzZVwicmFzdGVyXCI6Y2FzZVwicmFzdGVyLWRlbVwiOnJldHVybiBhPVpuKHtrZXk6cix2YWx1ZTp0LHZhbHVlU3BlYzpuW1wic291cmNlX1wiK28ucmVwbGFjZShcIi1cIixcIl9cIildLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOm4sb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6Zml9KSxhO2Nhc2VcImdlb2pzb25cIjppZihhPVpuKHtrZXk6cix2YWx1ZTp0LHZhbHVlU3BlYzpuLnNvdXJjZV9nZW9qc29uLHN0eWxlOmksc3R5bGVTcGVjOm4sb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6Zml9KSx0LmNsdXN0ZXIpZm9yKGNvbnN0IGUgaW4gdC5jbHVzdGVyUHJvcGVydGllcyl7Y29uc3RbbixpXT10LmNsdXN0ZXJQcm9wZXJ0aWVzW2VdLG89XCJzdHJpbmdcIj09dHlwZW9mIG4/W24sW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsZV1dOm47YS5wdXNoKC4uLkhuKHtrZXk6YCR7cn0uJHtlfS5tYXBgLHZhbHVlOmksZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLW1hcFwifSkpLGEucHVzaCguLi5Ibih7a2V5OmAke3J9LiR7ZX0ucmVkdWNlYCx2YWx1ZTpvLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1yZWR1Y2VcIn0pKX1yZXR1cm4gYTtjYXNlXCJ2aWRlb1wiOnJldHVybiBabih7a2V5OnIsdmFsdWU6dCx2YWx1ZVNwZWM6bi5zb3VyY2VfdmlkZW8sc3R5bGU6aSxzdHlsZVNwZWM6bn0pO2Nhc2VcImltYWdlXCI6cmV0dXJuIFpuKHtrZXk6cix2YWx1ZTp0LHZhbHVlU3BlYzpuLnNvdXJjZV9pbWFnZSxzdHlsZTppLHN0eWxlU3BlYzpufSk7Y2FzZVwiY2FudmFzXCI6cmV0dXJuW25ldyBxbihyLG51bGwsXCJQbGVhc2UgdXNlIHJ1bnRpbWUgQVBJcyB0byBhZGQgY2FudmFzIHNvdXJjZXMsIHJhdGhlciB0aGFuIGluY2x1ZGluZyB0aGVtIGluIHN0eWxlc2hlZXRzLlwiLFwic291cmNlLmNhbnZhc1wiKV07ZGVmYXVsdDpyZXR1cm4gWW4oe2tleTpyK1wiLnR5cGVcIix2YWx1ZTp0LnR5cGUsdmFsdWVTcGVjOnt2YWx1ZXM6W1widmVjdG9yXCIsXCJyYXN0ZXJcIixcInJhc3Rlci1kZW1cIixcImdlb2pzb25cIixcInZpZGVvXCIsXCJpbWFnZVwiXX0sc3R5bGU6aSxzdHlsZVNwZWM6bn0pfX1mdW5jdGlvbiBnaShlKXtjb25zdCB0PWUudmFsdWUscj1lLnN0eWxlU3BlYyxuPXIubGlnaHQsaT1lLnN0eWxlO2xldCBvPVtdO2NvbnN0IGE9QW4odCk7aWYodm9pZCAwPT09dClyZXR1cm4gbztpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gbz1vLmNvbmNhdChbbmV3IHFuKFwibGlnaHRcIix0LGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLG87Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3QgYT1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO289by5jb25jYXQoYSYmblthWzFdXSYmblthWzFdXS50cmFuc2l0aW9uP3hpKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpyLnRyYW5zaXRpb24sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOm5bZV0/eGkoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm5bZV0sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOltuZXcgcW4oZSx0W2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKX1yZXR1cm4gb31mdW5jdGlvbiBfaShlKXtjb25zdCB0PWUudmFsdWUscj1lLmtleSxuPWUuc3R5bGUsaT1lLnN0eWxlU3BlYyxvPWkudGVycmFpbjtsZXQgYT1bXTtjb25zdCBzPUFuKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIGE7aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIGE9YS5jb25jYXQoW25ldyBxbihcInRlcnJhaW5cIix0LGBvYmplY3QgZXhwZWN0ZWQsICR7c30gZm91bmRgKV0pLGE7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgcj1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2E9YS5jb25jYXQociYmb1tyWzFdXSYmb1tyWzFdXS50cmFuc2l0aW9uP3hpKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzppLnRyYW5zaXRpb24sc3R5bGU6bixzdHlsZVNwZWM6aX0pOm9bZV0/eGkoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm9bZV0sc3R5bGU6bixzdHlsZVNwZWM6aX0pOltuZXcgcW4oZSx0W2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKX1pZih0LnNvdXJjZSl7Y29uc3QgZT1uLnNvdXJjZXMmJm4uc291cmNlc1t0LnNvdXJjZV0saT1lJiZKZShlLnR5cGUpO2U/XCJyYXN0ZXItZGVtXCIhPT1pJiZhLnB1c2gobmV3IHFuKHIsdC5zb3VyY2UsYHRlcnJhaW4gY2Fubm90IGJlIHVzZWQgd2l0aCBhIHNvdXJjZSBvZiB0eXBlICR7U3RyaW5nKGkpfSwgaXQgb25seSBiZSB1c2VkIHdpdGggYSBcInJhc3Rlci1kZW1cIiBzb3VyY2UgdHlwZWApKTphLnB1c2gobmV3IHFuKHIsdC5zb3VyY2UsYHNvdXJjZSBcIiR7dC5zb3VyY2V9XCIgbm90IGZvdW5kYCkpfWVsc2UgYS5wdXNoKG5ldyBxbihyLHQsJ3RlcnJhaW4gaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInNvdXJjZVwiJykpO3JldHVybiBhfWZ1bmN0aW9uIHlpKGUpe2NvbnN0IHQ9ZS52YWx1ZSxyPWUuc3R5bGUsbj1lLnN0eWxlU3BlYyxpPW4uZm9nO2xldCBvPVtdO2NvbnN0IGE9QW4odCk7aWYodm9pZCAwPT09dClyZXR1cm4gbztpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gbz1vLmNvbmNhdChbbmV3IHFuKFwiZm9nXCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke2F9IGZvdW5kYCldKSxvO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IGE9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtvPW8uY29uY2F0KGEmJmlbYVsxXV0mJmlbYVsxXV0udHJhbnNpdGlvbj94aSh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6bi50cmFuc2l0aW9uLHN0eWxlOnIsc3R5bGVTcGVjOm59KTppW2VdP3hpKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzppW2VdLHN0eWxlOnIsc3R5bGVTcGVjOm59KTpbbmV3IHFuKGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSl9cmV0dXJuIG99Y29uc3Qgdmk9e1wiKlwiOigpPT5bXSxhcnJheTokbixib29sZWFuOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS52YWx1ZSxyPWUua2V5LG49QW4odCk7cmV0dXJuXCJib29sZWFuXCIhPT1uP1tuZXcgcW4ocix0LGBib29sZWFuIGV4cGVjdGVkLCAke259IGZvdW5kYCldOltdfSxudW1iZXI6V24sY29sb3I6ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmtleSxyPWUudmFsdWUsbj1BbihyKTtyZXR1cm5cInN0cmluZ1wiIT09bj9bbmV3IHFuKHQscixgY29sb3IgZXhwZWN0ZWQsICR7bn0gZm91bmRgKV06bnVsbD09PXh0KHIpP1tuZXcgcW4odCxyLGBjb2xvciBleHBlY3RlZCwgXCIke3J9XCIgZm91bmRgKV06W119LGVudW06WW4sZmlsdGVyOmxpLGZ1bmN0aW9uOlhuLGxheWVyOmRpLG9iamVjdDpabixzb3VyY2U6bWksbGlnaHQ6Z2ksdGVycmFpbjpfaSxmb2c6eWksc3RyaW5nOnBpLGZvcm1hdHRlZDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PXBpKGUpLmxlbmd0aD9bXTpIbihlKX0scmVzb2x2ZWRJbWFnZTpmdW5jdGlvbihlKXtyZXR1cm4gMD09PXBpKGUpLmxlbmd0aD9bXTpIbihlKX0scHJvamVjdGlvbjpmdW5jdGlvbihlKXtjb25zdCB0PWUudmFsdWUscj1lLnN0eWxlU3BlYyxuPXIucHJvamVjdGlvbixpPWUuc3R5bGU7bGV0IG89W107Y29uc3QgYT1Bbih0KTtpZihcIm9iamVjdFwiPT09YSlmb3IoY29uc3QgZSBpbiB0KW89by5jb25jYXQoeGkoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm5bZV0sc3R5bGU6aSxzdHlsZVNwZWM6cn0pKTtlbHNlXCJzdHJpbmdcIiE9PWEmJihvPW8uY29uY2F0KFtuZXcgcW4oXCJwcm9qZWN0aW9uXCIsdCxgb2JqZWN0IG9yIHN0cmluZyBleHBlY3RlZCwgJHthfSBmb3VuZGApXSkpO3JldHVybiBvfX07ZnVuY3Rpb24geGkoZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS52YWx1ZVNwZWMsbj1lLnN0eWxlU3BlYztyZXR1cm4gci5leHByZXNzaW9uJiZJbihKZSh0KSk/WG4oZSk6ci5leHByZXNzaW9uJiZGbihRZSh0KSk/SG4oZSk6ci50eXBlJiZ2aVtyLnR5cGVdP3ZpW3IudHlwZV0oZSk6Wm4oS2Uoe30sZSx7dmFsdWVTcGVjOnIudHlwZT9uW3IudHlwZV06cn0pKX1mdW5jdGlvbiBiaShlKXtjb25zdCB0PWUudmFsdWUscj1lLmtleSxuPXBpKGUpO3JldHVybiBuLmxlbmd0aHx8KC0xPT09dC5pbmRleE9mKFwie2ZvbnRzdGFja31cIikmJm4ucHVzaChuZXcgcW4ocix0LCdcImdseXBoc1wiIHVybCBtdXN0IGluY2x1ZGUgYSBcIntmb250c3RhY2t9XCIgdG9rZW4nKSksLTE9PT10LmluZGV4T2YoXCJ7cmFuZ2V9XCIpJiZuLnB1c2gobmV3IHFuKHIsdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7cmFuZ2V9XCIgdG9rZW4nKSkpLG59ZnVuY3Rpb24gd2koZSx0PVllKXtyZXR1cm4gU2koeGkoe2tleTpcIlwiLHZhbHVlOmUsdmFsdWVTcGVjOnQuJHJvb3Qsc3R5bGVTcGVjOnQsc3R5bGU6ZSxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOmJpLFwiKlwiOigpPT5bXX19KSl9Y29uc3QgVGk9ZT0+U2kodWkoZSkpLEVpPWU9PlNpKGhpKGUpKTtmdW5jdGlvbiBTaShlKXtyZXR1cm4gZS5zbGljZSgpLnNvcnQoKGUsdCk9PmUubGluZSYmdC5saW5lP2UubGluZS10LmxpbmU6MCl9ZnVuY3Rpb24gQ2koZSx0KXtsZXQgcj0hMTtpZih0JiZ0Lmxlbmd0aClmb3IoY29uc3QgbiBvZiB0KWUuZmlyZShuZXcgWGUobmV3IEVycm9yKG4ubWVzc2FnZSkpKSxyPSEwO3JldHVybiByfXZhciBNaT1raTtmdW5jdGlvbiBraShlLHQscil7dmFyIG49dGhpcy5jZWxscz1bXTtpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3RoaXMuYXJyYXlCdWZmZXI9ZTt2YXIgaT1uZXcgSW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTtlPWlbMF0sdGhpcy5kPSh0PWlbMV0pKzIqKHI9aVsyXSk7Zm9yKHZhciBvPTA7bzx0aGlzLmQqdGhpcy5kO28rKyl7dmFyIGE9aVszK29dLHM9aVszK28rMV07bi5wdXNoKGE9PT1zP251bGw6aS5zdWJhcnJheShhLHMpKX12YXIgbD1pWzMrbi5sZW5ndGgrMV07dGhpcy5rZXlzPWkuc3ViYXJyYXkoaVszK24ubGVuZ3RoXSxsKSx0aGlzLmJib3hlcz1pLnN1YmFycmF5KGwpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5fWVsc2V7dGhpcy5kPXQrMipyO2Zvcih2YXIgYz0wO2M8dGhpcy5kKnRoaXMuZDtjKyspbi5wdXNoKFtdKTt0aGlzLmtleXM9W10sdGhpcy5iYm94ZXM9W119dGhpcy5uPXQsdGhpcy5leHRlbnQ9ZSx0aGlzLnBhZGRpbmc9cix0aGlzLnNjYWxlPXQvZSx0aGlzLnVpZD0wO3ZhciB1PXIvdCplO3RoaXMubWluPS11LHRoaXMubWF4PWUrdX1raS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxyLG4saSl7dGhpcy5fZm9yRWFjaENlbGwodCxyLG4saSx0aGlzLl9pbnNlcnRDZWxsLHRoaXMudWlkKyspLHRoaXMua2V5cy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChyKSx0aGlzLmJib3hlcy5wdXNoKG4pLHRoaXMuYmJveGVzLnB1c2goaSl9LGtpLnByb3RvdHlwZS5faW5zZXJ0UmVhZG9ubHk9ZnVuY3Rpb24oKXt0aHJvd1wiQ2Fubm90IGluc2VydCBpbnRvIGEgR3JpZEluZGV4IGNyZWF0ZWQgZnJvbSBhbiBBcnJheUJ1ZmZlci5cIn0sa2kucHJvdG90eXBlLl9pbnNlcnRDZWxsPWZ1bmN0aW9uKGUsdCxyLG4saSxvKXt0aGlzLmNlbGxzW2ldLnB1c2gobyl9LGtpLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvPXRoaXMubWluLGE9dGhpcy5tYXg7aWYoZTw9byYmdDw9byYmYTw9ciYmYTw9biYmIWkpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMua2V5cyk7dmFyIHM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKGUsdCxyLG4sdGhpcy5fcXVlcnlDZWxsLHMse30saSksc30sa2kucHJvdG90eXBlLl9xdWVyeUNlbGw9ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSxzKXt2YXIgbD10aGlzLmNlbGxzW2ldO2lmKG51bGwhPT1sKWZvcih2YXIgYz10aGlzLmtleXMsdT10aGlzLmJib3hlcyxoPTA7aDxsLmxlbmd0aDtoKyspe3ZhciBkPWxbaF07aWYodm9pZCAwPT09YVtkXSl7dmFyIHA9NCpkOyhzP3ModVtwKzBdLHVbcCsxXSx1W3ArMl0sdVtwKzNdKTplPD11W3ArMl0mJnQ8PXVbcCszXSYmcj49dVtwKzBdJiZuPj11W3ArMV0pPyhhW2RdPSEwLG8ucHVzaChjW2RdKSk6YVtkXT0hMX19fSxraS5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyl7Zm9yKHZhciBsPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChlKSxjPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZCh0KSx1PXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChyKSxoPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChuKSxkPWw7ZDw9dTtkKyspZm9yKHZhciBwPWM7cDw9aDtwKyspe3ZhciBmPXRoaXMuZCpwK2Q7aWYoKCFzfHxzKHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGQpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHApLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGQrMSksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCsxKSkpJiZpLmNhbGwodGhpcyxlLHQscixuLGYsbyxhLHMpKXJldHVybn19LGtpLnByb3RvdHlwZS5fY29udmVydEZyb21DZWxsQ29vcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuKGUtdGhpcy5wYWRkaW5nKS90aGlzLnNjYWxlfSxraS5wcm90b3R5cGUuX2NvbnZlcnRUb0NlbGxDb29yZD1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmQtMSxNYXRoLmZsb29yKGUqdGhpcy5zY2FsZSkrdGhpcy5wYWRkaW5nKSl9LGtpLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5hcnJheUJ1ZmZlcilyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlcjtmb3IodmFyIGU9dGhpcy5jZWxscyx0PTMrdGhpcy5jZWxscy5sZW5ndGgrMSsxLHI9MCxuPTA7bjx0aGlzLmNlbGxzLmxlbmd0aDtuKyspcis9dGhpcy5jZWxsc1tuXS5sZW5ndGg7dmFyIGk9bmV3IEludDMyQXJyYXkodCtyK3RoaXMua2V5cy5sZW5ndGgrdGhpcy5iYm94ZXMubGVuZ3RoKTtpWzBdPXRoaXMuZXh0ZW50LGlbMV09dGhpcy5uLGlbMl09dGhpcy5wYWRkaW5nO2Zvcih2YXIgbz10LGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHM9ZVthXTtpWzMrYV09byxpLnNldChzLG8pLG8rPXMubGVuZ3RofXJldHVybiBpWzMrZS5sZW5ndGhdPW8saS5zZXQodGhpcy5rZXlzLG8pLGlbMytlLmxlbmd0aCsxXT1vKz10aGlzLmtleXMubGVuZ3RoLGkuc2V0KHRoaXMuYmJveGVzLG8pLG8rPXRoaXMuYmJveGVzLmxlbmd0aCxpLmJ1ZmZlcn07Y29uc3QgQWk9e307ZnVuY3Rpb24gSWkoZSx0LHI9e30pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX2NsYXNzUmVnaXN0cnlLZXlcIix7dmFsdWU6dCx3cml0ZWFibGU6ITF9KSxBaVt0XT17a2xhc3M6ZSxvbWl0OnIub21pdHx8W119fUlpKE9iamVjdCxcIk9iamVjdFwiKSxNaS5zZXJpYWxpemU9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUudG9BcnJheUJ1ZmZlcigpO3JldHVybiB0JiZ0LnB1c2gocikse2J1ZmZlcjpyfX0sTWkuZGVzZXJpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNaShlLmJ1ZmZlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNaSxcIm5hbWVcIix7dmFsdWU6XCJHcmlkXCJ9KSxJaShNaSxcIkdyaWRcIiksSWkoTXQsXCJDb2xvclwiKSxJaShFcnJvcixcIkVycm9yXCIpLElpKHNlLFwiQUpBWEVycm9yXCIpLElpKFB0LFwiUmVzb2x2ZWRJbWFnZVwiKSxJaShHbixcIlN0eWxlUHJvcGVydHlGdW5jdGlvblwiKSxJaShCbixcIlN0eWxlRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0b3JcIl19KSxJaShObixcIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uXCIpLElpKFVuLFwiWm9vbUNvbnN0YW50RXhwcmVzc2lvblwiKSxJaShZdCxcIkNvbXBvdW5kRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0ZVwiXX0pO2Zvcihjb25zdCBlIGluIFRuKUFpW1RuW2VdLl9jbGFzc1JlZ2lzdHJ5S2V5XXx8SWkoVG5bZV0sXCJFeHByZXNzaW9uXCIrZSk7ZnVuY3Rpb24gUGkoZSl7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZS5jb25zdHJ1Y3RvciYmXCJBcnJheUJ1ZmZlclwiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lKX1mdW5jdGlvbiB6aShlKXtyZXR1cm4gci5JbWFnZUJpdG1hcCYmZSBpbnN0YW5jZW9mIHIuSW1hZ2VCaXRtYXB9ZnVuY3Rpb24gRGkoZSx0KXtpZihudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIEJvb2xlYW58fGUgaW5zdGFuY2VvZiBOdW1iZXJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd8fGUgaW5zdGFuY2VvZiBEYXRlfHxlIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiBlO2lmKFBpKGUpfHx6aShlKSlyZXR1cm4gdCYmdC5wdXNoKGUpLGU7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXtjb25zdCByPWU7cmV0dXJuIHQmJnQucHVzaChyLmJ1ZmZlcikscn1pZihlIGluc3RhbmNlb2Ygci5JbWFnZURhdGEpcmV0dXJuIHQmJnQucHVzaChlLmRhdGEuYnVmZmVyKSxlO2lmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gb2YgZSlyLnB1c2goRGkobix0KSk7cmV0dXJuIHJ9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2NvbnN0IHI9ZS5jb25zdHJ1Y3RvcixuPXIuX2NsYXNzUmVnaXN0cnlLZXk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB1bnJlZ2lzdGVyZWQgY2xhc3MgXCIrbik7Y29uc3QgaT1yLnNlcmlhbGl6ZT9yLnNlcmlhbGl6ZShlLHQpOnt9O2lmKCFyLnNlcmlhbGl6ZSl7Zm9yKGNvbnN0IHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYoQWlbbl0ub21pdC5pbmRleE9mKHIpPj0wfHwoaVtyXT1EaShlW3JdLHQpKSk7ZSBpbnN0YW5jZW9mIEVycm9yJiYoaS5tZXNzYWdlPWUubWVzc2FnZSl9aWYoaS4kbmFtZSl0aHJvdyBuZXcgRXJyb3IoXCIkbmFtZSBwcm9wZXJ0eSBpcyByZXNlcnZlZCBmb3Igd29ya2VyIHNlcmlhbGl6YXRpb24gbG9naWMuXCIpO3JldHVyblwiT2JqZWN0XCIhPT1uJiYoaS4kbmFtZT1uKSxpfXRocm93IG5ldyBFcnJvcihcImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgZSl9ZnVuY3Rpb24gUmkoZSl7aWYobnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBCb29sZWFufHxlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgRGF0ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cHx8UGkoZSl8fHppKGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiByLkltYWdlRGF0YSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcChSaSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZS4kbmFtZXx8XCJPYmplY3RcIix7a2xhc3M6cn09QWlbdF07aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZGVzZXJpYWxpemUgdW5yZWdpc3RlcmVkIGNsYXNzIFwiK3QpO2lmKHIuZGVzZXJpYWxpemUpcmV0dXJuIHIuZGVzZXJpYWxpemUoZSk7Y29uc3Qgbj1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhlKSlcIiRuYW1lXCIhPT10JiYoblt0XT1SaShlW3RdKSk7cmV0dXJuIG59dGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZGVzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIGUpfWNsYXNzIExpe2NvbnN0cnVjdG9yKCl7dGhpcy5maXJzdD0hMH11cGRhdGUoZSx0KXtjb25zdCByPU1hdGguZmxvb3IoZSk7cmV0dXJuIHRoaXMuZmlyc3Q/KHRoaXMuZmlyc3Q9ITEsdGhpcy5sYXN0SW50ZWdlclpvb209cix0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9MCx0aGlzLmxhc3Rab29tPWUsdGhpcy5sYXN0Rmxvb3Jab29tPXIsITApOih0aGlzLmxhc3RGbG9vclpvb20+cj8odGhpcy5sYXN0SW50ZWdlclpvb209cisxLHRoaXMubGFzdEludGVnZXJab29tVGltZT10KTp0aGlzLmxhc3RGbG9vclpvb208ciYmKHRoaXMubGFzdEludGVnZXJab29tPXIsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPXQpLGUhPT10aGlzLmxhc3Rab29tJiYodGhpcy5sYXN0Wm9vbT1lLHRoaXMubGFzdEZsb29yWm9vbT1yLCEwKSl9fWNvbnN0IE9pPWU9PmU+PTE1MzYmJmU8PTE3OTEsQmk9ZT0+ZT49MTg3MiYmZTw9MTkxOSxGaT1lPT5lPj0yMjA4JiZlPD0yMzAzLGppPWU9PmU+PTExOTA0JiZlPD0xMjAzMSxVaT1lPT5lPj0xMjAzMiYmZTw9MTIyNTUsTmk9ZT0+ZT49MTIyNzImJmU8PTEyMjg3LFZpPWU9PmU+PTEyMjg4JiZlPD0xMjM1MSxHaT1lPT5lPj0xMjM1MiYmZTw9MTI0NDcscWk9ZT0+ZT49MTI0NDgmJmU8PTEyNTQzLFppPWU9PmU+PTEyNTQ0JiZlPD0xMjU5MSwkaT1lPT5lPj0xMjcwNCYmZTw9MTI3MzUsV2k9ZT0+ZT49MTI3MzYmJmU8PTEyNzgzLFhpPWU9PmU+PTEyNzg0JiZlPD0xMjc5OSxIaT1lPT5lPj0xMjgwMCYmZTw9MTMwNTUsWWk9ZT0+ZT49MTMwNTYmJmU8PTEzMzExLEtpPWU9PmU+PTEzMzEyJiZlPD0xOTkwMyxKaT1lPT5lPj0xOTk2OCYmZTw9NDA5NTksUWk9ZT0+ZT49NDA5NjAmJmU8PTQyMTI3LGVvPWU9PmU+PTQyMTI4JiZlPD00MjE5MSx0bz1lPT5lPj00NDAzMiYmZTw9NTUyMTUscm89ZT0+ZT49NjM3NDQmJmU8PTY0MjU1LG5vPWU9PmU+PTY0MzM2JiZlPD02NTAyMyxpbz1lPT5lPj02NTA0MCYmZTw9NjUwNTUsb289ZT0+ZT49NjUwNzImJmU8PTY1MTAzLGFvPWU9PmU+PTY1MTA0JiZlPD02NTEzNSxzbz1lPT5lPj02NTEzNiYmZTw9NjUyNzksbG89ZT0+ZT49NjUyODAmJmU8PTY1NTE5O2Z1bmN0aW9uIGNvKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYocG8odC5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB1byhlKXtmb3IoY29uc3QgdCBvZiBlKWlmKCFobyh0LmNoYXJDb2RlQXQoMCkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGhvKGUpe3JldHVybiEoT2koZSl8fEJpKGUpfHxGaShlKXx8bm8oZSl8fHNvKGUpKX1mdW5jdGlvbiBwbyhlKXtyZXR1cm4hKDc0NiE9PWUmJjc0NyE9PWUmJihlPDQzNTJ8fCEoJGkoZSl8fFppKGUpfHxvbyhlKSYmIShlPj02NTA5NyYmZTw9NjUxMDMpfHxybyhlKXx8WWkoZSl8fGppKGUpfHxXaShlKXx8ISghVmkoZSl8fGU+PTEyMjk2JiZlPD0xMjMwNXx8ZT49MTIzMDgmJmU8PTEyMzE5fHwxMjMzNj09PWUpfHxLaShlKXx8SmkoZSl8fEhpKGUpfHwoZT0+ZT49MTI1OTImJmU8PTEyNjg3KShlKXx8KGU9PmU+PTQzMzYwJiZlPD00MzM5MSkoZSl8fChlPT5lPj01NTIxNiYmZTw9NTUyOTUpKGUpfHwoZT0+ZT49NDM1MiYmZTw9NDYwNykoZSl8fHRvKGUpfHxHaShlKXx8TmkoZSl8fChlPT5lPj0xMjY4OCYmZTw9MTI3MDMpKGUpfHxVaShlKXx8WGkoZSl8fHFpKGUpJiYxMjU0MCE9PWV8fCEoIWxvKGUpfHw2NTI4OD09PWV8fDY1Mjg5PT09ZXx8NjUyOTM9PT1lfHxlPj02NTMwNiYmZTw9NjUzMTB8fDY1MzM5PT09ZXx8NjUzNDE9PT1lfHw2NTM0Mz09PWV8fGU+PTY1MzcxJiZlPD02NTUwM3x8NjU1MDc9PT1lfHxlPj02NTUxMiYmZTw9NjU1MTkpfHwhKCFhbyhlKXx8ZT49NjUxMTImJmU8PTY1MTE4fHxlPj02NTEyMyYmZTw9NjUxMjYpfHwoZT0+ZT49NTEyMCYmZTw9NTc1OSkoZSl8fChlPT5lPj02MzIwJiZlPD02Mzk5KShlKXx8aW8oZSl8fChlPT5lPj0xOTkwNCYmZTw9MTk5NjcpKGUpfHxRaShlKXx8ZW8oZSkpKSl9ZnVuY3Rpb24gZm8oZSl7cmV0dXJuIShwbyhlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuISEoKGU9PmU+PTEyOCYmZTw9MjU1KShlKSYmKDE2Nz09PWV8fDE2OT09PWV8fDE3ND09PWV8fDE3Nz09PWV8fDE4OD09PWV8fDE4OT09PWV8fDE5MD09PWV8fDIxNT09PWV8fDI0Nz09PWUpfHwoZT0+ZT49ODE5MiYmZTw9ODMwMykoZSkmJig4MjE0PT09ZXx8ODIyND09PWV8fDgyMjU9PT1lfHw4MjQwPT09ZXx8ODI0MT09PWV8fDgyNTE9PT1lfHw4MjUyPT09ZXx8ODI1OD09PWV8fDgyNjM9PT1lfHw4MjY0PT09ZXx8ODI2NT09PWV8fDgyNzM9PT1lKXx8KGU9PmU+PTg0NDgmJmU8PTg1MjcpKGUpfHwoZT0+ZT49ODUyOCYmZTw9ODU5MSkoZSl8fChlPT5lPj04OTYwJiZlPD05MjE1KShlKSYmKGU+PTg5NjAmJmU8PTg5Njd8fGU+PTg5NzImJmU8PTg5OTF8fGU+PTg5OTYmJmU8PTllM3x8OTAwMz09PWV8fGU+PTkwODUmJmU8PTkxMTR8fGU+PTkxNTAmJmU8PTkxNjV8fDkxNjc9PT1lfHxlPj05MTY5JiZlPD05MTc5fHxlPj05MTg2JiZlPD05MjE1KXx8KGU9PmU+PTkyMTYmJmU8PTkyNzkpKGUpJiY5MjUxIT09ZXx8KGU9PmU+PTkyODAmJmU8PTkzMTEpKGUpfHwoZT0+ZT49OTMxMiYmZTw9OTQ3MSkoZSl8fChlPT5lPj05NjMyJiZlPD05NzI3KShlKXx8KGU9PmU+PTk3MjgmJmU8PTk5ODMpKGUpJiYhKGU+PTk3NTQmJmU8PTk3NTkpfHwoZT0+ZT49MTEwMDgmJmU8PTExMjYzKShlKSYmKGU+PTExMDI2JiZlPD0xMTA1NXx8ZT49MTEwODgmJmU8PTExMDk3fHxlPj0xMTE5MiYmZTw9MTEyNDMpfHxWaShlKXx8cWkoZSl8fChlPT5lPj01NzM0NCYmZTw9NjM3NDMpKGUpfHxvbyhlKXx8YW8oZSl8fGxvKGUpfHw4NzM0PT09ZXx8ODc1Nj09PWV8fDg3NTc9PT1lfHxlPj05OTg0JiZlPD0xMDA4N3x8ZT49MTAxMDImJmU8PTEwMTMxfHw2NTUzMj09PWV8fDY1NTMzPT09ZSl9KGUpKX1mdW5jdGlvbiBtbyhlKXtyZXR1cm4gZT49MTQyNCYmZTw9MjMwM3x8bm8oZSl8fHNvKGUpfWZ1bmN0aW9uIGdvKGUsdCl7cmV0dXJuISghdCYmbW8oZSl8fGU+PTIzMDQmJmU8PTM1ODN8fGU+PTM4NDAmJmU8PTQyNTV8fChlPT5lPj02MDE2JiZlPD02MTQzKShlKSl9ZnVuY3Rpb24gX28oZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZihtbyh0LmNoYXJDb2RlQXQoMCkpKXJldHVybiEwO3JldHVybiExfWNvbnN0IHlvPVwiZGVmZXJyZWRcIix2bz1cImxvYWRpbmdcIix4bz1cImxvYWRlZFwiO2xldCBibz1udWxsLHdvPVwidW5hdmFpbGFibGVcIixUbz1udWxsO2NvbnN0IEVvPWZ1bmN0aW9uKGUpe2UmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmluZGV4T2YoXCJOZXR3b3JrRXJyb3JcIik+LTEmJih3bz1cImVycm9yXCIpLGJvJiZibyhlKX07ZnVuY3Rpb24gU28oKXtDby5maXJlKG5ldyBXZShcInBsdWdpblN0YXRlQ2hhbmdlXCIse3BsdWdpblN0YXR1czp3byxwbHVnaW5VUkw6VG99KSl9Y29uc3QgQ289bmV3IEhlLE1vPWZ1bmN0aW9uKCl7cmV0dXJuIHdvfSxrbz1mdW5jdGlvbigpe2lmKHdvIT09eW98fCFUbyl0aHJvdyBuZXcgRXJyb3IoXCJydGwtdGV4dC1wbHVnaW4gY2Fubm90IGJlIGRvd25sb2FkZWQgdW5sZXNzIGEgcGx1Z2luVVJMIGlzIHNwZWNpZmllZFwiKTt3bz12byxTbygpLFRvJiZ1ZSh7dXJsOlRvfSxlPT57ZT9FbyhlKTood289eG8sU28oKSl9KX0sQW89e2FwcGx5QXJhYmljU2hhcGluZzpudWxsLHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpudWxsLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDpudWxsLGlzTG9hZGVkOigpPT53bz09PXhvfHxudWxsIT1Bby5hcHBseUFyYWJpY1NoYXBpbmcsaXNMb2FkaW5nOigpPT53bz09PXZvLHNldFN0YXRlKGUpe3dvPWUucGx1Z2luU3RhdHVzLFRvPWUucGx1Z2luVVJMfSxpc1BhcnNlZDooKT0+bnVsbCE9QW8uYXBwbHlBcmFiaWNTaGFwaW5nJiZudWxsIT1Bby5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQmJm51bGwhPUFvLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dCxnZXRQbHVnaW5VUkw6KCk9PlRvfTtjbGFzcyBJb3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuem9vbT1lLHQ/KHRoaXMubm93PXQubm93LHRoaXMuZmFkZUR1cmF0aW9uPXQuZmFkZUR1cmF0aW9uLHRoaXMuem9vbUhpc3Rvcnk9dC56b29tSGlzdG9yeSx0aGlzLnRyYW5zaXRpb249dC50cmFuc2l0aW9uLHRoaXMucGl0Y2g9dC5waXRjaCk6KHRoaXMubm93PTAsdGhpcy5mYWRlRHVyYXRpb249MCx0aGlzLnpvb21IaXN0b3J5PW5ldyBMaSx0aGlzLnRyYW5zaXRpb249e30sdGhpcy5waXRjaD0wKX1pc1N1cHBvcnRlZFNjcmlwdChlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IoY29uc3QgciBvZiBlKWlmKCFnbyhyLmNoYXJDb2RlQXQoMCksdCkpcmV0dXJuITE7cmV0dXJuITB9KGUsQW8uaXNMb2FkZWQoKSl9Y3Jvc3NGYWRpbmdGYWN0b3IoKXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6TWF0aC5taW4oKHRoaXMubm93LXRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tVGltZSkvdGhpcy5mYWRlRHVyYXRpb24sMSl9Z2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpe2NvbnN0IGU9dGhpcy56b29tLHQ9ZS1NYXRoLmZsb29yKGUpLHI9dGhpcy5jcm9zc0ZhZGluZ0ZhY3RvcigpO3JldHVybiBlPnRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tU2NhbGU6Mix0b1NjYWxlOjEsdDp0KygxLXQpKnJ9Ontmcm9tU2NhbGU6LjUsdG9TY2FsZToxLHQ6MS0oMS1yKSp0fX19Y2xhc3MgUG97Y29uc3RydWN0b3IoZSx0KXt0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT10LHRoaXMuZXhwcmVzc2lvbj1mdW5jdGlvbihlLHQpe2lmKEluKGUpKXJldHVybiBuZXcgR24oZSx0KTtpZihGbihlKSl7Y29uc3Qgcj1WbihlLHQpO2lmKFwiZXJyb3JcIj09PXIucmVzdWx0KXRocm93IG5ldyBFcnJvcihyLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7cmV0dXJuIHIudmFsdWV9e2xldCByPWU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiY29sb3JcIj09PXQudHlwZSYmKHI9TXQucGFyc2UoZSkpLHtraW5kOlwiY29uc3RhbnRcIixldmFsdWF0ZTooKT0+cn19fSh2b2lkIDA9PT10P2Uuc3BlY2lmaWNhdGlvbi5kZWZhdWx0OnQsZS5zcGVjaWZpY2F0aW9uKX1pc0RhdGFEcml2ZW4oKXtyZXR1cm5cInNvdXJjZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10aGlzLmV4cHJlc3Npb24ua2luZH1wb3NzaWJseUV2YWx1YXRlKGUsdCxyKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5wb3NzaWJseUV2YWx1YXRlKHRoaXMsZSx0LHIpfX1jbGFzcyB6b3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT1uZXcgUG8oZSx2b2lkIDApfXRyYW5zaXRpb25lZChlLHQpe3JldHVybiBuZXcgUm8odGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLHQsSSh7fSxlLnRyYW5zaXRpb24sdGhpcy50cmFuc2l0aW9uKSxlLm5vdyl9dW50cmFuc2l0aW9uZWQoKXtyZXR1cm4gbmV3IFJvKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfX1jbGFzcyBEb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlcyl9Z2V0VmFsdWUoZSl7cmV0dXJuIFUodGhpcy5fdmFsdWVzW2VdLnZhbHVlLnZhbHVlKX1zZXRWYWx1ZShlLHQpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKXx8KHRoaXMuX3ZhbHVlc1tlXT1uZXcgem8odGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW2VdLnZhbHVlPW5ldyBQbyh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHksbnVsbD09PXQ/dm9pZCAwOlUodCkpfWdldFRyYW5zaXRpb24oZSl7cmV0dXJuIFUodGhpcy5fdmFsdWVzW2VdLnRyYW5zaXRpb24pfXNldFRyYW5zaXRpb24oZSx0KXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLl92YWx1ZXNbZV09bmV3IHpvKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSkpLHRoaXMuX3ZhbHVlc1tlXS50cmFuc2l0aW9uPVUodCl8fHZvaWQgMH1zZXJpYWxpemUoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpe2NvbnN0IHI9dGhpcy5nZXRWYWx1ZSh0KTt2b2lkIDAhPT1yJiYoZVt0XT1yKTtjb25zdCBuPXRoaXMuZ2V0VHJhbnNpdGlvbih0KTt2b2lkIDAhPT1uJiYoZVt0K1wiLXRyYW5zaXRpb25cIl09bil9cmV0dXJuIGV9dHJhbnNpdGlvbmVkKGUsdCl7Y29uc3Qgcj1uZXcgTG8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlyLl92YWx1ZXNbbl09dGhpcy5fdmFsdWVzW25dLnRyYW5zaXRpb25lZChlLHQuX3ZhbHVlc1tuXSk7cmV0dXJuIHJ9dW50cmFuc2l0aW9uZWQoKXtjb25zdCBlPW5ldyBMbyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWUuX3ZhbHVlc1t0XT10aGlzLl92YWx1ZXNbdF0udW50cmFuc2l0aW9uZWQoKTtyZXR1cm4gZX19Y2xhc3MgUm97Y29uc3RydWN0b3IoZSx0LHIsbixpKXtjb25zdCBvPW4uZGVsYXl8fDAsYT1uLmR1cmF0aW9ufHwwO2k9aXx8MCx0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT10LHRoaXMuYmVnaW49aStvLHRoaXMuZW5kPXRoaXMuYmVnaW4rYSxlLnNwZWNpZmljYXRpb24udHJhbnNpdGlvbiYmKG4uZGVsYXl8fG4uZHVyYXRpb24pJiYodGhpcy5wcmlvcj1yKX1wb3NzaWJseUV2YWx1YXRlKGUsdCxyKXtjb25zdCBuPWUubm93fHwwLGk9dGhpcy52YWx1ZS5wb3NzaWJseUV2YWx1YXRlKGUsdCxyKSxvPXRoaXMucHJpb3I7aWYobyl7aWYobj50aGlzLmVuZClyZXR1cm4gdGhpcy5wcmlvcj1udWxsLGk7aWYodGhpcy52YWx1ZS5pc0RhdGFEcml2ZW4oKSlyZXR1cm4gdGhpcy5wcmlvcj1udWxsLGk7aWYobjx0aGlzLmJlZ2luKXJldHVybiBvLnBvc3NpYmx5RXZhbHVhdGUoZSx0LHIpO3tjb25zdCBhPShuLXRoaXMuYmVnaW4pLyh0aGlzLmVuZC10aGlzLmJlZ2luKTtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5pbnRlcnBvbGF0ZShvLnBvc3NpYmx5RXZhbHVhdGUoZSx0LHIpLGksdyhhKSl9fXJldHVybiBpfX1jbGFzcyBMb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzKX1wb3NzaWJseUV2YWx1YXRlKGUsdCxyKXtjb25zdCBuPW5ldyBGbyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKW4uX3ZhbHVlc1tpXT10aGlzLl92YWx1ZXNbaV0ucG9zc2libHlFdmFsdWF0ZShlLHQscik7cmV0dXJuIG59aGFzVHJhbnNpdGlvbigpe2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpaWYodGhpcy5fdmFsdWVzW2VdLnByaW9yKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBPb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0UHJvcGVydHlWYWx1ZXMpfWdldFZhbHVlKGUpe3JldHVybiBVKHRoaXMuX3ZhbHVlc1tlXS52YWx1ZSl9c2V0VmFsdWUoZSx0KXt0aGlzLl92YWx1ZXNbZV09bmV3IFBvKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSxudWxsPT09dD92b2lkIDA6VSh0KSl9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXtjb25zdCByPXRoaXMuZ2V0VmFsdWUodCk7dm9pZCAwIT09ciYmKGVbdF09cil9cmV0dXJuIGV9cG9zc2libHlFdmFsdWF0ZShlLHQscil7Y29uc3Qgbj1uZXcgRm8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSluLl92YWx1ZXNbaV09dGhpcy5fdmFsdWVzW2ldLnBvc3NpYmx5RXZhbHVhdGUoZSx0LHIpO3JldHVybiBufX1jbGFzcyBCb3tjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLnBhcmFtZXRlcnM9cn1pc0NvbnN0YW50KCl7cmV0dXJuXCJjb25zdGFudFwiPT09dGhpcy52YWx1ZS5raW5kfWNvbnN0YW50T3IoZSl7cmV0dXJuXCJjb25zdGFudFwiPT09dGhpcy52YWx1ZS5raW5kP3RoaXMudmFsdWUudmFsdWU6ZX1ldmFsdWF0ZShlLHQscixuKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5ldmFsdWF0ZSh0aGlzLnZhbHVlLHRoaXMucGFyYW1ldGVycyxlLHQscixuKX19Y2xhc3MgRm97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzKX1nZXQoZSl7cmV0dXJuIHRoaXMuX3ZhbHVlc1tlXX19Y2xhc3Mgam97Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjaWZpY2F0aW9uPWV9cG9zc2libHlFdmFsdWF0ZShlLHQpe3JldHVybiBlLmV4cHJlc3Npb24uZXZhbHVhdGUodCl9aW50ZXJwb2xhdGUoZSx0LHIpe2NvbnN0IG49TXJbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP24oZSx0LHIpOmV9fWNsYXNzIFVve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zcGVjaWZpY2F0aW9uPWUsdGhpcy5vdmVycmlkZXM9dH1wb3NzaWJseUV2YWx1YXRlKGUsdCxyLG4pe3JldHVybiBuZXcgQm8odGhpcyxcImNvbnN0YW50XCI9PT1lLmV4cHJlc3Npb24ua2luZHx8XCJjYW1lcmFcIj09PWUuZXhwcmVzc2lvbi5raW5kP3traW5kOlwiY29uc3RhbnRcIix2YWx1ZTplLmV4cHJlc3Npb24uZXZhbHVhdGUodCxudWxsLHt9LHIsbil9OmUuZXhwcmVzc2lvbix0KX1pbnRlcnBvbGF0ZShlLHQscil7aWYoXCJjb25zdGFudFwiIT09ZS52YWx1ZS5raW5kfHxcImNvbnN0YW50XCIhPT10LnZhbHVlLmtpbmQpcmV0dXJuIGU7aWYodm9pZCAwPT09ZS52YWx1ZS52YWx1ZXx8dm9pZCAwPT09dC52YWx1ZS52YWx1ZSlyZXR1cm4gbmV3IEJvKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnZvaWQgMH0sZS5wYXJhbWV0ZXJzKTtjb25zdCBuPU1yW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uZXcgQm8odGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6bihlLnZhbHVlLnZhbHVlLHQudmFsdWUudmFsdWUscil9LGUucGFyYW1ldGVycyk6ZX1ldmFsdWF0ZShlLHQscixuLGksbyl7cmV0dXJuXCJjb25zdGFudFwiPT09ZS5raW5kP2UudmFsdWU6ZS5ldmFsdWF0ZSh0LHIsbixpLG8pfX1jbGFzcyBObyBleHRlbmRzIFVve3Bvc3NpYmx5RXZhbHVhdGUoZSx0LHIsbil7aWYodm9pZCAwPT09ZS52YWx1ZSlyZXR1cm4gbmV3IEJvKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnZvaWQgMH0sdCk7aWYoXCJjb25zdGFudFwiPT09ZS5leHByZXNzaW9uLmtpbmQpe2NvbnN0IGk9ZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxyLG4pLG89XCJyZXNvbHZlZEltYWdlXCI9PT1lLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGk/aS5uYW1lOmksYT10aGlzLl9jYWxjdWxhdGUobyxvLG8sdCk7cmV0dXJuIG5ldyBCbyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTphfSx0KX1pZihcImNhbWVyYVwiPT09ZS5leHByZXNzaW9uLmtpbmQpe2NvbnN0IHI9dGhpcy5fY2FsY3VsYXRlKGUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0Lnpvb20tMX0pLGUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0Lnpvb219KSxlLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dC56b29tKzF9KSx0KTtyZXR1cm4gbmV3IEJvKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnJ9LHQpfXJldHVybiBuZXcgQm8odGhpcyxlLmV4cHJlc3Npb24sdCl9ZXZhbHVhdGUoZSx0LHIsbixpLG8pe2lmKFwic291cmNlXCI9PT1lLmtpbmQpe2NvbnN0IGE9ZS5ldmFsdWF0ZSh0LHIsbixpLG8pO3JldHVybiB0aGlzLl9jYWxjdWxhdGUoYSxhLGEsdCl9cmV0dXJuXCJjb21wb3NpdGVcIj09PWUua2luZD90aGlzLl9jYWxjdWxhdGUoZS5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKHQuem9vbSktMX0scixuKSxlLmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IodC56b29tKX0scixuKSxlLmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IodC56b29tKSsxfSxyLG4pLHQpOmUudmFsdWV9X2NhbGN1bGF0ZShlLHQscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOmUsdG86dCxvdGhlcjpyfTp7ZnJvbTpyLHRvOnQsb3RoZXI6ZX19aW50ZXJwb2xhdGUoZSl7cmV0dXJuIGV9fWNsYXNzIFZve2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lfXBvc3NpYmx5RXZhbHVhdGUoZSx0LHIsbil7aWYodm9pZCAwIT09ZS52YWx1ZSl7aWYoXCJjb25zdGFudFwiPT09ZS5leHByZXNzaW9uLmtpbmQpe2NvbnN0IGk9ZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxyLG4pO3JldHVybiB0aGlzLl9jYWxjdWxhdGUoaSxpLGksdCl9cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZShlLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IElvKE1hdGguZmxvb3IodC56b29tLTEpLHQpKSxlLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IElvKE1hdGguZmxvb3IodC56b29tKSx0KSksZS5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBJbyhNYXRoLmZsb29yKHQuem9vbSsxKSx0KSksdCl9fV9jYWxjdWxhdGUoZSx0LHIsbil7cmV0dXJuIG4uem9vbT5uLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbTplLHRvOnR9Ontmcm9tOnIsdG86dH19aW50ZXJwb2xhdGUoZSl7cmV0dXJuIGV9fWNsYXNzIEdve2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lfXBvc3NpYmx5RXZhbHVhdGUoZSx0LHIsbil7cmV0dXJuISFlLmV4cHJlc3Npb24uZXZhbHVhdGUodCxudWxsLHt9LHIsbil9aW50ZXJwb2xhdGUoKXtyZXR1cm4hMX19Y2xhc3MgcW97Y29uc3RydWN0b3IoZSl7dGhpcy5wcm9wZXJ0aWVzPWUsdGhpcy5kZWZhdWx0UHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uaW5nUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXM9e30sdGhpcy5vdmVycmlkYWJsZVByb3BlcnRpZXM9W107Y29uc3QgdD1uZXcgSW8oMCx7fSk7Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdO24uc3BlY2lmaWNhdGlvbi5vdmVycmlkYWJsZSYmdGhpcy5vdmVycmlkYWJsZVByb3BlcnRpZXMucHVzaChyKTtjb25zdCBpPXRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzW3JdPW5ldyBQbyhuLHZvaWQgMCksbz10aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzW3JdPW5ldyB6byhuKTt0aGlzLmRlZmF1bHRUcmFuc2l0aW9uaW5nUHJvcGVydHlWYWx1ZXNbcl09by51bnRyYW5zaXRpb25lZCgpLHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzW3JdPWkucG9zc2libHlFdmFsdWF0ZSh0KX19fWZ1bmN0aW9uIFpvKGUsdCl7cmV0dXJuIDI1NiooZT1TKE1hdGguZmxvb3IoZSksMCwyNTUpKStTKE1hdGguZmxvb3IodCksMCwyNTUpfUlpKFVvLFwiRGF0YURyaXZlblByb3BlcnR5XCIpLElpKGpvLFwiRGF0YUNvbnN0YW50UHJvcGVydHlcIiksSWkoTm8sXCJDcm9zc0ZhZGVkRGF0YURyaXZlblByb3BlcnR5XCIpLElpKFZvLFwiQ3Jvc3NGYWRlZFByb3BlcnR5XCIpLElpKEdvLFwiQ29sb3JSYW1wUHJvcGVydHlcIik7Y29uc3QgJG89e0ludDg6SW50OEFycmF5LFVpbnQ4OlVpbnQ4QXJyYXksSW50MTY6SW50MTZBcnJheSxVaW50MTY6VWludDE2QXJyYXksSW50MzI6SW50MzJBcnJheSxVaW50MzI6VWludDMyQXJyYXksRmxvYXQzMjpGbG9hdDMyQXJyYXl9O2NsYXNzIFdve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fc3RydWN0QXJyYXk9ZSx0aGlzLl9wb3MxPXQqdGhpcy5zaXplLHRoaXMuX3BvczI9dGhpcy5fcG9zMS8yLHRoaXMuX3BvczQ9dGhpcy5fcG9zMS80LHRoaXMuX3Bvczg9dGhpcy5fcG9zMS84fX1jbGFzcyBYb3tjb25zdHJ1Y3Rvcigpe3RoaXMuaXNUcmFuc2ZlcnJlZD0hMSx0aGlzLmNhcGFjaXR5PS0xLHRoaXMucmVzaXplKDApfXN0YXRpYyBzZXJpYWxpemUoZSx0KXtyZXR1cm4gZS5fdHJpbSgpLHQmJihlLmlzVHJhbnNmZXJyZWQ9ITAsdC5wdXNoKGUuYXJyYXlCdWZmZXIpKSx7bGVuZ3RoOmUubGVuZ3RoLGFycmF5QnVmZmVyOmUuYXJyYXlCdWZmZXJ9fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3JldHVybiB0LmFycmF5QnVmZmVyPWUuYXJyYXlCdWZmZXIsdC5sZW5ndGg9ZS5sZW5ndGgsdC5jYXBhY2l0eT1lLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGgvdC5ieXRlc1BlckVsZW1lbnQsdC5fcmVmcmVzaFZpZXdzKCksdH1fdHJpbSgpe3RoaXMubGVuZ3RoIT09dGhpcy5jYXBhY2l0eSYmKHRoaXMuY2FwYWNpdHk9dGhpcy5sZW5ndGgsdGhpcy5hcnJheUJ1ZmZlcj10aGlzLmFycmF5QnVmZmVyLnNsaWNlKDAsdGhpcy5sZW5ndGgqdGhpcy5ieXRlc1BlckVsZW1lbnQpLHRoaXMuX3JlZnJlc2hWaWV3cygpKX1jbGVhcigpe3RoaXMubGVuZ3RoPTB9cmVzaXplKGUpe3RoaXMucmVzZXJ2ZShlKSx0aGlzLmxlbmd0aD1lfXJlc2VydmUoZSl7aWYoZT50aGlzLmNhcGFjaXR5KXt0aGlzLmNhcGFjaXR5PU1hdGgubWF4KGUsTWF0aC5mbG9vcig1KnRoaXMuY2FwYWNpdHkpLDEyOCksdGhpcy5hcnJheUJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5jYXBhY2l0eSp0aGlzLmJ5dGVzUGVyRWxlbWVudCk7Y29uc3QgdD10aGlzLnVpbnQ4O3RoaXMuX3JlZnJlc2hWaWV3cygpLHQmJnRoaXMudWludDguc2V0KHQpfX1fcmVmcmVzaFZpZXdzKCl7dGhyb3cgbmV3IEVycm9yKFwiX3JlZnJlc2hWaWV3cygpIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBjb25jcmV0ZSBTdHJ1Y3RBcnJheSBsYXlvdXRcIil9ZGVzdHJveSgpe3RoaXMuaW50OD10aGlzLnVpbnQ4PXRoaXMuaW50MTY9dGhpcy51aW50MTY9dGhpcy5pbnQzMj10aGlzLnVpbnQzMj10aGlzLmZsb2F0MzI9bnVsbCx0aGlzLmFycmF5QnVmZmVyPW51bGx9fWZ1bmN0aW9uIEhvKGUsdD0xKXtsZXQgcj0wLG49MDtyZXR1cm57bWVtYmVyczplLm1hcChlPT57Y29uc3QgaT0kb1tlLnR5cGVdLkJZVEVTX1BFUl9FTEVNRU5ULG89cj1ZbyhyLE1hdGgubWF4KHQsaSkpLGE9ZS5jb21wb25lbnRzfHwxO3JldHVybiBuPU1hdGgubWF4KG4saSkscis9aSphLHtuYW1lOmUubmFtZSx0eXBlOmUudHlwZSxjb21wb25lbnRzOmEsb2Zmc2V0Om99fSksc2l6ZTpZbyhyLE1hdGgubWF4KG4sdCkpLGFsaWdubWVudDp0fX1mdW5jdGlvbiBZbyhlLHQpe3JldHVybiBNYXRoLmNlaWwoZS90KSp0fWNsYXNzIEtvIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsZSx0KX1lbXBsYWNlKGUsdCxyKXtjb25zdCBuPTIqZTtyZXR1cm4gdGhpcy5pbnQxNltuKzBdPXQsdGhpcy5pbnQxNltuKzFdPXIsZX19S28ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LElpKEtvLFwiU3RydWN0QXJyYXlMYXlvdXQyaTRcIik7Y2xhc3MgSm8gZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCxyKX1lbXBsYWNlKGUsdCxyLG4pe2NvbnN0IGk9MyplO3JldHVybiB0aGlzLmludDE2W2krMF09dCx0aGlzLmludDE2W2krMV09cix0aGlzLmludDE2W2krMl09bixlfX1Kby5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsSWkoSm8sXCJTdHJ1Y3RBcnJheUxheW91dDNpNlwiKTtjbGFzcyBRbyBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQscixuKX1lbXBsYWNlKGUsdCxyLG4saSl7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMuaW50MTZbbyswXT10LHRoaXMuaW50MTZbbysxXT1yLHRoaXMuaW50MTZbbysyXT1uLHRoaXMuaW50MTZbbyszXT1pLGV9fVFvLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxJaShRbyxcIlN0cnVjdEFycmF5TGF5b3V0NGk4XCIpO2NsYXNzIGVhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGksbyxhKXtjb25zdCBzPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShzKzEpLHRoaXMuZW1wbGFjZShzLGUsdCxyLG4saSxvLGEpfWVtcGxhY2UoZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPTYqZSxjPTEyKmUsdT0zKmU7cmV0dXJuIHRoaXMuaW50MTZbbCswXT10LHRoaXMuaW50MTZbbCsxXT1yLHRoaXMudWludDhbYys0XT1uLHRoaXMudWludDhbYys1XT1pLHRoaXMudWludDhbYys2XT1vLHRoaXMudWludDhbYys3XT1hLHRoaXMuZmxvYXQzMlt1KzJdPXMsZX19ZWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixJaShlYSxcIlN0cnVjdEFycmF5TGF5b3V0Mmk0dWIxZjEyXCIpO2NsYXNzIHRhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQscixuKX1lbXBsYWNlKGUsdCxyLG4saSl7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltvKzBdPXQsdGhpcy5mbG9hdDMyW28rMV09cix0aGlzLmZsb2F0MzJbbysyXT1uLHRoaXMuZmxvYXQzMltvKzNdPWksZX19dGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixJaSh0YSxcIlN0cnVjdEFycmF5TGF5b3V0NGYxNlwiKTtjbGFzcyByYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGksbyxhLHMsbCxjKXtjb25zdCB1PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh1KzEpLHRoaXMuZW1wbGFjZSh1LGUsdCxyLG4saSxvLGEscyxsLGMpfWVtcGxhY2UoZSx0LHIsbixpLG8sYSxzLGwsYyx1KXtjb25zdCBoPTEwKmU7cmV0dXJuIHRoaXMudWludDE2W2grMF09dCx0aGlzLnVpbnQxNltoKzFdPXIsdGhpcy51aW50MTZbaCsyXT1uLHRoaXMudWludDE2W2grM109aSx0aGlzLnVpbnQxNltoKzRdPW8sdGhpcy51aW50MTZbaCs1XT1hLHRoaXMudWludDE2W2grNl09cyx0aGlzLnVpbnQxNltoKzddPWwsdGhpcy51aW50MTZbaCs4XT1jLHRoaXMudWludDE2W2grOV09dSxlfX1yYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIwLElpKHJhLFwiU3RydWN0QXJyYXlMYXlvdXQxMHVpMjBcIik7Y2xhc3MgbmEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShsKzEpLHRoaXMuZW1wbGFjZShsLGUsdCxyLG4saSxvLGEscyl9ZW1wbGFjZShlLHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz04KmU7cmV0dXJuIHRoaXMudWludDE2W2MrMF09dCx0aGlzLnVpbnQxNltjKzFdPXIsdGhpcy51aW50MTZbYysyXT1uLHRoaXMudWludDE2W2MrM109aSx0aGlzLnVpbnQxNltjKzRdPW8sdGhpcy51aW50MTZbYys1XT1hLHRoaXMudWludDE2W2MrNl09cyx0aGlzLnVpbnQxNltjKzddPWwsZX19bmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixJaShuYSxcIlN0cnVjdEFycmF5TGF5b3V0OHVpMTZcIik7Y2xhc3MgaWEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvKXtjb25zdCBhPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShhKzEpLHRoaXMuZW1wbGFjZShhLGUsdCxyLG4saSxvKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9NiplO3JldHVybiB0aGlzLmludDE2W3MrMF09dCx0aGlzLmludDE2W3MrMV09cix0aGlzLmludDE2W3MrMl09bix0aGlzLmludDE2W3MrM109aSx0aGlzLmludDE2W3MrNF09byx0aGlzLmludDE2W3MrNV09YSxlfX1pYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLElpKGlhLFwiU3RydWN0QXJyYXlMYXlvdXQ2aTEyXCIpO2NsYXNzIG9hIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgpe2NvbnN0IGQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGQrMSksdGhpcy5lbXBsYWNlKGQsZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgpfWVtcGxhY2UoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD0xMiplO3JldHVybiB0aGlzLmludDE2W3ArMF09dCx0aGlzLmludDE2W3ArMV09cix0aGlzLmludDE2W3ArMl09bix0aGlzLmludDE2W3ArM109aSx0aGlzLnVpbnQxNltwKzRdPW8sdGhpcy51aW50MTZbcCs1XT1hLHRoaXMudWludDE2W3ArNl09cyx0aGlzLnVpbnQxNltwKzddPWwsdGhpcy5pbnQxNltwKzhdPWMsdGhpcy5pbnQxNltwKzldPXUsdGhpcy5pbnQxNltwKzEwXT1oLHRoaXMuaW50MTZbcCsxMV09ZCxlfX1vYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI0LElpKG9hLFwiU3RydWN0QXJyYXlMYXlvdXQ0aTR1aTRpMjRcIik7Y2xhc3MgYWEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvKXtjb25zdCBhPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShhKzEpLHRoaXMuZW1wbGFjZShhLGUsdCxyLG4saSxvKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9MTAqZSxsPTUqZTtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPXQsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy5pbnQxNltzKzJdPW4sdGhpcy5mbG9hdDMyW2wrMl09aSx0aGlzLmZsb2F0MzJbbCszXT1vLHRoaXMuZmxvYXQzMltsKzRdPWEsZX19YWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxJaShhYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kzZjIwXCIpO2NsYXNzIHNhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHQrMSksdGhpcy5lbXBsYWNlKHQsZSl9ZW1wbGFjZShlLHQpe3JldHVybiB0aGlzLnVpbnQzMlsxKmUrMF09dCxlfX1zYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsSWkoc2EsXCJTdHJ1Y3RBcnJheUxheW91dDF1bDRcIik7Y2xhc3MgbGEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocCsxKSx0aGlzLmVtcGxhY2UocCxlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCl7Y29uc3QgZj0yMCplLG09MTAqZTtyZXR1cm4gdGhpcy5pbnQxNltmKzBdPXQsdGhpcy5pbnQxNltmKzFdPXIsdGhpcy5pbnQxNltmKzJdPW4sdGhpcy5pbnQxNltmKzNdPWksdGhpcy5pbnQxNltmKzRdPW8sdGhpcy5mbG9hdDMyW20rM109YSx0aGlzLmZsb2F0MzJbbSs0XT1zLHRoaXMuZmxvYXQzMlttKzVdPWwsdGhpcy5mbG9hdDMyW20rNl09Yyx0aGlzLmludDE2W2YrMTRdPXUsdGhpcy51aW50MzJbbSs4XT1oLHRoaXMudWludDE2W2YrMThdPWQsdGhpcy51aW50MTZbZisxOV09cCxlfX1sYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQwLElpKGxhLFwiU3RydWN0QXJyYXlMYXlvdXQ1aTRmMWkxdWwydWk0MFwiKTtjbGFzcyBjYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2UocyxlLHQscixuLGksbyxhKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD04KmU7cmV0dXJuIHRoaXMuaW50MTZbbCswXT10LHRoaXMuaW50MTZbbCsxXT1yLHRoaXMuaW50MTZbbCsyXT1uLHRoaXMuaW50MTZbbCs0XT1pLHRoaXMuaW50MTZbbCs1XT1vLHRoaXMuaW50MTZbbCs2XT1hLHRoaXMuaW50MTZbbCs3XT1zLGV9fWNhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsSWkoY2EsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmkyaTE2XCIpO2NsYXNzIHVhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGkpe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LHIsbixpKX1lbXBsYWNlKGUsdCxyLG4saSxvKXtjb25zdCBhPTQqZSxzPTgqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09dCx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5pbnQxNltzKzZdPWksdGhpcy5pbnQxNltzKzddPW8sZX19dWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixJaSh1YSxcIlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTZcIik7Y2xhc3MgaGEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuKXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLGUsdCxyLG4pfWVtcGxhY2UoZSx0LHIsbixpKXtjb25zdCBvPTEyKmUsYT0zKmU7cmV0dXJuIHRoaXMudWludDhbbyswXT10LHRoaXMudWludDhbbysxXT1yLHRoaXMuZmxvYXQzMlthKzFdPW4sdGhpcy5mbG9hdDMyW2ErMl09aSxlfX1oYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLElpKGhhLFwiU3RydWN0QXJyYXlMYXlvdXQydWIyZjEyXCIpO2NsYXNzIGRhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LHIpfWVtcGxhY2UoZSx0LHIsbil7Y29uc3QgaT0zKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltpKzBdPXQsdGhpcy5mbG9hdDMyW2krMV09cix0aGlzLmZsb2F0MzJbaSsyXT1uLGV9fWRhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSWkoZGEsXCJTdHJ1Y3RBcnJheUxheW91dDNmMTJcIik7Y2xhc3MgcGEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LHIpfWVtcGxhY2UoZSx0LHIsbil7Y29uc3QgaT0zKmU7cmV0dXJuIHRoaXMudWludDE2W2krMF09dCx0aGlzLnVpbnQxNltpKzFdPXIsdGhpcy51aW50MTZbaSsyXT1uLGV9fXBhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixJaShwYSxcIlN0cnVjdEFycmF5TGF5b3V0M3VpNlwiKTtjbGFzcyBmYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyx5LHYseCl7Y29uc3QgYj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYisxKSx0aGlzLmVtcGxhY2UoYixlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyx5LHYseCl9ZW1wbGFjZShlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyx5LHYseCxiKXtjb25zdCB3PTMwKmUsVD0xNSplLEU9NjAqZTtyZXR1cm4gdGhpcy5pbnQxNlt3KzBdPXQsdGhpcy5pbnQxNlt3KzFdPXIsdGhpcy5pbnQxNlt3KzJdPW4sdGhpcy5mbG9hdDMyW1QrMl09aSx0aGlzLmZsb2F0MzJbVCszXT1vLHRoaXMudWludDE2W3crOF09YSx0aGlzLnVpbnQxNlt3KzldPXMsdGhpcy51aW50MzJbVCs1XT1sLHRoaXMudWludDMyW1QrNl09Yyx0aGlzLnVpbnQzMltUKzddPXUsdGhpcy51aW50MTZbdysxNl09aCx0aGlzLnVpbnQxNlt3KzE3XT1kLHRoaXMudWludDE2W3crMThdPXAsdGhpcy5mbG9hdDMyW1QrMTBdPWYsdGhpcy5mbG9hdDMyW1QrMTFdPW0sdGhpcy51aW50OFtFKzQ4XT1nLHRoaXMudWludDhbRSs0OV09Xyx0aGlzLnVpbnQ4W0UrNTBdPXksdGhpcy51aW50MzJbVCsxM109dix0aGlzLmludDE2W3crMjhdPXgsdGhpcy51aW50OFtFKzU4XT1iLGV9fWZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NjAsSWkoZmEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmYydWkzdWwzdWkyZjN1YjF1bDFpMXViNjBcIik7Y2xhc3MgbWEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgsYix3LFQsRSxTLEMsTSxrLEEpe2NvbnN0IEk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKEkrMSksdGhpcy5lbXBsYWNlKEksZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgsYix3LFQsRSxTLEMsTSxrLEEpfWVtcGxhY2UoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgsYix3LFQsRSxTLEMsTSxrLEEsSSl7Y29uc3QgUD0zOCplLHo9MTkqZTtyZXR1cm4gdGhpcy5pbnQxNltQKzBdPXQsdGhpcy5pbnQxNltQKzFdPXIsdGhpcy5pbnQxNltQKzJdPW4sdGhpcy5mbG9hdDMyW3orMl09aSx0aGlzLmZsb2F0MzJbeiszXT1vLHRoaXMuaW50MTZbUCs4XT1hLHRoaXMuaW50MTZbUCs5XT1zLHRoaXMuaW50MTZbUCsxMF09bCx0aGlzLmludDE2W1ArMTFdPWMsdGhpcy5pbnQxNltQKzEyXT11LHRoaXMuaW50MTZbUCsxM109aCx0aGlzLnVpbnQxNltQKzE0XT1kLHRoaXMudWludDE2W1ArMTVdPXAsdGhpcy51aW50MTZbUCsxNl09Zix0aGlzLnVpbnQxNltQKzE3XT1tLHRoaXMudWludDE2W1ArMThdPWcsdGhpcy51aW50MTZbUCsxOV09Xyx0aGlzLnVpbnQxNltQKzIwXT15LHRoaXMudWludDE2W1ArMjFdPXYsdGhpcy51aW50MTZbUCsyMl09eCx0aGlzLnVpbnQxNltQKzIzXT1iLHRoaXMudWludDE2W1ArMjRdPXcsdGhpcy51aW50MTZbUCsyNV09VCx0aGlzLnVpbnQxNltQKzI2XT1FLHRoaXMudWludDE2W1ArMjddPVMsdGhpcy51aW50MTZbUCsyOF09Qyx0aGlzLnVpbnQzMlt6KzE1XT1NLHRoaXMuZmxvYXQzMlt6KzE2XT1rLHRoaXMuZmxvYXQzMlt6KzE3XT1BLHRoaXMuZmxvYXQzMlt6KzE4XT1JLGV9fW1hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NzYsSWkobWEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmY2aTE1dWkxdWwzZjc2XCIpO2NsYXNzIGdhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKmUrMF09dCxlfX1nYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsSWkoZ2EsXCJTdHJ1Y3RBcnJheUxheW91dDFmNFwiKTtjbGFzcyBfYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSl7Y29uc3Qgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2UobyxlLHQscixuLGkpfWVtcGxhY2UoZSx0LHIsbixpLG8pe2NvbnN0IGE9NSplO3JldHVybiB0aGlzLmZsb2F0MzJbYSswXT10LHRoaXMuZmxvYXQzMlthKzFdPXIsdGhpcy5mbG9hdDMyW2ErMl09bix0aGlzLmZsb2F0MzJbYSszXT1pLHRoaXMuZmxvYXQzMlthKzRdPW8sZX19X2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxJaShfYSxcIlN0cnVjdEFycmF5TGF5b3V0NWYyMFwiKTtjbGFzcyB5YSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQscixuKX1lbXBsYWNlKGUsdCxyLG4saSl7Y29uc3Qgbz02KmU7cmV0dXJuIHRoaXMudWludDMyWzMqZSswXT10LHRoaXMudWludDE2W28rMl09cix0aGlzLnVpbnQxNltvKzNdPW4sdGhpcy51aW50MTZbbys0XT1pLGV9fXlhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSWkoeWEsXCJTdHJ1Y3RBcnJheUxheW91dDF1bDN1aTEyXCIpO2NsYXNzIHZhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQpfWVtcGxhY2UoZSx0LHIpe2NvbnN0IG49MiplO3JldHVybiB0aGlzLnVpbnQxNltuKzBdPXQsdGhpcy51aW50MTZbbisxXT1yLGV9fXZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxJaSh2YSxcIlN0cnVjdEFycmF5TGF5b3V0MnVpNFwiKTtjbGFzcyB4YSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh0KzEpLHRoaXMuZW1wbGFjZSh0LGUpfWVtcGxhY2UoZSx0KXtyZXR1cm4gdGhpcy51aW50MTZbMSplKzBdPXQsZX19eGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yLElpKHhhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWkyXCIpO2NsYXNzIGJhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCl9ZW1wbGFjZShlLHQscil7Y29uc3Qgbj0yKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltuKzBdPXQsdGhpcy5mbG9hdDMyW24rMV09cixlfX1iYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsSWkoYmEsXCJTdHJ1Y3RBcnJheUxheW91dDJmOFwiKTtjbGFzcyB3YSBleHRlbmRzIFdve2dldCBhX3Bvc18zMCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBhX3Bvc18zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBhX3Bvc18zMigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCBhX3Bvc19ub3JtYWxfMzAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX1nZXQgYV9wb3Nfbm9ybWFsXzMxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF19Z2V0IGFfcG9zX25vcm1hbF8zMigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzVdfX13YS5wcm90b3R5cGUuc2l6ZT0xMjtjbGFzcyBUYSBleHRlbmRzIGlhe2dldChlKXtyZXR1cm4gbmV3IHdhKHRoaXMsZSl9fUlpKFRhLFwiRmlsbEV4dHJ1c2lvbkV4dEFycmF5XCIpO2NsYXNzIEVhIGV4dGVuZHMgV297Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF19Z2V0IHgxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgeTEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzRdfWdldCB4Migpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNV19Z2V0IHkyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs2XX1nZXQgcGFkZGluZygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzE0XX1nZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzhdfWdldCBzb3VyY2VMYXllckluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgYnVja2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfX1FYS5wcm90b3R5cGUuc2l6ZT00MDtjbGFzcyBTYSBleHRlbmRzIGxhe2dldChlKXtyZXR1cm4gbmV3IEVhKHRoaXMsZSl9fUlpKFNhLFwiQ29sbGlzaW9uQm94QXJyYXlcIik7Y2xhc3MgQ2EgZXh0ZW5kcyBXb3tnZXQgcHJvamVjdGVkQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBwcm9qZWN0ZWRBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IHByb2plY3RlZEFuY2hvclooKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzJdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IGdseXBoU3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis4XX1nZXQgbnVtR2x5cGhzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzldfWdldCB2ZXJ0ZXhTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzVdfWdldCBsaW5lU3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs2XX1nZXQgbGluZUxlbmd0aCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs3XX1nZXQgc2VnbWVudCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNl19Z2V0IGxvd2VyU2l6ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxN119Z2V0IHVwcGVyU2l6ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGxpbmVPZmZzZXRYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxMF19Z2V0IGxpbmVPZmZzZXRZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxMV19Z2V0IHdyaXRpbmdNb2RlKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDhdfWdldCBwbGFjZWRPcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ5XX1zZXQgcGxhY2VkT3JpZW50YXRpb24oZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OV09ZX1nZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdfXNldCBoaWRkZW4oZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF09ZX1nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdfXNldCBjcm9zc1RpbGVJRChlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxM109ZX1nZXQgYXNzb2NpYXRlZEljb25JbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzI4XX1nZXQgZmxpcFN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNThdfXNldCBmbGlwU3RhdGUoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1OF09ZX19Q2EucHJvdG90eXBlLnNpemU9NjA7Y2xhc3MgTWEgZXh0ZW5kcyBmYXtnZXQoZSl7cmV0dXJuIG5ldyBDYSh0aGlzLGUpfX1JaShNYSxcIlBsYWNlZFN5bWJvbEFycmF5XCIpO2NsYXNzIGthIGV4dGVuZHMgV297Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis5XX1nZXQgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEwXX1nZXQgdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMV19Z2V0IHBsYWNlZEljb25TeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEyXX1nZXQgdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxM119Z2V0IGtleSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IHRleHRCb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE1XX1nZXQgdGV4dEJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgdmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxN119Z2V0IHZlcnRpY2FsVGV4dEJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgaWNvbkJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfWdldCBpY29uQm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfWdldCB2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIxXX1nZXQgdmVydGljYWxJY29uQm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjJdfWdldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjNdfWdldCBudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNF19Z2V0IG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNV19Z2V0IG51bUljb25WZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNl19Z2V0IG51bVZlcnRpY2FsSWNvblZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI3XX1nZXQgdXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjhdfWdldCBjcm9zc1RpbGVJRCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxNV19c2V0IGNyb3NzVGlsZUlEKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzE1XT1lfWdldCB0ZXh0T2Zmc2V0MCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfWdldCB0ZXh0T2Zmc2V0MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTddfWdldCBjb2xsaXNpb25DaXJjbGVEaWFtZXRlcigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMThdfX1rYS5wcm90b3R5cGUuc2l6ZT03NjtjbGFzcyBBYSBleHRlbmRzIG1he2dldChlKXtyZXR1cm4gbmV3IGthKHRoaXMsZSl9fUlpKEFhLFwiU3ltYm9sSW5zdGFuY2VBcnJheVwiKTtjbGFzcyBJYSBleHRlbmRzIGdhe2dldG9mZnNldFgoZSl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKmUrMF19fUlpKElhLFwiR2x5cGhPZmZzZXRBcnJheVwiKTtjbGFzcyBQYSBleHRlbmRzIEpve2dldHgoZSl7cmV0dXJuIHRoaXMuaW50MTZbMyplKzBdfWdldHkoZSl7cmV0dXJuIHRoaXMuaW50MTZbMyplKzFdfWdldHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yKGUpe3JldHVybiB0aGlzLmludDE2WzMqZSsyXX19SWkoUGEsXCJTeW1ib2xMaW5lVmVydGV4QXJyYXlcIik7Y2xhc3MgemEgZXh0ZW5kcyBXb3tnZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzBdfWdldCBzb3VyY2VMYXllckluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMiszXX1nZXQgbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrNF19fXphLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIERhIGV4dGVuZHMgeWF7Z2V0KGUpe3JldHVybiBuZXcgemEodGhpcyxlKX19SWkoRGEsXCJGZWF0dXJlSW5kZXhBcnJheVwiKTtjbGFzcyBSYSBleHRlbmRzIFdve2dldCBhX2NlbnRyb2lkX3BvczAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMF19Z2V0IGFfY2VudHJvaWRfcG9zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxXX19UmEucHJvdG90eXBlLnNpemU9NDtjbGFzcyBMYSBleHRlbmRzIHZhe2dldChlKXtyZXR1cm4gbmV3IFJhKHRoaXMsZSl9fUlpKExhLFwiRmlsbEV4dHJ1c2lvbkNlbnRyb2lkQXJyYXlcIik7Y2xhc3MgT2EgZXh0ZW5kcyBXb3tnZXQgYV9wb3NfMzAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgYV9wb3NfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgYV9wb3NfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYV9wb3Nfbm9ybWFsXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119Z2V0IGFfcG9zX25vcm1hbF8zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCBhX3Bvc19ub3JtYWxfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX19T2EucHJvdG90eXBlLnNpemU9MTI7Y2xhc3MgQmEgZXh0ZW5kcyBpYXtnZXQoZSl7cmV0dXJuIG5ldyBPYSh0aGlzLGUpfX1JaShCYSxcIkNpcmNsZUdsb2JlRXh0QXJyYXlcIik7Y29uc3QgRmE9SG8oW3tuYW1lOlwiYV9wYXR0ZXJuX3RvXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BhdHRlcm5fZnJvbVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb190b1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb19mcm9tXCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50MTZcIn1dKSxqYT1Ibyhbe25hbWU6XCJhX2Rhc2hfdG9cIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfZGFzaF9mcm9tXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn1dKTt2YXIgVWE9e2V4cG9ydHM6e319LE5hPXtleHBvcnRzOnt9fTtOYS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLG8sYSxzLGwsYztmb3Iobj1lLmxlbmd0aC0ocj0zJmUubGVuZ3RoKSxpPXQsYT0zNDMyOTE4MzUzLHM9NDYxODQ1OTA3LGM9MDtjPG47KWw9MjU1JmUuY2hhckNvZGVBdChjKXwoMjU1JmUuY2hhckNvZGVBdCgrK2MpKTw8OHwoMjU1JmUuY2hhckNvZGVBdCgrK2MpKTw8MTZ8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDI0LCsrYyxpPTI3NDkyKyg2NTUzNSYobz01Kig2NTUzNSYoaT0oaV49bD0oNjU1MzUmKGw9KGw9KDY1NTM1JmwpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8aT4+PjE5KSkrKCg1KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhvPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaChsPTAscil7Y2FzZSAzOmxePSgyNTUmZS5jaGFyQ29kZUF0KGMrMikpPDwxNjtjYXNlIDI6bF49KDI1NSZlLmNoYXJDb2RlQXQoYysxKSk8PDg7Y2FzZSAxOmlePWw9KDY1NTM1JihsPShsPSg2NTUzNSYobF49MjU1JmUuY2hhckNvZGVBdChjKSkpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1fXJldHVybiBpXj1lLmxlbmd0aCxpPTIyNDY4MjI1MDcqKDY1NTM1JihpXj1pPj4+MTYpKSsoKDIyNDY4MjI1MDcqKGk+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSxpPTMyNjY0ODk5MDkqKDY1NTM1JihpXj1pPj4+MTMpKSsoKDMyNjY0ODk5MDkqKGk+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSwoaV49aT4+PjE2KT4+PjB9O3ZhciBWYT17ZXhwb3J0czp7fX07VmEuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuPWUubGVuZ3RoLGk9dF5uLG89MDtuPj00OylyPTE1NDA0ODM0NzcqKDY1NTM1JihyPTI1NSZlLmNoYXJDb2RlQXQobyl8KDI1NSZlLmNoYXJDb2RlQXQoKytvKSk8PDh8KDI1NSZlLmNoYXJDb2RlQXQoKytvKSk8PDE2fCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDwyNCkpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KSxpPTE1NDA0ODM0NzcqKDY1NTM1JmkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KV4ocj0xNTQwNDgzNDc3Kig2NTUzNSYocl49cj4+PjI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpKSxuLT00LCsrbztzd2l0Y2gobil7Y2FzZSAzOmlePSgyNTUmZS5jaGFyQ29kZUF0KG8rMikpPDwxNjtjYXNlIDI6aV49KDI1NSZlLmNoYXJDb2RlQXQobysxKSk8PDg7Y2FzZSAxOmk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePTI1NSZlLmNoYXJDb2RlQXQobykpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNil9cmV0dXJuIGk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePWk+Pj4xMykpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KSwoaV49aT4+PjE1KT4+PjB9O3ZhciBHYT1OYS5leHBvcnRzLHFhPVZhLmV4cG9ydHM7VWEuZXhwb3J0cz1HYSxVYS5leHBvcnRzLm11cm11cjM9R2EsVWEuZXhwb3J0cy5tdXJtdXIyPXFhO2NsYXNzIFphe2NvbnN0cnVjdG9yKCl7dGhpcy5pZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExfWFkZChlLHQscixuKXt0aGlzLmlkcy5wdXNoKCRhKGUpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKHQscixuKX1nZXRQb3NpdGlvbnMoZSl7Y29uc3QgdD0kYShlKTtsZXQgcj0wLG49dGhpcy5pZHMubGVuZ3RoLTE7Zm9yKDtyPG47KXtjb25zdCBlPXIrbj4+MTt0aGlzLmlkc1tlXT49dD9uPWU6cj1lKzF9Y29uc3QgaT1bXTtmb3IoO3RoaXMuaWRzW3JdPT09dDspaS5wdXNoKHtpbmRleDp0aGlzLnBvc2l0aW9uc1szKnJdLHN0YXJ0OnRoaXMucG9zaXRpb25zWzMqcisxXSxlbmQ6dGhpcy5wb3NpdGlvbnNbMypyKzJdfSkscisrO3JldHVybiBpfXN0YXRpYyBzZXJpYWxpemUoZSx0KXtjb25zdCByPW5ldyBGbG9hdDY0QXJyYXkoZS5pZHMpLG49bmV3IFVpbnQzMkFycmF5KGUucG9zaXRpb25zKTtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbixpKXtmb3IoO248aTspe2NvbnN0IG89dFtuK2k+PjFdO2xldCBhPW4tMSxzPWkrMTtmb3IoOzspe2Rve2ErK313aGlsZSh0W2FdPG8pO2Rve3MtLX13aGlsZSh0W3NdPm8pO2lmKGE+PXMpYnJlYWs7V2EodCxhLHMpLFdhKHIsMyphLDMqcyksV2EociwzKmErMSwzKnMrMSksV2EociwzKmErMiwzKnMrMil9cy1uPGktcz8oZSh0LHIsbixzKSxuPXMrMSk6KGUodCxyLHMrMSxpKSxpPXMpfX0ocixuLDAsci5sZW5ndGgtMSksdCYmdC5wdXNoKHIuYnVmZmVyLG4uYnVmZmVyKSx7aWRzOnIscG9zaXRpb25zOm59fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtjb25zdCB0PW5ldyBaYTtyZXR1cm4gdC5pZHM9ZS5pZHMsdC5wb3NpdGlvbnM9ZS5wb3NpdGlvbnMsdC5pbmRleGVkPSEwLHR9fWZ1bmN0aW9uICRhKGUpe2NvbnN0IHQ9K2U7cmV0dXJuIWlzTmFOKHQpJiZOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjw9dCYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/dDpVYS5leHBvcnRzKFN0cmluZyhlKSl9ZnVuY3Rpb24gV2EoZSx0LHIpe2NvbnN0IG49ZVt0XTtlW3RdPWVbcl0sZVtyXT1ufUlpKFphLFwiRmVhdHVyZVBvc2l0aW9uTWFwXCIpO2NsYXNzIFhhe2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZS5nbCx0aGlzLmluaXRpYWxpemVkPSExfWZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9jYXRpb258fHRoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdCksdGhpcy5pbml0aWFsaXplZD0hMCksISF0aGlzLmxvY2F0aW9ufX1jbGFzcyBIYSBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD0wfXNldChlLHQscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiZ0aGlzLmN1cnJlbnQhPT1yJiYodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtMWYodGhpcy5sb2NhdGlvbixyKSl9fWNsYXNzIFlhIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDAsMCwwXX1zZXQoZSx0LHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKHJbMF09PT10aGlzLmN1cnJlbnRbMF0mJnJbMV09PT10aGlzLmN1cnJlbnRbMV0mJnJbMl09PT10aGlzLmN1cnJlbnRbMl0mJnJbM109PT10aGlzLmN1cnJlbnRbM118fCh0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLHJbMF0sclsxXSxyWzJdLHJbM10pKSl9fWNsYXNzIEthIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PU10LnRyYW5zcGFyZW50fXNldChlLHQscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoci5yPT09dGhpcy5jdXJyZW50LnImJnIuZz09PXRoaXMuY3VycmVudC5nJiZyLmI9PT10aGlzLmN1cnJlbnQuYiYmci5hPT09dGhpcy5jdXJyZW50LmF8fCh0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLHIucixyLmcsci5iLHIuYSkpKX19Y29uc3QgSmE9bmV3IEZsb2F0MzJBcnJheSgxNiksUWE9bmV3IEZsb2F0MzJBcnJheSg5KSxlcz1uZXcgRmxvYXQzMkFycmF5KDQpO2Z1bmN0aW9uIHRzKGUpe3JldHVybltabygyNTUqZS5yLDI1NSplLmcpLFpvKDI1NSplLmIsMjU1KmUuYSldfWNsYXNzIHJze2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnZhbHVlPWUsdGhpcy51bmlmb3JtTmFtZXM9dC5tYXAoZT0+XCJ1X1wiK2UpLHRoaXMudHlwZT1yfXNldFVuaWZvcm0oZSx0LHIsbixpKXt0LnNldChlLGksbi5jb25zdGFudE9yKHRoaXMudmFsdWUpKX1nZXRCaW5kaW5nKGUsdCl7cmV0dXJuXCJjb2xvclwiPT09dGhpcy50eXBlP25ldyBLYShlKTpuZXcgSGEoZSl9fWNsYXNzIG5ze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy51bmlmb3JtTmFtZXM9dC5tYXAoZT0+XCJ1X1wiK2UpLHRoaXMucGF0dGVybkZyb209bnVsbCx0aGlzLnBhdHRlcm5Ubz1udWxsLHRoaXMucGl4ZWxSYXRpb0Zyb209MSx0aGlzLnBpeGVsUmF0aW9Ubz0xfXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlLHQpe3RoaXMucGl4ZWxSYXRpb0Zyb209dC5waXhlbFJhdGlvfHwxLHRoaXMucGl4ZWxSYXRpb1RvPWUucGl4ZWxSYXRpb3x8MSx0aGlzLnBhdHRlcm5Gcm9tPXQudGwuY29uY2F0KHQuYnIpLHRoaXMucGF0dGVyblRvPWUudGwuY29uY2F0KGUuYnIpfXNldFVuaWZvcm0oZSx0LHIsbixpKXtjb25zdCBvPVwidV9wYXR0ZXJuX3RvXCI9PT1pfHxcInVfZGFzaF90b1wiPT09aT90aGlzLnBhdHRlcm5UbzpcInVfcGF0dGVybl9mcm9tXCI9PT1pfHxcInVfZGFzaF9mcm9tXCI9PT1pP3RoaXMucGF0dGVybkZyb206XCJ1X3BpeGVsX3JhdGlvX3RvXCI9PT1pP3RoaXMucGl4ZWxSYXRpb1RvOlwidV9waXhlbF9yYXRpb19mcm9tXCI9PT1pP3RoaXMucGl4ZWxSYXRpb0Zyb206bnVsbDtvJiZ0LnNldChlLGksbyl9Z2V0QmluZGluZyhlLHQpe3JldHVyblwidV9wYXR0ZXJuX2Zyb21cIj09PXR8fFwidV9wYXR0ZXJuX3RvXCI9PT10fHxcInVfZGFzaF9mcm9tXCI9PT10fHxcInVfZGFzaF90b1wiPT09dD9uZXcgWWEoZSk6bmV3IEhhKGUpfX1jbGFzcyBpc3tjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnR5cGU9cix0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9dC5tYXAoZT0+KHtuYW1lOlwiYV9cIitlLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1yPzI6MSxvZmZzZXQ6MH0pKSx0aGlzLnBhaW50VmVydGV4QXJyYXk9bmV3IG59cG9wdWxhdGVQYWludEFycmF5KGUsdCxyLG4saSxvKXtjb25zdCBhPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGgscz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IElvKDApLHQse30saSxuLG8pO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUoZSksdGhpcy5fc2V0UGFpbnRWYWx1ZShhLGUscyl9dXBkYXRlUGFpbnRBcnJheShlLHQscixuLGkpe2NvbnN0IG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOjB9LHIsbix2b2lkIDAsaSk7dGhpcy5fc2V0UGFpbnRWYWx1ZShlLHQsbyl9X3NldFBhaW50VmFsdWUoZSx0LHIpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgbj10cyhyKTtmb3IobGV0IHI9ZTtyPHQ7cisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHIsblswXSxuWzFdKX1lbHNle2ZvcihsZXQgbj1lO248dDtuKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UobixyKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMocikpfX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpfWRlc3Ryb3koKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKX19Y2xhc3Mgb3N7Y29uc3RydWN0b3IoZSx0LHIsbixpLG8pe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKGU9PmB1XyR7ZX1fdGApLHRoaXMudHlwZT1yLHRoaXMudXNlSW50ZWdlclpvb209bix0aGlzLnpvb209aSx0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9dC5tYXAoZT0+KHtuYW1lOlwiYV9cIitlLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1yPzQ6MixvZmZzZXQ6MH0pKSx0aGlzLnBhaW50VmVydGV4QXJyYXk9bmV3IG99cG9wdWxhdGVQYWludEFycmF5KGUsdCxyLG4saSxvKXtjb25zdCBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgSW8odGhpcy56b29tKSx0LHt9LGksbixvKSxzPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgSW8odGhpcy56b29tKzEpLHQse30saSxuLG8pLGw9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWUobCxlLGEscyl9dXBkYXRlUGFpbnRBcnJheShlLHQscixuLGkpe2NvbnN0IG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbX0scixuLHZvaWQgMCxpKSxhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb20rMX0scixuLHZvaWQgMCxpKTt0aGlzLl9zZXRQYWludFZhbHVlKGUsdCxvLGEpfV9zZXRQYWludFZhbHVlKGUsdCxyLG4pe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3QgaT10cyhyKSxvPXRzKG4pO2ZvcihsZXQgcj1lO3I8dDtyKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UocixpWzBdLGlbMV0sb1swXSxvWzFdKX1lbHNle2ZvcihsZXQgaT1lO2k8dDtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxyLG4pO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxNYXRoLmFicyhyKSxNYXRoLmFicyhuKSl9fXVwbG9hZChlKXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuYnVmZmVyP3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnBhaW50VmVydGV4QXJyYXkpOnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSl9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpfXNldFVuaWZvcm0oZSx0LHIsbixpKXtjb25zdCBvPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihyLnpvb20pOnIuem9vbSxhPVModGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iobyx0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7dC5zZXQoZSxpLGEpfWdldEJpbmRpbmcoZSx0KXtyZXR1cm4gbmV3IEhhKGUpfX1jbGFzcyBhc3tjb25zdHJ1Y3RvcihlLHQscixuLGksbyxhKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnR5cGU9cix0aGlzLnVzZUludGVnZXJab29tPW4sdGhpcy56b29tPWksdGhpcy5sYXllcklkPWEsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9KFwiYXJyYXlcIj09PXI/amE6RmEpLm1lbWJlcnM7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2UpO3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheT1uZXcgbyx0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5PW5ldyBvfXBvcHVsYXRlUGFpbnRBcnJheShlLHQscil7Y29uc3Qgbj10aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUoZSksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUoZSksdGhpcy5fc2V0UGFpbnRWYWx1ZXMobixlLHQucGF0dGVybnMmJnQucGF0dGVybnNbdGhpcy5sYXllcklkXSxyKX11cGRhdGVQYWludEFycmF5KGUsdCxyLG4saSxvKXt0aGlzLl9zZXRQYWludFZhbHVlcyhlLHQsci5wYXR0ZXJucyYmci5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLG8pfV9zZXRQYWludFZhbHVlcyhlLHQscixuKXtpZighbnx8IXIpcmV0dXJuO2NvbnN0e21pbjppLG1pZDpvLG1heDphfT1yLHM9bltpXSxsPW5bb10sYz1uW2FdO2lmKHMmJmwmJmMpZm9yKGxldCByPWU7cjx0O3IrKyl0aGlzLl9zZXRQYWludFZhbHVlKHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSxyLGwscyksdGhpcy5fc2V0UGFpbnRWYWx1ZSh0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LHIsbCxjKX1fc2V0UGFpbnRWYWx1ZShlLHQscixuKXtlLmVtcGxhY2UodCxyLnRsWzBdLHIudGxbMV0sci5iclswXSxyLmJyWzFdLG4udGxbMF0sbi50bFsxXSxuLmJyWzBdLG4uYnJbMV0sci5waXhlbFJhdGlvLG4ucGl4ZWxSYXRpbyl9dXBsb2FkKGUpe3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5JiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpLHRoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKX1kZXN0cm95KCl7dGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnpvb21JblBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnpvb21JblBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKX19Y2xhc3Mgc3N7Y29uc3RydWN0b3IoZSx0LHI9KCgpPT4hMCkpe3RoaXMuYmluZGVycz17fSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IG49W107Zm9yKGNvbnN0IGkgaW4gZS5wYWludC5fdmFsdWVzKXtpZighcihpKSljb250aW51ZTtjb25zdCBvPWUucGFpbnQuZ2V0KGkpO2lmKCEobyBpbnN0YW5jZW9mIEJvJiZDbihvLnByb3BlcnR5LnNwZWNpZmljYXRpb24pKSljb250aW51ZTtjb25zdCBhPXVzKGksZS50eXBlKSxzPW8udmFsdWUsbD1vLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSxjPW8ucHJvcGVydHkudXNlSW50ZWdlclpvb20sdT1vLnByb3BlcnR5LnNwZWNpZmljYXRpb25bXCJwcm9wZXJ0eS10eXBlXCJdLGg9XCJjcm9zcy1mYWRlZFwiPT09dXx8XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiPT09dSxkPVwibGluZS1kYXNoYXJyYXlcIj09PVN0cmluZyhpKSYmXCJjb25zdGFudFwiIT09ZS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWUua2luZDtpZihcImNvbnN0YW50XCIhPT1zLmtpbmR8fGQpaWYoXCJzb3VyY2VcIj09PXMua2luZHx8ZHx8aCl7Y29uc3Qgcj1wcyhpLGwsXCJzb3VyY2VcIik7dGhpcy5iaW5kZXJzW2ldPWg/bmV3IGFzKHMsYSxsLGMsdCxyLGUuaWQpOm5ldyBpcyhzLGEsbCxyKSxuLnB1c2goXCIvYV9cIitpKX1lbHNle2NvbnN0IGU9cHMoaSxsLFwiY29tcG9zaXRlXCIpO3RoaXMuYmluZGVyc1tpXT1uZXcgb3MocyxhLGwsYyx0LGUpLG4ucHVzaChcIi96X1wiK2kpfWVsc2UgdGhpcy5iaW5kZXJzW2ldPWg/bmV3IG5zKHMudmFsdWUsYSk6bmV3IHJzKHMudmFsdWUsYSxsKSxuLnB1c2goXCIvdV9cIitpKX10aGlzLmNhY2hlS2V5PW4uc29ydCgpLmpvaW4oXCJcIil9Z2V0TWF4VmFsdWUoZSl7Y29uc3QgdD10aGlzLmJpbmRlcnNbZV07cmV0dXJuIHQgaW5zdGFuY2VvZiBpc3x8dCBpbnN0YW5jZW9mIG9zP3QubWF4VmFsdWU6MH1wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxyLG4saSxvKXtmb3IoY29uc3QgYSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHM9dGhpcy5iaW5kZXJzW2FdOyhzIGluc3RhbmNlb2YgaXN8fHMgaW5zdGFuY2VvZiBvc3x8cyBpbnN0YW5jZW9mIGFzKSYmcy5wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LHIsbixpLG8pfX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSx0KXtmb3IoY29uc3QgciBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IG49dGhpcy5iaW5kZXJzW3JdO24gaW5zdGFuY2VvZiBucyYmbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSx0KX19dXBkYXRlUGFpbnRBcnJheXMoZSx0LHIsbixpLG8pe2xldCBhPSExO2Zvcihjb25zdCBzIGluIGUpe2NvbnN0IGw9dC5nZXRQb3NpdGlvbnMocyk7Zm9yKGNvbnN0IHQgb2YgbCl7Y29uc3QgbD1yLmZlYXR1cmUodC5pbmRleCk7Zm9yKGNvbnN0IHIgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBjPXRoaXMuYmluZGVyc1tyXTtpZigoYyBpbnN0YW5jZW9mIGlzfHxjIGluc3RhbmNlb2Ygb3N8fGMgaW5zdGFuY2VvZiBhcykmJiEwPT09Yy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpe2NvbnN0IHU9bi5wYWludC5nZXQocik7Yy5leHByZXNzaW9uPXUudmFsdWUsYy51cGRhdGVQYWludEFycmF5KHQuc3RhcnQsdC5lbmQsbCxlW3NdLGksbyksYT0hMH19fX1yZXR1cm4gYX1kZWZpbmVzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW3RdOyhyIGluc3RhbmNlb2YgcnN8fHIgaW5zdGFuY2VvZiBucykmJmUucHVzaCguLi5yLnVuaWZvcm1OYW1lcy5tYXAoZT0+XCIjZGVmaW5lIEhBU19VTklGT1JNX1wiK2UpKX1yZXR1cm4gZX1nZXRCaW5kZXJBdHRyaWJ1dGVzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW3RdO2lmKHIgaW5zdGFuY2VvZiBpc3x8ciBpbnN0YW5jZW9mIG9zfHxyIGluc3RhbmNlb2YgYXMpZm9yKGxldCB0PTA7dDxyLnBhaW50VmVydGV4QXR0cmlidXRlcy5sZW5ndGg7dCsrKWUucHVzaChyLnBhaW50VmVydGV4QXR0cmlidXRlc1t0XS5uYW1lKX1yZXR1cm4gZX1nZXRCaW5kZXJVbmlmb3Jtcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1t0XTtpZihyIGluc3RhbmNlb2YgcnN8fHIgaW5zdGFuY2VvZiBuc3x8ciBpbnN0YW5jZW9mIG9zKWZvcihjb25zdCB0IG9mIHIudW5pZm9ybU5hbWVzKWUucHVzaCh0KX1yZXR1cm4gZX1nZXRQYWludFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyc31nZXRVbmlmb3JtcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbcl07aWYobiBpbnN0YW5jZW9mIHJzfHxuIGluc3RhbmNlb2YgbnN8fG4gaW5zdGFuY2VvZiBvcylmb3IoY29uc3QgaSBvZiBuLnVuaWZvcm1OYW1lcyl0LnB1c2goe25hbWU6aSxwcm9wZXJ0eTpyLGJpbmRpbmc6bi5nZXRCaW5kaW5nKGUsaSl9KX1yZXR1cm4gdH1zZXRVbmlmb3JtcyhlLHQscixuLGkpe2Zvcihjb25zdHtuYW1lOnQscHJvcGVydHk6byxiaW5kaW5nOmF9b2Ygcil0aGlzLmJpbmRlcnNbb10uc2V0VW5pZm9ybShlLGEsaSxuLmdldChvKSx0KX11cGRhdGVQYWludEJ1ZmZlcnMoZSl7dGhpcy5fYnVmZmVycz1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW3RdO2lmKGUmJnIgaW5zdGFuY2VvZiBhcyl7Y29uc3QgdD0yPT09ZS5mcm9tU2NhbGU/ci56b29tSW5QYWludFZlcnRleEJ1ZmZlcjpyLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcjt0JiZ0aGlzLl9idWZmZXJzLnB1c2godCl9ZWxzZShyIGluc3RhbmNlb2YgaXN8fHIgaW5zdGFuY2VvZiBvcykmJnIucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuX2J1ZmZlcnMucHVzaChyLnBhaW50VmVydGV4QnVmZmVyKX19dXBsb2FkKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbdF07KHIgaW5zdGFuY2VvZiBpc3x8ciBpbnN0YW5jZW9mIG9zfHxyIGluc3RhbmNlb2YgYXMpJiZyLnVwbG9hZChlKX10aGlzLnVwZGF0ZVBhaW50QnVmZmVycygpfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdOyh0IGluc3RhbmNlb2YgaXN8fHQgaW5zdGFuY2VvZiBvc3x8dCBpbnN0YW5jZW9mIGFzKSYmdC5kZXN0cm95KCl9fX1jbGFzcyBsc3tjb25zdHJ1Y3RvcihlLHQscj0oKCk9PiEwKSl7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9e307Zm9yKGNvbnN0IG4gb2YgZSl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tuLmlkXT1uZXcgc3Mobix0LHIpO3RoaXMubmVlZHNVcGxvYWQ9ITEsdGhpcy5fZmVhdHVyZU1hcD1uZXcgWmEsdGhpcy5fYnVmZmVyT2Zmc2V0PTB9cG9wdWxhdGVQYWludEFycmF5cyhlLHQscixuLGksbyxhKXtmb3IoY29uc3QgciBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tyXS5wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxuLGksbyxhKTt2b2lkIDAhPT10LmlkJiZ0aGlzLl9mZWF0dXJlTWFwLmFkZCh0LmlkLHIsdGhpcy5fYnVmZmVyT2Zmc2V0LGUpLHRoaXMuX2J1ZmZlck9mZnNldD1lLHRoaXMubmVlZHNVcGxvYWQ9ITB9dXBkYXRlUGFpbnRBcnJheXMoZSx0LHIsbixpKXtmb3IoY29uc3QgbyBvZiByKXRoaXMubmVlZHNVcGxvYWQ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF0udXBkYXRlUGFpbnRBcnJheXMoZSx0aGlzLl9mZWF0dXJlTWFwLHQsbyxuLGkpfHx0aGlzLm5lZWRzVXBsb2FkfWdldChlKXtyZXR1cm4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV19dXBsb2FkKGUpe2lmKHRoaXMubmVlZHNVcGxvYWQpe2Zvcihjb25zdCB0IGluIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW3RdLnVwbG9hZChlKTt0aGlzLm5lZWRzVXBsb2FkPSExfX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0uZGVzdHJveSgpfX1jb25zdCBjcz17XCJ0ZXh0LW9wYWNpdHlcIjpbXCJvcGFjaXR5XCJdLFwiaWNvbi1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcInRleHQtY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwiaWNvbi1jb2xvclwiOltcImZpbGxfY29sb3JcIl0sXCJ0ZXh0LWhhbG8tY29sb3JcIjpbXCJoYWxvX2NvbG9yXCJdLFwiaWNvbi1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcInRleHQtaGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwiaWNvbi1oYWxvLWJsdXJcIjpbXCJoYWxvX2JsdXJcIl0sXCJ0ZXh0LWhhbG8td2lkdGhcIjpbXCJoYWxvX3dpZHRoXCJdLFwiaWNvbi1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImxpbmUtZ2FwLXdpZHRoXCI6W1wiZ2Fwd2lkdGhcIl0sXCJsaW5lLXBhdHRlcm5cIjpbXCJwYXR0ZXJuX3RvXCIsXCJwYXR0ZXJuX2Zyb21cIixcInBpeGVsX3JhdGlvX3RvXCIsXCJwaXhlbF9yYXRpb19mcm9tXCJdLFwiZmlsbC1wYXR0ZXJuXCI6W1wicGF0dGVybl90b1wiLFwicGF0dGVybl9mcm9tXCIsXCJwaXhlbF9yYXRpb190b1wiLFwicGl4ZWxfcmF0aW9fZnJvbVwiXSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpbXCJwYXR0ZXJuX3RvXCIsXCJwYXR0ZXJuX2Zyb21cIixcInBpeGVsX3JhdGlvX3RvXCIsXCJwaXhlbF9yYXRpb19mcm9tXCJdLFwibGluZS1kYXNoYXJyYXlcIjpbXCJkYXNoX3RvXCIsXCJkYXNoX2Zyb21cIl19O2Z1bmN0aW9uIHVzKGUsdCl7cmV0dXJuIGNzW2VdfHxbZS5yZXBsYWNlKHQrXCItXCIsXCJcIikucmVwbGFjZSgvLS9nLFwiX1wiKV19Y29uc3QgaHM9e1wibGluZS1wYXR0ZXJuXCI6e3NvdXJjZTpyYSxjb21wb3NpdGU6cmF9LFwiZmlsbC1wYXR0ZXJuXCI6e3NvdXJjZTpyYSxjb21wb3NpdGU6cmF9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntzb3VyY2U6cmEsY29tcG9zaXRlOnJhfSxcImxpbmUtZGFzaGFycmF5XCI6e3NvdXJjZTpuYSxjb21wb3NpdGU6bmF9fSxkcz17Y29sb3I6e3NvdXJjZTpiYSxjb21wb3NpdGU6dGF9LG51bWJlcjp7c291cmNlOmdhLGNvbXBvc2l0ZTpiYX19O2Z1bmN0aW9uIHBzKGUsdCxyKXtjb25zdCBuPWhzW2VdO3JldHVybiBuJiZuW3JdfHxkc1t0XVtyXX1JaShycyxcIkNvbnN0YW50QmluZGVyXCIpLElpKG5zLFwiQ3Jvc3NGYWRlZENvbnN0YW50QmluZGVyXCIpLElpKGlzLFwiU291cmNlRXhwcmVzc2lvbkJpbmRlclwiKSxJaShhcyxcIkNyb3NzRmFkZWRDb21wb3NpdGVCaW5kZXJcIiksSWkob3MsXCJDb21wb3NpdGVFeHByZXNzaW9uQmluZGVyXCIpLElpKHNzLFwiUHJvZ3JhbUNvbmZpZ3VyYXRpb25cIix7b21pdDpbXCJfYnVmZmVyc1wiXX0pLElpKGxzLFwiUHJvZ3JhbUNvbmZpZ3VyYXRpb25TZXRcIik7Y29uc3QgZnM9XCItdHJhbnNpdGlvblwiO2NsYXNzIG1zIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoZSx0KXtpZihzdXBlcigpLHRoaXMuaWQ9ZS5pZCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX2ZlYXR1cmVGaWx0ZXI9e2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMSxcImN1c3RvbVwiIT09ZS50eXBlJiYodGhpcy5tZXRhZGF0YT1lLm1ldGFkYXRhLHRoaXMubWluem9vbT1lLm1pbnpvb20sdGhpcy5tYXh6b29tPWUubWF4em9vbSxcImJhY2tncm91bmRcIiE9PWUudHlwZSYmXCJza3lcIiE9PWUudHlwZSYmKHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9ZVtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj1lLmZpbHRlciksdC5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgT28odC5sYXlvdXQpKSx0LnBhaW50KSl7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludD1uZXcgRG8odC5wYWludCk7Zm9yKGNvbnN0IHQgaW4gZS5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkodCxlLnBhaW50W3RdLHt2YWxpZGF0ZTohMX0pO2Zvcihjb25zdCB0IGluIGUubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkodCxlLmxheW91dFt0XSx7dmFsaWRhdGU6ITF9KTt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC51bnRyYW5zaXRpb25lZCgpLHRoaXMucGFpbnQ9bmV3IEZvKHQucGFpbnQpfX1nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2Nyb3NzZmFkZVBhcmFtZXRlcnN9Z2V0TGF5b3V0UHJvcGVydHkoZSl7cmV0dXJuXCJ2aXNpYmlsaXR5XCI9PT1lP3RoaXMudmlzaWJpbGl0eTp0aGlzLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZShlKX1zZXRMYXlvdXRQcm9wZXJ0eShlLHQscj17fSl7bnVsbCE9dCYmdGhpcy5fdmFsaWRhdGUoRWksYGxheWVycy4ke3RoaXMuaWR9LmxheW91dC4ke2V9YCxlLHQscil8fChcInZpc2liaWxpdHlcIiE9PWU/dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2V0VmFsdWUoZSx0KTp0aGlzLnZpc2liaWxpdHk9dCl9Z2V0UGFpbnRQcm9wZXJ0eShlKXtyZXR1cm4gQihlLGZzKT90aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFRyYW5zaXRpb24oZS5zbGljZSgwLC1mcy5sZW5ndGgpKTp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFZhbHVlKGUpfXNldFBhaW50UHJvcGVydHkoZSx0LHI9e30pe2lmKG51bGwhPXQmJnRoaXMuX3ZhbGlkYXRlKFRpLGBsYXllcnMuJHt0aGlzLmlkfS5wYWludC4ke2V9YCxlLHQscikpcmV0dXJuITE7aWYoQihlLGZzKSlyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXRUcmFuc2l0aW9uKGUuc2xpY2UoMCwtZnMubGVuZ3RoKSx0fHx2b2lkIDApLCExO3tjb25zdCByPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tlXSxuPVwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIj09PXIucHJvcGVydHkuc3BlY2lmaWNhdGlvbltcInByb3BlcnR5LXR5cGVcIl0saT1yLnZhbHVlLmlzRGF0YURyaXZlbigpLG89ci52YWx1ZTt0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFZhbHVlKGUsdCksdGhpcy5faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSk7Y29uc3QgYT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbZV0udmFsdWU7cmV0dXJuIGEuaXNEYXRhRHJpdmVuKCl8fGl8fG58fHRoaXMuX2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLG8sYSl9fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXt9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBudWxsfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBudWxsfV9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSx0LHIpe3JldHVybiExfWlzSGlkZGVuKGUpe3JldHVybiEhKHRoaXMubWluem9vbSYmZTx0aGlzLm1pbnpvb20pfHwhISh0aGlzLm1heHpvb20mJmU+PXRoaXMubWF4em9vbSl8fFwibm9uZVwiPT09dGhpcy52aXNpYmlsaXR5fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmdQYWludD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmdQYWludCl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUsdCl7ZS5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzJiYodGhpcy5fY3Jvc3NmYWRlUGFyYW1ldGVycz1lLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKSksdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJih0aGlzLmxheW91dD10aGlzLl91bmV2YWx1YXRlZExheW91dC5wb3NzaWJseUV2YWx1YXRlKGUsdm9pZCAwLHQpKSx0aGlzLnBhaW50PXRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5wb3NzaWJseUV2YWx1YXRlKGUsdm9pZCAwLHQpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e2lkOnRoaXMuaWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuc291cmNlLFwic291cmNlLWxheWVyXCI6dGhpcy5zb3VyY2VMYXllcixtZXRhZGF0YTp0aGlzLm1ldGFkYXRhLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLGZpbHRlcjp0aGlzLmZpbHRlcixsYXlvdXQ6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNlcmlhbGl6ZSgpLHBhaW50OnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQmJnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2VyaWFsaXplKCl9O3JldHVybiB0aGlzLnZpc2liaWxpdHkmJihlLmxheW91dD1lLmxheW91dHx8e30sZS5sYXlvdXQudmlzaWJpbGl0eT10aGlzLnZpc2liaWxpdHkpLGooZSwoZSx0KT0+ISh2b2lkIDA9PT1lfHxcImxheW91dFwiPT09dCYmIU9iamVjdC5rZXlzKGUpLmxlbmd0aHx8XCJwYWludFwiPT09dCYmIU9iamVjdC5rZXlzKGUpLmxlbmd0aCkpfV92YWxpZGF0ZShlLHQscixuLGk9e30pe3JldHVybighaXx8ITEhPT1pLnZhbGlkYXRlKSYmQ2kodGhpcyxlLmNhbGwod2kse2tleTp0LGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5OnIsdmFsdWU6bixzdHlsZVNwZWM6WWUsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfWlzM0QoKXtyZXR1cm4hMX1pc1NreSgpe3JldHVybiExfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4hMX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuITF9cmVzaXplKCl7fWlzU3RhdGVEZXBlbmRlbnQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLnBhaW50Ll92YWx1ZXMpe2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoZSk7aWYodCBpbnN0YW5jZW9mIEJvJiZDbih0LnByb3BlcnR5LnNwZWNpZmljYXRpb24pJiYoXCJzb3VyY2VcIj09PXQudmFsdWUua2luZHx8XCJjb21wb3NpdGVcIj09PXQudmFsdWUua2luZCkmJnQudmFsdWUuaXNTdGF0ZURlcGVuZGVudClyZXR1cm4hMH1yZXR1cm4hMX1jb21waWxlRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWR8fCh0aGlzLl9mZWF0dXJlRmlsdGVyPUpuKHRoaXMuZmlsdGVyKSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMCl9aW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITF9ZHluYW1pY0ZpbHRlcigpe3JldHVybiB0aGlzLl9mZWF0dXJlRmlsdGVyLmR5bmFtaWNGaWx0ZXJ9ZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlRmlsdGVyLm5lZWRGZWF0dXJlfX1jb25zdCBncz1Ibyhbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLF9zPUhvKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9wb3Nfbm9ybWFsXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7Y2xhc3MgeXN7Y29uc3RydWN0b3IoZT1bXSl7dGhpcy5zZWdtZW50cz1lfXByZXBhcmVTZWdtZW50KGUsdCxyLG4pe2xldCBpPXRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuIGU+eXMuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJlYoYE1heCB2ZXJ0aWNlcyBwZXIgc2VnbWVudCBpcyAke3lzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIfTogYnVja2V0IHJlcXVlc3RlZCAke2V9YCksKCFpfHxpLnZlcnRleExlbmd0aCtlPnlzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIfHxpLnNvcnRLZXkhPT1uKSYmKGk9e3ZlcnRleE9mZnNldDp0Lmxlbmd0aCxwcmltaXRpdmVPZmZzZXQ6ci5sZW5ndGgsdmVydGV4TGVuZ3RoOjAscHJpbWl0aXZlTGVuZ3RoOjB9LHZvaWQgMCE9PW4mJihpLnNvcnRLZXk9biksdGhpcy5zZWdtZW50cy5wdXNoKGkpKSxpfWdldCgpe3JldHVybiB0aGlzLnNlZ21lbnRzfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNlZ21lbnRzKWZvcihjb25zdCB0IGluIGUudmFvcyllLnZhb3NbdF0uZGVzdHJveSgpfXN0YXRpYyBzaW1wbGVTZWdtZW50KGUsdCxyLG4pe3JldHVybiBuZXcgeXMoW3t2ZXJ0ZXhPZmZzZXQ6ZSxwcmltaXRpdmVPZmZzZXQ6dCx2ZXJ0ZXhMZW5ndGg6cixwcmltaXRpdmVMZW5ndGg6bix2YW9zOnt9LHNvcnRLZXk6MH1dKX19eXMuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEg9TWF0aC5wb3coMiwxNiktMSxJaSh5cyxcIlNlZ21lbnRWZWN0b3JcIik7dmFyIHZzPTgxOTI7Y2xhc3MgeHN7Y29uc3RydWN0b3IoZSx0KXtlJiYodD90aGlzLnNldFNvdXRoV2VzdChlKS5zZXROb3J0aEVhc3QodCk6ND09PWUubGVuZ3RoP3RoaXMuc2V0U291dGhXZXN0KFtlWzBdLGVbMV1dKS5zZXROb3J0aEVhc3QoW2VbMl0sZVszXV0pOnRoaXMuc2V0U291dGhXZXN0KGVbMF0pLnNldE5vcnRoRWFzdChlWzFdKSl9c2V0Tm9ydGhFYXN0KGUpe3JldHVybiB0aGlzLl9uZT1lIGluc3RhbmNlb2Ygd3M/bmV3IHdzKGUubG5nLGUubGF0KTp3cy5jb252ZXJ0KGUpLHRoaXN9c2V0U291dGhXZXN0KGUpe3JldHVybiB0aGlzLl9zdz1lIGluc3RhbmNlb2Ygd3M/bmV3IHdzKGUubG5nLGUubGF0KTp3cy5jb252ZXJ0KGUpLHRoaXN9ZXh0ZW5kKGUpe2NvbnN0IHQ9dGhpcy5fc3cscj10aGlzLl9uZTtsZXQgbixpO2lmKGUgaW5zdGFuY2VvZiB3cyluPWUsaT1lO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgeHMpKXJldHVybiBBcnJheS5pc0FycmF5KGUpPzQ9PT1lLmxlbmd0aHx8ZS5ldmVyeShBcnJheS5pc0FycmF5KT90aGlzLmV4dGVuZCh4cy5jb252ZXJ0KGUpKTp0aGlzLmV4dGVuZCh3cy5jb252ZXJ0KGUpKTpcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuaGFzT3duUHJvcGVydHkoXCJsYXRcIikmJmUuaGFzT3duUHJvcGVydHkoXCJsb25cIik/dGhpcy5leHRlbmQod3MuY29udmVydChlKSk6dGhpcztpZihuPWUuX3N3LGk9ZS5fbmUsIW58fCFpKXJldHVybiB0aGlzfXJldHVybiB0fHxyPyh0LmxuZz1NYXRoLm1pbihuLmxuZyx0LmxuZyksdC5sYXQ9TWF0aC5taW4obi5sYXQsdC5sYXQpLHIubG5nPU1hdGgubWF4KGkubG5nLHIubG5nKSxyLmxhdD1NYXRoLm1heChpLmxhdCxyLmxhdCkpOih0aGlzLl9zdz1uZXcgd3Mobi5sbmcsbi5sYXQpLHRoaXMuX25lPW5ldyB3cyhpLmxuZyxpLmxhdCkpLHRoaXN9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyB3cygodGhpcy5fc3cubG5nK3RoaXMuX25lLmxuZykvMiwodGhpcy5fc3cubGF0K3RoaXMuX25lLmxhdCkvMil9Z2V0U291dGhXZXN0KCl7cmV0dXJuIHRoaXMuX3N3fWdldE5vcnRoRWFzdCgpe3JldHVybiB0aGlzLl9uZX1nZXROb3J0aFdlc3QoKXtyZXR1cm4gbmV3IHdzKHRoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0Tm9ydGgoKSl9Z2V0U291dGhFYXN0KCl7cmV0dXJuIG5ldyB3cyh0aGlzLmdldEVhc3QoKSx0aGlzLmdldFNvdXRoKCkpfWdldFdlc3QoKXtyZXR1cm4gdGhpcy5fc3cubG5nfWdldFNvdXRoKCl7cmV0dXJuIHRoaXMuX3N3LmxhdH1nZXRFYXN0KCl7cmV0dXJuIHRoaXMuX25lLmxuZ31nZXROb3J0aCgpe3JldHVybiB0aGlzLl9uZS5sYXR9dG9BcnJheSgpe3JldHVyblt0aGlzLl9zdy50b0FycmF5KCksdGhpcy5fbmUudG9BcnJheSgpXX10b1N0cmluZygpe3JldHVybmBMbmdMYXRCb3VuZHMoJHt0aGlzLl9zdy50b1N0cmluZygpfSwgJHt0aGlzLl9uZS50b1N0cmluZygpfSlgfWlzRW1wdHkoKXtyZXR1cm4hKHRoaXMuX3N3JiZ0aGlzLl9uZSl9Y29udGFpbnMoZSl7Y29uc3R7bG5nOnQsbGF0OnJ9PXdzLmNvbnZlcnQoZSk7bGV0IG49dGhpcy5fc3cubG5nPD10JiZ0PD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihuPXRoaXMuX3N3LmxuZz49dCYmdD49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PXImJnI8PXRoaXMuX25lLmxhdCYmbn1zdGF0aWMgY29udmVydChlKXtyZXR1cm4hZXx8ZSBpbnN0YW5jZW9mIHhzP2U6bmV3IHhzKGUpfX1jb25zdCBicz02MzcxMDA4Ljg7Y2xhc3Mgd3N7Y29uc3RydWN0b3IoZSx0KXtpZihpc05hTihlKXx8aXNOYU4odCkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIExuZ0xhdCBvYmplY3Q6ICgke2V9LCAke3R9KWApO2lmKHRoaXMubG5nPStlLHRoaXMubGF0PSt0LHRoaXMubGF0PjkwfHx0aGlzLmxhdDwtOTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBMbmdMYXQgbGF0aXR1ZGUgdmFsdWU6IG11c3QgYmUgYmV0d2VlbiAtOTAgYW5kIDkwXCIpfXdyYXAoKXtyZXR1cm4gbmV3IHdzKE0odGhpcy5sbmcsLTE4MCwxODApLHRoaXMubGF0KX10b0FycmF5KCl7cmV0dXJuW3RoaXMubG5nLHRoaXMubGF0XX10b1N0cmluZygpe3JldHVybmBMbmdMYXQoJHt0aGlzLmxuZ30sICR7dGhpcy5sYXR9KWB9ZGlzdGFuY2VUbyhlKXtjb25zdCB0PU1hdGguUEkvMTgwLHI9dGhpcy5sYXQqdCxuPWUubGF0KnQsaT1NYXRoLnNpbihyKSpNYXRoLnNpbihuKStNYXRoLmNvcyhyKSpNYXRoLmNvcyhuKSpNYXRoLmNvcygoZS5sbmctdGhpcy5sbmcpKnQpO3JldHVybiBicypNYXRoLmFjb3MoTWF0aC5taW4oaSwxKSl9dG9Cb3VuZHMoZT0wKXtjb25zdCB0PTM2MCplLzQwMDc1MDE3LHI9dC9NYXRoLmNvcyhNYXRoLlBJLzE4MCp0aGlzLmxhdCk7cmV0dXJuIG5ldyB4cyhuZXcgd3ModGhpcy5sbmctcix0aGlzLmxhdC10KSxuZXcgd3ModGhpcy5sbmcrcix0aGlzLmxhdCt0KSl9c3RhdGljIGNvbnZlcnQoZSl7aWYoZSBpbnN0YW5jZW9mIHdzKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkmJigyPT09ZS5sZW5ndGh8fDM9PT1lLmxlbmd0aCkpcmV0dXJuIG5ldyB3cyhOdW1iZXIoZVswXSksTnVtYmVyKGVbMV0pKTtpZighQXJyYXkuaXNBcnJheShlKSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXJldHVybiBuZXcgd3MoTnVtYmVyKFwibG5nXCJpbiBlP2UubG5nOmUubG9uKSxOdW1iZXIoZS5sYXQpKTt0aHJvdyBuZXcgRXJyb3IoXCJgTG5nTGF0TGlrZWAgYXJndW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBMbmdMYXQgaW5zdGFuY2UsIGFuIG9iamVjdCB7bG5nOiA8bG5nPiwgbGF0OiA8bGF0Pn0sIGFuIG9iamVjdCB7bG9uOiA8bG5nPiwgbGF0OiA8bGF0Pn0sIG9yIGFuIGFycmF5IG9mIFs8bG5nPiwgPGxhdD5dXCIpfX1jb25zdCBUcz0yKk1hdGguUEkqYnM7ZnVuY3Rpb24gRXMoZSl7cmV0dXJuIFRzKk1hdGguY29zKGUqTWF0aC5QSS8xODApfWZ1bmN0aW9uIFNzKGUpe3JldHVybigxODArZSkvMzYwfWZ1bmN0aW9uIENzKGUpe3JldHVybigxODAtMTgwL01hdGguUEkqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2UqTWF0aC5QSS8zNjApKSkvMzYwfWZ1bmN0aW9uIE1zKGUsdCl7cmV0dXJuIGUvRXModCl9ZnVuY3Rpb24ga3MoZSl7cmV0dXJuIDM2MCplLTE4MH1mdW5jdGlvbiBBcyhlKXtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKmUpKk1hdGguUEkvMTgwKSktOTB9ZnVuY3Rpb24gSXMoZSx0KXtyZXR1cm4gZSpFcyhBcyh0KSl9Y29uc3QgUHM9ODUuMDUxMTI5O2Z1bmN0aW9uIHpzKGUpe3JldHVybiAxL01hdGguY29zKGUqTWF0aC5QSS8xODApfWNsYXNzIERze2NvbnN0cnVjdG9yKGUsdCxyPTApe3RoaXMueD0rZSx0aGlzLnk9K3QsdGhpcy56PStyfXN0YXRpYyBmcm9tTG5nTGF0KGUsdD0wKXtjb25zdCByPXdzLmNvbnZlcnQoZSk7cmV0dXJuIG5ldyBEcyhTcyhyLmxuZyksQ3Moci5sYXQpLE1zKHQsci5sYXQpKX10b0xuZ0xhdCgpe3JldHVybiBuZXcgd3Moa3ModGhpcy54KSxBcyh0aGlzLnkpKX10b0FsdGl0dWRlKCl7cmV0dXJuIElzKHRoaXMueix0aGlzLnkpfW1ldGVySW5NZXJjYXRvckNvb3JkaW5hdGVVbml0cygpe3JldHVybiAxL1RzKnpzKEFzKHRoaXMueSkpfX1mdW5jdGlvbiBScyhlLHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz0odCtuKS8yLHU9KHIraSkvMixoPW5ldyBtKGMsdSk7cyhoKSxmdW5jdGlvbihlLHQscixuLGksbyl7Y29uc3QgYT1yLWkscz1uLW87cmV0dXJuIE1hdGguYWJzKChuLXQpKmEtKHItZSkqcykvTWF0aC5oeXBvdChhLHMpfShoLngsaC55LG8ueCxvLnksYS54LGEueSk+PWw/KFJzKGUsdCxyLGMsdSxvLGgscyxsKSxScyhlLGMsdSxuLGksaCxhLHMsbCkpOmUucHVzaChhKX1mdW5jdGlvbiBMcyhlLHQscil7bGV0IG49ZVswXSxpPW4ueCxvPW4ueTt0KG4pO2NvbnN0IGE9W25dO2ZvcihsZXQgcz0xO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBsPWVbc10se3g6Yyx5OnV9PWw7dChsKSxScyhhLGksbyxjLHUsbixsLHQsciksaT1jLG89dSxuPWx9cmV0dXJuIGF9ZnVuY3Rpb24gT3MoZSx0LHIsbil7aWYobih0LHIpKXtjb25zdCBpPXQuYWRkKHIpLl9tdWx0KC41KTtPcyhlLHQsaSxuKSxPcyhlLGkscixuKX1lbHNlIGUucHVzaChyKX1mdW5jdGlvbiBCcyhlLHQpe2xldCByPWVbMF07Y29uc3Qgbj1bcl07Zm9yKGxldCBpPTE7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG89ZVtpXTtPcyhuLHIsbyx0KSxyPW99cmV0dXJuIG59Y29uc3QgRnM9TWF0aC5wb3coMiwxNCktMSxqcz0tRnMtMTtmdW5jdGlvbiBVcyhlLHQpe2NvbnN0IHI9TWF0aC5yb3VuZChlLngqdCksbj1NYXRoLnJvdW5kKGUueSp0KTtyZXR1cm4gZS54PVMocixqcyxGcyksZS55PVMobixqcyxGcyksKHI8ZS54fHxyPmUueCsxfHxuPGUueXx8bj5lLnkrMSkmJlYoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKSxlfWZ1bmN0aW9uIE5zKGUsdCxyKXtjb25zdCBuPWUubG9hZEdlb21ldHJ5KCksaT1lLmV4dGVudCxvPXZzL2k7aWYodCYmciYmci5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3Qgbz0xPDx0Lnose3NjYWxlOmEseDpzLHk6bCxwcm9qZWN0aW9uOmN9PXIsdT1lPT57Y29uc3Qgcj1rcygodC54K2UueC9pKS9vKSxuPUFzKCh0LnkrZS55L2kpL28pLHU9Yy5wcm9qZWN0KHIsbik7ZS54PSh1LngqYS1zKSppLGUueT0odS55KmEtbCkqaX07Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0KyspaWYoMSE9PWUudHlwZSluW3RdPUxzKG5bdF0sdSwxKTtlbHNle2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgb2Ygblt0XSlyLng8MHx8ci54Pj1pfHxyLnk8MHx8ci55Pj1pfHwodShyKSxlLnB1c2gocikpO25bdF09ZX19Zm9yKGNvbnN0IGUgb2Ygbilmb3IoY29uc3QgdCBvZiBlKVVzKHQsbyk7cmV0dXJuIG59ZnVuY3Rpb24gVnMoZSx0KXtyZXR1cm57dHlwZTplLnR5cGUsaWQ6ZS5pZCxwcm9wZXJ0aWVzOmUucHJvcGVydGllcyxnZW9tZXRyeTp0P05zKGUpOltdfX1mdW5jdGlvbiBHcyhlLHQscixuLGkpe2UuZW1wbGFjZUJhY2soMip0KyhuKzEpLzIsMipyKyhpKzEpLzIpfWZ1bmN0aW9uIHFzKGUsdCxyKXtjb25zdCBuPTE2Mzg0O2UuZW1wbGFjZUJhY2sodC54LHQueSx0LnosclswXSpuLHJbMV0qbixyWzJdKm4pfWNsYXNzIFpze2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGU9PmUuaWQpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBLbyx0aGlzLmluZGV4QXJyYXk9bmV3IHBhLHRoaXMuc2VnbWVudHM9bmV3IHlzLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBscyhlLmxheWVycyxlLnpvb20pLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKX1wb3B1bGF0ZShlLHQscixuKXtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLG89W107bGV0IGE9bnVsbDtcImNpcmNsZVwiPT09aS50eXBlJiYoYT1pLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikpO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6aSxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPVZzKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgSW8odGhpcy56b29tKSxjLHIpKWNvbnRpbnVlO2NvbnN0IHU9YT9hLmV2YWx1YXRlKGMse30scik6dm9pZCAwLGg9e2lkOmkscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OnMsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5Ok5zKHQscixuKSxwYXR0ZXJuczp7fSxzb3J0S2V5OnV9O28ucHVzaChoKX1hJiZvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2xldCBzPW51bGw7XCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IEJhLHM9bi5wcm9qZWN0aW9uKTtmb3IoY29uc3QgbiBvZiBvKXtjb25zdHtnZW9tZXRyeTppLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDphfT1uLGw9ZVtvXS5mZWF0dXJlO3RoaXMuYWRkRmVhdHVyZShuLGksbyx0LmF2YWlsYWJsZUltYWdlcyxyLHMpLHQuZmVhdHVyZUluZGV4Lmluc2VydChsLGksbyxhLHRoaXMuaW5kZXgpfX11cGRhdGUoZSx0LHIsbil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIsbil9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksZ3MubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5JiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksX3MubWVtYmVycykpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMH1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJnRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKX1hZGRGZWF0dXJlKGUsdCxyLG4saSxvKXtmb3IoY29uc3QgciBvZiB0KWZvcihjb25zdCB0IG9mIHIpe2NvbnN0IHI9dC54LG49dC55O2lmKHI8MHx8cj49dnN8fG48MHx8bj49dnMpY29udGludWU7aWYobyl7Y29uc3QgZT1vLnByb2plY3RUaWxlUG9pbnQocixuLGkpLHQ9by51cFZlY3RvcihpLHIsbiksYT10aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk7cXMoYSxlLHQpLHFzKGEsZSx0KSxxcyhhLGUsdCkscXMoYSxlLHQpfWNvbnN0IGE9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5LGUuc29ydEtleSkscz1hLnZlcnRleExlbmd0aDtHcyh0aGlzLmxheW91dFZlcnRleEFycmF5LHIsbiwtMSwtMSksR3ModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sMSwtMSksR3ModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sMSwxKSxHcyh0aGlzLmxheW91dFZlcnRleEFycmF5LHIsbiwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socyxzKzEscysyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socyxzKzIscyszKSxhLnZlcnRleExlbmd0aCs9NCxhLnByaW1pdGl2ZUxlbmd0aCs9Mn10aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUscix7fSxuLGkpfX1mdW5jdGlvbiAkcyhlLHQpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHRsKHQsZVtyXSkpcmV0dXJuITA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYodGwoZSx0W3JdKSlyZXR1cm4hMDtyZXR1cm4hIVlzKGUsdCl9ZnVuY3Rpb24gV3MoZSx0LHIpe3JldHVybiEhdGwoZSx0KXx8ISFKcyh0LGUscil9ZnVuY3Rpb24gWHMoZSx0KXtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVsKHQsZVswXSk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylpZih0bChlLG5bdF0pKXJldHVybiEwfWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVsKHQsZVtyXSkpcmV0dXJuITA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYoWXMoZSx0W3JdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBIcyhlLHQscil7aWYoZS5sZW5ndGg+MSl7aWYoWXMoZSx0KSlyZXR1cm4hMDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZihKcyh0W25dLGUscikpcmV0dXJuITB9Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspaWYoSnMoZVtuXSx0LHIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFlzKGUsdCl7aWYoMD09PWUubGVuZ3RofHwwPT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aC0xO3IrKyl7Y29uc3Qgbj1lW3JdLGk9ZVtyKzFdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspaWYoS3MobixpLHRbZV0sdFtlKzFdKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBLcyhlLHQscixuKXtyZXR1cm4gRyhlLHIsbikhPT1HKHQscixuKSYmRyhlLHQscikhPT1HKGUsdCxuKX1mdW5jdGlvbiBKcyhlLHQscil7Y29uc3Qgbj1yKnI7aWYoMT09PXQubGVuZ3RoKXJldHVybiBlLmRpc3RTcXIodFswXSk8bjtmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKylpZihRcyhlLHRbci0xXSx0W3JdKTxuKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFFzKGUsdCxyKXtjb25zdCBuPXQuZGlzdFNxcihyKTtpZigwPT09bilyZXR1cm4gZS5kaXN0U3FyKHQpO2NvbnN0IGk9KChlLngtdC54KSooci54LXQueCkrKGUueS10LnkpKihyLnktdC55KSkvbjtyZXR1cm4gZS5kaXN0U3FyKGk8MD90Omk+MT9yOnIuc3ViKHQpLl9tdWx0KGkpLl9hZGQodCkpfWZ1bmN0aW9uIGVsKGUsdCl7bGV0IHIsbixpLG89ITE7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe3I9ZVthXTtmb3IobGV0IGU9MCxhPXIubGVuZ3RoLTE7ZTxyLmxlbmd0aDthPWUrKyluPXJbZV0saT1yW2FdLG4ueT50LnkhPWkueT50LnkmJnQueDwoaS54LW4ueCkqKHQueS1uLnkpLyhpLnktbi55KStuLngmJihvPSFvKX1yZXR1cm4gb31mdW5jdGlvbiB0bChlLHQpe2xldCByPSExO2ZvcihsZXQgbj0wLGk9ZS5sZW5ndGgtMTtuPGUubGVuZ3RoO2k9bisrKXtjb25zdCBvPWVbbl0sYT1lW2ldO28ueT50LnkhPWEueT50LnkmJnQueDwoYS54LW8ueCkqKHQueS1vLnkpLyhhLnktby55KStvLngmJihyPSFyKX1yZXR1cm4gcn1mdW5jdGlvbiBybChlLHQscixuLGkpe2Zvcihjb25zdCBvIG9mIGUpaWYodDw9by54JiZyPD1vLnkmJm4+PW8ueCYmaT49by55KXJldHVybiEwO2NvbnN0IG89W25ldyBtKHQsciksbmV3IG0odCxpKSxuZXcgbShuLGkpLG5ldyBtKG4scildO2lmKGUubGVuZ3RoPjIpZm9yKGNvbnN0IHQgb2YgbylpZih0bChlLHQpKXJldHVybiEwO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspaWYobmwoZVt0XSxlW3QrMV0sbykpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbmwoZSx0LHIpe2NvbnN0IG49clswXSxpPXJbMl07aWYoZS54PG4ueCYmdC54PG4ueHx8ZS54PmkueCYmdC54PmkueHx8ZS55PG4ueSYmdC55PG4ueXx8ZS55PmkueSYmdC55PmkueSlyZXR1cm4hMTtjb25zdCBvPUcoZSx0LHJbMF0pO3JldHVybiBvIT09RyhlLHQsclsxXSl8fG8hPT1HKGUsdCxyWzJdKXx8byE9PUcoZSx0LHJbM10pfWZ1bmN0aW9uIGlsKGUsdCxyKXtjb25zdCBuPXQucGFpbnQuZ2V0KGUpLnZhbHVlO3JldHVyblwiY29uc3RhbnRcIj09PW4ua2luZD9uLnZhbHVlOnIucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldCh0LmlkKS5nZXRNYXhWYWx1ZShlKX1mdW5jdGlvbiBvbChlKXtyZXR1cm4gTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pfWZ1bmN0aW9uIGFsKGUsdCxyLG4saSl7aWYoIXRbMF0mJiF0WzFdKXJldHVybiBlO2NvbnN0IG89bS5jb252ZXJ0KHQpLl9tdWx0KGkpO1widmlld3BvcnRcIj09PXImJm8uX3JvdGF0ZSgtbik7Y29uc3QgYT1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylhLnB1c2goZVt0XS5zdWIobykpO3JldHVybiBhfWZ1bmN0aW9uIHNsKGUsdCxyLG4pe2NvbnN0IGk9bS5jb252ZXJ0KGUpLl9tdWx0KG4pO3JldHVyblwidmlld3BvcnRcIj09PXQmJmkuX3JvdGF0ZSgtciksaX1JaShacyxcIkNpcmNsZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NvbnN0IGxsPW5ldyBxbyh7XCJjaXJjbGUtc29ydC1rZXlcIjpuZXcgVW8oWWUubGF5b3V0X2NpcmNsZVtcImNpcmNsZS1zb3J0LWtleVwiXSl9KTt2YXIgY2w9e3BhaW50Om5ldyBxbyh7XCJjaXJjbGUtcmFkaXVzXCI6bmV3IFVvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS1yYWRpdXNcIl0pLFwiY2lyY2xlLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS1jb2xvclwiXSksXCJjaXJjbGUtYmx1clwiOm5ldyBVbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtYmx1clwiXSksXCJjaXJjbGUtb3BhY2l0eVwiOm5ldyBVbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtb3BhY2l0eVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlXCI6bmV3IGpvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS10cmFuc2xhdGVcIl0pLFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgam8oWWUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiY2lyY2xlLXBpdGNoLXNjYWxlXCI6bmV3IGpvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS1waXRjaC1zY2FsZVwiXSksXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6bmV3IGpvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIl0pLFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiOm5ldyBVbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCJdKSxcImNpcmNsZS1zdHJva2UtY29sb3JcIjpuZXcgVW8oWWUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS1jb2xvclwiXSksXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIjpuZXcgVW8oWWUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCJdKX0pLGxheW91dDpsbH0sdWw9MWUtNixobD1cInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheTtmdW5jdGlvbiBkbCgpe3ZhciBlPW5ldyBobCg5KTtyZXR1cm4gaGwhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNV09MCxlWzZdPTAsZVs3XT0wKSxlWzBdPTEsZVs0XT0xLGVbOF09MSxlfWZ1bmN0aW9uIHBsKGUsdCxyKXt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT10WzNdLHM9dFs0XSxsPXRbNV0sYz10WzZdLHU9dFs3XSxoPXRbOF0sZD1yWzBdLHA9clsxXSxmPXJbMl0sbT1yWzNdLGc9cls0XSxfPXJbNV0seT1yWzZdLHY9cls3XSx4PXJbOF07cmV0dXJuIGVbMF09ZCpuK3AqYStmKmMsZVsxXT1kKmkrcCpzK2YqdSxlWzJdPWQqbytwKmwrZipoLGVbM109bSpuK2cqYStfKmMsZVs0XT1tKmkrZypzK18qdSxlWzVdPW0qbytnKmwrXypoLGVbNl09eSpuK3YqYSt4KmMsZVs3XT15KmkrdipzK3gqdSxlWzhdPXkqbyt2KmwreCpoLGV9ZnVuY3Rpb24gZmwoZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIG1sKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXRbNF0scz10WzVdLGw9dFs2XSxjPXRbN10sdT10WzhdLGg9dFs5XSxkPXRbMTBdLHA9dFsxMV0sZj10WzEyXSxtPXRbMTNdLGc9dFsxNF0sXz10WzE1XSx5PXIqcy1uKmEsdj1yKmwtaSphLHg9cipjLW8qYSxiPW4qbC1pKnMsdz1uKmMtbypzLFQ9aSpjLW8qbCxFPXUqbS1oKmYsUz11KmctZCpmLEM9dSpfLXAqZixNPWgqZy1kKm0saz1oKl8tcCptLEE9ZCpfLXAqZyxJPXkqQS12KmsreCpNK2IqQy13KlMrVCpFO3JldHVybiBJPyhlWzBdPShzKkEtbCprK2MqTSkqKEk9MS9JKSxlWzFdPShpKmstbipBLW8qTSkqSSxlWzJdPShtKlQtZyp3K18qYikqSSxlWzNdPShkKnctaCpULXAqYikqSSxlWzRdPShsKkMtYSpBLWMqUykqSSxlWzVdPShyKkEtaSpDK28qUykqSSxlWzZdPShnKngtZipULV8qdikqSSxlWzddPSh1KlQtZCp4K3AqdikqSSxlWzhdPShhKmstcypDK2MqRSkqSSxlWzldPShuKkMtciprLW8qRSkqSSxlWzEwXT0oZip3LW0qeCtfKnkpKkksZVsxMV09KGgqeC11KnctcCp5KSpJLGVbMTJdPShzKlMtYSpNLWwqRSkqSSxlWzEzXT0ocipNLW4qUytpKkUpKkksZVsxNF09KG0qdi1mKmItZyp5KSpJLGVbMTVdPSh1KmItaCp2K2QqeSkqSSxlKTpudWxsfWZ1bmN0aW9uIGdsKGUsdCxyKXt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT10WzNdLHM9dFs0XSxsPXRbNV0sYz10WzZdLHU9dFs3XSxoPXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxtPXRbMTJdLGc9dFsxM10sXz10WzE0XSx5PXRbMTVdLHY9clswXSx4PXJbMV0sYj1yWzJdLHc9clszXTtyZXR1cm4gZVswXT12Km4reCpzK2IqaCt3Km0sZVsxXT12KmkreCpsK2IqZCt3KmcsZVsyXT12Km8reCpjK2IqcCt3Kl8sZVszXT12KmEreCp1K2IqZit3KnksZVs0XT0odj1yWzRdKSpuKyh4PXJbNV0pKnMrKGI9cls2XSkqaCsodz1yWzddKSptLGVbNV09dippK3gqbCtiKmQrdypnLGVbNl09dipvK3gqYytiKnArdypfLGVbN109diphK3gqdStiKmYrdyp5LGVbOF09KHY9cls4XSkqbisoeD1yWzldKSpzKyhiPXJbMTBdKSpoKyh3PXJbMTFdKSptLGVbOV09dippK3gqbCtiKmQrdypnLGVbMTBdPXYqbyt4KmMrYipwK3cqXyxlWzExXT12KmEreCp1K2IqZit3KnksZVsxMl09KHY9clsxMl0pKm4rKHg9clsxM10pKnMrKGI9clsxNF0pKmgrKHc9clsxNV0pKm0sZVsxM109dippK3gqbCtiKmQrdypnLGVbMTRdPXYqbyt4KmMrYipwK3cqXyxlWzE1XT12KmEreCp1K2IqZit3KnksZX1mdW5jdGlvbiBfbChlLHQscil7dmFyIG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG09clswXSxnPXJbMV0sXz1yWzJdO3JldHVybiB0PT09ZT8oZVsxMl09dFswXSptK3RbNF0qZyt0WzhdKl8rdFsxMl0sZVsxM109dFsxXSptK3RbNV0qZyt0WzldKl8rdFsxM10sZVsxNF09dFsyXSptK3RbNl0qZyt0WzEwXSpfK3RbMTRdLGVbMTVdPXRbM10qbSt0WzddKmcrdFsxMV0qXyt0WzE1XSk6KGk9dFsxXSxvPXRbMl0sYT10WzNdLHM9dFs0XSxsPXRbNV0sYz10WzZdLHU9dFs3XSxoPXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxlWzBdPW49dFswXSxlWzFdPWksZVsyXT1vLGVbM109YSxlWzRdPXMsZVs1XT1sLGVbNl09YyxlWzddPXUsZVs4XT1oLGVbOV09ZCxlWzEwXT1wLGVbMTFdPWYsZVsxMl09biptK3MqZytoKl8rdFsxMl0sZVsxM109aSptK2wqZytkKl8rdFsxM10sZVsxNF09byptK2MqZytwKl8rdFsxNF0sZVsxNV09YSptK3UqZytmKl8rdFsxNV0pLGV9ZnVuY3Rpb24geWwoZSx0LHIpe3ZhciBuPXJbMF0saT1yWzFdLG89clsyXTtyZXR1cm4gZVswXT10WzBdKm4sZVsxXT10WzFdKm4sZVsyXT10WzJdKm4sZVszXT10WzNdKm4sZVs0XT10WzRdKmksZVs1XT10WzVdKmksZVs2XT10WzZdKmksZVs3XT10WzddKmksZVs4XT10WzhdKm8sZVs5XT10WzldKm8sZVsxMF09dFsxMF0qbyxlWzExXT10WzExXSpvLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdLGV9ZnVuY3Rpb24gdmwoZSx0LHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3Mociksbz10WzRdLGE9dFs1XSxzPXRbNl0sbD10WzddLGM9dFs4XSx1PXRbOV0saD10WzEwXSxkPXRbMTFdO3JldHVybiB0IT09ZSYmKGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVs0XT1vKmkrYypuLGVbNV09YSppK3UqbixlWzZdPXMqaStoKm4sZVs3XT1sKmkrZCpuLGVbOF09YyppLW8qbixlWzldPXUqaS1hKm4sZVsxMF09aCppLXMqbixlWzExXT1kKmktbCpuLGV9ZnVuY3Rpb24geGwoZSx0LHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3Mociksbz10WzBdLGE9dFsxXSxzPXRbMl0sbD10WzNdLGM9dFs4XSx1PXRbOV0saD10WzEwXSxkPXRbMTFdO3JldHVybiB0IT09ZSYmKGVbNF09dFs0XSxlWzVdPXRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVswXT1vKmktYypuLGVbMV09YSppLXUqbixlWzJdPXMqaS1oKm4sZVszXT1sKmktZCpuLGVbOF09bypuK2MqaSxlWzldPWEqbit1KmksZVsxMF09cypuK2gqaSxlWzExXT1sKm4rZCppLGV9ZnVuY3Rpb24gYmwoZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXRbMV0sZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPXRbMl0sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9ZnVuY3Rpb24gd2woZSx0LHIpe3ZhciBuLGksbyxhPXJbMF0scz1yWzFdLGw9clsyXSxjPU1hdGguaHlwb3QoYSxzLGwpO3JldHVybiBjPHVsP251bGw6KGEqPWM9MS9jLHMqPWMsbCo9YyxuPU1hdGguc2luKHQpLGk9TWF0aC5jb3ModCksZVswXT1hKmEqKG89MS1pKStpLGVbMV09cyphKm8rbCpuLGVbMl09bCphKm8tcypuLGVbM109MCxlWzRdPWEqcypvLWwqbixlWzVdPXMqcypvK2ksZVs2XT1sKnMqbythKm4sZVs3XT0wLGVbOF09YSpsKm8rcypuLGVbOV09cypsKm8tYSpuLGVbMTBdPWwqbCpvK2ksZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGUpfU1hdGguaHlwb3R8fChNYXRoLmh5cG90PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD1hcmd1bWVudHMubGVuZ3RoO3QtLTspZSs9YXJndW1lbnRzW3RdKmFyZ3VtZW50c1t0XTtyZXR1cm4gTWF0aC5zcXJ0KGUpfSk7dmFyIFRsPWdsO2Z1bmN0aW9uIEVsKCl7dmFyIGU9bmV3IGhsKDMpO3JldHVybiBobCE9RmxvYXQzMkFycmF5JiYoZVswXT0wLGVbMV09MCxlWzJdPTApLGV9ZnVuY3Rpb24gU2woZSl7dmFyIHQ9bmV3IGhsKDMpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0fWZ1bmN0aW9uIENsKGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0sZVsxXSxlWzJdKX1mdW5jdGlvbiBNbChlLHQscil7dmFyIG49bmV3IGhsKDMpO3JldHVybiBuWzBdPWUsblsxXT10LG5bMl09cixufWZ1bmN0aW9uIGtsKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdK3JbMF0sZVsxXT10WzFdK3JbMV0sZVsyXT10WzJdK3JbMl0sZX1mdW5jdGlvbiBBbChlLHQscil7cmV0dXJuIGVbMF09dFswXS1yWzBdLGVbMV09dFsxXS1yWzFdLGVbMl09dFsyXS1yWzJdLGV9ZnVuY3Rpb24gSWwoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qclswXSxlWzFdPXRbMV0qclsxXSxlWzJdPXRbMl0qclsyXSxlfWZ1bmN0aW9uIFBsKGUsdCxyKXtyZXR1cm4gZVswXT1NYXRoLm1pbih0WzBdLHJbMF0pLGVbMV09TWF0aC5taW4odFsxXSxyWzFdKSxlWzJdPU1hdGgubWluKHRbMl0sclsyXSksZX1mdW5jdGlvbiB6bChlLHQscil7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxyWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0sclsxXSksZVsyXT1NYXRoLm1heCh0WzJdLHJbMl0pLGV9ZnVuY3Rpb24gRGwoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qcixlWzFdPXRbMV0qcixlWzJdPXRbMl0qcixlfWZ1bmN0aW9uIFJsKGUsdCxyLG4pe3JldHVybiBlWzBdPXRbMF0rclswXSpuLGVbMV09dFsxXStyWzFdKm4sZVsyXT10WzJdK3JbMl0qbixlfWZ1bmN0aW9uIExsKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89cipyK24qbitpKmk7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobykpLGVbMF09dFswXSpvLGVbMV09dFsxXSpvLGVbMl09dFsyXSpvLGV9ZnVuY3Rpb24gT2woZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXStlWzJdKnRbMl19ZnVuY3Rpb24gQmwoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXJbMF0scz1yWzFdLGw9clsyXTtyZXR1cm4gZVswXT1pKmwtbypzLGVbMV09byphLW4qbCxlWzJdPW4qcy1pKmEsZX1mdW5jdGlvbiBGbChlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9clszXSpuK3JbN10qaStyWzExXSpvK3JbMTVdO3JldHVybiBlWzBdPShyWzBdKm4rcls0XSppK3JbOF0qbytyWzEyXSkvKGE9YXx8MSksZVsxXT0oclsxXSpuK3JbNV0qaStyWzldKm8rclsxM10pL2EsZVsyXT0oclsyXSpuK3JbNl0qaStyWzEwXSpvK3JbMTRdKS9hLGV9ZnVuY3Rpb24gamwoZSx0LHIpe3ZhciBuPXJbMF0saT1yWzFdLG89clsyXSxhPXRbMF0scz10WzFdLGw9dFsyXSxjPWkqbC1vKnMsdT1vKmEtbipsLGg9bipzLWkqYSxkPWkqaC1vKnUscD1vKmMtbipoLGY9bip1LWkqYyxtPTIqclszXTtyZXR1cm4gdSo9bSxoKj1tLHAqPTIsZio9MixlWzBdPWErKGMqPW0pKyhkKj0yKSxlWzFdPXMrdStwLGVbMl09bCtoK2YsZX12YXIgVWwsTmw9QWwsVmw9SWwsR2w9Q2w7ZnVuY3Rpb24gcWwoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qcixlWzFdPXRbMV0qcixlWzJdPXRbMl0qcixlWzNdPXRbM10qcixlfWZ1bmN0aW9uIFpsKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXIqcituKm4raSppK28qbztyZXR1cm4gYT4wJiYoYT0xL01hdGguc3FydChhKSksZVswXT1yKmEsZVsxXT1uKmEsZVsyXT1pKmEsZVszXT1vKmEsZX1mdW5jdGlvbiAkbChlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXTtyZXR1cm4gZVswXT1yWzBdKm4rcls0XSppK3JbOF0qbytyWzEyXSphLGVbMV09clsxXSpuK3JbNV0qaStyWzldKm8rclsxM10qYSxlWzJdPXJbMl0qbityWzZdKmkrclsxMF0qbytyWzE0XSphLGVbM109clszXSpuK3JbN10qaStyWzExXSpvK3JbMTVdKmEsZX1mdW5jdGlvbiBXbCgpe3ZhciBlPW5ldyBobCg0KTtyZXR1cm4gaGwhPUZsb2F0MzJBcnJheSYmKGVbMF09MCxlWzFdPTAsZVsyXT0wKSxlWzNdPTEsZX1mdW5jdGlvbiBYbChlKXtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9ZnVuY3Rpb24gSGwoZSx0LHIpe3IqPS41O3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO3JldHVybiBlWzBdPW4qbCthKnMsZVsxXT1pKmwrbypzLGVbMl09bypsLWkqcyxlWzNdPWEqbC1uKnMsZX1mdW5jdGlvbiBZbChlLHQscil7cio9LjU7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSxzPU1hdGguc2luKHIpLGw9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09bipsLW8qcyxlWzFdPWkqbCthKnMsZVsyXT1vKmwrbipzLGVbM109YSpsLWkqcyxlfUVsKCksVWw9bmV3IGhsKDQpLGhsIT1GbG9hdDMyQXJyYXkmJihVbFswXT0wLFVsWzFdPTAsVWxbMl09MCxVbFszXT0wKTt2YXIgS2w9Wmw7RWwoKSxNbCgxLDAsMCksTWwoMCwxLDApLFdsKCksV2woKSxkbCgpO2NsYXNzIEpse2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wb3M9ZSx0aGlzLmRpcj10fWludGVyc2VjdHNQbGFuZShlLHQscil7Y29uc3Qgbj1PbCh0LHRoaXMuZGlyKTtpZihNYXRoLmFicyhuKTwxZS02KXJldHVybiExO2NvbnN0IGk9KChlWzBdLXRoaXMucG9zWzBdKSp0WzBdKyhlWzFdLXRoaXMucG9zWzFdKSp0WzFdKyhlWzJdLXRoaXMucG9zWzJdKSp0WzJdKS9uO3JldHVybiByWzBdPXRoaXMucG9zWzBdK3RoaXMuZGlyWzBdKmksclsxXT10aGlzLnBvc1sxXSt0aGlzLmRpclsxXSppLHJbMl09dGhpcy5wb3NbMl0rdGhpcy5kaXJbMl0qaSwhMH1jbG9zZXN0UG9pbnRPblNwaGVyZShlLHQscil7aWYoZnVuY3Rpb24oZSx0KXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sbz10WzBdLGE9dFsxXSxzPXRbMl07cmV0dXJuIE1hdGguYWJzKHItbyk8PXVsKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMobykpJiZNYXRoLmFicyhuLWEpPD11bCpNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMoaS1zKTw9dWwqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhzKSl9KHRoaXMucG9zLGUpfHwwPT09dClyZXR1cm4gclswXT1yWzFdPXJbMl09MCwhMTtjb25zdFtuLGksb109dGhpcy5kaXIsYT10aGlzLnBvc1swXS1lWzBdLHM9dGhpcy5wb3NbMV0tZVsxXSxsPXRoaXMucG9zWzJdLWVbMl0sYz1uKm4raSppK28qbyx1PTIqKGEqbitzKmkrbCpvKSxoPXUqdS00KmMqKGEqYStzKnMrbCpsLXQqdCk7aWYoaDwwKXtjb25zdCBlPU1hdGgubWF4KC11LzIsMCksYz1hK24qZSxoPXMraSplLGQ9bCtvKmUscD1NYXRoLmh5cG90KGMsaCxkKTtyZXR1cm4gclswXT1jKnQvcCxyWzFdPWgqdC9wLHJbMl09ZCp0L3AsITF9e2NvbnN0IGU9KC11LU1hdGguc3FydChoKSkvKDIqYyk7aWYoZTwwKXtjb25zdCBlPU1hdGguaHlwb3QoYSxzLGwpO3JldHVybiByWzBdPWEqdC9lLHJbMV09cyp0L2UsclsyXT1sKnQvZSwhMX1yZXR1cm4gclswXT1hK24qZSxyWzFdPXMraSplLHJbMl09bCtvKmUsITB9fX1jbGFzcyBRbHtjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMuVEw9ZSx0aGlzLlRSPXQsdGhpcy5CUj1yLHRoaXMuQkw9bix0aGlzLmhvcml6b249aX1zdGF0aWMgZnJvbUludlByb2plY3Rpb25NYXRyaXgoZSx0LHIpe2NvbnN0IG49Wy0xLDEsMV0saT1bMSwxLDFdLG89WzEsLTEsMV0sYT1bLTEsLTEsMV0scz1GbChuLG4sZSksbD1GbChpLGksZSksYz1GbChvLG8sZSksdT1GbChhLGEsZSk7cmV0dXJuIG5ldyBRbChzLGwsYyx1LHQvcil9fWNsYXNzIGVje2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wb2ludHM9ZSx0aGlzLnBsYW5lcz10fXN0YXRpYyBmcm9tSW52UHJvamVjdGlvbk1hdHJpeChlLHQscixuKXtjb25zdCBpPU1hdGgucG93KDIsciksbz1bWy0xLDEsLTEsMV0sWzEsMSwtMSwxXSxbMSwtMSwtMSwxXSxbLTEsLTEsLTEsMV0sWy0xLDEsMSwxXSxbMSwxLDEsMV0sWzEsLTEsMSwxXSxbLTEsLTEsMSwxXV0ubWFwKHI9Pntjb25zdCBvPSRsKFtdLHIsZSksYT0xL29bM10vdCppO3JldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXSpyWzBdLGVbMV09dFsxXSpyWzFdLGVbMl09dFsyXSpyWzJdLGVbM109dFszXSpyWzNdLGV9KG8sbyxbYSxhLG4/MS9vWzNdOmEsYV0pfSksYT1bWzAsMSwyXSxbNiw1LDRdLFswLDMsN10sWzIsMSw1XSxbMywyLDZdLFswLDQsNV1dLm1hcChlPT57Y29uc3QgdD1MbChbXSxCbChbXSxObChbXSxvW2VbMF1dLG9bZVsxXV0pLE5sKFtdLG9bZVsyXV0sb1tlWzFdXSkpKSxyPS1PbCh0LG9bZVsxXV0pO3JldHVybiB0LmNvbmNhdChyKX0pO3JldHVybiBuZXcgZWMobyxhKX19Y2xhc3MgdGN7c3RhdGljIGZyb21Qb2ludHMoZSl7Y29uc3QgdD1bMS8wLDEvMCwxLzBdLHI9Wy0xLzAsLTEvMCwtMS8wXTtmb3IoY29uc3QgbiBvZiBlKVBsKHQsdCxuKSx6bChyLHIsbik7cmV0dXJuIG5ldyB0Yyh0LHIpfXN0YXRpYyBhcHBseVRyYW5zZm9ybShlLHQpe2NvbnN0IHI9ZS5nZXRDb3JuZXJzKCk7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDsrK2UpRmwocltlXSxyW2VdLHQpO3JldHVybiB0Yy5mcm9tUG9pbnRzKHIpfWNvbnN0cnVjdG9yKGUsdCl7dGhpcy5taW49ZSx0aGlzLm1heD10LHRoaXMuY2VudGVyPURsKFtdLGtsKFtdLHRoaXMubWluLHRoaXMubWF4KSwuNSl9cXVhZHJhbnQoZSl7Y29uc3QgdD1bZSUyPT0wLGU8Ml0scj1TbCh0aGlzLm1pbiksbj1TbCh0aGlzLm1heCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspcltlXT10W2VdP3RoaXMubWluW2VdOnRoaXMuY2VudGVyW2VdLG5bZV09dFtlXT90aGlzLmNlbnRlcltlXTp0aGlzLm1heFtlXTtyZXR1cm4gblsyXT10aGlzLm1heFsyXSxuZXcgdGMocixuKX1kaXN0YW5jZVgoZSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzBdLGVbMF0pLHRoaXMubWluWzBdKS1lWzBdfWRpc3RhbmNlWShlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMV0sZVsxXSksdGhpcy5taW5bMV0pLWVbMV19ZGlzdGFuY2VaKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsyXSxlWzJdKSx0aGlzLm1pblsyXSktZVsyXX1nZXRDb3JuZXJzKCl7Y29uc3QgZT10aGlzLm1pbix0PXRoaXMubWF4O3JldHVybltbZVswXSxlWzFdLGVbMl1dLFt0WzBdLGVbMV0sZVsyXV0sW3RbMF0sdFsxXSxlWzJdXSxbZVswXSx0WzFdLGVbMl1dLFtlWzBdLGVbMV0sdFsyXV0sW3RbMF0sZVsxXSx0WzJdXSxbdFswXSx0WzFdLHRbMl1dLFtlWzBdLHRbMV0sdFsyXV1dfWludGVyc2VjdHMoZSl7Y29uc3QgdD10aGlzLmdldENvcm5lcnMoKTtsZXQgcj0hMDtmb3IobGV0IG49MDtuPGUucGxhbmVzLmxlbmd0aDtuKyspe2NvbnN0IGk9ZS5wbGFuZXNbbl07bGV0IG89MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylvKz1PbChpLHRbZV0pK2lbM10+PTA7aWYoMD09PW8pcmV0dXJuIDA7byE9PXQubGVuZ3RoJiYocj0hMSl9aWYocilyZXR1cm4gMjtmb3IobGV0IHQ9MDt0PDM7dCsrKXtsZXQgcj1OdW1iZXIuTUFYX1ZBTFVFLG49LU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCBpPTA7aTxlLnBvaW50cy5sZW5ndGg7aSsrKXtjb25zdCBvPWUucG9pbnRzW2ldW3RdLXRoaXMubWluW3RdO3I9TWF0aC5taW4ocixvKSxuPU1hdGgubWF4KG4sbyl9aWYobjwwfHxyPnRoaXMubWF4W3RdLXRoaXMubWluW3RdKXJldHVybiAwfXJldHVybiAxfX1mdW5jdGlvbiByYyhlLHQscixuLGksbyxhLHMsbCl7aWYobyYmZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiExO28mJihsKj1lLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpO2NvbnN0IGM9ZS50aWxlSUQuY2Fub25pY2FsLHU9ci5wcm9qZWN0aW9uLnVwVmVjdG9yU2NhbGUoYyxyLmNlbnRlci5sYXQsci53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtmb3IoY29uc3QgaCBvZiB0KWZvcihjb25zdCB0IG9mIGgpe2NvbnN0IGg9dC5hZGQocyksZD1pJiZyLmVsZXZhdGlvbj9yLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSppLmdldEVsZXZhdGlvbkF0KGgueCxoLnksITApOjAscD1yLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChoLngsaC55LGMpO2lmKGQ+MCl7Y29uc3QgZT1yLnByb2plY3Rpb24udXBWZWN0b3IoYyxoLngsaC55KTtwLngrPWVbMF0qdSpkLHAueSs9ZVsxXSp1KmQscC56Kz1lWzJdKnUqZH1jb25zdCBmPW8/aDpuYyhwLngscC55LHAueixuKSxtPW8/ZS50aWxlc3BhY2VSYXlzLm1hcChlPT5hYyhlLGQpKTplLnF1ZXJ5R2VvbWV0cnkuc2NyZWVuR2VvbWV0cnksZz0kbChbXSxbcC54LHAueSxwLnosMV0sbik7aWYoIWEmJm8/bCo9Z1szXS9yLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6YSYmIW8mJihsKj1yLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZ1szXSksbyl7Y29uc3QgZT1BcygodC55L3ZzK2MueSkvKDE8PGMueikpO2wvPXIucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcihlLDEpL01zKDEsZSl9aWYoV3MobSxmLGwpKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG5jKGUsdCxyLG4pe2NvbnN0IGk9JGwoW10sW2UsdCxyLDFdLG4pO3JldHVybiBuZXcgbShpWzBdL2lbM10saVsxXS9pWzNdKX1jb25zdCBpYz1NbCgwLDAsMCksb2M9TWwoMCwwLDEpO2Z1bmN0aW9uIGFjKGUsdCl7Y29uc3Qgcj1FbCgpO3JldHVybiBpY1syXT10LGUuaW50ZXJzZWN0c1BsYW5lKGljLG9jLHIpLG5ldyBtKHJbMF0sclsxXSl9Y2xhc3Mgc2MgZXh0ZW5kcyBac3t9ZnVuY3Rpb24gbGMoZSx7d2lkdGg6dCxoZWlnaHQ6cn0sbixpKXtpZihpKXtpZihpIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpaT1uZXcgVWludDhBcnJheShpLmJ1ZmZlcik7ZWxzZSBpZihpLmxlbmd0aCE9PXQqcipuKXRocm93IG5ldyBSYW5nZUVycm9yKFwibWlzbWF0Y2hlZCBpbWFnZSBzaXplXCIpfWVsc2UgaT1uZXcgVWludDhBcnJheSh0KnIqbik7cmV0dXJuIGUud2lkdGg9dCxlLmhlaWdodD1yLGUuZGF0YT1pLGV9ZnVuY3Rpb24gY2MoZSx0LHIpe2NvbnN0e3dpZHRoOm4saGVpZ2h0Oml9PXQ7bj09PWUud2lkdGgmJmk9PT1lLmhlaWdodHx8KHVjKGUsdCx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbihlLndpZHRoLG4pLGhlaWdodDpNYXRoLm1pbihlLmhlaWdodCxpKX0sciksZS53aWR0aD1uLGUuaGVpZ2h0PWksZS5kYXRhPXQuZGF0YSl9ZnVuY3Rpb24gdWMoZSx0LHIsbixpLG8pe2lmKDA9PT1pLndpZHRofHwwPT09aS5oZWlnaHQpcmV0dXJuIHQ7aWYoaS53aWR0aD5lLndpZHRofHxpLmhlaWdodD5lLmhlaWdodHx8ci54PmUud2lkdGgtaS53aWR0aHx8ci55PmUuaGVpZ2h0LWkuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtpZihpLndpZHRoPnQud2lkdGh8fGkuaGVpZ2h0PnQuaGVpZ2h0fHxuLng+dC53aWR0aC1pLndpZHRofHxuLnk+dC5oZWlnaHQtaS5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgZGVzdGluYXRpb24gY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7Y29uc3QgYT1lLmRhdGEscz10LmRhdGE7Zm9yKGxldCBsPTA7bDxpLmhlaWdodDtsKyspe2NvbnN0IGM9KChyLnkrbCkqZS53aWR0aCtyLngpKm8sdT0oKG4ueStsKSp0LndpZHRoK24ueCkqbztmb3IobGV0IGU9MDtlPGkud2lkdGgqbztlKyspc1t1K2VdPWFbYytlXX1yZXR1cm4gdH1JaShzYyxcIkhlYXRtYXBCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjbGFzcyBoY3tjb25zdHJ1Y3RvcihlLHQpe2xjKHRoaXMsZSwxLHQpfXJlc2l6ZShlKXtjYyh0aGlzLG5ldyBoYyhlKSwxKX1jbG9uZSgpe3JldHVybiBuZXcgaGMoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX1zdGF0aWMgY29weShlLHQscixuLGkpe3VjKGUsdCxyLG4saSwxKX19Y2xhc3MgZGN7Y29uc3RydWN0b3IoZSx0KXtsYyh0aGlzLGUsNCx0KX1yZXNpemUoZSl7Y2ModGhpcyxuZXcgZGMoZSksNCl9cmVwbGFjZShlLHQpe3Q/dGhpcy5kYXRhLnNldChlKTp0aGlzLmRhdGE9ZSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P25ldyBVaW50OEFycmF5KGUuYnVmZmVyKTplfWNsb25lKCl7cmV0dXJuIG5ldyBkYyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfXN0YXRpYyBjb3B5KGUsdCxyLG4saSl7dWMoZSx0LHIsbixpLDQpfX1JaShoYyxcIkFscGhhSW1hZ2VcIiksSWkoZGMsXCJSR0JBSW1hZ2VcIik7dmFyIHBjPXtwYWludDpuZXcgcW8oe1wiaGVhdG1hcC1yYWRpdXNcIjpuZXcgVW8oWWUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtcmFkaXVzXCJdKSxcImhlYXRtYXAtd2VpZ2h0XCI6bmV3IFVvKFllLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXdlaWdodFwiXSksXCJoZWF0bWFwLWludGVuc2l0eVwiOm5ldyBqbyhZZS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1pbnRlbnNpdHlcIl0pLFwiaGVhdG1hcC1jb2xvclwiOm5ldyBHbyhZZS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1jb2xvclwiXSksXCJoZWF0bWFwLW9wYWNpdHlcIjpuZXcgam8oWWUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtb3BhY2l0eVwiXSl9KX07ZnVuY3Rpb24gZmMoZSl7Y29uc3QgdD17fSxyPWUucmVzb2x1dGlvbnx8MjU2LG49ZS5jbGlwcz9lLmNsaXBzLmxlbmd0aDoxLGk9ZS5pbWFnZXx8bmV3IGRjKHt3aWR0aDpyLGhlaWdodDpufSksbz0ocixuLG8pPT57dFtlLmV2YWx1YXRpb25LZXldPW87Y29uc3QgYT1lLmV4cHJlc3Npb24uZXZhbHVhdGUodCk7aS5kYXRhW3IrbiswXT1NYXRoLmZsb29yKDI1NSphLnIvYS5hKSxpLmRhdGFbcituKzFdPU1hdGguZmxvb3IoMjU1KmEuZy9hLmEpLGkuZGF0YVtyK24rMl09TWF0aC5mbG9vcigyNTUqYS5iL2EuYSksaS5kYXRhW3IrbiszXT1NYXRoLmZsb29yKDI1NSphLmEpfTtpZihlLmNsaXBzKWZvcihsZXQgdD0wLGk9MDt0PG47Kyt0LGkrPTQqcilmb3IobGV0IG49MCxhPTA7bjxyO24rKyxhKz00KXtjb25zdCBzPW4vKHItMSkse3N0YXJ0OmwsZW5kOmN9PWUuY2xpcHNbdF07byhpLGEsbCooMS1zKStjKnMpfWVsc2UgZm9yKGxldCBlPTAsdD0wO2U8cjtlKyssdCs9NClvKDAsdCxlLyhyLTEpKTtyZXR1cm4gaX12YXIgbWM9e3BhaW50Om5ldyBxbyh7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOm5ldyBqbyhZZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiXSksXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOm5ldyBqbyhZZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiXSksXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6bmV3IGpvKFllLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIl0pLFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOm5ldyBqbyhZZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjpuZXcgam8oWWUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiXSksXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6bmV3IGpvKFllLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIl0pfSl9O2NvbnN0IGdjPUhvKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCkse21lbWJlcnM6X2N9PWdjO3ZhciB5Yz17ZXhwb3J0czp7fX07ZnVuY3Rpb24gdmMoZSx0LHIpe3I9cnx8Mjt2YXIgbixpLG8sYSxzLGwsYyx1PXQmJnQubGVuZ3RoLGg9dT90WzBdKnI6ZS5sZW5ndGgsZD14YyhlLDAsaCxyLCEwKSxwPVtdO2lmKCFkfHxkLm5leHQ9PT1kLnByZXYpcmV0dXJuIHA7aWYodSYmKGQ9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGksbyxhLHM9W107Zm9yKGk9MCxvPXQubGVuZ3RoO2k8bztpKyspKGE9eGMoZSx0W2ldKm4saTxvLTE/dFtpKzFdKm46ZS5sZW5ndGgsbiwhMSkpPT09YS5uZXh0JiYoYS5zdGVpbmVyPSEwKSxzLnB1c2goUGMoYSkpO2ZvcihzLnNvcnQoTWMpLGk9MDtpPHMubGVuZ3RoO2krKylyPWtjKHNbaV0scik7cmV0dXJuIHJ9KGUsdCxkLHIpKSxlLmxlbmd0aD44MCpyKXtuPW89ZVswXSxpPWE9ZVsxXTtmb3IodmFyIGY9cjtmPGg7Zis9cikocz1lW2ZdKTxuJiYobj1zKSwobD1lW2YrMV0pPGkmJihpPWwpLHM+byYmKG89cyksbD5hJiYoYT1sKTtjPTAhPT0oYz1NYXRoLm1heChvLW4sYS1pKSk/MzI3NjcvYzowfXJldHVybiB3YyhkLHAscixuLGksYywwKSxwfWZ1bmN0aW9uIHhjKGUsdCxyLG4saSl7dmFyIG8sYTtpZihpPT09cWMoZSx0LHIsbik+MClmb3Iobz10O288cjtvKz1uKWE9TmMobyxlW29dLGVbbysxXSxhKTtlbHNlIGZvcihvPXItbjtvPj10O28tPW4pYT1OYyhvLGVbb10sZVtvKzFdLGEpO3JldHVybiBhJiZMYyhhLGEubmV4dCkmJihWYyhhKSxhPWEubmV4dCksYX1mdW5jdGlvbiBiYyhlLHQpe2lmKCFlKXJldHVybiBlO3R8fCh0PWUpO3ZhciByLG49ZTtkb3tpZihyPSExLG4uc3RlaW5lcnx8IUxjKG4sbi5uZXh0KSYmMCE9PVJjKG4ucHJldixuLG4ubmV4dCkpbj1uLm5leHQ7ZWxzZXtpZihWYyhuKSwobj10PW4ucHJldik9PT1uLm5leHQpYnJlYWs7cj0hMH19d2hpbGUocnx8biE9PXQpO3JldHVybiB0fWZ1bmN0aW9uIHdjKGUsdCxyLG4saSxvLGEpe2lmKGUpeyFhJiZvJiZmdW5jdGlvbihlLHQscixuKXt2YXIgaT1lO2RvezA9PT1pLnomJihpLno9SWMoaS54LGkueSx0LHIsbikpLGkucHJldlo9aS5wcmV2LGkubmV4dFo9aS5uZXh0LGk9aS5uZXh0fXdoaWxlKGkhPT1lKTtpLnByZXZaLm5leHRaPW51bGwsaS5wcmV2Wj1udWxsLGZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLG8sYSxzLGwsYz0xO2Rve2ZvcihyPWUsZT1udWxsLG89bnVsbCxhPTA7cjspe2ZvcihhKyssbj1yLHM9MCx0PTA7dDxjJiYocysrLG49bi5uZXh0Wik7dCsrKTtmb3IobD1jO3M+MHx8bD4wJiZuOykwIT09cyYmKDA9PT1sfHwhbnx8ci56PD1uLnopPyhpPXIscj1yLm5leHRaLHMtLSk6KGk9bixuPW4ubmV4dFosbC0tKSxvP28ubmV4dFo9aTplPWksaS5wcmV2Wj1vLG89aTtyPW59by5uZXh0Wj1udWxsLGMqPTJ9d2hpbGUoYT4xKX0oaSl9KGUsbixpLG8pO2Zvcih2YXIgcyxsLGM9ZTtlLnByZXYhPT1lLm5leHQ7KWlmKHM9ZS5wcmV2LGw9ZS5uZXh0LG8/RWMoZSxuLGksbyk6VGMoZSkpdC5wdXNoKHMuaS9yfDApLHQucHVzaChlLmkvcnwwKSx0LnB1c2gobC5pL3J8MCksVmMoZSksZT1sLm5leHQsYz1sLm5leHQ7ZWxzZSBpZigoZT1sKT09PWMpe2E/MT09PWE/d2MoZT1TYyhiYyhlKSx0LHIpLHQscixuLGksbywyKToyPT09YSYmQ2MoZSx0LHIsbixpLG8pOndjKGJjKGUpLHQscixuLGksbywxKTticmVha319fWZ1bmN0aW9uIFRjKGUpe3ZhciB0PWUucHJldixyPWUsbj1lLm5leHQ7aWYoUmModCxyLG4pPj0wKXJldHVybiExO2Zvcih2YXIgaT10Lngsbz1yLngsYT1uLngscz10LnksbD1yLnksYz1uLnksdT1pPG8/aTxhP2k6YTpvPGE/bzphLGg9czxsP3M8Yz9zOmM6bDxjP2w6YyxkPWk+bz9pPmE/aTphOm8+YT9vOmEscD1zPmw/cz5jP3M6YzpsPmM/bDpjLGY9bi5uZXh0O2YhPT10Oyl7aWYoZi54Pj11JiZmLng8PWQmJmYueT49aCYmZi55PD1wJiZ6YyhpLHMsbyxsLGEsYyxmLngsZi55KSYmUmMoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBFYyhlLHQscixuKXt2YXIgaT1lLnByZXYsbz1lLGE9ZS5uZXh0O2lmKFJjKGksbyxhKT49MClyZXR1cm4hMTtmb3IodmFyIHM9aS54LGw9by54LGM9YS54LHU9aS55LGg9by55LGQ9YS55LHA9czxsP3M8Yz9zOmM6bDxjP2w6YyxmPXU8aD91PGQ/dTpkOmg8ZD9oOmQsbT1zPmw/cz5jP3M6YzpsPmM/bDpjLGc9dT5oP3U+ZD91OmQ6aD5kP2g6ZCxfPUljKHAsZix0LHIsbikseT1JYyhtLGcsdCxyLG4pLHY9ZS5wcmV2Wix4PWUubmV4dFo7diYmdi56Pj1fJiZ4JiZ4Lno8PXk7KXtpZih2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PWcmJnYhPT1pJiZ2IT09YSYmemMocyx1LGwsaCxjLGQsdi54LHYueSkmJlJjKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuITE7aWYodj12LnByZXZaLHgueD49cCYmeC54PD1tJiZ4Lnk+PWYmJngueTw9ZyYmeCE9PWkmJnghPT1hJiZ6YyhzLHUsbCxoLGMsZCx4LngseC55KSYmUmMoeC5wcmV2LHgseC5uZXh0KT49MClyZXR1cm4hMTt4PXgubmV4dFp9Zm9yKDt2JiZ2Lno+PV87KXtpZih2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PWcmJnYhPT1pJiZ2IT09YSYmemMocyx1LGwsaCxjLGQsdi54LHYueSkmJlJjKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuITE7dj12LnByZXZafWZvcig7eCYmeC56PD15Oyl7aWYoeC54Pj1wJiZ4Lng8PW0mJngueT49ZiYmeC55PD1nJiZ4IT09aSYmeCE9PWEmJnpjKHMsdSxsLGgsYyxkLHgueCx4LnkpJiZSYyh4LnByZXYseCx4Lm5leHQpPj0wKXJldHVybiExO3g9eC5uZXh0Wn1yZXR1cm4hMH1mdW5jdGlvbiBTYyhlLHQscil7dmFyIG49ZTtkb3t2YXIgaT1uLnByZXYsbz1uLm5leHQubmV4dDshTGMoaSxvKSYmT2MoaSxuLG4ubmV4dCxvKSYmamMoaSxvKSYmamMobyxpKSYmKHQucHVzaChpLmkvcnwwKSx0LnB1c2gobi5pL3J8MCksdC5wdXNoKG8uaS9yfDApLFZjKG4pLFZjKG4ubmV4dCksbj1lPW8pLG49bi5uZXh0fXdoaWxlKG4hPT1lKTtyZXR1cm4gYmMobil9ZnVuY3Rpb24gQ2MoZSx0LHIsbixpLG8pe3ZhciBhPWU7ZG97Zm9yKHZhciBzPWEubmV4dC5uZXh0O3MhPT1hLnByZXY7KXtpZihhLmkhPT1zLmkmJkRjKGEscykpe3ZhciBsPVVjKGEscyk7cmV0dXJuIGE9YmMoYSxhLm5leHQpLGw9YmMobCxsLm5leHQpLHdjKGEsdCxyLG4saSxvLDApLHZvaWQgd2MobCx0LHIsbixpLG8sMCl9cz1zLm5leHR9YT1hLm5leHR9d2hpbGUoYSE9PWUpfWZ1bmN0aW9uIE1jKGUsdCl7cmV0dXJuIGUueC10Lnh9ZnVuY3Rpb24ga2MoZSx0KXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciByLG49dCxpPWUueCxvPWUueSxhPS0xLzA7ZG97aWYobzw9bi55JiZvPj1uLm5leHQueSYmbi5uZXh0LnkhPT1uLnkpe3ZhciBzPW4ueCsoby1uLnkpKihuLm5leHQueC1uLngpLyhuLm5leHQueS1uLnkpO2lmKHM8PWkmJnM+YSYmKGE9cyxyPW4ueDxuLm5leHQueD9uOm4ubmV4dCxzPT09aSkpcmV0dXJuIHJ9bj1uLm5leHR9d2hpbGUobiE9PXQpO2lmKCFyKXJldHVybiBudWxsO3ZhciBsLGM9cix1PXIueCxoPXIueSxkPTEvMDtuPXI7ZG97aT49bi54JiZuLng+PXUmJmkhPT1uLngmJnpjKG88aD9pOmEsbyx1LGgsbzxoP2E6aSxvLG4ueCxuLnkpJiYobD1NYXRoLmFicyhvLW4ueSkvKGktbi54KSxqYyhuLGUpJiYobDxkfHxsPT09ZCYmKG4ueD5yLnh8fG4ueD09PXIueCYmQWMocixuKSkpJiYocj1uLGQ9bCkpLG49bi5uZXh0fXdoaWxlKG4hPT1jKTtyZXR1cm4gcn0oZSx0KTtpZighcilyZXR1cm4gdDt2YXIgbj1VYyhyLGUpO3JldHVybiBiYyhuLG4ubmV4dCksYmMocixyLm5leHQpfWZ1bmN0aW9uIEFjKGUsdCl7cmV0dXJuIFJjKGUucHJldixlLHQucHJldik8MCYmUmModC5uZXh0LGUsZS5uZXh0KTwwfWZ1bmN0aW9uIEljKGUsdCxyLG4saSl7cmV0dXJuKGU9MTQzMTY1NTc2NSYoKGU9ODU4OTkzNDU5JigoZT0yNTI2NDUxMzUmKChlPTE2NzExOTM1JigoZT0oZS1yKSppfDApfGU8PDgpKXxlPDw0KSl8ZTw8MikpfGU8PDEpKXwodD0xNDMxNjU1NzY1JigodD04NTg5OTM0NTkmKCh0PTI1MjY0NTEzNSYoKHQ9MTY3MTE5MzUmKCh0PSh0LW4pKml8MCl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpPDwxfWZ1bmN0aW9uIFBjKGUpe3ZhciB0PWUscj1lO2Rveyh0Lng8ci54fHx0Lng9PT1yLngmJnQueTxyLnkpJiYocj10KSx0PXQubmV4dH13aGlsZSh0IT09ZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gemMoZSx0LHIsbixpLG8sYSxzKXtyZXR1cm4oaS1hKSoodC1zKT49KGUtYSkqKG8tcykmJihlLWEpKihuLXMpPj0oci1hKSoodC1zKSYmKHItYSkqKG8tcyk+PShpLWEpKihuLXMpfWZ1bmN0aW9uIERjKGUsdCl7cmV0dXJuIGUubmV4dC5pIT09dC5pJiZlLnByZXYuaSE9PXQuaSYmIWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtkb3tpZihyLmkhPT1lLmkmJnIubmV4dC5pIT09ZS5pJiZyLmkhPT10LmkmJnIubmV4dC5pIT09dC5pJiZPYyhyLHIubmV4dCxlLHQpKXJldHVybiEwO3I9ci5uZXh0fXdoaWxlKHIhPT1lKTtyZXR1cm4hMX0oZSx0KSYmKGpjKGUsdCkmJmpjKHQsZSkmJmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPSExLGk9KGUueCt0LngpLzIsbz0oZS55K3QueSkvMjtkb3tyLnk+byE9ci5uZXh0Lnk+byYmci5uZXh0LnkhPT1yLnkmJmk8KHIubmV4dC54LXIueCkqKG8tci55KS8oci5uZXh0Lnktci55KStyLngmJihuPSFuKSxyPXIubmV4dH13aGlsZShyIT09ZSk7cmV0dXJuIG59KGUsdCkmJihSYyhlLnByZXYsZSx0LnByZXYpfHxSYyhlLHQucHJldix0KSl8fExjKGUsdCkmJlJjKGUucHJldixlLGUubmV4dCk+MCYmUmModC5wcmV2LHQsdC5uZXh0KT4wKX1mdW5jdGlvbiBSYyhlLHQscil7cmV0dXJuKHQueS1lLnkpKihyLngtdC54KS0odC54LWUueCkqKHIueS10LnkpfWZ1bmN0aW9uIExjKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55fWZ1bmN0aW9uIE9jKGUsdCxyLG4pe3ZhciBpPUZjKFJjKGUsdCxyKSksbz1GYyhSYyhlLHQsbikpLGE9RmMoUmMocixuLGUpKSxzPUZjKFJjKHIsbix0KSk7cmV0dXJuIGkhPT1vJiZhIT09c3x8ISgwIT09aXx8IUJjKGUscix0KSl8fCEoMCE9PW98fCFCYyhlLG4sdCkpfHwhKDAhPT1hfHwhQmMocixlLG4pKXx8ISgwIT09c3x8IUJjKHIsdCxuKSl9ZnVuY3Rpb24gQmMoZSx0LHIpe3JldHVybiB0Lng8PU1hdGgubWF4KGUueCxyLngpJiZ0Lng+PU1hdGgubWluKGUueCxyLngpJiZ0Lnk8PU1hdGgubWF4KGUueSxyLnkpJiZ0Lnk+PU1hdGgubWluKGUueSxyLnkpfWZ1bmN0aW9uIEZjKGUpe3JldHVybiBlPjA/MTplPDA/LTE6MH1mdW5jdGlvbiBqYyhlLHQpe3JldHVybiBSYyhlLnByZXYsZSxlLm5leHQpPDA/UmMoZSx0LGUubmV4dCk+PTAmJlJjKGUsZS5wcmV2LHQpPj0wOlJjKGUsdCxlLnByZXYpPDB8fFJjKGUsZS5uZXh0LHQpPDB9ZnVuY3Rpb24gVWMoZSx0KXt2YXIgcj1uZXcgR2MoZS5pLGUueCxlLnkpLG49bmV3IEdjKHQuaSx0LngsdC55KSxpPWUubmV4dCxvPXQucHJldjtyZXR1cm4gZS5uZXh0PXQsdC5wcmV2PWUsci5uZXh0PWksaS5wcmV2PXIsbi5uZXh0PXIsci5wcmV2PW4sby5uZXh0PW4sbi5wcmV2PW8sbn1mdW5jdGlvbiBOYyhlLHQscixuKXt2YXIgaT1uZXcgR2MoZSx0LHIpO3JldHVybiBuPyhpLm5leHQ9bi5uZXh0LGkucHJldj1uLG4ubmV4dC5wcmV2PWksbi5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiBWYyhlKXtlLm5leHQucHJldj1lLnByZXYsZS5wcmV2Lm5leHQ9ZS5uZXh0LGUucHJldlomJihlLnByZXZaLm5leHRaPWUubmV4dFopLGUubmV4dFomJihlLm5leHRaLnByZXZaPWUucHJldlopfWZ1bmN0aW9uIEdjKGUsdCxyKXt0aGlzLmk9ZSx0aGlzLng9dCx0aGlzLnk9cix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9MCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX1mdW5jdGlvbiBxYyhlLHQscixuKXtmb3IodmFyIGk9MCxvPXQsYT1yLW47bzxyO28rPW4paSs9KGVbYV0tZVtvXSkqKGVbbysxXStlW2ErMV0pLGE9bztyZXR1cm4gaX1mdW5jdGlvbiBaYyhlLHQscixuLGkpeyFmdW5jdGlvbiBlKHQscixuLGksbyl7Zm9yKDtpPm47KXtpZihpLW4+NjAwKXt2YXIgYT1pLW4rMSxzPXItbisxLGw9TWF0aC5sb2coYSksYz0uNSpNYXRoLmV4cCgyKmwvMyksdT0uNSpNYXRoLnNxcnQobCpjKihhLWMpL2EpKihzLWEvMjwwPy0xOjEpO2UodCxyLE1hdGgubWF4KG4sTWF0aC5mbG9vcihyLXMqYy9hK3UpKSxNYXRoLm1pbihpLE1hdGguZmxvb3IocisoYS1zKSpjL2ErdSkpLG8pfXZhciBoPXRbcl0sZD1uLHA9aTtmb3IoJGModCxuLHIpLG8odFtpXSxoKT4wJiYkYyh0LG4saSk7ZDxwOyl7Zm9yKCRjKHQsZCxwKSxkKysscC0tO28odFtkXSxoKTwwOylkKys7Zm9yKDtvKHRbcF0saCk+MDspcC0tfTA9PT1vKHRbbl0saCk/JGModCxuLHApOiRjKHQsKytwLGkpLHA8PXImJihuPXArMSkscjw9cCYmKGk9cC0xKX19KGUsdCxyfHwwLG58fGUubGVuZ3RoLTEsaXx8V2MpfWZ1bmN0aW9uICRjKGUsdCxyKXt2YXIgbj1lW3RdO2VbdF09ZVtyXSxlW3JdPW59ZnVuY3Rpb24gV2MoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gWGMoZSx0KXtjb25zdCByPWUubGVuZ3RoO2lmKHI8PTEpcmV0dXJuW2VdO2NvbnN0IG49W107bGV0IGksbztmb3IobGV0IHQ9MDt0PHI7dCsrKXtjb25zdCByPXEoZVt0XSk7MCE9PXImJihlW3RdLmFyZWE9TWF0aC5hYnMociksdm9pZCAwPT09byYmKG89cjwwKSxvPT09cjwwPyhpJiZuLnB1c2goaSksaT1bZVt0XV0pOmkucHVzaChlW3RdKSl9aWYoaSYmbi5wdXNoKGkpLHQ+MSlmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyluW2VdLmxlbmd0aDw9dHx8KFpjKG5bZV0sdCwxLG5bZV0ubGVuZ3RoLTEsSGMpLG5bZV09bltlXS5zbGljZSgwLHQpKTtyZXR1cm4gbn1mdW5jdGlvbiBIYyhlLHQpe3JldHVybiB0LmFyZWEtZS5hcmVhfWZ1bmN0aW9uIFljKGUsdCxyKXtjb25zdCBuPXIucGF0dGVybkRlcGVuZGVuY2llcztsZXQgaT0hMTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PXIucGFpbnQuZ2V0KGUrXCItcGF0dGVyblwiKTt0LmlzQ29uc3RhbnQoKXx8KGk9ITApO2NvbnN0IG89dC5jb25zdGFudE9yKG51bGwpO28mJihpPSEwLG5bby50b109ITAsbltvLmZyb21dPSEwKX1yZXR1cm4gaX1mdW5jdGlvbiBLYyhlLHQscixuLGkpe2NvbnN0IG89aS5wYXR0ZXJuRGVwZW5kZW5jaWVzO2Zvcihjb25zdCBhIG9mIHQpe2NvbnN0IHQ9YS5wYWludC5nZXQoZStcIi1wYXR0ZXJuXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PXQua2luZCl7bGV0IGU9dC5ldmFsdWF0ZSh7em9vbTpuLTF9LHIse30saS5hdmFpbGFibGVJbWFnZXMpLHM9dC5ldmFsdWF0ZSh7em9vbTpufSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKSxsPXQuZXZhbHVhdGUoe3pvb206bisxfSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKTtlPWUmJmUubmFtZT9lLm5hbWU6ZSxzPXMmJnMubmFtZT9zLm5hbWU6cyxsPWwmJmwubmFtZT9sLm5hbWU6bCxvW2VdPSEwLG9bc109ITAsb1tsXT0hMCxyLnBhdHRlcm5zW2EuaWRdPXttaW46ZSxtaWQ6cyxtYXg6bH19fXJldHVybiByfXljLmV4cG9ydHM9dmMseWMuZXhwb3J0cy5kZWZhdWx0PXZjLHZjLmRldmlhdGlvbj1mdW5jdGlvbihlLHQscixuKXt2YXIgaT10JiZ0Lmxlbmd0aCxvPU1hdGguYWJzKHFjKGUsMCxpP3RbMF0qcjplLmxlbmd0aCxyKSk7aWYoaSlmb3IodmFyIGE9MCxzPXQubGVuZ3RoO2E8czthKyspby09TWF0aC5hYnMocWMoZSx0W2FdKnIsYTxzLTE/dFthKzFdKnI6ZS5sZW5ndGgscikpO3ZhciBsPTA7Zm9yKGE9MDthPG4ubGVuZ3RoO2ErPTMpe3ZhciBjPW5bYV0qcix1PW5bYSsxXSpyLGg9blthKzJdKnI7bCs9TWF0aC5hYnMoKGVbY10tZVtoXSkqKGVbdSsxXS1lW2MrMV0pLShlW2NdLWVbdV0pKihlW2grMV0tZVtjKzFdKSl9cmV0dXJuIDA9PT1vJiYwPT09bD8wOk1hdGguYWJzKChsLW8pL28pfSx2Yy5mbGF0dGVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lWzBdWzBdLmxlbmd0aCxyPXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOnR9LG49MCxpPTA7aTxlLmxlbmd0aDtpKyspe2Zvcih2YXIgbz0wO288ZVtpXS5sZW5ndGg7bysrKWZvcih2YXIgYT0wO2E8dDthKyspci52ZXJ0aWNlcy5wdXNoKGVbaV1bb11bYV0pO2k+MCYmci5ob2xlcy5wdXNoKG4rPWVbaS0xXS5sZW5ndGgpfXJldHVybiByfTtjbGFzcyBKY3tjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IEtvLHRoaXMuaW5kZXhBcnJheT1uZXcgcGEsdGhpcy5pbmRleEFycmF5Mj1uZXcgdmEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGxzKGUubGF5ZXJzLGUuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgeXMsdGhpcy5zZWdtZW50czI9bmV3IHlzLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9ufXBvcHVsYXRlKGUsdCxyLG4pe3RoaXMuaGFzUGF0dGVybj1ZYyhcImZpbGxcIix0aGlzLmxheWVycyx0KTtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJmaWxsLXNvcnQta2V5XCIpLG89W107Zm9yKGNvbnN0e2ZlYXR1cmU6YSxpZDpzLGluZGV4Omwsc291cmNlTGF5ZXJJbmRleDpjfW9mIGUpe2NvbnN0IGU9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LHU9VnMoYSxlKTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBJbyh0aGlzLnpvb20pLHUscikpY29udGludWU7Y29uc3QgaD1pP2kuZXZhbHVhdGUodSx7fSxyLHQuYXZhaWxhYmxlSW1hZ2VzKTp2b2lkIDAsZD17aWQ6cyxwcm9wZXJ0aWVzOmEucHJvcGVydGllcyx0eXBlOmEudHlwZSxzb3VyY2VMYXllckluZGV4OmMsaW5kZXg6bCxnZW9tZXRyeTplP3UuZ2VvbWV0cnk6TnMoYSxyLG4pLHBhdHRlcm5zOnt9LHNvcnRLZXk6aH07by5wdXNoKGQpfWkmJm8uc29ydCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSk7Zm9yKGNvbnN0IG4gb2Ygbyl7Y29uc3R7Z2VvbWV0cnk6aSxpbmRleDpvLHNvdXJjZUxheWVySW5kZXg6YX09bjtpZih0aGlzLmhhc1BhdHRlcm4pe2NvbnN0IGU9S2MoXCJmaWxsXCIsdGhpcy5sYXllcnMsbix0aGlzLnpvb20sdCk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaChlKX1lbHNlIHRoaXMuYWRkRmVhdHVyZShuLGksbyxyLHt9LHQuYXZhaWxhYmxlSW1hZ2VzKTt0LmZlYXR1cmVJbmRleC5pbnNlcnQoZVtvXS5mZWF0dXJlLGksbyxhLHRoaXMuaW5kZXgpfX11cGRhdGUoZSx0LHIsbil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIsbil9YWRkRmVhdHVyZXMoZSx0LHIsbixpKXtmb3IoY29uc3QgZSBvZiB0aGlzLnBhdHRlcm5GZWF0dXJlcyl0aGlzLmFkZEZlYXR1cmUoZSxlLmdlb21ldHJ5LGUuaW5kZXgsdCxyLG4pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LF9jKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmluZGV4QnVmZmVyMj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheTIpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMH1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpfWFkZEZlYXR1cmUoZSx0LHIsbixpLG89W10pe2Zvcihjb25zdCBlIG9mIFhjKHQsNTAwKSl7bGV0IHQ9MDtmb3IoY29uc3QgciBvZiBlKXQrPXIubGVuZ3RoO2NvbnN0IHI9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCh0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxuPXIudmVydGV4TGVuZ3RoLGk9W10sbz1bXTtmb3IoY29uc3QgdCBvZiBlKXtpZigwPT09dC5sZW5ndGgpY29udGludWU7dCE9PWVbMF0mJm8ucHVzaChpLmxlbmd0aC8yKTtjb25zdCByPXRoaXMuc2VnbWVudHMyLnByZXBhcmVTZWdtZW50KHQubGVuZ3RoLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5Miksbj1yLnZlcnRleExlbmd0aDt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHRbMF0ueCx0WzBdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2sobit0Lmxlbmd0aC0xLG4pLGkucHVzaCh0WzBdLngpLGkucHVzaCh0WzBdLnkpO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXRoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodFtlXS54LHRbZV0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhuK2UtMSxuK2UpLGkucHVzaCh0W2VdLngpLGkucHVzaCh0W2VdLnkpO3IudmVydGV4TGVuZ3RoKz10Lmxlbmd0aCxyLnByaW1pdGl2ZUxlbmd0aCs9dC5sZW5ndGh9Y29uc3QgYT15Yy5leHBvcnRzKGksbyk7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKz0zKXRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhuK2FbZV0sbithW2UrMV0sbithW2UrMl0pO3IudmVydGV4TGVuZ3RoKz10LHIucHJpbWl0aXZlTGVuZ3RoKz1hLmxlbmd0aC8zfXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxyLGksbyxuKX19SWkoSmMsXCJGaWxsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJwYXR0ZXJuRmVhdHVyZXNcIl19KTtjb25zdCBRYz1uZXcgcW8oe1wiZmlsbC1zb3J0LWtleVwiOm5ldyBVbyhZZS5sYXlvdXRfZmlsbFtcImZpbGwtc29ydC1rZXlcIl0pfSk7dmFyIGV1PXtwYWludDpuZXcgcW8oe1wiZmlsbC1hbnRpYWxpYXNcIjpuZXcgam8oWWUucGFpbnRfZmlsbFtcImZpbGwtYW50aWFsaWFzXCJdKSxcImZpbGwtb3BhY2l0eVwiOm5ldyBVbyhZZS5wYWludF9maWxsW1wiZmlsbC1vcGFjaXR5XCJdKSxcImZpbGwtY29sb3JcIjpuZXcgVW8oWWUucGFpbnRfZmlsbFtcImZpbGwtY29sb3JcIl0pLFwiZmlsbC1vdXRsaW5lLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X2ZpbGxbXCJmaWxsLW91dGxpbmUtY29sb3JcIl0pLFwiZmlsbC10cmFuc2xhdGVcIjpuZXcgam8oWWUucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlXCJdKSxcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBqbyhZZS5wYWludF9maWxsW1wiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtcGF0dGVyblwiOm5ldyBObyhZZS5wYWludF9maWxsW1wiZmlsbC1wYXR0ZXJuXCJdKX0pLGxheW91dDpRY307Y29uc3QgdHU9SG8oW3tuYW1lOlwiYV9wb3Nfbm9ybWFsX2VkXCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifV0pLHJ1PUhvKFt7bmFtZTpcImFfY2VudHJvaWRfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50MTZcIn1dKSxudT1Ibyhbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pLHttZW1iZXJzOml1fT10dTt2YXIgb3U9e30sYXU9bSxzdT1sdTtmdW5jdGlvbiBsdShlLHQscixuLGkpe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1yLHRoaXMudHlwZT0wLHRoaXMuX3BiZj1lLHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9bix0aGlzLl92YWx1ZXM9aSxlLnJlYWRGaWVsZHMoY3UsdGhpcyx0KX1mdW5jdGlvbiBjdShlLHQscil7MT09ZT90LmlkPXIucmVhZFZhcmludCgpOjI9PWU/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZS5yZWFkVmFyaW50KCkrZS5wb3M7ZS5wb3M8cjspe3ZhciBuPXQuX2tleXNbZS5yZWFkVmFyaW50KCldLGk9dC5fdmFsdWVzW2UucmVhZFZhcmludCgpXTt0LnByb3BlcnRpZXNbbl09aX19KHIsdCk6Mz09ZT90LnR5cGU9ci5yZWFkVmFyaW50KCk6ND09ZSYmKHQuX2dlb21ldHJ5PXIucG9zKX1mdW5jdGlvbiB1dShlKXtmb3IodmFyIHQscixuPTAsaT0wLG89ZS5sZW5ndGgsYT1vLTE7aTxvO2E9aSsrKW4rPSgocj1lW2FdKS54LSh0PWVbaV0pLngpKih0Lnkrci55KTtyZXR1cm4gbn1sdS50eXBlcz1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXSxsdS5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGJmO2UucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgdCxyPWUucmVhZFZhcmludCgpK2UucG9zLG49MSxpPTAsbz0wLGE9MCxzPVtdO2UucG9zPHI7KXtpZihpPD0wKXt2YXIgbD1lLnJlYWRWYXJpbnQoKTtuPTcmbCxpPWw+PjN9aWYoaS0tLDE9PT1ufHwyPT09bilvKz1lLnJlYWRTVmFyaW50KCksYSs9ZS5yZWFkU1ZhcmludCgpLDE9PT1uJiYodCYmcy5wdXNoKHQpLHQ9W10pLHQucHVzaChuZXcgYXUobyxhKSk7ZWxzZXtpZig3IT09bil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGNvbW1hbmQgXCIrbik7dCYmdC5wdXNoKHRbMF0uY2xvbmUoKSl9fXJldHVybiB0JiZzLnB1c2godCksc30sbHUucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wYmY7ZS5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciB0PWUucmVhZFZhcmludCgpK2UucG9zLHI9MSxuPTAsaT0wLG89MCxhPTEvMCxzPS0xLzAsbD0xLzAsYz0tMS8wO2UucG9zPHQ7KXtpZihuPD0wKXt2YXIgdT1lLnJlYWRWYXJpbnQoKTtyPTcmdSxuPXU+PjN9aWYobi0tLDE9PT1yfHwyPT09cikoaSs9ZS5yZWFkU1ZhcmludCgpKTxhJiYoYT1pKSxpPnMmJihzPWkpLChvKz1lLnJlYWRTVmFyaW50KCkpPGwmJihsPW8pLG8+YyYmKGM9byk7ZWxzZSBpZig3IT09cil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGNvbW1hbmQgXCIrcil9cmV0dXJuW2EsbCxzLGNdfSxsdS5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixpLG89dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxhPXRoaXMuZXh0ZW50KmUscz10aGlzLmV4dGVudCp0LGw9dGhpcy5sb2FkR2VvbWV0cnkoKSxjPWx1LnR5cGVzW3RoaXMudHlwZV07ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIHI9ZVt0XTtlW3RdPVszNjAqKHIueCthKS9vLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqKHIueStzKS9vKSpNYXRoLlBJLzE4MCkpLTkwXX19c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBoPVtdO2ZvcihuPTA7bjxsLmxlbmd0aDtuKyspaFtuXT1sW25dWzBdO3UobD1oKTticmVhaztjYXNlIDI6Zm9yKG49MDtuPGwubGVuZ3RoO24rKyl1KGxbbl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD0xKXJldHVybltlXTtmb3IodmFyIHIsbixpPVtdLG89MDtvPHQ7bysrKXt2YXIgYT11dShlW29dKTswIT09YSYmKHZvaWQgMD09PW4mJihuPWE8MCksbj09PWE8MD8ociYmaS5wdXNoKHIpLHI9W2Vbb11dKTpyLnB1c2goZVtvXSkpfXJldHVybiByJiZpLnB1c2gociksaX0obCksbj0wO248bC5sZW5ndGg7bisrKWZvcihpPTA7aTxsW25dLmxlbmd0aDtpKyspdShsW25dW2ldKX0xPT09bC5sZW5ndGg/bD1sWzBdOmM9XCJNdWx0aVwiK2M7dmFyIGQ9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6Yyxjb29yZGluYXRlczpsfSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuXCJpZFwiaW4gdGhpcyYmKGQuaWQ9dGhpcy5pZCksZH07dmFyIGh1PXN1LGR1PXB1O2Z1bmN0aW9uIHB1KGUsdCl7dGhpcy52ZXJzaW9uPTEsdGhpcy5uYW1lPW51bGwsdGhpcy5leHRlbnQ9NDA5Nix0aGlzLmxlbmd0aD0wLHRoaXMuX3BiZj1lLHRoaXMuX2tleXM9W10sdGhpcy5fdmFsdWVzPVtdLHRoaXMuX2ZlYXR1cmVzPVtdLGUucmVhZEZpZWxkcyhmdSx0aGlzLHQpLHRoaXMubGVuZ3RoPXRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1mdW5jdGlvbiBmdShlLHQscil7MTU9PT1lP3QudmVyc2lvbj1yLnJlYWRWYXJpbnQoKToxPT09ZT90Lm5hbWU9ci5yZWFkU3RyaW5nKCk6NT09PWU/dC5leHRlbnQ9ci5yZWFkVmFyaW50KCk6Mj09PWU/dC5fZmVhdHVyZXMucHVzaChyLnBvcyk6Mz09PWU/dC5fa2V5cy5wdXNoKHIucmVhZFN0cmluZygpKTo0PT09ZSYmdC5fdmFsdWVzLnB1c2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW51bGwscj1lLnJlYWRWYXJpbnQoKStlLnBvcztlLnBvczxyOyl7dmFyIG49ZS5yZWFkVmFyaW50KCk+PjM7dD0xPT09bj9lLnJlYWRTdHJpbmcoKToyPT09bj9lLnJlYWRGbG9hdCgpOjM9PT1uP2UucmVhZERvdWJsZSgpOjQ9PT1uP2UucmVhZFZhcmludDY0KCk6NT09PW4/ZS5yZWFkVmFyaW50KCk6Nj09PW4/ZS5yZWFkU1ZhcmludCgpOjc9PT1uP2UucmVhZEJvb2xlYW4oKTpudWxsfXJldHVybiB0fShyKSl9cHUucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj10aGlzLl9mZWF0dXJlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZSBpbmRleCBvdXQgb2YgYm91bmRzXCIpO3RoaXMuX3BiZi5wb3M9dGhpcy5fZmVhdHVyZXNbZV07dmFyIHQ9dGhpcy5fcGJmLnJlYWRWYXJpbnQoKSt0aGlzLl9wYmYucG9zO3JldHVybiBuZXcgaHUodGhpcy5fcGJmLHQsdGhpcy5leHRlbnQsdGhpcy5fa2V5cyx0aGlzLl92YWx1ZXMpfTt2YXIgbXU9ZHU7ZnVuY3Rpb24gZ3UoZSx0LHIpe2lmKDM9PT1lKXt2YXIgbj1uZXcgbXUocixyLnJlYWRWYXJpbnQoKStyLnBvcyk7bi5sZW5ndGgmJih0W24ubmFtZV09bil9fXZhciBfdT1vdS5WZWN0b3JUaWxlPWZ1bmN0aW9uKGUsdCl7dGhpcy5sYXllcnM9ZS5yZWFkRmllbGRzKGd1LHt9LHQpfSx5dT1vdS5WZWN0b3JUaWxlRmVhdHVyZT1zdTtmdW5jdGlvbiB2dShlLHQscixuKXtjb25zdCBpPVtdLG89MD09PW4/KGUsdCxyLG4saSxvKT0+e2UucHVzaChuZXcgbShvLHIrKG8tdCkvKG4tdCkqKGktcikpKX06KGUsdCxyLG4saSxvKT0+e2UucHVzaChuZXcgbSh0KyhvLXIpLyhpLXIpKihuLXQpLG8pKX07Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiBhKXtpZihpLmxlbmd0aDw9Miljb250aW51ZTtjb25zdCBhPVtdO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGgtMTtlKyspe2NvbnN0IHM9aVtlXS54LGw9aVtlXS55LGM9aVtlKzFdLngsdT1pW2UrMV0ueSxoPTA9PT1uP3M6bCxkPTA9PT1uP2M6dTtoPHQ/ZD50JiZvKGEscyxsLGMsdSx0KTpoPnI/ZDxyJiZvKGEscyxsLGMsdSxyKTphLnB1c2goaVtlXSksZDx0JiZoPj10JiZvKGEscyxsLGMsdSx0KSxkPnImJmg8PXImJm8oYSxzLGwsYyx1LHIpfWxldCBzPWlbaS5sZW5ndGgtMV07Y29uc3QgbD0wPT09bj9zLng6cy55O2w+PXQmJmw8PXImJmEucHVzaChzKSxhLmxlbmd0aCYmKHM9YVthLmxlbmd0aC0xXSxhWzBdLng9PT1zLngmJmFbMF0ueT09PXMueXx8YS5wdXNoKGFbMF0pLGUucHVzaChhKSl9ZS5sZW5ndGgmJmkucHVzaChlKX1yZXR1cm4gaX1vdS5WZWN0b3JUaWxlTGF5ZXI9ZHU7Y29uc3QgeHU9eXUudHlwZXMsYnU9TWF0aC5wb3coMiwxMyk7ZnVuY3Rpb24gd3UoZSx0LHIsbixpLG8sYSxzKXtlLmVtcGxhY2VCYWNrKCh0PDwxKSthLChyPDwxKStvLChNYXRoLmZsb29yKG4qYnUpPDwxKStpLE1hdGgucm91bmQocykpfWZ1bmN0aW9uIFR1KGUsdCxyKXtjb25zdCBuPTE2Mzg0O2UuZW1wbGFjZUJhY2sodC54LHQueSx0LnosclswXSpuLHJbMV0qbixyWzJdKm4pfWNsYXNzIEV1e2NvbnN0cnVjdG9yKCl7dGhpcy5hY2M9bmV3IG0oMCwwKSx0aGlzLnBvbHlDb3VudD1bXX1zdGFydFJpbmcoZSl7dGhpcy5jdXJyZW50UG9seUNvdW50PXtlZGdlczowLHRvcDowfSx0aGlzLnBvbHlDb3VudC5wdXNoKHRoaXMuY3VycmVudFBvbHlDb3VudCksdGhpcy5taW58fCh0aGlzLm1pbj1uZXcgbShlLngsZS55KSx0aGlzLm1heD1uZXcgbShlLngsZS55KSl9YXBwZW5kKGUsdCl7dGhpcy5jdXJyZW50UG9seUNvdW50LmVkZ2VzKyssdGhpcy5hY2MuX2FkZChlKTtjb25zdCByPXRoaXMubWluLG49dGhpcy5tYXg7ZS54PHIueD9yLng9ZS54OmUueD5uLngmJihuLng9ZS54KSxlLnk8ci55P3IueT1lLnk6ZS55Pm4ueSYmKG4ueT1lLnkpLCgoMD09PWUueHx8ZS54PT09dnMpJiZlLng9PT10LngpIT0oKDA9PT1lLnl8fGUueT09PXZzKSYmZS55PT09dC55KSYmdGhpcy5wcm9jZXNzQm9yZGVyT3ZlcmxhcChlLHQpLHQueDwwIT1lLng8MCYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMCxDcih0LnksZS55LCgwLXQueCkvKGUueC10LngpKSksdC54PnZzIT1lLng+dnMmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDEsQ3IodC55LGUueSwodnMtdC54KS8oZS54LXQueCkpKSx0Lnk8MCE9ZS55PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDIsQ3IodC54LGUueCwoMC10LnkpLyhlLnktdC55KSkpLHQueT52cyE9ZS55PnZzJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigzLENyKHQueCxlLngsKHZzLXQueSkvKGUueS10LnkpKSl9YWRkQm9yZGVySW50ZXJzZWN0aW9uKGUsdCl7dGhpcy5ib3JkZXJzfHwodGhpcy5ib3JkZXJzPVtbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV1dKTtjb25zdCByPXRoaXMuYm9yZGVyc1tlXTt0PHJbMF0mJihyWzBdPXQpLHQ+clsxXSYmKHJbMV09dCl9cHJvY2Vzc0JvcmRlck92ZXJsYXAoZSx0KXtpZihlLng9PT10Lngpe2lmKGUueT09PXQueSlyZXR1cm47Y29uc3Qgcj0wPT09ZS54PzA6MTt0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLHQueSksdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocixlLnkpfWVsc2V7Y29uc3Qgcj0wPT09ZS55PzI6Mzt0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLHQueCksdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocixlLngpfX1jZW50cm9pZCgpe2NvbnN0IGU9dGhpcy5wb2x5Q291bnQucmVkdWNlKChlLHQpPT5lK3QuZWRnZXMsMCk7cmV0dXJuIDAhPT1lP3RoaXMuYWNjLmRpdihlKS5fcm91bmQoKTpuZXcgbSgwLDApfXNwYW4oKXtyZXR1cm4gbmV3IG0odGhpcy5tYXgueC10aGlzLm1pbi54LHRoaXMubWF4LnktdGhpcy5taW4ueSl9aW50ZXJzZWN0c0NvdW50KCl7cmV0dXJuIHRoaXMuYm9yZGVycy5yZWR1Y2UoKGUsdCk9PmUrICsodFswXSE9PU51bWJlci5NQVhfVkFMVUUpLDApfX1jbGFzcyBTdXtjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMuY2Fub25pY2FsPWUuY2Fub25pY2FsLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuZWRnZVJhZGl1cz0wLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgUW8sdGhpcy5jZW50cm9pZFZlcnRleEFycmF5PW5ldyBMYSx0aGlzLmluZGV4QXJyYXk9bmV3IHBhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBscyhlLmxheWVycyxlLnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IHlzLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKSx0aGlzLmVuYWJsZVRlcnJhaW49ZS5lbmFibGVUZXJyYWlufXBvcHVsYXRlKGUsdCxyLG4pe3RoaXMuZmVhdHVyZXM9W10sdGhpcy5oYXNQYXR0ZXJuPVljKFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyx0KSx0aGlzLmZlYXR1cmVzT25Cb3JkZXI9W10sdGhpcy5ib3JkZXJzPVtbXSxbXSxbXSxbXV0sdGhpcy5ib3JkZXJEb25lV2l0aE5laWdoYm9yWj1bLTEsLTEsLTEsLTFdLHRoaXMudGlsZVRvTWV0ZXI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLmV4cChNYXRoLlBJKigxLWUueS8oMTw8ZS56KSoyKSk7cmV0dXJuIDgwMTUwMDM0KnQvKHQqdCsxKS92cy8oMTw8ZS56KX0ociksdGhpcy5lZGdlUmFkaXVzPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKS90aGlzLnRpbGVUb01ldGVyO2Zvcihjb25zdHtmZWF0dXJlOmksaWQ6byxpbmRleDphLHNvdXJjZUxheWVySW5kZXg6c31vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxsPVZzKGksZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgSW8odGhpcy56b29tKSxsLHIpKWNvbnRpbnVlO2NvbnN0IGM9e2lkOm8sc291cmNlTGF5ZXJJbmRleDpzLGluZGV4OmEsZ2VvbWV0cnk6ZT9sLmdlb21ldHJ5Ok5zKGkscixuKSxwcm9wZXJ0aWVzOmkucHJvcGVydGllcyx0eXBlOmkudHlwZSxwYXR0ZXJuczp7fX0sdT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLmhhc1BhdHRlcm4/dGhpcy5mZWF0dXJlcy5wdXNoKEtjKFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyxjLHRoaXMuem9vbSx0KSk6dGhpcy5hZGRGZWF0dXJlKGMsYy5nZW9tZXRyeSxhLHIse30sdC5hdmFpbGFibGVJbWFnZXMsbiksdC5mZWF0dXJlSW5kZXguaW5zZXJ0KGksYy5nZW9tZXRyeSxhLHMsdGhpcy5pbmRleCx1KX10aGlzLnNvcnRCb3JkZXJzKCl9YWRkRmVhdHVyZXMoZSx0LHIsbixpKXtmb3IoY29uc3QgZSBvZiB0aGlzLmZlYXR1cmVzKXtjb25zdHtnZW9tZXRyeTpvfT1lO3RoaXMuYWRkRmVhdHVyZShlLG8sZS5pbmRleCx0LHIsbixpKX10aGlzLnNvcnRCb3JkZXJzKCl9dXBkYXRlKGUsdCxyLG4pe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyLG4pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGl1KSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmxheW91dFZlcnRleEV4dEFycmF5JiYodGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSxudS5tZW1iZXJzLCEwKSkpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwfXVwbG9hZENlbnRyb2lkKGUpezAhPT10aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoJiYodGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlcj90aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGUmJnRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkpOnRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jZW50cm9pZFZlcnRleEFycmF5LHJ1Lm1lbWJlcnMsITApLHRoaXMubmVlZHNDZW50cm9pZFVwZGF0ZT0hMSl9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXImJnRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyJiZ0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKX1hZGRGZWF0dXJlKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9W25ldyBtKDAsMCksbmV3IG0odnMsdnMpXSxsPWEucHJvamVjdGlvbixjPVwiZ2xvYmVcIj09PWwubmFtZSx1PXRoaXMuZW5hYmxlVGVycmFpbiYmIWM/bmV3IEV1Om51bGwsaD1cIlBvbHlnb25cIj09PXh1W2UudHlwZV07YyYmIXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXkmJih0aGlzLmxheW91dFZlcnRleEV4dEFycmF5PW5ldyBUYSk7Y29uc3QgZD1YYyh0LDUwMCk7Zm9yKGxldCBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9ZFtlXTsoMD09PXQubGVuZ3RofHwocD10WzBdKS5ldmVyeShlPT5lLng8PTApfHxwLmV2ZXJ5KGU9PmUueD49dnMpfHxwLmV2ZXJ5KGU9PmUueTw9MCl8fHAuZXZlcnkoZT0+ZS55Pj12cykpJiZkLnNwbGljZShlLDEpfXZhciBwO2xldCBmO2lmKGMpZj1EdShkLHMsbik7ZWxzZXtmPVtdO2Zvcihjb25zdCBlIG9mIGQpZi5wdXNoKHtwb2x5Z29uOmUsYm91bmRzOnN9KX1jb25zdCBnPWg/dGhpcy5lZGdlUmFkaXVzOjA7Zm9yKGNvbnN0e3BvbHlnb246ZSxib3VuZHM6dH1vZiBmKXtsZXQgcj0wLGk9MDtmb3IoY29uc3QgdCBvZiBlKWgmJiF0WzBdLmVxdWFscyh0W3QubGVuZ3RoLTFdKSYmdC5wdXNoKHRbMF0pLGkrPWg/dC5sZW5ndGgtMTp0Lmxlbmd0aDtjb25zdCBvPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoKGg/NTo0KSppLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtpZihoKXtjb25zdCB0PVtdLGk9W107cj1vLnZlcnRleExlbmd0aDtmb3IoY29uc3QgciBvZiBlKXtsZXQgYSxzO3IubGVuZ3RoJiZyIT09ZVswXSYmaS5wdXNoKHQubGVuZ3RoLzIpLGE9clsxXS5zdWIoclswXSkuX3BlcnAoKS5fdW5pdCgpO2ZvcihsZXQgZT0xO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBpPXJbZV0sdT1yW2U9PT1yLmxlbmd0aC0xPzE6ZSsxXTtsZXR7eDpoLHk6ZH09aTtpZihnKXtzPXUuc3ViKGkpLl9wZXJwKCkuX3VuaXQoKTtjb25zdCBlPWEuYWRkKHMpLl91bml0KCksdD1nKk1hdGgubWluKDQsMS8oYS54KmUueCthLnkqZS55KSk7aCs9dCplLngsZCs9dCplLnksYT1zfXd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksaCxkLDAsMCwxLDEsMCksby52ZXJ0ZXhMZW5ndGgrKyx0LnB1c2goaS54LGkueSksYyYmVHUodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSxsLnByb2plY3RUaWxlUG9pbnQoaCxkLG4pLGwudXBWZWN0b3IobixoLGQpKX19Y29uc3QgYT15Yy5leHBvcnRzKHQsaSk7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKz0zKXRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhyK2FbZV0scithW2UrMl0scithW2UrMV0pLG8ucHJpbWl0aXZlTGVuZ3RoKyt9Zm9yKGNvbnN0IGkgb2YgZSl7dSYmaS5sZW5ndGgmJnUuc3RhcnRSaW5nKGlbMF0pO2xldCBlLGEscyxkPWkubGVuZ3RoPjQmJkl1KGlbaS5sZW5ndGgtMl0saVswXSxpWzFdKSxwPWc/TXUoaVtpLmxlbmd0aC0yXSxpWzBdLGlbMV0sZyk6MDthPWlbMV0uc3ViKGlbMF0pLl9wZXJwKCkuX3VuaXQoKTtsZXQgZj0hMDtmb3IobGV0IG09MSxfPTA7bTxpLmxlbmd0aDttKyspe2xldCB5PWlbbS0xXSx2PWlbbV07Y29uc3QgeD1pW209PT1pLmxlbmd0aC0xPzE6bSsxXTtpZih1JiZoJiZ1LmN1cnJlbnRQb2x5Q291bnQudG9wKyssQXUodix5LHQpKXtnJiYoYT14LnN1Yih2KS5fcGVycCgpLl91bml0KCksZj0hZik7Y29udGludWV9dSYmdS5hcHBlbmQodix5KTtjb25zdCBiPXYuc3ViKHkpLl9wZXJwKCksdz1iLngvKE1hdGguYWJzKGIueCkrTWF0aC5hYnMoYi55KSksVD1iLnk+MD8xOjAsRT15LmRpc3Qodik7aWYoXytFPjMyNzY4JiYoXz0wKSxnKXtzPXguc3ViKHYpLl9wZXJwKCkuX3VuaXQoKTtsZXQgZT1rdSh5LHYseCxDdShhLHMpLGcpO2lzTmFOKGUpJiYoZT0wKTtjb25zdCB0PXYuc3ViKHkpLl91bml0KCk7eT15LmFkZCh0Lm11bHQocCkpLl9yb3VuZCgpLHY9di5hZGQodC5tdWx0KC1lKSkuX3JvdW5kKCkscD1lLGE9c31jb25zdCBTPW8udmVydGV4TGVuZ3RoLEM9aS5sZW5ndGg+NCYmSXUoeSx2LHgpO2xldCBNPVB1KF8sZCxmKTtpZih3dSh0aGlzLmxheW91dFZlcnRleEFycmF5LHkueCx5LnksdyxULDAsMCxNKSx3dSh0aGlzLmxheW91dFZlcnRleEFycmF5LHkueCx5LnksdyxULDAsMSxNKSxfKz1FLE09UHUoXyxDLCFmKSxkPUMsd3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx2Lngsdi55LHcsVCwwLDAsTSksd3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx2Lngsdi55LHcsVCwwLDEsTSksby52ZXJ0ZXhMZW5ndGgrPTQsdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMCxTKzEsUysyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUysxLFMrMyxTKzIpLG8ucHJpbWl0aXZlTGVuZ3RoKz0yLGcpe2NvbnN0IG49cisoMT09PW0/aS5sZW5ndGgtMjptLTIpLGE9MT09PW0/cjpuKzE7aWYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMSxuLFMrMyksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4sYSxTKzMpLG8ucHJpbWl0aXZlTGVuZ3RoKz0yLHZvaWQgMD09PWUmJihlPVMpLCFBdSh4LGlbbV0sdCkpe2NvbnN0IHQ9bT09PWkubGVuZ3RoLTE/ZTpvLnZlcnRleExlbmd0aDt0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUysyLFMrMyx0KSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUyszLHQrMSx0KSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUyszLGEsdCsxKSxvLnByaW1pdGl2ZUxlbmd0aCs9M31mPSFmfWlmKGMpe2NvbnN0IGU9dGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSx0PWwucHJvamVjdFRpbGVQb2ludCh5LngseS55LG4pLHI9bC5wcm9qZWN0VGlsZVBvaW50KHYueCx2LnksbiksaT1sLnVwVmVjdG9yKG4seS54LHkueSksbz1sLnVwVmVjdG9yKG4sdi54LHYueSk7VHUoZSx0LGkpLFR1KGUsdCxpKSxUdShlLHIsbyksVHUoZSxyLG8pfX1oJiYocis9aS5sZW5ndGgtMSl9fWlmKHUmJnUucG9seUNvdW50Lmxlbmd0aD4wKXtpZih1LmJvcmRlcnMpe3UudmVydGV4QXJyYXlPZmZzZXQ9dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aDtjb25zdCBlPXUuYm9yZGVycyx0PXRoaXMuZmVhdHVyZXNPbkJvcmRlci5wdXNoKHUpLTE7Zm9yKGxldCByPTA7cjw0O3IrKyllW3JdWzBdIT09TnVtYmVyLk1BWF9WQUxVRSYmdGhpcy5ib3JkZXJzW3JdLnB1c2godCl9dGhpcy5lbmNvZGVDZW50cm9pZCh1LmJvcmRlcnM/dm9pZCAwOnUuY2VudHJvaWQoKSx1KX10aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUscixpLG8sbil9c29ydEJvcmRlcnMoKXtmb3IobGV0IGU9MDtlPDQ7ZSsrKXRoaXMuYm9yZGVyc1tlXS5zb3J0KCh0LHIpPT50aGlzLmZlYXR1cmVzT25Cb3JkZXJbdF0uYm9yZGVyc1tlXVswXS10aGlzLmZlYXR1cmVzT25Cb3JkZXJbcl0uYm9yZGVyc1tlXVswXSl9ZW5jb2RlQ2VudHJvaWQoZSx0LHI9ITApe2xldCBuLGk7aWYoZSlpZigwIT09ZS55KXtjb25zdCByPXQuc3BhbigpLl9tdWx0KHRoaXMudGlsZVRvTWV0ZXIpO249KE1hdGgubWF4KGUueCwxKTw8MykrTWF0aC5taW4oNyxNYXRoLnJvdW5kKHIueC8xMCkpLGk9KE1hdGgubWF4KGUueSwxKTw8MykrTWF0aC5taW4oNyxNYXRoLnJvdW5kKHIueS8xMCkpfWVsc2Ugbj1NYXRoLmNlaWwoNyooZS54KzQ1MCkpLGk9MDtlbHNlIG49MCxpPStyO2xldCBvPXI/dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aDp0LnZlcnRleEFycmF5T2Zmc2V0O2Zvcihjb25zdCBlIG9mIHQucG9seUNvdW50KXtyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkucmVzaXplKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgrNCplLmVkZ2VzK2UudG9wKTtmb3IobGV0IHQ9MDt0PGUudG9wO3QrKyl0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZW1wbGFjZShvKyssbixpKTtmb3IobGV0IHQ9MDt0PDIqZS5lZGdlczt0KyspdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UobysrLDAsaSksdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UobysrLG4saSl9fX1mdW5jdGlvbiBDdShlLHQpe2NvbnN0IHI9ZS5hZGQodCkuX3VuaXQoKTtyZXR1cm4gZS54KnIueCtlLnkqci55fWZ1bmN0aW9uIE11KGUsdCxyLG4pe2NvbnN0IGk9dC5zdWIoZSkuX3BlcnAoKS5fdW5pdCgpLG89ci5zdWIodCkuX3BlcnAoKS5fdW5pdCgpO3JldHVybiBrdShlLHQscixDdShpLG8pLG4pfWZ1bmN0aW9uIGt1KGUsdCxyLG4saSl7Y29uc3Qgbz1NYXRoLnNxcnQoMS1uKm4pO3JldHVybiBNYXRoLm1pbihlLmRpc3QodCkvMyx0LmRpc3QocikvMyxpKm8vbil9ZnVuY3Rpb24gQXUoZSx0LHIpe3JldHVybiBlLng8clswXS54JiZ0Lng8clswXS54fHxlLng+clsxXS54JiZ0Lng+clsxXS54fHxlLnk8clswXS55JiZ0Lnk8clswXS55fHxlLnk+clsxXS55JiZ0Lnk+clsxXS55fWZ1bmN0aW9uIEl1KGUsdCxyKXtpZihlLng8MHx8ZS54Pj12c3x8dC54PDB8fHQueD49dnN8fHIueDwwfHxyLng+PXZzKXJldHVybiExO2NvbnN0IG49ci5zdWIodCksaT1uLnBlcnAoKSxvPWUuc3ViKHQpO3JldHVybihuLngqby54K24ueSpvLnkpL01hdGguc3FydCgobi54Km4ueCtuLnkqbi55KSooby54Km8ueCtvLnkqby55KSk+LS44NjYmJmkueCpvLngraS55Km8ueTwwfWZ1bmN0aW9uIFB1KGUsdCxyKXtjb25zdCBuPXQ/MnxlOi0zJmU7cmV0dXJuIHI/MXxuOi0yJm59ZnVuY3Rpb24genUoKXtjb25zdCBlPU1hdGguUEkvMzIsdD1NYXRoLnRhbihlKSxyPWJzO3JldHVybiByKk1hdGguc3FydCgxKzIqdCp0KS1yfWZ1bmN0aW9uIER1KGUsdCxyKXtjb25zdCBuPTE8PHIueixpPWtzKHIueC9uKSxvPWtzKChyLngrMSkvbiksYT1BcyhyLnkvbikscz1Bcygoci55KzEpL24pO3JldHVybiBmdW5jdGlvbihlLHQscixuLGk9MCxvKXtjb25zdCBhPVtdO2lmKCFlLmxlbmd0aHx8IXJ8fCFuKXJldHVybiBhO2NvbnN0IHM9KGUsdCk9Pntmb3IoY29uc3QgciBvZiBlKWEucHVzaCh7cG9seWdvbjpyLGJvdW5kczp0fSl9LGw9TWF0aC5jZWlsKE1hdGgubG9nMihyKSksYz1NYXRoLmNlaWwoTWF0aC5sb2cyKG4pKSx1PWwtYyxoPVtdO2ZvcihsZXQgZT0wO2U8TWF0aC5hYnModSk7ZSsrKWgucHVzaCh1PjA/MDoxKTtmb3IobGV0IGU9MDtlPE1hdGgubWluKGwsYyk7ZSsrKWgucHVzaCgwKSxoLnB1c2goMSk7bGV0IGQ9ZTtpZihkPXZ1KGQsdFswXS55LWksdFsxXS55K2ksMSksZD12dShkLHRbMF0ueC1pLHRbMV0ueCtpLDApLCFkLmxlbmd0aClyZXR1cm4gYTtjb25zdCBwPVtdO2ZvcihoLmxlbmd0aD9wLnB1c2goe3BvbHlnb25zOmQsYm91bmRzOnQsZGVwdGg6MH0pOnMoZCx0KTtwLmxlbmd0aDspe2NvbnN0IGU9cC5wb3AoKSx0PWUuZGVwdGgscj1oW3RdLG49ZS5ib3VuZHNbMF0sYT1lLmJvdW5kc1sxXSxsPTA9PT1yP24ueDpuLnksYz0wPT09cj9hLng6YS55LHU9bz9vKHIsbCxjKTouNSoobCtjKSxkPXZ1KGUucG9seWdvbnMsbC1pLHUraSxyKSxmPXZ1KGUucG9seWdvbnMsdS1pLGMraSxyKTtpZihkLmxlbmd0aCl7Y29uc3QgZT1bbixuZXcgbSgwPT09cj91OmEueCwxPT09cj91OmEueSldO2gubGVuZ3RoPnQrMT9wLnB1c2goe3BvbHlnb25zOmQsYm91bmRzOmUsZGVwdGg6dCsxfSk6cyhkLGUpfWlmKGYubGVuZ3RoKXtjb25zdCBlPVtuZXcgbSgwPT09cj91Om4ueCwxPT09cj91Om4ueSksYV07aC5sZW5ndGg+dCsxP3AucHVzaCh7cG9seWdvbnM6Zixib3VuZHM6ZSxkZXB0aDp0KzF9KTpzKGYsZSl9fXJldHVybiBhfShlLHQsTWF0aC5jZWlsKChvLWkpLzExLjI1KSxNYXRoLmNlaWwoKGEtcykvMTEuMjUpLDEsKGUsdCxpKT0+e2lmKDA9PT1lKXJldHVybi41Kih0K2kpO3tjb25zdCBlPUFzKChyLnkrdC92cykvbik7cmV0dXJuKENzKC41KihBcygoci55K2kvdnMpL24pK2UpKSpuLXIueSkqdnN9fSl9SWkoU3UsXCJGaWxsRXh0cnVzaW9uQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJmZWF0dXJlc1wiXX0pLElpKEV1LFwiUGFydE1ldGFkYXRhXCIpO2NvbnN0IFJ1PW5ldyBxbyh7XCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOm5ldyBqbyhZZVtcImxheW91dF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCJdKX0pO3ZhciBMdT17cGFpbnQ6bmV3IHFvKHtcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIjpuZXcgam8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tY29sb3JcIjpuZXcgVW8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiOm5ldyBqbyhZZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCJdKSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgam8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOm5ldyBObyhZZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tcGF0dGVyblwiXSksXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjpuZXcgVW8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiXSksXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6bmV3IFVvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCJdKSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCI6bmV3IGpvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIjpuZXcgam8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIjpuZXcgam8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiXSl9KSxsYXlvdXQ6UnV9O2Z1bmN0aW9uIE91KGUsdCxyKXt2YXIgbj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixyKTtyZXR1cm5bZSpuLTIqTWF0aC5QSSo2Mzc4MTM3LzIsdCpuLTIqTWF0aC5QSSo2Mzc4MTM3LzJdfWNsYXNzIEJ1e2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLno9ZSx0aGlzLng9dCx0aGlzLnk9cix0aGlzLmtleT1VdSgwLGUsZSx0LHIpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy56PT09ZS56JiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX11cmwoZSx0KXtjb25zdCByPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1PdSgyNTYqZSwyNTYqKHQ9TWF0aC5wb3coMixyKS10LTEpLHIpLGk9T3UoMjU2KihlKzEpLDI1NioodCsxKSxyKTtyZXR1cm4gblswXStcIixcIituWzFdK1wiLFwiK2lbMF0rXCIsXCIraVsxXX0odGhpcy54LHRoaXMueSx0aGlzLnopLG49ZnVuY3Rpb24oZSx0LHIpe2xldCBuLGk9XCJcIjtmb3IobGV0IG89ZTtvPjA7by0tKW49MTw8by0xLGkrPSh0Jm4/MTowKSsociZuPzI6MCk7cmV0dXJuIGl9KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gZVsodGhpcy54K3RoaXMueSklZS5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoL3t6fS9nLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKC97eH0vZyxTdHJpbmcodGhpcy54KSkucmVwbGFjZSgve3l9L2csU3RyaW5nKFwidG1zXCI9PT10P01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpKS5yZXBsYWNlKFwie3F1YWRrZXl9XCIsbikucmVwbGFjZShcIntiYm94LWVwc2ctMzg1N31cIixyKX10b1N0cmluZygpe3JldHVybmAke3RoaXMuen0vJHt0aGlzLnh9LyR7dGhpcy55fWB9fWNsYXNzIEZ1e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy53cmFwPWUsdGhpcy5jYW5vbmljYWw9dCx0aGlzLmtleT1VdShlLHQueix0LnosdC54LHQueSl9fWNsYXNzIGp1e2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy5vdmVyc2NhbGVkWj1lLHRoaXMud3JhcD10LHRoaXMuY2Fub25pY2FsPW5ldyBCdShyLCtuLCtpKSx0aGlzLmtleT0wPT09dCYmZT09PXI/dGhpcy5jYW5vbmljYWwua2V5OlV1KHQsZSxyLG4saSl9ZXF1YWxzKGUpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaPT09ZS5vdmVyc2NhbGVkWiYmdGhpcy53cmFwPT09ZS53cmFwJiZ0aGlzLmNhbm9uaWNhbC5lcXVhbHMoZS5jYW5vbmljYWwpfXNjYWxlZFRvKGUpe2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwuei1lO3JldHVybiBlPnRoaXMuY2Fub25pY2FsLno/bmV3IGp1KGUsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpuZXcganUoZSx0aGlzLndyYXAsZSx0aGlzLmNhbm9uaWNhbC54Pj50LHRoaXMuY2Fub25pY2FsLnk+PnQpfWNhbGN1bGF0ZVNjYWxlZEtleShlLHQ9ITApe2lmKHRoaXMub3ZlcnNjYWxlZFo9PT1lJiZ0KXJldHVybiB0aGlzLmtleTtpZihlPnRoaXMuY2Fub25pY2FsLnopcmV0dXJuIFV1KHRoaXMud3JhcCordCxlLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTt7Y29uc3Qgcj10aGlzLmNhbm9uaWNhbC56LWU7cmV0dXJuIFV1KHRoaXMud3JhcCordCxlLGUsdGhpcy5jYW5vbmljYWwueD4+cix0aGlzLmNhbm9uaWNhbC55Pj5yKX19aXNDaGlsZE9mKGUpe2lmKGUud3JhcCE9PXRoaXMud3JhcClyZXR1cm4hMTtjb25zdCB0PXRoaXMuY2Fub25pY2FsLnotZS5jYW5vbmljYWwuejtyZXR1cm4gMD09PWUub3ZlcnNjYWxlZFp8fGUub3ZlcnNjYWxlZFo8dGhpcy5vdmVyc2NhbGVkWiYmZS5jYW5vbmljYWwueD09PXRoaXMuY2Fub25pY2FsLng+PnQmJmUuY2Fub25pY2FsLnk9PT10aGlzLmNhbm9uaWNhbC55Pj50fWNoaWxkcmVuKGUpe2lmKHRoaXMub3ZlcnNjYWxlZFo+PWUpcmV0dXJuW25ldyBqdSh0aGlzLm92ZXJzY2FsZWRaKzEsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KV07Y29uc3QgdD10aGlzLmNhbm9uaWNhbC56KzEscj0yKnRoaXMuY2Fub25pY2FsLngsbj0yKnRoaXMuY2Fub25pY2FsLnk7cmV0dXJuW25ldyBqdSh0LHRoaXMud3JhcCx0LHIsbiksbmV3IGp1KHQsdGhpcy53cmFwLHQscisxLG4pLG5ldyBqdSh0LHRoaXMud3JhcCx0LHIsbisxKSxuZXcganUodCx0aGlzLndyYXAsdCxyKzEsbisxKV19aXNMZXNzVGhhbihlKXtyZXR1cm4gdGhpcy53cmFwPGUud3JhcHx8ISh0aGlzLndyYXA+ZS53cmFwKSYmKHRoaXMub3ZlcnNjYWxlZFo8ZS5vdmVyc2NhbGVkWnx8ISh0aGlzLm92ZXJzY2FsZWRaPmUub3ZlcnNjYWxlZFopJiYodGhpcy5jYW5vbmljYWwueDxlLmNhbm9uaWNhbC54fHwhKHRoaXMuY2Fub25pY2FsLng+ZS5jYW5vbmljYWwueCkmJnRoaXMuY2Fub25pY2FsLnk8ZS5jYW5vbmljYWwueSkpfXdyYXBwZWQoKXtyZXR1cm4gbmV3IGp1KHRoaXMub3ZlcnNjYWxlZFosMCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9dW53cmFwVG8oZSl7cmV0dXJuIG5ldyBqdSh0aGlzLm92ZXJzY2FsZWRaLGUsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfW92ZXJzY2FsZUZhY3Rvcigpe3JldHVybiBNYXRoLnBvdygyLHRoaXMub3ZlcnNjYWxlZFotdGhpcy5jYW5vbmljYWwueil9dG9VbndyYXBwZWQoKXtyZXR1cm4gbmV3IEZ1KHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbCl9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLm92ZXJzY2FsZWRafS8ke3RoaXMuY2Fub25pY2FsLnh9LyR7dGhpcy5jYW5vbmljYWwueX1gfX1mdW5jdGlvbiBVdShlLHQscixuLGkpe2NvbnN0IG89MTw8TWF0aC5taW4ociwyMik7bGV0IGE9byooaSVvKStuJW87cmV0dXJuIGUmJnI8MjImJihhKz1vKm8qKChlPDA/LTIqZS0xOjIqZSklKDE8PDIqKDIyLXIpKSkpLDE2KigzMiphK3IpKyh0LXIpfUlpKEJ1LFwiQ2Fub25pY2FsVGlsZUlEXCIpLElpKGp1LFwiT3ZlcnNjYWxlZFRpbGVJRFwiLHtvbWl0OltcInByb2pNYXRyaXhcIl19KTtjbGFzcyBOdSBleHRlbmRzIG17Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUsdCksdGhpcy56PXJ9fWZ1bmN0aW9uIFZ1KGUsdCl7cmV0dXJuIGUueCp0LngrZS55KnQueX1mdW5jdGlvbiBHdShlLHQpe2lmKDE9PT1lLmxlbmd0aCl7bGV0IHI9MDtjb25zdCBuPXRbcisrXTtsZXQgaTtmb3IoOyFpfHxuLmVxdWFscyhpKTspaWYoaT10W3IrK10sIWkpcmV0dXJuIDEvMDtmb3IoO3I8dC5sZW5ndGg7cisrKXtjb25zdCBvPXRbcl0sYT1lWzBdLHM9aS5zdWIobiksbD1vLnN1YihuKSxjPWEuc3ViKG4pLHU9VnUocyxzKSxoPVZ1KHMsbCksZD1WdShsLGwpLHA9VnUoYyxzKSxmPVZ1KGMsbCksbT11KmQtaCpoLGc9KGQqcC1oKmYpL20sXz0odSpmLWgqcCkvbSx5PW4ueiooMS1nLV8pK2kueipnK28ueipfO2lmKGlzRmluaXRlKHkpKXJldHVybiB5fXJldHVybiAxLzB9e2xldCBlPTEvMDtmb3IoY29uc3QgciBvZiB0KWU9TWF0aC5taW4oZSxyLnopO3JldHVybiBlfX1mdW5jdGlvbiBxdShlLHQscixuLGksbyxhLHMpe2NvbnN0IGw9YSppLmdldEVsZXZhdGlvbkF0KGUsdCwhMCwhMCksYz0wIT09b1swXSx1PWM/MD09PW9bMV0/YSoob1swXS83LTQ1MCk6YSpmdW5jdGlvbihlLHQscil7Y29uc3Qgbj1NYXRoLmZsb29yKHRbMF0vOCksaT1NYXRoLmZsb29yKHRbMV0vOCksbz0xMCoodFswXS04Km4pLGE9MTAqKHRbMV0tOCppKSxzPWUuZ2V0RWxldmF0aW9uQXQobixpLCEwLCEwKSxsPWUuZ2V0TWV0ZXJUb0RFTShyKSxjPU1hdGguZmxvb3IoLjUqKG8qbC0xKSksdT1NYXRoLmZsb29yKC41KihhKmwtMSkpLGg9ZS50aWxlQ29vcmRUb1BpeGVsKG4saSksZD0yKmMrMSxwPTIqdSsxLGY9ZnVuY3Rpb24oZSx0LHIsbixpKXtyZXR1cm5bZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQsciwhMCksZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQraSxyLCEwKSxlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCxyK2ksITApLGUuZ2V0RWxldmF0aW9uQXRQaXhlbCh0K24scitpLCEwKV19KGUsaC54LWMsaC55LXUsZCxwKSxtPU1hdGguYWJzKGZbMF0tZlsxXSksZz1NYXRoLmFicyhmWzJdLWZbM10pLF89TWF0aC5hYnMoZlswXS1mWzJdKStNYXRoLmFicyhmWzFdLWZbM10pLHk9TWF0aC5taW4oLjI1LC41KmwqKG0rZykvZCksdj1NYXRoLm1pbiguMjUsLjUqbCpfL3ApO3JldHVybiBzK01hdGgubWF4KHkqbyx2KmEpfShpLG8scyk6bDtyZXR1cm57YmFzZTpsKygwPT09cik/LTE6cix0b3A6Yz9NYXRoLm1heCh1K24sbCtyKzIpOmwrbn19Y29uc3QgWnU9SG8oW3tuYW1lOlwiYV9wb3Nfbm9ybWFsXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZGF0YVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX2xpbmVzb2ZhclwiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0sNCkse21lbWJlcnM6JHV9PVp1LFd1PUhvKFt7bmFtZTpcImFfcGFja2VkXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSkse21lbWJlcnM6WHV9PVd1LEh1PXl1LnR5cGVzLFl1PU1hdGguY29zKE1hdGguUEkvMTgwKjM3LjUpO2NsYXNzIEt1e2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGU9PmUuaWQpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxpbmVDbGlwc0FycmF5PVtdLHRoaXMuZ3JhZGllbnRzPXt9LHRoaXMubGF5ZXJzLmZvckVhY2goZT0+e3RoaXMuZ3JhZGllbnRzW2UuaWRdPXt9fSksdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgZWEsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTI9bmV3IHRhLHRoaXMuaW5kZXhBcnJheT1uZXcgcGEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGxzKGUubGF5ZXJzLGUuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgeXMsdGhpcy5tYXhMaW5lTGVuZ3RoPTAsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcihlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkubWFwKGU9PmUuaWQpfXBvcHVsYXRlKGUsdCxyLG4pe3RoaXMuaGFzUGF0dGVybj1ZYyhcImxpbmVcIix0aGlzLmxheWVycyx0KTtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJsaW5lLXNvcnQta2V5XCIpLG89W107Zm9yKGNvbnN0e2ZlYXR1cmU6dCxpZDphLGluZGV4OnMsc291cmNlTGF5ZXJJbmRleDpsfW9mIGUpe2NvbnN0IGU9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LGM9VnModCxlKTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBJbyh0aGlzLnpvb20pLGMscikpY29udGludWU7Y29uc3QgdT1pP2kuZXZhbHVhdGUoYyx7fSxyKTp2b2lkIDAsaD17aWQ6YSxwcm9wZXJ0aWVzOnQucHJvcGVydGllcyx0eXBlOnQudHlwZSxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6cyxnZW9tZXRyeTplP2MuZ2VvbWV0cnk6TnModCxyLG4pLHBhdHRlcm5zOnt9LHNvcnRLZXk6dX07by5wdXNoKGgpfWkmJm8uc29ydCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSk7Y29uc3R7bGluZUF0bGFzOmEsZmVhdHVyZUluZGV4OnN9PXQsbD10aGlzLmFkZENvbnN0YW50RGFzaGVzKGEpO2Zvcihjb25zdCBuIG9mIG8pe2NvbnN0e2dlb21ldHJ5OmksaW5kZXg6byxzb3VyY2VMYXllckluZGV4OmN9PW47aWYobCYmdGhpcy5hZGRGZWF0dXJlRGFzaGVzKG4sYSksdGhpcy5oYXNQYXR0ZXJuKXtjb25zdCBlPUtjKFwibGluZVwiLHRoaXMubGF5ZXJzLG4sdGhpcy56b29tLHQpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2goZSl9ZWxzZSB0aGlzLmFkZEZlYXR1cmUobixpLG8scixhLnBvc2l0aW9ucyx0LmF2YWlsYWJsZUltYWdlcyk7cy5pbnNlcnQoZVtvXS5mZWF0dXJlLGksbyxjLHRoaXMuaW5kZXgpfX1hZGRDb25zdGFudERhc2hlcyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgciBvZiB0aGlzLmxheWVycyl7Y29uc3Qgbj1yLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlLGk9ci5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWU7aWYoXCJjb25zdGFudFwiIT09bi5raW5kfHxcImNvbnN0YW50XCIhPT1pLmtpbmQpdD0hMDtlbHNle2NvbnN0IHQ9aS52YWx1ZSxyPW4udmFsdWU7aWYoIXIpY29udGludWU7ZS5hZGREYXNoKHIuZnJvbSx0KSxlLmFkZERhc2goci50byx0KSxyLm90aGVyJiZlLmFkZERhc2goci5vdGhlcix0KX19cmV0dXJuIHR9YWRkRmVhdHVyZURhc2hlcyhlLHQpe2NvbnN0IHI9dGhpcy56b29tO2Zvcihjb25zdCBuIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBpPW4ucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUsbz1uLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCI9PT1pLmtpbmQmJlwiY29uc3RhbnRcIj09PW8ua2luZCljb250aW51ZTtsZXQgYSxzLGwsYyx1LGg7aWYoXCJjb25zdGFudFwiPT09aS5raW5kKXtjb25zdCBlPWkudmFsdWU7aWYoIWUpY29udGludWU7YT1lLm90aGVyfHxlLnRvLHM9ZS50byxsPWUuZnJvbX1lbHNlIGE9aS5ldmFsdWF0ZSh7em9vbTpyLTF9LGUpLHM9aS5ldmFsdWF0ZSh7em9vbTpyfSxlKSxsPWkuZXZhbHVhdGUoe3pvb206cisxfSxlKTtcImNvbnN0YW50XCI9PT1vLmtpbmQ/Yz11PWg9by52YWx1ZTooYz1vLmV2YWx1YXRlKHt6b29tOnItMX0sZSksdT1vLmV2YWx1YXRlKHt6b29tOnJ9LGUpLGg9by5ldmFsdWF0ZSh7em9vbTpyKzF9LGUpKSx0LmFkZERhc2goYSxjKSx0LmFkZERhc2gocyx1KSx0LmFkZERhc2gobCxoKTtjb25zdCBkPXQuZ2V0S2V5KGEsYykscD10LmdldEtleShzLHUpLGY9dC5nZXRLZXkobCxoKTtlLnBhdHRlcm5zW24uaWRdPXttaW46ZCxtaWQ6cCxtYXg6Zn19fXVwZGF0ZShlLHQscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKX1hZGRGZWF0dXJlcyhlLHQscixuLGkpe2Zvcihjb25zdCBlIG9mIHRoaXMucGF0dGVybkZlYXR1cmVzKXRoaXMuYWRkRmVhdHVyZShlLGUuZ2VvbWV0cnksZS5pbmRleCx0LHIsbil9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KDAhPT10aGlzLmxheW91dFZlcnRleEFycmF5Mi5sZW5ndGgmJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcjI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIsWHUpKSx0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LCR1KSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSl9bGluZUZlYXR1cmVDbGlwcyhlKXtpZihlLnByb3BlcnRpZXMmJmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX3N0YXJ0XCIpJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfY2xpcF9lbmRcIikpcmV0dXJue3N0YXJ0OitlLnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsZW5kOitlLnByb3BlcnRpZXMubWFwYm94X2NsaXBfZW5kfX1hZGRGZWF0dXJlKGUsdCxyLG4saSxvKXtjb25zdCBhPXRoaXMubGF5ZXJzWzBdLmxheW91dCxzPWEuZ2V0KFwibGluZS1qb2luXCIpLmV2YWx1YXRlKGUse30pLGw9YS5nZXQoXCJsaW5lLWNhcFwiKS5ldmFsdWF0ZShlLHt9KSxjPWEuZ2V0KFwibGluZS1taXRlci1saW1pdFwiKSx1PWEuZ2V0KFwibGluZS1yb3VuZC1saW1pdFwiKTt0aGlzLmxpbmVDbGlwcz10aGlzLmxpbmVGZWF0dXJlQ2xpcHMoZSk7Zm9yKGNvbnN0IHIgb2YgdCl0aGlzLmFkZExpbmUocixlLHMsbCxjLHUpO3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxyLGksbyxuKX1hZGRMaW5lKGUsdCxyLG4saSxvKXtpZih0aGlzLmRpc3RhbmNlPTAsdGhpcy5zY2FsZWREaXN0YW5jZT0wLHRoaXMudG90YWxEaXN0YW5jZT0wLHRoaXMubGluZVNvRmFyPTAsdGhpcy5saW5lQ2xpcHMpe3RoaXMubGluZUNsaXBzQXJyYXkucHVzaCh0aGlzLmxpbmVDbGlwcyk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aC0xO3QrKyl0aGlzLnRvdGFsRGlzdGFuY2UrPWVbdF0uZGlzdChlW3QrMV0pO3RoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKSx0aGlzLm1heExpbmVMZW5ndGg9TWF0aC5tYXgodGhpcy5tYXhMaW5lTGVuZ3RoLHRoaXMudG90YWxEaXN0YW5jZSl9Y29uc3QgYT1cIlBvbHlnb25cIj09PUh1W3QudHlwZV07bGV0IHM9ZS5sZW5ndGg7Zm9yKDtzPj0yJiZlW3MtMV0uZXF1YWxzKGVbcy0yXSk7KXMtLTtsZXQgbD0wO2Zvcig7bDxzLTEmJmVbbF0uZXF1YWxzKGVbbCsxXSk7KWwrKztpZihzPChhPzM6MikpcmV0dXJuO1wiYmV2ZWxcIj09PXImJihpPTEuMDUpO2NvbnN0IGM9dGhpcy5vdmVyc2NhbGluZzw9MTY/MTIyODgwLyg1MTIqdGhpcy5vdmVyc2NhbGluZyk6MCx1PXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoMTAqcyx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7bGV0IGgsZCxwLGYsbTt0aGlzLmUxPXRoaXMuZTI9LTEsYSYmKGg9ZVtzLTJdLG09ZVtsXS5zdWIoaCkuX3VuaXQoKS5fcGVycCgpKTtmb3IobGV0IHQ9bDt0PHM7dCsrKXtpZihwPXQ9PT1zLTE/YT9lW2wrMV06dm9pZCAwOmVbdCsxXSxwJiZlW3RdLmVxdWFscyhwKSljb250aW51ZTttJiYoZj1tKSxoJiYoZD1oKSxoPWVbdF0sbT1wP3Auc3ViKGgpLl91bml0KCkuX3BlcnAoKTpmLGY9Znx8bTtsZXQgZz1mLmFkZChtKTswPT09Zy54JiYwPT09Zy55fHxnLl91bml0KCk7Y29uc3QgXz1mLngqbS54K2YueSptLnkseT1nLngqbS54K2cueSptLnksdj0wIT09eT8xL3k6MS8wLHg9MipNYXRoLnNxcnQoMi0yKnkpLGI9eTxZdSYmZCYmcCx3PWYueCptLnktZi55Km0ueD4wO2lmKGImJnQ+bCl7Y29uc3QgZT1oLmRpc3QoZCk7aWYoZT4yKmMpe2NvbnN0IHQ9aC5zdWIoaC5zdWIoZCkuX211bHQoYy9lKS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShkLHQpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh0LGYsMCwwLHUpLGQ9dH19Y29uc3QgVD1kJiZwO2xldCBFPVQ/cjphP1wiYnV0dFwiOm47aWYoVCYmXCJyb3VuZFwiPT09RSYmKHY8bz9FPVwibWl0ZXJcIjp2PD0yJiYoRT1cImZha2Vyb3VuZFwiKSksXCJtaXRlclwiPT09RSYmdj5pJiYoRT1cImJldmVsXCIpLFwiYmV2ZWxcIj09PUUmJih2PjImJihFPVwiZmxpcGJldmVsXCIpLHY8aSYmKEU9XCJtaXRlclwiKSksZCYmdGhpcy51cGRhdGVEaXN0YW5jZShkLGgpLFwibWl0ZXJcIj09PUUpZy5fbXVsdCh2KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLDAsMCx1KTtlbHNlIGlmKFwiZmxpcGJldmVsXCI9PT1FKXtpZih2PjEwMClnPW0ubXVsdCgtMSk7ZWxzZXtjb25zdCBlPXYqZi5hZGQobSkubWFnKCkvZi5zdWIobSkubWFnKCk7Zy5fcGVycCgpLl9tdWx0KGUqKHc/LTE6MSkpfXRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsMCwwLHUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcubXVsdCgtMSksMCwwLHUpfWVsc2UgaWYoXCJiZXZlbFwiPT09RXx8XCJmYWtlcm91bmRcIj09PUUpe2NvbnN0IGU9LU1hdGguc3FydCh2KnYtMSksdD13P2U6MCxyPXc/MDplO2lmKGQmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLGYsdCxyLHUpLFwiZmFrZXJvdW5kXCI9PT1FKXtjb25zdCBlPU1hdGgucm91bmQoMTgwKngvTWF0aC5QSS8yMCk7Zm9yKGxldCB0PTE7dDxlO3QrKyl7bGV0IHI9dC9lO2lmKC41IT09cil7Y29uc3QgZT1yLS41O3IrPXIqZSooci0xKSooKDEuMDkwNCtfKihfKigzLjU1NjQ1LTEuNDM1MTkqXyktMy4yNDUyKSkqZSplKyguODQ4MDEzK18qKC4yMTU2MzgqXy0xLjA2MDIxKSkpfWNvbnN0IG49bS5zdWIoZikuX211bHQocikuX2FkZChmKS5fdW5pdCgpLl9tdWx0KHc/LTE6MSk7dGhpcy5hZGRIYWxmVmVydGV4KGgsbi54LG4ueSwhMSx3LDAsdSl9fXAmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLG0sLXQsLXIsdSl9ZWxzZSBpZihcImJ1dHRcIj09PUUpdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZywwLDAsdSk7ZWxzZSBpZihcInNxdWFyZVwiPT09RSl7Y29uc3QgZT1kPzE6LTE7ZHx8dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZyxlLGUsdSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZywwLDAsdSksZCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZyxlLGUsdSl9ZWxzZVwicm91bmRcIj09PUUmJihkJiYodGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZiwwLDAsdSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZiwxLDEsdSwhMCkpLHAmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxtLC0xLC0xLHUsITApLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLG0sMCwwLHUpKSk7aWYoYiYmdDxzLTEpe2NvbnN0IGU9aC5kaXN0KHApO2lmKGU+MipjKXtjb25zdCB0PWguYWRkKHAuc3ViKGgpLl9tdWx0KGMvZSkuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UoaCx0KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodCxtLDAsMCx1KSxoPXR9fX19YWRkQ3VycmVudFZlcnRleChlLHQscixuLGksbz0hMSl7Y29uc3QgYT10Lnkqbi10Lngscz0tdC55LXQueCpuO3RoaXMuYWRkSGFsZlZlcnRleChlLHQueCt0Lnkqcix0LnktdC54KnIsbywhMSxyLGkpLHRoaXMuYWRkSGFsZlZlcnRleChlLGEscyxvLCEwLC1uLGkpfWFkZEhhbGZWZXJ0ZXgoe3g6ZSx5OnR9LHIsbixpLG8sYSxzKXt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKChlPDwxKSsoaT8xOjApLCh0PDwxKSsobz8xOjApLE1hdGgucm91bmQoNjMqcikrMTI4LE1hdGgucm91bmQoNjMqbikrMTI4LDErKDA9PT1hPzA6YTwwPy0xOjEpLDAsdGhpcy5saW5lU29GYXIpLHRoaXMubGluZUNsaXBzJiZ0aGlzLmxheW91dFZlcnRleEFycmF5Mi5lbXBsYWNlQmFjayh0aGlzLnNjYWxlZERpc3RhbmNlLHRoaXMubGluZUNsaXBzQXJyYXkubGVuZ3RoLHRoaXMubGluZUNsaXBzLnN0YXJ0LHRoaXMubGluZUNsaXBzLmVuZCk7Y29uc3QgbD1zLnZlcnRleExlbmd0aCsrO3RoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLGwpLHMucHJpbWl0aXZlTGVuZ3RoKyspLG8/dGhpcy5lMj1sOnRoaXMuZTE9bH11cGRhdGVTY2FsZWREaXN0YW5jZSgpe2lmKHRoaXMubGluZUNsaXBzKXtjb25zdCBlPXRoaXMudG90YWxEaXN0YW5jZS8odGhpcy5saW5lQ2xpcHMuZW5kLXRoaXMubGluZUNsaXBzLnN0YXJ0KTt0aGlzLnNjYWxlZERpc3RhbmNlPXRoaXMuZGlzdGFuY2UvdGhpcy50b3RhbERpc3RhbmNlLHRoaXMubGluZVNvRmFyPWUqdGhpcy5saW5lQ2xpcHMuc3RhcnQrdGhpcy5kaXN0YW5jZX1lbHNlIHRoaXMubGluZVNvRmFyPXRoaXMuZGlzdGFuY2V9dXBkYXRlRGlzdGFuY2UoZSx0KXt0aGlzLmRpc3RhbmNlKz1lLmRpc3QodCksdGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpfX1JaShLdSxcIkxpbmVCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcInBhdHRlcm5GZWF0dXJlc1wiXX0pO2NvbnN0IEp1PW5ldyBxbyh7XCJsaW5lLWNhcFwiOm5ldyBVbyhZZS5sYXlvdXRfbGluZVtcImxpbmUtY2FwXCJdKSxcImxpbmUtam9pblwiOm5ldyBVbyhZZS5sYXlvdXRfbGluZVtcImxpbmUtam9pblwiXSksXCJsaW5lLW1pdGVyLWxpbWl0XCI6bmV3IGpvKFllLmxheW91dF9saW5lW1wibGluZS1taXRlci1saW1pdFwiXSksXCJsaW5lLXJvdW5kLWxpbWl0XCI6bmV3IGpvKFllLmxheW91dF9saW5lW1wibGluZS1yb3VuZC1saW1pdFwiXSksXCJsaW5lLXNvcnQta2V5XCI6bmV3IFVvKFllLmxheW91dF9saW5lW1wibGluZS1zb3J0LWtleVwiXSl9KTt2YXIgUXU9e3BhaW50Om5ldyBxbyh7XCJsaW5lLW9wYWNpdHlcIjpuZXcgVW8oWWUucGFpbnRfbGluZVtcImxpbmUtb3BhY2l0eVwiXSksXCJsaW5lLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X2xpbmVbXCJsaW5lLWNvbG9yXCJdKSxcImxpbmUtdHJhbnNsYXRlXCI6bmV3IGpvKFllLnBhaW50X2xpbmVbXCJsaW5lLXRyYW5zbGF0ZVwiXSksXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgam8oWWUucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJsaW5lLXdpZHRoXCI6bmV3IFVvKFllLnBhaW50X2xpbmVbXCJsaW5lLXdpZHRoXCJdKSxcImxpbmUtZ2FwLXdpZHRoXCI6bmV3IFVvKFllLnBhaW50X2xpbmVbXCJsaW5lLWdhcC13aWR0aFwiXSksXCJsaW5lLW9mZnNldFwiOm5ldyBVbyhZZS5wYWludF9saW5lW1wibGluZS1vZmZzZXRcIl0pLFwibGluZS1ibHVyXCI6bmV3IFVvKFllLnBhaW50X2xpbmVbXCJsaW5lLWJsdXJcIl0pLFwibGluZS1kYXNoYXJyYXlcIjpuZXcgTm8oWWUucGFpbnRfbGluZVtcImxpbmUtZGFzaGFycmF5XCJdKSxcImxpbmUtcGF0dGVyblwiOm5ldyBObyhZZS5wYWludF9saW5lW1wibGluZS1wYXR0ZXJuXCJdKSxcImxpbmUtZ3JhZGllbnRcIjpuZXcgR28oWWUucGFpbnRfbGluZVtcImxpbmUtZ3JhZGllbnRcIl0pLFwibGluZS10cmltLW9mZnNldFwiOm5ldyBqbyhZZS5wYWludF9saW5lW1wibGluZS10cmltLW9mZnNldFwiXSl9KSxsYXlvdXQ6SnV9O2NvbnN0IGVoPW5ldyBjbGFzcyBleHRlbmRzIFVve3Bvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gdD1uZXcgSW8oTWF0aC5mbG9vcih0Lnpvb20pLHtub3c6dC5ub3csZmFkZUR1cmF0aW9uOnQuZmFkZUR1cmF0aW9uLHpvb21IaXN0b3J5OnQuem9vbUhpc3RvcnksdHJhbnNpdGlvbjp0LnRyYW5zaXRpb259KSxzdXBlci5wb3NzaWJseUV2YWx1YXRlKGUsdCl9ZXZhbHVhdGUoZSx0LHIsbil7cmV0dXJuIHQ9SSh7fSx0LHt6b29tOk1hdGguZmxvb3IodC56b29tKX0pLHN1cGVyLmV2YWx1YXRlKGUsdCxyLG4pfX0oUXUucGFpbnQucHJvcGVydGllc1tcImxpbmUtd2lkdGhcIl0uc3BlY2lmaWNhdGlvbik7ZnVuY3Rpb24gdGgoZSx0KXtyZXR1cm4gdD4wP3QrMiplOmV9ZWgudXNlSW50ZWdlclpvb209ITA7Y29uc3Qgcmg9SG8oW3tuYW1lOlwiYV9wb3Nfb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfdGV4X3NpemVcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxvZmZzZXRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSw0KSxuaD1Ibyhbe25hbWU6XCJhX2dsb2JlX2FuY2hvclwiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2dsb2JlX25vcm1hbFwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0sNCksaWg9SG8oW3tuYW1lOlwiYV9wcm9qZWN0ZWRfcG9zXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSw0KTtIbyhbe25hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDMyXCJ9XSw0KTtjb25zdCBvaD1Ibyhbe25hbWU6XCJhX3BsYWNlZFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX3NoaWZ0XCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSksYWg9SG8oW3tuYW1lOlwiYV9zaXplX3NjYWxlXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9wYWRkaW5nXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSk7SG8oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTJcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwYWRkaW5nXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9XSk7Y29uc3Qgc2g9SG8oW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9hbmNob3JfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLGxoPUhvKFt7bmFtZTpcImFfcG9zXzJmXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9yYWRpdXNcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX2ZsYWdzXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCk7SG8oW3tuYW1lOlwidHJpYW5nbGVcIixjb21wb25lbnRzOjMsdHlwZTpcIlVpbnQxNlwifV0pLEhvKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImdseXBoU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1HbHlwaHNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwidmVydGV4U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lTGVuZ3RoXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNlZ21lbnRcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibG93ZXJTaXplXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVwcGVyU2l6ZVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRZXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwid3JpdGluZ01vZGVcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJwbGFjZWRPcmllbnRhdGlvblwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImhpZGRlblwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImFzc29jaWF0ZWRJY29uSW5kZXhcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJmbGlwU3RhdGVcIn1dKSxIbyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclpcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwia2V5XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6MixuYW1lOlwidGV4dE9mZnNldFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXJcIn1dKSxIbyhbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIm9mZnNldFhcIn1dKSxIbyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwieVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yXCJ9XSk7Y29uc3QgY2g9MTI4O2Z1bmN0aW9uIHVoKGUsdCl7Y29uc3R7ZXhwcmVzc2lvbjpyfT10O2lmKFwiY29uc3RhbnRcIj09PXIua2luZClyZXR1cm57a2luZDpcImNvbnN0YW50XCIsbGF5b3V0U2l6ZTpyLmV2YWx1YXRlKG5ldyBJbyhlKzEpKX07aWYoXCJzb3VyY2VcIj09PXIua2luZClyZXR1cm57a2luZDpcInNvdXJjZVwifTt7Y29uc3R7em9vbVN0b3BzOnQsaW50ZXJwb2xhdGlvblR5cGU6bn09cjtsZXQgaT0wO2Zvcig7aTx0Lmxlbmd0aCYmdFtpXTw9ZTspaSsrO2k9TWF0aC5tYXgoMCxpLTEpO2xldCBvPWk7Zm9yKDtvPHQubGVuZ3RoJiZ0W29dPGUrMTspbysrO289TWF0aC5taW4odC5sZW5ndGgtMSxvKTtjb25zdCBhPXRbaV0scz10W29dO3JldHVyblwiY29tcG9zaXRlXCI9PT1yLmtpbmQ/e2tpbmQ6XCJjb21wb3NpdGVcIixtaW5ab29tOmEsbWF4Wm9vbTpzLGludGVycG9sYXRpb25UeXBlOm59OntraW5kOlwiY2FtZXJhXCIsbWluWm9vbTphLG1heFpvb206cyxtaW5TaXplOnIuZXZhbHVhdGUobmV3IElvKGEpKSxtYXhTaXplOnIuZXZhbHVhdGUobmV3IElvKHMpKSxpbnRlcnBvbGF0aW9uVHlwZTpufX19ZnVuY3Rpb24gaGgoZSx7dVNpemU6dCx1U2l6ZVQ6cn0se2xvd2VyU2l6ZTpuLHVwcGVyU2l6ZTppfSl7cmV0dXJuXCJzb3VyY2VcIj09PWUua2luZD9uL2NoOlwiY29tcG9zaXRlXCI9PT1lLmtpbmQ/Q3Iobi9jaCxpL2NoLHIpOnR9ZnVuY3Rpb24gZGgoZSx0KXtsZXQgcj0wLG49MDtpZihcImNvbnN0YW50XCI9PT1lLmtpbmQpbj1lLmxheW91dFNpemU7ZWxzZSBpZihcInNvdXJjZVwiIT09ZS5raW5kKXtjb25zdHtpbnRlcnBvbGF0aW9uVHlwZTppLG1pblpvb206byxtYXhab29tOmF9PWUscz1pP1MoR3IuaW50ZXJwb2xhdGlvbkZhY3RvcihpLHQsbyxhKSwwLDEpOjA7XCJjYW1lcmFcIj09PWUua2luZD9uPUNyKGUubWluU2l6ZSxlLm1heFNpemUscyk6cj1zfXJldHVybnt1U2l6ZVQ6cix1U2l6ZTpufX12YXIgcGg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0U2l6ZURhdGE6dWgsZXZhbHVhdGVTaXplRm9yRmVhdHVyZTpoaCxldmFsdWF0ZVNpemVGb3Jab29tOmRoLFNJWkVfUEFDS19GQUNUT1I6Y2h9KTtmdW5jdGlvbiBmaChlLHQscil7cmV0dXJuIGUuc2VjdGlvbnMuZm9yRWFjaChlPT57ZS50ZXh0PWZ1bmN0aW9uKGUsdCxyKXtjb25zdCBuPXQubGF5b3V0LmdldChcInRleHQtdHJhbnNmb3JtXCIpLmV2YWx1YXRlKHIse30pO3JldHVyblwidXBwZXJjYXNlXCI9PT1uP2U9ZS50b0xvY2FsZVVwcGVyQ2FzZSgpOlwibG93ZXJjYXNlXCI9PT1uJiYoZT1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpLEFvLmFwcGx5QXJhYmljU2hhcGluZyYmKGU9QW8uYXBwbHlBcmFiaWNTaGFwaW5nKGUpKSxlfShlLnRleHQsdCxyKX0pLGV9Y29uc3QgbWg9e1wiIVwiOlwi77iVXCIsXCIjXCI6XCLvvINcIiwkOlwi77yEXCIsXCIlXCI6XCLvvIVcIixcIiZcIjpcIu+8hlwiLFwiKFwiOlwi77i1XCIsXCIpXCI6XCLvuLZcIixcIipcIjpcIu+8ilwiLFwiK1wiOlwi77yLXCIsXCIsXCI6XCLvuJBcIixcIi1cIjpcIu+4slwiLFwiLlwiOlwi44O7XCIsXCIvXCI6XCLvvI9cIixcIjpcIjpcIu+4k1wiLFwiO1wiOlwi77iUXCIsXCI8XCI6XCLvuL9cIixcIj1cIjpcIu+8nVwiLFwiPlwiOlwi77mAXCIsXCI/XCI6XCLvuJZcIixcIkBcIjpcIu+8oFwiLFwiW1wiOlwi77mHXCIsXCJcXFxcXCI6XCLvvLxcIixcIl1cIjpcIu+5iFwiLFwiXlwiOlwi77y+XCIsXzpcIu+4s1wiLFwiYFwiOlwi772AXCIsXCJ7XCI6XCLvuLdcIixcInxcIjpcIuKAlVwiLFwifVwiOlwi77i4XCIsXCJ+XCI6XCLvvZ5cIixcIsKiXCI6XCLvv6BcIixcIsKjXCI6XCLvv6FcIixcIsKlXCI6XCLvv6VcIixcIsKmXCI6XCLvv6RcIixcIsKsXCI6XCLvv6JcIixcIsKvXCI6XCLvv6NcIixcIuKAk1wiOlwi77iyXCIsXCLigJRcIjpcIu+4sVwiLFwi4oCYXCI6XCLvuYNcIixcIuKAmVwiOlwi77mEXCIsXCLigJxcIjpcIu+5gVwiLFwi4oCdXCI6XCLvuYJcIixcIuKAplwiOlwi77iZXCIsXCLigKdcIjpcIuODu1wiLFwi4oKpXCI6XCLvv6ZcIixcIuOAgVwiOlwi77iRXCIsXCLjgIJcIjpcIu+4klwiLFwi44CIXCI6XCLvuL9cIixcIuOAiVwiOlwi77mAXCIsXCLjgIpcIjpcIu+4vVwiLFwi44CLXCI6XCLvuL5cIixcIuOAjFwiOlwi77mBXCIsXCLjgI1cIjpcIu+5glwiLFwi44COXCI6XCLvuYNcIixcIuOAj1wiOlwi77mEXCIsXCLjgJBcIjpcIu+4u1wiLFwi44CRXCI6XCLvuLxcIixcIuOAlFwiOlwi77i5XCIsXCLjgJVcIjpcIu+4ulwiLFwi44CWXCI6XCLvuJdcIixcIuOAl1wiOlwi77iYXCIsXCLvvIFcIjpcIu+4lVwiLFwi77yIXCI6XCLvuLVcIixcIu+8iVwiOlwi77i2XCIsXCLvvIxcIjpcIu+4kFwiLFwi77yNXCI6XCLvuLJcIixcIu+8jlwiOlwi44O7XCIsXCLvvJpcIjpcIu+4k1wiLFwi77ybXCI6XCLvuJRcIixcIu+8nFwiOlwi77i/XCIsXCLvvJ5cIjpcIu+5gFwiLFwi77yfXCI6XCLvuJZcIixcIu+8u1wiOlwi77mHXCIsXCLvvL1cIjpcIu+5iFwiLFwi77y/XCI6XCLvuLNcIixcIu+9m1wiOlwi77i3XCIsXCLvvZxcIjpcIuKAlVwiLFwi772dXCI6XCLvuLhcIixcIu+9n1wiOlwi77i1XCIsXCLvvaBcIjpcIu+4tlwiLFwi772hXCI6XCLvuJJcIixcIu+9olwiOlwi77mBXCIsXCLvvaNcIjpcIu+5glwifTtmdW5jdGlvbiBnaChlKXtyZXR1cm5cIu+4tlwiPT09ZXx8XCLvuYhcIj09PWV8fFwi77i4XCI9PT1lfHxcIu+5hFwiPT09ZXx8XCLvuYJcIj09PWV8fFwi77i+XCI9PT1lfHxcIu+4vFwiPT09ZXx8XCLvuLpcIj09PWV8fFwi77iYXCI9PT1lfHxcIu+5gFwiPT09ZXx8XCLvuJBcIj09PWV8fFwi77iTXCI9PT1lfHxcIu+4lFwiPT09ZXx8XCLvvYBcIj09PWV8fFwi77+jXCI9PT1lfHxcIu+4kVwiPT09ZXx8XCLvuJJcIj09PWV9ZnVuY3Rpb24gX2goZSl7cmV0dXJuXCLvuLVcIj09PWV8fFwi77mHXCI9PT1lfHxcIu+4t1wiPT09ZXx8XCLvuYNcIj09PWV8fFwi77mBXCI9PT1lfHxcIu+4vVwiPT09ZXx8XCLvuLtcIj09PWV8fFwi77i5XCI9PT1lfHxcIu+4l1wiPT09ZXx8XCLvuL9cIj09PWV9dmFyIHloPWJoLHZoPWZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIG8sYSxzPTgqaS1uLTEsbD0oMTw8cyktMSxjPWw+PjEsdT0tNyxoPXI/aS0xOjAsZD1yPy0xOjEscD1lW3QraF07Zm9yKGgrPWQsbz1wJigxPDwtdSktMSxwPj49LXUsdSs9czt1PjA7bz0yNTYqbytlW3QraF0saCs9ZCx1LT04KTtmb3IoYT1vJigxPDwtdSktMSxvPj49LXUsdSs9bjt1PjA7YT0yNTYqYStlW3QraF0saCs9ZCx1LT04KTtpZigwPT09bylvPTEtYztlbHNle2lmKG89PT1sKXJldHVybiBhP05hTjoxLzAqKHA/LTE6MSk7YSs9TWF0aC5wb3coMixuKSxvLT1jfXJldHVybihwPy0xOjEpKmEqTWF0aC5wb3coMixvLW4pfSx4aD1mdW5jdGlvbihlLHQscixuLGksbyl7dmFyIGEscyxsLGM9OCpvLWktMSx1PSgxPDxjKS0xLGg9dT4+MSxkPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1uPzA6by0xLGY9bj8xOi0xLG09dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhzPWlzTmFOKHQpPzE6MCxhPXUpOihhPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGw9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sbCo9MiksKHQrPWEraD49MT9kL2w6ZCpNYXRoLnBvdygyLDEtaCkpKmw+PTImJihhKyssbC89MiksYStoPj11PyhzPTAsYT11KTphK2g+PTE/KHM9KHQqbC0xKSpNYXRoLnBvdygyLGkpLGErPWgpOihzPXQqTWF0aC5wb3coMixoLTEpKk1hdGgucG93KDIsaSksYT0wKSk7aT49ODtlW3IrcF09MjU1JnMscCs9ZixzLz0yNTYsaS09OCk7Zm9yKGE9YTw8aXxzLGMrPWk7Yz4wO2VbcitwXT0yNTUmYSxwKz1mLGEvPTI1NixjLT04KTtlW3IrcC1mXXw9MTI4Km19O2Z1bmN0aW9uIGJoKGUpe3RoaXMuYnVmPUFycmF5QnVmZmVyLmlzVmlldyYmQXJyYXlCdWZmZXIuaXNWaWV3KGUpP2U6bmV3IFVpbnQ4QXJyYXkoZXx8MCksdGhpcy5wb3M9MCx0aGlzLnR5cGU9MCx0aGlzLmxlbmd0aD10aGlzLmJ1Zi5sZW5ndGh9YmguVmFyaW50PTAsYmguRml4ZWQ2ND0xLGJoLkJ5dGVzPTIsYmguRml4ZWQzMj01O3ZhciB3aD00Mjk0OTY3Mjk2LFRoPTEvd2gsRWg9XCJ1bmRlZmluZWRcIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtmdW5jdGlvbiBTaChlKXtyZXR1cm4gZS50eXBlPT09YmguQnl0ZXM/ZS5yZWFkVmFyaW50KCkrZS5wb3M6ZS5wb3MrMX1mdW5jdGlvbiBDaChlLHQscil7cmV0dXJuIHI/NDI5NDk2NzI5Nip0KyhlPj4+MCk6NDI5NDk2NzI5NioodD4+PjApKyhlPj4+MCl9ZnVuY3Rpb24gTWgoZSx0LHIpe3ZhciBuPXQ8PTE2MzgzPzE6dDw9MjA5NzE1MT8yOnQ8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2codCkvKDcqTWF0aC5MTjIpKTtyLnJlYWxsb2Mobik7Zm9yKHZhciBpPXIucG9zLTE7aT49ZTtpLS0pci5idWZbaStuXT1yLmJ1ZltpXX1mdW5jdGlvbiBraChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQud3JpdGVWYXJpbnQoZVtyXSl9ZnVuY3Rpb24gQWgoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlU1ZhcmludChlW3JdKX1mdW5jdGlvbiBJaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQud3JpdGVGbG9hdChlW3JdKX1mdW5jdGlvbiBQaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQud3JpdGVEb3VibGUoZVtyXSl9ZnVuY3Rpb24gemgoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlQm9vbGVhbihlW3JdKX1mdW5jdGlvbiBEaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQud3JpdGVGaXhlZDMyKGVbcl0pfWZ1bmN0aW9uIFJoKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdC53cml0ZVNGaXhlZDMyKGVbcl0pfWZ1bmN0aW9uIExoKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdC53cml0ZUZpeGVkNjQoZVtyXSl9ZnVuY3Rpb24gT2goZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlU0ZpeGVkNjQoZVtyXSl9ZnVuY3Rpb24gQmgoZSx0KXtyZXR1cm4oZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNikrMTY3NzcyMTYqZVt0KzNdfWZ1bmN0aW9uIEZoKGUsdCxyKXtlW3JdPXQsZVtyKzFdPXQ+Pj44LGVbcisyXT10Pj4+MTYsZVtyKzNdPXQ+Pj4yNH1mdW5jdGlvbiBqaChlLHQpe3JldHVybihlW3RdfGVbdCsxXTw8OHxlW3QrMl08PDE2KSsoZVt0KzNdPDwyNCl9ZnVuY3Rpb24gVWgoZSx0LHIpe3QuZ2x5cGhzPVtdLDE9PT1lJiZyLnJlYWRNZXNzYWdlKE5oLHQpfWZ1bmN0aW9uIE5oKGUsdCxyKXtpZigzPT09ZSl7Y29uc3R7aWQ6ZSxiaXRtYXA6bix3aWR0aDppLGhlaWdodDpvLGxlZnQ6YSx0b3A6cyxhZHZhbmNlOmx9PXIucmVhZE1lc3NhZ2UoVmgse30pO3QuZ2x5cGhzLnB1c2goe2lkOmUsYml0bWFwOm5ldyBoYyh7d2lkdGg6aSs2LGhlaWdodDpvKzZ9LG4pLG1ldHJpY3M6e3dpZHRoOmksaGVpZ2h0Om8sbGVmdDphLHRvcDpzLGFkdmFuY2U6bH19KX1lbHNlIDQ9PT1lP3QuYXNjZW5kZXI9ci5yZWFkU1ZhcmludCgpOjU9PT1lJiYodC5kZXNjZW5kZXI9ci5yZWFkU1ZhcmludCgpKX1mdW5jdGlvbiBWaChlLHQscil7MT09PWU/dC5pZD1yLnJlYWRWYXJpbnQoKToyPT09ZT90LmJpdG1hcD1yLnJlYWRCeXRlcygpOjM9PT1lP3Qud2lkdGg9ci5yZWFkVmFyaW50KCk6ND09PWU/dC5oZWlnaHQ9ci5yZWFkVmFyaW50KCk6NT09PWU/dC5sZWZ0PXIucmVhZFNWYXJpbnQoKTo2PT09ZT90LnRvcD1yLnJlYWRTVmFyaW50KCk6Nz09PWUmJih0LmFkdmFuY2U9ci5yZWFkVmFyaW50KCkpfWZ1bmN0aW9uIEdoKGUpe2xldCB0PTAscj0wO2Zvcihjb25zdCBuIG9mIGUpdCs9bi53Km4uaCxyPU1hdGgubWF4KHIsbi53KTtlLnNvcnQoKGUsdCk9PnQuaC1lLmgpO2NvbnN0IG49W3t4OjAseTowLHc6TWF0aC5tYXgoTWF0aC5jZWlsKE1hdGguc3FydCh0Ly45NSkpLHIpLGg6MS8wfV07bGV0IGk9MCxvPTA7Zm9yKGNvbnN0IHQgb2YgZSlmb3IobGV0IGU9bi5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3Qgcj1uW2VdO2lmKCEodC53PnIud3x8dC5oPnIuaCkpe2lmKHQueD1yLngsdC55PXIueSxvPU1hdGgubWF4KG8sdC55K3QuaCksaT1NYXRoLm1heChpLHQueCt0LncpLHQudz09PXIudyYmdC5oPT09ci5oKXtjb25zdCB0PW4ucG9wKCk7ZTxuLmxlbmd0aCYmKG5bZV09dCl9ZWxzZSB0Lmg9PT1yLmg/KHIueCs9dC53LHIudy09dC53KTp0Lnc9PT1yLnc/KHIueSs9dC5oLHIuaC09dC5oKToobi5wdXNoKHt4OnIueCt0LncseTpyLnksdzpyLnctdC53LGg6dC5ofSksci55Kz10Lmgsci5oLT10LmgpO2JyZWFrfX1yZXR1cm57dzppLGg6byxmaWxsOnQvKGkqbyl8fDB9fWJoLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGx9LHJlYWRGaWVsZHM6ZnVuY3Rpb24oZSx0LHIpe2ZvcihyPXJ8fHRoaXMubGVuZ3RoO3RoaXMucG9zPHI7KXt2YXIgbj10aGlzLnJlYWRWYXJpbnQoKSxpPW4+PjMsbz10aGlzLnBvczt0aGlzLnR5cGU9NyZuLGUoaSx0LHRoaXMpLHRoaXMucG9zPT09byYmdGhpcy5za2lwKG4pfXJldHVybiB0fSxyZWFkTWVzc2FnZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJlYWRGaWVsZHMoZSx0LHRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zKX0scmVhZEZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgZT1CaCh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGV9LHJlYWRTRml4ZWQzMjpmdW5jdGlvbigpe3ZhciBlPWpoKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZEZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgZT1CaCh0aGlzLmJ1Zix0aGlzLnBvcykrQmgodGhpcy5idWYsdGhpcy5wb3MrNCkqd2g7cmV0dXJuIHRoaXMucG9zKz04LGV9LHJlYWRTRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciBlPUJoKHRoaXMuYnVmLHRoaXMucG9zKStqaCh0aGlzLmJ1Zix0aGlzLnBvcys0KSp3aDtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZEZsb2F0OmZ1bmN0aW9uKCl7dmFyIGU9dmgodGhpcy5idWYsdGhpcy5wb3MsITAsMjMsNCk7cmV0dXJuIHRoaXMucG9zKz00LGV9LHJlYWREb3VibGU6ZnVuY3Rpb24oKXt2YXIgZT12aCh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFZhcmludDpmdW5jdGlvbihlKXt2YXIgdCxyLG49dGhpcy5idWY7cmV0dXJuIHQ9MTI3JihyPW5bdGhpcy5wb3MrK10pLHI8MTI4P3Q6KHR8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDw3LHI8MTI4P3Q6KHR8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDwxNCxyPDEyOD90Oih0fD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MjEscjwxMjg/dDpmdW5jdGlvbihlLHQscil7dmFyIG4saSxvPXIuYnVmO2lmKG49KDExMiYoaT1vW3IucG9zKytdKSk+PjQsaTwxMjgpcmV0dXJuIENoKGUsbix0KTtpZihufD0oMTI3JihpPW9bci5wb3MrK10pKTw8MyxpPDEyOClyZXR1cm4gQ2goZSxuLHQpO2lmKG58PSgxMjcmKGk9b1tyLnBvcysrXSkpPDwxMCxpPDEyOClyZXR1cm4gQ2goZSxuLHQpO2lmKG58PSgxMjcmKGk9b1tyLnBvcysrXSkpPDwxNyxpPDEyOClyZXR1cm4gQ2goZSxuLHQpO2lmKG58PSgxMjcmKGk9b1tyLnBvcysrXSkpPDwyNCxpPDEyOClyZXR1cm4gQ2goZSxuLHQpO2lmKG58PSgxJihpPW9bci5wb3MrK10pKTw8MzEsaTwxMjgpcmV0dXJuIENoKGUsbix0KTt0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlc1wiKX0odHw9KDE1JihyPW5bdGhpcy5wb3NdKSk8PDI4LGUsdGhpcykpKSl9LHJlYWRWYXJpbnQ2NDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRWYXJpbnQoITApfSxyZWFkU1ZhcmludDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpO3JldHVybiBlJTI9PTE/KGUrMSkvLTI6ZS8yfSxyZWFkQm9vbGVhbjpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKX0scmVhZFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLHQ9dGhpcy5wb3M7cmV0dXJuIHRoaXMucG9zPWUsZS10Pj0xMiYmRWg/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBFaC5kZWNvZGUoZS5zdWJhcnJheSh0LHIpKX0odGhpcy5idWYsdCxlKTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPVwiXCIsaT10O2k8cjspe3ZhciBvLGEscyxsPWVbaV0sYz1udWxsLHU9bD4yMzk/NDpsPjIyMz8zOmw+MTkxPzI6MTtpZihpK3U+cilicmVhazsxPT09dT9sPDEyOCYmKGM9bCk6Mj09PXU/MTI4PT0oMTkyJihvPWVbaSsxXSkpJiYoYz0oMzEmbCk8PDZ8NjMmbyk8PTEyNyYmKGM9bnVsbCk6Mz09PXU/KGE9ZVtpKzJdLDEyOD09KDE5MiYobz1lW2krMV0pKSYmMTI4PT0oMTkyJmEpJiYoKGM9KDE1JmwpPDwxMnwoNjMmbyk8PDZ8NjMmYSk8PTIwNDd8fGM+PTU1Mjk2JiZjPD01NzM0MykmJihjPW51bGwpKTo0PT09dSYmKGE9ZVtpKzJdLHM9ZVtpKzNdLDEyOD09KDE5MiYobz1lW2krMV0pKSYmMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImcykmJigoYz0oMTUmbCk8PDE4fCg2MyZvKTw8MTJ8KDYzJmEpPDw2fDYzJnMpPD02NTUzNXx8Yz49MTExNDExMikmJihjPW51bGwpKSxudWxsPT09Yz8oYz02NTUzMyx1PTEpOmM+NjU1MzUmJihjLT02NTUzNixuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGM+Pj4xMCYxMDIzfDU1Mjk2KSxjPTU2MzIwfDEwMjMmYyksbis9U3RyaW5nLmZyb21DaGFyQ29kZShjKSxpKz11fXJldHVybiBufSh0aGlzLmJ1Zix0LGUpfSxyZWFkQnl0ZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyx0PXRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLGUpO3JldHVybiB0aGlzLnBvcz1lLHR9LHJlYWRQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnR5cGUhPT1iaC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFZhcmludCh0KSk7dmFyIHI9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8cjspZS5wdXNoKHRoaXMucmVhZFZhcmludCh0KSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTt2YXIgdD1TaCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEJvb2xlYW46ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09YmguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3ZhciB0PVNoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3JldHVybiBlfSxyZWFkUGFja2VkRmxvYXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09YmguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTt2YXIgdD1TaCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09YmguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7dmFyIHQ9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09YmguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3ZhciB0PVNoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3JldHVybiBlfSxyZWFkUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09YmguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTt2YXIgdD1TaCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTt2YXIgdD1TaCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7dmFyIHQ9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3JldHVybiBlfSxza2lwOmZ1bmN0aW9uKGUpe3ZhciB0PTcmZTtpZih0PT09YmguVmFyaW50KWZvcig7dGhpcy5idWZbdGhpcy5wb3MrK10+MTI3Oyk7ZWxzZSBpZih0PT09YmguQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZih0PT09YmguRml4ZWQzMil0aGlzLnBvcys9NDtlbHNle2lmKHQhPT1iaC5GaXhlZDY0KXRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQgdHlwZTogXCIrdCk7dGhpcy5wb3MrPTh9fSx3cml0ZVRhZzpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVWYXJpbnQoZTw8M3x0KX0scmVhbGxvYzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5sZW5ndGh8fDE2O3Q8dGhpcy5wb3MrZTspdCo9MjtpZih0IT09dGhpcy5sZW5ndGgpe3ZhciByPW5ldyBVaW50OEFycmF5KHQpO3Iuc2V0KHRoaXMuYnVmKSx0aGlzLmJ1Zj1yLHRoaXMubGVuZ3RoPXR9fSxmaW5pc2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9dGhpcy5wb3MsdGhpcy5wb3M9MCx0aGlzLmJ1Zi5zdWJhcnJheSgwLHRoaXMubGVuZ3RoKX0sd3JpdGVGaXhlZDMyOmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg0KSxGaCh0aGlzLmJ1ZixlLHRoaXMucG9zKSx0aGlzLnBvcys9NH0sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksRmgodGhpcy5idWYsZSx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlRml4ZWQ2NDpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoOCksRmgodGhpcy5idWYsLTEmZSx0aGlzLnBvcyksRmgodGhpcy5idWYsTWF0aC5mbG9vcihlKlRoKSx0aGlzLnBvcys0KSx0aGlzLnBvcys9OH0sd3JpdGVTRml4ZWQ2NDpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoOCksRmgodGhpcy5idWYsLTEmZSx0aGlzLnBvcyksRmgodGhpcy5idWYsTWF0aC5mbG9vcihlKlRoKSx0aGlzLnBvcys0KSx0aGlzLnBvcys9OH0sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24oZSl7KGU9K2V8fDApPjI2ODQzNTQ1NXx8ZTwwP2Z1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihlPj0wPyhyPWUlNDI5NDk2NzI5NnwwLG49ZS80Mjk0OTY3Mjk2fDApOihuPX4oLWUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4ocj1+KC1lJTQyOTQ5NjcyOTYpKT9yPXIrMXwwOihyPTAsbj1uKzF8MCkpLGU+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fGU8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gdmFyaW50IGRvZXNuJ3QgZml0IGludG8gMTAgYnl0ZXNcIik7dC5yZWFsbG9jKDEwKSxmdW5jdGlvbihlLHQscil7ci5idWZbci5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsci5idWZbci5wb3MrK109MTI3JmV8MTI4LHIuYnVmW3IucG9zXT0xMjcmKGU+Pj49Nyl9KHIsMCx0KSxmdW5jdGlvbihlLHQpe3ZhciByPSg3JmUpPDw0O3QuYnVmW3QucG9zKytdfD1yfCgoZT4+Pj0zKT8xMjg6MCksZSYmKHQuYnVmW3QucG9zKytdPTEyNyZlfCgoZT4+Pj03KT8xMjg6MCksZSYmKHQuYnVmW3QucG9zKytdPTEyNyZlfCgoZT4+Pj03KT8xMjg6MCksZSYmKHQuYnVmW3QucG9zKytdPTEyNyZlfCgoZT4+Pj03KT8xMjg6MCksZSYmKHQuYnVmW3QucG9zKytdPTEyNyZlfCgoZT4+Pj03KT8xMjg6MCksZSYmKHQuYnVmW3QucG9zKytdPTEyNyZlKSkpKSl9KG4sdCl9KGUsdGhpcyk6KHRoaXMucmVhbGxvYyg0KSx0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmZXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPWU+Pj43JjEyNykpKSl9LHdyaXRlU1ZhcmludDpmdW5jdGlvbihlKXt0aGlzLndyaXRlVmFyaW50KGU8MD8yKi1lLTE6MiplKX0sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKGUpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbihlKSl9LHdyaXRlU3RyaW5nOmZ1bmN0aW9uKGUpe2U9U3RyaW5nKGUpLHRoaXMucmVhbGxvYyg0KmUubGVuZ3RoKSx0aGlzLnBvcysrO3ZhciB0PXRoaXMucG9zO3RoaXMucG9zPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG4saSxvPTA7bzx0Lmxlbmd0aDtvKyspe2lmKChuPXQuY2hhckNvZGVBdChvKSk+NTUyOTUmJm48NTczNDQpe2lmKCFpKXtuPjU2MzE5fHxvKzE9PT10Lmxlbmd0aD8oZVtyKytdPTIzOSxlW3IrK109MTkxLGVbcisrXT0xODkpOmk9bjtjb250aW51ZX1pZihuPDU2MzIwKXtlW3IrK109MjM5LGVbcisrXT0xOTEsZVtyKytdPTE4OSxpPW47Y29udGludWV9bj1pLTU1Mjk2PDwxMHxuLTU2MzIwfDY1NTM2LGk9bnVsbH1lbHNlIGkmJihlW3IrK109MjM5LGVbcisrXT0xOTEsZVtyKytdPTE4OSxpPW51bGwpO248MTI4P2VbcisrXT1uOihuPDIwNDg/ZVtyKytdPW4+PjZ8MTkyOihuPDY1NTM2P2VbcisrXT1uPj4xMnwyMjQ6KGVbcisrXT1uPj4xOHwyNDAsZVtyKytdPW4+PjEyJjYzfDEyOCksZVtyKytdPW4+PjYmNjN8MTI4KSxlW3IrK109NjMmbnwxMjgpfXJldHVybiByfSh0aGlzLmJ1ZixlLHRoaXMucG9zKTt2YXIgcj10aGlzLnBvcy10O3I+PTEyOCYmTWgodCxyLHRoaXMpLHRoaXMucG9zPXQtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yfSx3cml0ZUZsb2F0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg0KSx4aCh0aGlzLmJ1ZixlLHRoaXMucG9zLCEwLDIzLDQpLHRoaXMucG9zKz00fSx3cml0ZURvdWJsZTpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoOCkseGgodGhpcy5idWYsZSx0aGlzLnBvcywhMCw1Miw4KSx0aGlzLnBvcys9OH0sd3JpdGVCeXRlczpmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KHQpLHRoaXMucmVhbGxvYyh0KTtmb3IodmFyIHI9MDtyPHQ7cisrKXRoaXMuYnVmW3RoaXMucG9zKytdPWVbcl19LHdyaXRlUmF3TWVzc2FnZTpmdW5jdGlvbihlLHQpe3RoaXMucG9zKys7dmFyIHI9dGhpcy5wb3M7ZSh0LHRoaXMpO3ZhciBuPXRoaXMucG9zLXI7bj49MTI4JiZNaChyLG4sdGhpcyksdGhpcy5wb3M9ci0xLHRoaXMud3JpdGVWYXJpbnQobiksdGhpcy5wb3MrPW59LHdyaXRlTWVzc2FnZTpmdW5jdGlvbihlLHQscil7dGhpcy53cml0ZVRhZyhlLGJoLkJ5dGVzKSx0aGlzLndyaXRlUmF3TWVzc2FnZSh0LHIpfSx3cml0ZVBhY2tlZFZhcmludDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLGtoLHQpfSx3cml0ZVBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxBaCx0KX0sd3JpdGVQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsemgsdCl9LHdyaXRlUGFja2VkRmxvYXQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxJaCx0KX0sd3JpdGVQYWNrZWREb3VibGU6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxQaCx0KX0sd3JpdGVQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsRGgsdCl9LHdyaXRlUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxSaCx0KX0sd3JpdGVQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsTGgsdCl9LHdyaXRlUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxPaCx0KX0sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXModCl9LHdyaXRlRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLkZpeGVkMzIpLHRoaXMud3JpdGVGaXhlZDMyKHQpfSx3cml0ZVNGaXhlZDMyRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsYmguRml4ZWQzMiksdGhpcy53cml0ZVNGaXhlZDMyKHQpfSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NCh0KX0sd3JpdGVTRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLkZpeGVkNjQpLHRoaXMud3JpdGVTRml4ZWQ2NCh0KX0sd3JpdGVWYXJpbnRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5WYXJpbnQpLHRoaXMud3JpdGVWYXJpbnQodCl9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQodCl9LHdyaXRlU3RyaW5nRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsYmguQnl0ZXMpLHRoaXMud3JpdGVTdHJpbmcodCl9LHdyaXRlRmxvYXRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5GaXhlZDMyKSx0aGlzLndyaXRlRmxvYXQodCl9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsYmguRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZSh0KX0sd3JpdGVCb29sZWFuRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50RmllbGQoZSxCb29sZWFuKHQpKX19O2NsYXNzIHFoe2NvbnN0cnVjdG9yKGUse3BpeGVsUmF0aW86dCx2ZXJzaW9uOnIsc3RyZXRjaFg6bixzdHJldGNoWTppLGNvbnRlbnQ6b30pe3RoaXMucGFkZGVkUmVjdD1lLHRoaXMucGl4ZWxSYXRpbz10LHRoaXMuc3RyZXRjaFg9bix0aGlzLnN0cmV0Y2hZPWksdGhpcy5jb250ZW50PW8sdGhpcy52ZXJzaW9uPXJ9Z2V0IHRsKCl7cmV0dXJuW3RoaXMucGFkZGVkUmVjdC54KzEsdGhpcy5wYWRkZWRSZWN0LnkrMV19Z2V0IGJyKCl7cmV0dXJuW3RoaXMucGFkZGVkUmVjdC54K3RoaXMucGFkZGVkUmVjdC53LTEsdGhpcy5wYWRkZWRSZWN0LnkrdGhpcy5wYWRkZWRSZWN0LmgtMV19Z2V0IGRpc3BsYXlTaXplKCl7cmV0dXJuWyh0aGlzLnBhZGRlZFJlY3Qudy0yKS90aGlzLnBpeGVsUmF0aW8sKHRoaXMucGFkZGVkUmVjdC5oLTIpL3RoaXMucGl4ZWxSYXRpb119fWNsYXNzIFpoe2NvbnN0cnVjdG9yKGUsdCl7Y29uc3Qgcj17fSxuPXt9O3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz1bXTtjb25zdCBpPVtdO3RoaXMuYWRkSW1hZ2VzKGUscixpKSx0aGlzLmFkZEltYWdlcyh0LG4saSk7Y29uc3R7dzpvLGg6YX09R2goaSkscz1uZXcgZGMoe3dpZHRoOm98fDEsaGVpZ2h0OmF8fDF9KTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBuPWVbdF0saT1yW3RdLnBhZGRlZFJlY3Q7ZGMuY29weShuLmRhdGEscyx7eDowLHk6MH0se3g6aS54KzEseTppLnkrMX0sbi5kYXRhKX1mb3IoY29uc3QgZSBpbiB0KXtjb25zdCByPXRbZV0saT1uW2VdLnBhZGRlZFJlY3Qsbz1pLngrMSxhPWkueSsxLGw9ci5kYXRhLndpZHRoLGM9ci5kYXRhLmhlaWdodDtkYy5jb3B5KHIuZGF0YSxzLHt4OjAseTowfSx7eDpvLHk6YX0sci5kYXRhKSxkYy5jb3B5KHIuZGF0YSxzLHt4OjAseTpjLTF9LHt4Om8seTphLTF9LHt3aWR0aDpsLGhlaWdodDoxfSksZGMuY29weShyLmRhdGEscyx7eDowLHk6MH0se3g6byx5OmErY30se3dpZHRoOmwsaGVpZ2h0OjF9KSxkYy5jb3B5KHIuZGF0YSxzLHt4OmwtMSx5OjB9LHt4Om8tMSx5OmF9LHt3aWR0aDoxLGhlaWdodDpjfSksZGMuY29weShyLmRhdGEscyx7eDowLHk6MH0se3g6bytsLHk6YX0se3dpZHRoOjEsaGVpZ2h0OmN9KX10aGlzLmltYWdlPXMsdGhpcy5pY29uUG9zaXRpb25zPXIsdGhpcy5wYXR0ZXJuUG9zaXRpb25zPW59YWRkSW1hZ2VzKGUsdCxyKXtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBpPWVbbl0sbz17eDowLHk6MCx3OmkuZGF0YS53aWR0aCsyLGg6aS5kYXRhLmhlaWdodCsyfTtyLnB1c2gobyksdFtuXT1uZXcgcWgobyxpKSxpLmhhc1JlbmRlckNhbGxiYWNrJiZ0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MucHVzaChuKX19cGF0Y2hVcGRhdGVkSW1hZ2VzKGUsdCl7dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzPXRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcy5maWx0ZXIodD0+ZS5oYXNJbWFnZSh0KSksZS5kaXNwYXRjaFJlbmRlckNhbGxiYWNrcyh0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MpO2Zvcihjb25zdCByIGluIGUudXBkYXRlZEltYWdlcyl0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMuaWNvblBvc2l0aW9uc1tyXSxlLmdldEltYWdlKHIpLHQpLHRoaXMucGF0Y2hVcGRhdGVkSW1hZ2UodGhpcy5wYXR0ZXJuUG9zaXRpb25zW3JdLGUuZ2V0SW1hZ2UociksdCl9cGF0Y2hVcGRhdGVkSW1hZ2UoZSx0LHIpe2lmKCFlfHwhdClyZXR1cm47aWYoZS52ZXJzaW9uPT09dC52ZXJzaW9uKXJldHVybjtlLnZlcnNpb249dC52ZXJzaW9uO2NvbnN0W24saV09ZS50bDtyLnVwZGF0ZSh0LmRhdGEsdm9pZCAwLHt4Om4seTppfSl9fUlpKHFoLFwiSW1hZ2VQb3NpdGlvblwiKSxJaShaaCxcIkltYWdlQXRsYXNcIik7Y29uc3QgJGg9e2hvcml6b250YWw6MSx2ZXJ0aWNhbDoyLGhvcml6b250YWxPbmx5OjN9O2NsYXNzIFdoe2NvbnN0cnVjdG9yKCl7dGhpcy5zY2FsZT0xLHRoaXMuZm9udFN0YWNrPVwiXCIsdGhpcy5pbWFnZU5hbWU9bnVsbH1zdGF0aWMgZm9yVGV4dChlLHQpe2NvbnN0IHI9bmV3IFdoO3JldHVybiByLnNjYWxlPWV8fDEsci5mb250U3RhY2s9dCxyfXN0YXRpYyBmb3JJbWFnZShlKXtjb25zdCB0PW5ldyBXaDtyZXR1cm4gdC5pbWFnZU5hbWU9ZSx0fX1jbGFzcyBYaHtjb25zdHJ1Y3Rvcigpe3RoaXMudGV4dD1cIlwiLHRoaXMuc2VjdGlvbkluZGV4PVtdLHRoaXMuc2VjdGlvbnM9W10sdGhpcy5pbWFnZVNlY3Rpb25JRD1udWxsfXN0YXRpYyBmcm9tRmVhdHVyZShlLHQpe2NvbnN0IHI9bmV3IFhoO2ZvcihsZXQgbj0wO248ZS5zZWN0aW9ucy5sZW5ndGg7bisrKXtjb25zdCBpPWUuc2VjdGlvbnNbbl07aS5pbWFnZT9yLmFkZEltYWdlU2VjdGlvbihpKTpyLmFkZFRleHRTZWN0aW9uKGksdCl9cmV0dXJuIHJ9bGVuZ3RoKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9Z2V0U2VjdGlvbihlKXtyZXR1cm4gdGhpcy5zZWN0aW9uc1t0aGlzLnNlY3Rpb25JbmRleFtlXV19Z2V0U2VjdGlvbnMoKXtyZXR1cm4gdGhpcy5zZWN0aW9uc31nZXRTZWN0aW9uSW5kZXgoZSl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4W2VdfWdldENoYXJDb2RlKGUpe3JldHVybiB0aGlzLnRleHQuY2hhckNvZGVBdChlKX12ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKGUpe3RoaXMudGV4dD1mdW5jdGlvbihlLHQpe2xldCByPVwiXCI7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9ZS5jaGFyQ29kZUF0KG4rMSl8fG51bGwsbz1lLmNoYXJDb2RlQXQobi0xKXx8bnVsbDtyKz0hdCYmKGkmJmZvKGkpJiYhbWhbZVtuKzFdXXx8byYmZm8obykmJiFtaFtlW24tMV1dKXx8IW1oW2Vbbl1dP2Vbbl06bWhbZVtuXV19cmV0dXJuIHJ9KHRoaXMudGV4dCxlKX10cmltKCl7bGV0IGU9MDtmb3IobGV0IHQ9MDt0PHRoaXMudGV4dC5sZW5ndGgmJlloW3RoaXMudGV4dC5jaGFyQ29kZUF0KHQpXTt0KyspZSsrO2xldCB0PXRoaXMudGV4dC5sZW5ndGg7Zm9yKGxldCByPXRoaXMudGV4dC5sZW5ndGgtMTtyPj0wJiZyPj1lJiZZaFt0aGlzLnRleHQuY2hhckNvZGVBdChyKV07ci0tKXQtLTt0aGlzLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyhlLHQpLHRoaXMuc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKGUsdCl9c3Vic3RyaW5nKGUsdCl7Y29uc3Qgcj1uZXcgWGg7cmV0dXJuIHIudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKGUsdCksci5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UoZSx0KSxyLnNlY3Rpb25zPXRoaXMuc2VjdGlvbnMscn10b1N0cmluZygpe3JldHVybiB0aGlzLnRleHR9Z2V0TWF4U2NhbGUoKXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXgucmVkdWNlKChlLHQpPT5NYXRoLm1heChlLHRoaXMuc2VjdGlvbnNbdF0uc2NhbGUpLDApfWFkZFRleHRTZWN0aW9uKGUsdCl7dGhpcy50ZXh0Kz1lLnRleHQsdGhpcy5zZWN0aW9ucy5wdXNoKFdoLmZvclRleHQoZS5zY2FsZSxlLmZvbnRTdGFja3x8dCkpO2NvbnN0IHI9dGhpcy5zZWN0aW9ucy5sZW5ndGgtMTtmb3IobGV0IHQ9MDt0PGUudGV4dC5sZW5ndGg7Kyt0KXRoaXMuc2VjdGlvbkluZGV4LnB1c2gocil9YWRkSW1hZ2VTZWN0aW9uKGUpe2NvbnN0IHQ9ZS5pbWFnZT9lLmltYWdlLm5hbWU6XCJcIjtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHZvaWQgVihcIkNhbid0IGFkZCBGb3JtYXR0ZWRTZWN0aW9uIHdpdGggYW4gZW1wdHkgaW1hZ2UuXCIpO2NvbnN0IHI9dGhpcy5nZXROZXh0SW1hZ2VTZWN0aW9uQ2hhckNvZGUoKTtyPyh0aGlzLnRleHQrPVN0cmluZy5mcm9tQ2hhckNvZGUociksdGhpcy5zZWN0aW9ucy5wdXNoKFdoLmZvckltYWdlKHQpKSx0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHRoaXMuc2VjdGlvbnMubGVuZ3RoLTEpKTpWKFwiUmVhY2hlZCBtYXhpbXVtIG51bWJlciBvZiBpbWFnZXMgNjQwMVwiKX1nZXROZXh0SW1hZ2VTZWN0aW9uQ2hhckNvZGUoKXtyZXR1cm4gdGhpcy5pbWFnZVNlY3Rpb25JRD90aGlzLmltYWdlU2VjdGlvbklEPj02Mzc0Mz9udWxsOisrdGhpcy5pbWFnZVNlY3Rpb25JRDoodGhpcy5pbWFnZVNlY3Rpb25JRD01NzM0NCx0aGlzLmltYWdlU2VjdGlvbklEKX19ZnVuY3Rpb24gSGgoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYpe2NvbnN0IG09WGguZnJvbUZlYXR1cmUoZSxpKTtoPT09JGgudmVydGljYWwmJm0udmVydGljYWxpemVQdW5jdHVhdGlvbihkKTtsZXQgZz1bXTtjb25zdCBfPWZ1bmN0aW9uKGUsdCxyLG4saSxvKXtpZighZSlyZXR1cm5bXTtjb25zdCBhPVtdLHM9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe2xldCBhPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aCgpO3IrKyl7Y29uc3Qgcz1lLmdldFNlY3Rpb24ocik7YSs9SmgoZS5nZXRDaGFyQ29kZShyKSxzLG4saSx0LG8pfXJldHVybiBhL01hdGgubWF4KDEsTWF0aC5jZWlsKGEvcikpfShlLHQscixuLGksbyksbD1lLnRleHQuaW5kZXhPZihcIuKAi1wiKT49MDtsZXQgYz0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgoKTtyKyspe2NvbnN0IGg9ZS5nZXRTZWN0aW9uKHIpLGQ9ZS5nZXRDaGFyQ29kZShyKTtpZihZaFtkXXx8KGMrPUpoKGQsaCxuLGksdCxvKSkscjxlLmxlbmd0aCgpLTEpe2NvbnN0IHQ9ISgodT1kKTwxMTkwNHx8ISgkaSh1KXx8WmkodSl8fG9vKHUpfHxybyh1KXx8WWkodSl8fGppKHUpfHxXaSh1KXx8VmkodSl8fEtpKHUpfHxKaSh1KXx8SGkodSl8fGxvKHUpfHxHaSh1KXx8TmkodSl8fFVpKHUpfHxYaSh1KXx8cWkodSl8fGlvKHUpfHxlbyh1KXx8UWkodSkpKTsoS2hbZF18fHR8fGguaW1hZ2VOYW1lKSYmYS5wdXNoKHRkKHIrMSxjLHMsYSxlZChkLGUuZ2V0Q2hhckNvZGUocisxKSx0JiZsKSwhMSkpfX12YXIgdTtyZXR1cm4gZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD9lKHQucHJpb3JCcmVhaykuY29uY2F0KHQuaW5kZXgpOltdfSh0ZChlLmxlbmd0aCgpLGMscyxhLDAsITApKX0obSxjLG8sdCxuLHApLHtwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ6eSxwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ6dn09QW87aWYoeSYmMT09PW0uc2VjdGlvbnMubGVuZ3RoKXtjb25zdCBlPXkobS50b1N0cmluZygpLF8pO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9bmV3IFhoO2UudGV4dD10LGUuc2VjdGlvbnM9bS5zZWN0aW9ucztmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyllLnNlY3Rpb25JbmRleC5wdXNoKDApO2cucHVzaChlKX19ZWxzZSBpZih2KXtjb25zdCBlPXYobS50ZXh0LG0uc2VjdGlvbkluZGV4LF8pO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9bmV3IFhoO2UudGV4dD10WzBdLGUuc2VjdGlvbkluZGV4PXRbMV0sZS5zZWN0aW9ucz1tLnNlY3Rpb25zLGcucHVzaChlKX19ZWxzZSBnPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bXSxuPWUudGV4dDtsZXQgaT0wO2Zvcihjb25zdCBuIG9mIHQpci5wdXNoKGUuc3Vic3RyaW5nKGksbikpLGk9bjtyZXR1cm4gaTxuLmxlbmd0aCYmci5wdXNoKGUuc3Vic3RyaW5nKGksbi5sZW5ndGgpKSxyfShtLF8pO2NvbnN0IHg9W10sYj17cG9zaXRpb25lZExpbmVzOngsdGV4dDptLnRvU3RyaW5nKCksdG9wOnVbMV0sYm90dG9tOnVbMV0sbGVmdDp1WzBdLHJpZ2h0OnVbMF0sd3JpdGluZ01vZGU6aCxpY29uc0luVGV4dDohMSx2ZXJ0aWNhbGl6YWJsZTohMSxoYXNCYXNlbGluZTohMX07cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoKXtsZXQgZD0wLHA9MCxmPTA7Y29uc3QgbT1cInJpZ2h0XCI9PT1zPzE6XCJsZWZ0XCI9PT1zPzA6LjU7bGV0IGc9ITE7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3Qgcj1lLmdldFNlY3Rpb25zKCk7Zm9yKGNvbnN0IGUgb2Ygcil7aWYoZS5pbWFnZU5hbWUpY29udGludWU7Y29uc3Qgcj10W2UuZm9udFN0YWNrXTtpZihyJiYoZz12b2lkIDAhPT1yLmFzY2VuZGVyJiZ2b2lkIDAhPT1yLmRlc2NlbmRlciwhZykpYnJlYWt9aWYoIWcpYnJlYWt9bGV0IF89MDtmb3IoY29uc3QgYSBvZiBpKXthLnRyaW0oKTtjb25zdCBpPWEuZ2V0TWF4U2NhbGUoKSxzPTI0KihpLTEpLHY9e3Bvc2l0aW9uZWRHbHlwaHM6W10sbGluZU9mZnNldDowfTtlLnBvc2l0aW9uZWRMaW5lc1tfXT12O2NvbnN0IHg9di5wb3NpdGlvbmVkR2x5cGhzO2xldCBiPTA7aWYoIWEubGVuZ3RoKCkpe3ArPW8sKytfO2NvbnRpbnVlfWxldCB3PTAsVD0wO2ZvcihsZXQgbz0wO288YS5sZW5ndGgoKTtvKyspe2NvbnN0IHM9YS5nZXRTZWN0aW9uKG8pLGY9YS5nZXRTZWN0aW9uSW5kZXgobyksbT1hLmdldENoYXJDb2RlKG8pO2xldCBfPXMuc2NhbGUsdj1udWxsLEU9bnVsbCxTPW51bGwsQz0yNCxNPTA7Y29uc3Qgaz0hKGw9PT0kaC5ob3Jpem9udGFsfHwhdSYmIXBvKG0pfHx1JiYoWWhbbV18fCh5PW0sT2koeSl8fEJpKHkpfHxGaSh5KXx8bm8oeSl8fHNvKHkpKSkpO2lmKHMuaW1hZ2VOYW1lKXtjb25zdCB0PW5bcy5pbWFnZU5hbWVdO2lmKCF0KWNvbnRpbnVlO1M9cy5pbWFnZU5hbWUsZS5pY29uc0luVGV4dD1lLmljb25zSW5UZXh0fHwhMCxFPXQucGFkZGVkUmVjdDtjb25zdCByPXQuZGlzcGxheVNpemU7Xz0yNCpfL2gsdj17d2lkdGg6clswXSxoZWlnaHQ6clsxXSxsZWZ0OjEsdG9wOi0zLGFkdmFuY2U6az9yWzFdOnJbMF0sbG9jYWxHbHlwaDohMX0sTT1nPy12LmhlaWdodCpfOjI0KmktMTctclsxXSpfLEM9di5hZHZhbmNlO2NvbnN0IG89KGs/clswXTpyWzFdKSpfLTI0Kmk7bz4wJiZvPmImJihiPW8pfWVsc2V7Y29uc3QgZT1yW3MuZm9udFN0YWNrXTtpZighZSljb250aW51ZTtlW21dJiYoRT1lW21dKTtjb25zdCBuPXRbcy5mb250U3RhY2tdO2lmKCFuKWNvbnRpbnVlO2NvbnN0IG89bi5nbHlwaHNbbV07aWYoIW8pY29udGludWU7aWYodj1vLm1ldHJpY3MsQz04MjAzIT09bT8yNDowLGcpe2NvbnN0IGU9dm9pZCAwIT09bi5hc2NlbmRlcj9NYXRoLmFicyhuLmFzY2VuZGVyKTowLHQ9dm9pZCAwIT09bi5kZXNjZW5kZXI/TWF0aC5hYnMobi5kZXNjZW5kZXIpOjAscj0oZSt0KSpfO3c8ciYmKHc9cixUPShlLXQpLzIqXyksTT0tZSpffWVsc2UgTT0yNCooaS1fKS0xN31rPyhlLnZlcnRpY2FsaXphYmxlPSEwLHgucHVzaCh7Z2x5cGg6bSxpbWFnZU5hbWU6Uyx4OmQseTpwK00sdmVydGljYWw6ayxzY2FsZTpfLGxvY2FsR2x5cGg6di5sb2NhbEdseXBoLGZvbnRTdGFjazpzLmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6ZixtZXRyaWNzOnYscmVjdDpFfSksZCs9QypfK2MpOih4LnB1c2goe2dseXBoOm0saW1hZ2VOYW1lOlMseDpkLHk6cCtNLHZlcnRpY2FsOmssc2NhbGU6Xyxsb2NhbEdseXBoOnYubG9jYWxHbHlwaCxmb250U3RhY2s6cy5mb250U3RhY2ssc2VjdGlvbkluZGV4OmYsbWV0cmljczp2LHJlY3Q6RX0pLGQrPXYuYWR2YW5jZSpfK2MpfTAhPT14Lmxlbmd0aCYmKGY9TWF0aC5tYXgoZC1jLGYpLGc/bmQoeCxtLGIsVCxvKmkvMik6bmQoeCxtLGIsMCxvLzIpKSxkPTA7Y29uc3QgRT1vKmkrYjt2LmxpbmVPZmZzZXQ9TWF0aC5tYXgoYixzKSxwKz1FLCsrX312YXIgeTtjb25zdCB2PXAse2hvcml6b250YWxBbGlnbjp4LHZlcnRpY2FsQWxpZ246Yn09cmQoYSk7KGZ1bmN0aW9uKGUsdCxyLG4saSxvKXtjb25zdCBhPSh0LXIpKmkscz0tbypuO2Zvcihjb25zdCB0IG9mIGUpZm9yKGNvbnN0IGUgb2YgdC5wb3NpdGlvbmVkR2x5cGhzKWUueCs9YSxlLnkrPXN9KShlLnBvc2l0aW9uZWRMaW5lcyxtLHgsYixmLHYpLGUudG9wKz0tYip2LGUuYm90dG9tPWUudG9wK3YsZS5sZWZ0Kz0teCpmLGUucmlnaHQ9ZS5sZWZ0K2YsZS5oYXNCYXNlbGluZT1nfShiLHQscixuLGcsYSxzLGwsaCxjLGQsZiksIWZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYoMCE9PXQucG9zaXRpb25lZEdseXBocy5sZW5ndGgpcmV0dXJuITE7cmV0dXJuITB9KHgpJiZifWNvbnN0IFloPXs5OiEwLDEwOiEwLDExOiEwLDEyOiEwLDEzOiEwLDMyOiEwfSxLaD17MTA6ITAsMzI6ITAsMzg6ITAsNDA6ITAsNDE6ITAsNDM6ITAsNDU6ITAsNDc6ITAsMTczOiEwLDE4MzohMCw4MjAzOiEwLDgyMDg6ITAsODIxMTohMCw4MjMxOiEwfTtmdW5jdGlvbiBKaChlLHQscixuLGksbyl7aWYodC5pbWFnZU5hbWUpe2NvbnN0IGU9blt0LmltYWdlTmFtZV07cmV0dXJuIGU/ZS5kaXNwbGF5U2l6ZVswXSp0LnNjYWxlKjI0L28raTowfXtjb25zdCBuPXJbdC5mb250U3RhY2tdLG89biYmbi5nbHlwaHNbZV07cmV0dXJuIG8/by5tZXRyaWNzLmFkdmFuY2UqdC5zY2FsZStpOjB9fWZ1bmN0aW9uIFFoKGUsdCxyLG4pe2NvbnN0IGk9TWF0aC5wb3coZS10LDIpO3JldHVybiBuP2U8dD9pLzI6MippOmkrTWF0aC5hYnMocikqcn1mdW5jdGlvbiBlZChlLHQscil7bGV0IG49MDtyZXR1cm4gMTA9PT1lJiYobi09MWU0KSxyJiYobis9MTUwKSw0MCE9PWUmJjY1Mjg4IT09ZXx8KG4rPTUwKSw0MSE9PXQmJjY1Mjg5IT09dHx8KG4rPTUwKSxufWZ1bmN0aW9uIHRkKGUsdCxyLG4saSxvKXtsZXQgYT1udWxsLHM9UWgodCxyLGksbyk7Zm9yKGNvbnN0IGUgb2Ygbil7Y29uc3Qgbj1RaCh0LWUueCxyLGksbykrZS5iYWRuZXNzO248PXMmJihhPWUscz1uKX1yZXR1cm57aW5kZXg6ZSx4OnQscHJpb3JCcmVhazphLGJhZG5lc3M6c319ZnVuY3Rpb24gcmQoZSl7bGV0IHQ9LjUscj0uNTtzd2l0Y2goZSl7Y2FzZVwicmlnaHRcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjp0PTE7YnJlYWs7Y2FzZVwibGVmdFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjp0PTB9c3dpdGNoKGUpe2Nhc2VcImJvdHRvbVwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cj0xO2JyZWFrO2Nhc2VcInRvcFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6cj0wfXJldHVybntob3Jpem9udGFsQWxpZ246dCx2ZXJ0aWNhbEFsaWduOnJ9fWZ1bmN0aW9uIG5kKGUsdCxyLG4saSl7aWYoISh0fHxyfHxufHxpKSlyZXR1cm47Y29uc3Qgbz1lLmxlbmd0aC0xLGE9ZVtvXSxzPShhLngrYS5tZXRyaWNzLmFkdmFuY2UqYS5zY2FsZSkqdDtmb3IobGV0IHQ9MDt0PD1vO3QrKyllW3RdLngtPXMsZVt0XS55Kz1yK24raX1mdW5jdGlvbiBpZChlLHQscil7Y29uc3R7aG9yaXpvbnRhbEFsaWduOm4sdmVydGljYWxBbGlnbjppfT1yZChyKSxvPXRbMF0tZS5kaXNwbGF5U2l6ZVswXSpuLGE9dFsxXS1lLmRpc3BsYXlTaXplWzFdKmk7cmV0dXJue2ltYWdlOmUsdG9wOmEsYm90dG9tOmErZS5kaXNwbGF5U2l6ZVsxXSxsZWZ0Om8scmlnaHQ6bytlLmRpc3BsYXlTaXplWzBdfX1mdW5jdGlvbiBvZChlLHQscixuLGksbyl7Y29uc3QgYT1lLmltYWdlO2xldCBzO2lmKGEuY29udGVudCl7Y29uc3QgZT1hLmNvbnRlbnQsdD1hLnBpeGVsUmF0aW98fDE7cz1bZVswXS90LGVbMV0vdCxhLmRpc3BsYXlTaXplWzBdLWVbMl0vdCxhLmRpc3BsYXlTaXplWzFdLWVbM10vdF19Y29uc3QgbD10LmxlZnQqbyxjPXQucmlnaHQqbztsZXQgdSxoLGQscDtcIndpZHRoXCI9PT1yfHxcImJvdGhcIj09PXI/KHA9aVswXStsLW5bM10saD1pWzBdK2MrblsxXSk6KHA9aVswXSsobCtjLWEuZGlzcGxheVNpemVbMF0pLzIsaD1wK2EuZGlzcGxheVNpemVbMF0pO2NvbnN0IGY9dC50b3AqbyxtPXQuYm90dG9tKm87cmV0dXJuXCJoZWlnaHRcIj09PXJ8fFwiYm90aFwiPT09cj8odT1pWzFdK2YtblswXSxkPWlbMV0rbStuWzJdKToodT1pWzFdKyhmK20tYS5kaXNwbGF5U2l6ZVsxXSkvMixkPXUrYS5kaXNwbGF5U2l6ZVsxXSkse2ltYWdlOmEsdG9wOnUscmlnaHQ6aCxib3R0b206ZCxsZWZ0OnAsY29sbGlzaW9uUGFkZGluZzpzfX1jbGFzcyBhZCBleHRlbmRzIG17Y29uc3RydWN0b3IoZSx0LHIsbixpKXtzdXBlcihlLHQpLHRoaXMuYW5nbGU9bix0aGlzLno9cix2b2lkIDAhPT1pJiYodGhpcy5zZWdtZW50PWkpfWNsb25lKCl7cmV0dXJuIG5ldyBhZCh0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLmFuZ2xlLHRoaXMuc2VnbWVudCl9fWZ1bmN0aW9uIHNkKGUsdCxyLG4saSl7aWYodm9pZCAwPT09dC5zZWdtZW50KXJldHVybiEwO2xldCBvPXQsYT10LnNlZ21lbnQrMSxzPTA7Zm9yKDtzPi1yLzI7KXtpZihhLS0sYTwwKXJldHVybiExO3MtPWVbYV0uZGlzdChvKSxvPWVbYV19cys9ZVthXS5kaXN0KGVbYSsxXSksYSsrO2NvbnN0IGw9W107bGV0IGM9MDtmb3IoO3M8ci8yOyl7Y29uc3QgdD1lW2FdLHI9ZVthKzFdO2lmKCFyKXJldHVybiExO2xldCBvPWVbYS0xXS5hbmdsZVRvKHQpLXQuYW5nbGVUbyhyKTtmb3Iobz1NYXRoLmFicygobyszKk1hdGguUEkpJSgyKk1hdGguUEkpLU1hdGguUEkpLGwucHVzaCh7ZGlzdGFuY2U6cyxhbmdsZURlbHRhOm99KSxjKz1vO3MtbFswXS5kaXN0YW5jZT5uOyljLT1sLnNoaWZ0KCkuYW5nbGVEZWx0YTtpZihjPmkpcmV0dXJuITE7YSsrLHMrPXQuZGlzdChyKX1yZXR1cm4hMH1mdW5jdGlvbiBsZChlKXtsZXQgdD0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgtMTtyKyspdCs9ZVtyXS5kaXN0KGVbcisxXSk7cmV0dXJuIHR9ZnVuY3Rpb24gY2QoZSx0LHIpe3JldHVybiBlPy42KnQqcjowfWZ1bmN0aW9uIHVkKGUsdCl7cmV0dXJuIE1hdGgubWF4KGU/ZS5yaWdodC1lLmxlZnQ6MCx0P3QucmlnaHQtdC5sZWZ0OjApfWZ1bmN0aW9uIGhkKGUsdCxyLG4saSxvKXtjb25zdCBhPWNkKHIsaSxvKSxzPXVkKHIsbikqbztsZXQgbD0wO2NvbnN0IGM9bGQoZSkvMjtmb3IobGV0IHI9MDtyPGUubGVuZ3RoLTE7cisrKXtjb25zdCBuPWVbcl0saT1lW3IrMV0sbz1uLmRpc3QoaSk7aWYobCtvPmMpe2NvbnN0IHU9KGMtbCkvbyxoPUNyKG4ueCxpLngsdSksZD1DcihuLnksaS55LHUpLHA9bmV3IGFkKGgsZCwwLGkuYW5nbGVUbyhuKSxyKTtyZXR1cm4hYXx8c2QoZSxwLHMsYSx0KT9wOnZvaWQgMH1sKz1vfX1mdW5jdGlvbiBkZChlLHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz1jZChuLG8sYSksdT11ZChuLGkpLGg9dSphLGQ9MD09PWVbMF0ueHx8ZVswXS54PT09bHx8MD09PWVbMF0ueXx8ZVswXS55PT09bDtyZXR1cm4gdC1oPHQvNCYmKHQ9aCt0LzQpLGZ1bmN0aW9uIGUodCxyLG4saSxvLGEscyxsLGMpe2NvbnN0IHU9YS8yLGg9bGQodCk7bGV0IGQ9MCxwPXItbixmPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspe2NvbnN0IHI9dFtlXSxzPXRbZSsxXSxsPXIuZGlzdChzKSxtPXMuYW5nbGVUbyhyKTtmb3IoO3ArbjxkK2w7KXtwKz1uO2NvbnN0IGc9KHAtZCkvbCxfPUNyKHIueCxzLngsZykseT1DcihyLnkscy55LGcpO2lmKF8+PTAmJl88YyYmeT49MCYmeTxjJiZwLXU+PTAmJnArdTw9aCl7Y29uc3Qgcj1uZXcgYWQoXyx5LDAsbSxlKTtyLl9yb3VuZCgpLGkmJiFzZCh0LHIsYSxpLG8pfHxmLnB1c2gocil9fWQrPWx9cmV0dXJuIGx8fGYubGVuZ3RofHxzfHwoZj1lKHQsZC8yLG4saSxvLGEscywhMCxjKSksZn0oZSxkP3QvMipzJXQ6KHUvMisyKm8pKmEqcyV0LHQsYyxyLGgsZCwhMSxsKX1mdW5jdGlvbiBwZChlLHQscixuLGkpe2NvbnN0IG89W107Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IHM9ZVthXTtsZXQgbDtmb3IobGV0IGU9MDtlPHMubGVuZ3RoLTE7ZSsrKXtsZXQgYT1zW2VdLGM9c1tlKzFdO2EueDx0JiZjLng8dHx8KGEueDx0P2E9bmV3IG0odCxhLnkrKHQtYS54KS8oYy54LWEueCkqKGMueS1hLnkpKS5fcm91bmQoKTpjLng8dCYmKGM9bmV3IG0odCxhLnkrKHQtYS54KS8oYy54LWEueCkqKGMueS1hLnkpKS5fcm91bmQoKSksYS55PHImJmMueTxyfHwoYS55PHI/YT1uZXcgbShhLngrKHItYS55KS8oYy55LWEueSkqKGMueC1hLngpLHIpLl9yb3VuZCgpOmMueTxyJiYoYz1uZXcgbShhLngrKHItYS55KS8oYy55LWEueSkqKGMueC1hLngpLHIpLl9yb3VuZCgpKSxhLng+PW4mJmMueD49bnx8KGEueD49bj9hPW5ldyBtKG4sYS55KyhuLWEueCkvKGMueC1hLngpKihjLnktYS55KSkuX3JvdW5kKCk6Yy54Pj1uJiYoYz1uZXcgbShuLGEueSsobi1hLngpLyhjLngtYS54KSooYy55LWEueSkpLl9yb3VuZCgpKSxhLnk+PWkmJmMueT49aXx8KGEueT49aT9hPW5ldyBtKGEueCsoaS1hLnkpLyhjLnktYS55KSooYy54LWEueCksaSkuX3JvdW5kKCk6Yy55Pj1pJiYoYz1uZXcgbShhLngrKGktYS55KS8oYy55LWEueSkqKGMueC1hLngpLGkpLl9yb3VuZCgpKSxsJiZhLmVxdWFscyhsW2wubGVuZ3RoLTFdKXx8KGw9W2FdLG8ucHVzaChsKSksbC5wdXNoKGMpKSkpKX19cmV0dXJuIG99SWkoYWQsXCJBbmNob3JcIik7Y29uc3QgZmQ9MWUyMDtmdW5jdGlvbiBtZChlLHQscixuLGksbyxhLHMsbCl7Zm9yKGxldCBjPXQ7Yzx0K247YysrKWdkKGUscipvK2MsbyxpLGEscyxsKTtmb3IobGV0IGM9cjtjPHIraTtjKyspZ2QoZSxjKm8rdCwxLG4sYSxzLGwpfWZ1bmN0aW9uIGdkKGUsdCxyLG4saSxvLGEpe29bMF09MCxhWzBdPS1mZCxhWzFdPWZkLGlbMF09ZVt0XTtmb3IobGV0IHM9MSxsPTAsYz0wO3M8bjtzKyspe2lbc109ZVt0K3Mqcl07Y29uc3Qgbj1zKnM7ZG97Y29uc3QgZT1vW2xdO2M9KGlbc10taVtlXStuLWUqZSkvKHMtZSkvMn13aGlsZShjPD1hW2xdJiYtLWw+LTEpO2wrKyxvW2xdPXMsYVtsXT1jLGFbbCsxXT1mZH1mb3IobGV0IHM9MCxsPTA7czxuO3MrKyl7Zm9yKDthW2wrMV08czspbCsrO2NvbnN0IG49b1tsXSxjPXMtbjtlW3QrcypyXT1pW25dK2MqY319Y29uc3QgX2Q9e25vbmU6MCxpZGVvZ3JhcGhzOjEsYWxsOjJ9O2NsYXNzIHlke2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnJlcXVlc3RNYW5hZ2VyPWUsdGhpcy5sb2NhbEdseXBoTW9kZT10LHRoaXMubG9jYWxGb250RmFtaWx5PXIsdGhpcy5lbnRyaWVzPXt9LHRoaXMubG9jYWxHbHlwaHM9ezIwMDp7fSw0MDA6e30sNTAwOnt9LDkwMDp7fX19c2V0VVJMKGUpe3RoaXMudXJsPWV9Z2V0R2x5cGhzKGUsdCl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBpbiBlKWZvcihjb25zdCBuIG9mIGVbdF0pci5wdXNoKHtzdGFjazp0LGlkOm59KTtrKHIsKHtzdGFjazplLGlkOnR9LHIpPT57bGV0IG49dGhpcy5lbnRyaWVzW2VdO258fChuPXRoaXMuZW50cmllc1tlXT17Z2x5cGhzOnt9LHJlcXVlc3RzOnt9LHJhbmdlczp7fSxhc2NlbmRlcjp2b2lkIDAsZGVzY2VuZGVyOnZvaWQgMH0pO2xldCBpPW4uZ2x5cGhzW3RdO2lmKHZvaWQgMCE9PWkpcmV0dXJuIHZvaWQgcihudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6aX0pO2lmKGk9dGhpcy5fdGlueVNERihuLGUsdCksaSlyZXR1cm4gbi5nbHlwaHNbdF09aSx2b2lkIHIobnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOml9KTtjb25zdCBvPU1hdGguZmxvb3IodC8yNTYpO2lmKDI1NipvPjY1NTM1KXJldHVybiB2b2lkIHIobmV3IEVycm9yKFwiZ2x5cGhzID4gNjU1MzUgbm90IHN1cHBvcnRlZFwiKSk7aWYobi5yYW5nZXNbb10pcmV0dXJuIHZvaWQgcihudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6aX0pO2xldCBhPW4ucmVxdWVzdHNbb107YXx8KGE9bi5yZXF1ZXN0c1tvXT1bXSx5ZC5sb2FkR2x5cGhSYW5nZShlLG8sdGhpcy51cmwsdGhpcy5yZXF1ZXN0TWFuYWdlciwoZSx0KT0+e2lmKHQpe24uYXNjZW5kZXI9dC5hc2NlbmRlcixuLmRlc2NlbmRlcj10LmRlc2NlbmRlcjtmb3IoY29uc3QgZSBpbiB0LmdseXBocyl0aGlzLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKCtlKXx8KG4uZ2x5cGhzWytlXT10LmdseXBoc1srZV0pO24ucmFuZ2VzW29dPSEwfWZvcihjb25zdCByIG9mIGEpcihlLHQpO2RlbGV0ZSBuLnJlcXVlc3RzW29dfSkpLGEucHVzaCgobixpKT0+e24/cihuKTppJiZyKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDppLmdseXBoc1t0XXx8bnVsbH0pfSl9LChlLHIpPT57aWYoZSl0KGUpO2Vsc2UgaWYocil7Y29uc3QgZT17fTtmb3IoY29uc3R7c3RhY2s6dCxpZDpuLGdseXBoOml9b2Ygcil2b2lkIDA9PT1lW3RdJiYoZVt0XT17fSksdm9pZCAwPT09ZVt0XS5nbHlwaHMmJihlW3RdLmdseXBocz17fSksZVt0XS5nbHlwaHNbbl09aSYme2lkOmkuaWQsYml0bWFwOmkuYml0bWFwLmNsb25lKCksbWV0cmljczppLm1ldHJpY3N9LGVbdF0uYXNjZW5kZXI9dGhpcy5lbnRyaWVzW3RdLmFzY2VuZGVyLGVbdF0uZGVzY2VuZGVyPXRoaXMuZW50cmllc1t0XS5kZXNjZW5kZXI7dChudWxsLGUpfX0pfV9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKGUpe3JldHVybiB0aGlzLmxvY2FsR2x5cGhNb2RlIT09X2Qubm9uZSYmKHRoaXMubG9jYWxHbHlwaE1vZGU9PT1fZC5hbGw/ISF0aGlzLmxvY2FsRm9udEZhbWlseTohIXRoaXMubG9jYWxGb250RmFtaWx5JiYoSmkoZSl8fHRvKGUpfHxHaShlKXx8cWkoZSl8fFZpKGUpKSl9X3RpbnlTREYoZSx0LHIpe2NvbnN0IG49dGhpcy5sb2NhbEZvbnRGYW1pbHk7aWYoIW58fCF0aGlzLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKHIpKXJldHVybjtsZXQgaT1lLnRpbnlTREY7aWYoIWkpe2xldCByPVwiNDAwXCI7L2JvbGQvaS50ZXN0KHQpP3I9XCI5MDBcIjovbWVkaXVtL2kudGVzdCh0KT9yPVwiNTAwXCI6L2xpZ2h0L2kudGVzdCh0KSYmKHI9XCIyMDBcIiksaT1lLnRpbnlTREY9bmV3IHlkLlRpbnlTREYoe2ZvbnRGYW1pbHk6bixmb250V2VpZ2h0OnIsZm9udFNpemU6NDgsYnVmZmVyOjYscmFkaXVzOjE2fSksaS5mb250V2VpZ2h0PXJ9aWYodGhpcy5sb2NhbEdseXBoc1tpLmZvbnRXZWlnaHRdW3JdKXJldHVybiB0aGlzLmxvY2FsR2x5cGhzW2kuZm9udFdlaWdodF1bcl07Y29uc3Qgbz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpLHtkYXRhOmEsd2lkdGg6cyxoZWlnaHQ6bCxnbHlwaFdpZHRoOmMsZ2x5cGhIZWlnaHQ6dSxnbHlwaExlZnQ6aCxnbHlwaFRvcDpkLGdseXBoQWR2YW5jZTpwfT1pLmRyYXcobyk7cmV0dXJuIHRoaXMubG9jYWxHbHlwaHNbaS5mb250V2VpZ2h0XVtyXT17aWQ6cixiaXRtYXA6bmV3IGhjKHt3aWR0aDpzLGhlaWdodDpsfSxhKSxtZXRyaWNzOnt3aWR0aDpjLzIsaGVpZ2h0OnUvMixsZWZ0OmgvMix0b3A6ZC8yLTI3LGFkdmFuY2U6cC8yLGxvY2FsR2x5cGg6ITB9fX19ZnVuY3Rpb24gdmQoZSx0LHIsbil7Y29uc3QgaT1bXSxvPWUuaW1hZ2UsYT1vLnBpeGVsUmF0aW8scz1vLnBhZGRlZFJlY3Qudy0yLGw9by5wYWRkZWRSZWN0LmgtMixjPWUucmlnaHQtZS5sZWZ0LHU9ZS5ib3R0b20tZS50b3AsaD1vLnN0cmV0Y2hYfHxbWzAsc11dLGQ9by5zdHJldGNoWXx8W1swLGxdXSxwPShlLHQpPT5lK3RbMV0tdFswXSxmPWgucmVkdWNlKHAsMCksZz1kLnJlZHVjZShwLDApLF89cy1mLHk9bC1nO2xldCB2PTAseD1mLGI9MCx3PWcsVD0wLEU9XyxTPTAsQz15O2lmKG8uY29udGVudCYmbil7Y29uc3QgZT1vLmNvbnRlbnQ7dj14ZChoLDAsZVswXSksYj14ZChkLDAsZVsxXSkseD14ZChoLGVbMF0sZVsyXSksdz14ZChkLGVbMV0sZVszXSksVD1lWzBdLXYsUz1lWzFdLWIsRT1lWzJdLWVbMF0teCxDPWVbM10tZVsxXS13fWNvbnN0IE09KG4saSxzLGwpPT57Y29uc3QgaD13ZChuLnN0cmV0Y2gtdix4LGMsZS5sZWZ0KSxkPVRkKG4uZml4ZWQtVCxFLG4uc3RyZXRjaCxmKSxwPXdkKGkuc3RyZXRjaC1iLHcsdSxlLnRvcCksXz1UZChpLmZpeGVkLVMsQyxpLnN0cmV0Y2gsZykseT13ZChzLnN0cmV0Y2gtdix4LGMsZS5sZWZ0KSxNPVRkKHMuZml4ZWQtVCxFLHMuc3RyZXRjaCxmKSxrPXdkKGwuc3RyZXRjaC1iLHcsdSxlLnRvcCksQT1UZChsLmZpeGVkLVMsQyxsLnN0cmV0Y2gsZyksST1uZXcgbShoLHApLFA9bmV3IG0oeSxwKSx6PW5ldyBtKHksayksRD1uZXcgbShoLGspLFI9bmV3IG0oZC9hLF8vYSksTD1uZXcgbShNL2EsQS9hKSxPPXQqTWF0aC5QSS8xODA7aWYoTyl7Y29uc3QgZT1NYXRoLnNpbihPKSx0PU1hdGguY29zKE8pLHI9W3QsLWUsZSx0XTtJLl9tYXRNdWx0KHIpLFAuX21hdE11bHQociksRC5fbWF0TXVsdChyKSx6Ll9tYXRNdWx0KHIpfWNvbnN0IEI9bi5zdHJldGNoK24uZml4ZWQsRj1pLnN0cmV0Y2graS5maXhlZDtyZXR1cm57dGw6SSx0cjpQLGJsOkQsYnI6eix0ZXg6e3g6by5wYWRkZWRSZWN0LngrMStCLHk6by5wYWRkZWRSZWN0LnkrMStGLHc6cy5zdHJldGNoK3MuZml4ZWQtQixoOmwuc3RyZXRjaCtsLmZpeGVkLUZ9LHdyaXRpbmdNb2RlOnZvaWQgMCxnbHlwaE9mZnNldDpbMCwwXSxzZWN0aW9uSW5kZXg6MCxwaXhlbE9mZnNldFRMOlIscGl4ZWxPZmZzZXRCUjpMLG1pbkZvbnRTY2FsZVg6RS9hL2MsbWluRm9udFNjYWxlWTpDL2EvdSxpc1NERjpyfX07aWYobiYmKG8uc3RyZXRjaFh8fG8uc3RyZXRjaFkpKXtjb25zdCBlPWJkKGgsXyxmKSx0PWJkKGQseSxnKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoLTE7cisrKXtjb25zdCBuPWVbcl0sbz1lW3IrMV07Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKylpLnB1c2goTShuLHRbZV0sbyx0W2UrMV0pKX19ZWxzZSBpLnB1c2goTSh7Zml4ZWQ6MCxzdHJldGNoOi0xfSx7Zml4ZWQ6MCxzdHJldGNoOi0xfSx7Zml4ZWQ6MCxzdHJldGNoOnMrMX0se2ZpeGVkOjAsc3RyZXRjaDpsKzF9KSk7cmV0dXJuIGl9ZnVuY3Rpb24geGQoZSx0LHIpe2xldCBuPTA7Zm9yKGNvbnN0IGkgb2YgZSluKz1NYXRoLm1heCh0LE1hdGgubWluKHIsaVsxXSkpLU1hdGgubWF4KHQsTWF0aC5taW4ocixpWzBdKSk7cmV0dXJuIG59ZnVuY3Rpb24gYmQoZSx0LHIpe2NvbnN0IG49W3tmaXhlZDotMSxzdHJldGNoOjB9XTtmb3IoY29uc3RbdCxyXW9mIGUpe2NvbnN0IGU9bltuLmxlbmd0aC0xXTtuLnB1c2goe2ZpeGVkOnQtZS5zdHJldGNoLHN0cmV0Y2g6ZS5zdHJldGNofSksbi5wdXNoKHtmaXhlZDp0LWUuc3RyZXRjaCxzdHJldGNoOmUuc3RyZXRjaCsoci10KX0pfXJldHVybiBuLnB1c2goe2ZpeGVkOnQrMSxzdHJldGNoOnJ9KSxufWZ1bmN0aW9uIHdkKGUsdCxyLG4pe3JldHVybiBlL3QqcitufWZ1bmN0aW9uIFRkKGUsdCxyLG4pe3JldHVybiBlLXQqci9ufWZ1bmN0aW9uIEVkKGUsdCxyLG4pe2NvbnN0IGk9dCtlLnBvc2l0aW9uZWRMaW5lc1tuXS5saW5lT2Zmc2V0O3JldHVybiAwPT09bj9yK2kvMjpyKyhpKyh0K2UucG9zaXRpb25lZExpbmVzW24tMV0ubGluZU9mZnNldCkpLzJ9eWQubG9hZEdseXBoUmFuZ2U9ZnVuY3Rpb24oZSx0LHIsbixpKXtjb25zdCBvPTI1Nip0LGE9bysyNTUscz1uLnRyYW5zZm9ybVJlcXVlc3Qobi5ub3JtYWxpemVHbHlwaHNVUkwocikucmVwbGFjZShcIntmb250c3RhY2t9XCIsZSkucmVwbGFjZShcIntyYW5nZX1cIixgJHtvfS0ke2F9YCksYWUuR2x5cGhzKTt1ZShzLChlLHQpPT57aWYoZSlpKGUpO2Vsc2UgaWYodCl7Y29uc3QgZT17fSxyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeWgoZSkucmVhZEZpZWxkcyhVaCx7fSl9KHQpO2Zvcihjb25zdCB0IG9mIHIuZ2x5cGhzKWVbdC5pZF09dDtpKG51bGwse2dseXBoczplLGFzY2VuZGVyOnIuYXNjZW5kZXIsZGVzY2VuZGVyOnIuZGVzY2VuZGVyfSl9fSl9LHlkLlRpbnlTREY9Y2xhc3N7Y29uc3RydWN0b3Ioe2ZvbnRTaXplOmU9MjQsYnVmZmVyOnQ9MyxyYWRpdXM6cj04LGN1dG9mZjpuPS4yNSxmb250RmFtaWx5Omk9XCJzYW5zLXNlcmlmXCIsZm9udFdlaWdodDpvPVwibm9ybWFsXCIsZm9udFN0eWxlOmE9XCJub3JtYWxcIn09e30pe3RoaXMuYnVmZmVyPXQsdGhpcy5jdXRvZmY9bix0aGlzLnJhZGl1cz1yO2NvbnN0IHM9dGhpcy5zaXplPWUrNCp0LGw9dGhpcy5fY3JlYXRlQ2FudmFzKHMpLGM9dGhpcy5jdHg9bC5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSk7Yy5mb250PWAke2F9ICR7b30gJHtlfXB4ICR7aX1gLGMudGV4dEJhc2VsaW5lPVwiYWxwaGFiZXRpY1wiLGMudGV4dEFsaWduPVwibGVmdFwiLGMuZmlsbFN0eWxlPVwiYmxhY2tcIix0aGlzLmdyaWRPdXRlcj1uZXcgRmxvYXQ2NEFycmF5KHMqcyksdGhpcy5ncmlkSW5uZXI9bmV3IEZsb2F0NjRBcnJheShzKnMpLHRoaXMuZj1uZXcgRmxvYXQ2NEFycmF5KHMpLHRoaXMuej1uZXcgRmxvYXQ2NEFycmF5KHMrMSksdGhpcy52PW5ldyBVaW50MTZBcnJheShzKX1fY3JlYXRlQ2FudmFzKGUpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gdC53aWR0aD10LmhlaWdodD1lLHR9ZHJhdyhlKXtjb25zdHt3aWR0aDp0LGFjdHVhbEJvdW5kaW5nQm94QXNjZW50OnIsYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50Om4sYWN0dWFsQm91bmRpbmdCb3hMZWZ0OmksYWN0dWFsQm91bmRpbmdCb3hSaWdodDpvfT10aGlzLmN0eC5tZWFzdXJlVGV4dChlKSxhPU1hdGguY2VpbChyKSxzPU1hdGgubWluKHRoaXMuc2l6ZS10aGlzLmJ1ZmZlcixNYXRoLmNlaWwoby1pKSksbD1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIsYStNYXRoLmNlaWwobikpLGM9cysyKnRoaXMuYnVmZmVyLHU9bCsyKnRoaXMuYnVmZmVyLGg9TWF0aC5tYXgoYyp1LDApLGQ9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGgpLHA9e2RhdGE6ZCx3aWR0aDpjLGhlaWdodDp1LGdseXBoV2lkdGg6cyxnbHlwaEhlaWdodDpsLGdseXBoVG9wOmEsZ2x5cGhMZWZ0OjAsZ2x5cGhBZHZhbmNlOnR9O2lmKDA9PT1zfHwwPT09bClyZXR1cm4gcDtjb25zdHtjdHg6ZixidWZmZXI6bSxncmlkSW5uZXI6ZyxncmlkT3V0ZXI6X309dGhpcztmLmNsZWFyUmVjdChtLG0scyxsKSxmLmZpbGxUZXh0KGUsbSxtK2EpO2NvbnN0IHk9Zi5nZXRJbWFnZURhdGEobSxtLHMsbCk7Xy5maWxsKGZkLDAsaCksZy5maWxsKDAsMCxoKTtmb3IobGV0IGU9MDtlPGw7ZSsrKWZvcihsZXQgdD0wO3Q8czt0Kyspe2NvbnN0IHI9eS5kYXRhWzQqKGUqcyt0KSszXS8yNTU7aWYoMD09PXIpY29udGludWU7Y29uc3Qgbj0oZSttKSpjK3QrbTtpZigxPT09cilfW25dPTAsZ1tuXT1mZDtlbHNle2NvbnN0IGU9LjUtcjtfW25dPWU+MD9lKmU6MCxnW25dPWU8MD9lKmU6MH19bWQoXywwLDAsYyx1LGMsdGhpcy5mLHRoaXMudix0aGlzLnopLG1kKGcsbSxtLHMsbCxjLHRoaXMuZix0aGlzLnYsdGhpcy56KTtmb3IobGV0IGU9MDtlPGg7ZSsrKXtjb25zdCB0PU1hdGguc3FydChfW2VdKS1NYXRoLnNxcnQoZ1tlXSk7ZFtlXT1NYXRoLnJvdW5kKDI1NS0yNTUqKHQvdGhpcy5yYWRpdXMrdGhpcy5jdXRvZmYpKX1yZXR1cm4gcH19O2NsYXNzIFNke2NvbnN0cnVjdG9yKGU9W10sdD1DZCl7aWYodGhpcy5kYXRhPWUsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9dCx0aGlzLmxlbmd0aD4wKWZvcihsZXQgZT0odGhpcy5sZW5ndGg+PjEpLTE7ZT49MDtlLS0pdGhpcy5fZG93bihlKX1wdXNoKGUpe3RoaXMuZGF0YS5wdXNoKGUpLHRoaXMubGVuZ3RoKyssdGhpcy5fdXAodGhpcy5sZW5ndGgtMSl9cG9wKCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybjtjb25zdCBlPXRoaXMuZGF0YVswXSx0PXRoaXMuZGF0YS5wb3AoKTtyZXR1cm4gdGhpcy5sZW5ndGgtLSx0aGlzLmxlbmd0aD4wJiYodGhpcy5kYXRhWzBdPXQsdGhpcy5fZG93bigwKSksZX1wZWVrKCl7cmV0dXJuIHRoaXMuZGF0YVswXX1fdXAoZSl7Y29uc3R7ZGF0YTp0LGNvbXBhcmU6cn09dGhpcyxuPXRbZV07Zm9yKDtlPjA7KXtjb25zdCBpPWUtMT4+MSxvPXRbaV07aWYocihuLG8pPj0wKWJyZWFrO3RbZV09byxlPWl9dFtlXT1ufV9kb3duKGUpe2NvbnN0e2RhdGE6dCxjb21wYXJlOnJ9PXRoaXMsbj10aGlzLmxlbmd0aD4+MSxpPXRbZV07Zm9yKDtlPG47KXtsZXQgbj0xKyhlPDwxKSxvPXRbbl07Y29uc3QgYT1uKzE7aWYoYTx0aGlzLmxlbmd0aCYmcih0W2FdLG8pPDAmJihuPWEsbz10W2FdKSxyKG8saSk+PTApYnJlYWs7dFtlXT1vLGU9bn10W2VdPWl9fWZ1bmN0aW9uIENkKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfWZ1bmN0aW9uIE1kKGUsdD0xLHI9ITEpe2xldCBuPTEvMCxpPTEvMCxvPS0xLzAsYT0tMS8wO2NvbnN0IHM9ZVswXTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKyl7Y29uc3QgdD1zW2VdOyghZXx8dC54PG4pJiYobj10LngpLCghZXx8dC55PGkpJiYoaT10LnkpLCghZXx8dC54Pm8pJiYobz10LngpLCghZXx8dC55PmEpJiYoYT10LnkpfWNvbnN0IGw9TWF0aC5taW4oby1uLGEtaSk7bGV0IGM9bC8yO2NvbnN0IHU9bmV3IFNkKFtdLGtkKTtpZigwPT09bClyZXR1cm4gbmV3IG0obixpKTtmb3IobGV0IHQ9bjt0PG87dCs9bClmb3IobGV0IHI9aTtyPGE7cis9bCl1LnB1c2gobmV3IEFkKHQrYyxyK2MsYyxlKSk7bGV0IGg9ZnVuY3Rpb24oZSl7bGV0IHQ9MCxyPTAsbj0wO2NvbnN0IGk9ZVswXTtmb3IobGV0IGU9MCxvPWkubGVuZ3RoLGE9by0xO2U8bzthPWUrKyl7Y29uc3Qgbz1pW2VdLHM9aVthXSxsPW8ueCpzLnktcy54Km8ueTtyKz0oby54K3MueCkqbCxuKz0oby55K3MueSkqbCx0Kz0zKmx9cmV0dXJuIG5ldyBBZChyL3Qsbi90LDAsZSl9KGUpLGQ9dS5sZW5ndGg7Zm9yKDt1Lmxlbmd0aDspe2NvbnN0IG49dS5wb3AoKTsobi5kPmguZHx8IWguZCkmJihoPW4sciYmY29uc29sZS5sb2coXCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2Jlc1wiLE1hdGgucm91bmQoMWU0Km4uZCkvMWU0LGQpKSxuLm1heC1oLmQ8PXR8fChjPW4uaC8yLHUucHVzaChuZXcgQWQobi5wLngtYyxuLnAueS1jLGMsZSkpLHUucHVzaChuZXcgQWQobi5wLngrYyxuLnAueS1jLGMsZSkpLHUucHVzaChuZXcgQWQobi5wLngtYyxuLnAueStjLGMsZSkpLHUucHVzaChuZXcgQWQobi5wLngrYyxuLnAueStjLGMsZSkpLGQrPTQpfXJldHVybiByJiYoY29uc29sZS5sb2coXCJudW0gcHJvYmVzOiBcIitkKSxjb25zb2xlLmxvZyhcImJlc3QgZGlzdGFuY2U6IFwiK2guZCkpLGgucH1mdW5jdGlvbiBrZChlLHQpe3JldHVybiB0Lm1heC1lLm1heH1mdW5jdGlvbiBBZChlLHQscixuKXt0aGlzLnA9bmV3IG0oZSx0KSx0aGlzLmg9cix0aGlzLmQ9ZnVuY3Rpb24oZSx0KXtsZXQgcj0hMSxuPTEvMDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgbz10W2ldO2ZvcihsZXQgdD0wLGk9by5sZW5ndGgsYT1pLTE7dDxpO2E9dCsrKXtjb25zdCBpPW9bdF0scz1vW2FdO2kueT5lLnkhPXMueT5lLnkmJmUueDwocy54LWkueCkqKGUueS1pLnkpLyhzLnktaS55KStpLngmJihyPSFyKSxuPU1hdGgubWluKG4sUXMoZSxpLHMpKX19cmV0dXJuKHI/MTotMSkqTWF0aC5zcXJ0KG4pfSh0aGlzLnAsbiksdGhpcy5tYXg9dGhpcy5kK3RoaXMuaCpNYXRoLlNRUlQyfWNvbnN0IElkPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxQZD1NYXRoLnNxcnQoMik7ZnVuY3Rpb24gemQoZSx0KXtyZXR1cm4gdFsxXSE9PUlkP2Z1bmN0aW9uKGUsdCxyKXtsZXQgbj0wLGk9MDtzd2l0Y2godD1NYXRoLmFicyh0KSxyPU1hdGguYWJzKHIpLGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwidG9wXCI6aT1yLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJib3R0b21cIjppPTctcn1zd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwicmlnaHRcIjpuPS10O2JyZWFrO2Nhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJsZWZ0XCI6bj10fXJldHVybltuLGldfShlLHRbMF0sdFsxXSk6ZnVuY3Rpb24oZSx0KXtsZXQgcj0wLG49MDt0PDAmJih0PTApO2NvbnN0IGk9dC9QZDtzd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpuPWktNzticmVhaztjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOm49Ny1pO2JyZWFrO2Nhc2VcImJvdHRvbVwiOm49Ny10O2JyZWFrO2Nhc2VcInRvcFwiOm49dC03fXN3aXRjaChlKXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpyPS1pO2JyZWFrO2Nhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyPWk7YnJlYWs7Y2FzZVwibGVmdFwiOnI9dDticmVhaztjYXNlXCJyaWdodFwiOnI9LXR9cmV0dXJuW3Isbl19KGUsdFswXSl9ZnVuY3Rpb24gRGQoZSx0LHIsbixpLG8sYSxzLGwsYyl7ZS5jcmVhdGVBcnJheXMoKSxlLnRpbGVQaXhlbFJhdGlvPXZzLyg1MTIqZS5vdmVyc2NhbGluZyksZS5jb21wYXJlVGV4dD17fSxlLmljb25zTmVlZExpbmVhcj0hMTtjb25zdCB1PWUubGF5ZXJzWzBdLmxheW91dCxoPWUubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzLGQ9e307aWYoXCJjb21wb3NpdGVcIj09PWUudGV4dFNpemVEYXRhLmtpbmQpe2NvbnN0e21pblpvb206dCxtYXhab29tOnJ9PWUudGV4dFNpemVEYXRhO2QuY29tcG9zaXRlVGV4dFNpemVzPVtoW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IElvKHQpLHMpLGhbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgSW8ocikscyldfWlmKFwiY29tcG9zaXRlXCI9PT1lLmljb25TaXplRGF0YS5raW5kKXtjb25zdHttaW5ab29tOnQsbWF4Wm9vbTpyfT1lLmljb25TaXplRGF0YTtkLmNvbXBvc2l0ZUljb25TaXplcz1baFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBJbyh0KSxzKSxoW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IElvKHIpLHMpXX1kLmxheW91dFRleHRTaXplPWhbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgSW8obCsxKSxzKSxkLmxheW91dEljb25TaXplPWhbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgSW8obCsxKSxzKSxkLnRleHRNYXhTaXplPWhbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgSW8oMTgpLHMpO2NvbnN0IHA9XCJtYXBcIj09PXUuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PXUuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxmPXUuZ2V0KFwidGV4dC1zaXplXCIpO2Zvcihjb25zdCBvIG9mIGUuZmVhdHVyZXMpe2NvbnN0IGw9dS5nZXQoXCJ0ZXh0LWZvbnRcIikuZXZhbHVhdGUobyx7fSxzKS5qb2luKFwiLFwiKSxoPWYuZXZhbHVhdGUobyx7fSxzKSxtPWQubGF5b3V0VGV4dFNpemUuZXZhbHVhdGUobyx7fSxzKSxnPShkLmxheW91dEljb25TaXplLmV2YWx1YXRlKG8se30scykse2hvcml6b250YWw6e30sdmVydGljYWw6dm9pZCAwfSksXz1vLnRleHQ7bGV0IHksdj1bMCwwXTtpZihfKXtjb25zdCBuPV8udG9TdHJpbmcoKSxhPTI0KnUuZ2V0KFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiKS5ldmFsdWF0ZShvLHt9LHMpLGM9MjQqdS5nZXQoXCJ0ZXh0LWxpbmUtaGVpZ2h0XCIpLmV2YWx1YXRlKG8se30scyksZD11byhuKT9hOjAsZj11LmdldChcInRleHQtYW5jaG9yXCIpLmV2YWx1YXRlKG8se30scykseT11LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKCF5KXtjb25zdCBlPXUuZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKG8se30scyk7dj1lP3pkKGYsWzI0KmUsSWRdKTp1LmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKG8se30scykubWFwKGU9PjI0KmUpfWxldCB4PXA/XCJjZW50ZXJcIjp1LmdldChcInRleHQtanVzdGlmeVwiKS5ldmFsdWF0ZShvLHt9LHMpO2NvbnN0IGI9XCJwb2ludFwiPT09dS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHc9Yj8yNCp1LmdldChcInRleHQtbWF4LXdpZHRoXCIpLmV2YWx1YXRlKG8se30scyk6MS8wLFQ9bz0+e2UuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmY28obikmJihnLnZlcnRpY2FsPUhoKF8sdCxyLGksbCx3LGMsZixvLGQsdiwkaC52ZXJ0aWNhbCwhMCxtLGgpKX07aWYoIXAmJnkpe2NvbnN0IGU9XCJhdXRvXCI9PT14P3kubWFwKGU9PlJkKGUpKTpbeF07bGV0IG49ITE7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IGE9ZVtvXTtpZighZy5ob3Jpem9udGFsW2FdKWlmKG4pZy5ob3Jpem9udGFsW2FdPWcuaG9yaXpvbnRhbFswXTtlbHNle2NvbnN0IGU9SGgoXyx0LHIsaSxsLHcsYyxcImNlbnRlclwiLGEsZCx2LCRoLmhvcml6b250YWwsITEsbSxoKTtlJiYoZy5ob3Jpem9udGFsW2FdPWUsbj0xPT09ZS5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKX19VChcImxlZnRcIil9ZWxzZXtpZihcImF1dG9cIj09PXgmJih4PVJkKGYpKSxifHx1LmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLmluZGV4T2YoXCJob3Jpem9udGFsXCIpPj0wfHwhY28obikpe2NvbnN0IGU9SGgoXyx0LHIsaSxsLHcsYyxmLHgsZCx2LCRoLmhvcml6b250YWwsITEsbSxoKTtlJiYoZy5ob3Jpem9udGFsW3hdPWUpfVQoYj9cImxlZnRcIjp4KX19bGV0IHg9ITE7aWYoby5pY29uJiZvLmljb24ubmFtZSl7Y29uc3QgdD1uW28uaWNvbi5uYW1lXTt0JiYoeT1pZChpW28uaWNvbi5uYW1lXSx1LmdldChcImljb24tb2Zmc2V0XCIpLmV2YWx1YXRlKG8se30scyksdS5nZXQoXCJpY29uLWFuY2hvclwiKS5ldmFsdWF0ZShvLHt9LHMpKSx4PXQuc2RmLHZvaWQgMD09PWUuc2RmSWNvbnM/ZS5zZGZJY29ucz10LnNkZjplLnNkZkljb25zIT09dC5zZGYmJlYoXCJTdHlsZSBzaGVldCB3YXJuaW5nOiBDYW5ub3QgbWl4IFNERiBhbmQgbm9uLVNERiBpY29ucyBpbiBvbmUgYnVmZmVyXCIpLCh0LnBpeGVsUmF0aW8hPT1lLnBpeGVsUmF0aW98fDAhPT11LmdldChcImljb24tcm90YXRlXCIpLmNvbnN0YW50T3IoMSkpJiYoZS5pY29uc05lZWRMaW5lYXI9ITApKX1jb25zdCBiPUZkKGcuaG9yaXpvbnRhbCl8fGcudmVydGljYWw7ZS5pY29uc0luVGV4dHx8KGUuaWNvbnNJblRleHQ9ISFiJiZiLmljb25zSW5UZXh0KSwoYnx8eSkmJkxkKGUsbyxnLHksbixkLG0sMCx2LHgsYSxzLGMpfW8mJmUuZ2VuZXJhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMobCxlLmNvbGxpc2lvbkJveEFycmF5KX1mdW5jdGlvbiBSZChlKXtzd2l0Y2goZSl7Y2FzZVwicmlnaHRcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpyZXR1cm5cInJpZ2h0XCI7Y2FzZVwibGVmdFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm5cImxlZnRcIn1yZXR1cm5cImNlbnRlclwifWZ1bmN0aW9uIExkKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQpe2xldCBwPW8udGV4dE1heFNpemUuZXZhbHVhdGUodCx7fSxoKTt2b2lkIDA9PT1wJiYocD1hKTtjb25zdCBmPWUubGF5ZXJzWzBdLmxheW91dCxtPWYuZ2V0KFwiaWNvbi1vZmZzZXRcIikuZXZhbHVhdGUodCx7fSxoKSxnPUZkKHIuaG9yaXpvbnRhbCl8fHIudmVydGljYWwsXz1cImdsb2JlXCI9PT1kLm5hbWUseT1hLzI0LHg9ZS50aWxlUGl4ZWxSYXRpbypwLzI0LGI9KEE9ZS5vdmVyc2NhbGluZyxlLnpvb20+MTgmJkE+MiYmKEE+Pj0xKSxNYXRoLm1heCh2cy8oNTEyKkEpLDEpKmYuZ2V0KFwic3ltYm9sLXNwYWNpbmdcIikpLHc9Zi5nZXQoXCJ0ZXh0LXBhZGRpbmdcIikqZS50aWxlUGl4ZWxSYXRpbyxUPWYuZ2V0KFwiaWNvbi1wYWRkaW5nXCIpKmUudGlsZVBpeGVsUmF0aW8sRT12KGYuZ2V0KFwidGV4dC1tYXgtYW5nbGVcIikpLFM9XCJtYXBcIj09PWYuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PWYuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxDPVwibWFwXCI9PT1mLmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1mLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksTT1mLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksaz1iLzI7dmFyIEE7Y29uc3QgST1mLmdldChcImljb24tdGV4dC1maXRcIik7bGV0IFA7biYmXCJub25lXCIhPT1JJiYoZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZyLnZlcnRpY2FsJiYoUD1vZChuLHIudmVydGljYWwsSSxmLmdldChcImljb24tdGV4dC1maXQtcGFkZGluZ1wiKSxtLHkpKSxnJiYobj1vZChuLGcsSSxmLmdldChcImljb24tdGV4dC1maXQtcGFkZGluZ1wiKSxtLHkpKSk7Y29uc3Qgej0oYSxzLHApPT57aWYocy54PDB8fHMueD49dnN8fHMueTwwfHxzLnk+PXZzKXJldHVybjtsZXQgZj1udWxsO2lmKF8pe2NvbnN0e3g6ZSx5OnQsejpyfT1kLnByb2plY3RUaWxlUG9pbnQocy54LHMueSxwKTtmPXthbmNob3I6bmV3IGFkKGUsdCxyLDAsdm9pZCAwKSx1cDpkLnVwVmVjdG9yKHAscy54LHMueSl9fSFmdW5jdGlvbihlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyx5LHYseCxiLHcsVCxFKXtjb25zdCBTPWUuYWRkVG9MaW5lVmVydGV4QXJyYXkodCxuKTtsZXQgQyxNLGssQSxJLFAseixEPTAsUj0wLEw9MCxPPTAsQj0tMSxGPS0xO2NvbnN0IGo9e307bGV0IFU9VWEuZXhwb3J0cyhcIlwiKTtjb25zdCBOPXI/ci5hbmNob3I6dDtsZXQgRz0wLHE9MDtpZih2b2lkIDA9PT1sLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZShcInRleHQtcmFkaWFsLW9mZnNldFwiKT9bRyxxXT1sLmxheW91dC5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZSh4LHt9LEUpLm1hcChlPT4yNCplKTooRz0yNCpsLmxheW91dC5nZXQoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIikuZXZhbHVhdGUoeCx7fSxFKSxxPUlkKSxlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJmkudmVydGljYWwpe2NvbnN0IGU9aS52ZXJ0aWNhbDtpZihmKVA9VWQoZSkscyYmKHo9VWQocykpO2Vsc2V7Y29uc3Qgcj1sLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZSh4LHt9LEUpKzkwO2s9amQoYyxOLHQsdSxoLGQsZSxwLHIsbSkscyYmKEE9amQoYyxOLHQsdSxoLGQscyxfLHIpKX19aWYobyl7Y29uc3Qgbj1sLmxheW91dC5nZXQoXCJpY29uLXJvdGF0ZVwiKS5ldmFsdWF0ZSh4LHt9LEUpLGk9XCJub25lXCIhPT1sLmxheW91dC5nZXQoXCJpY29uLXRleHQtZml0XCIpLGE9dmQobyxuLHcsaSkscD1zP3ZkKHMsbix3LGkpOnZvaWQgMDtNPWpkKGMsTix0LHUsaCxkLG8sXyxuKSxEPTQqYS5sZW5ndGg7Y29uc3QgZj1lLmljb25TaXplRGF0YTtsZXQgbT1udWxsO1wic291cmNlXCI9PT1mLmtpbmQ/KG09W2NoKmwubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5ldmFsdWF0ZSh4LHt9LEUpXSxtWzBdPk9kJiZWKGUubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLicpKTpcImNvbXBvc2l0ZVwiPT09Zi5raW5kJiYobT1bY2gqYi5jb21wb3NpdGVJY29uU2l6ZXNbMF0uZXZhbHVhdGUoeCx7fSxFKSxjaCpiLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZSh4LHt9LEUpXSwobVswXT5PZHx8bVsxXT5PZCkmJlYoZS5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgXCJpY29uLXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwiaWNvbi1zaXplXCIuJykpLGUuYWRkU3ltYm9scyhlLmljb24sYSxtLHYseSx4LCExLHIsdCxTLmxpbmVTdGFydEluZGV4LFMubGluZUxlbmd0aCwtMSxULEUpLEI9ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xLHAmJihSPTQqcC5sZW5ndGgsZS5hZGRTeW1ib2xzKGUuaWNvbixwLG0sdix5LHgsJGgudmVydGljYWwscix0LFMubGluZVN0YXJ0SW5kZXgsUy5saW5lTGVuZ3RoLC0xLFQsRSksRj1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEpfWZvcihjb25zdCBuIGluIGkuaG9yaXpvbnRhbCl7Y29uc3Qgbz1pLmhvcml6b250YWxbbl07Q3x8KFU9VWEuZXhwb3J0cyhvLnRleHQpLGY/ST1VZChvKTpDPWpkKGMsTix0LHUsaCxkLG8scCxsLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZSh4LHt9LEUpLG0pKTtjb25zdCBzPTE9PT1vLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGg7aWYoTCs9QmQoZSxyLHQsbyxhLGwsZix4LG0sUyxpLnZlcnRpY2FsPyRoLmhvcml6b250YWw6JGguaG9yaXpvbnRhbE9ubHkscz9PYmplY3Qua2V5cyhpLmhvcml6b250YWwpOltuXSxqLEIsYixULEUpLHMpYnJlYWt9aS52ZXJ0aWNhbCYmKE8rPUJkKGUscix0LGkudmVydGljYWwsYSxsLGYseCxtLFMsJGgudmVydGljYWwsW1widmVydGljYWxcIl0saixGLGIsVCxFKSk7bGV0IFo9LTE7Y29uc3QgJD0oZSx0KT0+ZT9NYXRoLm1heChlLHQpOnQ7Wj0kKEksWiksWj0kKFAsWiksWj0kKHosWik7Y29uc3QgVz1aPi0xPzE6MDtlLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoPj1LcC5NQVhfR0xZUEhTJiZWKFwiVG9vIG1hbnkgZ2x5cGhzIGJlaW5nIHJlbmRlcmVkIGluIGEgdGlsZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yOTA3XCIpLHZvaWQgMCE9PXguc29ydEtleSYmZS5hZGRUb1NvcnRLZXlSYW5nZXMoZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLHguc29ydEtleSksZS5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2soTi54LE4ueSxOLnosdC54LHQueSxqLnJpZ2h0Pj0wP2oucmlnaHQ6LTEsai5jZW50ZXI+PTA/ai5jZW50ZXI6LTEsai5sZWZ0Pj0wP2oubGVmdDotMSxqLnZlcnRpY2FsPj0wP2oudmVydGljYWw6LTEsQixGLFUsdm9pZCAwIT09Qz9DOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUM/QysxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PWs/azplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1rP2srMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1NP006ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09TT9NKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsQXx8ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsQT9BKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdSxMLE8sRCxSLFcsMCxHLHEsWil9KGUscyxmLGEscixuLGksUCxlLmxheWVyc1swXSxlLmNvbGxpc2lvbkJveEFycmF5LHQuaW5kZXgsdC5zb3VyY2VMYXllckluZGV4LGUuaW5kZXgsdyxTLGwsMCxULEMsbSx0LG8sYyx1LGgpfTtpZihcImxpbmVcIj09PU0pZm9yKGNvbnN0IGkgb2YgcGQodC5nZW9tZXRyeSwwLDAsdnMsdnMpKXtjb25zdCB0PWRkKGksYixFLHIudmVydGljYWx8fGcsbiwyNCx4LGUub3ZlcnNjYWxpbmcsdnMpO2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IHQ9Zzt0JiZOZChlLHQudGV4dCxrLHIpfHx6KGkscixoKX19ZWxzZSBpZihcImxpbmUtY2VudGVyXCI9PT1NKXtmb3IoY29uc3QgZSBvZiB0Lmdlb21ldHJ5KWlmKGUubGVuZ3RoPjEpe2NvbnN0IHQ9aGQoZSxFLHIudmVydGljYWx8fGcsbiwyNCx4KTt0JiZ6KGUsdCxoKX19ZWxzZSBpZihcIlBvbHlnb25cIj09PXQudHlwZSlmb3IoY29uc3QgZSBvZiBYYyh0Lmdlb21ldHJ5LDApKXtjb25zdCB0PU1kKGUsMTYpO3ooZVswXSxuZXcgYWQodC54LHQueSwwLDAsdm9pZCAwKSxoKX1lbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09dC50eXBlKWZvcihjb25zdCBlIG9mIHQuZ2VvbWV0cnkpeihlLG5ldyBhZChlWzBdLngsZVswXS55LDAsMCx2b2lkIDApLGgpO2Vsc2UgaWYoXCJQb2ludFwiPT09dC50eXBlKWZvcihjb25zdCBlIG9mIHQuZ2VvbWV0cnkpZm9yKGNvbnN0IHQgb2YgZSl6KFt0XSxuZXcgYWQodC54LHQueSwwLDAsdm9pZCAwKSxoKX1jb25zdCBPZD0zMjY0MDtmdW5jdGlvbiBCZChlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixnLF8pe2NvbnN0IHk9ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPVtdO2lmKDA9PT10LnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpcmV0dXJuIGw7Y29uc3QgYz1uLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShvLHt9KSpNYXRoLlBJLzE4MCx1PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZVswXSxyPWVbMV0sbj10KnI7cmV0dXJuIG4+MD9bdCwtcl06bjwwP1stdCxyXTowPT09dD9bcix0XTpbciwtdF19KHIpO2xldCBoPU1hdGguYWJzKHQudG9wLXQuYm90dG9tKTtmb3IoY29uc3QgZSBvZiB0LnBvc2l0aW9uZWRMaW5lcyloLT1lLmxpbmVPZmZzZXQ7Y29uc3QgZD10LnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgscD1oL2Q7bGV0IGY9dC50b3AtclsxXTtmb3IobGV0IGU9MDtlPGQ7KytlKXtjb25zdCBuPXQucG9zaXRpb25lZExpbmVzW2VdO2Y9RWQodCxwLGYsZSk7Zm9yKGNvbnN0IGUgb2Ygbi5wb3NpdGlvbmVkR2x5cGhzKXtpZighZS5yZWN0KWNvbnRpbnVlO2NvbnN0IG49ZS5yZWN0fHx7fTtsZXQgbz00LGg9ITAsZD0xLHA9MDtpZihlLmltYWdlTmFtZSl7Y29uc3QgdD1hW2UuaW1hZ2VOYW1lXTtpZighdCljb250aW51ZTtpZih0LnNkZil7VihcIlNERiBpbWFnZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gZm9ybWF0dGVkIHRleHQgYW5kIHdpbGwgYmUgaWdub3JlZC5cIik7Y29udGludWV9aD0hMSxkPXQucGl4ZWxSYXRpbyxvPTEvZH1jb25zdCBnPShpfHxzKSYmZS52ZXJ0aWNhbCxfPWUubWV0cmljcy5hZHZhbmNlKmUuc2NhbGUvMix5PWUubWV0cmljcyx2PWUucmVjdDtpZihudWxsPT09diljb250aW51ZTtzJiZ0LnZlcnRpY2FsaXphYmxlJiYocD1lLmltYWdlTmFtZT9fLWUubWV0cmljcy53aWR0aCplLnNjYWxlLzI6MCk7Y29uc3QgeD1pP1tlLngrXyxlLnldOlswLDBdO2xldCBiPVswLDBdLHc9WzAsMF0sVD0hMTtpfHwoZz8odz1bZS54K18rdVswXSxlLnkrdVsxXS1wXSxUPSEwKTpiPVtlLngrXytyWzBdLGUueStyWzFdLXBdKTtjb25zdCBFPXYudyplLnNjYWxlLyhkKihlLmxvY2FsR2x5cGg/MjoxKSksUz12LmgqZS5zY2FsZS8oZCooZS5sb2NhbEdseXBoPzI6MSkpO2xldCBDLE0sayxBO2lmKGcpe2NvbnN0IHQ9ZS55LWYscj1uZXcgbSgtXyxfLXQpLG49LU1hdGguUEkvMixpPW5ldyBtKC4uLncpO0M9bmV3IG0oLV8rYlswXSxiWzFdKSxDLl9yb3RhdGVBcm91bmQobixyKS5fYWRkKGkpLEMueCs9LXQrXyxDLnktPSh5LmxlZnQtbykqZS5zY2FsZTtjb25zdCBhPWUuaW1hZ2VOYW1lP3kuYWR2YW5jZSplLnNjYWxlOjI0KmUuc2NhbGUscz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUuZ2x5cGgpO2doKHMpP0MueCs9KDEtbykqZS5zY2FsZTpfaChzKT9DLngrPWEteS5oZWlnaHQqZS5zY2FsZSsoLW8tMSkqZS5zY2FsZTpDLngrPWUuaW1hZ2VOYW1lfHx5LndpZHRoKzIqbz09PXYudyYmeS5oZWlnaHQrMipvPT09di5oPyhhLVMpLzI6KGEtKHkuaGVpZ2h0KzIqbykqZS5zY2FsZSkvMixNPW5ldyBtKEMueCxDLnktRSksaz1uZXcgbShDLngrUyxDLnkpLEE9bmV3IG0oQy54K1MsQy55LUUpfWVsc2V7Y29uc3QgdD0oeS5sZWZ0LW8pKmUuc2NhbGUtXytiWzBdLHI9KC15LnRvcC1vKSplLnNjYWxlK2JbMV0sbj10K0UsaT1yK1M7Qz1uZXcgbSh0LHIpLE09bmV3IG0obixyKSxrPW5ldyBtKHQsaSksQT1uZXcgbShuLGkpfWlmKGMpe2xldCBlO2U9aT9uZXcgbSgwLDApOlQ/bmV3IG0odVswXSx1WzFdKTpuZXcgbShyWzBdLHJbMV0pLEMuX3JvdGF0ZUFyb3VuZChjLGUpLE0uX3JvdGF0ZUFyb3VuZChjLGUpLGsuX3JvdGF0ZUFyb3VuZChjLGUpLEEuX3JvdGF0ZUFyb3VuZChjLGUpfWNvbnN0IEk9bmV3IG0oMCwwKSxQPW5ldyBtKDAsMCk7bC5wdXNoKHt0bDpDLHRyOk0sYmw6ayxicjpBLHRleDpuLHdyaXRpbmdNb2RlOnQud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6eCxzZWN0aW9uSW5kZXg6ZS5zZWN0aW9uSW5kZXgsaXNTREY6aCxwaXhlbE9mZnNldFRMOkkscGl4ZWxPZmZzZXRCUjpQLG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KX19cmV0dXJuIGx9KDAsbixsLG8sYSxzLGksZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50KSx2PWUudGV4dFNpemVEYXRhO2xldCB4PW51bGw7XCJzb3VyY2VcIj09PXYua2luZD8oeD1bY2gqby5sYXlvdXQuZ2V0KFwidGV4dC1zaXplXCIpLmV2YWx1YXRlKHMse30sXyldLHhbMF0+T2QmJlYoZS5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuJykpOlwiY29tcG9zaXRlXCI9PT12LmtpbmQmJih4PVtjaCpmLmNvbXBvc2l0ZVRleHRTaXplc1swXS5ldmFsdWF0ZShzLHt9LF8pLGNoKmYuY29tcG9zaXRlVGV4dFNpemVzWzFdLmV2YWx1YXRlKHMse30sXyldLCh4WzBdPk9kfHx4WzFdPk9kKSYmVihlLmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcInRleHQtc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi4nKSksZS5hZGRTeW1ib2xzKGUudGV4dCx5LHgsbCxhLHMsdSx0LHIsYy5saW5lU3RhcnRJbmRleCxjLmxpbmVMZW5ndGgscCxnLF8pO2Zvcihjb25zdCB0IG9mIGgpZFt0XT1lLnRleHQucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTE7cmV0dXJuIDQqeS5sZW5ndGh9ZnVuY3Rpb24gRmQoZSl7Zm9yKGNvbnN0IHQgaW4gZSlyZXR1cm4gZVt0XTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBqZChlLHQscixuLGksbyxhLHMsbCxjKXtsZXQgdT1hLnRvcCxoPWEuYm90dG9tLGQ9YS5sZWZ0LHA9YS5yaWdodDtjb25zdCBmPWEuY29sbGlzaW9uUGFkZGluZztpZihmJiYoZC09ZlswXSx1LT1mWzFdLHArPWZbMl0saCs9ZlszXSksbCl7Y29uc3QgZT1uZXcgbShkLHUpLHQ9bmV3IG0ocCx1KSxyPW5ldyBtKGQsaCksbj1uZXcgbShwLGgpLGk9dihsKTtsZXQgbz1uZXcgbSgwLDApO2MmJihvPW5ldyBtKGNbMF0sY1sxXSkpLGUuX3JvdGF0ZUFyb3VuZChpLG8pLHQuX3JvdGF0ZUFyb3VuZChpLG8pLHIuX3JvdGF0ZUFyb3VuZChpLG8pLG4uX3JvdGF0ZUFyb3VuZChpLG8pLGQ9TWF0aC5taW4oZS54LHQueCxyLngsbi54KSxwPU1hdGgubWF4KGUueCx0Lngsci54LG4ueCksdT1NYXRoLm1pbihlLnksdC55LHIueSxuLnkpLGg9TWF0aC5tYXgoZS55LHQueSxyLnksbi55KX1yZXR1cm4gZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixyLngsci55LGQsdSxwLGgscyxuLGksbyksZS5sZW5ndGgtMX1mdW5jdGlvbiBVZChlKXtlLmNvbGxpc2lvblBhZGRpbmcmJihlLnRvcC09ZS5jb2xsaXNpb25QYWRkaW5nWzFdLGUuYm90dG9tKz1lLmNvbGxpc2lvblBhZGRpbmdbM10pO2NvbnN0IHQ9ZS5ib3R0b20tZS50b3A7cmV0dXJuIHQ+MD9NYXRoLm1heCgxMCx0KTpudWxsfWZ1bmN0aW9uIE5kKGUsdCxyLG4pe2NvbnN0IGk9ZS5jb21wYXJlVGV4dDtpZih0IGluIGkpe2NvbnN0IGU9aVt0XTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihuLmRpc3QoZVt0XSk8cilyZXR1cm4hMH1lbHNlIGlbdF09W107cmV0dXJuIGlbdF0ucHVzaChuKSwhMX1jb25zdCBWZD1Ibyhbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfZ2xvYmVfcG9zXCIsY29tcG9uZW50czozfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV91dlwiLGNvbXBvbmVudHM6Mn1dKSx7bWVtYmVyczpHZH09VmQscWQ9SG8oW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKTt2YXIgWmQ9SG8oW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSk7Y29uc3QgJGQ9dnMvTWF0aC5QSS8yLFdkPTIqTXMoMSwwKSokZCpNYXRoLlBJLFhkPVs2NCwzMiwxNl0sSGQ9LSRkLFlkPSRkLEtkPVtuZXcgdGMoW0hkLEhkLEhkXSxbWWQsWWQsWWRdKSxuZXcgdGMoW0hkLEhkLEhkXSxbMCwwLFlkXSksbmV3IHRjKFswLEhkLEhkXSxbWWQsMCxZZF0pLG5ldyB0YyhbSGQsMCxIZF0sWzAsWWQsWWRdKSxuZXcgdGMoWzAsMCxIZF0sW1lkLFlkLFlkXSldO2Z1bmN0aW9uIEpkKGUsdCxyLG49ITApe2NvbnN0IGk9RGwoW10sZS5fY2FtZXJhLnBvc2l0aW9uLGUud29ybGRTaXplKSxvPVt0LHIsMSwxXTskbChvLG8sZS5waXhlbE1hdHJpeEludmVyc2UpLHFsKG8sbywxL29bM10pO2NvbnN0IGE9TGwoW10sTmwoW10sbyxpKSkscz1lLmdsb2JlTWF0cml4LGw9W3NbMTJdLHNbMTNdLHNbMTRdXSxjPU5sKFtdLGwsaSksdT1DbChjKSxoPUxsKFtdLGMpLGQ9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSkscD1PbChoLGEpLGY9TWF0aC5hc2luKGQvdSk7aWYoZjxNYXRoLmFjb3MocCkpe2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGU9W10sdD1bXTtEbChlLGEsdS9wKSxMbCh0LE5sKHQsZSxjKSksTGwoYSxrbChhLGMsRGwoYSx0LE1hdGgudGFuKGYpKnUpKSl9Y29uc3QgbT1bXTtuZXcgSmwoaSxhKS5jbG9zZXN0UG9pbnRPblNwaGVyZShsLGQsbSk7Y29uc3QgZz1MbChbXSxZKHMsMCkpLF89TGwoW10sWShzLDEpKSx5PUxsKFtdLFkocywyKSksdj1PbChnLG0pLGI9T2woXyxtKSx3PU9sKHksbSksVD14KE1hdGguYXNpbigtYi9kKSk7bGV0IEU9eChNYXRoLmF0YW4yKHYsdykpO0U9ZS5jZW50ZXIubG5nK2Z1bmN0aW9uKGUsdCl7Y29uc3Qgcj0odC1lKzE4MCklMzYwLTE4MDtyZXR1cm4gcjwtMTgwP3IrMzYwOnJ9KGUuY2VudGVyLmxuZyxFKTtjb25zdCBDPVNzKEUpLE09UyhDcyhUKSwwLDEpO3JldHVybiBuZXcgRHMoQyxNKX1jbGFzcyBRZHtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5hPU5sKFtdLGUsciksdGhpcy5iPU5sKFtdLHQsciksdGhpcy5jZW50ZXI9cjtjb25zdCBuPUxsKFtdLHRoaXMuYSksaT1MbChbXSx0aGlzLmIpO3RoaXMuYW5nbGU9TWF0aC5hY29zKE9sKG4saSkpfX1mdW5jdGlvbiBlcChlLHQpe2lmKDA9PT1lLmFuZ2xlKXJldHVybiBudWxsO2xldCByO3JldHVybiByPTA9PT1lLmFbdF0/MS9lLmFuZ2xlKi41Kk1hdGguUEk6MS9lLmFuZ2xlKk1hdGguYXRhbihlLmJbdF0vZS5hW3RdL01hdGguc2luKGUuYW5nbGUpLTEvTWF0aC50YW4oZS5hbmdsZSkpLHI8MHx8cj4xP251bGw6ZnVuY3Rpb24oZSx0LHIsbil7Y29uc3QgaT1NYXRoLnNpbihyKTtyZXR1cm4gZSooTWF0aC5zaW4oKDEtbikqcikvaSkrdCooTWF0aC5zaW4obipyKS9pKX0oZS5hW3RdLGUuYlt0XSxlLmFuZ2xlLFMociwwLDEpKStlLmNlbnRlclt0XX1mdW5jdGlvbiB0cChlKXtpZihlLno8PTEpcmV0dXJuIEtkW2UueisyKmUueStlLnhdO2NvbnN0IHQ9YXAob3AoZSkpO3JldHVybiB0Yy5mcm9tUG9pbnRzKHQpfWZ1bmN0aW9uIHJwKGUsdCxyKXtyZXR1cm4gRGwoZSxlLDEtciksUmwoZSxlLHQscil9ZnVuY3Rpb24gbnAoZSx0KXtjb25zdCByPW1wKHQuem9vbSk7aWYoMD09PXIpcmV0dXJuIHRwKGUpO2NvbnN0IG49b3AoZSksaT1hcChuKSxvPVNzKG4uZ2V0V2VzdCgpKSp0LndvcmxkU2l6ZSxhPVNzKG4uZ2V0RWFzdCgpKSp0LndvcmxkU2l6ZSxzPUNzKG4uZ2V0Tm9ydGgoKSkqdC53b3JsZFNpemUsbD1DcyhuLmdldFNvdXRoKCkpKnQud29ybGRTaXplLGM9W28scywwXSx1PVthLHMsMF0saD1bbyxsLDBdLGQ9W2EsbCwwXSxwPW1sKFtdLHQuZ2xvYmVNYXRyaXgpO3JldHVybiBGbChjLGMscCksRmwodSx1LHApLEZsKGgsaCxwKSxGbChkLGQscCksaVswXT1ycChpWzBdLGgsciksaVsxXT1ycChpWzFdLGQsciksaVsyXT1ycChpWzJdLHUsciksaVszXT1ycChpWzNdLGMsciksdGMuZnJvbVBvaW50cyhpKX1mdW5jdGlvbiBpcChlLHQscil7Zm9yKGNvbnN0IG4gb2YgZSlGbChuLG4sdCksRGwobixuLHIpfWZ1bmN0aW9uIG9wKHt4OmUseTp0LHo6cn0pe2NvbnN0IG49MS8oMTw8ciksaT1uZXcgd3Moa3MoZSpuKSxBcygodCsxKSpuKSksbz1uZXcgd3Moa3MoKGUrMSkqbiksQXModCpuKSk7cmV0dXJuIG5ldyB4cyhpLG8pfWZ1bmN0aW9uIGFwKGUpe2NvbnN0IHQ9dihlLmdldE5vcnRoKCkpLHI9dihlLmdldFNvdXRoKCkpLG49TWF0aC5jb3ModCksaT1NYXRoLmNvcyhyKSxvPU1hdGguc2luKHQpLGE9TWF0aC5zaW4ocikscz1lLmdldFdlc3QoKSxsPWUuZ2V0RWFzdCgpO3JldHVybltzcChpLGEscyksc3AoaSxhLGwpLHNwKG4sbyxsKSxzcChuLG8scyldfWZ1bmN0aW9uIHNwKGUsdCxyLG49JGQpe3JldHVybiByPXYociksW2UqTWF0aC5zaW4ocikqbiwtdCpuLGUqTWF0aC5jb3Mocikqbl19ZnVuY3Rpb24gbHAoZSx0LHIpe3JldHVybiBzcChNYXRoLmNvcyh2KGUpKSxNYXRoLnNpbih2KGUpKSx0LHIpfWZ1bmN0aW9uIGNwKGUsdCxyLG4pe2NvbnN0IGk9MTw8ci56LG89KGUvdnMrci54KS9pO3JldHVybiBscChBcygodC92cytyLnkpL2kpLGtzKG8pLG4pfWZ1bmN0aW9uIHVwKHttaW46ZSxtYXg6dH0pe3JldHVybiAxNjM4My9NYXRoLm1heCh0WzBdLWVbMF0sdFsxXS1lWzFdLHRbMl0tZVsyXSl9Y29uc3QgaHA9bmV3IEZsb2F0NjRBcnJheSgxNik7ZnVuY3Rpb24gZHAoZSl7Y29uc3QgdD11cChlKSxyPWJsKGhwLFt0LHQsdF0pO3JldHVybiBfbChyLHIsKChuPVtdKVswXT0tKGk9ZS5taW4pWzBdLG5bMV09LWlbMV0sblsyXT0taVsyXSxuKSk7dmFyIG4saX1mdW5jdGlvbiBwcChlKXtjb25zdCB0PShuPWUubWluLChyPWhwKVswXT0xLHJbMV09MCxyWzJdPTAsclszXT0wLHJbNF09MCxyWzVdPTEscls2XT0wLHJbN109MCxyWzhdPTAscls5XT0wLHJbMTBdPTEsclsxMV09MCxyWzEyXT1uWzBdLHJbMTNdPW5bMV0sclsxNF09blsyXSxyWzE1XT0xLHIpO3ZhciByLG47Y29uc3QgaT0xL3VwKGUpO3JldHVybiB5bCh0LHQsW2ksaSxpXSl9ZnVuY3Rpb24gZnAoZSx0LHIsbixpKXtjb25zdCBvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9dnMvKDIqTWF0aC5QSSk7cmV0dXJuIGUvKDIqTWF0aC5QSSkvdH0ociksYT1bZSx0LC1yLygyKk1hdGguUEkpXSxzPWZsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gX2wocyxzLGEpLHlsKHMscyxbbyxvLG9dKSx2bChzLHMsdigtaSkpLHhsKHMscyx2KC1uKSksc31mdW5jdGlvbiBtcChlKXtyZXR1cm4gQyg1LDYsZSl9ZnVuY3Rpb24gZ3AoZSx0KXtjb25zdCByPWxwKHQubGF0LHQubG5nKTtyZXR1cm4gbz0obj1BbChbXSxmdW5jdGlvbihlKXtjb25zdCB0PWxwKGUuX2NlbnRlci5sYXQsZS5fY2VudGVyLmxuZyk7bGV0IHI9QmwoW10sTWwoMCwxLDApLHQpO2NvbnN0IG49d2woW10sLWUuYW5nbGUsdCk7cj1GbChyLHIsbiksd2wobiwtZS5fcGl0Y2gscik7Y29uc3QgaT1MbChbXSx0KTtyZXR1cm4gRGwoaSxpLGUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9lLnBpeGVsc1Blck1ldGVyKldkKSxGbChpLGksbiksa2woW10sdCxpKX0oZSkscikpWzBdLGE9blsxXSxzPW5bMl0sbD0oaT1yKVswXSxjPWlbMV0sdT1pWzJdLGQ9KGg9TWF0aC5zcXJ0KG8qbythKmErcypzKSpNYXRoLnNxcnQobCpsK2MqYyt1KnUpKSYmT2wobixpKS9oLE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChkLC0xKSwxKSk7dmFyIG4saSxvLGEscyxsLGMsdSxoLGR9Y29uc3QgX3A9dig4NSkseXA9TWF0aC5jb3MoX3ApLHZwPU1hdGguc2luKF9wKTtmdW5jdGlvbiB4cChlLHQpe2NvbnN0IHI9ZS5mb3ZBYm92ZUNlbnRlcixuPWUuZWxldmF0aW9uP2UuZWxldmF0aW9uLmdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCkqdDowLGk9KGUuX2NhbWVyYS5wb3NpdGlvblsyXSplLndvcmxkU2l6ZS1uKS9NYXRoLmNvcyhlLl9waXRjaCksbz1NYXRoLnNpbihyKSppL01hdGguc2luKE1hdGgubWF4KE1hdGguUEkvMi1lLl9waXRjaC1yLC4wMSkpLGE9TWF0aC5zaW4oZS5fcGl0Y2gpKm8raTtyZXR1cm4gTWF0aC5taW4oMS4wMSphLGkqKDEvZS5faG9yaXpvblNoaWZ0KSl9ZnVuY3Rpb24gYnAoZSx0KXtpZighdC5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UpcmV0dXJue3NjYWxlOjE8PGUueix4OmUueCx5OmUueSx4MjplLngrMSx5MjplLnkrMSxwcm9qZWN0aW9uOnR9O2NvbnN0IHI9TWF0aC5wb3coMiwtZS56KSxuPWUueCpyLGk9KGUueCsxKSpyLG89ZS55KnIsYT0oZS55KzEpKnIscz1rcyhuKSxsPWtzKGkpLGM9QXMobyksdT1BcyhhKSxoPXQucHJvamVjdChzLGMpLGQ9dC5wcm9qZWN0KGwsYykscD10LnByb2plY3QobCx1KSxmPXQucHJvamVjdChzLHUpO2xldCBtPU1hdGgubWluKGgueCxkLngscC54LGYueCksZz1NYXRoLm1pbihoLnksZC55LHAueSxmLnkpLF89TWF0aC5tYXgoaC54LGQueCxwLngsZi54KSx5PU1hdGgubWF4KGgueSxkLnkscC55LGYueSk7Y29uc3Qgdj1yLzE2O2Z1bmN0aW9uIHgoZSxyLG4saSxvLGEpe2NvbnN0IHM9KG4rbykvMixsPShpK2EpLzIsYz10LnByb2plY3Qoa3MocyksQXMobCkpLHU9TWF0aC5tYXgoMCxtLWMueCxnLWMueSxjLngtXyxjLnkteSk7bT1NYXRoLm1pbihtLGMueCksXz1NYXRoLm1heChfLGMueCksZz1NYXRoLm1pbihnLGMueSkseT1NYXRoLm1heCh5LGMueSksdT52JiYoeChlLGMsbixpLHMsbCkseChjLHIscyxsLG8sYSkpfXgoaCxkLG4sbyxpLG8pLHgoZCxwLGksbyxpLGEpLHgocCxmLGksYSxuLGEpLHgoZixoLG4sYSxuLG8pLG0tPXYsZy09dixfKz12LHkrPXY7Y29uc3QgYj0xL01hdGgubWF4KF8tbSx5LWcpO3JldHVybntzY2FsZTpiLHg6bSpiLHk6ZypiLHgyOl8qYix5Mjp5KmIscHJvamVjdGlvbjp0fX1jb25zdCB3cD1mbChuZXcgRmxvYXQzMkFycmF5KDE2KSk7Y2xhc3MgVHB7Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjPWUsdGhpcy5uYW1lPWUubmFtZSx0aGlzLndyYXA9ITEsdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITEsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNUZXJyYWluPSExLHRoaXMuc3VwcG9ydHNGb2c9ITEsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITEsdGhpcy56QXhpc1VuaXQ9XCJtZXRlcnNcIix0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT0hMCx0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImN1c3RvbVwiXSx0aGlzLmNlbnRlcj1bMCwwXSx0aGlzLnJhbmdlPVszLjUsN119cHJvamVjdChlLHQpe3JldHVybnt4OjAseTowLHo6MH19dW5wcm9qZWN0KGUsdCl7cmV0dXJuIG5ldyB3cygwLDApfXByb2plY3RUaWxlUG9pbnQoZSx0LHIpe3JldHVybnt4OmUseTp0LHo6MH19bG9jYXRpb25Qb2ludChlLHQscj0hMCl7cmV0dXJuIGUuX2Nvb3JkaW5hdGVQb2ludChlLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSxyKX1waXhlbHNQZXJNZXRlcihlLHQpe3JldHVybiBNcygxLGUpKnR9cGl4ZWxTcGFjZUNvbnZlcnNpb24oZSx0LHIpe3JldHVybiAxfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtyZXR1cm4geHAoZSxlLnBpeGVsc1Blck1ldGVyKX1wb2ludENvb3JkaW5hdGUoZSx0LHIsbil7Y29uc3QgaT1lLmhvcml6b25MaW5lRnJvbVRvcCghMSksbz1uZXcgbSh0LE1hdGgubWF4KGkscikpO3JldHVybiBlLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUoZS5wb2ludFJheUludGVyc2VjdGlvbihvLG4pKX1wb2ludENvb3JkaW5hdGUzRChlLHQscil7Y29uc3Qgbj1uZXcgbSh0LHIpO2lmKGUuZWxldmF0aW9uKXJldHVybiBlLmVsZXZhdGlvbi5wb2ludENvb3JkaW5hdGUobik7e2NvbnN0IHQ9dGhpcy5wb2ludENvb3JkaW5hdGUoZSxuLngsbi55LDApO3JldHVyblt0LngsdC55LHQuel19fWlzUG9pbnRBYm92ZUhvcml6b24oZSx0KXtpZihlLmVsZXZhdGlvbilyZXR1cm4hdGhpcy5wb2ludENvb3JkaW5hdGUzRChlLHQueCx0LnkpO2NvbnN0IHI9ZS5ob3Jpem9uTGluZUZyb21Ub3AoKTtyZXR1cm4gdC55PHJ9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUsdCl7cmV0dXJuIHdwfWNyZWF0ZVRpbGVNYXRyaXgoZSx0LHIpe2xldCBuLGksbztjb25zdCBhPXIuY2Fub25pY2FsLHM9ZmwobmV3IEZsb2F0NjRBcnJheSgxNikpO2lmKHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCBsPWJwKGEsdGhpcyk7bj0xLGk9bC54K3Iud3JhcCpsLnNjYWxlLG89bC55LHlsKHMscyxbbi9sLnNjYWxlLG4vbC5zY2FsZSxlLnBpeGVsc1Blck1ldGVyL3RdKX1lbHNlIG49dC9lLnpvb21TY2FsZShhLnopLGk9KGEueCtNYXRoLnBvdygyLGEueikqci53cmFwKSpuLG89YS55Km47cmV0dXJuIF9sKHMscyxbaSxvLDBdKSx5bChzLHMsW24vdnMsbi92cywxXSksc311cFZlY3RvcihlLHQscil7cmV0dXJuWzAsMCwxXX11cFZlY3RvclNjYWxlKGUsdCxyKXtyZXR1cm57bWV0ZXJzVG9UaWxlOjF9fX1jbGFzcyBFcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucmFuZ2U9WzQsN10sdGhpcy5jZW50ZXI9ZS5jZW50ZXJ8fFstOTYsMzcuNV07Y29uc3RbdCxyXT10aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzI5LjUsNDUuNV0sbj1NYXRoLnNpbih2KHQpKTt0aGlzLm49KG4rTWF0aC5zaW4odihyKSkpLzIsdGhpcy5jPTErbiooMip0aGlzLm4tbiksdGhpcy5yMD1NYXRoLnNxcnQodGhpcy5jKS90aGlzLm59cHJvamVjdChlLHQpe2NvbnN0e246cixjOm4scjA6aX09dGhpcyxvPXYoZS10aGlzLmNlbnRlclswXSksYT12KHQpLHM9TWF0aC5zcXJ0KG4tMipyKk1hdGguc2luKGEpKS9yO3JldHVybnt4OnMqTWF0aC5zaW4obypyKSx5OnMqTWF0aC5jb3MobypyKS1pLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3R7bjpyLGM6bixyMDppfT10aGlzLG89aSt0O2xldCBhPU1hdGguYXRhbjIoZSxNYXRoLmFicyhvKSkqTWF0aC5zaWduKG8pO28qcjwwJiYoYS09TWF0aC5QSSpNYXRoLnNpZ24oZSkqTWF0aC5zaWduKG8pKTtjb25zdCBzPXYodGhpcy5jZW50ZXJbMF0pKnI7YT1NKGEsLU1hdGguUEktcyxNYXRoLlBJLXMpO2NvbnN0IGw9Uyh4KGEvcikrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLGM9TWF0aC5hc2luKFMoKG4tKGUqZStvKm8pKnIqcikvKDIqciksLTEsMSkpLHU9Uyh4KGMpLC04NS4wNTExMjksUHMpO3JldHVybiBuZXcgd3MobCx1KX19Y29uc3QgU3A9MS4zNDAyNjQsQ3A9LS4wODExMDYsTXA9ODkzZS02LGtwPS4wMDM3OTYsQXA9TWF0aC5zcXJ0KDMpLzI7Y2xhc3MgSXAgZXh0ZW5kcyBUcHtwcm9qZWN0KGUsdCl7dD10LzE4MCpNYXRoLlBJLGU9ZS8xODAqTWF0aC5QSTtjb25zdCByPU1hdGguYXNpbihBcCpNYXRoLnNpbih0KSksbj1yKnIsaT1uKm4qbjtyZXR1cm57eDouNSooZSpNYXRoLmNvcyhyKS8oQXAqKFNwKzMqQ3AqbitpKig3Kk1wKzkqa3AqbikpKS9NYXRoLlBJKy41KSx5OjEtLjUqKHIqKFNwK0NwKm4raSooTXAra3AqbikpL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEk7bGV0IHI9dD0oMiooMS10KS0xKSpNYXRoLlBJLG49cipyLGk9bipuKm47Zm9yKGxldCBlLG8sYSxzPTA7czwxMiYmKG89ciooU3ArQ3AqbitpKihNcCtrcCpuKSktdCxhPVNwKzMqQ3AqbitpKig3Kk1wKzkqa3AqbiksZT1vL2Escj1TKHItZSwtTWF0aC5QSS8zLE1hdGguUEkvMyksbj1yKnIsaT1uKm4qbiwhKE1hdGguYWJzKGUpPDFlLTEyKSk7KytzKTtjb25zdCBvPUFwKmUqKFNwKzMqQ3AqbitpKig3Kk1wKzkqa3AqbikpL01hdGguY29zKHIpLGE9TWF0aC5hc2luKE1hdGguc2luKHIpL0FwKSxzPVMoMTgwKm8vTWF0aC5QSSwtMTgwLDE4MCksbD1TKDE4MCphL01hdGguUEksLTg1LjA1MTEyOSxQcyk7cmV0dXJuIG5ldyB3cyhzLGwpfX1jbGFzcyBQcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITB9cHJvamVjdChlLHQpe3JldHVybnt4Oi41K2UvMzYwLHk6LjUtdC8zNjAsejowfX11bnByb2plY3QoZSx0KXtjb25zdCByPTM2MCooZS0uNSksbj1TKDM2MCooLjUtdCksLTg1LjA1MTEyOSxQcyk7cmV0dXJuIG5ldyB3cyhyLG4pfX1jb25zdCB6cD1NYXRoLlBJLzI7ZnVuY3Rpb24gRHAoZSl7cmV0dXJuIE1hdGgudGFuKCh6cCtlKS8yKX1jbGFzcyBScCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbMCwzMF07Y29uc3RbdCxyXT10aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzMwLDMwXTtsZXQgbj12KHQpLGk9dihyKTt0aGlzLnNvdXRoZXJuQ2VudGVyPW4raTwwLHRoaXMuc291dGhlcm5DZW50ZXImJihuPS1uLGk9LWkpO2NvbnN0IG89TWF0aC5jb3MobiksYT1EcChuKTt0aGlzLm49bj09PWk/TWF0aC5zaW4obik6TWF0aC5sb2coby9NYXRoLmNvcyhpKSkvTWF0aC5sb2coRHAoaSkvYSksdGhpcy5mPW8qTWF0aC5wb3coRHAobiksdGhpcy5uKS90aGlzLm59cHJvamVjdChlLHQpe3Q9dih0KSx0aGlzLnNvdXRoZXJuQ2VudGVyJiYodD0tdCksZT12KGUtdGhpcy5jZW50ZXJbMF0pO2NvbnN0IHI9MWUtNix7bjpuLGY6aX09dGhpcztpPjA/dDwtenArciYmKHQ9LXpwK3IpOnQ+enAtciYmKHQ9enAtcik7Y29uc3Qgbz1pL01hdGgucG93KERwKHQpLG4pO2xldCBhPW8qTWF0aC5zaW4obiplKSxzPWktbypNYXRoLmNvcyhuKmUpO3JldHVybiBhPS41KihhL01hdGguUEkrLjUpLHM9LjUqKHMvTWF0aC5QSSsuNSkse3g6YSx5OnRoaXMuc291dGhlcm5DZW50ZXI/czoxLXMsejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEksdGhpcy5zb3V0aGVybkNlbnRlciYmKHQ9MS10KSx0PSgyKigxLXQpLS41KSpNYXRoLlBJO2NvbnN0e246cixmOm59PXRoaXMsaT1uLXQsbz1NYXRoLnNpZ24oaSksYT1NYXRoLnNpZ24ocikqTWF0aC5zcXJ0KGUqZStpKmkpO2xldCBzPU1hdGguYXRhbjIoZSxNYXRoLmFicyhpKSkqbztpKnI8MCYmKHMtPU1hdGguUEkqTWF0aC5zaWduKGUpKm8pO2NvbnN0IGw9Uyh4KHMvcikrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLGM9Uyh4KDIqTWF0aC5hdGFuKE1hdGgucG93KG4vYSwxL3IpKS16cCksLTg1LjA1MTEyOSxQcyk7cmV0dXJuIG5ldyB3cyhsLHRoaXMuc291dGhlcm5DZW50ZXI/LWM6Yyl9fWNsYXNzIExwIGV4dGVuZHMgVHB7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMCx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMCx0aGlzLnN1cHBvcnRzRm9nPSEwLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSEwLHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlPSExLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W10sdGhpcy5yYW5nZT1udWxsfXByb2plY3QoZSx0KXtyZXR1cm57eDpTcyhlKSx5OkNzKHQpLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3Qgcj1rcyhlKSxuPUFzKHQpO3JldHVybiBuZXcgd3MocixuKX19Y29uc3QgT3A9dihQcyk7Y2xhc3MgQnAgZXh0ZW5kcyBUcHtwcm9qZWN0KGUsdCl7Y29uc3Qgcj0odD12KHQpKSp0LG49cipyO3JldHVybnt4Oi41KigoZT12KGUpKSooLjg3MDctLjEzMTk3OSpyK24qKG4qKC4wMDM5NzEqci0uMDAxNTI5Km4pLS4wMTM3OTEpKS9NYXRoLlBJKy41KSx5OjEtLjUqKHQqKDEuMDA3MjI2K3IqKC4wMTUwODUrbiooLjAyODg3NCpyLS4wNDQ0NzUtLjAwNTkxNipuKSkpL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEk7bGV0IHI9dD0oMiooMS10KS0xKSpNYXRoLlBJLG49MjUsaT0wLG89cipyO2Rve289cipyO2NvbnN0IGU9bypvO2k9KHIqKDEuMDA3MjI2K28qKC4wMTUwODUrZSooLjAyODg3NCpvLS4wNDQ0NzUtLjAwNTkxNiplKSkpLXQpLygxLjAwNzIyNitvKiguMDQ1MjU1K2UqKC4yNTk4NjYqby0uMzExMzI1LS4wMDU5MTYqMTEqZSkpKSxyPVMoci1pLC1PcCxPcCl9d2hpbGUoTWF0aC5hYnMoaSk+MWUtNiYmLS1uPjApO289cipyO2NvbnN0IGE9Uyh4KGUvKC44NzA3K28qKG8qKG8qbypvKiguMDAzOTcxLS4wMDE1MjkqbyktLjAxMzc5MSktLjEzMTk3OSkpKSwtMTgwLDE4MCkscz14KHIpO3JldHVybiBuZXcgd3MoYSxzKX19Y29uc3QgRnA9dihQcyk7Y2xhc3MganAgZXh0ZW5kcyBUcHtwcm9qZWN0KGUsdCl7dD12KHQpLGU9dihlKTtjb25zdCByPU1hdGguY29zKHQpLG49Mi9NYXRoLlBJLGk9TWF0aC5hY29zKHIqTWF0aC5jb3MoZS8yKSksbz1NYXRoLnNpbihpKS9pLGE9LjUqKGUqbisyKnIqTWF0aC5zaW4oZS8yKS9vKXx8MCxzPS41Kih0K01hdGguc2luKHQpL28pfHwwO3JldHVybnt4Oi41KihhL01hdGguUEkrLjUpLHk6MS0uNSoocy9NYXRoLlBJKzEpLHo6MH19dW5wcm9qZWN0KGUsdCl7bGV0IHI9ZT0oMiplLS41KSpNYXRoLlBJLG49dD0oMiooMS10KS0xKSpNYXRoLlBJLGk9MjU7Y29uc3Qgbz0xZS02O2xldCBhPTAscz0wO2Rve2NvbnN0IGk9TWF0aC5jb3Mobiksbz1NYXRoLnNpbihuKSxsPTIqbyppLGM9bypvLHU9aSppLGg9TWF0aC5jb3Moci8yKSxkPU1hdGguc2luKHIvMikscD0yKmgqZCxmPWQqZCxtPTEtdSpoKmgsZz1tPzEvbTowLF89bT9NYXRoLmFjb3MoaSpoKSpNYXRoLnNxcnQoMS9tKTowLHk9LjUqKDIqXyppKmQrMipyL01hdGguUEkpLWUsdj0uNSooXypvK24pLXQseD0uNSpnKih1KmYrXyppKmgqYykrMS9NYXRoLlBJLGI9ZyoocCpsLzQtXypvKmQpLHc9LjEyNSpnKihsKmQtXypvKnUqcCksVD0uNSpnKihjKmgrXypmKmkpKy41LEU9Yip3LVQqeDthPSh2KmIteSpUKS9FLHM9KHkqdy12KngpL0Uscj1TKHItYSwtTWF0aC5QSSxNYXRoLlBJKSxuPVMobi1zLC1GcCxGcCl9d2hpbGUoKE1hdGguYWJzKGEpPm98fE1hdGguYWJzKHMpPm8pJiYtLWk+MCk7cmV0dXJuIG5ldyB3cyh4KHIpLHgobikpfX1jbGFzcyBVcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbMCwwXSx0aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzAsMF0sdGhpcy5jb3NQaGk9TWF0aC5tYXgoLjAxLE1hdGguY29zKHYodGhpcy5wYXJhbGxlbHNbMF0pKSksdGhpcy5zY2FsZT0xLygyKk1hdGgubWF4KE1hdGguUEkqdGhpcy5jb3NQaGksMS90aGlzLmNvc1BoaSkpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITB9cHJvamVjdChlLHQpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXM7cmV0dXJue3g6dihlKSpuKnIrLjUseTotTWF0aC5zaW4odih0KSkvbipyKy41LHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3R7c2NhbGU6cixjb3NQaGk6bn09dGhpcyxpPS0odC0uNSkvcixvPVMoeCgoZS0uNSkvcikvbiwtMTgwLDE4MCksYT1NYXRoLmFzaW4oUyhpKm4sLTEsMSkpLHM9Uyh4KGEpLC04NS4wNTExMjksUHMpO3JldHVybiBuZXcgd3MobyxzKX19Y2xhc3MgTnAgZXh0ZW5kcyBMcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJlcXVpcmVzRHJhcGluZz0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITEsdGhpcy5zdXBwb3J0c0ZvZz0hMCx0aGlzLnpBeGlzVW5pdD1cInBpeGVsc1wiLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W1wiZGVidWdcIixcImN1c3RvbVwiXSx0aGlzLnJhbmdlPVszLDVdfXByb2plY3RUaWxlUG9pbnQoZSx0LHIpe2NvbnN0IG49Y3AoZSx0LHIpO3JldHVybiBGbChuLG4sZHAodHAocikpKSx7eDpuWzBdLHk6blsxXSx6Om5bMl19fWxvY2F0aW9uUG9pbnQoZSx0KXtjb25zdCByPWxwKHQubGF0LHQubG5nKSxuPUxsKFtdLHIpLGk9ZS5lbGV2YXRpb24/ZS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhlLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSxlLl9jZW50ZXJBbHRpdHVkZSk6ZS5fY2VudGVyQWx0aXR1ZGU7UmwocixyLG4sTXMoMSwwKSp2cyppKTtjb25zdCBvPWZsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gZ2wobyxlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpLEZsKHIscixvKSxuZXcgbShyWzBdLHJbMV0pfXBpeGVsc1Blck1ldGVyKGUsdCl7cmV0dXJuIE1zKDEsMCkqdH1waXhlbFNwYWNlQ29udmVyc2lvbihlLHQscil7Y29uc3Qgbj1NcygxLGUpKnQsaT1DcihNcygxLDQ1KSp0LG4scik7cmV0dXJuIHRoaXMucGl4ZWxzUGVyTWV0ZXIoZSx0KS9pfWNyZWF0ZVRpbGVNYXRyaXgoZSx0LHIpe2NvbnN0IG49cHAodHAoci5jYW5vbmljYWwpKTtyZXR1cm4gZ2wobmV3IEZsb2F0NjRBcnJheSgxNiksZS5nbG9iZU1hdHJpeCxuKX1jcmVhdGVJbnZlcnNpb25NYXRyaXgoZSx0KXtjb25zdHtjZW50ZXI6cn09ZSxuPWRwKHRwKHQpKTtyZXR1cm4geGwobixuLHYoci5sbmcpKSx2bChuLG4sdihyLmxhdCkpLHlsKG4sbixbZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxlLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDFdKSxGbG9hdDMyQXJyYXkuZnJvbShuKX1wb2ludENvb3JkaW5hdGUoZSx0LHIsbil7cmV0dXJuIEpkKGUsdCxyLCEwKXx8bmV3IERzKDAsMCl9cG9pbnRDb29yZGluYXRlM0QoZSx0LHIpe2NvbnN0IG49dGhpcy5wb2ludENvb3JkaW5hdGUoZSx0LHIsMCk7cmV0dXJuW24ueCxuLnksbi56XX1pc1BvaW50QWJvdmVIb3Jpem9uKGUsdCl7cmV0dXJuIUpkKGUsdC54LHQueSwhMSl9ZmFydGhlc3RQaXhlbERpc3RhbmNlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxuPWUuX2NlbnRlckFsdGl0dWRlKnQsaT1lLl9jYW1lcmEsbz1lLl9jYW1lcmEuZm9yd2FyZCgpLGE9a2woW10sRGwoW10sbywtciksWzAsMCxuXSkscz1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxsPVswLDAsLXNdLGM9ZS53aWR0aC9lLmhlaWdodCx1PU1hdGgudGFuKGUuZm92QWJvdmVDZW50ZXIpLGg9RGwoW10saS51cCgpLHUpLGQ9RGwoW10saS5yaWdodCgpLHUqYykscD1MbChbXSxrbChbXSxrbChbXSxvLGgpLGQpKSxmPVtdO2xldCBtO2lmKG5ldyBKbChhLHApLmNsb3Nlc3RQb2ludE9uU3BoZXJlKGwscyxmKSl7Y29uc3QgdD1rbChbXSxmLGwpLHI9TmwoW10sdCxhKTttPU1hdGguY29zKGUuZm92QWJvdmVDZW50ZXIpKkNsKHIpfWVsc2V7Y29uc3QgZT1ObChbXSxhLGwpLHQ9TmwoW10sbCxhKTtMbCh0LHQpO2NvbnN0IHI9Q2woZSktczttPU1hdGguc3FydChyKihyKzIqcykpO2NvbnN0IG49TWF0aC5hY29zKG0vKHMrcikpLU1hdGguYWNvcyhPbChvLHQpKTttKj1NYXRoLmNvcyhuKX1yZXR1cm4gMS4wMSptfShlLHRoaXMucGl4ZWxzUGVyTWV0ZXIoZS5jZW50ZXIubGF0LGUud29ybGRTaXplKSkscj1tcChlLnpvb20pO2lmKHI+MCl7Y29uc3Qgbj14cChlLE1zKDEsZS5jZW50ZXIubGF0KSplLndvcmxkU2l6ZSksaT1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxvPU1hdGgubWF4KGUud2lkdGgsZS5oZWlnaHQpL2Uud29ybGRTaXplKk1hdGguUEk7cmV0dXJuIENyKHQsbitpKigxLU1hdGguY29zKG8pKSxNYXRoLnBvdyhyLDEwKSl9cmV0dXJuIHR9dXBWZWN0b3IoZSx0LHIpe3JldHVybiBjcCh0LHIsZSwxKX11cFZlY3RvclNjYWxlKGUpe3JldHVybnttZXRlcnNUb1RpbGU6V2QqdXAodHAoZSkpfX19ZnVuY3Rpb24gVnAoZSl7Y29uc3QgdD1lLnBhcmFsbGVscyxyPSEhdCYmTWF0aC5hYnModFswXSt0WzFdKTwuMDE7c3dpdGNoKGUubmFtZSl7Y2FzZVwibWVyY2F0b3JcIjpyZXR1cm4gbmV3IExwKGUpO2Nhc2VcImVxdWlyZWN0YW5ndWxhclwiOnJldHVybiBuZXcgUHAoZSk7Y2FzZVwibmF0dXJhbEVhcnRoXCI6cmV0dXJuIG5ldyBCcChlKTtjYXNlXCJlcXVhbEVhcnRoXCI6cmV0dXJuIG5ldyBJcChlKTtjYXNlXCJ3aW5rZWxUcmlwZWxcIjpyZXR1cm4gbmV3IGpwKGUpO2Nhc2VcImFsYmVyc1wiOnJldHVybiByP25ldyBVcChlKTpuZXcgRXAoZSk7Y2FzZVwibGFtYmVydENvbmZvcm1hbENvbmljXCI6cmV0dXJuIHI/bmV3IFVwKGUpOm5ldyBScChlKTtjYXNlXCJnbG9iZVwiOnJldHVybiBuZXcgTnAoZSl9dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm9qZWN0aW9uIG5hbWU6IFwiK2UubmFtZSl9Y29uc3QgR3A9eXUudHlwZXMscXA9W3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQ4XCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBacChlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkKXtjb25zdCBwPXM/TWF0aC5taW4oT2QsTWF0aC5yb3VuZChzWzBdKSk6MCxmPXM/TWF0aC5taW4oT2QsTWF0aC5yb3VuZChzWzFdKSk6MDtlLmVtcGxhY2VCYWNrKHQscixNYXRoLnJvdW5kKDMyKm4pLE1hdGgucm91bmQoMzIqaSksbyxhLChwPDwxKSsobD8xOjApLGYsMTYqYywxNip1LDI1NipoLDI1NipkKX1mdW5jdGlvbiAkcChlLHQscixuLGksbyxhKXtlLmVtcGxhY2VCYWNrKHQscixuLGksbyxhKX1mdW5jdGlvbiBXcChlLHQscixuLGkpe2UuZW1wbGFjZUJhY2sodCxyLG4saSksZS5lbXBsYWNlQmFjayh0LHIsbixpKSxlLmVtcGxhY2VCYWNrKHQscixuLGkpLGUuZW1wbGFjZUJhY2sodCxyLG4saSl9ZnVuY3Rpb24gWHAoZSl7Zm9yKGNvbnN0IHQgb2YgZS5zZWN0aW9ucylpZihfbyh0LnRleHQpKXJldHVybiEwO3JldHVybiExfWNsYXNzIEhwe2NvbnN0cnVjdG9yKGUpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IG9hLHRoaXMuaW5kZXhBcnJheT1uZXcgcGEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9ZSx0aGlzLnNlZ21lbnRzPW5ldyB5cyx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheT1uZXcgdGEsdGhpcy5vcGFjaXR5VmVydGV4QXJyYXk9bmV3IHNhLHRoaXMucGxhY2VkU3ltYm9sQXJyYXk9bmV3IE1hLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheT1uZXcgYWF9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmluZGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZChlLHQscixuKXt0aGlzLmlzRW1wdHkoKXx8KHImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHJoLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXksdCksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5LGloLm1lbWJlcnMsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheSxxcCwhMCksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5Lmxlbmd0aD4wJiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksbmgubWVtYmVycywhMCkpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5pdGVtU2l6ZT0xKSwocnx8bikmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSl9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlciYmdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlci5kZXN0cm95KCkpfX1JaShIcCxcIlN5bWJvbEJ1ZmZlcnNcIik7Y2xhc3MgWXB7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGUsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPXQsdGhpcy5pbmRleEFycmF5PW5ldyByLHRoaXMuc2VnbWVudHM9bmV3IHlzLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IGhhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQ9bmV3IGRhfXVwbG9hZChlKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxvaC5tZW1iZXJzLCEwKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dD1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGFoLm1lbWJlcnMsITApfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQuZGVzdHJveSgpKX19SWkoWXAsXCJDb2xsaXNpb25CdWZmZXJzXCIpO2NsYXNzIEtwe2NvbnN0cnVjdG9yKGUpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9ZS5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx0aGlzLnNvdXJjZUxheWVySW5kZXg9ZS5zb3VyY2VMYXllckluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5mdWxseUNsaXBwZWQ9ITEsdGhpcy5zb3J0S2V5UmFuZ2VzPVtdLHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXk9W10sdGhpcy5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PWZsKFtdKSx0aGlzLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PWZsKFtdKTtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzO3RoaXMudGV4dFNpemVEYXRhPXVoKHRoaXMuem9vbSx0W1widGV4dC1zaXplXCJdKSx0aGlzLmljb25TaXplRGF0YT11aCh0aGlzLnpvb20sdFtcImljb24tc2l6ZVwiXSk7Y29uc3Qgcj10aGlzLmxheWVyc1swXS5sYXlvdXQsbj1yLmdldChcInN5bWJvbC1zb3J0LWtleVwiKSxpPXIuZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy5jYW5PdmVybGFwPXIuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpfHxyLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKXx8ci5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIil8fHIuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLHRoaXMuc29ydEZlYXR1cmVzQnlLZXk9XCJ2aWV3cG9ydC15XCIhPT1pJiZ2b2lkIDAhPT1uLmNvbnN0YW50T3IoMSksdGhpcy5zb3J0RmVhdHVyZXNCeVk9KFwidmlld3BvcnQteVwiPT09aXx8XCJhdXRvXCI9PT1pJiYhdGhpcy5zb3J0RmVhdHVyZXNCeUtleSkmJnRoaXMuY2FuT3ZlcmxhcCx0aGlzLndyaXRpbmdNb2Rlcz1yLmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLm1hcChlPT4kaFtlXSksdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcihlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkubWFwKGU9PmUuaWQpLHRoaXMuc291cmNlSUQ9ZS5zb3VyY2VJRCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9ufWNyZWF0ZUFycmF5cygpe3RoaXMudGV4dD1uZXcgSHAobmV3IGxzKHRoaXMubGF5ZXJzLHRoaXMuem9vbSxlPT4vXnRleHQvLnRlc3QoZSkpKSx0aGlzLmljb249bmV3IEhwKG5ldyBscyh0aGlzLmxheWVycyx0aGlzLnpvb20sZT0+L15pY29uLy50ZXN0KGUpKSksdGhpcy5nbHlwaE9mZnNldEFycmF5PW5ldyBJYSx0aGlzLmxpbmVWZXJ0ZXhBcnJheT1uZXcgUGEsdGhpcy5zeW1ib2xJbnN0YW5jZXM9bmV3IEFhfWNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKGUsdCxyLG4saSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYodFtlLmNoYXJDb2RlQXQocildPSEwLG4mJmkpe2NvbnN0IG49bWhbZS5jaGFyQXQocildO24mJih0W24uY2hhckNvZGVBdCgwKV09ITApfX1wb3B1bGF0ZShlLHQscixuKXtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLG89aS5sYXlvdXQsYT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSxzPW8uZ2V0KFwidGV4dC1mb250XCIpLGw9by5nZXQoXCJ0ZXh0LWZpZWxkXCIpLGM9by5nZXQoXCJpY29uLWltYWdlXCIpLHU9KFwiY29uc3RhbnRcIiE9PWwudmFsdWUua2luZHx8bC52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIEl0JiYhbC52YWx1ZS52YWx1ZS5pc0VtcHR5KCl8fGwudmFsdWUudmFsdWUudG9TdHJpbmcoKS5sZW5ndGg+MCkmJihcImNvbnN0YW50XCIhPT1zLnZhbHVlLmtpbmR8fHMudmFsdWUudmFsdWUubGVuZ3RoPjApLGg9XCJjb25zdGFudFwiIT09Yy52YWx1ZS5raW5kfHwhIWMudmFsdWUudmFsdWV8fE9iamVjdC5rZXlzKGMucGFyYW1ldGVycykubGVuZ3RoPjAsZD1vLmdldChcInN5bWJvbC1zb3J0LWtleVwiKTtpZih0aGlzLmZlYXR1cmVzPVtdLCF1JiYhaClyZXR1cm47Y29uc3QgcD10Lmljb25EZXBlbmRlbmNpZXMsZj10LmdseXBoRGVwZW5kZW5jaWVzLG09dC5hdmFpbGFibGVJbWFnZXMsZz1uZXcgSW8odGhpcy56b29tKTtmb3IoY29uc3R7ZmVhdHVyZTp0LGlkOmwsaW5kZXg6Yyxzb3VyY2VMYXllckluZGV4Ol99b2YgZSl7Y29uc3QgZT1pLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx5PVZzKHQsZSk7aWYoIWkuX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKGcseSxyKSljb250aW51ZTtpZihlfHwoeS5nZW9tZXRyeT1Ocyh0LHIsbikpLGEmJjEhPT10LnR5cGUmJnIuejw9NSl7Y29uc3QgZT15Lmdlb21ldHJ5LHQ9Ljk4MDc4NTI4MDU2LG49KGUsbik9Pk9sKGNwKGUueCxlLnksciwxKSxjcChuLngsbi55LHIsMSkpPHQ7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT1CcyhlW3RdLG4pfWxldCB2LHg7aWYodSl7Y29uc3QgZT1pLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcInRleHQtZmllbGRcIix5LHIsbSksdD1JdC5mYWN0b3J5KGUpO1hwKHQpJiYodGhpcy5oYXNSVExUZXh0PSEwKSwoIXRoaXMuaGFzUlRMVGV4dHx8XCJ1bmF2YWlsYWJsZVwiPT09TW8oKXx8dGhpcy5oYXNSVExUZXh0JiZBby5pc1BhcnNlZCgpKSYmKHY9ZmgodCxpLHkpKX1pZihoKXtjb25zdCBlPWkuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwiaWNvbi1pbWFnZVwiLHkscixtKTt4PWUgaW5zdGFuY2VvZiBQdD9lOlB0LmZyb21TdHJpbmcoZSl9aWYoIXYmJiF4KWNvbnRpbnVlO2NvbnN0IGI9dGhpcy5zb3J0RmVhdHVyZXNCeUtleT9kLmV2YWx1YXRlKHkse30scik6dm9pZCAwO2lmKHRoaXMuZmVhdHVyZXMucHVzaCh7aWQ6bCx0ZXh0OnYsaWNvbjp4LGluZGV4OmMsc291cmNlTGF5ZXJJbmRleDpfLGdlb21ldHJ5OnkuZ2VvbWV0cnkscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTpHcFt0LnR5cGVdLHNvcnRLZXk6Yn0pLHgmJihwW3gubmFtZV09ITApLHYpe2NvbnN0IGU9cy5ldmFsdWF0ZSh5LHt9LHIpLmpvaW4oXCIsXCIpLHQ9XCJtYXBcIj09PW8uZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PW8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKTt0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQ9dGhpcy53cml0aW5nTW9kZXMmJnRoaXMud3JpdGluZ01vZGVzLmluZGV4T2YoJGgudmVydGljYWwpPj0wO2Zvcihjb25zdCByIG9mIHYuc2VjdGlvbnMpaWYoci5pbWFnZSlwW3IuaW1hZ2UubmFtZV09ITA7ZWxzZXtjb25zdCBuPWNvKHYudG9TdHJpbmcoKSksaT1yLmZvbnRTdGFja3x8ZSxvPWZbaV09ZltpXXx8e307dGhpcy5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhyLnRleHQsbyx0LHRoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCxuKX19fVwibGluZVwiPT09by5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpJiYodGhpcy5mZWF0dXJlcz1mdW5jdGlvbihlKXtjb25zdCB0PXt9LHI9e30sbj1bXTtsZXQgaT0wO2Z1bmN0aW9uIG8odCl7bi5wdXNoKGVbdF0pLGkrK31mdW5jdGlvbiBhKGUsdCxpKXtjb25zdCBvPXJbZV07cmV0dXJuIGRlbGV0ZSByW2VdLHJbdF09byxuW29dLmdlb21ldHJ5WzBdLnBvcCgpLG5bb10uZ2VvbWV0cnlbMF09bltvXS5nZW9tZXRyeVswXS5jb25jYXQoaVswXSksb31mdW5jdGlvbiBzKGUscixpKXtjb25zdCBvPXRbcl07cmV0dXJuIGRlbGV0ZSB0W3JdLHRbZV09byxuW29dLmdlb21ldHJ5WzBdLnNoaWZ0KCksbltvXS5nZW9tZXRyeVswXT1pWzBdLmNvbmNhdChuW29dLmdlb21ldHJ5WzBdKSxvfWZ1bmN0aW9uIGwoZSx0LHIpe2NvbnN0IG49cj90WzBdW3RbMF0ubGVuZ3RoLTFdOnRbMF1bMF07cmV0dXJuYCR7ZX06JHtuLnh9OiR7bi55fWB9Zm9yKGxldCBjPTA7YzxlLmxlbmd0aDtjKyspe2NvbnN0IHU9ZVtjXSxoPXUuZ2VvbWV0cnksZD11LnRleHQ/dS50ZXh0LnRvU3RyaW5nKCk6bnVsbDtpZighZCl7byhjKTtjb250aW51ZX1jb25zdCBwPWwoZCxoKSxmPWwoZCxoLCEwKTtpZihwIGluIHImJmYgaW4gdCYmcltwXSE9PXRbZl0pe2NvbnN0IGU9cyhwLGYsaCksaT1hKHAsZixuW2VdLmdlb21ldHJ5KTtkZWxldGUgdFtwXSxkZWxldGUgcltmXSxyW2woZCxuW2ldLmdlb21ldHJ5LCEwKV09aSxuW2VdLmdlb21ldHJ5PW51bGx9ZWxzZSBwIGluIHI/YShwLGYsaCk6ZiBpbiB0P3MocCxmLGgpOihvKGMpLHRbcF09aS0xLHJbZl09aS0xKX1yZXR1cm4gbi5maWx0ZXIoZT0+ZS5nZW9tZXRyeSl9KHRoaXMuZmVhdHVyZXMpKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5JiZ0aGlzLmZlYXR1cmVzLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpfXVwZGF0ZShlLHQscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmKHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMubGF5ZXJzLHIsbiksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5sYXllcnMscixuKSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoJiYhdGhpcy5oYXNSVExUZXh0fXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZHx8dGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7IXRoaXMudXBsb2FkZWQmJnRoaXMuaGFzRGVidWdEYXRhKCkmJih0aGlzLnRleHRDb2xsaXNpb25Cb3gudXBsb2FkKGUpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC51cGxvYWQoZSkpLHRoaXMudGV4dC51cGxvYWQoZSx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLmljb24udXBsb2FkKGUsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy51cGxvYWRlZD0hMH1kZXN0cm95RGVidWdEYXRhKCl7dGhpcy50ZXh0Q29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmljb25Db2xsaXNpb25Cb3guZGVzdHJveSgpfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V8fCh0aGlzLnByb2plY3Rpb25JbnN0YW5jZT1WcCh0aGlzLnByb2plY3Rpb24pKSx0aGlzLnByb2plY3Rpb25JbnN0YW5jZX1kZXN0cm95KCl7dGhpcy50ZXh0LmRlc3Ryb3koKSx0aGlzLmljb24uZGVzdHJveSgpLHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpfWFkZFRvTGluZVZlcnRleEFycmF5KGUsdCl7Y29uc3Qgcj10aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGgsbj1lLnNlZ21lbnQ7aWYodm9pZCAwIT09bil7bGV0IHI9ZS5kaXN0KHRbbisxXSksaT1lLmRpc3QodFtuXSk7Y29uc3Qgbz17fTtmb3IobGV0IGU9bisxO2U8dC5sZW5ndGg7ZSsrKW9bZV09e3g6dFtlXS54LHk6dFtlXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOnJ9LGU8dC5sZW5ndGgtMSYmKHIrPXRbZSsxXS5kaXN0KHRbZV0pKTtmb3IobGV0IGU9bnx8MDtlPj0wO2UtLSlvW2VdPXt4OnRbZV0ueCx5OnRbZV0ueSx0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcjppfSxlPjAmJihpKz10W2UtMV0uZGlzdCh0W2VdKSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IHQ9b1tlXTt0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh0LngsdC55LHQudGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IpfX1yZXR1cm57bGluZVN0YXJ0SW5kZXg6cixsaW5lTGVuZ3RoOnRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aC1yfX1hZGRTeW1ib2xzKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCl7Y29uc3QgZj1lLmluZGV4QXJyYXksbT1lLmxheW91dFZlcnRleEFycmF5LGc9ZS5nbG9iZUV4dFZlcnRleEFycmF5LF89ZS5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0KnQubGVuZ3RoLG0sZix0aGlzLmNhbk92ZXJsYXA/by5zb3J0S2V5OnZvaWQgMCkseT10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLHY9Xy52ZXJ0ZXhMZW5ndGgseD10aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJmE9PT0kaC52ZXJ0aWNhbD9NYXRoLlBJLzI6MCxiPW8udGV4dCYmby50ZXh0LnNlY3Rpb25zO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdHt0bDppLHRyOmEsYmw6Yyxicjp1LHRleDpoLHBpeGVsT2Zmc2V0VEw6eSxwaXhlbE9mZnNldEJSOnYsbWluRm9udFNjYWxlWDp3LG1pbkZvbnRTY2FsZVk6VCxnbHlwaE9mZnNldDpFLGlzU0RGOlMsc2VjdGlvbkluZGV4OkN9PXRbbl0sTT1fLnZlcnRleExlbmd0aCxrPUVbMV07aWYoWnAobSxsLngsbC55LGkueCxrK2kueSxoLngsaC55LHIsUyx5LngseS55LHcsVCksWnAobSxsLngsbC55LGEueCxrK2EueSxoLngraC53LGgueSxyLFMsdi54LHkueSx3LFQpLFpwKG0sbC54LGwueSxjLngsaytjLnksaC54LGgueStoLmgscixTLHkueCx2LnksdyxUKSxacChtLGwueCxsLnksdS54LGsrdS55LGgueCtoLncsaC55K2guaCxyLFMsdi54LHYueSx3LFQpLHMpe2NvbnN0IHQ9cy5hbmNob3Iscj1zLnVwOyRwKGcsdC54LHQueSx0LnosclswXSxyWzFdLHJbMl0pLCRwKGcsdC54LHQueSx0LnosclswXSxyWzFdLHJbMl0pLCRwKGcsdC54LHQueSx0LnosclswXSxyWzFdLHJbMl0pLCRwKGcsdC54LHQueSx0LnosclswXSxyWzFdLHJbMl0pLFdwKGUuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHQueCx0LnksdC56LHgpfWVsc2UgV3AoZS5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxsLnoseCk7Zi5lbXBsYWNlQmFjayhNLE0rMSxNKzIpLGYuZW1wbGFjZUJhY2soTSsxLE0rMixNKzMpLF8udmVydGV4TGVuZ3RoKz00LF8ucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhFWzBdKSxuIT09dC5sZW5ndGgtMSYmQz09PXRbbisxXS5zZWN0aW9uSW5kZXh8fGUucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMobS5sZW5ndGgsbyxvLmluZGV4LHt9LGQscCxiJiZiW0NdKX1jb25zdCB3PXM/cy5hbmNob3I6bDtlLnBsYWNlZFN5bWJvbEFycmF5LmVtcGxhY2VCYWNrKHcueCx3Lnksdy56LGwueCxsLnkseSx0aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLXksdixjLHUsbC5zZWdtZW50LHI/clswXTowLHI/clsxXTowLG5bMF0sblsxXSxhLDAsITEsMCxoLDApfV9jb21taXRMYXlvdXRWZXJ0ZXgoZSx0LHIsbixpLG8sYSl7ZS5lbXBsYWNlQmFjayh0LHIsbixpLG8sTWF0aC5yb3VuZChhLngpLE1hdGgucm91bmQoYS55KSl9X2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMoZSx0LHIsbixpLG8sYSl7Y29uc3Qgcz1yLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsci5sYXlvdXRWZXJ0ZXhBcnJheSxyLmluZGV4QXJyYXkpLGw9cy52ZXJ0ZXhMZW5ndGgsYz1hLnRpbGVBbmNob3JYLHU9YS50aWxlQW5jaG9yWTtmb3IobGV0IGU9MDtlPDQ7ZSsrKXIuY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2soMCwwLDAsMCk7ci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LC1lLnBhZGRpbmcsLWUucGFkZGluZyksci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LGUucGFkZGluZywtZS5wYWRkaW5nKSxyLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKHQsZS5wYWRkaW5nLGUucGFkZGluZyksci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LC1lLnBhZGRpbmcsZS5wYWRkaW5nKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksbyxjLHUsbmV3IG0oZS54MSxlLnkxKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixpLG8sYyx1LG5ldyBtKGUueDIsZS55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LG4saSxvLGMsdSxuZXcgbShlLngyLGUueTIpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksbyxjLHUsbmV3IG0oZS54MSxlLnkyKSkscy52ZXJ0ZXhMZW5ndGgrPTQ7Y29uc3QgaD1yLmluZGV4QXJyYXk7aC5lbXBsYWNlQmFjayhsLGwrMSksaC5lbXBsYWNlQmFjayhsKzEsbCsyKSxoLmVtcGxhY2VCYWNrKGwrMixsKzMpLGguZW1wbGFjZUJhY2sobCszLGwpLHMucHJpbWl0aXZlTGVuZ3RoKz00fV9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhlLHQscixuLGksbyl7Zm9yKGxldCBhPW47YTxpO2ErKyl7Y29uc3Qgbj1yLmdldChhKSxpPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShlLG8sdCxhKTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKG4saSx0aGlzLnRleHRDb2xsaXNpb25Cb3gsbi5wcm9qZWN0ZWRBbmNob3JYLG4ucHJvamVjdGVkQW5jaG9yWSxuLnByb2plY3RlZEFuY2hvclosbyl9fV9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhlLHQscixuLGksbyl7Zm9yKGxldCBhPW47YTxpO2ErKyl7Y29uc3Qgbj1yLmdldChhKSxpPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMobixpLHRoaXMuaWNvbkNvbGxpc2lvbkJveCxuLnByb2plY3RlZEFuY2hvclgsbi5wcm9qZWN0ZWRBbmNob3JZLG4ucHJvamVjdGVkQW5jaG9yWixvKX19Z2VuZXJhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMoZSx0KXt0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKSx0aGlzLnRleHRDb2xsaXNpb25Cb3g9bmV3IFlwKGNhLHNoLm1lbWJlcnMsdmEpLHRoaXMuaWNvbkNvbGxpc2lvbkJveD1uZXcgWXAoY2Esc2gubWVtYmVycyx2YSk7Y29uc3Qgcj1kaCh0aGlzLmljb25TaXplRGF0YSxlKSxuPWRoKHRoaXMudGV4dFNpemVEYXRhLGUpO2ZvcihsZXQgaT0wO2k8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgbz10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoaSk7dGhpcy5fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobixlLHQsby50ZXh0Qm94U3RhcnRJbmRleCxvLnRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhuLGUsdCxvLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLGUsdCxvLmljb25Cb3hTdGFydEluZGV4LG8uaWNvbkJveEVuZEluZGV4LG8pLHRoaXMuX2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKHIsZSx0LG8udmVydGljYWxJY29uQm94U3RhcnRJbmRleCxvLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LG8pfX1nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGUsdCxyLG4pe2NvbnN0IGk9dGhpcy50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0LnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wP3QudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6biksbz1oaCh0aGlzLnRleHRTaXplRGF0YSxlLGkpLzI0O3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKm99Z2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQscil7Y29uc3Qgbj10aGlzLmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHIpLGk9aGgodGhpcy5pY29uU2l6ZURhdGEsZSxuKTtyZXR1cm4gdGhpcy50aWxlUGl4ZWxSYXRpbyppfV9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZShlLHQscil7ZS5lbXBsYWNlQmFjayh0LC1yLC1yKSxlLmVtcGxhY2VCYWNrKHQsciwtciksZS5lbXBsYWNlQmFjayh0LHIsciksZS5lbXBsYWNlQmFjayh0LC1yLHIpfV91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhlLHQscixuLGksbyl7Zm9yKGxldCBhPW47YTxpO2ErKyl7Y29uc3Qgbj1yLmdldChhKSxpPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShlLG8sdCxhKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsaSxuLnBhZGRpbmcpfX1fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LHIsbixpLG8pe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZSx0LG8pO3RoaXMuX2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxpLG4ucGFkZGluZyl9fXVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyhlLHQpe2lmKCF0aGlzLmhhc0RlYnVnRGF0YSgpKXJldHVybjt0aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCk7Y29uc3Qgcj1kaCh0aGlzLmljb25TaXplRGF0YSxlKSxuPWRoKHRoaXMudGV4dFNpemVEYXRhLGUpO2ZvcihsZXQgaT0wO2k8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgbz10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoaSk7dGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobixlLHQsby50ZXh0Qm94U3RhcnRJbmRleCxvLnRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhuLGUsdCxvLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLGUsdCxvLmljb25Cb3hTdGFydEluZGV4LG8uaWNvbkJveEVuZEluZGV4LG8ucGxhY2VkSWNvblN5bWJvbEluZGV4KSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLGUsdCxvLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxvLnBsYWNlZEljb25TeW1ib2xJbmRleCl9dGhpcy5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0JiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LnVwZGF0ZURhdGEodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0KSx0aGlzLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpfV9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKGUsdCxyLG4saSxvLGEscyxsKXtjb25zdCBjPXt9O2ZvcihsZXQgbj10O248cjtuKyspe2NvbnN0IHQ9ZS5nZXQobik7Yy50ZXh0Qm94PXt4MTp0LngxLHkxOnQueTEseDI6dC54Mix5Mjp0LnkyLHBhZGRpbmc6dC5wYWRkaW5nLHByb2plY3RlZEFuY2hvclg6dC5wcm9qZWN0ZWRBbmNob3JYLHByb2plY3RlZEFuY2hvclk6dC5wcm9qZWN0ZWRBbmNob3JZLHByb2plY3RlZEFuY2hvclo6dC5wcm9qZWN0ZWRBbmNob3JaLHRpbGVBbmNob3JYOnQudGlsZUFuY2hvclgsdGlsZUFuY2hvclk6dC50aWxlQW5jaG9yWX0sYy50ZXh0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4O2JyZWFrfWZvcihsZXQgdD1uO3Q8aTt0Kyspe2NvbnN0IHI9ZS5nZXQodCk7Yy52ZXJ0aWNhbFRleHRCb3g9e3gxOnIueDEseTE6ci55MSx4MjpyLngyLHkyOnIueTIscGFkZGluZzpyLnBhZGRpbmcscHJvamVjdGVkQW5jaG9yWDpyLnByb2plY3RlZEFuY2hvclgscHJvamVjdGVkQW5jaG9yWTpyLnByb2plY3RlZEFuY2hvclkscHJvamVjdGVkQW5jaG9yWjpyLnByb2plY3RlZEFuY2hvclosdGlsZUFuY2hvclg6ci50aWxlQW5jaG9yWCx0aWxlQW5jaG9yWTpyLnRpbGVBbmNob3JZfSxjLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleD1yLmZlYXR1cmVJbmRleDticmVha31mb3IobGV0IHQ9bzt0PGE7dCsrKXtjb25zdCByPWUuZ2V0KHQpO2MuaWNvbkJveD17eDE6ci54MSx5MTpyLnkxLHgyOnIueDIseTI6ci55MixwYWRkaW5nOnIucGFkZGluZyxwcm9qZWN0ZWRBbmNob3JYOnIucHJvamVjdGVkQW5jaG9yWCxwcm9qZWN0ZWRBbmNob3JZOnIucHJvamVjdGVkQW5jaG9yWSxwcm9qZWN0ZWRBbmNob3JaOnIucHJvamVjdGVkQW5jaG9yWix0aWxlQW5jaG9yWDpyLnRpbGVBbmNob3JYLHRpbGVBbmNob3JZOnIudGlsZUFuY2hvcll9LGMuaWNvbkZlYXR1cmVJbmRleD1yLmZlYXR1cmVJbmRleDticmVha31mb3IobGV0IHQ9czt0PGw7dCsrKXtjb25zdCByPWUuZ2V0KHQpO2MudmVydGljYWxJY29uQm94PXt4MTpyLngxLHkxOnIueTEseDI6ci54Mix5MjpyLnkyLHBhZGRpbmc6ci5wYWRkaW5nLHByb2plY3RlZEFuY2hvclg6ci5wcm9qZWN0ZWRBbmNob3JYLHByb2plY3RlZEFuY2hvclk6ci5wcm9qZWN0ZWRBbmNob3JZLHByb2plY3RlZEFuY2hvclo6ci5wcm9qZWN0ZWRBbmNob3JaLHRpbGVBbmNob3JYOnIudGlsZUFuY2hvclgsdGlsZUFuY2hvclk6ci50aWxlQW5jaG9yWX0sYy52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9ci5mZWF0dXJlSW5kZXg7YnJlYWt9cmV0dXJuIGN9ZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhlKXt0aGlzLmNvbGxpc2lvbkFycmF5cz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpO3RoaXMuY29sbGlzaW9uQXJyYXlzLnB1c2godGhpcy5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbChlLHIudGV4dEJveFN0YXJ0SW5kZXgsci50ZXh0Qm94RW5kSW5kZXgsci52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LHIudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsci5pY29uQm94U3RhcnRJbmRleCxyLmljb25Cb3hFbmRJbmRleCxyLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsci52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCkpfX1oYXNUZXh0RGF0YSgpe3JldHVybiB0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzSWNvbkRhdGEoKXtyZXR1cm4gdGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0RlYnVnRGF0YSgpe3JldHVybiB0aGlzLnRleHRDb2xsaXNpb25Cb3gmJnRoaXMuaWNvbkNvbGxpc2lvbkJveH1oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2woZSx0KXtjb25zdCByPWUucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQpLG49ci52ZXJ0ZXhTdGFydEluZGV4KzQqci5udW1HbHlwaHM7Zm9yKGxldCB0PXIudmVydGV4U3RhcnRJbmRleDt0PG47dCs9NCllLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodCx0KzEsdCsyKSxlLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodCsxLHQrMix0KzMpfWdldFNvcnRlZFN5bWJvbEluZGV4ZXMoZSl7aWYodGhpcy5zb3J0ZWRBbmdsZT09PWUmJnZvaWQgMCE9PXRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzKXJldHVybiB0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcztjb25zdCB0PU1hdGguc2luKGUpLHI9TWF0aC5jb3MoZSksbj1bXSxpPVtdLG89W107Zm9yKGxldCBlPTA7ZTx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7KytlKXtvLnB1c2goZSk7Y29uc3QgYT10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoZSk7bi5wdXNoKDB8TWF0aC5yb3VuZCh0KmEudGlsZUFuY2hvclgrciphLnRpbGVBbmNob3JZKSksaS5wdXNoKGEuZmVhdHVyZUluZGV4KX1yZXR1cm4gby5zb3J0KChlLHQpPT5uW2VdLW5bdF18fGlbdF0taVtlXSksb31hZGRUb1NvcnRLZXlSYW5nZXMoZSx0KXtjb25zdCByPXRoaXMuc29ydEtleVJhbmdlc1t0aGlzLnNvcnRLZXlSYW5nZXMubGVuZ3RoLTFdO3ImJnIuc29ydEtleT09PXQ/ci5zeW1ib2xJbnN0YW5jZUVuZD1lKzE6dGhpcy5zb3J0S2V5UmFuZ2VzLnB1c2goe3NvcnRLZXk6dCxzeW1ib2xJbnN0YW5jZVN0YXJ0OmUsc3ltYm9sSW5zdGFuY2VFbmQ6ZSsxfSl9c29ydEZlYXR1cmVzKGUpe2lmKHRoaXMuc29ydEZlYXR1cmVzQnlZJiZ0aGlzLnNvcnRlZEFuZ2xlIT09ZSYmISh0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjF8fHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MSkpe3RoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzPXRoaXMuZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyhlKSx0aGlzLnNvcnRlZEFuZ2xlPWUsdGhpcy50ZXh0LmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmljb24uaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuZmVhdHVyZVNvcnRPcmRlcj1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcyl7Y29uc3QgdD10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoZSk7dGhpcy5mZWF0dXJlU29ydE9yZGVyLnB1c2godC5mZWF0dXJlSW5kZXgpLFt0LnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHQuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHQubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleF0uZm9yRWFjaCgoZSx0LHIpPT57ZT49MCYmci5pbmRleE9mKGUpPT09dCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxlKX0pLHQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsdC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCksdC5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24sdC5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLHQudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24sdC52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCl9dGhpcy50ZXh0LmluZGV4QnVmZmVyJiZ0aGlzLnRleHQuaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnRleHQuaW5kZXhBcnJheSksdGhpcy5pY29uLmluZGV4QnVmZmVyJiZ0aGlzLmljb24uaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmljb24uaW5kZXhBcnJheSl9fX1JaShLcCxcIlN5bWJvbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiY29sbGlzaW9uQm94QXJyYXlcIixcImZlYXR1cmVzXCIsXCJjb21wYXJlVGV4dFwiXX0pLEtwLk1BWF9HTFlQSFM9NjU1MzUsS3AuYWRkRHluYW1pY0F0dHJpYnV0ZXM9V3A7Y29uc3QgSnA9bmV3IHFvKHtcInN5bWJvbC1wbGFjZW1lbnRcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1wbGFjZW1lbnRcIl0pLFwic3ltYm9sLXNwYWNpbmdcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zcGFjaW5nXCJdKSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLWF2b2lkLWVkZ2VzXCJdKSxcInN5bWJvbC1zb3J0LWtleVwiOm5ldyBVbyhZZS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXNvcnQta2V5XCJdKSxcInN5bWJvbC16LW9yZGVyXCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtei1vcmRlclwiXSksXCJpY29uLWFsbG93LW92ZXJsYXBcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tYWxsb3ctb3ZlcmxhcFwiXSksXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcImljb24taWdub3JlLXBsYWNlbWVudFwiXSksXCJpY29uLW9wdGlvbmFsXCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLW9wdGlvbmFsXCJdKSxcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJpY29uLXNpemVcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tc2l6ZVwiXSksXCJpY29uLXRleHQtZml0XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLXRleHQtZml0XCJdKSxcImljb24tdGV4dC1maXQtcGFkZGluZ1wiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCJdKSxcImljb24taW1hZ2VcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcImljb24taW1hZ2VcIl0pLFwiaWNvbi1yb3RhdGVcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tcm90YXRlXCJdKSxcImljb24tcGFkZGluZ1wiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1wYWRkaW5nXCJdKSxcImljb24ta2VlcC11cHJpZ2h0XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLWtlZXAtdXByaWdodFwiXSksXCJpY29uLW9mZnNldFwiOm5ldyBVbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1vZmZzZXRcIl0pLFwiaWNvbi1hbmNob3JcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tYW5jaG9yXCJdKSxcImljb24tcGl0Y2gtYWxpZ25tZW50XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1waXRjaC1hbGlnbm1lbnRcIl0pLFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCJdKSxcInRleHQtZmllbGRcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtZmllbGRcIl0pLFwidGV4dC1mb250XCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWZvbnRcIl0pLFwidGV4dC1zaXplXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXNpemVcIl0pLFwidGV4dC1tYXgtd2lkdGhcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtbWF4LXdpZHRoXCJdKSxcInRleHQtbGluZS1oZWlnaHRcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtbGluZS1oZWlnaHRcIl0pLFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiOm5ldyBVbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1sZXR0ZXItc3BhY2luZ1wiXSksXCJ0ZXh0LWp1c3RpZnlcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtanVzdGlmeVwiXSksXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtcmFkaWFsLW9mZnNldFwiXSksXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC12YXJpYWJsZS1hbmNob3JcIl0pLFwidGV4dC1hbmNob3JcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtYW5jaG9yXCJdKSxcInRleHQtbWF4LWFuZ2xlXCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC1hbmdsZVwiXSksXCJ0ZXh0LXdyaXRpbmctbW9kZVwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC13cml0aW5nLW1vZGVcIl0pLFwidGV4dC1yb3RhdGVcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtcm90YXRlXCJdKSxcInRleHQtcGFkZGluZ1wiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1wYWRkaW5nXCJdKSxcInRleHQta2VlcC11cHJpZ2h0XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWtlZXAtdXByaWdodFwiXSksXCJ0ZXh0LXRyYW5zZm9ybVwiOm5ldyBVbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC10cmFuc2Zvcm1cIl0pLFwidGV4dC1vZmZzZXRcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtb2Zmc2V0XCJdKSxcInRleHQtYWxsb3ctb3ZlcmxhcFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1hbGxvdy1vdmVybGFwXCJdKSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1pZ25vcmUtcGxhY2VtZW50XCJdKSxcInRleHQtb3B0aW9uYWxcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtb3B0aW9uYWxcIl0pfSk7dmFyIFFwPXtwYWludDpuZXcgcW8oe1wiaWNvbi1vcGFjaXR5XCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcImljb24tb3BhY2l0eVwiXSksXCJpY29uLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcImljb24tY29sb3JcIl0pLFwiaWNvbi1oYWxvLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcImljb24taGFsby1jb2xvclwiXSksXCJpY29uLWhhbG8td2lkdGhcIjpuZXcgVW8oWWUucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLXdpZHRoXCJdKSxcImljb24taGFsby1ibHVyXCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcImljb24taGFsby1ibHVyXCJdKSxcImljb24tdHJhbnNsYXRlXCI6bmV3IGpvKFllLnBhaW50X3N5bWJvbFtcImljb24tdHJhbnNsYXRlXCJdKSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBqbyhZZS5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwidGV4dC1vcGFjaXR5XCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcInRleHQtb3BhY2l0eVwiXSksXCJ0ZXh0LWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcInRleHQtY29sb3JcIl0se3J1bnRpbWVUeXBlOmx0LGdldE92ZXJyaWRlOmU9PmUudGV4dENvbG9yLGhhc092ZXJyaWRlOmU9PiEhZS50ZXh0Q29sb3J9KSxcInRleHQtaGFsby1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8tY29sb3JcIl0pLFwidGV4dC1oYWxvLXdpZHRoXCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcInRleHQtaGFsby13aWR0aFwiXSksXCJ0ZXh0LWhhbG8tYmx1clwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8tYmx1clwiXSksXCJ0ZXh0LXRyYW5zbGF0ZVwiOm5ldyBqbyhZZS5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZVwiXSksXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgam8oWWUucGFpbnRfc3ltYm9sW1widGV4dC10cmFuc2xhdGUtYW5jaG9yXCJdKX0pLGxheW91dDpKcH07Y2xhc3MgZWZ7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUucHJvcGVydHkub3ZlcnJpZGVzP2UucHJvcGVydHkub3ZlcnJpZGVzLnJ1bnRpbWVUeXBlOml0LHRoaXMuZGVmYXVsdFZhbHVlPWV9ZXZhbHVhdGUoZSl7aWYoZS5mb3JtYXR0ZWRTZWN0aW9uKXtjb25zdCB0PXRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5Lm92ZXJyaWRlcztpZih0JiZ0Lmhhc092ZXJyaWRlKGUuZm9ybWF0dGVkU2VjdGlvbikpcmV0dXJuIHQuZ2V0T3ZlcnJpZGUoZS5mb3JtYXR0ZWRTZWN0aW9uKX1yZXR1cm4gZS5mZWF0dXJlJiZlLmZlYXR1cmVTdGF0ZT90aGlzLmRlZmF1bHRWYWx1ZS5ldmFsdWF0ZShlLmZlYXR1cmUsZS5mZWF0dXJlU3RhdGUpOnRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5LnNwZWNpZmljYXRpb24uZGVmYXVsdH1lYWNoQ2hpbGQoZSl7dGhpcy5kZWZhdWx0VmFsdWUuaXNDb25zdGFudCgpfHxlKHRoaXMuZGVmYXVsdFZhbHVlLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbil9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVybiBudWxsfX1JaShlZixcIkZvcm1hdFNlY3Rpb25PdmVycmlkZVwiLHtvbWl0OltcImRlZmF1bHRWYWx1ZVwiXX0pO2NsYXNzIHRmIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxRcCl9cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1wibWFwXCI6XCJ2aWV3cG9ydFwiKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdPXRoaXMubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcGl0Y2gtYWxpZ25tZW50XCJdPXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpKTtjb25zdCByPXRoaXMubGF5b3V0LmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpO2lmKHIpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgcillLmluZGV4T2YodCk8MCYmZS5wdXNoKHQpO3RoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXT1lfWVsc2UgdGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtd3JpdGluZy1tb2RlXCJdPVwicG9pbnRcIj09PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/W1wiaG9yaXpvbnRhbFwiXTpbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiXTt0aGlzLl9zZXRQYWludE92ZXJyaWRlcygpfWdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhlLHQscixuKXtjb25zdCBpPXRoaXMubGF5b3V0LmdldChlKS5ldmFsdWF0ZSh0LHt9LHIsbiksbz10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW2VdO3JldHVybiBvLmlzRGF0YURyaXZlbigpfHxGbihvLnZhbHVlKXx8IWk/aTpmdW5jdGlvbihlLHQpe3JldHVybiB0LnJlcGxhY2UoL3soW157fV0rKX0vZywodCxyKT0+ciBpbiBlP1N0cmluZyhlW3JdKTpcIlwiKX0odC5wcm9wZXJ0aWVzLGkpfWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IEtwKGUpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIDB9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSgpe3JldHVybiExfV9zZXRQYWludE92ZXJyaWRlcygpe2Zvcihjb25zdCBlIG9mIFFwLnBhaW50Lm92ZXJyaWRhYmxlUHJvcGVydGllcyl7aWYoIXRmLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsZSkpY29udGludWU7Y29uc3QgdD10aGlzLnBhaW50LmdldChlKSxyPW5ldyBlZih0KSxuPW5ldyBCbihyLHQucHJvcGVydHkuc3BlY2lmaWNhdGlvbik7bGV0IGk9bnVsbDtpPVwiY29uc3RhbnRcIj09PXQudmFsdWUua2luZHx8XCJzb3VyY2VcIj09PXQudmFsdWUua2luZD9uZXcgVW4oXCJzb3VyY2VcIixuKTpuZXcgTm4oXCJjb21wb3NpdGVcIixuLHQudmFsdWUuem9vbVN0b3BzLHQudmFsdWUuX2ludGVycG9sYXRpb25UeXBlKSx0aGlzLnBhaW50Ll92YWx1ZXNbZV09bmV3IEJvKHQucHJvcGVydHksaSx0LnBhcmFtZXRlcnMpfX1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKGUsdCxyKXtyZXR1cm4hKCF0aGlzLmxheW91dHx8dC5pc0RhdGFEcml2ZW4oKXx8ci5pc0RhdGFEcml2ZW4oKSkmJnRmLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsZSl9c3RhdGljIGhhc1BhaW50T3ZlcnJpZGUoZSx0KXtjb25zdCByPWUuZ2V0KFwidGV4dC1maWVsZFwiKSxuPVFwLnBhaW50LnByb3BlcnRpZXNbdF07bGV0IGk9ITE7Y29uc3Qgbz1lPT57Zm9yKGNvbnN0IHQgb2YgZSlpZihuLm92ZXJyaWRlcyYmbi5vdmVycmlkZXMuaGFzT3ZlcnJpZGUodCkpcmV0dXJuIHZvaWQoaT0hMCl9O2lmKFwiY29uc3RhbnRcIj09PXIudmFsdWUua2luZCYmci52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIEl0KW8oci52YWx1ZS52YWx1ZS5zZWN0aW9ucyk7ZWxzZSBpZihcInNvdXJjZVwiPT09ci52YWx1ZS5raW5kKXtjb25zdCBlPXQ9PntpfHwodCBpbnN0YW5jZW9mIEJ0JiZSdCh0LnZhbHVlKT09PWR0P28odC52YWx1ZS5zZWN0aW9ucyk6dCBpbnN0YW5jZW9mIFZ0P28odC5zZWN0aW9ucyk6dC5lYWNoQ2hpbGQoZSkpfSx0PXIudmFsdWU7dC5fc3R5bGVFeHByZXNzaW9uJiZlKHQuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKX1yZXR1cm4gaX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHNzKHRoaXMsZSl9fXZhciByZj17cGFpbnQ6bmV3IHFvKHtcImJhY2tncm91bmQtY29sb3JcIjpuZXcgam8oWWUucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtY29sb3JcIl0pLFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6bmV3IFZvKFllLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIl0pLFwiYmFja2dyb3VuZC1vcGFjaXR5XCI6bmV3IGpvKFllLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIl0pfSl9LG5mPXtwYWludDpuZXcgcW8oe1wicmFzdGVyLW9wYWNpdHlcIjpuZXcgam8oWWUucGFpbnRfcmFzdGVyW1wicmFzdGVyLW9wYWNpdHlcIl0pLFwicmFzdGVyLWh1ZS1yb3RhdGVcIjpuZXcgam8oWWUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWh1ZS1yb3RhdGVcIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiXSksXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjpuZXcgam8oWWUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWJyaWdodG5lc3MtbWF4XCJdKSxcInJhc3Rlci1zYXR1cmF0aW9uXCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1zYXR1cmF0aW9uXCJdKSxcInJhc3Rlci1jb250cmFzdFwiOm5ldyBqbyhZZS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItY29udHJhc3RcIl0pLFwicmFzdGVyLXJlc2FtcGxpbmdcIjpuZXcgam8oWWUucGFpbnRfcmFzdGVyW1wicmFzdGVyLXJlc2FtcGxpbmdcIl0pLFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjpuZXcgam8oWWUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWZhZGUtZHVyYXRpb25cIl0pfSl9O2NsYXNzIG9mIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSx7fSksdGhpcy5pbXBsZW1lbnRhdGlvbj1lfWlzM0QoKXtyZXR1cm5cIjNkXCI9PT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGV9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnByZXJlbmRlcn1yZWNhbGN1bGF0ZSgpe311cGRhdGVUcmFuc2l0aW9ucygpe31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7fW9uQWRkKGUpe3RoaXMuaW1wbGVtZW50YXRpb24ub25BZGQmJnRoaXMuaW1wbGVtZW50YXRpb24ub25BZGQoZSxlLnBhaW50ZXIuY29udGV4dC5nbCl9b25SZW1vdmUoZSl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZShlLGUucGFpbnRlci5jb250ZXh0LmdsKX19dmFyIGFmPXtwYWludDpuZXcgcW8oe1wic2t5LXR5cGVcIjpuZXcgam8oWWUucGFpbnRfc2t5W1wic2t5LXR5cGVcIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6bmV3IGpvKFllLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1blwiXSksXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6bmV3IGpvKFllLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIl0pLFwic2t5LWdyYWRpZW50LWNlbnRlclwiOm5ldyBqbyhZZS5wYWludF9za3lbXCJza3ktZ3JhZGllbnQtY2VudGVyXCJdKSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjpuZXcgam8oWWUucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LXJhZGl1c1wiXSksXCJza3ktZ3JhZGllbnRcIjpuZXcgR28oWWUucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50XCJdKSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjpuZXcgam8oWWUucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiXSksXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOm5ldyBqbyhZZS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiXSksXCJza3ktb3BhY2l0eVwiOm5ldyBqbyhZZS5wYWludF9za3lbXCJza3ktb3BhY2l0eVwiXSl9KX07ZnVuY3Rpb24gc2YoZSx0LHIpe2NvbnN0IG49WzAsMCwxXSxpPVhsKFtdKTtyZXR1cm4gWWwoaSxpLHI/LXYoZSkrTWF0aC5QSTp2KGUpKSxIbChpLGksLXYodCkpLGpsKG4sbixpKSxMbChuLG4pfWNvbnN0IGxmPXtjaXJjbGU6Y2xhc3MgZXh0ZW5kcyBtc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLGNsKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBacyhlKX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWU7cmV0dXJuIGlsKFwiY2lyY2xlLXJhZGl1c1wiLHRoaXMsdCkraWwoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIsdGhpcyx0KStvbCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPXNsKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxjPXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LHIpK3RoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKS5ldmFsdWF0ZSh0LHIpO3JldHVybiByYyhlLG4sbyxhLHMsXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIiksbCxjKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wiY2lyY2xlXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBuZXcgc3ModGhpcyxlKX19LGhlYXRtYXA6Y2xhc3MgZXh0ZW5kcyBtc3tjcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBzYyhlKX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlLHBjKSx0aGlzLl91cGRhdGVDb2xvclJhbXAoKX1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7XCJoZWF0bWFwLWNvbG9yXCI9PT1lJiZ0aGlzLl91cGRhdGVDb2xvclJhbXAoKX1fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9ZmMoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiaGVhdG1hcC1jb2xvclwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJoZWF0bWFwRGVuc2l0eVwiLGltYWdlOnRoaXMuY29sb3JSYW1wfSksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGx9cmVzaXplKCl7dGhpcy5oZWF0bWFwRmJvJiYodGhpcy5oZWF0bWFwRmJvLmRlc3Ryb3koKSx0aGlzLmhlYXRtYXBGYm89bnVsbCl9cXVlcnlSYWRpdXMoZSl7cmV0dXJuIGlsKFwiaGVhdG1hcC1yYWRpdXNcIix0aGlzLGUpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1yYWRpdXNcIikuZXZhbHVhdGUodCxyKTtyZXR1cm4gcmMoZSxuLG8sYSxzLCEwLCEwLG5ldyBtKDAsMCksbCl9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWdldFByb2dyYW1JZHMoKXtyZXR1cm5bXCJoZWF0bWFwXCIsXCJoZWF0bWFwVGV4dHVyZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHNzKHRoaXMsZSl9fSxoaWxsc2hhZGU6Y2xhc3MgZXh0ZW5kcyBtc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLG1jKX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWdldFByb2dyYW1JZHMoKXtyZXR1cm5bXCJoaWxsc2hhZGVcIixcImhpbGxzaGFkZVByZXBhcmVcIl19fSxmaWxsOmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxldSl9Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IGU9dGhpcy5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksdD1lJiZlLmNvbnN0YW50T3IoMSkscj1bdD9cImZpbGxQYXR0ZXJuXCI6XCJmaWxsXCJdO3JldHVybiB0aGlzLnBhaW50LmdldChcImZpbGwtYW50aWFsaWFzXCIpJiZyLnB1c2godCYmIXRoaXMuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT9cImZpbGxPdXRsaW5lUGF0dGVyblwiOlwiZmlsbE91dGxpbmVcIikscn1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHNzKHRoaXMsZSl9cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpO2NvbnN0IHI9dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdO1wiY29uc3RhbnRcIj09PXIudmFsdWUua2luZCYmdm9pZCAwPT09ci52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXT10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLWNvbG9yXCJdKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBKYyhlKX1xdWVyeVJhZGl1cygpe3JldHVybiBvbCh0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxyLG4saSxvKXtyZXR1cm4hZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uJiZYcyhhbChlLnRpbGVzcGFjZUdlb21ldHJ5LHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLG4pfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4hMH19LFwiZmlsbC1leHRydXNpb25cIjpjbGFzcyBleHRlbmRzIG1ze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsTHUpfWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IFN1KGUpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIG9sKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpKX1pczNEKCl7cmV0dXJuITB9Z2V0UHJvZ3JhbUlkcygpe3JldHVyblt0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBuZXcgc3ModGhpcyxlKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxyLG4saSxvLGEscyxsKXtjb25zdCBjPXNsKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksdT10aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiKS5ldmFsdWF0ZSh0LHIpLGg9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCIpLmV2YWx1YXRlKHQsciksZD1bMCwwXSxwPXMmJm8uZWxldmF0aW9uLGY9by5lbGV2YXRpb24/by5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCk6MSxnPWUudGlsZS5nZXRCdWNrZXQodGhpcyk7aWYocCYmZyBpbnN0YW5jZW9mIFN1KXtjb25zdCBlPWcuY2VudHJvaWRWZXJ0ZXhBcnJheSx0PWwrMTtpZih0PGUubGVuZ3RoKXtjb25zdCByPWUuZ2V0KHQpO2RbMF09ci5hX2NlbnRyb2lkX3BvczAsZFsxXT1yLmFfY2VudHJvaWRfcG9zMX19aWYoMD09PWRbMF0mJjE9PT1kWzFdKXJldHVybiExO1wiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lJiYobj1EdShbbl0sW25ldyBtKDAsMCksbmV3IG0odnMsdnMpXSxlLnRpbGVJRC5jYW5vbmljYWwpLm1hcChlPT5lLnBvbHlnb24pLmZsYXQoKSk7Y29uc3QgXz1wP3M6bnVsbCxbeSx2XT1mdW5jdGlvbihlLHQscixuLGksbyxhLHMsbCxjLHUpe3JldHVyblwiZ2xvYmVcIj09PWUucHJvamVjdGlvbi5uYW1lP2Z1bmN0aW9uKGUsdCxyLG4saSxvLGEscyxsLGMsdSl7Y29uc3QgaD1bXSxkPVtdLHA9ZS5wcm9qZWN0aW9uLnVwVmVjdG9yU2NhbGUodSxlLmNlbnRlci5sYXQsZS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZSxmPVswLDAsMCwxXSxtPVswLDAsMCwxXSxnPShlLHQscixuKT0+e2VbMF09dCxlWzFdPXIsZVsyXT1uLGVbM109MX0sXz16dSgpO3I+MCYmKHIrPV8pLG4rPV87Zm9yKGNvbnN0IF8gb2YgdCl7Y29uc3QgdD1bXSx5PVtdO2Zvcihjb25zdCBoIG9mIF8pe2NvbnN0IGQ9aC54K2kueCxfPWgueStpLnksdj1lLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChkLF8sdSkseD1lLnByb2plY3Rpb24udXBWZWN0b3IodSxoLngsaC55KTtsZXQgYj1yLHc9bjtpZihhKXtjb25zdCBlPXF1KGQsXyxyLG4sYSxzLGwsYyk7Yis9ZS5iYXNlLHcrPWUudG9wfTAhPT1yP2coZix2LngreFswXSpwKmIsdi55K3hbMV0qcCpiLHYueit4WzJdKnAqYik6ZyhmLHYueCx2Lnksdi56KSxnKG0sdi54K3hbMF0qcCp3LHYueSt4WzFdKnAqdyx2LnoreFsyXSpwKncpLEZsKGYsZixvKSxGbChtLG0sbyksdC5wdXNoKG5ldyBOdShmWzBdLGZbMV0sZlsyXSkpLHkucHVzaChuZXcgTnUobVswXSxtWzFdLG1bMl0pKX1oLnB1c2godCksZC5wdXNoKHkpfXJldHVybltoLGRdfShlLHQscixuLGksbyxhLHMsbCxjLHUpOmE/ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSxzLGwpe2NvbnN0IGM9W10sdT1bXSxoPVswLDAsMCwxXTtmb3IoY29uc3QgZCBvZiBlKXtjb25zdCBlPVtdLHA9W107Zm9yKGNvbnN0IGMgb2YgZCl7Y29uc3QgdT1jLngrbi54LGQ9Yy55K24ueSxmPXF1KHUsZCx0LHIsbyxhLHMsbCk7aFswXT11LGhbMV09ZCxoWzJdPWYuYmFzZSxoWzNdPTEsJGwoaCxoLGkpLGhbM109TWF0aC5tYXgoaFszXSwxZS01KTtjb25zdCBtPW5ldyBOdShoWzBdL2hbM10saFsxXS9oWzNdLGhbMl0vaFszXSk7aFswXT11LGhbMV09ZCxoWzJdPWYudG9wLGhbM109MSwkbChoLGgsaSksaFszXT1NYXRoLm1heChoWzNdLDFlLTUpO2NvbnN0IGc9bmV3IE51KGhbMF0vaFszXSxoWzFdL2hbM10saFsyXS9oWzNdKTtlLnB1c2gobSkscC5wdXNoKGcpfWMucHVzaChlKSx1LnB1c2gocCl9cmV0dXJuW2MsdV19KHQscixuLGksbyxhLHMsbCxjKTpmdW5jdGlvbihlLHQscixuLGkpe2NvbnN0IG89W10sYT1bXSxzPWlbOF0qdCxsPWlbOV0qdCxjPWlbMTBdKnQsdT1pWzExXSp0LGg9aVs4XSpyLGQ9aVs5XSpyLHA9aVsxMF0qcixmPWlbMTFdKnI7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1bXSxyPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by54K24ueCxhPW8ueStuLnksbT1pWzBdKnQraVs0XSphK2lbMTJdLGc9aVsxXSp0K2lbNV0qYStpWzEzXSxfPWlbMl0qdCtpWzZdKmEraVsxNF0seT1pWzNdKnQraVs3XSphK2lbMTVdLHY9bStzLHg9ZytsLGI9XytjLHc9TWF0aC5tYXgoeSt1LDFlLTUpLFQ9bStoLEU9ZytkLFM9XytwLEM9TWF0aC5tYXgoeStmLDFlLTUpO2UucHVzaChuZXcgTnUodi93LHgvdyxiL3cpKSxyLnB1c2gobmV3IE51KFQvQyxFL0MsUy9DKSl9by5wdXNoKGUpLGEucHVzaChyKX1yZXR1cm5bbyxhXX0odCxyLG4saSxvKX0obyxuLGgsdSxjLGEsXyxkLGYsby5jZW50ZXIubGF0LGUudGlsZUlELmNhbm9uaWNhbCkseD1lLnF1ZXJ5R2VvbWV0cnk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtsZXQgbj0xLzA7WHMocix0KSYmKG49R3Uocix0WzBdKSk7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IG89dFtpXSxhPWVbaV07Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aC0xO2UrKyl7Y29uc3QgdD1vW2VdLGk9W3Qsb1tlKzFdLGFbZSsxXSxhW2VdLHRdOyRzKHIsaSkmJihuPU1hdGgubWluKG4sR3UocixpKSkpfX1yZXR1cm4gbiE9PTEvMCYmbn0oeSx2LHguaXNQb2ludFF1ZXJ5KCk/eC5zY3JlZW5Cb3VuZHM6eC5zY3JlZW5HZW9tZXRyeSl9fSxsaW5lOmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxRdSksdGhpcy5ncmFkaWVudFZlcnNpb249MH1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7aWYoXCJsaW5lLWdyYWRpZW50XCI9PT1lKXtjb25zdCBlPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbjt0aGlzLnN0ZXBJbnRlcnBvbGFudD1lLl9zdHlsZUV4cHJlc3Npb24mJmUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uIGluc3RhbmNlb2YgU3IsdGhpcy5ncmFkaWVudFZlcnNpb249KHRoaXMuZ3JhZGllbnRWZXJzaW9uKzEpJU51bWJlci5NQVhfU0FGRV9JTlRFR0VSfX1ncmFkaWVudEV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9ufXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSx0aGlzLnBhaW50Ll92YWx1ZXNbXCJsaW5lLWZsb29yd2lkdGhcIl09ZWgucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1tcImxpbmUtd2lkdGhcIl0udmFsdWUsZSl9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgS3UoZSl9Z2V0UHJvZ3JhbUlkcygpe3JldHVyblt0aGlzLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKS5jb25zdGFudE9yKDEpP1wibGluZVBhdHRlcm5cIjpcImxpbmVcIl19Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyBzcyh0aGlzLGUpfXF1ZXJ5UmFkaXVzKGUpe2NvbnN0IHQ9ZSxyPXRoKGlsKFwibGluZS13aWR0aFwiLHRoaXMsdCksaWwoXCJsaW5lLWdhcC13aWR0aFwiLHRoaXMsdCkpLG49aWwoXCJsaW5lLW9mZnNldFwiLHRoaXMsdCk7cmV0dXJuIHIvMitNYXRoLmFicyhuKStvbCh0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxyLG4saSxvKXtpZihlLnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24pcmV0dXJuITE7Y29uc3QgYT1hbChlLnRpbGVzcGFjZUdlb21ldHJ5LHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLHM9ZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yLzIqdGgodGhpcy5wYWludC5nZXQoXCJsaW5lLXdpZHRoXCIpLmV2YWx1YXRlKHQsciksdGhpcy5wYWludC5nZXQoXCJsaW5lLWdhcC13aWR0aFwiKS5ldmFsdWF0ZSh0LHIpKSxsPXRoaXMucGFpbnQuZ2V0KFwibGluZS1vZmZzZXRcIikuZXZhbHVhdGUodCxyKTtyZXR1cm4gbCYmKG49ZnVuY3Rpb24oZSx0KXtjb25zdCByPVtdLG49bmV3IG0oMCwwKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1lW2ldLGE9W107Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IHI9b1tlLTFdLGk9b1tlXSxzPW9bZSsxXSxsPTA9PT1lP246aS5zdWIocikuX3VuaXQoKS5fcGVycCgpLGM9ZT09PW8ubGVuZ3RoLTE/bjpzLnN1YihpKS5fdW5pdCgpLl9wZXJwKCksdT1sLl9hZGQoYykuX3VuaXQoKTt1Ll9tdWx0KDEvKHUueCpjLngrdS55KmMueSkpLGEucHVzaCh1Ll9tdWx0KHQpLl9hZGQoaSkpfXIucHVzaChhKX1yZXR1cm4gcn0obixsKmUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvcikpLGZ1bmN0aW9uKGUsdCxyKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dO2lmKGUubGVuZ3RoPj0zKWZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKWlmKHRsKGUsaVt0XSkpcmV0dXJuITA7aWYoSHMoZSxpLHIpKXJldHVybiEwfXJldHVybiExfShhLG4scyl9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiEwfX0sc3ltYm9sOnRmLGJhY2tncm91bmQ6Y2xhc3MgZXh0ZW5kcyBtc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLHJmKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW3RoaXMucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1wYXR0ZXJuXCIpP1wiYmFja2dyb3VuZFBhdHRlcm5cIjpcImJhY2tncm91bmRcIl19fSxyYXN0ZXI6Y2xhc3MgZXh0ZW5kcyBtc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLG5mKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wicmFzdGVyXCJdfX0sc2t5OmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxhZiksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCl9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe1wic2t5LWdyYWRpZW50XCI9PT1lP3RoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpOlwic2t5LWF0bW9zcGhlcmUtc3VuXCIhPT1lJiZcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiIT09ZXx8KHRoaXMuX3NreWJveEludmFsaWRhdGVkPSEwKX1fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9ZmMoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wic2t5LWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb24sZXZhbHVhdGlvbktleTpcInNreVJhZGlhbFByb2dyZXNzXCJ9KSx0aGlzLmNvbG9yUmFtcFRleHR1cmUmJih0aGlzLmNvbG9yUmFtcFRleHR1cmUuZGVzdHJveSgpLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsKX1uZWVkc1NreWJveENhcHR1cmUoZSl7aWYodGhpcy5fc2t5Ym94SW52YWxpZGF0ZWR8fCF0aGlzLnNreWJveFRleHR1cmV8fCF0aGlzLnNreWJveEdlb21ldHJ5KXJldHVybiEwO2lmKCF0aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSl7Y29uc3QgdD1lLnN0eWxlLmxpZ2h0LnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIHRoaXMuX2xpZ2h0UG9zaXRpb24uYXppbXV0aGFsIT09dC5hemltdXRoYWx8fHRoaXMuX2xpZ2h0UG9zaXRpb24ucG9sYXIhPT10LnBvbGFyfXJldHVybiExfWdldENlbnRlcihlLHQpe2lmKFwiYXRtb3NwaGVyZVwiPT09dGhpcy5wYWludC5nZXQoXCJza3ktdHlwZVwiKSl7Y29uc3Qgcj10aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSxuPSFyLGk9ZS5zdHlsZS5saWdodCxvPWkucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gbiYmXCJ2aWV3cG9ydFwiPT09aS5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmVihcIlRoZSBzdW4gZGlyZWN0aW9uIGlzIGF0dGFjaGVkIHRvIGEgbGlnaHQgd2l0aCB2aWV3cG9ydCBhbmNob3IsIGxpZ2h0aW5nIG1heSBiZWhhdmUgdW5leHBlY3RlZGx5LlwiKSxuP3NmKG8uYXppbXV0aGFsLDkwLW8ucG9sYXIsdCk6c2YoclswXSw5MC1yWzFdLHQpfWNvbnN0IHI9dGhpcy5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtY2VudGVyXCIpO3JldHVybiBzZihyWzBdLDkwLXJbMV0sdCl9aXMzRCgpe3JldHVybiExfWlzU2t5KCl7cmV0dXJuITB9bWFya1NreWJveFZhbGlkKGUpe3RoaXMuX3NreWJveEludmFsaWRhdGVkPSExLHRoaXMuX2xpZ2h0UG9zaXRpb249ZS5zdHlsZS5saWdodC5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4hMH1nZXRQcm9ncmFtSWRzKCl7Y29uc3QgZT10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpO3JldHVyblwiYXRtb3NwaGVyZVwiPT09ZT9bXCJza3lib3hDYXB0dXJlXCIsXCJza3lib3hcIl06XCJncmFkaWVudFwiPT09ZT9bXCJza3lib3hHcmFkaWVudFwiXTpudWxsfX19O2NsYXNzIGNme2NvbnN0cnVjdG9yKGUsdCxyLG4pe3RoaXMuY29udGV4dD1lLHRoaXMuZm9ybWF0PXIsdGhpcy50ZXh0dXJlPWUuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMudXBkYXRlKHQsbil9dXBkYXRlKGUsdCxuKXtjb25zdHt3aWR0aDppLGhlaWdodDpvfT1lLHtjb250ZXh0OmF9PXRoaXMse2dsOnN9PWEse0hUTUxJbWFnZUVsZW1lbnQ6bCxIVE1MQ2FudmFzRWxlbWVudDpjLEhUTUxWaWRlb0VsZW1lbnQ6dSxJbWFnZURhdGE6aCxJbWFnZUJpdG1hcDpkfT1yO2lmKHMuYmluZFRleHR1cmUocy5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksYS5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0KCExKSxhLnBpeGVsU3RvcmVVbnBhY2suc2V0KDEpLGEucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KHRoaXMuZm9ybWF0PT09cy5SR0JBJiYoIXR8fCExIT09dC5wcmVtdWx0aXBseSkpLG58fHRoaXMuc2l6ZSYmdGhpcy5zaXplWzBdPT09aSYmdGhpcy5zaXplWzFdPT09byl7Y29uc3R7eDp0LHk6cn09bnx8e3g6MCx5OjB9O2UgaW5zdGFuY2VvZiBsfHxlIGluc3RhbmNlb2YgY3x8ZSBpbnN0YW5jZW9mIHV8fGUgaW5zdGFuY2VvZiBofHxkJiZlIGluc3RhbmNlb2YgZD9zLnRleFN1YkltYWdlMkQocy5URVhUVVJFXzJELDAsdCxyLHMuUkdCQSxzLlVOU0lHTkVEX0JZVEUsZSk6cy50ZXhTdWJJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHQscixpLG8scy5SR0JBLHMuVU5TSUdORURfQllURSxlLmRhdGEpfWVsc2UgdGhpcy5zaXplPVtpLG9dLGUgaW5zdGFuY2VvZiBsfHxlIGluc3RhbmNlb2YgY3x8ZSBpbnN0YW5jZW9mIHV8fGUgaW5zdGFuY2VvZiBofHxkJiZlIGluc3RhbmNlb2YgZD9zLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdGhpcy5mb3JtYXQscy5VTlNJR05FRF9CWVRFLGUpOnMudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxpLG8sMCx0aGlzLmZvcm1hdCxzLlVOU0lHTkVEX0JZVEUsZS5kYXRhKTt0aGlzLnVzZU1pcG1hcD1Cb29sZWFuKHQmJnQudXNlTWlwbWFwJiZ0aGlzLmlzU2l6ZVBvd2VyT2ZUd28oKSksdGhpcy51c2VNaXBtYXAmJnMuZ2VuZXJhdGVNaXBtYXAocy5URVhUVVJFXzJEKX1iaW5kKGUsdCl7Y29uc3R7Y29udGV4dDpyfT10aGlzLHtnbDpufT1yO24uYmluZFRleHR1cmUobi5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksZSE9PXRoaXMuZmlsdGVyJiYobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixlKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMudXNlTWlwbWFwP2U9PT1uLk5FQVJFU1Q/bi5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOm4uTElORUFSX01JUE1BUF9ORUFSRVNUOmUpLHRoaXMuZmlsdGVyPWUpLHQhPT10aGlzLndyYXAmJihuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1MsdCksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9ULHQpLHRoaXMud3JhcD10KX1pc1NpemVQb3dlck9mVHdvKCl7cmV0dXJuIHRoaXMuc2l6ZVswXT09PXRoaXMuc2l6ZVsxXSYmTWF0aC5sb2codGhpcy5zaXplWzBdKS9NYXRoLkxOMiUxPT0wfWRlc3Ryb3koKXtjb25zdHtnbDplfT10aGlzLmNvbnRleHQ7ZS5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy50ZXh0dXJlPW51bGx9fWNsYXNzIHVme2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NhbGxiYWNrPWUsdGhpcy5fdHJpZ2dlcmVkPSExLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCYmKHRoaXMuX2NoYW5uZWw9bmV3IE1lc3NhZ2VDaGFubmVsLHRoaXMuX2NoYW5uZWwucG9ydDIub25tZXNzYWdlPSgpPT57dGhpcy5fdHJpZ2dlcmVkPSExLHRoaXMuX2NhbGxiYWNrKCl9KX10cmlnZ2VyKCl7dGhpcy5fdHJpZ2dlcmVkfHwodGhpcy5fdHJpZ2dlcmVkPSEwLHRoaXMuX2NoYW5uZWw/dGhpcy5fY2hhbm5lbC5wb3J0MS5wb3N0TWVzc2FnZSghMCk6c2V0VGltZW91dCgoKT0+e3RoaXMuX3RyaWdnZXJlZD0hMSx0aGlzLl9jYWxsYmFjaygpfSwwKSl9cmVtb3ZlKCl7dGhpcy5fY2hhbm5lbD12b2lkIDAsdGhpcy5fY2FsbGJhY2s9KCk9Pnt9fX1jbGFzcyBoZntjb25zdHJ1Y3Rvcigpe3RoaXMudGFza3M9e30sdGhpcy50YXNrUXVldWU9W10sTyhbXCJwcm9jZXNzXCJdLHRoaXMpLHRoaXMuaW52b2tlcj1uZXcgdWYodGhpcy5wcm9jZXNzKSx0aGlzLm5leHRJZD0wfWFkZChlLHQpe2NvbnN0IHI9dGhpcy5uZXh0SWQrKyxuPWZ1bmN0aW9uKHt0eXBlOmUsaXNTeW1ib2xUaWxlOnQsem9vbTpyfSl7cmV0dXJuIHI9cnx8MCxcIm1lc3NhZ2VcIj09PWU/MDpcIm1heWJlUHJlcGFyZVwiIT09ZXx8dD9cInBhcnNlVGlsZVwiIT09ZXx8dD9cInBhcnNlVGlsZVwiPT09ZSYmdD8zMDAtcjpcIm1heWJlUHJlcGFyZVwiPT09ZSYmdD80MDAtcjo1MDA6MjAwLXI6MTAwLXJ9KHQpO2lmKDA9PT1uKXtaKCk7dHJ5e2UoKX1maW5hbGx5e31yZXR1cm57Y2FuY2VsOigpPT57fX19cmV0dXJuIHRoaXMudGFza3Nbcl09e2ZuOmUsbWV0YWRhdGE6dCxwcmlvcml0eTpuLGlkOnJ9LHRoaXMudGFza1F1ZXVlLnB1c2gociksdGhpcy5pbnZva2VyLnRyaWdnZXIoKSx7Y2FuY2VsOigpPT57ZGVsZXRlIHRoaXMudGFza3Nbcl19fX1wcm9jZXNzKCl7WigpO3RyeXtpZih0aGlzLnRhc2tRdWV1ZT10aGlzLnRhc2tRdWV1ZS5maWx0ZXIoZT0+ISF0aGlzLnRhc2tzW2VdKSwhdGhpcy50YXNrUXVldWUubGVuZ3RoKXJldHVybjtjb25zdCBlPXRoaXMucGljaygpO2lmKG51bGw9PT1lKXJldHVybjtjb25zdCB0PXRoaXMudGFza3NbZV07aWYoZGVsZXRlIHRoaXMudGFza3NbZV0sdGhpcy50YXNrUXVldWUubGVuZ3RoJiZ0aGlzLmludm9rZXIudHJpZ2dlcigpLCF0KXJldHVybjt0LmZuKCl9ZmluYWxseXt9fXBpY2soKXtsZXQgZT1udWxsLHQ9MS8wO2ZvcihsZXQgcj0wO3I8dGhpcy50YXNrUXVldWUubGVuZ3RoO3IrKyl7Y29uc3Qgbj10aGlzLnRhc2tzW3RoaXMudGFza1F1ZXVlW3JdXTtuLnByaW9yaXR5PHQmJih0PW4ucHJpb3JpdHksZT1yKX1pZihudWxsPT09ZSlyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMudGFza1F1ZXVlW2VdO3JldHVybiB0aGlzLnRhc2tRdWV1ZS5zcGxpY2UoZSwxKSxyfXJlbW92ZSgpe3RoaXMuaW52b2tlci5yZW1vdmUoKX19Y2xhc3MgZGZ7Y29uc3RydWN0b3IoZSl7dGhpcy5fc3RyaW5nVG9OdW1iZXI9e30sdGhpcy5fbnVtYmVyVG9TdHJpbmc9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XTt0aGlzLl9zdHJpbmdUb051bWJlcltyXT10LHRoaXMuX251bWJlclRvU3RyaW5nW3RdPXJ9fWVuY29kZShlKXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbZV19ZGVjb2RlKGUpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1tlXX19Y29uc3QgcGY9W1widGlsZVwiLFwibGF5ZXJcIixcInNvdXJjZVwiLFwic291cmNlTGF5ZXJcIixcInN0YXRlXCJdO2NsYXNzIGZme2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPWUsdGhpcy5fej10LHRoaXMuX3g9cix0aGlzLl95PW4sdGhpcy5wcm9wZXJ0aWVzPWUucHJvcGVydGllcyx0aGlzLmlkPWl9Z2V0IGdlb21ldHJ5KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2dlb21ldHJ5JiYodGhpcy5fZ2VvbWV0cnk9dGhpcy5fdmVjdG9yVGlsZUZlYXR1cmUudG9HZW9KU09OKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KS5nZW9tZXRyeSksdGhpcy5fZ2VvbWV0cnl9c2V0IGdlb21ldHJ5KGUpe3RoaXMuX2dlb21ldHJ5PWV9dG9KU09OKCl7Y29uc3QgZT17dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTt2b2lkIDAhPT10aGlzLmlkJiYoZS5pZD10aGlzLmlkKTtmb3IoY29uc3QgdCBvZiBwZil2b2lkIDAhPT10aGlzW3RdJiYoZVt0XT10aGlzW3RdKTtyZXR1cm4gZX19Y29uc3QgbWY9bmV3IFVpbnQxNkFycmF5KDgxODQpO2ZvcihsZXQgZT0wO2U8MjA0NjtlKyspe2xldCB0PWUrMixyPTAsbj0wLGk9MCxvPTAsYT0wLHM9MDtmb3IoMSZ0P2k9bz1hPTMyOnI9bj1zPTMyOyh0Pj49MSk+MTspe2NvbnN0IGU9citpPj4xLGw9bitvPj4xOzEmdD8oaT1yLG89bixyPWEsbj1zKToocj1pLG49byxpPWEsbz1zKSxhPWUscz1sfWNvbnN0IGw9NCplO21mW2wrMF09cixtZltsKzFdPW4sbWZbbCsyXT1pLG1mW2wrM109b31jb25zdCBnZj1uZXcgVWludDE2QXJyYXkoMjE3OCksX2Y9bmV3IFVpbnQ4QXJyYXkoMTA4OSkseWY9bmV3IFVpbnQxNkFycmF5KDEwODkpO2Z1bmN0aW9uIHZmKGUpe3JldHVybiAwPT09ZT8tLjAzMTI1OjMyPT09ZT8uMDMxMjU6MH12YXIgeGY9SG8oW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9LHtuYW1lOlwiYV90ZXh0dXJlX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn1dKTtjb25zdCBiZj17dHlwZToyLGV4dGVudDp2cyxsb2FkR2VvbWV0cnk6KCk9PltbbmV3IG0oMCwwKSxuZXcgbSg4MTkzLDApLG5ldyBtKDgxOTMsODE5MyksbmV3IG0oMCw4MTkzKSxuZXcgbSgwLDApXV19O2NsYXNzIHdme2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy50aWxlSUQ9ZSx0aGlzLnVpZD16KCksdGhpcy51c2VzPTAsdGhpcy50aWxlU2l6ZT10LHRoaXMudGlsZVpvb209cix0aGlzLmJ1Y2tldHM9e30sdGhpcy5leHBpcmF0aW9uVGltZT1udWxsLHRoaXMucXVlcnlQYWRkaW5nPTAsdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmRlcGVuZGVuY2llcz17fSx0aGlzLmlzUmFzdGVyPWksdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT1cImxvYWRpbmdcIixuJiZuLnRyYW5zZm9ybSYmKHRoaXMucHJvamVjdGlvbj1uLnRyYW5zZm9ybS5wcm9qZWN0aW9uKX1yZWdpc3RlckZhZGVEdXJhdGlvbihlKXtjb25zdCB0PWUrdGhpcy50aW1lQWRkZWQ7dDxxZS5ub3coKXx8dGhpcy5mYWRlRW5kVGltZSYmdDx0aGlzLmZhZGVFbmRUaW1lfHwodGhpcy5mYWRlRW5kVGltZT10KX13YXNSZXF1ZXN0ZWQoKXtyZXR1cm5cImVycm9yZWRcIj09PXRoaXMuc3RhdGV8fFwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZX1nZXQgdGlsZVRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl90aWxlVHJhbnNmb3JtfHwodGhpcy5fdGlsZVRyYW5zZm9ybT1icCh0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5wcm9qZWN0aW9uKSksdGhpcy5fdGlsZVRyYW5zZm9ybX1sb2FkVmVjdG9yRGF0YShlLHQscil7aWYodGhpcy51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5zdGF0ZT1cImxvYWRlZFwiLGUpe2UuZmVhdHVyZUluZGV4JiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9ZS5mZWF0dXJlSW5kZXgsZS5yYXdUaWxlRGF0YT8odGhpcy5sYXRlc3RSYXdUaWxlRGF0YT1lLnJhd1RpbGVEYXRhLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhPWUucmF3VGlsZURhdGEpOnRoaXMubGF0ZXN0UmF3VGlsZURhdGEmJih0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10aGlzLmxhdGVzdFJhd1RpbGVEYXRhKSksdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1lLmNvbGxpc2lvbkJveEFycmF5LHRoaXMuYnVja2V0cz1mdW5jdGlvbihlLHQpe2NvbnN0IHI9e307aWYoIXQpcmV0dXJuIHI7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1uLmxheWVySWRzLm1hcChlPT50LmdldExheWVyKGUpKS5maWx0ZXIoQm9vbGVhbik7aWYoMCE9PWUubGVuZ3RoKXtuLmxheWVycz1lLG4uc3RhdGVEZXBlbmRlbnRMYXllcklkcyYmKG4uc3RhdGVEZXBlbmRlbnRMYXllcnM9bi5zdGF0ZURlcGVuZGVudExheWVySWRzLm1hcCh0PT5lLmZpbHRlcihlPT5lLmlkPT09dClbMF0pKTtmb3IoY29uc3QgdCBvZiBlKXJbdC5pZF09bn19cmV0dXJuIHJ9KGUuYnVja2V0cyx0LnN0eWxlKSx0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCB0PXRoaXMuYnVja2V0c1tlXTtpZih0IGluc3RhbmNlb2YgS3Ape2lmKHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMCwhcilicmVhazt0Lmp1c3RSZWxvYWRlZD0hMH19aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IHQ9dGhpcy5idWNrZXRzW2VdO2lmKHQgaW5zdGFuY2VvZiBLcCYmdC5oYXNSVExUZXh0KXt0aGlzLmhhc1JUTFRleHQ9ITAsQW8uaXNMb2FkaW5nKCl8fEFvLmlzTG9hZGVkKCl8fFwiZGVmZXJyZWRcIiE9PU1vKCl8fGtvKCk7YnJlYWt9fXRoaXMucXVlcnlQYWRkaW5nPTA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCByPXRoaXMuYnVja2V0c1tlXTt0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyx0LnN0eWxlLmdldExheWVyKGUpLnF1ZXJ5UmFkaXVzKHIpKX1lLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9ZS5pbWFnZUF0bGFzKSxlLmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPWUuZ2x5cGhBdGxhc0ltYWdlKSxlLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPWUubGluZUF0bGFzKX1lbHNlIHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IFNhfXVubG9hZFZlY3RvckRhdGEoKXtpZih0aGlzLmhhc0RhdGEoKSl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXRoaXMuYnVja2V0c1tlXS5kZXN0cm95KCk7dGhpcy5idWNrZXRzPXt9LHRoaXMuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1udWxsKSx0aGlzLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPW51bGwpLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUmJnRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJnRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmdGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwifX1nZXRCdWNrZXQoZSl7cmV0dXJuIHRoaXMuYnVja2V0c1tlLmlkXX11cGxvYWQoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXtjb25zdCByPXRoaXMuYnVja2V0c1t0XTtyLnVwbG9hZFBlbmRpbmcoKSYmci51cGxvYWQoZSl9Y29uc3QgdD1lLmdsO3RoaXMuaW1hZ2VBdGxhcyYmIXRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZCYmKHRoaXMuaW1hZ2VBdGxhc1RleHR1cmU9bmV3IGNmKGUsdGhpcy5pbWFnZUF0bGFzLmltYWdlLHQuUkdCQSksdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkPSEwKSx0aGlzLmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc1RleHR1cmU9bmV3IGNmKGUsdGhpcy5nbHlwaEF0bGFzSW1hZ2UsdC5BTFBIQSksdGhpcy5nbHlwaEF0bGFzSW1hZ2U9bnVsbCksdGhpcy5saW5lQXRsYXMmJiF0aGlzLmxpbmVBdGxhcy51cGxvYWRlZCYmKHRoaXMubGluZUF0bGFzVGV4dHVyZT1uZXcgY2YoZSx0aGlzLmxpbmVBdGxhcy5pbWFnZSx0LkFMUEhBKSx0aGlzLmxpbmVBdGxhcy51cGxvYWRlZD0hMCl9cHJlcGFyZShlKXt0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXRjaFVwZGF0ZWRJbWFnZXMoZSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlKX1xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZSx0LHIsbixpLG8sYSxzKXtyZXR1cm4gdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgmJnRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhP3RoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnF1ZXJ5KHt0aWxlUmVzdWx0Om4scGl4ZWxQb3NNYXRyaXg6YSx0cmFuc2Zvcm06byxwYXJhbXM6aSx0aWxlVHJhbnNmb3JtOnRoaXMudGlsZVRyYW5zZm9ybX0sZSx0LHIpOnt9fXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXtjb25zdCByPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4O2lmKCFyfHwhci5yYXdUaWxlRGF0YSlyZXR1cm47Y29uc3Qgbj1yLmxvYWRWVExheWVycygpLGk9dD90LnNvdXJjZUxheWVyOlwiXCIsbz1uLl9nZW9qc29uVGlsZUxheWVyfHxuW2ldO2lmKCFvKXJldHVybjtjb25zdCBhPUpuKHQmJnQuZmlsdGVyKSx7ejpzLHg6bCx5OmN9PXRoaXMudGlsZUlELmNhbm9uaWNhbCx1PXt6OnMseDpsLHk6Y307Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IG49by5mZWF0dXJlKHQpO2lmKGEubmVlZEdlb21ldHJ5KXtjb25zdCBlPVZzKG4sITApO2lmKCFhLmZpbHRlcihuZXcgSW8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGUsdGhpcy50aWxlSUQuY2Fub25pY2FsKSljb250aW51ZX1lbHNlIGlmKCFhLmZpbHRlcihuZXcgSW8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLG4pKWNvbnRpbnVlO2NvbnN0IGg9ci5nZXRJZChuLGkpLGQ9bmV3IGZmKG4scyxsLGMsaCk7ZC50aWxlPXUsZS5wdXNoKGQpfX1oYXNEYXRhKCl7cmV0dXJuXCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfHxcImV4cGlyZWRcIj09PXRoaXMuc3RhdGV9cGF0dGVybnNMb2FkZWQoKXtyZXR1cm4hIXRoaXMuaW1hZ2VBdGxhcyYmISFPYmplY3Qua2V5cyh0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9ucykubGVuZ3RofXNldEV4cGlyeURhdGEoZSl7Y29uc3QgdD10aGlzLmV4cGlyYXRpb25UaW1lO2lmKGUuY2FjaGVDb250cm9sKXtjb25zdCB0PSQoZS5jYWNoZUNvbnRyb2wpO3RbXCJtYXgtYWdlXCJdJiYodGhpcy5leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpKzFlMyp0W1wibWF4LWFnZVwiXSl9ZWxzZSBlLmV4cGlyZXMmJih0aGlzLmV4cGlyYXRpb25UaW1lPW5ldyBEYXRlKGUuZXhwaXJlcykuZ2V0VGltZSgpKTtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXtjb25zdCBlPURhdGUubm93KCk7bGV0IHI9ITE7aWYodGhpcy5leHBpcmF0aW9uVGltZT5lKXI9ITE7ZWxzZSBpZih0KWlmKHRoaXMuZXhwaXJhdGlvblRpbWU8dClyPSEwO2Vsc2V7Y29uc3Qgbj10aGlzLmV4cGlyYXRpb25UaW1lLXQ7bj90aGlzLmV4cGlyYXRpb25UaW1lPWUrTWF0aC5tYXgobiwzZTQpOnI9ITB9ZWxzZSByPSEwO3I/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9XCJleHBpcmVkXCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wfX1nZXRFeHBpcnlUaW1lb3V0KCl7aWYodGhpcy5leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PzFlMyooMTw8TWF0aC5taW4odGhpcy5leHBpcmVkUmVxdWVzdENvdW50LTEsMzEpKTpNYXRoLm1pbih0aGlzLmV4cGlyYXRpb25UaW1lLShuZXcgRGF0ZSkuZ2V0VGltZSgpLE1hdGgucG93KDIsMzEpLTEpfXNldEZlYXR1cmVTdGF0ZShlLHQpe2lmKCF0aGlzLmxhdGVzdEZlYXR1cmVJbmRleHx8IXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhfHwwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RofHwhdClyZXR1cm47Y29uc3Qgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5sb2FkVlRMYXllcnMoKSxuPXQuc3R5bGUubGlzdEltYWdlcygpO2Zvcihjb25zdCBpIGluIHRoaXMuYnVja2V0cyl7aWYoIXQuc3R5bGUuaGFzTGF5ZXIoaSkpY29udGludWU7Y29uc3Qgbz10aGlzLmJ1Y2tldHNbaV0sYT1vLmxheWVyc1swXS5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiLHM9clthXSxsPWVbYV07aWYoIXN8fCFsfHwwPT09T2JqZWN0LmtleXMobCkubGVuZ3RoKWNvbnRpbnVlO2lmKG8udXBkYXRlKGwscyxuLHRoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnN8fHt9KSxvIGluc3RhbmNlb2YgS3V8fG8gaW5zdGFuY2VvZiBKYyl7Y29uc3QgZT10LnN0eWxlLl9nZXRTb3VyY2VDYWNoZShvLmxheWVyc1swXS5zb3VyY2UpO3QuX3RlcnJhaW4mJnQuX3RlcnJhaW4uZW5hYmxlZCYmZSYmby5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQmJnQuX3RlcnJhaW4uX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuaWQsdGhpcy50aWxlSUQpfWNvbnN0IGM9dCYmdC5zdHlsZSYmdC5zdHlsZS5nZXRMYXllcihpKTtjJiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsYy5xdWVyeVJhZGl1cyhvKSkpfX1ob2xkaW5nRm9yRmFkZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx9c3ltYm9sRmFkZUZpbmlzaGVkKCl7cmV0dXJuIXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbHx8dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPHFlLm5vdygpfWNsZWFyRmFkZUhvbGQoKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9dm9pZCAwfXNldEhvbGREdXJhdGlvbihlKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9cWUubm93KCkrZX1zZXRUZXh0dXJlKGUsdCl7Y29uc3Qgcj10LmNvbnRleHQsbj1yLmdsO3RoaXMudGV4dHVyZT10aGlzLnRleHR1cmV8fHQuZ2V0VGlsZVRleHR1cmUoZS53aWR0aCksdGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUoZSx7dXNlTWlwbWFwOiEwfSk6KHRoaXMudGV4dHVyZT1uZXcgY2YocixlLG4uUkdCQSx7dXNlTWlwbWFwOiEwfSksdGhpcy50ZXh0dXJlLmJpbmQobi5MSU5FQVIsbi5DTEFNUF9UT19FREdFKSxyLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmbi50ZXhQYXJhbWV0ZXJmKG4uVEVYVFVSRV8yRCxyLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxyLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkpfXNldERlcGVuZGVuY2llcyhlLHQpe2NvbnN0IHI9e307Zm9yKGNvbnN0IGUgb2YgdClyW2VdPSEwO3RoaXMuZGVwZW5kZW5jaWVzW2VdPXJ9aGFzRGVwZW5kZW5jeShlLHQpe2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9dGhpcy5kZXBlbmRlbmNpZXNbcl07aWYoZSlmb3IoY29uc3QgciBvZiB0KWlmKGVbcl0pcmV0dXJuITB9cmV0dXJuITF9Y2xlYXJRdWVyeURlYnVnVml6KCl7fV9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWV8fHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcilyZXR1cm47Y29uc3Qgcj1OcyhiZix0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKVswXSxuPW5ldyBLbyxpPW5ldyB4YTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3R7eDp0LHk6b309cltlXTtuLmVtcGxhY2VCYWNrKHQsbyksaS5lbXBsYWNlQmFjayhlKX1pLmVtcGxhY2VCYWNrKDApLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fdGlsZURlYnVnQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKG4sWmQubWVtYmVycyksdGhpcy5fdGlsZURlYnVnU2VnbWVudHM9eXMuc2ltcGxlU2VnbWVudCgwLDAsbi5sZW5ndGgsaS5sZW5ndGgpfV9tYWtlVGlsZUJvdW5kc0J1ZmZlcnMoZSx0KXtpZih0aGlzLl90aWxlQm91bmRzQnVmZmVyfHwhdHx8XCJtZXJjYXRvclwiPT09dC5uYW1lKXJldHVybjtjb25zdCByPU5zKGJmLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pWzBdO2xldCBuLGk7aWYodGhpcy5pc1Jhc3Rlcil7Y29uc3QgZT1mdW5jdGlvbihlLHQpe2NvbnN0IHI9YnAoZSx0KSxuPU1hdGgucG93KDIsZS56KTtmb3IobGV0IGk9MDtpPDMzO2krKylmb3IobGV0IG89MDtvPDMzO28rKyl7Y29uc3QgYT1rcygoZS54KyhvK3ZmKG8pKS8zMikvbikscz1BcygoZS55KyhpK3ZmKGkpKS8zMikvbiksbD10LnByb2plY3QoYSxzKSxjPTMzKmkrbztnZlsyKmMrMF09TWF0aC5yb3VuZCgobC54KnIuc2NhbGUtci54KSp2cyksZ2ZbMipjKzFdPU1hdGgucm91bmQoKGwueSpyLnNjYWxlLXIueSkqdnMpfV9mLmZpbGwoMCkseWYuZmlsbCgwKTtmb3IobGV0IGU9MjA0NTtlPj0wO2UtLSl7Y29uc3QgdD00KmUscj1tZlt0KzBdLG49bWZbdCsxXSxpPW1mW3QrMl0sbz1tZlt0KzNdLGE9citpPj4xLHM9bitvPj4xLGw9YStzLW4sYz1zK3ItYSx1PTMzKm4rcixoPTMzKm8raSxkPTMzKnMrYSxwPU1hdGguaHlwb3QoKGdmWzIqdSswXStnZlsyKmgrMF0pLzItZ2ZbMipkKzBdLChnZlsyKnUrMV0rZ2ZbMipoKzFdKS8yLWdmWzIqZCsxXSk+PTE2O2lmKF9mW2RdPV9mW2RdfHwocD8xOjApLGU8MTAyMil7Y29uc3QgZT0zMyoobitjPj4xKSsocitsPj4xKSx0PTMzKihvK2M+PjEpKyhpK2w+PjEpO19mW2RdPV9mW2RdfHxfZltlXXx8X2ZbdF19fWNvbnN0IGk9bmV3IFFvLG89bmV3IHBhO2xldCBhPTA7ZnVuY3Rpb24gcyhlLHQpe2NvbnN0IHI9MzMqdCtlO3JldHVybiAwPT09eWZbcl0mJihpLmVtcGxhY2VCYWNrKGdmWzIqciswXSxnZlsyKnIrMV0sZSp2cy8zMix0KnZzLzMyKSx5ZltyXT0rK2EpLHlmW3JdLTF9ZnVuY3Rpb24gbChlLHQscixuLGksYSl7Y29uc3QgYz1lK3I+PjEsdT10K24+PjE7aWYoTWF0aC5hYnMoZS1pKStNYXRoLmFicyh0LWEpPjEmJl9mWzMzKnUrY10pbChpLGEsZSx0LGMsdSksbChyLG4saSxhLGMsdSk7ZWxzZXtjb25zdCBsPXMoZSx0KSxjPXMocixuKSx1PXMoaSxhKTtvLmVtcGxhY2VCYWNrKGwsYyx1KX19cmV0dXJuIGwoMCwwLDMyLDMyLDMyLDApLGwoMzIsMzIsMCwwLDAsMzIpLHt2ZXJ0aWNlczppLGluZGljZXM6b319KHRoaXMudGlsZUlELmNhbm9uaWNhbCx0KTtuPWUudmVydGljZXMsaT1lLmluZGljZXN9ZWxzZXtuPW5ldyBRbyxpPW5ldyBwYTtmb3IoY29uc3R7eDplLHk6dH1vZiByKW4uZW1wbGFjZUJhY2soZSx0LDAsMCk7Y29uc3QgZT15Yy5leHBvcnRzKG4uaW50MTYsdm9pZCAwLDQpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MylpLmVtcGxhY2VCYWNrKGVbdF0sZVt0KzFdLGVbdCsyXSl9dGhpcy5fdGlsZUJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLHhmLm1lbWJlcnMpLHRoaXMuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuX3RpbGVCb3VuZHNTZWdtZW50cz15cy5zaW1wbGVTZWdtZW50KDAsMCxuLmxlbmd0aCxpLmxlbmd0aCl9X21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnMoZSx0KXtjb25zdCByPXQucHJvamVjdGlvbjtpZighcnx8XCJnbG9iZVwiIT09ci5uYW1lfHx0LmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47Y29uc3Qgbj10aGlzLnRpbGVJRC5jYW5vbmljYWwsaT1kcChucChuLHQpKSxvPW1wKHQuem9vbSk7bGV0IGE7bz4wJiYoYT1tbChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0Lmdsb2JlTWF0cml4KSksdGhpcy5fbWFrZUdsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyKGUsbix0LGksYSxvKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyKGUsbix0LGksYSxvKX1fZ2xvYmVQb2ludChlLHQscixuLGksbyxhKXtsZXQgcz1jcChlLHQscik7aWYobyl7Y29uc3QgaT0xPDxyLnosbD1TcyhuLmNlbnRlci5sbmcpLGM9Q3Mobi5jZW50ZXIubGF0KSx1PShyLngrLjUpL2ktbDtsZXQgaD0wO3U+LjU/aD0tMTp1PC0uNSYmKGg9MSk7bGV0IGQ9KGUvdnMrci54KS9pK2gscD0odC92cytyLnkpL2k7ZD0oZC1sKSpuLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2wscD0ocC1jKSpuLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2M7Y29uc3QgZj1bZCpuLndvcmxkU2l6ZSxwKm4ud29ybGRTaXplLDBdO0ZsKGYsZixvKSxzPXJwKHMsZixhKX1yZXR1cm4gRmwocyxzLGkpfV9tYWtlR2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIoZSx0LHIsbixpLG8pe2NvbnN0IGE9bmV3IEtvLHM9bmV3IHhhLGw9bmV3IEpvLGM9KGUsYyx1LGgsZCk9Pntjb25zdCBwPSh1LWUpLyhkLTEpLGY9KGgtYykvKGQtMSksbT1hLmxlbmd0aDtmb3IobGV0IHU9MDt1PGQ7dSsrKXtjb25zdCBoPWUrdSpwLGQ9Yyt1KmY7YS5lbXBsYWNlQmFjayhoLGQpO2NvbnN0IGc9dGhpcy5fZ2xvYmVQb2ludChoLGQsdCxyLG4saSxvKTtsLmVtcGxhY2VCYWNrKGdbMF0sZ1sxXSxnWzJdKSxzLmVtcGxhY2VCYWNrKG0rdSl9fSx1PXZzO2MoMCwwLHUsMCwxNiksYyh1LDAsdSx1LDE2KSxjKHUsdSwwLHUsMTYpLGMoMCx1LDAsMCwxNiksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihzKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxaZC5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihsLHFkLm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPXlzLnNpbXBsZVNlZ21lbnQoMCwwLGEubGVuZ3RoLHMubGVuZ3RoKX1fbWFrZUdsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcihlLHQscixuLGksbyl7Y29uc3QgYT1uZXcgS28scz1uZXcgcGEsbD1uZXcgSm8sYz0yNTtzLnJlc2VydmUoMzIpLGEucmVzZXJ2ZShjKSxsLnJlc2VydmUoYyk7Y29uc3QgdT0oZSx0KT0+YyplK3Q7Zm9yKGxldCBlPTA7ZTxjO2UrKyl7Y29uc3Qgcz0yMDQ4KmU7Zm9yKGxldCBlPTA7ZTxjO2UrKyl7Y29uc3QgYz0yMDQ4KmU7YS5lbXBsYWNlQmFjayhjLHMpO2NvbnN0IHU9dGhpcy5fZ2xvYmVQb2ludChjLHMsdCxyLG4saSxvKTtsLmVtcGxhY2VCYWNrKHVbMF0sdVsxXSx1WzJdKX19Zm9yKGxldCBlPTA7ZTw0O2UrKylmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCByPXUoZSx0KSxuPXUoZSx0KzEpLGk9dShlKzEsdCksbz11KGUrMSx0KzEpO3MuZW1wbGFjZUJhY2socixuLGkpLHMuZW1wbGFjZUJhY2soaSxuLG8pfXRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxaZC5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobCxxZC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHM9eXMuc2ltcGxlU2VnbWVudCgwLDAsYywzMil9fWNsYXNzIFRme2NvbnN0cnVjdG9yKCl7dGhpcy5zdGF0ZT17fSx0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e319dXBkYXRlU3RhdGUoZSx0LHIpe2NvbnN0IG49U3RyaW5nKHQpO2lmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdPXRoaXMuc3RhdGVDaGFuZ2VzW2VdfHx7fSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtuXT10aGlzLnN0YXRlQ2hhbmdlc1tlXVtuXXx8e30sSSh0aGlzLnN0YXRlQ2hhbmdlc1tlXVtuXSxyKSxudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXt0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5zdGF0ZVtlXSl0IT09biYmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVt0XT1udWxsKX1lbHNlIGlmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXSl7dGhpcy5kZWxldGVkU3RhdGVzW2VdW25dPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuc3RhdGVbZV1bbl0pclt0XXx8KHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXVt0XT1udWxsKX1lbHNlIGZvcihjb25zdCB0IGluIHIpdGhpcy5kZWxldGVkU3RhdGVzW2VdJiZ0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl1bdF0mJmRlbGV0ZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl1bdF19cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCxyKXtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybjtjb25zdCBuPVN0cmluZyh0KTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09dGhpcy5kZWxldGVkU3RhdGVzW2VdfHx7fSxyJiZ2b2lkIDAhPT10KW51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl0mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl09dGhpcy5kZWxldGVkU3RhdGVzW2VdW25dfHx7fSx0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl1bcl09bnVsbCk7ZWxzZSBpZih2b2lkIDAhPT10KWlmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdJiZ0aGlzLnN0YXRlQ2hhbmdlc1tlXVtuXSlmb3IociBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl09e30sdGhpcy5zdGF0ZUNoYW5nZXNbZV1bbl0pdGhpcy5kZWxldGVkU3RhdGVzW2VdW25dW3JdPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXT1udWxsfWdldFN0YXRlKGUsdCl7Y29uc3Qgcj1TdHJpbmcodCksbj1JKHt9LCh0aGlzLnN0YXRlW2VdfHx7fSlbcl0sKHRoaXMuc3RhdGVDaGFuZ2VzW2VdfHx7fSlbcl0pO2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pcmV0dXJue307aWYodGhpcy5kZWxldGVkU3RhdGVzW2VdKXtjb25zdCByPXRoaXMuZGVsZXRlZFN0YXRlc1tlXVt0XTtpZihudWxsPT09cilyZXR1cm57fTtmb3IoY29uc3QgZSBpbiByKWRlbGV0ZSBuW2VdfXJldHVybiBufWluaXRpYWxpemVUaWxlU3RhdGUoZSx0KXtlLnNldEZlYXR1cmVTdGF0ZSh0aGlzLnN0YXRlLHQpfWNvYWxlc2NlQ2hhbmdlcyhlLHQpe2NvbnN0IHI9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5zdGF0ZUNoYW5nZXMpe3RoaXMuc3RhdGVbZV09dGhpcy5zdGF0ZVtlXXx8e307Y29uc3QgdD17fTtmb3IoY29uc3QgciBpbiB0aGlzLnN0YXRlQ2hhbmdlc1tlXSl0aGlzLnN0YXRlW2VdW3JdfHwodGhpcy5zdGF0ZVtlXVtyXT17fSksSSh0aGlzLnN0YXRlW2VdW3JdLHRoaXMuc3RhdGVDaGFuZ2VzW2VdW3JdKSx0W3JdPXRoaXMuc3RhdGVbZV1bcl07cltlXT10fWZvcihjb25zdCBlIGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pZm9yKGNvbnN0IHIgaW4gdGhpcy5zdGF0ZVtlXSl0W3JdPXt9LHRoaXMuc3RhdGVbZV1bcl09e307ZWxzZSBmb3IoY29uc3QgciBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl0pdGhpcy5zdGF0ZVtlXVtyXT17fTtlbHNlIGZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXSkpZGVsZXRlIHRoaXMuc3RhdGVbZV1bcl1bdF07dFtyXT10aGlzLnN0YXRlW2VdW3JdfXJbZV09cltlXXx8e30sSShyW2VdLHQpfWlmKHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fSwwIT09T2JqZWN0LmtleXMocikubGVuZ3RoKWZvcihjb25zdCBuIGluIGUpZVtuXS5zZXRGZWF0dXJlU3RhdGUocix0KX19Y2xhc3MgRWZ7Y29uc3RydWN0b3IoZSl7dGhpcy5zaXplPWUsdGhpcy5taW5pbXVtcz1bXSx0aGlzLm1heGltdW1zPVtdLHRoaXMubGVhdmVzPVtdfWdldEVsZXZhdGlvbihlLHQpe2NvbnN0IHI9dGhpcy50b0lkeChlLHQpO3JldHVybnttaW46dGhpcy5taW5pbXVtc1tyXSxtYXg6dGhpcy5tYXhpbXVtc1tyXX19aXNMZWFmKGUsdCl7cmV0dXJuIHRoaXMubGVhdmVzW3RoaXMudG9JZHgoZSx0KV19dG9JZHgoZSx0KXtyZXR1cm4gdCp0aGlzLnNpemUrZX19ZnVuY3Rpb24gU2YoZSx0LHIsbil7bGV0IGk9MCxvPU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCBhPTA7YTwzO2ErKylpZihNYXRoLmFicyhuW2FdKTwxZS0xNSl7aWYoclthXTxlW2FdfHxyW2FdPnRbYV0pcmV0dXJuIG51bGx9ZWxzZXtjb25zdCBzPTEvblthXTtsZXQgbD0oZVthXS1yW2FdKSpzLGM9KHRbYV0tclthXSkqcztpZihsPmMpe2NvbnN0IGU9bDtsPWMsYz1lfWlmKGw+aSYmKGk9bCksYzxvJiYobz1jKSxpPm8pcmV0dXJuIG51bGx9cmV0dXJuIGl9ZnVuY3Rpb24gQ2YoZSx0LHIsbixpLG8sYSxzLGwsYyx1KXtjb25zdCBoPW4tZSxkPWktdCxwPW8tcixmPWEtZSxtPXMtdCxnPWwtcixfPXVbMV0qZy11WzJdKm0seT11WzJdKmYtdVswXSpnLHY9dVswXSptLXVbMV0qZix4PWgqXytkKnkrcCp2O2lmKE1hdGguYWJzKHgpPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IGI9MS94LHc9Y1swXS1lLFQ9Y1sxXS10LEU9Y1syXS1yLFM9KHcqXytUKnkrRSp2KSpiO2lmKFM8MHx8Uz4xKXJldHVybiBudWxsO2NvbnN0IEM9VCpwLUUqZCxNPUUqaC13KnAsaz13KmQtVCpoLEE9KHVbMF0qQyt1WzFdKk0rdVsyXSprKSpiO3JldHVybiBBPDB8fFMrQT4xP251bGw6KGYqQyttKk0rZyprKSpifWZ1bmN0aW9uIE1mKGUsdCxyKXtyZXR1cm4oZS10KS8oci10KX1mdW5jdGlvbiBrZihlLHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz0xPDxyLHU9by1uLGg9YS1pLGQ9KGUrMSkvYyp1K24scD0odCswKS9jKmgraSxmPSh0KzEpL2MqaCtpO3NbMF09KGUrMCkvYyp1K24sc1sxXT1wLGxbMF09ZCxsWzFdPWZ9Y2xhc3MgQWZ7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5tYXhpbXVtcz1bXSx0aGlzLm1pbmltdW1zPVtdLHRoaXMubGVhdmVzPVtdLHRoaXMuY2hpbGRPZmZzZXRzPVtdLHRoaXMubm9kZUNvdW50PTAsdGhpcy5kZW09ZSx0aGlzLl9zaWJsaW5nT2Zmc2V0PVtbMCwwXSxbMSwwXSxbMCwxXSxbMSwxXV0sIXRoaXMuZGVtKXJldHVybjtjb25zdCB0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5jZWlsKE1hdGgubG9nMihlLmRpbS84KSkscj1bXTtsZXQgbj1NYXRoLmNlaWwoTWF0aC5wb3coMix0KSk7Y29uc3QgaT0xL24sbz0oZSx0LHIsbixpKT0+e2NvbnN0IG89bj8xOjAsYT0oZSsxKSpyLW8scz10KnIsbD0odCsxKSpyLW87aVswXT1lKnIsaVsxXT1zLGlbMl09YSxpWzNdPWx9O2xldCBhPW5ldyBFZihuKTtjb25zdCBzPVtdO2ZvcihsZXQgdD0wO3Q8bipuO3QrKyl7byh0JW4sTWF0aC5mbG9vcih0L24pLGksITEscyk7Y29uc3Qgcj1QZihzWzBdLHNbMV0sZSksbD1QZihzWzJdLHNbMV0sZSksYz1QZihzWzJdLHNbM10sZSksdT1QZihzWzBdLHNbM10sZSk7YS5taW5pbXVtcy5wdXNoKE1hdGgubWluKHIsbCxjLHUpKSxhLm1heGltdW1zLnB1c2goTWF0aC5tYXgocixsLGMsdSkpLGEubGVhdmVzLnB1c2goMSl9Zm9yKHIucHVzaChhKSxuLz0yO24+PTE7bi89Mil7Y29uc3QgZT1yW3IubGVuZ3RoLTFdO2E9bmV3IEVmKG4pO2ZvcihsZXQgdD0wO3Q8bipuO3QrKyl7byh0JW4sTWF0aC5mbG9vcih0L24pLDIsITAscyk7Y29uc3Qgcj1lLmdldEVsZXZhdGlvbihzWzBdLHNbMV0pLGk9ZS5nZXRFbGV2YXRpb24oc1syXSxzWzFdKSxsPWUuZ2V0RWxldmF0aW9uKHNbMl0sc1szXSksYz1lLmdldEVsZXZhdGlvbihzWzBdLHNbM10pLHU9ZS5pc0xlYWYoc1swXSxzWzFdKSxoPWUuaXNMZWFmKHNbMl0sc1sxXSksZD1lLmlzTGVhZihzWzJdLHNbM10pLHA9ZS5pc0xlYWYoc1swXSxzWzNdKSxmPU1hdGgubWluKHIubWluLGkubWluLGwubWluLGMubWluKSxtPU1hdGgubWF4KHIubWF4LGkubWF4LGwubWF4LGMubWF4KSxnPXUmJmgmJmQmJnA7YS5tYXhpbXVtcy5wdXNoKG0pLGEubWluaW11bXMucHVzaChmKSxhLmxlYXZlcy5wdXNoKG0tZjw9NSYmZz8xOjApfXIucHVzaChhKX1yZXR1cm4gcn0odGhpcy5kZW0pLHI9dC5sZW5ndGgtMSxuPXRbcl07dGhpcy5fYWRkTm9kZShuLm1pbmltdW1zWzBdLG4ubWF4aW11bXNbMF0sbi5sZWF2ZXNbMF0pLHRoaXMuX2NvbnN0cnVjdCh0LDAsMCxyLDApfXJheWNhc3RSb290KGUsdCxyLG4saSxvLGE9MSl7cmV0dXJuIFNmKFtlLHQsLTEwMF0sW3Isbix0aGlzLm1heGltdW1zWzBdKmFdLGksbyl9cmF5Y2FzdChlLHQscixuLGksbyxhPTEpe2lmKCF0aGlzLm5vZGVDb3VudClyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMucmF5Y2FzdFJvb3QoZSx0LHIsbixpLG8sYSk7aWYobnVsbD09cylyZXR1cm4gbnVsbDtjb25zdCBsPVtdLGM9W10sdT1bXSxoPVtdLGQ9W3tpZHg6MCx0OnMsbm9kZXg6MCxub2RleTowLGRlcHRoOjB9XTtmb3IoO2QubGVuZ3RoPjA7KXtjb25zdHtpZHg6cyx0OnAsbm9kZXg6Zixub2RleTptLGRlcHRoOmd9PWQucG9wKCk7aWYodGhpcy5sZWF2ZXNbc10pe2tmKGYsbSxnLGUsdCxyLG4sdSxoKTtjb25zdCBzPTE8PGcsbD0oZiswKS9zLGM9KGYrMSkvcyxkPShtKzApL3MsXz0obSsxKS9zLHk9UGYobCxkLHRoaXMuZGVtKSphLHY9UGYoYyxkLHRoaXMuZGVtKSphLHg9UGYoYyxfLHRoaXMuZGVtKSphLGI9UGYobCxfLHRoaXMuZGVtKSphLHc9Q2YodVswXSx1WzFdLHksaFswXSx1WzFdLHYsaFswXSxoWzFdLHgsaSxvKSxUPUNmKGhbMF0saFsxXSx4LHVbMF0saFsxXSxiLHVbMF0sdVsxXSx5LGksbyksRT1NYXRoLm1pbihudWxsIT09dz93Ok51bWJlci5NQVhfVkFMVUUsbnVsbCE9PVQ/VDpOdW1iZXIuTUFYX1ZBTFVFKTtpZihFIT09TnVtYmVyLk1BWF9WQUxVRSlyZXR1cm4gRTt7Y29uc3QgZT1SbChbXSxpLG8scCk7aWYoSWYoeSx2LGIseCxNZihlWzBdLHVbMF0saFswXSksTWYoZVsxXSx1WzFdLGhbMV0pKT49ZVsyXSlyZXR1cm4gcH1jb250aW51ZX1sZXQgXz0wO2ZvcihsZXQgZD0wO2Q8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7ZCsrKXtrZigoZjw8MSkrdGhpcy5fc2libGluZ09mZnNldFtkXVswXSwobTw8MSkrdGhpcy5fc2libGluZ09mZnNldFtkXVsxXSxnKzEsZSx0LHIsbix1LGgpLHVbMl09LTEwMCxoWzJdPXRoaXMubWF4aW11bXNbdGhpcy5jaGlsZE9mZnNldHNbc10rZF0qYTtjb25zdCBwPVNmKHUsaCxpLG8pO2lmKG51bGwhPXApe2NvbnN0IGU9cDtsW2RdPWU7bGV0IHQ9ITE7Zm9yKGxldCByPTA7cjxfJiYhdDtyKyspZT49bFtjW3JdXSYmKGMuc3BsaWNlKHIsMCxkKSx0PSEwKTt0fHwoY1tfXT1kKSxfKyt9fWZvcihsZXQgZT0wO2U8XztlKyspe2NvbnN0IHQ9Y1tlXTtkLnB1c2goe2lkeDp0aGlzLmNoaWxkT2Zmc2V0c1tzXSt0LHQ6bFt0XSxub2RleDooZjw8MSkrdGhpcy5fc2libGluZ09mZnNldFt0XVswXSxub2RleToobTw8MSkrdGhpcy5fc2libGluZ09mZnNldFt0XVsxXSxkZXB0aDpnKzF9KX19cmV0dXJuIG51bGx9X2FkZE5vZGUoZSx0LHIpe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2goZSksdGhpcy5tYXhpbXVtcy5wdXNoKHQpLHRoaXMubGVhdmVzLnB1c2gociksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QoZSx0LHIsbixpKXtpZigxPT09ZVtuXS5pc0xlYWYodCxyKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbaV18fCh0aGlzLmNoaWxkT2Zmc2V0c1tpXT10aGlzLm5vZGVDb3VudCk7Y29uc3Qgbz1uLTEsYT1lW29dO2xldCBzPTAsbD0wO2ZvcihsZXQgZT0wO2U8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7ZSsrKXtjb25zdCBuPTIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLGk9MipyK3RoaXMuX3NpYmxpbmdPZmZzZXRbZV1bMV0sbz1hLmdldEVsZXZhdGlvbihuLGkpLGM9YS5pc0xlYWYobixpKSx1PXRoaXMuX2FkZE5vZGUoby5taW4sby5tYXgsYyk7YyYmKHN8PTE8PGUpLGx8fChsPXUpfWZvcihsZXQgbj0wO248dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7bisrKXMmMTw8bnx8dGhpcy5fY29uc3RydWN0KGUsMip0K3RoaXMuX3NpYmxpbmdPZmZzZXRbbl1bMF0sMipyK3RoaXMuX3NpYmxpbmdPZmZzZXRbbl1bMV0sbyxsK24pfX1mdW5jdGlvbiBJZihlLHQscixuLGksbyl7cmV0dXJuIENyKENyKGUscixvKSxDcih0LG4sbyksaSl9ZnVuY3Rpb24gUGYoZSx0LHIpe2NvbnN0IG49ci5kaW0saT1TKGUqbi0uNSwwLG4tMSksbz1TKHQqbi0uNSwwLG4tMSksYT1NYXRoLmZsb29yKGkpLHM9TWF0aC5mbG9vcihvKSxsPU1hdGgubWluKGErMSxuLTEpLGM9TWF0aC5taW4ocysxLG4tMSk7cmV0dXJuIElmKHIuZ2V0KGEscyksci5nZXQobCxzKSxyLmdldChhLGMpLHIuZ2V0KGwsYyksaS1hLG8tcyl9Y29uc3QgemY9e21hcGJveDpbNjU1My42LDI1LjYsLjEsMWU0XSx0ZXJyYXJpdW06WzI1NiwxLDEvMjU2LDMyNzY4XX07Y2xhc3MgRGZ7Z2V0IHRyZWUoKXtyZXR1cm4gdGhpcy5fdHJlZXx8dGhpcy5fYnVpbGRRdWFkVHJlZSgpLHRoaXMuX3RyZWV9Y29uc3RydWN0b3IoZSx0LHIsbj0hMSxpPSExKXtpZih0aGlzLnVpZD1lLHQuaGVpZ2h0IT09dC53aWR0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRFTSB0aWxlcyBtdXN0IGJlIHNxdWFyZVwiKTtpZihyJiZcIm1hcGJveFwiIT09ciYmXCJ0ZXJyYXJpdW1cIiE9PXIpcmV0dXJuIFYoYFwiJHtyfVwiIGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIHR5cGUuIFZhbGlkIHR5cGVzIGluY2x1ZGUgXCJtYXBib3hcIiBhbmQgXCJ0ZXJyYXJpdW1cIi5gKTt0aGlzLnN0cmlkZT10LmhlaWdodDtjb25zdCBvPXRoaXMuZGltPXQuaGVpZ2h0LTIsYT1uZXcgVWludDMyQXJyYXkodC5kYXRhLmJ1ZmZlcik7aWYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlciksdGhpcy5lbmNvZGluZz1yfHxcIm1hcGJveFwiLHRoaXMuYm9yZGVyUmVhZHk9biwhbil7Zm9yKGxldCBlPTA7ZTxvO2UrKylhW3RoaXMuX2lkeCgtMSxlKV09YVt0aGlzLl9pZHgoMCxlKV0sYVt0aGlzLl9pZHgobyxlKV09YVt0aGlzLl9pZHgoby0xLGUpXSxhW3RoaXMuX2lkeChlLC0xKV09YVt0aGlzLl9pZHgoZSwwKV0sYVt0aGlzLl9pZHgoZSxvKV09YVt0aGlzLl9pZHgoZSxvLTEpXTthW3RoaXMuX2lkeCgtMSwtMSldPWFbdGhpcy5faWR4KDAsMCldLGFbdGhpcy5faWR4KG8sLTEpXT1hW3RoaXMuX2lkeChvLTEsMCldLGFbdGhpcy5faWR4KC0xLG8pXT1hW3RoaXMuX2lkeCgwLG8tMSldLGFbdGhpcy5faWR4KG8sbyldPWFbdGhpcy5faWR4KG8tMSxvLTEpXSxpJiZ0aGlzLl9idWlsZFF1YWRUcmVlKCl9fV9idWlsZFF1YWRUcmVlKCl7dGhpcy5fdHJlZT1uZXcgQWYodGhpcyl9Z2V0KGUsdCxyPSExKXtyJiYoZT1TKGUsLTEsdGhpcy5kaW0pLHQ9Uyh0LC0xLHRoaXMuZGltKSk7Y29uc3Qgbj00KnRoaXMuX2lkeChlLHQpO3JldHVybihcInRlcnJhcml1bVwiPT09dGhpcy5lbmNvZGluZz90aGlzLl91bnBhY2tUZXJyYXJpdW06dGhpcy5fdW5wYWNrTWFwYm94KSh0aGlzLnBpeGVsc1tuXSx0aGlzLnBpeGVsc1tuKzFdLHRoaXMucGl4ZWxzW24rMl0pfXN0YXRpYyBnZXRVbnBhY2tWZWN0b3IoZSl7cmV0dXJuIHpmW2VdfWdldCB1bnBhY2tWZWN0b3IoKXtyZXR1cm4gemZbdGhpcy5lbmNvZGluZ119X2lkeChlLHQpe2lmKGU8LTF8fGU+PXRoaXMuZGltKzF8fHQ8LTF8fHQ+PXRoaXMuZGltKzEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2Ugc291cmNlIGNvb3JkaW5hdGVzIGZvciBERU0gZGF0YVwiKTtyZXR1cm4odCsxKSp0aGlzLnN0cmlkZSsoZSsxKX1fdW5wYWNrTWFwYm94KGUsdCxyKXtyZXR1cm4oMjU2KmUqMjU2KzI1Nip0K3IpLzEwLTFlNH1fdW5wYWNrVGVycmFyaXVtKGUsdCxyKXtyZXR1cm4gMjU2KmUrdCtyLzI1Ni0zMjc2OH1zdGF0aWMgcGFjayhlLHQpe2NvbnN0IHI9WzAsMCwwLDBdLG49RGYuZ2V0VW5wYWNrVmVjdG9yKHQpO2xldCBpPU1hdGguZmxvb3IoKGUrblszXSkvblsyXSk7cmV0dXJuIHJbMl09aSUyNTYsaT1NYXRoLmZsb29yKGkvMjU2KSxyWzFdPWklMjU2LGk9TWF0aC5mbG9vcihpLzI1NiksclswXT1pLHJ9Z2V0UGl4ZWxzKCl7cmV0dXJuIG5ldyBkYyh7d2lkdGg6dGhpcy5zdHJpZGUsaGVpZ2h0OnRoaXMuc3RyaWRlfSx0aGlzLnBpeGVscyl9YmFja2ZpbGxCb3JkZXIoZSx0LHIpe2lmKHRoaXMuZGltIT09ZS5kaW0pdGhyb3cgbmV3IEVycm9yKFwiZGVtIGRpbWVuc2lvbiBtaXNtYXRjaFwiKTtsZXQgbj10KnRoaXMuZGltLGk9dCp0aGlzLmRpbSt0aGlzLmRpbSxvPXIqdGhpcy5kaW0sYT1yKnRoaXMuZGltK3RoaXMuZGltO3N3aXRjaCh0KXtjYXNlLTE6bj1pLTE7YnJlYWs7Y2FzZSAxOmk9bisxfXN3aXRjaChyKXtjYXNlLTE6bz1hLTE7YnJlYWs7Y2FzZSAxOmE9bysxfWNvbnN0IHM9LXQqdGhpcy5kaW0sbD0tcip0aGlzLmRpbTtmb3IobGV0IHQ9bzt0PGE7dCsrKWZvcihsZXQgcj1uO3I8aTtyKyspe2NvbnN0IG49NCp0aGlzLl9pZHgocix0KSxpPTQqdGhpcy5faWR4KHIrcyx0K2wpO3RoaXMucGl4ZWxzW24rMF09ZS5waXhlbHNbaSswXSx0aGlzLnBpeGVsc1tuKzFdPWUucGl4ZWxzW2krMV0sdGhpcy5waXhlbHNbbisyXT1lLnBpeGVsc1tpKzJdLHRoaXMucGl4ZWxzW24rM109ZS5waXhlbHNbaSszXX19b25EZXNlcmlhbGl6ZSgpe3RoaXMuX3RyZWUmJih0aGlzLl90cmVlLmRlbT10aGlzKX19SWkoRGYsXCJERU1EYXRhXCIpLElpKEFmLFwiRGVtTWluTWF4UXVhZFRyZWVcIix7b21pdDpbXCJkZW1cIl19KTtjbGFzcyBSZntjb25zdHJ1Y3RvcihlLHQpe3RoaXMubWF4PWUsdGhpcy5vblJlbW92ZT10LHRoaXMucmVzZXQoKX1yZXNldCgpe2Zvcihjb25zdCBlIGluIHRoaXMuZGF0YSlmb3IoY29uc3QgdCBvZiB0aGlzLmRhdGFbZV0pdC50aW1lb3V0JiZjbGVhclRpbWVvdXQodC50aW1lb3V0KSx0aGlzLm9uUmVtb3ZlKHQudmFsdWUpO3JldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfWFkZChlLHQscil7Y29uc3Qgbj1lLndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW25dJiYodGhpcy5kYXRhW25dPVtdKTtjb25zdCBpPXt2YWx1ZTp0LHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1yJiYoaS50aW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt0aGlzLnJlbW92ZShlLGkpfSxyKSksdGhpcy5kYXRhW25dLnB1c2goaSksdGhpcy5vcmRlci5wdXNoKG4pLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXtjb25zdCBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSl9cmV0dXJuIHRoaXN9aGFzKGUpe3JldHVybiBlLndyYXBwZWQoKS5rZXkgaW4gdGhpcy5kYXRhfWdldEFuZFJlbW92ZShlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkoZS53cmFwcGVkKCkua2V5KTpudWxsfV9nZXRBbmRSZW1vdmVCeUtleShlKXtjb25zdCB0PXRoaXMuZGF0YVtlXS5zaGlmdCgpO3JldHVybiB0LnRpbWVvdXQmJmNsZWFyVGltZW91dCh0LnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbZV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW2VdLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihlKSwxKSx0LnZhbHVlfWdldEJ5S2V5KGUpe2NvbnN0IHQ9dGhpcy5kYXRhW2VdO3JldHVybiB0P3RbMF0udmFsdWU6bnVsbH1nZXQoZSl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuZGF0YVtlLndyYXBwZWQoKS5rZXldWzBdLnZhbHVlOm51bGx9cmVtb3ZlKGUsdCl7aWYoIXRoaXMuaGFzKGUpKXJldHVybiB0aGlzO2NvbnN0IHI9ZS53cmFwcGVkKCkua2V5LG49dm9pZCAwPT09dD8wOnRoaXMuZGF0YVtyXS5pbmRleE9mKHQpLGk9dGhpcy5kYXRhW3JdW25dO3JldHVybiB0aGlzLmRhdGFbcl0uc3BsaWNlKG4sMSksaS50aW1lb3V0JiZjbGVhclRpbWVvdXQoaS50aW1lb3V0KSwwPT09dGhpcy5kYXRhW3JdLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVtyXSx0aGlzLm9uUmVtb3ZlKGkudmFsdWUpLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihyKSwxKSx0aGlzfXNldE1heFNpemUoZSl7Zm9yKHRoaXMubWF4PWU7dGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXg7KXtjb25zdCBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSl9cmV0dXJuIHRoaXN9ZmlsdGVyKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgaW4gdGhpcy5kYXRhKWZvcihjb25zdCBuIG9mIHRoaXMuZGF0YVtyXSllKG4udmFsdWUpfHx0LnB1c2gobik7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLnJlbW92ZShlLnZhbHVlLnRpbGVJRCxlKX19Y2xhc3MgTGZ7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuZnVuYz1lLHRoaXMubWFzaz10LHRoaXMucmFuZ2U9cn19TGYuUmVhZE9ubHk9ITEsTGYuUmVhZFdyaXRlPSEwLExmLmRpc2FibGVkPW5ldyBMZig1MTksTGYuUmVhZE9ubHksWzAsMV0pO2NsYXNzIE9me2NvbnN0cnVjdG9yKGUsdCxyLG4saSxvKXt0aGlzLnRlc3Q9ZSx0aGlzLnJlZj10LHRoaXMubWFzaz1yLHRoaXMuZmFpbD1uLHRoaXMuZGVwdGhGYWlsPWksdGhpcy5wYXNzPW99fU9mLmRpc2FibGVkPW5ldyBPZih7ZnVuYzo1MTksbWFzazowfSwwLDAsNzY4MCw3NjgwLDc2ODApO2NsYXNzIEJme2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmJsZW5kRnVuY3Rpb249ZSx0aGlzLmJsZW5kQ29sb3I9dCx0aGlzLm1hc2s9cn19QmYuUmVwbGFjZT1bMSwwXSxCZi5kaXNhYmxlZD1uZXcgQmYoQmYuUmVwbGFjZSxNdC50cmFuc3BhcmVudCxbITEsITEsITEsITFdKSxCZi51bmJsZW5kZWQ9bmV3IEJmKEJmLlJlcGxhY2UsTXQudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSksQmYuYWxwaGFCbGVuZGVkPW5ldyBCZihbMSw3NzFdLE10LnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO2NsYXNzIEZme2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmVuYWJsZT1lLHRoaXMubW9kZT10LHRoaXMuZnJvbnRGYWNlPXJ9fUZmLmRpc2FibGVkPW5ldyBGZighMSwxMDI5LDIzMDUpLEZmLmJhY2tDQ1c9bmV3IEZmKCEwLDEwMjksMjMwNSksRmYuYmFja0NXPW5ldyBGZighMCwxMDI5LDIzMDQpLEZmLmZyb250Q1c9bmV3IEZmKCEwLDEwMjgsMjMwNCksRmYuZnJvbnRDQ1c9bmV3IEZmKCEwLDEwMjgsMjMwNSk7Y2xhc3MgamYgZXh0ZW5kcyBIZXtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5fb25seVN5bWJvbHM9cix0Lm9uKFwiZGF0YVwiLGU9PntcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmXCJtZXRhZGF0YVwiPT09ZS5zb3VyY2VEYXRhVHlwZSYmKHRoaXMuX3NvdXJjZUxvYWRlZD0hMCksdGhpcy5fc291cmNlTG9hZGVkJiYhdGhpcy5fcGF1c2VkJiZcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmXCJjb250ZW50XCI9PT1lLnNvdXJjZURhdGFUeXBlJiYodGhpcy5yZWxvYWQoKSx0aGlzLnRyYW5zZm9ybSYmdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pKX0pLHQub24oXCJlcnJvclwiLCgpPT57dGhpcy5fc291cmNlRXJyb3JlZD0hMH0pLHRoaXMuX3NvdXJjZT10LHRoaXMuX3RpbGVzPXt9LHRoaXMuX2NhY2hlPW5ldyBSZigwLHRoaXMuX3VubG9hZFRpbGUuYmluZCh0aGlzKSksdGhpcy5fdGltZXJzPXt9LHRoaXMuX2NhY2hlVGltZXJzPXt9LHRoaXMuX21pblRpbGVDYWNoZVNpemU9dC5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dC5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9LHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLl9zdGF0ZT1uZXcgVGYsdGhpcy5faXNSYXN0ZXI9XCJyYXN0ZXJcIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcImN1c3RvbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJlwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UuX2RhdGFUeXBlfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT12b2lkIDA9PT10aGlzLl9taW5UaWxlQ2FjaGVTaXplJiZlP2UuX21pblRpbGVDYWNoZVNpemU6dGhpcy5fbWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21heFRpbGVDYWNoZVNpemUmJmU/ZS5fbWF4VGlsZUNhY2hlU2l6ZTp0aGlzLl9tYXhUaWxlQ2FjaGVTaXplfWxvYWRlZCgpe2lmKHRoaXMuX3NvdXJjZUVycm9yZWQpcmV0dXJuITA7aWYoIXRoaXMuX3NvdXJjZUxvYWRlZClyZXR1cm4hMTtpZighdGhpcy5fc291cmNlLmxvYWRlZCgpKXJldHVybiExO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO2lmKFwibG9hZGVkXCIhPT10LnN0YXRlJiZcImVycm9yZWRcIiE9PXQuc3RhdGUpcmV0dXJuITF9cmV0dXJuITB9Z2V0U291cmNlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX1wYXVzZSgpe3RoaXMuX3BhdXNlZD0hMH1yZXN1bWUoKXtpZighdGhpcy5fcGF1c2VkKXJldHVybjtjb25zdCBlPXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSxlJiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSl9X2xvYWRUaWxlKGUsdCl7cmV0dXJuIGUuaXNTeW1ib2xUaWxlPXRoaXMuX29ubHlTeW1ib2xzLHRoaXMuX3NvdXJjZS5sb2FkVGlsZShlLHQpfV91bmxvYWRUaWxlKGUpe2lmKHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UudW5sb2FkVGlsZShlLCgpPT57fSl9X2Fib3J0VGlsZShlKXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKGUsKCk9Pnt9KX1zZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpfXByZXBhcmUoZSl7dGhpcy5fc291cmNlLnByZXBhcmUmJnRoaXMuX3NvdXJjZS5wcmVwYXJlKCksdGhpcy5fc3RhdGUuY29hbGVzY2VDaGFuZ2VzKHRoaXMuX3RpbGVzLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHI9dGhpcy5fdGlsZXNbdF07ci51cGxvYWQoZSksci5wcmVwYXJlKHRoaXMubWFwLnN0eWxlLmltYWdlTWFuYWdlcil9fWdldElkcygpe3JldHVybiBBKHRoaXMuX3RpbGVzKS5tYXAoZT0+ZS50aWxlSUQpLnNvcnQoVWYpLm1hcChlPT5lLmtleSl9Z2V0UmVuZGVyYWJsZUlkcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXRoaXMuX2lzSWRSZW5kZXJhYmxlKCtyLGUpJiZ0LnB1c2godGhpcy5fdGlsZXNbcl0pO3JldHVybiBlP3Quc29ydCgoZSx0KT0+e2NvbnN0IHI9ZS50aWxlSUQsbj10LnRpbGVJRCxpPW5ldyBtKHIuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSksbz1uZXcgbShuLmNhbm9uaWNhbC54LG4uY2Fub25pY2FsLnkpLl9yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO3JldHVybiByLm92ZXJzY2FsZWRaLW4ub3ZlcnNjYWxlZFp8fG8ueS1pLnl8fG8ueC1pLnh9KS5tYXAoZT0+ZS50aWxlSUQua2V5KTp0Lm1hcChlPT5lLnRpbGVJRCkuc29ydChVZikubWFwKGU9PmUua2V5KX1oYXNSZW5kZXJhYmxlUGFyZW50KGUpe2NvbnN0IHQ9dGhpcy5maW5kTG9hZGVkUGFyZW50KGUsMCk7cmV0dXJuISF0JiZ0aGlzLl9pc0lkUmVuZGVyYWJsZSh0LnRpbGVJRC5rZXkpfV9pc0lkUmVuZGVyYWJsZShlLHQpe3JldHVybiB0aGlzLl90aWxlc1tlXSYmdGhpcy5fdGlsZXNbZV0uaGFzRGF0YSgpJiYhdGhpcy5fY292ZXJlZFRpbGVzW2VdJiYodHx8IXRoaXMuX3RpbGVzW2VdLmhvbGRpbmdGb3JGYWRlKCkpfXJlbG9hZCgpe2lmKHRoaXMuX3BhdXNlZCl0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMDtlbHNle3RoaXMuX2NhY2hlLnJlc2V0KCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpXCJlcnJvcmVkXCIhPT10aGlzLl90aWxlc1tlXS5zdGF0ZSYmdGhpcy5fcmVsb2FkVGlsZSgrZSxcInJlbG9hZGluZ1wiKX19X3JlbG9hZFRpbGUoZSx0KXtjb25zdCByPXRoaXMuX3RpbGVzW2VdO3ImJihcImxvYWRpbmdcIiE9PXIuc3RhdGUmJihyLnN0YXRlPXQpLHRoaXMuX2xvYWRUaWxlKHIsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMscixlLHQpKSl9X3RpbGVMb2FkZWQoZSx0LHIsbil7aWYobilpZihlLnN0YXRlPVwiZXJyb3JlZFwiLDQwNCE9PW4uc3RhdHVzKXRoaXMuX3NvdXJjZS5maXJlKG5ldyBYZShuLHt0aWxlOmV9KSk7ZWxzZSBpZihcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLnVzZWRGb3JUZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4pe2NvbnN0IGU9dGhpcy5tYXAucGFpbnRlci50ZXJyYWluO3RoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtLGUuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKSwhMCksZS5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLmlkKX1lbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtlbHNlIGUudGltZUFkZGVkPXFlLm5vdygpLFwiZXhwaXJlZFwiPT09ciYmKGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITApLHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcih0LGUpLFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJmUuZGVtJiZ0aGlzLl9iYWNrZmlsbERFTShlKSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplVGlsZVN0YXRlKGUsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9zb3VyY2UuZmlyZShuZXcgV2UoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsdGlsZTplLGNvb3JkOmUudGlsZUlELHNvdXJjZUNhY2hlSWQ6dGhpcy5pZH0pKX1fYmFja2ZpbGxERU0oZSl7Y29uc3QgdD10aGlzLmdldFJlbmRlcmFibGVJZHMoKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dO2lmKGUubmVpZ2hib3JpbmdUaWxlcyYmZS5uZWlnaGJvcmluZ1RpbGVzW2ldKXtjb25zdCB0PXRoaXMuZ2V0VGlsZUJ5SUQoaSk7cihlLHQpLHIodCxlKX19ZnVuY3Rpb24gcihlLHQpe2lmKCFlLmRlbXx8ZS5kZW0uYm9yZGVyUmVhZHkpcmV0dXJuO2UubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLGUubmVlZHNERU1UZXh0dXJlVXBsb2FkPSEwO2xldCByPXQudGlsZUlELmNhbm9uaWNhbC54LWUudGlsZUlELmNhbm9uaWNhbC54O2NvbnN0IG49dC50aWxlSUQuY2Fub25pY2FsLnktZS50aWxlSUQuY2Fub25pY2FsLnksaT1NYXRoLnBvdygyLGUudGlsZUlELmNhbm9uaWNhbC56KSxvPXQudGlsZUlELmtleTswPT09ciYmMD09PW58fE1hdGguYWJzKG4pPjF8fChNYXRoLmFicyhyKT4xJiYoMT09PU1hdGguYWJzKHIraSk/cis9aToxPT09TWF0aC5hYnMoci1pKSYmKHItPWkpKSx0LmRlbSYmZS5kZW0mJihlLmRlbS5iYWNrZmlsbEJvcmRlcih0LmRlbSxyLG4pLGUubmVpZ2hib3JpbmdUaWxlcyYmZS5uZWlnaGJvcmluZ1RpbGVzW29dJiYoZS5uZWlnaGJvcmluZ1RpbGVzW29dLmJhY2tmaWxsZWQ9ITApKSl9fWdldFRpbGUoZSl7cmV0dXJuIHRoaXMuZ2V0VGlsZUJ5SUQoZS5rZXkpfWdldFRpbGVCeUlEKGUpe3JldHVybiB0aGlzLl90aWxlc1tlXX1fcmV0YWluTG9hZGVkQ2hpbGRyZW4oZSx0LHIsbil7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fdGlsZXMpe2xldCBvPXRoaXMuX3RpbGVzW2ldO2lmKG5baV18fCFvLmhhc0RhdGEoKXx8by50aWxlSUQub3ZlcnNjYWxlZFo8PXR8fG8udGlsZUlELm92ZXJzY2FsZWRaPnIpY29udGludWU7bGV0IGE9by50aWxlSUQ7Zm9yKDtvJiZvLnRpbGVJRC5vdmVyc2NhbGVkWj50KzE7KXtjb25zdCBlPW8udGlsZUlELnNjYWxlZFRvKG8udGlsZUlELm92ZXJzY2FsZWRaLTEpO289dGhpcy5fdGlsZXNbZS5rZXldLG8mJm8uaGFzRGF0YSgpJiYoYT1lKX1sZXQgcz1hO2Zvcig7cy5vdmVyc2NhbGVkWj50OylpZihzPXMuc2NhbGVkVG8ocy5vdmVyc2NhbGVkWi0xKSxlW3Mua2V5XSl7blthLmtleV09YTticmVha319fWZpbmRMb2FkZWRQYXJlbnQoZSx0KXtpZihlLmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcyl7Y29uc3Qgcj10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1tlLmtleV07cmV0dXJuIHImJnIudGlsZUlELm92ZXJzY2FsZWRaPj10P3I6bnVsbH1mb3IobGV0IHI9ZS5vdmVyc2NhbGVkWi0xO3I+PXQ7ci0tKXtjb25zdCB0PWUuc2NhbGVkVG8ociksbj10aGlzLl9nZXRMb2FkZWRUaWxlKHQpO2lmKG4pcmV0dXJuIG59fV9nZXRMb2FkZWRUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZS5rZXldO3JldHVybiB0JiZ0Lmhhc0RhdGEoKT90OnRoaXMuX2NhY2hlLmdldEJ5S2V5KHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZD9lLndyYXBwZWQoKS5rZXk6ZS5jYW5vbmljYWwua2V5KX11cGRhdGVDYWNoZVNpemUoZSx0KXt0PXR8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZTtjb25zdCByPU1hdGguY2VpbChlLndpZHRoL3QpKzEsbj1NYXRoLmNlaWwoZS5oZWlnaHQvdCkrMSxpPU1hdGguZmxvb3IocipuKjUpLG89XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21pblRpbGVDYWNoZVNpemU/TWF0aC5tYXgodGhpcy5fbWluVGlsZUNhY2hlU2l6ZSxpKTppLGE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxvKTpvO3RoaXMuX2NhY2hlLnNldE1heFNpemUoYSl9aGFuZGxlV3JhcEp1bXAoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKChlLSh2b2lkIDA9PT10aGlzLl9wcmV2TG5nP2U6dGhpcy5fcHJldkxuZykpLzM2MCk7aWYodGhpcy5fcHJldkxuZz1lLHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IG49dGhpcy5fdGlsZXNbcl07bi50aWxlSUQ9bi50aWxlSUQudW53cmFwVG8obi50aWxlSUQud3JhcCt0KSxlW24udGlsZUlELmtleV09bn10aGlzLl90aWxlcz1lO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbWVycyljbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcigrZSx0aGlzLl90aWxlc1tlXSl9fXVwZGF0ZShlLHQscil7aWYodGhpcy50cmFuc2Zvcm09ZSwhdGhpcy5fc291cmNlTG9hZGVkfHx0aGlzLl9wYXVzZWR8fHRoaXMudHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47aWYodGhpcy51c2VkRm9yVGVycmFpbiYmIXIpcmV0dXJuO2xldCBuO3RoaXMudXBkYXRlQ2FjaGVTaXplKGUsdCksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWR8fHRoaXMudXNlZEZvclRlcnJhaW4/dGhpcy5fc291cmNlLnRpbGVJRD9uPWUuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcChlPT5uZXcganUoZS5jYW5vbmljYWwueixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpKToobj1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnR8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZSxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20mJiFyLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZCxpc1RlcnJhaW5ERU06dGhpcy51c2VkRm9yVGVycmFpbn0pLHRoaXMuX3NvdXJjZS5oYXNUaWxlJiYobj1uLmZpbHRlcihlPT50aGlzLl9zb3VyY2UuaGFzVGlsZShlKSkpKTpuPVtdO2NvbnN0IGk9dGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhuKTtpZihOZih0aGlzLl9zb3VyY2UudHlwZSkmJjAhPT1uLmxlbmd0aCl7Y29uc3QgZT17fSx0PXt9LHI9T2JqZWN0LmtleXMoaSk7Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj1pW25dLG89dGhpcy5fdGlsZXNbbl07aWYoIW98fG8uZmFkZUVuZFRpbWUmJm8uZmFkZUVuZFRpbWU8PXFlLm5vdygpKWNvbnRpbnVlO2NvbnN0IGE9dGhpcy5maW5kTG9hZGVkUGFyZW50KHIsTWF0aC5tYXgoci5vdmVyc2NhbGVkWi1qZi5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkpO2EmJih0aGlzLl9hZGRUaWxlKGEudGlsZUlEKSxlW2EudGlsZUlELmtleV09YS50aWxlSUQpLHRbbl09cn1jb25zdCBvPW5bbi5sZW5ndGgtMV0ub3ZlcnNjYWxlZFo7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHI9dGhpcy5fdGlsZXNbZV07aWYoaVtlXXx8IXIuaGFzRGF0YSgpKWNvbnRpbnVlO2xldCBuPXIudGlsZUlEO2Zvcig7bi5vdmVyc2NhbGVkWj5vOyl7bj1uLnNjYWxlZFRvKG4ub3ZlcnNjYWxlZFotMSk7Y29uc3Qgbz10aGlzLl90aWxlc1tuLmtleV07aWYobyYmby5oYXNEYXRhKCkmJnRbbi5rZXldKXtpW2VdPXIudGlsZUlEO2JyZWFrfX19Zm9yKGNvbnN0IHQgaW4gZSlpW3RdfHwodGhpcy5fY292ZXJlZFRpbGVzW3RdPSEwLGlbdF09ZVt0XSl9Zm9yKGNvbnN0IGUgaW4gaSl0aGlzLl90aWxlc1tlXS5jbGVhckZhZGVIb2xkKCk7Y29uc3Qgbz1mdW5jdGlvbihlLHQpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gaW4gZSluIGluIHR8fHIucHVzaChuKTtyZXR1cm4gcn0odGhpcy5fdGlsZXMsaSk7Zm9yKGNvbnN0IGUgb2Ygbyl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTt0Lmhhc1N5bWJvbEJ1Y2tldHMmJiF0LmhvbGRpbmdGb3JGYWRlKCk/dC5zZXRIb2xkRHVyYXRpb24odGhpcy5tYXAuX2ZhZGVEdXJhdGlvbik6dC5oYXNTeW1ib2xCdWNrZXRzJiYhdC5zeW1ib2xGYWRlRmluaXNoZWQoKXx8dGhpcy5fcmVtb3ZlVGlsZSgrZSl9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCksdGhpcy5fb25seVN5bWJvbHMmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSYmdGhpcy5fc291cmNlLmFmdGVyVXBkYXRlKCl9cmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW2VdLmhvbGRpbmdGb3JGYWRlKCkmJnRoaXMuX3JlbW92ZVRpbGUoK2UpfV91cGRhdGVSZXRhaW5lZFRpbGVzKGUpe2NvbnN0IHQ9e307aWYoMD09PWUubGVuZ3RoKXJldHVybiB0O2NvbnN0IHI9e30sbj1lLnJlZHVjZSgoZSx0KT0+TWF0aC5taW4oZSx0Lm92ZXJzY2FsZWRaKSwxLzApLGk9ZVswXS5vdmVyc2NhbGVkWixvPU1hdGgubWF4KGktamYubWF4T3Zlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLGE9TWF0aC5tYXgoaStqZi5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLHM9e307Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLl9hZGRUaWxlKHIpO3Rbci5rZXldPXIsZS5oYXNEYXRhKCl8fG48dGhpcy5fc291cmNlLm1heHpvb20mJihzW3Iua2V5XT1yKX10aGlzLl9yZXRhaW5Mb2FkZWRDaGlsZHJlbihzLG4sYSx0KTtmb3IoY29uc3QgbiBvZiBlKXtsZXQgZT10aGlzLl90aWxlc1tuLmtleV07aWYoZS5oYXNEYXRhKCkpY29udGludWU7aWYobi5jYW5vbmljYWwuej49dGhpcy5fc291cmNlLm1heHpvb20pe2NvbnN0IGU9bi5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF0scj10aGlzLmdldFRpbGUoZSk7aWYociYmci5oYXNEYXRhKCkpe3RbZS5rZXldPWU7Y29udGludWV9fWVsc2V7Y29uc3QgZT1uLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZih0W2VbMF0ua2V5XSYmdFtlWzFdLmtleV0mJnRbZVsyXS5rZXldJiZ0W2VbM10ua2V5XSljb250aW51ZX1sZXQgaT1lLndhc1JlcXVlc3RlZCgpO2ZvcihsZXQgYT1uLm92ZXJzY2FsZWRaLTE7YT49bzstLWEpe2NvbnN0IG89bi5zY2FsZWRUbyhhKTtpZihyW28ua2V5XSlicmVhaztpZihyW28ua2V5XT0hMCxlPXRoaXMuZ2V0VGlsZShvKSwhZSYmaSYmKGU9dGhpcy5fYWRkVGlsZShvKSksZSYmKHRbby5rZXldPW8saT1lLndhc1JlcXVlc3RlZCgpLGUuaGFzRGF0YSgpKSlicmVha319cmV0dXJuIHR9X3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpe3RoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PVtdO2xldCByLG49dGhpcy5fdGlsZXNbZV0udGlsZUlEO2Zvcig7bi5vdmVyc2NhbGVkWj4wOyl7aWYobi5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe3I9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbbi5rZXldO2JyZWFrfXQucHVzaChuLmtleSk7Y29uc3QgZT1uLnNjYWxlZFRvKG4ub3ZlcnNjYWxlZFotMSk7aWYocj10aGlzLl9nZXRMb2FkZWRUaWxlKGUpLHIpYnJlYWs7bj1lfWZvcihjb25zdCBlIG9mIHQpdGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbZV09cn19X2FkZFRpbGUoZSl7bGV0IHQ9dGhpcy5fdGlsZXNbZS5rZXldO2lmKHQpcmV0dXJuIHQ7dD10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUoZSksdCYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSx0KSx0LnRpbGVJRD1lLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodCx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LHQpKSk7Y29uc3Qgcj1Cb29sZWFuKHQpO2lmKCFyKXtjb25zdCByPXRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbDt0PW5ldyB3ZihlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHIsdGhpcy5faXNSYXN0ZXIpLHRoaXMuX2xvYWRUaWxlKHQsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsdCxlLmtleSx0LnN0YXRlKSl9cmV0dXJuIHQ/KHQudXNlcysrLHRoaXMuX3RpbGVzW2Uua2V5XT10LHJ8fHRoaXMuX3NvdXJjZS5maXJlKG5ldyBXZShcImRhdGFsb2FkaW5nXCIse3RpbGU6dCxjb29yZDp0LnRpbGVJRCxkYXRhVHlwZTpcInNvdXJjZVwifSkpLHQpOm51bGx9X3NldFRpbGVSZWxvYWRUaW1lcihlLHQpe2UgaW4gdGhpcy5fdGltZXJzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXSk7Y29uc3Qgcj10LmdldEV4cGlyeVRpbWVvdXQoKTtyJiYodGhpcy5fdGltZXJzW2VdPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9yZWxvYWRUaWxlKGUsXCJleHBpcmVkXCIpLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV19LHIpKX1fcmVtb3ZlVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO3QmJih0LnVzZXMtLSxkZWxldGUgdGhpcy5fdGlsZXNbZV0sdGhpcy5fdGltZXJzW2VdJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXSksdC51c2VzPjB8fCh0Lmhhc0RhdGEoKSYmXCJyZWxvYWRpbmdcIiE9PXQuc3RhdGU/dGhpcy5fY2FjaGUuYWRkKHQudGlsZUlELHQsdC5nZXRFeHBpcnlUaW1lb3V0KCkpOih0LmFib3J0ZWQ9ITAsdGhpcy5fYWJvcnRUaWxlKHQpLHRoaXMuX3VubG9hZFRpbGUodCkpKSl9Y2xlYXJUaWxlcygpe3RoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLHRoaXMuX3BhdXNlZD0hMTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl9yZW1vdmVUaWxlKCtlKTt0aGlzLl9zb3VyY2UuX2NsZWFyJiZ0aGlzLl9zb3VyY2UuX2NsZWFyKCksdGhpcy5fY2FjaGUucmVzZXQoKSx0aGlzLm1hcCYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4ucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCl9dGlsZXNJbihlLHQscil7Y29uc3Qgbj1bXSxpPXRoaXMudHJhbnNmb3JtO2lmKCFpKXJldHVybiBuO2NvbnN0IG89XCJnbG9iZVwiPT09aS5wcm9qZWN0aW9uLm5hbWUsYT1TcyhpLmNlbnRlci5sbmcpO2Zvcihjb25zdCBzIGluIHRoaXMuX3RpbGVzKXtjb25zdCBsPXRoaXMuX3RpbGVzW3NdO2lmKHImJmwuY2xlYXJRdWVyeURlYnVnVml6KCksbC5ob2xkaW5nRm9yRmFkZSgpKWNvbnRpbnVlO2xldCBjO2lmKG8pe2NvbnN0IGU9bC50aWxlSUQuY2Fub25pY2FsO2lmKDA9PT1lLnope2NvbnN0IHQ9W01hdGguYWJzKFMoYSwuLi5WZihlLC0xKSktYSksTWF0aC5hYnMoUyhhLC4uLlZmKGUsMSkpLWEpXTtjPVswLDIqdC5pbmRleE9mKE1hdGgubWluKC4uLnQpKS0xXX1lbHNle2NvbnN0IHQ9W01hdGguYWJzKFMoYSwuLi5WZihlLC0xKSktYSksTWF0aC5hYnMoUyhhLC4uLlZmKGUsMCkpLWEpLE1hdGguYWJzKFMoYSwuLi5WZihlLDEpKS1hKV07Yz1bdC5pbmRleE9mKE1hdGgubWluKC4uLnQpKS0xXX19ZWxzZSBjPVswXTtmb3IoY29uc3QgciBvZiBjKXtjb25zdCBvPWUuY29udGFpbnNUaWxlKGwsaSx0LHIpO28mJm4ucHVzaChvKX19cmV0dXJuIG59Z2V0VmlzaWJsZUNvb3JkaW5hdGVzKGUpe2NvbnN0IHQ9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKGUpLm1hcChlPT50aGlzLl90aWxlc1tlXS50aWxlSUQpO2Zvcihjb25zdCBlIG9mIHQpZS5wcm9qTWF0cml4PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZS50b1Vud3JhcHBlZCgpKTtyZXR1cm4gdH1oYXNUcmFuc2l0aW9uKCl7aWYodGhpcy5fc291cmNlLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtpZihOZih0aGlzLl9zb3VyY2UudHlwZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYodm9pZCAwIT09dC5mYWRlRW5kVGltZSYmdC5mYWRlRW5kVGltZT49cWUubm93KCkpcmV0dXJuITB9cmV0dXJuITF9c2V0RmVhdHVyZVN0YXRlKGUsdCxyKXt0aGlzLl9zdGF0ZS51cGRhdGVTdGF0ZShlPWV8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0LHIpfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQscil7dGhpcy5fc3RhdGUucmVtb3ZlRmVhdHVyZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQscil9Z2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQpfXNldERlcGVuZGVuY2llcyhlLHQscil7Y29uc3Qgbj10aGlzLl90aWxlc1tlXTtuJiZuLnNldERlcGVuZGVuY2llcyh0LHIpfXJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzKGUsdCl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbcl0uaGFzRGVwZW5kZW5jeShlLHQpJiZ0aGlzLl9yZWxvYWRUaWxlKCtyLFwicmVsb2FkaW5nXCIpO3RoaXMuX2NhY2hlLmZpbHRlcihyPT4hci5oYXNEZXBlbmRlbmN5KGUsdCkpfV9wcmVsb2FkVGlsZXMoZSx0KXtjb25zdCByPW5ldyBNYXAsbj1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGk9dGhpcy5tYXAucGFpbnRlci50ZXJyYWluLG89dGhpcy51c2VkRm9yVGVycmFpbiYmaT9pLmdldFNjYWxlZERlbVRpbGVTaXplKCk6dGhpcy5fc291cmNlLnRpbGVTaXplO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IHQ9ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpvLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXRoaXMudXNlZEZvclRlcnJhaW4scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSk7Zm9yKGNvbnN0IGUgb2YgdClyLnNldChlLmtleSxlKTt0aGlzLnVzZWRGb3JUZXJyYWluJiZlLnVwZGF0ZUVsZXZhdGlvbighMSl9ayhBcnJheS5mcm9tKHIudmFsdWVzKCkpLChlLHQpPT57Y29uc3Qgcj1uZXcgd2YoZSx0aGlzLl9zb3VyY2UudGlsZVNpemUqZS5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSx0aGlzLm1hcC5wYWludGVyLHRoaXMuX2lzUmFzdGVyKTt0aGlzLl9sb2FkVGlsZShyLGU9PntcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZyLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0ociksdChlLHIpfSl9LHQpfX1mdW5jdGlvbiBVZihlLHQpe2NvbnN0IHI9TWF0aC5hYnMoMiplLndyYXApLSsoZS53cmFwPDApLG49TWF0aC5hYnMoMip0LndyYXApLSsodC53cmFwPDApO3JldHVybiBlLm92ZXJzY2FsZWRaLXQub3ZlcnNjYWxlZFp8fG4tcnx8dC5jYW5vbmljYWwueS1lLmNhbm9uaWNhbC55fHx0LmNhbm9uaWNhbC54LWUuY2Fub25pY2FsLnh9ZnVuY3Rpb24gTmYoZSl7cmV0dXJuXCJyYXN0ZXJcIj09PWV8fFwiaW1hZ2VcIj09PWV8fFwidmlkZW9cIj09PWV8fFwiY3VzdG9tXCI9PT1lfWZ1bmN0aW9uIFZmKGUsdCl7Y29uc3Qgcj0xPDxlLno7cmV0dXJuW2UueC9yK3QsKGUueCsxKS9yK3RdfWpmLm1heE92ZXJ6b29taW5nPTEwLGpmLm1heFVuZGVyem9vbWluZz0zO2NsYXNzIEdme2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLl9kZW1UaWxlPWUsdGhpcy5fZGVtPXRoaXMuX2RlbVRpbGUuZGVtLHRoaXMuX3NjYWxlPXQsdGhpcy5fb2Zmc2V0PXJ9c3RhdGljIGNyZWF0ZShlLHQscil7Y29uc3Qgbj1yfHxlLmZpbmRERU1UaWxlRm9yKHQpO2lmKCFufHwhbi5kZW0pcmV0dXJuO2NvbnN0IGk9bi5kZW0sbz1uLnRpbGVJRCxhPTE8PHQuY2Fub25pY2FsLnotby5jYW5vbmljYWwuejtyZXR1cm4gbmV3IEdmKG4sbi50aWxlU2l6ZS92cy9hLFsodC5jYW5vbmljYWwueC9hLW8uY2Fub25pY2FsLngpKmkuZGltLCh0LmNhbm9uaWNhbC55L2Etby5jYW5vbmljYWwueSkqaS5kaW1dKX10aWxlQ29vcmRUb1BpeGVsKGUsdCl7Y29uc3Qgcj10KnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFsxXSxuPU1hdGguZmxvb3IoZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMF0pLGk9TWF0aC5mbG9vcihyKTtyZXR1cm4gbmV3IG0obixpKX1nZXRFbGV2YXRpb25BdChlLHQscixuKXtjb25zdCBpPWUqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdLG89dCp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0sYT1NYXRoLmZsb29yKGkpLHM9TWF0aC5mbG9vcihvKSxsPXRoaXMuX2RlbTtyZXR1cm4gbj0hIW4scj9DcihDcihsLmdldChhLHMsbiksbC5nZXQoYSxzKzEsbiksby1zKSxDcihsLmdldChhKzEscyxuKSxsLmdldChhKzEscysxLG4pLG8tcyksaS1hKTpsLmdldChhLHMsbil9Z2V0RWxldmF0aW9uQXRQaXhlbChlLHQscil7cmV0dXJuIHRoaXMuX2RlbS5nZXQoZSx0LCEhcil9Z2V0TWV0ZXJUb0RFTShlKXtyZXR1cm4oMTw8dGhpcy5fZGVtVGlsZS50aWxlSUQuY2Fub25pY2FsLnopKk1zKDEsZSkqdGhpcy5fZGVtLnN0cmlkZX19Y2xhc3MgcWZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnRpbGVJRD1lLHRoaXMueD1lLmNhbm9uaWNhbC54LHRoaXMueT1lLmNhbm9uaWNhbC55LHRoaXMuej1lLmNhbm9uaWNhbC56LHRoaXMuZ3JpZD1uZXcgTWkodnMsMTYsMCksdGhpcy5mZWF0dXJlSW5kZXhBcnJheT1uZXcgRGEsdGhpcy5wcm9tb3RlSWQ9dH1pbnNlcnQoZSx0LHIsbixpLG89MCl7Y29uc3QgYT10aGlzLmZlYXR1cmVJbmRleEFycmF5Lmxlbmd0aDt0aGlzLmZlYXR1cmVJbmRleEFycmF5LmVtcGxhY2VCYWNrKHIsbixpLG8pO2NvbnN0IHM9dGhpcy5ncmlkO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCByPXRbZV0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV07blswXT1NYXRoLm1pbihuWzBdLHQueCksblsxXT1NYXRoLm1pbihuWzFdLHQueSksblsyXT1NYXRoLm1heChuWzJdLHQueCksblszXT1NYXRoLm1heChuWzNdLHQueSl9blswXTx2cyYmblsxXTx2cyYmblsyXT49MCYmblszXT49MCYmcy5pbnNlcnQoYSxuWzBdLG5bMV0sblsyXSxuWzNdKX19bG9hZFZUTGF5ZXJzKCl7aWYoIXRoaXMudnRMYXllcnMpe3RoaXMudnRMYXllcnM9bmV3IF91KG5ldyB5aCh0aGlzLnJhd1RpbGVEYXRhKSkubGF5ZXJzLHRoaXMuc291cmNlTGF5ZXJDb2Rlcj1uZXcgZGYodGhpcy52dExheWVycz9PYmplY3Qua2V5cyh0aGlzLnZ0TGF5ZXJzKS5zb3J0KCk6W1wiX2dlb2pzb25UaWxlTGF5ZXJcIl0pLHRoaXMudnRGZWF0dXJlcz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnZ0TGF5ZXJzKXRoaXMudnRGZWF0dXJlc1tlXT1bXX1yZXR1cm4gdGhpcy52dExheWVyc31xdWVyeShlLHQscixuKXt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IGk9ZS5wYXJhbXN8fHt9LG89Sm4oaS5maWx0ZXIpLGE9ZS50aWxlUmVzdWx0LHM9ZS50cmFuc2Zvcm0sbD1hLmJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzLGM9dGhpcy5ncmlkLnF1ZXJ5KGwubWluLngsbC5taW4ueSxsLm1heC54LGwubWF4LnksKGUsdCxyLG4pPT5ybChhLmJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnksZSx0LHIsbikpO2Muc29ydCgkZik7bGV0IHU9bnVsbDtzLmVsZXZhdGlvbiYmYy5sZW5ndGg+MCYmKHU9R2YuY3JlYXRlKHMuZWxldmF0aW9uLHRoaXMudGlsZUlEKSk7Y29uc3QgaD17fTtsZXQgZDtmb3IobGV0IHM9MDtzPGMubGVuZ3RoO3MrKyl7Y29uc3QgbD1jW3NdO2lmKGw9PT1kKWNvbnRpbnVlO2Q9bDtjb25zdCBwPXRoaXMuZmVhdHVyZUluZGV4QXJyYXkuZ2V0KGwpO2xldCBmPW51bGw7dGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKGgscCxvLGkubGF5ZXJzLGkuYXZhaWxhYmxlSW1hZ2VzLHQscixuLCh0LHIsbixpPTApPT4oZnx8KGY9TnModCx0aGlzLnRpbGVJRC5jYW5vbmljYWwsZS50aWxlVHJhbnNmb3JtKSksci5xdWVyeUludGVyc2VjdHNGZWF0dXJlKGEsdCxuLGYsdGhpcy56LGUudHJhbnNmb3JtLGUucGl4ZWxQb3NNYXRyaXgsdSxpKSkpfXJldHVybiBofWxvYWRNYXRjaGluZ0ZlYXR1cmUoZSx0LHIsbixpLG8sYSxzLGwpe2NvbnN0e2ZlYXR1cmVJbmRleDpjLGJ1Y2tldEluZGV4OnUsc291cmNlTGF5ZXJJbmRleDpoLGxheW91dFZlcnRleEFycmF5T2Zmc2V0OmR9PXQscD10aGlzLmJ1Y2tldExheWVySURzW3VdO2lmKG4mJiFmdW5jdGlvbihlLHQpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHQuaW5kZXhPZihlW3JdKT49MClyZXR1cm4hMDtyZXR1cm4hMX0obixwKSlyZXR1cm47Y29uc3QgZj10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKGgpLG09dGhpcy52dExheWVyc1tmXS5mZWF0dXJlKGMpO2lmKHIubmVlZEdlb21ldHJ5KXtjb25zdCBlPVZzKG0sITApO2lmKCFyLmZpbHRlcihuZXcgSW8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGUsdGhpcy50aWxlSUQuY2Fub25pY2FsKSlyZXR1cm59ZWxzZSBpZighci5maWx0ZXIobmV3IElvKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxtKSlyZXR1cm47Y29uc3QgZz10aGlzLmdldElkKG0sZik7Zm9yKGxldCB0PTA7dDxwLmxlbmd0aDt0Kyspe2NvbnN0IHI9cFt0XTtpZihuJiZuLmluZGV4T2Yocik8MCljb250aW51ZTtjb25zdCB1PW9bcl07aWYoIXUpY29udGludWU7bGV0IGg9e307dm9pZCAwIT09ZyYmcyYmKGg9cy5nZXRTdGF0ZSh1LnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsZykpO2NvbnN0IGY9SSh7fSxhW3JdKTtmLnBhaW50PVpmKGYucGFpbnQsdS5wYWludCxtLGgsaSksZi5sYXlvdXQ9WmYoZi5sYXlvdXQsdS5sYXlvdXQsbSxoLGkpO2NvbnN0IF89IWx8fGwobSx1LGgsZCk7aWYoIV8pY29udGludWU7Y29uc3QgeT1uZXcgZmYobSx0aGlzLnosdGhpcy54LHRoaXMueSxnKTt5LmxheWVyPWY7bGV0IHY9ZVtyXTt2b2lkIDA9PT12JiYodj1lW3JdPVtdKSx2LnB1c2goe2ZlYXR1cmVJbmRleDpjLGZlYXR1cmU6eSxpbnRlcnNlY3Rpb25aOl99KX19bG9va3VwU3ltYm9sRmVhdHVyZXMoZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPXt9O3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3QgYz1KbihpKTtmb3IoY29uc3QgaSBvZiBlKXRoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShsLHtidWNrZXRJbmRleDpyLHNvdXJjZUxheWVySW5kZXg6bixmZWF0dXJlSW5kZXg6aSxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDowfSxjLG8sYSxzLHQpO3JldHVybiBsfWxvYWRGZWF0dXJlKGUpe2NvbnN0e2ZlYXR1cmVJbmRleDp0LHNvdXJjZUxheWVySW5kZXg6cn09ZTt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IG49dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShyKSxpPXRoaXMudnRGZWF0dXJlc1tuXTtpZihpW3RdKXJldHVybiBpW3RdO2NvbnN0IG89dGhpcy52dExheWVyc1tuXS5mZWF0dXJlKHQpO3JldHVybiBpW3RdPW8sb31oYXNMYXllcihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLmJ1Y2tldExheWVySURzKWZvcihjb25zdCByIG9mIHQpaWYoZT09PXIpcmV0dXJuITA7cmV0dXJuITF9Z2V0SWQoZSx0KXtsZXQgcj1lLmlkO2lmKHRoaXMucHJvbW90ZUlkKXtjb25zdCBuPVwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFt0XTtudWxsIT1uJiYocj1lLnByb3BlcnRpZXNbbl0pLFwiYm9vbGVhblwiPT10eXBlb2YgciYmKHI9TnVtYmVyKHIpKX1yZXR1cm4gcn19ZnVuY3Rpb24gWmYoZSx0LHIsbixpKXtyZXR1cm4gRihlLChlLG8pPT57Y29uc3QgYT10IGluc3RhbmNlb2YgRm8/dC5nZXQobyk6bnVsbDtyZXR1cm4gYSYmYS5ldmFsdWF0ZT9hLmV2YWx1YXRlKHIsbixpKTphfSl9ZnVuY3Rpb24gJGYoZSx0KXtyZXR1cm4gdC1lfUlpKHFmLFwiRmVhdHVyZUluZGV4XCIse29taXQ6W1wicmF3VGlsZURhdGFcIixcInNvdXJjZUxheWVyQ29kZXJcIl19KTtjbGFzcyBXZntjb25zdHJ1Y3RvcihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMubmV4dFJvdz0wLHRoaXMuaW1hZ2U9bmV3IGhjKHt3aWR0aDplLGhlaWdodDp0fSksdGhpcy5wb3NpdGlvbnM9e30sdGhpcy51cGxvYWRlZD0hMX1nZXREYXNoKGUsdCl7Y29uc3Qgcj10aGlzLmdldEtleShlLHQpO3JldHVybiB0aGlzLnBvc2l0aW9uc1tyXX10cmltKCl7Y29uc3QgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQ9Uih0aGlzLm5leHRSb3cpO3RoaXMuaW1hZ2UucmVzaXplKHt3aWR0aDplLGhlaWdodDp0fSl9Z2V0S2V5KGUsdCl7cmV0dXJuIGUuam9pbihcIixcIikrdH1nZXREYXNoUmFuZ2VzKGUsdCxyKXtjb25zdCBuPVtdO2xldCBpPWUubGVuZ3RoJTI9PTE/LWVbZS5sZW5ndGgtMV0qcjowLG89ZVswXSpyLGE9ITA7bi5wdXNoKHtsZWZ0OmkscmlnaHQ6byxpc0Rhc2g6YSx6ZXJvTGVuZ3RoOjA9PT1lWzBdfSk7bGV0IHM9ZVswXTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7YT0hYTtjb25zdCBsPWVbdF07aT1zKnIscys9bCxvPXMqcixuLnB1c2goe2xlZnQ6aSxyaWdodDpvLGlzRGFzaDphLHplcm9MZW5ndGg6MD09PWx9KX1yZXR1cm4gbn1hZGRSb3VuZERhc2goZSx0LHIpe2NvbnN0IG49dC8yO2ZvcihsZXQgdD0tcjt0PD1yO3QrKyl7Y29uc3QgaT10aGlzLndpZHRoKih0aGlzLm5leHRSb3crcit0KTtsZXQgbz0wLGE9ZVtvXTtmb3IobGV0IHM9MDtzPHRoaXMud2lkdGg7cysrKXtzL2EucmlnaHQ+MSYmKGE9ZVsrK29dKTtjb25zdCBsPU1hdGguYWJzKHMtYS5sZWZ0KSxjPU1hdGguYWJzKHMtYS5yaWdodCksdT1NYXRoLm1pbihsLGMpO2xldCBoO2NvbnN0IGQ9dC9yKihuKzEpO2lmKGEuaXNEYXNoKXtjb25zdCBlPW4tTWF0aC5hYnMoZCk7aD1NYXRoLnNxcnQodSp1K2UqZSl9ZWxzZSBoPW4tTWF0aC5zcXJ0KHUqdStkKmQpO3RoaXMuaW1hZ2UuZGF0YVtpK3NdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGgrMTI4KSl9fX1hZGRSZWd1bGFyRGFzaChlLHQpe2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7LS10KXtjb25zdCByPWVbdF0sbj1lW3QrMV07ci56ZXJvTGVuZ3RoP2Uuc3BsaWNlKHQsMSk6biYmbi5pc0Rhc2g9PT1yLmlzRGFzaCYmKG4ubGVmdD1yLmxlZnQsZS5zcGxpY2UodCwxKSl9Y29uc3Qgcj1lWzBdLG49ZVtlLmxlbmd0aC0xXTtyLmlzRGFzaD09PW4uaXNEYXNoJiYoci5sZWZ0PW4ubGVmdC10aGlzLndpZHRoLG4ucmlnaHQ9ci5yaWdodCt0aGlzLndpZHRoKTtjb25zdCBpPXRoaXMud2lkdGgqdGhpcy5uZXh0Um93O2xldCBvPTAsYT1lW29dO2ZvcihsZXQgcj0wO3I8dGhpcy53aWR0aDtyKyspe3IvYS5yaWdodD4xJiYoYT1lWysrb10pO2NvbnN0IG49TWF0aC5hYnMoci1hLmxlZnQpLHM9TWF0aC5hYnMoci1hLnJpZ2h0KSxsPU1hdGgubWluKG4scyk7dGhpcy5pbWFnZS5kYXRhW2krcl09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsKGEuaXNEYXNoP2w6LWwpK3QrMTI4KSl9fWFkZERhc2goZSx0KXtjb25zdCByPXRoaXMuZ2V0S2V5KGUsdCk7aWYodGhpcy5wb3NpdGlvbnNbcl0pcmV0dXJuIHRoaXMucG9zaXRpb25zW3JdO2NvbnN0IG49XCJyb3VuZFwiPT09dCxpPW4/NzowLG89MippKzE7aWYodGhpcy5uZXh0Um93K28+dGhpcy5oZWlnaHQpcmV0dXJuIFYoXCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlXCIpLG51bGw7MD09PWUubGVuZ3RoJiZlLnB1c2goMSk7bGV0IGE9MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPDAmJihWKFwiTmVnYXRpdmUgdmFsdWUgaXMgZm91bmQgaW4gbGluZSBkYXNoYXJyYXksIHJlcGxhY2luZyB2YWx1ZXMgd2l0aCAwXCIpLGVbdF09MCksYSs9ZVt0XTtpZigwIT09YSl7Y29uc3Qgcj10aGlzLndpZHRoL2Esbz10aGlzLmdldERhc2hSYW5nZXMoZSx0aGlzLndpZHRoLHIpO24/dGhpcy5hZGRSb3VuZERhc2gobyxyLGkpOnRoaXMuYWRkUmVndWxhckRhc2gobyxcInNxdWFyZVwiPT09dD8uNSpyOjApfWNvbnN0IHM9dGhpcy5uZXh0Um93K2k7dGhpcy5uZXh0Um93Kz1vO2NvbnN0IGw9e3RsOltzLGldLGJyOlthLDBdfTtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbcl09bCxsfX1JaShXZixcIkxpbmVBdGxhc1wiKTtjbGFzcyBYZntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt9LHI9W107Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3QgaT1lW25dLG89dFtuXT17fTtmb3IoY29uc3QgZSBpbiBpLmdseXBocyl7Y29uc3QgdD1pLmdseXBoc1srZV07aWYoIXR8fDA9PT10LmJpdG1hcC53aWR0aHx8MD09PXQuYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCBuPXQubWV0cmljcy5sb2NhbEdseXBoPzI6MSxhPXt4OjAseTowLHc6dC5iaXRtYXAud2lkdGgrMipuLGg6dC5iaXRtYXAuaGVpZ2h0KzIqbn07ci5wdXNoKGEpLG9bZV09YX19Y29uc3R7dzpuLGg6aX09R2gociksbz1uZXcgaGMoe3dpZHRoOm58fDEsaGVpZ2h0Oml8fDF9KTtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl07Zm9yKGNvbnN0IGUgaW4gbi5nbHlwaHMpe2NvbnN0IGk9bi5nbHlwaHNbK2VdO2lmKCFpfHwwPT09aS5iaXRtYXAud2lkdGh8fDA9PT1pLmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3QgYT10W3JdW2VdLHM9aS5tZXRyaWNzLmxvY2FsR2x5cGg/MjoxO2hjLmNvcHkoaS5iaXRtYXAsbyx7eDowLHk6MH0se3g6YS54K3MseTphLnkrc30saS5iaXRtYXApfX10aGlzLmltYWdlPW8sdGhpcy5wb3NpdGlvbnM9dH19SWkoWGYsXCJHbHlwaEF0bGFzXCIpO2NsYXNzIEhme2NvbnN0cnVjdG9yKGUpe3RoaXMudGlsZUlEPW5ldyBqdShlLnRpbGVJRC5vdmVyc2NhbGVkWixlLnRpbGVJRC53cmFwLGUudGlsZUlELmNhbm9uaWNhbC56LGUudGlsZUlELmNhbm9uaWNhbC54LGUudGlsZUlELmNhbm9uaWNhbC55KSx0aGlzLnRpbGVab29tPWUudGlsZVpvb20sdGhpcy51aWQ9ZS51aWQsdGhpcy56b29tPWUuem9vbSx0aGlzLmNhbm9uaWNhbD1lLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx0aGlzLnRpbGVTaXplPWUudGlsZVNpemUsdGhpcy5zb3VyY2U9ZS5zb3VyY2UsdGhpcy5vdmVyc2NhbGluZz10aGlzLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hIWUuY29sbGVjdFJlc291cmNlVGltaW5nLHRoaXMucmV0dXJuRGVwZW5kZW5jaWVzPSEhZS5yZXR1cm5EZXBlbmRlbmNpZXMsdGhpcy5wcm9tb3RlSWQ9ZS5wcm9tb3RlSWQsdGhpcy5lbmFibGVUZXJyYWluPSEhZS5lbmFibGVUZXJyYWluLHRoaXMuaXNTeW1ib2xUaWxlPWUuaXNTeW1ib2xUaWxlLHRoaXMudGlsZVRyYW5zZm9ybT1icChlLnRpbGVJRC5jYW5vbmljYWwsZS5wcm9qZWN0aW9uKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9ufXBhcnNlKGUsdCxyLG4saSl7dGhpcy5zdGF0dXM9XCJwYXJzaW5nXCIsdGhpcy5kYXRhPWUsdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgU2E7Y29uc3Qgbz1uZXcgZGYoT2JqZWN0LmtleXMoZS5sYXllcnMpLnNvcnQoKSksYT1uZXcgcWYodGhpcy50aWxlSUQsdGhpcy5wcm9tb3RlSWQpO2EuYnVja2V0TGF5ZXJJRHM9W107Y29uc3Qgcz17fSxsPW5ldyBXZigyNTYsMjU2KSxjPXtmZWF0dXJlSW5kZXg6YSxpY29uRGVwZW5kZW5jaWVzOnt9LHBhdHRlcm5EZXBlbmRlbmNpZXM6e30sZ2x5cGhEZXBlbmRlbmNpZXM6e30sbGluZUF0bGFzOmwsYXZhaWxhYmxlSW1hZ2VzOnJ9LHU9dC5mYW1pbGllc0J5U291cmNlW3RoaXMuc291cmNlXTtmb3IoY29uc3QgdCBpbiB1KXtjb25zdCBuPWUubGF5ZXJzW3RdO2lmKCFuKWNvbnRpbnVlO2xldCBpPSExLGw9ITE7Zm9yKGNvbnN0IGUgb2YgdVt0XSlcInN5bWJvbFwiPT09ZVswXS50eXBlP2k9ITA6bD0hMDtpZighMD09PXRoaXMuaXNTeW1ib2xUaWxlJiYhaSljb250aW51ZTtpZighMT09PXRoaXMuaXNTeW1ib2xUaWxlJiYhbCljb250aW51ZTsxPT09bi52ZXJzaW9uJiZWKGBWZWN0b3IgdGlsZSBzb3VyY2UgXCIke3RoaXMuc291cmNlfVwiIGxheWVyIFwiJHt0fVwiIGRvZXMgbm90IHVzZSB2ZWN0b3IgdGlsZSBzcGVjIHYyIGFuZCB0aGVyZWZvcmUgbWF5IGhhdmUgc29tZSByZW5kZXJpbmcgZXJyb3JzLmApO2NvbnN0IGg9by5lbmNvZGUodCksZD1bXTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgcj1uLmZlYXR1cmUoZSksaT1hLmdldElkKHIsdCk7ZC5wdXNoKHtmZWF0dXJlOnIsaWQ6aSxpbmRleDplLHNvdXJjZUxheWVySW5kZXg6aH0pfWZvcihjb25zdCBlIG9mIHVbdF0pe2NvbnN0IHQ9ZVswXTt2b2lkIDAhPT10aGlzLmlzU3ltYm9sVGlsZSYmXCJzeW1ib2xcIj09PXQudHlwZSE9PXRoaXMuaXNTeW1ib2xUaWxlfHx0Lm1pbnpvb20mJnRoaXMuem9vbTxNYXRoLmZsb29yKHQubWluem9vbSl8fHQubWF4em9vbSYmdGhpcy56b29tPj10Lm1heHpvb218fFwibm9uZVwiIT09dC52aXNpYmlsaXR5JiYoWWYoZSx0aGlzLnpvb20sciksKHNbdC5pZF09dC5jcmVhdGVCdWNrZXQoe2luZGV4OmEuYnVja2V0TGF5ZXJJRHMubGVuZ3RoLGxheWVyczplLHpvb206dGhpcy56b29tLGNhbm9uaWNhbDp0aGlzLmNhbm9uaWNhbCxwaXhlbFJhdGlvOnRoaXMucGl4ZWxSYXRpbyxvdmVyc2NhbGluZzp0aGlzLm92ZXJzY2FsaW5nLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksc291cmNlTGF5ZXJJbmRleDpoLHNvdXJjZUlEOnRoaXMuc291cmNlLGVuYWJsZVRlcnJhaW46dGhpcy5lbmFibGVUZXJyYWluLHByb2plY3Rpb246dGhpcy5wcm9qZWN0aW9uLnNwZWMsYXZhaWxhYmxlSW1hZ2VzOnJ9KSkucG9wdWxhdGUoZCxjLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pLGEuYnVja2V0TGF5ZXJJRHMucHVzaChlLm1hcChlPT5lLmlkKSkpfX1sZXQgaCxkLHAsZjtsLnRyaW0oKTtjb25zdCBtPXt0eXBlOlwibWF5YmVQcmVwYXJlXCIsaXNTeW1ib2xUaWxlOnRoaXMuaXNTeW1ib2xUaWxlLHpvb206dGhpcy56b29tfSxnPUYoYy5nbHlwaERlcGVuZGVuY2llcyxlPT5PYmplY3Qua2V5cyhlKS5tYXAoTnVtYmVyKSk7T2JqZWN0LmtleXMoZykubGVuZ3RoP24uc2VuZChcImdldEdseXBoc1wiLHt1aWQ6dGhpcy51aWQsc3RhY2tzOmd9LChlLHQpPT57aHx8KGg9ZSxkPXQsdi5jYWxsKHRoaXMpKX0sdm9pZCAwLCExLG0pOmQ9e307Y29uc3QgXz1PYmplY3Qua2V5cyhjLmljb25EZXBlbmRlbmNpZXMpO18ubGVuZ3RoP24uc2VuZChcImdldEltYWdlc1wiLHtpY29uczpfLHNvdXJjZTp0aGlzLnNvdXJjZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcImljb25zXCJ9LChlLHQpPT57aHx8KGg9ZSxwPXQsdi5jYWxsKHRoaXMpKX0sdm9pZCAwLCExLG0pOnA9e307Y29uc3QgeT1PYmplY3Qua2V5cyhjLnBhdHRlcm5EZXBlbmRlbmNpZXMpO2Z1bmN0aW9uIHYoKXtpZihoKXJldHVybiBpKGgpO2lmKGQmJnAmJmYpe2NvbnN0IGU9bmV3IFhmKGQpLHQ9bmV3IFpoKHAsZik7Zm9yKGNvbnN0IG4gaW4gcyl7Y29uc3QgaT1zW25dO2kgaW5zdGFuY2VvZiBLcD8oWWYoaS5sYXllcnMsdGhpcy56b29tLHIpLERkKGksZCxlLnBvc2l0aW9ucyxwLHQuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxyLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVab29tLHRoaXMucHJvamVjdGlvbikpOmkuaGFzUGF0dGVybiYmKGkgaW5zdGFuY2VvZiBLdXx8aSBpbnN0YW5jZW9mIEpjfHxpIGluc3RhbmNlb2YgU3UpJiYoWWYoaS5sYXllcnMsdGhpcy56b29tLHIpLGkuYWRkRmVhdHVyZXMoYyx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdC5wYXR0ZXJuUG9zaXRpb25zLHIsdGhpcy50aWxlVHJhbnNmb3JtKSl9dGhpcy5zdGF0dXM9XCJkb25lXCIsaShudWxsLHtidWNrZXRzOkEocykuZmlsdGVyKGU9PiFlLmlzRW1wdHkoKSksZmVhdHVyZUluZGV4OmEsY29sbGlzaW9uQm94QXJyYXk6dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxnbHlwaEF0bGFzSW1hZ2U6ZS5pbWFnZSxsaW5lQXRsYXM6bCxpbWFnZUF0bGFzOnQsZ2x5cGhNYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/ZDpudWxsLGljb25NYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/cDpudWxsLGdseXBoUG9zaXRpb25zOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP2UucG9zaXRpb25zOm51bGx9KX19eS5sZW5ndGg/bi5zZW5kKFwiZ2V0SW1hZ2VzXCIse2ljb25zOnksc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwicGF0dGVybnNcIn0sKGUsdCk9PntofHwoaD1lLGY9dCx2LmNhbGwodGhpcykpfSx2b2lkIDAsITEsbSk6Zj17fSx2LmNhbGwodGhpcyl9fWZ1bmN0aW9uIFlmKGUsdCxyKXtjb25zdCBuPW5ldyBJbyh0KTtmb3IoY29uc3QgdCBvZiBlKXQucmVjYWxjdWxhdGUobixyKX1jbGFzcyBLZntjb25zdHJ1Y3RvcihlKXt0aGlzLmVudHJpZXM9e30sdGhpcy5zY2hlZHVsZXI9ZX1yZXF1ZXN0KGUsdCxyLG4pe2NvbnN0IGk9dGhpcy5lbnRyaWVzW2VdPXRoaXMuZW50cmllc1tlXXx8e2NhbGxiYWNrczpbXX07aWYoaS5yZXN1bHQpe2NvbnN0W2Uscl09aS5yZXN1bHQ7cmV0dXJuIHRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKT0+e24oZSxyKX0sdCk6bihlLHIpLCgpPT57fX1yZXR1cm4gaS5jYWxsYmFja3MucHVzaChuKSxpLmNhbmNlbHx8KGkuY2FuY2VsPXIoKHIsbik9PntpLnJlc3VsdD1bcixuXTtmb3IoY29uc3QgZSBvZiBpLmNhbGxiYWNrcyl0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoKCk9PntlKHIsbil9LHQpOmUocixuKTtzZXRUaW1lb3V0KCgpPT5kZWxldGUgdGhpcy5lbnRyaWVzW2VdLDNlMyl9KSksKCk9PntpLnJlc3VsdHx8KGkuY2FsbGJhY2tzPWkuY2FsbGJhY2tzLmZpbHRlcihlPT5lIT09biksaS5jYWxsYmFja3MubGVuZ3RofHwoaS5jYW5jZWwoKSxkZWxldGUgdGhpcy5lbnRyaWVzW2VdKSl9fX1mdW5jdGlvbiBKZihlLHQscil7Y29uc3Qgbj1KU09OLnN0cmluZ2lmeShlLnJlcXVlc3QpO3JldHVybiBlLmRhdGEmJih0aGlzLmRlZHVwZWQuZW50cmllc1tuXT17cmVzdWx0OltudWxsLGUuZGF0YV19KSx0aGlzLmRlZHVwZWQucmVxdWVzdChuLHt0eXBlOlwicGFyc2VUaWxlXCIsaXNTeW1ib2xUaWxlOmUuaXNTeW1ib2xUaWxlLHpvb206ZS50aWxlWm9vbX0sdD0+e2NvbnN0IG49dWUoZS5yZXF1ZXN0LChlLG4saSxvKT0+e2U/dChlKTpuJiZ0KG51bGwse3ZlY3RvclRpbGU6cj92b2lkIDA6bmV3IF91KG5ldyB5aChuKSkscmF3RGF0YTpuLGNhY2hlQ29udHJvbDppLGV4cGlyZXM6b30pfSk7cmV0dXJuKCk9PntuLmNhbmNlbCgpLHQoKX19LHQpfWUuQVJSQVlfVFlQRT1obCxlLkFVVEhfRVJSX01TRz1nZSxlLkFhYmI9dGMsZS5BY3Rvcj1jbGFzc3tjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy50YXJnZXQ9ZSx0aGlzLnBhcmVudD10LHRoaXMubWFwSWQ9bix0aGlzLmNhbGxiYWNrcz17fSx0aGlzLmNhbmNlbENhbGxiYWNrcz17fSxPKFtcInJlY2VpdmVcIl0sdGhpcyksdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpLHRoaXMuZ2xvYmFsU2NvcGU9WigpP2U6cix0aGlzLnNjaGVkdWxlcj1uZXcgaGZ9c2VuZChlLHQscixuLGk9ITEsbyl7Y29uc3QgYT1NYXRoLnJvdW5kKDFlMTgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygwLDEwKTtyJiYoci5tZXRhZGF0YT1vLHRoaXMuY2FsbGJhY2tzW2FdPXIpO2NvbnN0IHM9WCh0aGlzLmdsb2JhbFNjb3BlKT92b2lkIDA6W107cmV0dXJuIHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDphLHR5cGU6ZSxoYXNDYWxsYmFjazohIXIsdGFyZ2V0TWFwSWQ6bixtdXN0UXVldWU6aSxzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGRhdGE6RGkodCxzKX0scykse2NhbmNlbDooKT0+e3ImJmRlbGV0ZSB0aGlzLmNhbGxiYWNrc1thXSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6YSx0eXBlOlwiPGNhbmNlbD5cIix0YXJnZXRNYXBJZDpuLHNvdXJjZU1hcElkOnRoaXMubWFwSWR9KX19fXJlY2VpdmUoZSl7Y29uc3QgdD1lLmRhdGEscj10LmlkO2lmKHImJighdC50YXJnZXRNYXBJZHx8dGhpcy5tYXBJZD09PXQudGFyZ2V0TWFwSWQpKWlmKFwiPGNhbmNlbD5cIj09PXQudHlwZSl7Y29uc3QgZT10aGlzLmNhbmNlbENhbGxiYWNrc1tyXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3Nbcl0sZSYmZS5jYW5jZWwoKX1lbHNlIGlmKHQubXVzdFF1ZXVlfHxaKCkpe2NvbnN0IGU9dGhpcy5jYWxsYmFja3Nbcl07dGhpcy5jYW5jZWxDYWxsYmFja3Nbcl09dGhpcy5zY2hlZHVsZXIuYWRkKCgpPT50aGlzLnByb2Nlc3NUYXNrKHIsdCksZSYmZS5tZXRhZGF0YXx8e3R5cGU6XCJtZXNzYWdlXCJ9KX1lbHNlIHRoaXMucHJvY2Vzc1Rhc2socix0KX1wcm9jZXNzVGFzayhlLHQpe2lmKFwiPHJlc3BvbnNlPlwiPT09dC50eXBlKXtjb25zdCByPXRoaXMuY2FsbGJhY2tzW2VdO2RlbGV0ZSB0aGlzLmNhbGxiYWNrc1tlXSxyJiYodC5lcnJvcj9yKFJpKHQuZXJyb3IpKTpyKG51bGwsUmkodC5kYXRhKSkpfWVsc2V7Y29uc3Qgcj1YKHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXSxuPXQuaGFzQ2FsbGJhY2s/KHQsbik9PntkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3NbZV0sdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOmUsdHlwZTpcIjxyZXNwb25zZT5cIixzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGVycm9yOnQ/RGkodCk6bnVsbCxkYXRhOkRpKG4scil9LHIpfTplPT57fSxpPVJpKHQuZGF0YSk7aWYodGhpcy5wYXJlbnRbdC50eXBlXSl0aGlzLnBhcmVudFt0LnR5cGVdKHQuc291cmNlTWFwSWQsaSxuKTtlbHNlIGlmKHRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZSl7Y29uc3QgZT10LnR5cGUuc3BsaXQoXCIuXCIpO3RoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZSh0LnNvdXJjZU1hcElkLGVbMF0saS5zb3VyY2UpW2VbMV1dKGksbil9ZWxzZSBuKG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uIFwiK3QudHlwZSkpfX1yZW1vdmUoKXt0aGlzLnNjaGVkdWxlci5yZW1vdmUoKSx0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSl9fSxlLkNhbm9uaWNhbFRpbGVJRD1CdSxlLkNvbG9yPU10LGUuQ29sb3JNb2RlPUJmLGUuQ3VsbEZhY2VNb2RlPUZmLGUuREVNRGF0YT1EZixlLkRhdGFDb25zdGFudFByb3BlcnR5PWpvLGUuRGVkdXBlZFJlcXVlc3Q9S2YsZS5EZXB0aE1vZGU9TGYsZS5FWFRFTlQ9dnMsZS5FbGV2YXRpb249Y2xhc3N7aXNEYXRhQXZhaWxhYmxlQXRQb2ludChlKXtjb25zdCB0PXRoaXMuX3NvdXJjZSgpO2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKXx8IXR8fGUueTwwfHxlLnk+MSlyZXR1cm4hMTtjb25zdCByPXQuZ2V0U291cmNlKCkubWF4em9vbSxuPTE8PHIsaT1NYXRoLmZsb29yKGUueCksbz1NYXRoLmZsb29yKChlLngtaSkqbiksYT1NYXRoLmZsb29yKGUueSpuKSxzPXRoaXMuZmluZERFTVRpbGVGb3IobmV3IGp1KHIsaSxyLG8sYSkpO3JldHVybiEoIXN8fCFzLmRlbSl9Z2V0QXRQb2ludE9yWmVybyhlLHQ9MCl7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludChlLHQpfHwwfWdldEF0UG9pbnQoZSx0LHI9ITApe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gbnVsbDtudWxsPT10JiYodD1udWxsKTtjb25zdCBuPXRoaXMuX3NvdXJjZSgpO2lmKCFuKXJldHVybiB0O2lmKGUueTwwfHxlLnk+MSlyZXR1cm4gdDtjb25zdCBpPW4uZ2V0U291cmNlKCkubWF4em9vbSxvPTE8PGksYT1NYXRoLmZsb29yKGUueCkscz1lLngtYSxsPW5ldyBqdShpLGEsaSxNYXRoLmZsb29yKHMqbyksTWF0aC5mbG9vcihlLnkqbykpLGM9dGhpcy5maW5kREVNVGlsZUZvcihsKTtpZighY3x8IWMuZGVtKXJldHVybiB0O2NvbnN0IHU9Yy5kZW0saD0xPDxjLnRpbGVJRC5jYW5vbmljYWwueixkPShzKmgtYy50aWxlSUQuY2Fub25pY2FsLngpKnUuZGltLHA9KGUueSpoLWMudGlsZUlELmNhbm9uaWNhbC55KSp1LmRpbSxmPU1hdGguZmxvb3IoZCksbT1NYXRoLmZsb29yKHApO3JldHVybihyP3RoaXMuZXhhZ2dlcmF0aW9uKCk6MSkqQ3IoQ3IodS5nZXQoZixtKSx1LmdldChmLG0rMSkscC1tKSxDcih1LmdldChmKzEsbSksdS5nZXQoZisxLG0rMSkscC1tKSxkLWYpfWdldEF0VGlsZU9mZnNldChlLHQscil7Y29uc3Qgbj0xPDxlLmNhbm9uaWNhbC56O3JldHVybiB0aGlzLmdldEF0UG9pbnRPclplcm8obmV3IERzKGUud3JhcCsoZS5jYW5vbmljYWwueCt0L3ZzKS9uLChlLmNhbm9uaWNhbC55K3IvdnMpL24pKX1nZXRBdFRpbGVPZmZzZXRGdW5jKGUsdCxyLG4pe3JldHVybiBpPT57Y29uc3Qgbz10aGlzLmdldEF0VGlsZU9mZnNldChlLGkueCxpLnkpLGE9bi51cFZlY3RvcihlLmNhbm9uaWNhbCxpLngsaS55KTtyZXR1cm4gRGwoYSxhLG8qbi51cFZlY3RvclNjYWxlKGUuY2Fub25pY2FsLHQscikubWV0ZXJzVG9UaWxlKSxhfX1nZXRGb3JUaWxlUG9pbnRzKGUsdCxyLG4pe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4hMTtjb25zdCBpPUdmLmNyZWF0ZSh0aGlzLGUsbik7cmV0dXJuISFpJiYodC5mb3JFYWNoKGU9PntlWzJdPXRoaXMuZXhhZ2dlcmF0aW9uKCkqaS5nZXRFbGV2YXRpb25BdChlWzBdLGVbMV0scil9KSwhMCl9Z2V0TWluTWF4Rm9yVGlsZShlKXtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmZpbmRERU1UaWxlRm9yKGUpO2lmKCF0fHwhdC5kZW0pcmV0dXJuIG51bGw7Y29uc3Qgcj10LmRlbS50cmVlLG49dC50aWxlSUQsaT0xPDxlLmNhbm9uaWNhbC56LW4uY2Fub25pY2FsLno7bGV0IG89ZS5jYW5vbmljYWwueC9pLW4uY2Fub25pY2FsLngsYT1lLmNhbm9uaWNhbC55L2ktbi5jYW5vbmljYWwueSxzPTA7Zm9yKGxldCB0PTA7dDxlLmNhbm9uaWNhbC56LW4uY2Fub25pY2FsLnomJiFyLmxlYXZlc1tzXTt0Kyspe28qPTIsYSo9Mjtjb25zdCBlPTIqTWF0aC5mbG9vcihhKStNYXRoLmZsb29yKG8pO3M9ci5jaGlsZE9mZnNldHNbc10rZSxvJT0xLGElPTF9cmV0dXJue21pbjp0aGlzLmV4YWdnZXJhdGlvbigpKnIubWluaW11bXNbc10sbWF4OnRoaXMuZXhhZ2dlcmF0aW9uKCkqci5tYXhpbXVtc1tzXX19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9cmF5Y2FzdChlLHQscil7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXBvaW50Q29vcmRpbmF0ZShlKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9X3NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1pc1VzaW5nTW9ja1NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1leGFnZ2VyYXRpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZmluZERFTVRpbGVGb3IoZSl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWdldCB2aXNpYmxlRGVtVGlsZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJHZXR0ZXIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy5cIil9fSxlLkVycm9yRXZlbnQ9WGUsZS5FdmFsdWF0aW9uUGFyYW1ldGVycz1JbyxlLkV2ZW50PVdlLGUuRXZlbnRlZD1IZSxlLkZpbGxFeHRydXNpb25CdWNrZXQ9U3UsZS5GcnVzdHVtPWVjLGUuRnJ1c3R1bUNvcm5lcnM9UWwsZS5HTE9CRV9NRVRFUlNfVE9fRUNFRj1XZCxlLkdMT0JFX1JBRElVUz0kZCxlLkdMT0JFX1NDQUxFX01BVENIX0xBVElUVURFPTQ1LGUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYPTYsZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU49NSxlLkdsb2JlU2hhcmVkQnVmZmVycz1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9jcmVhdGVHcmlkKGUpLHRoaXMuX2NyZWF0ZVBvbGVzKGUpfWRlc3Ryb3koKXt0aGlzLl9wb2xlSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dyaWRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dyaWRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9wb2xlU291dGhWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3BvbGVTZWdtZW50cyllLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9ncmlkU2VnbWVudHMpZS5kZXN0cm95KCk7aWYodGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIpe3RoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl93aXJlZnJhbWVTZWdtZW50cyllLmRlc3Ryb3koKX19X2NyZWF0ZUdyaWQoZSl7Y29uc3QgdD1uZXcgS28scj1uZXcgcGEsbj02NTtmb3IobGV0IGU9MDtlPG47ZSsrKWZvcihsZXQgcj0wO3I8bjtyKyspdC5lbXBsYWNlQmFjayhyLGUpO3RoaXMuX2dyaWRTZWdtZW50cz1bXTtmb3IobGV0IGU9MCx0PTA7ZTxYZC5sZW5ndGg7ZSsrKXtjb25zdCBpPVhkW2VdO2ZvcihsZXQgZT0wO2U8aTtlKyspZm9yKGxldCB0PTA7dDw2NDt0Kyspe2NvbnN0IGk9ZSpuK3Q7ci5lbXBsYWNlQmFjayhpKzEsaSxpK24pLHIuZW1wbGFjZUJhY2soaStuLGkrbisxLGkrMSl9Y29uc3Qgbz02NCppKjI7dGhpcy5fZ3JpZFNlZ21lbnRzLnB1c2goeXMuc2ltcGxlU2VnbWVudCgwLHQsKGkrMSkqbixvKSksdCs9b310aGlzLl9ncmlkQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHQsWmQubWVtYmVycyksdGhpcy5fZ3JpZEluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIociwhMCl9X2NyZWF0ZVBvbGVzKGUpe2NvbnN0IHQ9bmV3IHBhO2ZvcihsZXQgZT0wO2U8PTY0O2UrKyl0LmVtcGxhY2VCYWNrKDAsZSsxLGUrMik7dGhpcy5fcG9sZUluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodCwhMCk7Y29uc3Qgcj1uZXcgX2Esbj1uZXcgX2E7dGhpcy5fcG9sZVNlZ21lbnRzPVtdO2ZvcihsZXQgZT0wLHQ9MDtlPDU7ZSsrKXtjb25zdCBpPTM2MC8oMTw8ZSk7ci5lbXBsYWNlQmFjaygwLC0kZCwwLC41LDApLG4uZW1wbGFjZUJhY2soMCwtJGQsMCwuNSwxKTtmb3IobGV0IGU9MDtlPD02NDtlKyspe2NvbnN0IHQ9ZS82NCxvPUNyKDAsaSx0KSxbYSxzLGxdPXNwKHlwLHZwLG8sJGQpO3IuZW1wbGFjZUJhY2soYSxzLGwsdCwwKSxuLmVtcGxhY2VCYWNrKGEscyxsLHQsMSl9dGhpcy5fcG9sZVNlZ21lbnRzLnB1c2goeXMuc2ltcGxlU2VnbWVudCh0LDAsNjYsNjQpKSx0Kz02Nn10aGlzLl9wb2xlTm9ydGhWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocixHZCwhMSksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKG4sR2QsITEpfWdldEdyaWRCdWZmZXJzKGUpe3JldHVyblt0aGlzLl9ncmlkQnVmZmVyLHRoaXMuX2dyaWRJbmRleEJ1ZmZlcix0aGlzLl9ncmlkU2VnbWVudHNbZV1dfWdldFBvbGVCdWZmZXJzKGUpe3JldHVyblt0aGlzLl9wb2xlTm9ydGhWZXJ0ZXhCdWZmZXIsdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLHRoaXMuX3BvbGVJbmRleEJ1ZmZlcix0aGlzLl9wb2xlU2VnbWVudHNbZV1dfWdldFdpcmVmYW1lQnVmZmVycyhlLHQpe2lmKCF0aGlzLl93aXJlZnJhbWVTZWdtZW50cyl7Y29uc3QgdD1uZXcgdmEscj02NCxuPXIrMTt0aGlzLl93aXJlZnJhbWVTZWdtZW50cz1bXTtmb3IobGV0IGU9MCxpPTA7ZTxYZC5sZW5ndGg7ZSsrKXtjb25zdCBvPVhkW2VdO2ZvcihsZXQgZT0wO2U8bztlKyspZm9yKGxldCBpPTA7aTxyO2krKyl7Y29uc3Qgcj1lKm4raTt0LmVtcGxhY2VCYWNrKHIscisxKSx0LmVtcGxhY2VCYWNrKHIscituKSx0LmVtcGxhY2VCYWNrKHIscituKzEpfWNvbnN0IGE9bypyKjM7dGhpcy5fd2lyZWZyYW1lU2VnbWVudHMucHVzaCh5cy5zaW1wbGVTZWdtZW50KDAsaSwobysxKSpuLGEpKSxpKz1hfXRoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodCl9cmV0dXJuW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIsdGhpcy5fd2lyZWZyYW1lU2VnbWVudHNbdF1dfX0sZS5HbHlwaE1hbmFnZXI9eWQsZS5JbWFnZVBvc2l0aW9uPXFoLGUuTGl2ZVBlcmZvcm1hbmNlVXRpbHM9T2UsZS5MbmdMYXQ9d3MsZS5MbmdMYXRCb3VuZHM9eHMsZS5Mb2NhbEdseXBoTW9kZT1fZCxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERT1QcyxlLk1lcmNhdG9yQ29vcmRpbmF0ZT1EcyxlLk9ORV9FTT0yNCxlLk92ZXJzY2FsZWRUaWxlSUQ9anUsZS5QZXJmb3JtYW5jZU1hcmtlcnM9TGUsZS5Qcm9wZXJ0aWVzPXFvLGUuUkdCQUltYWdlPWRjLGUuUmF5PUpsLGUuUmVxdWVzdE1hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbj1lLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPXQsdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnM9ISFyLHRoaXMuX2NyZWF0ZVNrdVRva2VuKCl9X2NyZWF0ZVNrdVRva2VuKCl7Y29uc3QgZT1mdW5jdGlvbigpe2xldCBlPVwiXCI7Zm9yKGxldCB0PTA7dDwxMDt0KyspZSs9XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiW01hdGguZmxvb3IoNjIqTWF0aC5yYW5kb20oKSldO3JldHVybnt0b2tlbjpbXCIxXCIsZCxlXS5qb2luKFwiXCIpLHRva2VuRXhwaXJlc0F0OkRhdGUubm93KCkrNDMyZTV9fSgpO3RoaXMuX3NrdVRva2VuPWUudG9rZW4sdGhpcy5fc2t1VG9rZW5FeHBpcmVzQXQ9ZS50b2tlbkV4cGlyZXNBdH1faXNTa3VUb2tlbkV4cGlyZWQoKXtyZXR1cm4gRGF0ZS5ub3coKT50aGlzLl9za3VUb2tlbkV4cGlyZXNBdH10cmFuc2Zvcm1SZXF1ZXN0KGUsdCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbiYmdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuKGUsdCl8fHt1cmw6ZX19bm9ybWFsaXplU3R5bGVVUkwoZSx0KXtpZighX2UoZSkpcmV0dXJuIGU7Y29uc3Qgcj13ZShlKTtyZXR1cm4gci5wYXRoPVwiL3N0eWxlcy92MVwiK3IucGF0aCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fHQpfW5vcm1hbGl6ZUdseXBoc1VSTChlLHQpe2lmKCFfZShlKSlyZXR1cm4gZTtjb25zdCByPXdlKGUpO3JldHVybiByLnBhdGg9XCIvZm9udHMvdjFcIityLnBhdGgsdGhpcy5fbWFrZUFQSVVSTChyLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVTb3VyY2VVUkwoZSx0LHIsbil7aWYoIV9lKGUpKXJldHVybiBlO2NvbnN0IGk9d2UoZSk7cmV0dXJuIGkucGF0aD1gL3Y0LyR7aS5hdXRob3JpdHl9Lmpzb25gLGkucGFyYW1zLnB1c2goXCJzZWN1cmVcIiksciYmaS5wYXJhbXMucHVzaChcImxhbmd1YWdlPVwiK3IpLG4mJmkucGFyYW1zLnB1c2goXCJ3b3JsZHZpZXc9XCIrbiksdGhpcy5fbWFrZUFQSVVSTChpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVTcHJpdGVVUkwoZSx0LHIsbil7Y29uc3QgaT13ZShlKTtyZXR1cm4gX2UoZSk/KGkucGF0aD1gL3N0eWxlcy92MSR7aS5wYXRofS9zcHJpdGUke3R9JHtyfWAsdGhpcy5fbWFrZUFQSVVSTChpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxuKSk6KGkucGF0aCs9YCR7dH0ke3J9YCxUZShpKSl9bm9ybWFsaXplVGlsZVVSTChlLHQscil7aWYodGhpcy5faXNTa3VUb2tlbkV4cGlyZWQoKSYmdGhpcy5fY3JlYXRlU2t1VG9rZW4oKSxlJiYhX2UoZSkpcmV0dXJuIGU7Y29uc3Qgbj13ZShlKTtuLnBhdGg9bi5wYXRoLnJlcGxhY2UoLyhcXC4ocG5nfGpwZylcXGQqKSg/PSQpLyxgJHt0fHxyJiZcInJhc3RlclwiIT09bi5hdXRob3JpdHkmJjUxMj09PXI/XCJAMnhcIjpcIlwifSR7YS5zdXBwb3J0ZWQ/XCIud2VicFwiOlwiJDFcIn1gKSxcInJhc3RlclwiPT09bi5hdXRob3JpdHk/bi5wYXRoPWAvJHtvLlJBU1RFUl9VUkxfUFJFRklYfSR7bi5wYXRofWA6KG4ucGF0aD1uLnBhdGgucmVwbGFjZSgvXi4rXFwvdjRcXC8vLFwiL1wiKSxuLnBhdGg9YC8ke28uVElMRV9VUkxfVkVSU0lPTn0ke24ucGF0aH1gKTtjb25zdCBpPXRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQubWF0Y2goL15hY2Nlc3NfdG9rZW49KC4qKSQvKTtpZihlKXJldHVybiBlWzFdfXJldHVybiBudWxsfShuLnBhcmFtcyl8fG8uQUNDRVNTX1RPS0VOO3JldHVybiBvLlJFUVVJUkVfQUNDRVNTX1RPS0VOJiZpJiZ0aGlzLl9za3VUb2tlbiYmbi5wYXJhbXMucHVzaChcInNrdT1cIit0aGlzLl9za3VUb2tlbiksdGhpcy5fbWFrZUFQSVVSTChuLGkpfWNhbm9uaWNhbGl6ZVRpbGVVUkwoZSx0KXtjb25zdCByPXdlKGUpO2lmKCFyLnBhdGgubWF0Y2goL14oXFwvdjRcXC98XFwvcmFzdGVyXFwvdjFcXC8pLyl8fCFyLnBhdGgubWF0Y2goL1xcLltcXHddKyQvKSlyZXR1cm4gZTtsZXQgbj1cIm1hcGJveDovL1wiO3IucGF0aC5tYXRjaCgvXlxcL3Jhc3RlclxcL3YxXFwvLyk/bis9XCJyYXN0ZXIvXCIrci5wYXRoLnJlcGxhY2UoYC8ke28uUkFTVEVSX1VSTF9QUkVGSVh9L2AsXCJcIik6bis9XCJ0aWxlcy9cIityLnBhdGgucmVwbGFjZShgLyR7by5USUxFX1VSTF9WRVJTSU9OfS9gLFwiXCIpO2xldCBpPXIucGFyYW1zO3JldHVybiB0JiYoaT1pLmZpbHRlcihlPT4hZS5tYXRjaCgvXmFjY2Vzc190b2tlbj0vKSkpLGkubGVuZ3RoJiYobis9XCI/XCIraS5qb2luKFwiJlwiKSksbn1jYW5vbmljYWxpemVUaWxlc2V0KGUsdCl7Y29uc3Qgcj0hIXQmJl9lKHQpLG49W107Zm9yKGNvbnN0IHQgb2YgZS50aWxlc3x8W10peWUodCk/bi5wdXNoKHRoaXMuY2Fub25pY2FsaXplVGlsZVVSTCh0LHIpKTpuLnB1c2godCk7cmV0dXJuIG59X21ha2VBUElVUkwoZSx0KXtjb25zdCByPVwiU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3Blc1wiLG49d2Uoby5BUElfVVJMKTtpZihlLnByb3RvY29sPW4ucHJvdG9jb2wsZS5hdXRob3JpdHk9bi5hdXRob3JpdHksXCJodHRwXCI9PT1lLnByb3RvY29sKXtjb25zdCB0PWUucGFyYW1zLmluZGV4T2YoXCJzZWN1cmVcIik7dD49MCYmZS5wYXJhbXMuc3BsaWNlKHQsMSl9aWYoXCIvXCIhPT1uLnBhdGgmJihlLnBhdGg9YCR7bi5wYXRofSR7ZS5wYXRofWApLCFvLlJFUVVJUkVfQUNDRVNTX1RPS0VOKXJldHVybiBUZShlKTtpZih0PXR8fG8uQUNDRVNTX1RPS0VOLCF0aGlzLl9zaWxlbmNlQXV0aEVycm9ycyl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQW4gQVBJIGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMLiBcIityKTtpZihcInNcIj09PXRbMF0pdGhyb3cgbmV3IEVycm9yKFwiVXNlIGEgcHVibGljIGFjY2VzcyB0b2tlbiAocGsuKikgd2l0aCBNYXBib3ggR0wsIG5vdCBhIHNlY3JldCBhY2Nlc3MgdG9rZW4gKHNrLiopLiBcIityKX1yZXR1cm4gZS5wYXJhbXM9ZS5wYXJhbXMuZmlsdGVyKGU9Pi0xPT09ZS5pbmRleE9mKFwiYWNjZXNzX3Rva2VuXCIpKSxlLnBhcmFtcy5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiKyh0fHxcIlwiKSksVGUoZSl9fSxlLlJlc291cmNlVHlwZT1hZSxlLlNlZ21lbnRWZWN0b3I9eXMsZS5Tb3VyY2VDYWNoZT1qZixlLlN0ZW5jaWxNb2RlPU9mLGUuU3RydWN0QXJyYXlMYXlvdXQxdWkyPXhhLGUuU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNj11YSxlLlN0cnVjdEFycmF5TGF5b3V0Mmk0PUtvLGUuU3RydWN0QXJyYXlMYXlvdXQydWk0PXZhLGUuU3RydWN0QXJyYXlMYXlvdXQzZjEyPWRhLGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2PXBhLGUuU3RydWN0QXJyYXlMYXlvdXQ0aTg9UW8sZS5TdHJ1Y3RBcnJheUxheW91dDVmMjA9X2EsZS5UZXh0dXJlPWNmLGUuVGlsZT13ZixlLlRyYW5zaXRpb25hYmxlPURvLGUuVW5pZm9ybTFmPUhhLGUuVW5pZm9ybTFpPWNsYXNzIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PTB9c2V0KGUsdCxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJnRoaXMuY3VycmVudCE9PXImJih0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm0xaSh0aGlzLmxvY2F0aW9uLHIpKX19LGUuVW5pZm9ybTJmPWNsYXNzIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDBdfXNldChlLHQscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoclswXT09PXRoaXMuY3VycmVudFswXSYmclsxXT09PXRoaXMuY3VycmVudFsxXXx8KHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTJmKHRoaXMubG9jYXRpb24sclswXSxyWzFdKSkpfX0sZS5Vbmlmb3JtM2Y9Y2xhc3MgZXh0ZW5kcyBYYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9WzAsMCwwXX1zZXQoZSx0LHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKHJbMF09PT10aGlzLmN1cnJlbnRbMF0mJnJbMV09PT10aGlzLmN1cnJlbnRbMV0mJnJbMl09PT10aGlzLmN1cnJlbnRbMl18fCh0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm0zZih0aGlzLmxvY2F0aW9uLHJbMF0sclsxXSxyWzJdKSkpfX0sZS5Vbmlmb3JtNGY9WWEsZS5Vbmlmb3JtQ29sb3I9S2EsZS5Vbmlmb3JtTWF0cml4MmY9Y2xhc3MgZXh0ZW5kcyBYYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9ZXN9c2V0KGUsdCxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpZm9yKGxldCBlPTA7ZTw0O2UrKylpZihyW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSxlLlVuaWZvcm1NYXRyaXgzZj1jbGFzcyBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1RYX1zZXQoZSx0LHIpe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSlmb3IobGV0IGU9MDtlPDk7ZSsrKWlmKHJbZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDNmdih0aGlzLmxvY2F0aW9uLCExLHIpO2JyZWFrfX19LGUuVW5pZm9ybU1hdHJpeDRmPWNsYXNzIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PUphfXNldChlLHQscil7aWYodGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpKXtpZihyWzEyXSE9PXRoaXMuY3VycmVudFsxMl18fHJbMF0hPT10aGlzLmN1cnJlbnRbMF0pcmV0dXJuIHRoaXMuY3VycmVudD1yLHZvaWQgdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb24sITEscik7Zm9yKGxldCBlPTE7ZTwxNjtlKyspaWYocltlXSE9PXRoaXMuY3VycmVudFtlXSl7dGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb24sITEscik7YnJlYWt9fX19LGUuVW53cmFwcGVkVGlsZUlEPUZ1LGUuVmFsaWRhdGlvbkVycm9yPXFuLGUuVmVjdG9yVGlsZUZlYXR1cmU9eXUsZS5WZWN0b3JUaWxlV29ya2VyU291cmNlPWNsYXNzIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoZSx0LHIsbixpKXtzdXBlcigpLHRoaXMuYWN0b3I9ZSx0aGlzLmxheWVySW5kZXg9dCx0aGlzLmF2YWlsYWJsZUltYWdlcz1yLHRoaXMubG9hZFZlY3RvckRhdGE9aXx8SmYsdGhpcy5sb2FkaW5nPXt9LHRoaXMubG9hZGVkPXt9LHRoaXMuZGVkdXBlZD1uZXcgS2YoZS5zY2hlZHVsZXIpLHRoaXMuaXNTcHJpdGVMb2FkZWQ9bix0aGlzLnNjaGVkdWxlcj1lLnNjaGVkdWxlcn1sb2FkVGlsZShlLHQpe2NvbnN0IHI9ZS51aWQsbj1lJiZlLnJlcXVlc3QsaT1uJiZuLmNvbGxlY3RSZXNvdXJjZVRpbWluZyxvPXRoaXMubG9hZGluZ1tyXT1uZXcgSGYoZSk7by5hYm9ydD10aGlzLmxvYWRWZWN0b3JEYXRhKGUsKGEscyk9Pntjb25zdCBsPSF0aGlzLmxvYWRpbmdbcl07aWYoZGVsZXRlIHRoaXMubG9hZGluZ1tyXSxsfHxhfHwhcylyZXR1cm4gby5zdGF0dXM9XCJkb25lXCIsbHx8KHRoaXMubG9hZGVkW3JdPW8pLHQoYSk7Y29uc3QgYz1zLnJhd0RhdGEsdT17fTtzLmV4cGlyZXMmJih1LmV4cGlyZXM9cy5leHBpcmVzKSxzLmNhY2hlQ29udHJvbCYmKHUuY2FjaGVDb250cm9sPXMuY2FjaGVDb250cm9sKSxvLnZlY3RvclRpbGU9cy52ZWN0b3JUaWxlfHxuZXcgX3UobmV3IHloKGMpKTtjb25zdCBoPSgpPT57by5wYXJzZShvLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsKGUscik9PntpZihlfHwhcilyZXR1cm4gdChlKTtjb25zdCBvPXt9O2lmKGkpe2NvbnN0IGU9amUobik7ZS5sZW5ndGg+MCYmKG8ucmVzb3VyY2VUaW1pbmc9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpfXQobnVsbCxJKHtyYXdUaWxlRGF0YTpjLnNsaWNlKDApfSxyLHUsbykpfSl9O3RoaXMuaXNTcHJpdGVMb2FkZWQ/aCgpOnRoaXMub25jZShcImlzU3ByaXRlTG9hZGVkXCIsKCk9Pnt0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoaCx7dHlwZTpcInBhcnNlVGlsZVwiLGlzU3ltYm9sVGlsZTplLmlzU3ltYm9sVGlsZSx6b29tOmUudGlsZVpvb219KTpoKCl9KSx0aGlzLmxvYWRlZD10aGlzLmxvYWRlZHx8e30sdGhpcy5sb2FkZWRbcl09b30pfXJlbG9hZFRpbGUoZSx0KXtjb25zdCByPXRoaXMubG9hZGVkLG49ZS51aWQsaT10aGlzO2lmKHImJnJbbl0pe2NvbnN0IG89cltuXTtvLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlcyxvLmVuYWJsZVRlcnJhaW49ISFlLmVuYWJsZVRlcnJhaW4sby5wcm9qZWN0aW9uPWUucHJvamVjdGlvbixvLnRpbGVUcmFuc2Zvcm09YnAoZS50aWxlSUQuY2Fub25pY2FsLGUucHJvamVjdGlvbik7Y29uc3QgYT0oZSxyKT0+e2NvbnN0IG49by5yZWxvYWRDYWxsYmFjaztuJiYoZGVsZXRlIG8ucmVsb2FkQ2FsbGJhY2ssby5wYXJzZShvLnZlY3RvclRpbGUsaS5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLGkuYWN0b3IsbikpLHQoZSxyKX07XCJwYXJzaW5nXCI9PT1vLnN0YXR1cz9vLnJlbG9hZENhbGxiYWNrPWE6XCJkb25lXCI9PT1vLnN0YXR1cyYmKG8udmVjdG9yVGlsZT9vLnBhcnNlKG8udmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsdGhpcy5hY3RvcixhKTphKCkpfX1hYm9ydFRpbGUoZSx0KXtjb25zdCByPWUudWlkLG49dGhpcy5sb2FkaW5nW3JdO24mJihuLmFib3J0JiZuLmFib3J0KCksZGVsZXRlIHRoaXMubG9hZGluZ1tyXSksdCgpfXJlbW92ZVRpbGUoZSx0KXtjb25zdCByPXRoaXMubG9hZGVkLG49ZS51aWQ7ciYmcltuXSYmZGVsZXRlIHJbbl0sdCgpfX0sZS5Xcml0aW5nTW9kZT0kaCxlLlpvb21IaXN0b3J5PUxpLGUuYWRkPWtsLGUuYWRkRHluYW1pY0F0dHJpYnV0ZXM9V3AsZS5hZGpvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXRbNF0scz10WzVdLGw9dFs2XSxjPXRbN10sdT10WzhdO3JldHVybiBlWzBdPWEqdS1zKmMsZVsxXT1pKmMtbip1LGVbMl09bipzLWkqYSxlWzNdPXMqbC1vKnUsZVs0XT1yKnUtaSpsLGVbNV09aSpvLXIqcyxlWzZdPW8qYy1hKmwsZVs3XT1uKmwtcipjLGVbOF09ciphLW4qbyxlfSxlLmFzeW5jQWxsPWssZS5iZXppZXI9VCxlLmJpbmRBbGw9TyxlLmJvdW5kc0F0dHJpYnV0ZXM9eGYsZS5idWZmZXJDb252ZXhQb2x5Z29uPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bXTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1NKG4tMSwtMSxlLmxlbmd0aC0xKSxvPU0obisxLC0xLGUubGVuZ3RoLTEpLGE9ZVtuXSxzPWVbb10sbD1lW2ldLnN1YihhKS51bml0KCksYz1zLnN1YihhKS51bml0KCksdT1jLmFuZ2xlV2l0aFNlcChsLngsbC55KSxoPWwuYWRkKGMpLnVuaXQoKS5tdWx0KC0xKnQvTWF0aC5zaW4odS8yKSk7ci5wdXNoKGEuYWRkKGgpKX1yZXR1cm4gcn0sZS5jYWNoZUVudHJ5UG9zc2libHlBZGRlZD1mdW5jdGlvbihlKXtvZSsrLG9lPnRlJiYoZS5nZXRBY3RvcigpLnNlbmQoXCJlbmZvcmNlQ2FjaGVTaXplTGltaXRcIixlZSksb2U9MCl9LGUuY2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeD1mdW5jdGlvbihlLHQpe2NvbnN0e3g6cix5Om59PWUucG9pbnQsaT1mcChyLG4sZS53b3JsZFNpemUvZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCwwLDApO3JldHVybiBnbChpLGkscHAodHAodCkpKX0sZS5jYWxjdWxhdGVHbG9iZU1hdHJpeD1mdW5jdGlvbihlKXtjb25zdHt4OnQseTpyfT1lLnBvaW50LHtsbmc6bixsYXQ6aX09ZS5fY2VudGVyO3JldHVybiBmcCh0LHIsZS53b3JsZFNpemUsbixpKX0sZS5jYWxjdWxhdGVHbG9iZU1lcmNhdG9yTWF0cml4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5waXhlbHNQZXJNZXRlcixyPXQvTXMoMSxlLmNlbnRlci5sYXQpLG49ZmwobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiBfbChuLG4sW2UucG9pbnQueCxlLnBvaW50LnksMF0pLHlsKG4sbixbcixyLHRdKSxGbG9hdDMyQXJyYXkuZnJvbShuKX0sZS5jaXJjdW1mZXJlbmNlQXRMYXRpdHVkZT1FcyxlLmNsYW1wPVMsZS5jbGVhclRpbGVDYWNoZT1mdW5jdGlvbihlKXtpZighcmUoKSlyZXR1cm47Y29uc3QgdD1yLmNhY2hlcy5kZWxldGUoSyk7ZSYmdC5jYXRjaChlKS50aGVuKCgpPT5lKCkpfSxlLmNsaXBMaW5lPXBkLGUuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGhsKDE2KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzhdPWVbOF0sdFs5XT1lWzldLHRbMTBdPWVbMTBdLHRbMTFdPWVbMTFdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdLHR9LGUuY2xvbmUkMT1VLGUuY29sbGlzaW9uQ2lyY2xlTGF5b3V0PWxoLGUuY29uZmlnPW8sZS5jb25qdWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT10WzNdLGV9LGUuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGhsKDE2KTtyZXR1cm4gaGwhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCksZVswXT0xLGVbNV09MSxlWzEwXT0xLGVbMTVdPTEsZX0sZS5jcmVhdGUkMT1kbCxlLmNyZWF0ZUV4cHJlc3Npb249am4sZS5jcmVhdGVMYXlvdXQ9SG8sZS5jcmVhdGVTdHlsZUxheWVyPWZ1bmN0aW9uKGUpe3JldHVyblwiY3VzdG9tXCI9PT1lLnR5cGU/bmV3IG9mKGUpOm5ldyBsZltlLnR5cGVdKGUpfSxlLmNyb3NzPUJsLGUuZGVnVG9SYWQ9dixlLmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguaHlwb3QodFswXS1lWzBdLHRbMV0tZVsxXSx0WzJdLWVbMl0pfSxlLmRpdj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbMF09dFswXS9yWzBdLGVbMV09dFsxXS9yWzFdLGVbMl09dFsyXS9yWzJdLGV9LGUuZG90PU9sLGUuZWFydGhSYWRpdXM9YnMsZS5lYXNlPUUsZS5lYXNlQ3ViaWNJbk91dD13LGUuZWNlZlRvTGF0TG5nPWZ1bmN0aW9uKFtlLHQscl0pe2NvbnN0IG49TWF0aC5oeXBvdChlLHQsciksaT1NYXRoLmF0YW4yKGUsciksbz0uNSpNYXRoLlBJLU1hdGguYWNvcygtdC9uKTtyZXR1cm4gbmV3IHdzKHgoaSkseChvKSl9LGUuZW1pdFZhbGlkYXRpb25FcnJvcnM9Q2ksZS5lbmRzV2l0aD1CLGUuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0PWZ1bmN0aW9uKGUpe25lKCksSiYmSi50aGVuKHQ9Pnt0LmtleXMoKS50aGVuKHI9Pntmb3IobGV0IG49MDtuPHIubGVuZ3RoLWU7bisrKXQuZGVsZXRlKHJbbl0pfSl9KX0sZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlPWhoLGUuZXZhbHVhdGVTaXplRm9yWm9vbT1kaCxlLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQ9emQsZS5ldmVudGVkPUNvLGUuZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM119LGUuZXhhY3RFcXVhbHMkMT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdfSxlLmV4cG9ydGVkPXFlLGUuZXhwb3J0ZWQkMT1hLGUuZXh0ZW5kPUksZS5leHRlbmQkMT1LZSxlLmZpbGxFeHRydXNpb25IZWlnaHRMaWZ0PXp1LGUuZmlsdGVyT2JqZWN0PWosZS5mcm9tTWF0ND1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbNF0sZVs0XT10WzVdLGVbNV09dFs2XSxlWzZdPXRbOF0sZVs3XT10WzldLGVbOF09dFsxMF0sZX0sZS5mcm9tUXVhdD1mdW5jdGlvbihlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXRbM10sYT1yK3Iscz1uK24sbD1pK2ksYz1yKmEsdT1uKmEsaD1uKnMsZD1pKmEscD1pKnMsZj1pKmwsbT1vKmEsZz1vKnMsXz1vKmw7cmV0dXJuIGVbMF09MS1oLWYsZVsxXT11K18sZVsyXT1kLWcsZVszXT0wLGVbNF09dS1fLGVbNV09MS1jLWYsZVs2XT1wK20sZVs3XT0wLGVbOF09ZCtnLGVbOV09cC1tLGVbMTBdPTEtYy1oLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxlLmZyb21Sb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc2luKHQpLG49TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09bixlWzFdPXIsZVsyXT0wLGVbM109LXIsZVs0XT1uLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSxlLmZyb21TY2FsaW5nPWJsLGUuZnVydGhlc3RUaWxlQ29ybmVyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZSs0NSszNjApJTM2MC85MCklNDtyZXR1cm4gYlt0XX0sZS5nZXRBQUJCUG9pbnRTcXVhcmVEaXN0PWZ1bmN0aW9uKGUsdCxyKXtsZXQgbj0wO2ZvcihsZXQgaT0wO2k8MjsrK2kpe2NvbnN0IG89cj9yW2ldOjA7ZVtpXT5vJiYobis9KGVbaV0tbykqKGVbaV0tbykpLHRbaV08byYmKG4rPShvLXRbaV0pKihvLXRbaV0pKX1yZXR1cm4gbn0sZS5nZXRBbmNob3JBbGlnbm1lbnQ9cmQsZS5nZXRBbmNob3JKdXN0aWZpY2F0aW9uPVJkLGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGUpe2xldCB0PTEvMCxyPTEvMCxuPS0xLzAsaT0tMS8wO2Zvcihjb25zdCBvIG9mIGUpdD1NYXRoLm1pbih0LG8ueCkscj1NYXRoLm1pbihyLG8ueSksbj1NYXRoLm1heChuLG8ueCksaT1NYXRoLm1heChpLG8ueSk7cmV0dXJue21pbjpuZXcgbSh0LHIpLG1heDpuZXcgbShuLGkpfX0sZS5nZXRDb2x1bW49WSxlLmdldEdyaWRNYXRyaXg9ZnVuY3Rpb24oZSx0LHIsbil7Y29uc3QgaT10LmdldE5vcnRoKCksbz10LmdldFNvdXRoKCksYT10LmdldFdlc3QoKSxzPXQuZ2V0RWFzdCgpLGw9MTw8ZS56LGM9cy1hLHU9aS1vLGg9Yy82NCxkPS11L1hkW3JdLHA9WzAsaCwwLGQsMCwwLGksYSwwXTtpZihlLno+MCl7Y29uc3QgZT0xODAvbjtwbChwLHAsW2UvYysxLDAsMCwwLGUvdSsxLDAsLS41KmUvaCwuNSplL2QsMV0pfXJldHVybiBwWzJdPWwscFs1XT1lLngscFs4XT1lLnkscH0sZS5nZXRJbWFnZT1tZSxlLmdldEpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoSShlLHt0eXBlOlwianNvblwifSksdCl9LGUuZ2V0TGF0aXR1ZGluYWxMb2Q9ZnVuY3Rpb24oZSl7Y29uc3QgdD04MC4wNTExMjk7ZT1TKGUsLTgwLjA1MTEyOSx0KS90KjkwO2NvbnN0IHI9TWF0aC5wb3coTWF0aC5hYnMoTWF0aC5zaW4odihlKSkpLDMpO3JldHVybiBNYXRoLnJvdW5kKHIqKFhkLmxlbmd0aC0xKSl9LGUuZ2V0TWFwU2Vzc2lvbkFQST1EZSxlLmdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQ9amUsZS5nZXRQcm9qZWN0aW9uPVZwLGUuZ2V0UlRMVGV4dFBsdWdpblN0YXR1cz1NbyxlLmdldFJlZmVycmVyPWxlLGUuZ2V0VGlsZVBvaW50PWZ1bmN0aW9uKGUse3g6dCx5OnJ9LG49MCl7cmV0dXJuIG5ldyBtKCgodC1uKSplLnNjYWxlLWUueCkqdnMsKHIqZS5zY2FsZS1lLnkpKnZzKX0sZS5nZXRUaWxlVmVjMz1mdW5jdGlvbihlLHQscj0wKXtyZXR1cm4gTWwoKCh0LngtcikqZS5zY2FsZS1lLngpKnZzLCh0LnkqZS5zY2FsZS1lLnkpKnZzLElzKHQueix0LnkpKX0sZS5nZXRWaWRlbz1mdW5jdGlvbihlLHQpe2NvbnN0IG49ci5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7bi5tdXRlZD0hMCxuLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7dChudWxsLG4pfTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7aGUoZVt0XSl8fChuLmNyb3NzT3JpZ2luPVwiQW5vbnltb3VzXCIpLGkuc3JjPWVbdF0sbi5hcHBlbmRDaGlsZChpKX1yZXR1cm57Y2FuY2VsOigpPT57fX19LGUuZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9WzAsMCwwXSxyPWZsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gZ2wocixlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpLEZsKHQsdCxyKSxuZXcgbSh0WzBdLHRbMV0pfSxlLmdsb2JlRGVub3JtYWxpemVFQ0VGPXBwLGUuZ2xvYmVFQ0VGT3JpZ2luPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bMCwwLDBdO3JldHVybiBGbChyLHIsZHAodHAodC5jYW5vbmljYWwpKSksRmwocixyLGUpLHJ9LGUuZ2xvYmVOb3JtYWxpemVFQ0VGPWRwLGUuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cz1mdW5jdGlvbihlLHQpe3JldHVybiB2cy8oNTEyKk1hdGgucG93KDIsZSkpKnVwKHRwKHQpKX0sZS5nbG9iZVBvbGVNYXRyaXhGb3JUaWxlPWZ1bmN0aW9uKGUsdCxyKXtjb25zdCBuPWZsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKSxpPSh0LygxPDxlKS0uNSkqTWF0aC5QSSoyO3JldHVybiB4bChuLHIuZ2xvYmVNYXRyaXgsaSksRmxvYXQzMkFycmF5LmZyb20obil9LGUuZ2xvYmVUaWxlQm91bmRzPXRwLGUuZ2xvYmVUaWx0QXRMbmdMYXQ9Z3AsZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uPW1wLGUuZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmc9ZnVuY3Rpb24oZSx0LHIpe2NvbnN0IG49bXAoci56b29tKSxpPWUuc3R5bGUubWFwLl9hbnRpYWxpYXMsbz0hIXQuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyxhPXQuZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmfHxlLnRlcnJhaW4mJmUudGVycmFpbi5leGFnZ2VyYXRpb24oKT4wO3JldHVybiAwPT09biYmIWkmJiFhJiZvfSxlLmlkZW50aXR5PWZsLGUuaWRlbnRpdHkkMT1YbCxlLmludmVydD1tbCxlLmlzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiEhci5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ISFyLmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fSxlLmlzTG5nTGF0QmVoaW5kR2xvYmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZ3AoZSx0KT5NYXRoLlBJLzIqMS4wMX0sZS5pc01hcEF1dGhlbnRpY2F0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFJlLmhhcyhlKX0sZS5pc01hcGJveFVSTD1fZSxlLmlzU2FmYXJpV2l0aEFudGlhbGlhc2luZ0J1Zz1mdW5jdGlvbihlKXtjb25zdCB0PWUubmF2aWdhdG9yP2UubmF2aWdhdG9yLnVzZXJBZ2VudDpudWxsO3JldHVybiEhWChlKSYmdCYmKHQubWF0Y2goXCJWZXJzaW9uLzE1LjRcIil8fHQubWF0Y2goXCJWZXJzaW9uLzE1LjVcIil8fHQubWF0Y2goL0NQVSAoT1N8aVBob25lIE9TKSAoMTVfNHwxNV81KSBsaWtlIE1hYyBPUyBYLykpfSxlLmxhdEZyb21NZXJjYXRvclk9QXMsZS5sYXRMbmdUb0VDRUY9bHAsZS5sZW49R2wsZS5sZW5ndGg9Q2wsZS5sZW5ndGgkMT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdKX0sZS5sbmdGcm9tTWVyY2F0b3JYPWtzLGUubG9hZFZlY3RvclRpbGU9SmYsZS5tYWtlUmVxdWVzdD1jZSxlLm1hcFZhbHVlPWZ1bmN0aW9uKGUsdCxyLG4saSl7cmV0dXJuIFMoKGUtdCkvKHItdCkqKGktbikrbixuLGkpfSxlLm1lcmNhdG9yU2NhbGU9enMsZS5tZXJjYXRvclhmcm9tTG5nPVNzLGUubWVyY2F0b3JZZnJvbUxhdD1DcyxlLm1lcmNhdG9yWmZyb21BbHRpdHVkZT1NcyxlLm11bD1UbCxlLm11bCQxPVZsLGUubXVsdGlwbHk9Z2wsZS5tdWx0aXBseSQxPXBsLGUubXVsdGlwbHkkMj1JbCxlLm5leHRQb3dlck9mVHdvPVIsZS5ub3JtYWxpemU9TGwsZS5ub3JtYWxpemUkMT1LbCxlLm5vcm1hbGl6ZSQyPVpsLGUubnVtYmVyPUNyLGUub3J0aG89ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSl7dmFyIHM9MS8odC1yKSxsPTEvKG4taSksYz0xLyhvLWEpO3JldHVybiBlWzBdPS0yKnMsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqbCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MipjLGVbMTFdPTAsZVsxMl09KHQrcikqcyxlWzEzXT0oaStuKSpsLGVbMTRdPShhK28pKmMsZVsxNV09MSxlfSxlLnBiZj15aCxlLnBlcnNwZWN0aXZlPWZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIG8sYT0xL01hdGgudGFuKHQvMik7cmV0dXJuIGVbMF09YS9yLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPWEsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE1XT0wLG51bGwhPWkmJmkhPT0xLzA/KGVbMTBdPShpK24pKihvPTEvKG4taSkpLGVbMTRdPTIqaSpuKm8pOihlWzEwXT0tMSxlWzE0XT0tMipuKSxlfSxlLnBpY2s9ZnVuY3Rpb24oZSx0KXtjb25zdCByPXt9O2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBpPXRbbl07aSBpbiBlJiYocltpXT1lW2ldKX1yZXR1cm4gcn0sZS5wbHVnaW49QW8sZS5wb2ludEdlb21ldHJ5PW0sZS5wb2x5Z29uQ29udGFpbnNQb2ludD10bCxlLnBvbHlnb25JbnRlcnNlY3RzQm94PXJsLGUucG9seWdvbkludGVyc2VjdHNQb2x5Z29uPSRzLGUucG9seWdvbml6ZUJvdW5kcz1mdW5jdGlvbihlLHQscj0wLG49ITApe2NvbnN0IGk9bmV3IG0ocixyKSxvPWUuc3ViKGkpLGE9dC5hZGQoaSkscz1bbyxuZXcgbShhLngsby55KSxhLG5ldyBtKG8ueCxhLnkpXTtyZXR1cm4gbiYmcy5wdXNoKG8uY2xvbmUoKSksc30sZS5wb3NBdHRyaWJ1dGVzPVpkLGUucG9zdE1hcExvYWRFdmVudD1BZSxlLnBvc3RQZXJmb3JtYW5jZUV2ZW50PVBlLGUucG9zdFR1cm5zdGlsZUV2ZW50PU1lLGUucG90cGFjaz1HaCxlLnByZXZQb3dlck9mVHdvPWZ1bmN0aW9uKGUpe3JldHVybiBlPD0xPzE6TWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSl9LGUucmFkVG9EZWc9eCxlLnJlZlByb3BlcnRpZXM9W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImZpbHRlclwiLFwibGF5b3V0XCJdLGUucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gZSh7cGx1Z2luU3RhdHVzOndvLHBsdWdpblVSTDpUb30pLENvLm9uKFwicGx1Z2luU3RhdGVDaGFuZ2VcIixlKSxlfSxlLnJlbW92ZUF1dGhTdGF0ZT1mdW5jdGlvbihlKXtSZS5kZWxldGUoZSl9LGUucmVuZGVyQ29sb3JSYW1wPWZjLGUucmVzYW1wbGU9THMsZS5yb3RhdGVYPXZsLGUucm90YXRlWCQxPUhsLGUucm90YXRlWT14bCxlLnJvdGF0ZVkkMT1ZbCxlLnJvdGF0ZVo9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3Mociksbz10WzBdLGE9dFsxXSxzPXRbMl0sbD10WzNdLGM9dFs0XSx1PXRbNV0saD10WzZdLGQ9dFs3XTtyZXR1cm4gdCE9PWUmJihlWzhdPXRbOF0sZVs5XT10WzldLGVbMTBdPXRbMTBdLGVbMTFdPXRbMTFdLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzBdPW8qaStjKm4sZVsxXT1hKmkrdSpuLGVbMl09cyppK2gqbixlWzNdPWwqaStkKm4sZVs0XT1jKmktbypuLGVbNV09dSppLWEqbixlWzZdPWgqaS1zKm4sZVs3XT1kKmktbCpuLGV9LGUucm90YXRlWiQxPWZ1bmN0aW9uKGUsdCxyKXtyKj0uNTt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT10WzNdLHM9TWF0aC5zaW4ociksbD1NYXRoLmNvcyhyKTtyZXR1cm4gZVswXT1uKmwraSpzLGVbMV09aSpsLW4qcyxlWzJdPW8qbCthKnMsZVszXT1hKmwtbypzLGV9LGUuc2NhbGU9eWwsZS5zY2FsZSQxPXFsLGUuc2NhbGUkMj1EbCxlLnNjYWxlQW5kQWRkPVJsLGUuc2V0PWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBlWzBdPXQsZVsxXT1yLGVbMl09bixlfSxlLnNldENhY2hlTGltaXRzPWZ1bmN0aW9uKGUsdCl7ZWU9ZSx0ZT10fSxlLnNldENvbHVtbj1mdW5jdGlvbihlLHQscil7ZVs0KnQrMF09clswXSxlWzQqdCsxXT1yWzFdLGVbNCp0KzJdPXJbMl0sZVs0KnQrM109clszXX0sZS5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKGUsdCxyPSExKXtpZih3bz09PXlvfHx3bz09PXZvfHx3bz09PXhvKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7VG89cWUucmVzb2x2ZVVSTChlKSx3bz15byxibz10LFNvKCkscnx8a28oKX0sZS5zbW9vdGhzdGVwPUMsZS5zcGVjPVllLGUuc3F1YXJlZExlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXSxuPWVbMl07cmV0dXJuIHQqdCtyKnIrbipufSxlLnN0b3JlQXV0aFN0YXRlPWZ1bmN0aW9uKGUsdCl7dD9SZS5hZGQoZSk6UmUuZGVsZXRlKGUpfSxlLnN1Yj1ObCxlLnN1YnRyYWN0PUFsLGUuc3ltYm9sU2l6ZT1waCxlLnRpbGVBQUJCPWZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyxsKXtpZihcImdsb2JlXCI9PT1sLm5hbWUpcmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtjb25zdCBuPXQvZS53b3JsZFNpemUsaT1lLmdsb2JlTWF0cml4O2lmKHIuejw9MSl7Y29uc3QgZT10cChyKS5nZXRDb3JuZXJzKCk7cmV0dXJuIGlwKGUsaSxuKSx0Yy5mcm9tUG9pbnRzKGUpfWNvbnN0IG89b3AociksYT1hcChvKTtpcChhLGksbik7Y29uc3Qgcz1OdW1iZXIuTUFYX1ZBTFVFLGw9Wy1zLC1zLC1zXSxjPVtzLHMsc107aWYoby5jb250YWlucyhlLmNlbnRlcikpe2Zvcihjb25zdCBlIG9mIGEpUGwoYyxjLGUpLHpsKGwsbCxlKTtsWzJdPTA7Y29uc3QgdD1lLnBvaW50LHI9W3QueCpuLHQueSpuLDBdO3JldHVybiBQbChjLGMsciksemwobCxsLHIpLG5ldyB0YyhjLGwpfWNvbnN0IHU9W2lbMTJdKm4saVsxM10qbixpWzE0XSpuXSxoPW8uZ2V0Q2VudGVyKCksZD1TKGUuY2VudGVyLmxhdCwtODUuMDUxMTI5LFBzKSxwPVMoaC5sYXQsLTg1LjA1MTEyOSxQcyksZj1TcyhlLmNlbnRlci5sbmcpLG09Q3MoZCk7bGV0IGc9Zi1TcyhoLmxuZyk7Y29uc3QgXz1tLUNzKHApO2c+LjU/Zy09MTpnPC0uNSYmKGcrPTEpO2xldCB5PTA7TWF0aC5hYnMoZyk+TWF0aC5hYnMoXyk/eT1nPj0wPzE6MzooeT1fPj0wPzA6MixSbCh1LHUsW2lbNF0qbixpWzVdKm4saVs2XSpuXSwtTWF0aC5zaW4odihfPj0wP28uZ2V0U291dGgoKTpvLmdldE5vcnRoKCkpKSokZCkpO2NvbnN0IHg9YVt5XSxiPWFbKHkrMSklNF0sdz1uZXcgUWQoeCxiLHUpLFQ9W2VwKHcsMCl8fHhbMF0sZXAodywxKXx8eFsxXSxlcCh3LDIpfHx4WzJdXSxFPW1wKGUuem9vbSk7aWYoRT4wKXtjb25zdCBuPWZ1bmN0aW9uKHt4OmUseTp0LHo6cn0sbixpLG8sYSl7Y29uc3Qgcz0xLygxPDxyKTtsZXQgbD1lKnMsYz1sK3MsdT10KnMsaD11K3MsZD0wO2NvbnN0IHA9KGwrYykvMi1vO3JldHVybiBwPi41P2Q9LTE6cDwtLjUmJihkPTEpLGw9KChsK2QpKm4tKG8qPW4pKSppK28sYz0oKGMrZCkqbi1vKSppK28sdT0odSpuLShhKj1uKSkqaSthLGg9KGgqbi1hKSppK2EsW1tsLGgsMF0sW2MsaCwwXSxbYyx1LDBdLFtsLHUsMF1dfShyLHQsZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxmLG0pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKXJwKGFbZV0sbltlXSxFKTtjb25zdCBpPWtsKFtdLG5beV0sblsoeSsxKSU0XSk7RGwoaSxpLC41KSxycChULGksRSl9Zm9yKGNvbnN0IGUgb2YgYSlQbChjLGMsZSksemwobCxsLGUpO3JldHVybiBjWzJdPU1hdGgubWluKHhbMl0sYlsyXSksUGwoYyxjLFQpLHpsKGwsbCxUKSxuZXcgdGMoYyxsKX0oZSx0LG5ldyBCdShyLG4saSkpO2NvbnN0IGM9YnAoe3o6cix4Om4seTppfSxsKTtyZXR1cm4gbmV3IHRjKFsobytjLngvYy5zY2FsZSkqdCx0KihjLnkvYy5zY2FsZSksYV0sWyhvK2MueDIvYy5zY2FsZSkqdCx0KihjLnkyL2Muc2NhbGUpLHNdKX0sZS50aWxlQ29ybmVyc1RvQm91bmRzPW9wLGUudGlsZVRyYW5zZm9ybT1icCxlLnRyYW5zZm9ybU1hdDM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXTtyZXR1cm4gZVswXT1uKnJbMF0raSpyWzNdK28qcls2XSxlWzFdPW4qclsxXStpKnJbNF0rbypyWzddLGVbMl09bipyWzJdK2kqcls1XStvKnJbOF0sZX0sZS50cmFuc2Zvcm1NYXQ0PUZsLGUudHJhbnNmb3JtTWF0NCQxPSRsLGUudHJhbnNmb3JtUXVhdD1qbCxlLnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRj1ucCxlLnRyYW5zbGF0ZT1fbCxlLnRyYW5zcG9zZT1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXt2YXIgcj10WzFdLG49dFsyXSxpPXRbNV07ZVsxXT10WzNdLGVbMl09dFs2XSxlWzNdPXIsZVs1XT10WzddLGVbNl09bixlWzddPWl9ZWxzZSBlWzBdPXRbMF0sZVsxXT10WzNdLGVbMl09dFs2XSxlWzNdPXRbMV0sZVs0XT10WzRdLGVbNV09dFs3XSxlWzZdPXRbMl0sZVs3XT10WzVdLGVbOF09dFs4XTtyZXR1cm4gZX0sZS50cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50PUVvLGUudW5pcXVlSWQ9eixlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsPWZ1bmN0aW9uKGUsdCxyLG4saSl7Y29uc3Qgbz01KnQrMjtlLmZsb2F0MzJbbyswXT1yLGUuZmxvYXQzMltvKzFdPW4sZS5mbG9hdDMyW28rMl09aX0sZS52YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXSxyPWUuaWQ7cmV0dXJuIHZvaWQgMD09PXImJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7cn06IG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJpZFwiYH0pLHZvaWQgMD09PWUucmVuZGVyJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke3J9OiBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZCBcInJlbmRlclwiYH0pLGUucmVuZGVyaW5nTW9kZSYmXCIyZFwiIT09ZS5yZW5kZXJpbmdNb2RlJiZcIjNkXCIhPT1lLnJlbmRlcmluZ01vZGUmJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7cn06IHByb3BlcnR5IFwicmVuZGVyaW5nTW9kZVwiIG11c3QgYmUgZWl0aGVyIFwiMmRcIiBvciBcIjNkXCJgfSksdH0sZS52YWxpZGF0ZUZpbHRlcj1lPT5TaShsaShlKSksZS52YWxpZGF0ZUZvZz1lPT5TaSh5aShlKSksZS52YWxpZGF0ZUxheWVyPWU9PlNpKGRpKGUpKSxlLnZhbGlkYXRlTGlnaHQ9ZT0+U2koZ2koZSkpLGUudmFsaWRhdGVTb3VyY2U9ZT0+U2kobWkoZSkpLGUudmFsaWRhdGVTdHlsZT13aSxlLnZhbGlkYXRlVGVycmFpbj1lPT5TaShfaShlKSksZS52YWx1ZXM9QSxlLnZlY3RvclRpbGU9b3UsZS52ZXJzaW9uPW4sZS53YXJuT25jZT1WLGUud2luZG93PXIsZS53cmFwPU19KSksaShbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7bGV0IHI9XCJbXCI7Zm9yKGNvbnN0IG4gb2YgZSlyKz10KG4pK1wiLFwiO3JldHVybiByK1wiXVwifWxldCByPVwie1wiO2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSlyKz1gJHtufToke3QoZVtuXSl9LGA7cmV0dXJuIHIrXCJ9XCJ9ZnVuY3Rpb24gcihyKXtsZXQgbj1cIlwiO2Zvcihjb25zdCBpIG9mIGUucmVmUHJvcGVydGllcyluKz1cIi9cIit0KHJbaV0pO3JldHVybiBufWNsYXNzIG57Y29uc3RydWN0b3IoZSl7dGhpcy5rZXlDYWNoZT17fSxlJiZ0aGlzLnJlcGxhY2UoZSl9cmVwbGFjZShlKXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10pfXVwZGF0ZSh0LG4pe2Zvcihjb25zdCByIG9mIHQpdGhpcy5fbGF5ZXJDb25maWdzW3IuaWRdPXIsKHRoaXMuX2xheWVyc1tyLmlkXT1lLmNyZWF0ZVN0eWxlTGF5ZXIocikpLmNvbXBpbGVGaWx0ZXIoKSx0aGlzLmtleUNhY2hlW3IuaWRdJiZkZWxldGUgdGhpcy5rZXlDYWNoZVtyLmlkXTtmb3IoY29uc3QgZSBvZiBuKWRlbGV0ZSB0aGlzLmtleUNhY2hlW2VdLGRlbGV0ZSB0aGlzLl9sYXllckNvbmZpZ3NbZV0sZGVsZXRlIHRoaXMuX2xheWVyc1tlXTt0aGlzLmZhbWlsaWVzQnlTb3VyY2U9e307Y29uc3QgaT1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG89dCYmdFtlW2ldLmlkXXx8cihlW2ldKTt0JiYodFtlW2ldLmlkXT1vKTtsZXQgYT1uW29dO2F8fChhPW5bb109W10pLGEucHVzaChlW2ldKX1jb25zdCBpPVtdO2Zvcihjb25zdCBlIGluIG4paS5wdXNoKG5bZV0pO3JldHVybiBpfShlLnZhbHVlcyh0aGlzLl9sYXllckNvbmZpZ3MpLHRoaXMua2V5Q2FjaGUpO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IHQ9ZS5tYXAoZT0+dGhpcy5fbGF5ZXJzW2UuaWRdKSxyPXRbMF07aWYoXCJub25lXCI9PT1yLnZpc2liaWxpdHkpY29udGludWU7Y29uc3Qgbj1yLnNvdXJjZXx8XCJcIjtsZXQgaT10aGlzLmZhbWlsaWVzQnlTb3VyY2Vbbl07aXx8KGk9dGhpcy5mYW1pbGllc0J5U291cmNlW25dPXt9KTtjb25zdCBvPXIuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIjtsZXQgYT1pW29dO2F8fChhPWlbb109W10pLGEucHVzaCh0KX19fWNsYXNzIGl7bG9hZFRpbGUodCxyKXtjb25zdHt1aWQ6bixlbmNvZGluZzppLHJhd0ltYWdlRGF0YTpvLHBhZGRpbmc6YSxidWlsZFF1YWRUcmVlOnN9PXQsbD1lLndpbmRvdy5JbWFnZUJpdG1hcCYmbyBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP3RoaXMuZ2V0SW1hZ2VEYXRhKG8sYSk6bztyKG51bGwsbmV3IGUuREVNRGF0YShuLGwsaSxhPDEscykpfWdldEltYWdlRGF0YShlLHQpe3RoaXMub2Zmc2NyZWVuQ2FudmFzJiZ0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHR8fCh0aGlzLm9mZnNjcmVlbkNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKGUud2lkdGgsZS5oZWlnaHQpLHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dD10aGlzLm9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoPWUud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCk7Y29uc3Qgcj10aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKC10LC10LGUud2lkdGgrMip0LGUuaGVpZ2h0KzIqdCk7cmV0dXJuIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCkscn19dmFyIG89ZnVuY3Rpb24gZSh0LHIpe3ZhciBuLGk9dCYmdC50eXBlO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWkpZm9yKG49MDtuPHQuZmVhdHVyZXMubGVuZ3RoO24rKyllKHQuZmVhdHVyZXNbbl0scik7ZWxzZSBpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09aSlmb3Iobj0wO248dC5nZW9tZXRyaWVzLmxlbmd0aDtuKyspZSh0Lmdlb21ldHJpZXNbbl0scik7ZWxzZSBpZihcIkZlYXR1cmVcIj09PWkpZSh0Lmdlb21ldHJ5LHIpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1pKWEodC5jb29yZGluYXRlcyxyKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1pKWZvcihuPTA7bjx0LmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspYSh0LmNvb3JkaW5hdGVzW25dLHIpO3JldHVybiB0fTtmdW5jdGlvbiBhKGUsdCl7aWYoMCE9PWUubGVuZ3RoKXtzKGVbMF0sdCk7Zm9yKHZhciByPTE7cjxlLmxlbmd0aDtyKyspcyhlW3JdLCF0KX19ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgcj0wLG49MCxpPTAsbz1lLmxlbmd0aCxhPW8tMTtpPG87YT1pKyspe3ZhciBzPShlW2ldWzBdLWVbYV1bMF0pKihlW2FdWzFdK2VbaV1bMV0pLGw9citzO24rPU1hdGguYWJzKHIpPj1NYXRoLmFicyhzKT9yLWwrczpzLWwrcixyPWx9cituPj0wIT0hIXQmJmUucmV2ZXJzZSgpfWNvbnN0IGw9ZS5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUudG9HZW9KU09OO2NsYXNzIGN7Y29uc3RydWN0b3IodCl7dGhpcy5fZmVhdHVyZT10LHRoaXMuZXh0ZW50PWUuRVhURU5ULHRoaXMudHlwZT10LnR5cGUsdGhpcy5wcm9wZXJ0aWVzPXQudGFncyxcImlkXCJpbiB0JiYhaXNOYU4odC5pZCkmJih0aGlzLmlkPXBhcnNlSW50KHQuaWQsMTApKX1sb2FkR2VvbWV0cnkoKXtpZigxPT09dGhpcy5fZmVhdHVyZS50eXBlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpdC5wdXNoKFtuZXcgZS5wb2ludEdlb21ldHJ5KHJbMF0sclsxXSldKTtyZXR1cm4gdH17Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9mZWF0dXJlLmdlb21ldHJ5KXtjb25zdCBuPVtdO2Zvcihjb25zdCB0IG9mIHIpbi5wdXNoKG5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKSk7dC5wdXNoKG4pfXJldHVybiB0fX10b0dlb0pTT04oZSx0LHIpe3JldHVybiBsLmNhbGwodGhpcyxlLHQscil9fWNsYXNzIHV7Y29uc3RydWN0b3IodCl7dGhpcy5sYXllcnM9e19nZW9qc29uVGlsZUxheWVyOnRoaXN9LHRoaXMubmFtZT1cIl9nZW9qc29uVGlsZUxheWVyXCIsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dH1mZWF0dXJlKGUpe3JldHVybiBuZXcgYyh0aGlzLl9mZWF0dXJlc1tlXSl9fXZhciBoPXtleHBvcnRzOnt9fSxkPWUucG9pbnRHZW9tZXRyeSxwPWUudmVjdG9yVGlsZS5WZWN0b3JUaWxlRmVhdHVyZSxmPW07ZnVuY3Rpb24gbShlLHQpe3RoaXMub3B0aW9ucz10fHx7fSx0aGlzLmZlYXR1cmVzPWUsdGhpcy5sZW5ndGg9ZS5sZW5ndGh9ZnVuY3Rpb24gZyhlLHQpe3RoaXMuaWQ9XCJudW1iZXJcIj09dHlwZW9mIGUuaWQ/ZS5pZDp2b2lkIDAsdGhpcy50eXBlPWUudHlwZSx0aGlzLnJhd0dlb21ldHJ5PTE9PT1lLnR5cGU/W2UuZ2VvbWV0cnldOmUuZ2VvbWV0cnksdGhpcy5wcm9wZXJ0aWVzPWUudGFncyx0aGlzLmV4dGVudD10fHw0MDk2fW0ucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBnKHRoaXMuZmVhdHVyZXNbZV0sdGhpcy5vcHRpb25zLmV4dGVudCl9LGcucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmF3R2VvbWV0cnk7dGhpcy5nZW9tZXRyeT1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7Zm9yKHZhciByPWVbdF0sbj1bXSxpPTA7aTxyLmxlbmd0aDtpKyspbi5wdXNoKG5ldyBkKHJbaV1bMF0scltpXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChuKX1yZXR1cm4gdGhpcy5nZW9tZXRyeX0sZy5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnl8fHRoaXMubG9hZEdlb21ldHJ5KCk7Zm9yKHZhciBlPXRoaXMuZ2VvbWV0cnksdD0xLzAscj0tMS8wLG49MS8wLGk9LTEvMCxvPTA7bzxlLmxlbmd0aDtvKyspZm9yKHZhciBhPWVbb10scz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO3Q9TWF0aC5taW4odCxsLngpLHI9TWF0aC5tYXgocixsLngpLG49TWF0aC5taW4obixsLnkpLGk9TWF0aC5tYXgoaSxsLnkpfXJldHVyblt0LG4scixpXX0sZy5wcm90b3R5cGUudG9HZW9KU09OPXAucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgXz1lLnBiZix5PWY7ZnVuY3Rpb24gdihlKXt2YXIgdD1uZXcgXztyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZS5sYXllcnMpdC53cml0ZU1lc3NhZ2UoMyx4LGUubGF5ZXJzW3JdKX0oZSx0KSx0LmZpbmlzaCgpfWZ1bmN0aW9uIHgoZSx0KXt2YXIgcjt0LndyaXRlVmFyaW50RmllbGQoMTUsZS52ZXJzaW9ufHwxKSx0LndyaXRlU3RyaW5nRmllbGQoMSxlLm5hbWV8fFwiXCIpLHQud3JpdGVWYXJpbnRGaWVsZCg1LGUuZXh0ZW50fHw0MDk2KTt2YXIgbj17a2V5czpbXSx2YWx1ZXM6W10sa2V5Y2FjaGU6e30sdmFsdWVjYWNoZTp7fX07Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyluLmZlYXR1cmU9ZS5mZWF0dXJlKHIpLHQud3JpdGVNZXNzYWdlKDIsYixuKTt2YXIgaT1uLmtleXM7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl0LndyaXRlU3RyaW5nRmllbGQoMyxpW3JdKTt2YXIgbz1uLnZhbHVlcztmb3Iocj0wO3I8by5sZW5ndGg7cisrKXQud3JpdGVNZXNzYWdlKDQsQyxvW3JdKX1mdW5jdGlvbiBiKGUsdCl7dmFyIHI9ZS5mZWF0dXJlO3ZvaWQgMCE9PXIuaWQmJnQud3JpdGVWYXJpbnRGaWVsZCgxLHIuaWQpLHQud3JpdGVNZXNzYWdlKDIsdyxlKSx0LndyaXRlVmFyaW50RmllbGQoMyxyLnR5cGUpLHQud3JpdGVNZXNzYWdlKDQsUyxyKX1mdW5jdGlvbiB3KGUsdCl7dmFyIHI9ZS5mZWF0dXJlLG49ZS5rZXlzLGk9ZS52YWx1ZXMsbz1lLmtleWNhY2hlLGE9ZS52YWx1ZWNhY2hlO2Zvcih2YXIgcyBpbiByLnByb3BlcnRpZXMpe3ZhciBsPXIucHJvcGVydGllc1tzXSxjPW9bc107aWYobnVsbCE9PWwpe3ZvaWQgMD09PWMmJihuLnB1c2gocyksb1tzXT1jPW4ubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoYyk7dmFyIHU9dHlwZW9mIGw7XCJzdHJpbmdcIiE9PXUmJlwiYm9vbGVhblwiIT09dSYmXCJudW1iZXJcIiE9PXUmJihsPUpTT04uc3RyaW5naWZ5KGwpKTt2YXIgaD11K1wiOlwiK2wsZD1hW2hdO3ZvaWQgMD09PWQmJihpLnB1c2gobCksYVtoXT1kPWkubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoZCl9fX1mdW5jdGlvbiBUKGUsdCl7cmV0dXJuKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGU8PDFeZT4+MzF9ZnVuY3Rpb24gUyhlLHQpe2Zvcih2YXIgcj1lLmxvYWRHZW9tZXRyeSgpLG49ZS50eXBlLGk9MCxvPTAsYT1yLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIGw9cltzXSxjPTE7MT09PW4mJihjPWwubGVuZ3RoKSx0LndyaXRlVmFyaW50KFQoMSxjKSk7Zm9yKHZhciB1PTM9PT1uP2wubGVuZ3RoLTE6bC5sZW5ndGgsaD0wO2g8dTtoKyspezE9PT1oJiYxIT09biYmdC53cml0ZVZhcmludChUKDIsdS0xKSk7dmFyIGQ9bFtoXS54LWkscD1sW2hdLnktbzt0LndyaXRlVmFyaW50KEUoZCkpLHQud3JpdGVWYXJpbnQoRShwKSksaSs9ZCxvKz1wfTM9PT1uJiZ0LndyaXRlVmFyaW50KFQoNywxKSl9fWZ1bmN0aW9uIEMoZSx0KXt2YXIgcj10eXBlb2YgZTtcInN0cmluZ1wiPT09cj90LndyaXRlU3RyaW5nRmllbGQoMSxlKTpcImJvb2xlYW5cIj09PXI/dC53cml0ZUJvb2xlYW5GaWVsZCg3LGUpOlwibnVtYmVyXCI9PT1yJiYoZSUxIT0wP3Qud3JpdGVEb3VibGVGaWVsZCgzLGUpOmU8MD90LndyaXRlU1ZhcmludEZpZWxkKDYsZSk6dC53cml0ZVZhcmludEZpZWxkKDUsZSkpfWZ1bmN0aW9uIE0oZSx0LHIsbixpLG8pe2lmKGktbjw9cilyZXR1cm47Y29uc3QgYT1uK2k+PjE7KGZ1bmN0aW9uIGUodCxyLG4saSxvLGEpe2Zvcig7bz5pOyl7aWYoby1pPjYwMCl7Y29uc3Qgcz1vLWkrMSxsPW4taSsxLGM9TWF0aC5sb2cocyksdT0uNSpNYXRoLmV4cCgyKmMvMyksaD0uNSpNYXRoLnNxcnQoYyp1KihzLXUpL3MpKihsLXMvMjwwPy0xOjEpO2UodCxyLG4sTWF0aC5tYXgoaSxNYXRoLmZsb29yKG4tbCp1L3MraCkpLE1hdGgubWluKG8sTWF0aC5mbG9vcihuKyhzLWwpKnUvcytoKSksYSl9Y29uc3Qgcz1yWzIqbithXTtsZXQgbD1pLGM9bztmb3Ioayh0LHIsaSxuKSxyWzIqbythXT5zJiZrKHQscixpLG8pO2w8Yzspe2ZvcihrKHQscixsLGMpLGwrKyxjLS07clsyKmwrYV08czspbCsrO2Zvcig7clsyKmMrYV0+czspYy0tfXJbMippK2FdPT09cz9rKHQscixpLGMpOihjKyssayh0LHIsYyxvKSksYzw9biYmKGk9YysxKSxuPD1jJiYobz1jLTEpfX0pKGUsdCxhLG4saSxvJTIpLE0oZSx0LHIsbixhLTEsbysxKSxNKGUsdCxyLGErMSxpLG8rMSl9ZnVuY3Rpb24gayhlLHQscixuKXtBKGUscixuKSxBKHQsMipyLDIqbiksQSh0LDIqcisxLDIqbisxKX1mdW5jdGlvbiBBKGUsdCxyKXtjb25zdCBuPWVbdF07ZVt0XT1lW3JdLGVbcl09bn1mdW5jdGlvbiBJKGUsdCxyLG4pe2NvbnN0IGk9ZS1yLG89dC1uO3JldHVybiBpKmkrbypvfWguZXhwb3J0cz12LGguZXhwb3J0cy5mcm9tVmVjdG9yVGlsZUpzPXYsaC5leHBvcnRzLmZyb21HZW9qc29uVnQ9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKXJbbl09bmV3IHkoZVtuXS5mZWF0dXJlcyx0KSxyW25dLm5hbWU9bixyW25dLnZlcnNpb249dC52ZXJzaW9uLHJbbl0uZXh0ZW50PXQuZXh0ZW50O3JldHVybiB2KHtsYXllcnM6cn0pfSxoLmV4cG9ydHMuR2VvSlNPTldyYXBwZXI9eTtjb25zdCBQPWU9PmVbMF0sej1lPT5lWzFdO2NsYXNzIER7Y29uc3RydWN0b3IoZSx0PVAscj16LG49NjQsaT1GbG9hdDY0QXJyYXkpe3RoaXMubm9kZVNpemU9bix0aGlzLnBvaW50cz1lO2NvbnN0IG89ZS5sZW5ndGg8NjU1MzY/VWludDE2QXJyYXk6VWludDMyQXJyYXksYT10aGlzLmlkcz1uZXcgbyhlLmxlbmd0aCkscz10aGlzLmNvb3Jkcz1uZXcgaSgyKmUubGVuZ3RoKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylhW25dPW4sc1syKm5dPXQoZVtuXSksc1syKm4rMV09cihlW25dKTtNKGEscyxuLDAsYS5sZW5ndGgtMSwwKX1yYW5nZShlLHQscixuKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbixpLG8sYSl7Y29uc3Qgcz1bMCxlLmxlbmd0aC0xLDBdLGw9W107bGV0IGMsdTtmb3IoO3MubGVuZ3RoOyl7Y29uc3QgaD1zLnBvcCgpLGQ9cy5wb3AoKSxwPXMucG9wKCk7aWYoZC1wPD1hKXtmb3IobGV0IGE9cDthPD1kO2ErKyljPXRbMiphXSx1PXRbMiphKzFdLGM+PXImJmM8PWkmJnU+PW4mJnU8PW8mJmwucHVzaChlW2FdKTtjb250aW51ZX1jb25zdCBmPU1hdGguZmxvb3IoKHArZCkvMik7Yz10WzIqZl0sdT10WzIqZisxXSxjPj1yJiZjPD1pJiZ1Pj1uJiZ1PD1vJiZsLnB1c2goZVtmXSk7Y29uc3QgbT0oaCsxKSUyOygwPT09aD9yPD1jOm48PXUpJiYocy5wdXNoKHApLHMucHVzaChmLTEpLHMucHVzaChtKSksKDA9PT1oP2k+PWM6bz49dSkmJihzLnB1c2goZisxKSxzLnB1c2goZCkscy5wdXNoKG0pKX1yZXR1cm4gbH0odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LHIsbix0aGlzLm5vZGVTaXplKX13aXRoaW4oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscixuLGksbyl7Y29uc3QgYT1bMCxlLmxlbmd0aC0xLDBdLHM9W10sbD1pKmk7Zm9yKDthLmxlbmd0aDspe2NvbnN0IGM9YS5wb3AoKSx1PWEucG9wKCksaD1hLnBvcCgpO2lmKHUtaDw9byl7Zm9yKGxldCBpPWg7aTw9dTtpKyspSSh0WzIqaV0sdFsyKmkrMV0scixuKTw9bCYmcy5wdXNoKGVbaV0pO2NvbnRpbnVlfWNvbnN0IGQ9TWF0aC5mbG9vcigoaCt1KS8yKSxwPXRbMipkXSxmPXRbMipkKzFdO0kocCxmLHIsbik8PWwmJnMucHVzaChlW2RdKTtjb25zdCBtPShjKzEpJTI7KDA9PT1jP3ItaTw9cDpuLWk8PWYpJiYoYS5wdXNoKGgpLGEucHVzaChkLTEpLGEucHVzaChtKSksKDA9PT1jP3IraT49cDpuK2k+PWYpJiYoYS5wdXNoKGQrMSksYS5wdXNoKHUpLGEucHVzaChtKSl9cmV0dXJuIHN9KHRoaXMuaWRzLHRoaXMuY29vcmRzLGUsdCxyLHRoaXMubm9kZVNpemUpfX1jb25zdCBSPXttaW5ab29tOjAsbWF4Wm9vbToxNixtaW5Qb2ludHM6MixyYWRpdXM6NDAsZXh0ZW50OjUxMixub2RlU2l6ZTo2NCxsb2c6ITEsZ2VuZXJhdGVJZDohMSxyZWR1Y2U6bnVsbCxtYXA6ZT0+ZX0sTD1NYXRoLmZyb3VuZHx8KE89bmV3IEZsb2F0MzJBcnJheSgxKSxlPT4oT1swXT0rZSxPWzBdKSk7dmFyIE87Y2xhc3MgQntjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9WihPYmplY3QuY3JlYXRlKFIpLGUpLHRoaXMudHJlZXM9bmV3IEFycmF5KHRoaXMub3B0aW9ucy5tYXhab29tKzEpfWxvYWQoZSl7Y29uc3R7bG9nOnQsbWluWm9vbTpyLG1heFpvb206bixub2RlU2l6ZTppfT10aGlzLm9wdGlvbnM7dCYmY29uc29sZS50aW1lKFwidG90YWwgdGltZVwiKTtjb25zdCBvPWBwcmVwYXJlICR7ZS5sZW5ndGh9IHBvaW50c2A7dCYmY29uc29sZS50aW1lKG8pLHRoaXMucG9pbnRzPWU7bGV0IGE9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5nZW9tZXRyeSYmYS5wdXNoKGooZVt0XSx0KSk7dGhpcy50cmVlc1tuKzFdPW5ldyBEKGEsJCxXLGksRmxvYXQzMkFycmF5KSx0JiZjb25zb2xlLnRpbWVFbmQobyk7Zm9yKGxldCBlPW47ZT49cjtlLS0pe2NvbnN0IHI9K0RhdGUubm93KCk7YT10aGlzLl9jbHVzdGVyKGEsZSksdGhpcy50cmVlc1tlXT1uZXcgRChhLCQsVyxpLEZsb2F0MzJBcnJheSksdCYmY29uc29sZS5sb2coXCJ6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXNcIixlLGEubGVuZ3RoLCtEYXRlLm5vdygpLXIpfXJldHVybiB0JiZjb25zb2xlLnRpbWVFbmQoXCJ0b3RhbCB0aW1lXCIpLHRoaXN9Z2V0Q2x1c3RlcnMoZSx0KXtsZXQgcj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IG49TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKTtsZXQgaT0xODA9PT1lWzJdPzE4MDooKGVbMl0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IG89TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbM10pKTtpZihlWzJdLWVbMF0+PTM2MClyPS0xODAsaT0xODA7ZWxzZSBpZihyPmkpe2NvbnN0IGU9dGhpcy5nZXRDbHVzdGVycyhbcixuLDE4MCxvXSx0KSxhPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsbixpLG9dLHQpO3JldHVybiBlLmNvbmNhdChhKX1jb25zdCBhPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHQpXSxzPWEucmFuZ2UoVihyKSxHKG8pLFYoaSksRyhuKSksbD1bXTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PWEucG9pbnRzW2VdO2wucHVzaCh0Lm51bVBvaW50cz9VKHQpOnRoaXMucG9pbnRzW3QuaW5kZXhdKX1yZXR1cm4gbH1nZXRDaGlsZHJlbihlKXtjb25zdCB0PXRoaXMuX2dldE9yaWdpbklkKGUpLHI9dGhpcy5fZ2V0T3JpZ2luWm9vbShlKSxuPVwiTm8gY2x1c3RlciB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuXCIsaT10aGlzLnRyZWVzW3JdO2lmKCFpKXRocm93IG5ldyBFcnJvcihuKTtjb25zdCBvPWkucG9pbnRzW3RdO2lmKCFvKXRocm93IG5ldyBFcnJvcihuKTtjb25zdCBhPXRoaXMub3B0aW9ucy5yYWRpdXMvKHRoaXMub3B0aW9ucy5leHRlbnQqTWF0aC5wb3coMixyLTEpKSxzPWkud2l0aGluKG8ueCxvLnksYSksbD1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCByPWkucG9pbnRzW3RdO3IucGFyZW50SWQ9PT1lJiZsLnB1c2goci5udW1Qb2ludHM/VShyKTp0aGlzLnBvaW50c1tyLmluZGV4XSl9aWYoMD09PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihuKTtyZXR1cm4gbH1nZXRMZWF2ZXMoZSx0LHIpe2NvbnN0IG49W107cmV0dXJuIHRoaXMuX2FwcGVuZExlYXZlcyhuLGUsdD10fHwxMCxyPXJ8fDAsMCksbn1nZXRUaWxlKGUsdCxyKXtjb25zdCBuPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKGUpXSxpPU1hdGgucG93KDIsZSkse2V4dGVudDpvLHJhZGl1czphfT10aGlzLm9wdGlvbnMscz1hL28sbD0oci1zKS9pLGM9KHIrMStzKS9pLHU9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG4ucmFuZ2UoKHQtcykvaSxsLCh0KzErcykvaSxjKSxuLnBvaW50cyx0LHIsaSx1KSwwPT09dCYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG4ucmFuZ2UoMS1zL2ksbCwxLGMpLG4ucG9pbnRzLGkscixpLHUpLHQ9PT1pLTEmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhuLnJhbmdlKDAsbCxzL2ksYyksbi5wb2ludHMsLTEscixpLHUpLHUuZmVhdHVyZXMubGVuZ3RoP3U6bnVsbH1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlKXtsZXQgdD10aGlzLl9nZXRPcmlnaW5ab29tKGUpLTE7Zm9yKDt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe2NvbnN0IHI9dGhpcy5nZXRDaGlsZHJlbihlKTtpZih0KyssMSE9PXIubGVuZ3RoKWJyZWFrO2U9clswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWR9cmV0dXJuIHR9X2FwcGVuZExlYXZlcyhlLHQscixuLGkpe2NvbnN0IG89dGhpcy5nZXRDaGlsZHJlbih0KTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBvPXQucHJvcGVydGllcztpZihvJiZvLmNsdXN0ZXI/aStvLnBvaW50X2NvdW50PD1uP2krPW8ucG9pbnRfY291bnQ6aT10aGlzLl9hcHBlbmRMZWF2ZXMoZSxvLmNsdXN0ZXJfaWQscixuLGkpOmk8bj9pKys6ZS5wdXNoKHQpLGUubGVuZ3RoPT09cilicmVha31yZXR1cm4gaX1fYWRkVGlsZUZlYXR1cmVzKGUsdCxyLG4saSxvKXtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPXRbYV0scz1lLm51bVBvaW50cztsZXQgbCxjLHU7aWYocylsPU4oZSksYz1lLngsdT1lLnk7ZWxzZXtjb25zdCB0PXRoaXMucG9pbnRzW2UuaW5kZXhdO2w9dC5wcm9wZXJ0aWVzLGM9Vih0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdKSx1PUcodC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSl9Y29uc3QgaD17dHlwZToxLGdlb21ldHJ5OltbTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihjKmktcikpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoodSppLW4pKV1dLHRhZ3M6bH07bGV0IGQ7cz9kPWUuaWQ6dGhpcy5vcHRpb25zLmdlbmVyYXRlSWQ/ZD1lLmluZGV4OnRoaXMucG9pbnRzW2UuaW5kZXhdLmlkJiYoZD10aGlzLnBvaW50c1tlLmluZGV4XS5pZCksdm9pZCAwIT09ZCYmKGguaWQ9ZCksby5mZWF0dXJlcy5wdXNoKGgpfX1fbGltaXRab29tKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihNYXRoLmZsb29yKCtlKSx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9X2NsdXN0ZXIoZSx0KXtjb25zdCByPVtdLHtyYWRpdXM6bixleHRlbnQ6aSxyZWR1Y2U6byxtaW5Qb2ludHM6YX09dGhpcy5vcHRpb25zLHM9bi8oaSpNYXRoLnBvdygyLHQpKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1lW25dO2lmKGkuem9vbTw9dCljb250aW51ZTtpLnpvb209dDtjb25zdCBsPXRoaXMudHJlZXNbdCsxXSxjPWwud2l0aGluKGkueCxpLnkscyksdT1pLm51bVBvaW50c3x8MTtsZXQgaD11O2Zvcihjb25zdCBlIG9mIGMpe2NvbnN0IHI9bC5wb2ludHNbZV07ci56b29tPnQmJihoKz1yLm51bVBvaW50c3x8MSl9aWYoaD51JiZoPj1hKXtsZXQgZT1pLngqdSxhPWkueSp1LHM9byYmdT4xP3RoaXMuX21hcChpLCEwKTpudWxsO2NvbnN0IGQ9KG48PDUpKyh0KzEpK3RoaXMucG9pbnRzLmxlbmd0aDtmb3IoY29uc3QgciBvZiBjKXtjb25zdCBuPWwucG9pbnRzW3JdO2lmKG4uem9vbTw9dCljb250aW51ZTtuLnpvb209dDtjb25zdCBjPW4ubnVtUG9pbnRzfHwxO2UrPW4ueCpjLGErPW4ueSpjLG4ucGFyZW50SWQ9ZCxvJiYoc3x8KHM9dGhpcy5fbWFwKGksITApKSxvKHMsdGhpcy5fbWFwKG4pKSl9aS5wYXJlbnRJZD1kLHIucHVzaChGKGUvaCxhL2gsZCxoLHMpKX1lbHNlIGlmKHIucHVzaChpKSxoPjEpZm9yKGNvbnN0IGUgb2YgYyl7Y29uc3Qgbj1sLnBvaW50c1tlXTtuLnpvb208PXR8fChuLnpvb209dCxyLnB1c2gobikpfX1yZXR1cm4gcn1fZ2V0T3JpZ2luSWQoZSl7cmV0dXJuIGUtdGhpcy5wb2ludHMubGVuZ3RoPj41fV9nZXRPcmlnaW5ab29tKGUpe3JldHVybihlLXRoaXMucG9pbnRzLmxlbmd0aCklMzJ9X21hcChlLHQpe2lmKGUubnVtUG9pbnRzKXJldHVybiB0P1ooe30sZS5wcm9wZXJ0aWVzKTplLnByb3BlcnRpZXM7Y29uc3Qgcj10aGlzLnBvaW50c1tlLmluZGV4XS5wcm9wZXJ0aWVzLG49dGhpcy5vcHRpb25zLm1hcChyKTtyZXR1cm4gdCYmbj09PXI/Wih7fSxuKTpufX1mdW5jdGlvbiBGKGUsdCxyLG4saSl7cmV0dXJue3g6TChlKSx5OkwodCksem9vbToxLzAsaWQ6cixwYXJlbnRJZDotMSxudW1Qb2ludHM6bixwcm9wZXJ0aWVzOml9fWZ1bmN0aW9uIGooZSx0KXtjb25zdFtyLG5dPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7cmV0dXJue3g6TChWKHIpKSx5OkwoRyhuKSksem9vbToxLzAsaW5kZXg6dCxwYXJlbnRJZDotMX19ZnVuY3Rpb24gVShlKXtyZXR1cm57dHlwZTpcIkZlYXR1cmVcIixpZDplLmlkLHByb3BlcnRpZXM6TihlKSxnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6Wyh0PWUueCwzNjAqKHQtLjUpKSxxKGUueSldfX07dmFyIHR9ZnVuY3Rpb24gTihlKXtjb25zdCB0PWUubnVtUG9pbnRzLHI9dD49MWU0P01hdGgucm91bmQodC8xZTMpK1wia1wiOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCtcImtcIjp0O3JldHVybiBaKFooe30sZS5wcm9wZXJ0aWVzKSx7Y2x1c3RlcjohMCxjbHVzdGVyX2lkOmUuaWQscG9pbnRfY291bnQ6dCxwb2ludF9jb3VudF9hYmJyZXZpYXRlZDpyfSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gRyhlKXtjb25zdCB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIHEoZSl7Y29uc3QgdD0oMTgwLTM2MCplKSpNYXRoLlBJLzE4MDtyZXR1cm4gMzYwKk1hdGguYXRhbihNYXRoLmV4cCh0KSkvTWF0aC5QSS05MH1mdW5jdGlvbiBaKGUsdCl7Zm9yKGNvbnN0IHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gJChlKXtyZXR1cm4gZS54fWZ1bmN0aW9uIFcoZSl7cmV0dXJuIGUueX1mdW5jdGlvbiBYKGUsdCxyLG4saSxvKXt2YXIgYT1pLXIscz1vLW47aWYoMCE9PWF8fDAhPT1zKXt2YXIgbD0oKGUtcikqYSsodC1uKSpzKS8oYSphK3Mqcyk7bD4xPyhyPWksbj1vKTpsPjAmJihyKz1hKmwsbis9cypsKX1yZXR1cm4oYT1lLXIpKmErKHM9dC1uKSpzfWZ1bmN0aW9uIEgoZSx0LHIsbil7dmFyIGk9e2lkOnZvaWQgMD09PWU/bnVsbDplLHR5cGU6dCxnZW9tZXRyeTpyLHRhZ3M6bixtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeSxyPWUudHlwZTtpZihcIlBvaW50XCI9PT1yfHxcIk11bHRpUG9pbnRcIj09PXJ8fFwiTGluZVN0cmluZ1wiPT09cilZKGUsdCk7ZWxzZSBpZihcIlBvbHlnb25cIj09PXJ8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1yKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKVkoZSx0W25dKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1yKWZvcihuPTA7bjx0Lmxlbmd0aDtuKyspZm9yKHZhciBpPTA7aTx0W25dLmxlbmd0aDtpKyspWShlLHRbbl1baV0pfShpKSxpfWZ1bmN0aW9uIFkoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrPTMpZS5taW5YPU1hdGgubWluKGUubWluWCx0W3JdKSxlLm1pblk9TWF0aC5taW4oZS5taW5ZLHRbcisxXSksZS5tYXhYPU1hdGgubWF4KGUubWF4WCx0W3JdKSxlLm1heFk9TWF0aC5tYXgoZS5tYXhZLHRbcisxXSl9ZnVuY3Rpb24gSyhlLHQscixuKXtpZih0Lmdlb21ldHJ5KXt2YXIgaT10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLG89dC5nZW9tZXRyeS50eXBlLGE9TWF0aC5wb3coci50b2xlcmFuY2UvKCgxPDxyLm1heFpvb20pKnIuZXh0ZW50KSwyKSxzPVtdLGw9dC5pZDtpZihyLnByb21vdGVJZD9sPXQucHJvcGVydGllc1tyLnByb21vdGVJZF06ci5nZW5lcmF0ZUlkJiYobD1ufHwwKSxcIlBvaW50XCI9PT1vKUooaSxzKTtlbHNlIGlmKFwiTXVsdGlQb2ludFwiPT09bylmb3IodmFyIGM9MDtjPGkubGVuZ3RoO2MrKylKKGlbY10scyk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PW8pUShpLHMsYSwhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09byl7aWYoci5saW5lTWV0cmljcyl7Zm9yKGM9MDtjPGkubGVuZ3RoO2MrKylRKGlbY10scz1bXSxhLCExKSxlLnB1c2goSChsLFwiTGluZVN0cmluZ1wiLHMsdC5wcm9wZXJ0aWVzKSk7cmV0dXJufWVlKGkscyxhLCExKX1lbHNlIGlmKFwiUG9seWdvblwiPT09byllZShpLHMsYSwhMCk7ZWxzZXtpZihcIk11bHRpUG9seWdvblwiIT09byl7aWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PW8pe2ZvcihjPTA7Yzx0Lmdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoO2MrKylLKGUse2lkOmwsZ2VvbWV0cnk6dC5nZW9tZXRyeS5nZW9tZXRyaWVzW2NdLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzfSxyLG4pO3JldHVybn10aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBkYXRhIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LlwiKX1mb3IoYz0wO2M8aS5sZW5ndGg7YysrKXt2YXIgdT1bXTtlZShpW2NdLHUsYSwhMCkscy5wdXNoKHUpfX1lLnB1c2goSChsLG8scyx0LnByb3BlcnRpZXMpKX19ZnVuY3Rpb24gSihlLHQpe3QucHVzaCh0ZShlWzBdKSksdC5wdXNoKHJlKGVbMV0pKSx0LnB1c2goMCl9ZnVuY3Rpb24gUShlLHQscixuKXtmb3IodmFyIGksbyxhPTAscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbD10ZShlW3NdWzBdKSxjPXJlKGVbc11bMV0pO3QucHVzaChsKSx0LnB1c2goYyksdC5wdXNoKDApLHM+MCYmKGErPW4/KGkqYy1sKm8pLzI6TWF0aC5zcXJ0KE1hdGgucG93KGwtaSwyKStNYXRoLnBvdyhjLW8sMikpKSxpPWwsbz1jfXZhciB1PXQubGVuZ3RoLTM7dFsyXT0xLGZ1bmN0aW9uIGUodCxyLG4saSl7Zm9yKHZhciBvLGE9aSxzPW4tcj4+MSxsPW4tcixjPXRbcl0sdT10W3IrMV0saD10W25dLGQ9dFtuKzFdLHA9ciszO3A8bjtwKz0zKXt2YXIgZj1YKHRbcF0sdFtwKzFdLGMsdSxoLGQpO2lmKGY+YSlvPXAsYT1mO2Vsc2UgaWYoZj09PWEpe3ZhciBtPU1hdGguYWJzKHAtcyk7bTxsJiYobz1wLGw9bSl9fWE+aSYmKG8tcj4zJiZlKHQscixvLGkpLHRbbysyXT1hLG4tbz4zJiZlKHQsbyxuLGkpKX0odCwwLHUsciksdFt1KzJdPTEsdC5zaXplPU1hdGguYWJzKGEpLHQuc3RhcnQ9MCx0LmVuZD10LnNpemV9ZnVuY3Rpb24gZWUoZSx0LHIsbil7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPVtdO1EoZVtpXSxvLHIsbiksdC5wdXNoKG8pfX1mdW5jdGlvbiB0ZShlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gcmUoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gbmUoZSx0LHIsbixpLG8sYSxzKXtpZihuLz10LG8+PShyLz10KSYmYTxuKXJldHVybiBlO2lmKGE8cnx8bz49bilyZXR1cm4gbnVsbDtmb3IodmFyIGw9W10sYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgdT1lW2NdLGg9dS5nZW9tZXRyeSxkPXUudHlwZSxwPTA9PT1pP3UubWluWDp1Lm1pblksZj0wPT09aT91Lm1heFg6dS5tYXhZO2lmKHA+PXImJmY8bilsLnB1c2godSk7ZWxzZSBpZighKGY8cnx8cD49bikpe3ZhciBtPVtdO2lmKFwiUG9pbnRcIj09PWR8fFwiTXVsdGlQb2ludFwiPT09ZClpZShoLG0scixuLGkpO2Vsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1kKW9lKGgsbSxyLG4saSwhMSxzLmxpbmVNZXRyaWNzKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1kKXNlKGgsbSxyLG4saSwhMSk7ZWxzZSBpZihcIlBvbHlnb25cIj09PWQpc2UoaCxtLHIsbixpLCEwKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1kKWZvcih2YXIgZz0wO2c8aC5sZW5ndGg7ZysrKXt2YXIgXz1bXTtzZShoW2ddLF8scixuLGksITApLF8ubGVuZ3RoJiZtLnB1c2goXyl9aWYobS5sZW5ndGgpe2lmKHMubGluZU1ldHJpY3MmJlwiTGluZVN0cmluZ1wiPT09ZCl7Zm9yKGc9MDtnPG0ubGVuZ3RoO2crKylsLnB1c2goSCh1LmlkLGQsbVtnXSx1LnRhZ3MpKTtjb250aW51ZX1cIkxpbmVTdHJpbmdcIiE9PWQmJlwiTXVsdGlMaW5lU3RyaW5nXCIhPT1kfHwoMT09PW0ubGVuZ3RoPyhkPVwiTGluZVN0cmluZ1wiLG09bVswXSk6ZD1cIk11bHRpTGluZVN0cmluZ1wiKSxcIlBvaW50XCIhPT1kJiZcIk11bHRpUG9pbnRcIiE9PWR8fChkPTM9PT1tLmxlbmd0aD9cIlBvaW50XCI6XCJNdWx0aVBvaW50XCIpLGwucHVzaChIKHUuaWQsZCxtLHUudGFncykpfX19cmV0dXJuIGwubGVuZ3RoP2w6bnVsbH1mdW5jdGlvbiBpZShlLHQscixuLGkpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9Myl7dmFyIGE9ZVtvK2ldO2E+PXImJmE8PW4mJih0LnB1c2goZVtvXSksdC5wdXNoKGVbbysxXSksdC5wdXNoKGVbbysyXSkpfX1mdW5jdGlvbiBvZShlLHQscixuLGksbyxhKXtmb3IodmFyIHMsbCxjPWFlKGUpLHU9MD09PWk/Y2U6dWUsaD1lLnN0YXJ0LGQ9MDtkPGUubGVuZ3RoLTM7ZCs9Myl7dmFyIHA9ZVtkXSxmPWVbZCsxXSxtPWVbZCsyXSxnPWVbZCszXSxfPWVbZCs0XSx5PTA9PT1pP3A6Zix2PTA9PT1pP2c6Xyx4PSExO2EmJihzPU1hdGguc3FydChNYXRoLnBvdyhwLWcsMikrTWF0aC5wb3coZi1fLDIpKSkseTxyP3Y+ciYmKGw9dShjLHAsZixnLF8sciksYSYmKGMuc3RhcnQ9aCtzKmwpKTp5Pm4/djxuJiYobD11KGMscCxmLGcsXyxuKSxhJiYoYy5zdGFydD1oK3MqbCkpOmxlKGMscCxmLG0pLHY8ciYmeT49ciYmKGw9dShjLHAsZixnLF8scikseD0hMCksdj5uJiZ5PD1uJiYobD11KGMscCxmLGcsXyxuKSx4PSEwKSwhbyYmeCYmKGEmJihjLmVuZD1oK3MqbCksdC5wdXNoKGMpLGM9YWUoZSkpLGEmJihoKz1zKX12YXIgYj1lLmxlbmd0aC0zO3A9ZVtiXSxmPWVbYisxXSxtPWVbYisyXSwoeT0wPT09aT9wOmYpPj1yJiZ5PD1uJiZsZShjLHAsZixtKSxiPWMubGVuZ3RoLTMsbyYmYj49MyYmKGNbYl0hPT1jWzBdfHxjW2IrMV0hPT1jWzFdKSYmbGUoYyxjWzBdLGNbMV0sY1syXSksYy5sZW5ndGgmJnQucHVzaChjKX1mdW5jdGlvbiBhZShlKXt2YXIgdD1bXTtyZXR1cm4gdC5zaXplPWUuc2l6ZSx0LnN0YXJ0PWUuc3RhcnQsdC5lbmQ9ZS5lbmQsdH1mdW5jdGlvbiBzZShlLHQscixuLGksbyl7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspb2UoZVthXSx0LHIsbixpLG8sITEpfWZ1bmN0aW9uIGxlKGUsdCxyLG4pe2UucHVzaCh0KSxlLnB1c2gociksZS5wdXNoKG4pfWZ1bmN0aW9uIGNlKGUsdCxyLG4saSxvKXt2YXIgYT0oby10KS8obi10KTtyZXR1cm4gZS5wdXNoKG8pLGUucHVzaChyKyhpLXIpKmEpLGUucHVzaCgxKSxhfWZ1bmN0aW9uIHVlKGUsdCxyLG4saSxvKXt2YXIgYT0oby1yKS8oaS1yKTtyZXR1cm4gZS5wdXNoKHQrKG4tdCkqYSksZS5wdXNoKG8pLGUucHVzaCgxKSxhfWZ1bmN0aW9uIGhlKGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGksbz1lW25dLGE9by50eXBlO2lmKFwiUG9pbnRcIj09PWF8fFwiTXVsdGlQb2ludFwiPT09YXx8XCJMaW5lU3RyaW5nXCI9PT1hKWk9ZGUoby5nZW9tZXRyeSx0KTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1hfHxcIlBvbHlnb25cIj09PWEpe2k9W107Zm9yKHZhciBzPTA7czxvLmdlb21ldHJ5Lmxlbmd0aDtzKyspaS5wdXNoKGRlKG8uZ2VvbWV0cnlbc10sdCkpfWVsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWEpZm9yKGk9W10scz0wO3M8by5nZW9tZXRyeS5sZW5ndGg7cysrKXtmb3IodmFyIGw9W10sYz0wO2M8by5nZW9tZXRyeVtzXS5sZW5ndGg7YysrKWwucHVzaChkZShvLmdlb21ldHJ5W3NdW2NdLHQpKTtpLnB1c2gobCl9ci5wdXNoKEgoby5pZCxhLGksby50YWdzKSl9cmV0dXJuIHJ9ZnVuY3Rpb24gZGUoZSx0KXt2YXIgcj1bXTtyLnNpemU9ZS5zaXplLHZvaWQgMCE9PWUuc3RhcnQmJihyLnN0YXJ0PWUuc3RhcnQsci5lbmQ9ZS5lbmQpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bis9MylyLnB1c2goZVtuXSt0LGVbbisxXSxlW24rMl0pO3JldHVybiByfWZ1bmN0aW9uIHBlKGUsdCl7aWYoZS50cmFuc2Zvcm1lZClyZXR1cm4gZTt2YXIgcixuLGksbz0xPDxlLnosYT1lLngscz1lLnk7Zm9yKHI9MDtyPGUuZmVhdHVyZXMubGVuZ3RoO3IrKyl7dmFyIGw9ZS5mZWF0dXJlc1tyXSxjPWwuZ2VvbWV0cnksdT1sLnR5cGU7aWYobC5nZW9tZXRyeT1bXSwxPT09dSlmb3Iobj0wO248Yy5sZW5ndGg7bis9MilsLmdlb21ldHJ5LnB1c2goZmUoY1tuXSxjW24rMV0sdCxvLGEscykpO2Vsc2UgZm9yKG49MDtuPGMubGVuZ3RoO24rKyl7dmFyIGg9W107Zm9yKGk9MDtpPGNbbl0ubGVuZ3RoO2krPTIpaC5wdXNoKGZlKGNbbl1baV0sY1tuXVtpKzFdLHQsbyxhLHMpKTtsLmdlb21ldHJ5LnB1c2goaCl9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gZmUoZSx0LHIsbixpLG8pe3JldHVybltNYXRoLnJvdW5kKHIqKGUqbi1pKSksTWF0aC5yb3VuZChyKih0Km4tbykpXX1mdW5jdGlvbiBtZShlLHQscixuLGkpe2Zvcih2YXIgbz10PT09aS5tYXhab29tPzA6aS50b2xlcmFuY2UvKCgxPDx0KSppLmV4dGVudCksYT17ZmVhdHVyZXM6W10sbnVtUG9pbnRzOjAsbnVtU2ltcGxpZmllZDowLG51bUZlYXR1cmVzOjAsc291cmNlOm51bGwseDpyLHk6bix6OnQsdHJhbnNmb3JtZWQ6ITEsbWluWDoyLG1pblk6MSxtYXhYOi0xLG1heFk6MH0scz0wO3M8ZS5sZW5ndGg7cysrKXthLm51bUZlYXR1cmVzKyssZ2UoYSxlW3NdLG8saSk7dmFyIGw9ZVtzXS5taW5YLGM9ZVtzXS5taW5ZLHU9ZVtzXS5tYXhYLGg9ZVtzXS5tYXhZO2w8YS5taW5YJiYoYS5taW5YPWwpLGM8YS5taW5ZJiYoYS5taW5ZPWMpLHU+YS5tYXhYJiYoYS5tYXhYPXUpLGg+YS5tYXhZJiYoYS5tYXhZPWgpfXJldHVybiBhfWZ1bmN0aW9uIGdlKGUsdCxyLG4pe3ZhciBpPXQuZ2VvbWV0cnksbz10LnR5cGUsYT1bXTtpZihcIlBvaW50XCI9PT1vfHxcIk11bHRpUG9pbnRcIj09PW8pZm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKz0zKWEucHVzaChpW3NdKSxhLnB1c2goaVtzKzFdKSxlLm51bVBvaW50cysrLGUubnVtU2ltcGxpZmllZCsrO2Vsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1vKV9lKGEsaSxlLHIsITEsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PW98fFwiUG9seWdvblwiPT09bylmb3Iocz0wO3M8aS5sZW5ndGg7cysrKV9lKGEsaVtzXSxlLHIsXCJQb2x5Z29uXCI9PT1vLDA9PT1zKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1vKWZvcih2YXIgbD0wO2w8aS5sZW5ndGg7bCsrKXt2YXIgYz1pW2xdO2ZvcihzPTA7czxjLmxlbmd0aDtzKyspX2UoYSxjW3NdLGUsciwhMCwwPT09cyl9aWYoYS5sZW5ndGgpe3ZhciB1PXQudGFnc3x8bnVsbDtpZihcIkxpbmVTdHJpbmdcIj09PW8mJm4ubGluZU1ldHJpY3Mpe2Zvcih2YXIgaCBpbiB1PXt9LHQudGFncyl1W2hdPXQudGFnc1toXTt1Lm1hcGJveF9jbGlwX3N0YXJ0PWkuc3RhcnQvaS5zaXplLHUubWFwYm94X2NsaXBfZW5kPWkuZW5kL2kuc2l6ZX12YXIgZD17Z2VvbWV0cnk6YSx0eXBlOlwiUG9seWdvblwiPT09b3x8XCJNdWx0aVBvbHlnb25cIj09PW8/MzpcIkxpbmVTdHJpbmdcIj09PW98fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1vPzI6MSx0YWdzOnV9O251bGwhPT10LmlkJiYoZC5pZD10LmlkKSxlLmZlYXR1cmVzLnB1c2goZCl9fWZ1bmN0aW9uIF9lKGUsdCxyLG4saSxvKXt2YXIgYT1uKm47aWYobj4wJiZ0LnNpemU8KGk/YTpuKSlyLm51bVBvaW50cys9dC5sZW5ndGgvMztlbHNle2Zvcih2YXIgcz1bXSxsPTA7bDx0Lmxlbmd0aDtsKz0zKSgwPT09bnx8dFtsKzJdPmEpJiYoci5udW1TaW1wbGlmaWVkKysscy5wdXNoKHRbbF0pLHMucHVzaCh0W2wrMV0pKSxyLm51bVBvaW50cysrO2kmJmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj0wLGk9ZS5sZW5ndGgsbz1pLTI7bjxpO289bixuKz0yKXIrPShlW25dLWVbb10pKihlW24rMV0rZVtvKzFdKTtpZihyPjA9PT10KWZvcihuPTAsaT1lLmxlbmd0aDtuPGkvMjtuKz0yKXt2YXIgYT1lW25dLHM9ZVtuKzFdO2Vbbl09ZVtpLTItbl0sZVtuKzFdPWVbaS0xLW5dLGVbaS0yLW5dPWEsZVtpLTEtbl09c319KHMsbyksZS5wdXNoKHMpfX1mdW5jdGlvbiB5ZShlLHQpe3ZhciByPSh0PXRoaXMub3B0aW9ucz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX0oT2JqZWN0LmNyZWF0ZSh0aGlzLm9wdGlvbnMpLHQpKS5kZWJ1ZztpZihyJiZjb25zb2xlLnRpbWUoXCJwcmVwcm9jZXNzIGRhdGFcIiksdC5tYXhab29tPDB8fHQubWF4Wm9vbT4yNCl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIHNob3VsZCBiZSBpbiB0aGUgMC0yNCByYW5nZVwiKTtpZih0LnByb21vdGVJZCYmdC5nZW5lcmF0ZUlkKXRocm93IG5ldyBFcnJvcihcInByb21vdGVJZCBhbmQgZ2VuZXJhdGVJZCBjYW5ub3QgYmUgdXNlZCB0b2dldGhlci5cIik7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1lLnR5cGUpZm9yKHZhciBuPTA7bjxlLmZlYXR1cmVzLmxlbmd0aDtuKyspSyhyLGUuZmVhdHVyZXNbbl0sdCxuKTtlbHNlIEsocixcIkZlYXR1cmVcIj09PWUudHlwZT9lOntnZW9tZXRyeTplfSx0KTtyZXR1cm4gcn0oZSx0KTt0aGlzLnRpbGVzPXt9LHRoaXMudGlsZUNvb3Jkcz1bXSxyJiYoY29uc29sZS50aW1lRW5kKFwicHJlcHJvY2VzcyBkYXRhXCIpLGNvbnNvbGUubG9nKFwiaW5kZXg6IG1heFpvb206ICVkLCBtYXhQb2ludHM6ICVkXCIsdC5pbmRleE1heFpvb20sdC5pbmRleE1heFBvaW50cyksY29uc29sZS50aW1lKFwiZ2VuZXJhdGUgdGlsZXNcIiksdGhpcy5zdGF0cz17fSx0aGlzLnRvdGFsPTApLChuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5idWZmZXIvdC5leHRlbnQsbj1lLGk9bmUoZSwxLC0xLXIsciwwLC0xLDIsdCksbz1uZShlLDEsMS1yLDIrciwwLC0xLDIsdCk7cmV0dXJuKGl8fG8pJiYobj1uZShlLDEsLXIsMStyLDAsLTEsMix0KXx8W10saSYmKG49aGUoaSwxKS5jb25jYXQobikpLG8mJihuPW4uY29uY2F0KGhlKG8sLTEpKSkpLG59KG4sdCkpLmxlbmd0aCYmdGhpcy5zcGxpdFRpbGUobiwwLDAsMCksciYmKG4ubGVuZ3RoJiZjb25zb2xlLmxvZyhcImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZFwiLHRoaXMudGlsZXNbMF0ubnVtRmVhdHVyZXMsdGhpcy50aWxlc1swXS5udW1Qb2ludHMpLGNvbnNvbGUudGltZUVuZChcImdlbmVyYXRlIHRpbGVzXCIpLGNvbnNvbGUubG9nKFwidGlsZXMgZ2VuZXJhdGVkOlwiLHRoaXMudG90YWwsSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cykpKX1mdW5jdGlvbiB2ZShlLHQscil7cmV0dXJuIDMyKigoMTw8ZSkqcit0KStlfWZ1bmN0aW9uIHhlKGUsdCl7Y29uc3Qgcj1lLnRpbGVJRC5jYW5vbmljYWw7aWYoIXRoaXMuX2dlb0pTT05JbmRleClyZXR1cm4gdChudWxsLG51bGwpO2NvbnN0IG49dGhpcy5fZ2VvSlNPTkluZGV4LmdldFRpbGUoci56LHIueCxyLnkpO2lmKCFuKXJldHVybiB0KG51bGwsbnVsbCk7Y29uc3QgaT1uZXcgdShuLmZlYXR1cmVzKTtsZXQgbz1oLmV4cG9ydHMoaSk7MD09PW8uYnl0ZU9mZnNldCYmby5ieXRlTGVuZ3RoPT09by5idWZmZXIuYnl0ZUxlbmd0aHx8KG89bmV3IFVpbnQ4QXJyYXkobykpLHQobnVsbCx7dmVjdG9yVGlsZTppLHJhd0RhdGE6by5idWZmZXJ9KX15ZS5wcm90b3R5cGUub3B0aW9ucz17bWF4Wm9vbToxNCxpbmRleE1heFpvb206NSxpbmRleE1heFBvaW50czoxZTUsdG9sZXJhbmNlOjMsZXh0ZW50OjQwOTYsYnVmZmVyOjY0LGxpbmVNZXRyaWNzOiExLHByb21vdGVJZDpudWxsLGdlbmVyYXRlSWQ6ITEsZGVidWc6MH0seWUucHJvdG90eXBlLnNwbGl0VGlsZT1mdW5jdGlvbihlLHQscixuLGksbyxhKXtmb3IodmFyIHM9W2UsdCxyLG5dLGw9dGhpcy5vcHRpb25zLGM9bC5kZWJ1ZztzLmxlbmd0aDspe249cy5wb3AoKSxyPXMucG9wKCksdD1zLnBvcCgpLGU9cy5wb3AoKTt2YXIgdT0xPDx0LGg9dmUodCxyLG4pLGQ9dGhpcy50aWxlc1toXTtpZighZCYmKGM+MSYmY29uc29sZS50aW1lKFwiY3JlYXRpb25cIiksZD10aGlzLnRpbGVzW2hdPW1lKGUsdCxyLG4sbCksdGhpcy50aWxlQ29vcmRzLnB1c2goe3o6dCx4OnIseTpufSksYykpe2M+MSYmKGNvbnNvbGUubG9nKFwidGlsZSB6JWQtJWQtJWQgKGZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCwgc2ltcGxpZmllZDogJWQpXCIsdCxyLG4sZC5udW1GZWF0dXJlcyxkLm51bVBvaW50cyxkLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZChcImNyZWF0aW9uXCIpKTt2YXIgcD1cInpcIit0O3RoaXMuc3RhdHNbcF09KHRoaXMuc3RhdHNbcF18fDApKzEsdGhpcy50b3RhbCsrfWlmKGQuc291cmNlPWUsaSl7aWYodD09PWwubWF4Wm9vbXx8dD09PWkpY29udGludWU7dmFyIGY9MTw8aS10O2lmKHIhPT1NYXRoLmZsb29yKG8vZil8fG4hPT1NYXRoLmZsb29yKGEvZikpY29udGludWV9ZWxzZSBpZih0PT09bC5pbmRleE1heFpvb218fGQubnVtUG9pbnRzPD1sLmluZGV4TWF4UG9pbnRzKWNvbnRpbnVlO2lmKGQuc291cmNlPW51bGwsMCE9PWUubGVuZ3RoKXtjPjEmJmNvbnNvbGUudGltZShcImNsaXBwaW5nXCIpO3ZhciBtLGcsXyx5LHYseCxiPS41KmwuYnVmZmVyL2wuZXh0ZW50LHc9LjUtYixUPS41K2IsRT0xK2I7bT1nPV89eT1udWxsLHY9bmUoZSx1LHItYixyK1QsMCxkLm1pblgsZC5tYXhYLGwpLHg9bmUoZSx1LHIrdyxyK0UsMCxkLm1pblgsZC5tYXhYLGwpLGU9bnVsbCx2JiYobT1uZSh2LHUsbi1iLG4rVCwxLGQubWluWSxkLm1heFksbCksZz1uZSh2LHUsbit3LG4rRSwxLGQubWluWSxkLm1heFksbCksdj1udWxsKSx4JiYoXz1uZSh4LHUsbi1iLG4rVCwxLGQubWluWSxkLm1heFksbCkseT1uZSh4LHUsbit3LG4rRSwxLGQubWluWSxkLm1heFksbCkseD1udWxsKSxjPjEmJmNvbnNvbGUudGltZUVuZChcImNsaXBwaW5nXCIpLHMucHVzaChtfHxbXSx0KzEsMipyLDIqbikscy5wdXNoKGd8fFtdLHQrMSwyKnIsMipuKzEpLHMucHVzaChffHxbXSx0KzEsMipyKzEsMipuKSxzLnB1c2goeXx8W10sdCsxLDIqcisxLDIqbisxKX19fSx5ZS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5vcHRpb25zLGk9bi5leHRlbnQsbz1uLmRlYnVnO2lmKGU8MHx8ZT4yNClyZXR1cm4gbnVsbDt2YXIgYT0xPDxlLHM9dmUoZSx0PSh0JWErYSklYSxyKTtpZih0aGlzLnRpbGVzW3NdKXJldHVybiBwZSh0aGlzLnRpbGVzW3NdLGkpO28+MSYmY29uc29sZS5sb2coXCJkcmlsbGluZyBkb3duIHRvIHolZC0lZC0lZFwiLGUsdCxyKTtmb3IodmFyIGwsYz1lLHU9dCxoPXI7IWwmJmM+MDspYy0tLHU9TWF0aC5mbG9vcih1LzIpLGg9TWF0aC5mbG9vcihoLzIpLGw9dGhpcy50aWxlc1t2ZShjLHUsaCldO3JldHVybiBsJiZsLnNvdXJjZT8obz4xJiZjb25zb2xlLmxvZyhcImZvdW5kIHBhcmVudCB0aWxlIHolZC0lZC0lZFwiLGMsdSxoKSxvPjEmJmNvbnNvbGUudGltZShcImRyaWxsaW5nIGRvd25cIiksdGhpcy5zcGxpdFRpbGUobC5zb3VyY2UsYyx1LGgsZSx0LHIpLG8+MSYmY29uc29sZS50aW1lRW5kKFwiZHJpbGxpbmcgZG93blwiKSx0aGlzLnRpbGVzW3NdP3BlKHRoaXMudGlsZXNbc10saSk6bnVsbCk6bnVsbH07Y2xhc3MgYmUgZXh0ZW5kcyBlLlZlY3RvclRpbGVXb3JrZXJTb3VyY2V7Y29uc3RydWN0b3IoZSx0LHIsbixpKXtzdXBlcihlLHQscixuLHhlKSxpJiYodGhpcy5sb2FkR2VvSlNPTj1pKX1sb2FkRGF0YSh0LHIpe2NvbnN0IG49dCYmdC5yZXF1ZXN0LGk9biYmbi5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7dGhpcy5sb2FkR2VvSlNPTih0LChhLHMpPT57aWYoYXx8IXMpcmV0dXJuIHIoYSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHMpcmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3tvKHMsITApO3RyeXtpZih0LmZpbHRlcil7Y29uc3Qgcj1lLmNyZWF0ZUV4cHJlc3Npb24odC5maWx0ZXIse3R5cGU6XCJib29sZWFuXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLG92ZXJyaWRhYmxlOiExLHRyYW5zaXRpb246ITF9KTtpZihcImVycm9yXCI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO2NvbnN0IG49cy5mZWF0dXJlcy5maWx0ZXIoZT0+ci52YWx1ZS5ldmFsdWF0ZSh7em9vbTowfSxlKSk7cz17dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6bn19dGhpcy5fZ2VvSlNPTkluZGV4PXQuY2x1c3Rlcj9uZXcgQihmdW5jdGlvbih7c3VwZXJjbHVzdGVyT3B0aW9uczp0LGNsdXN0ZXJQcm9wZXJ0aWVzOnJ9KXtpZighcnx8IXQpcmV0dXJuIHQ7Y29uc3Qgbj17fSxpPXt9LG89e2FjY3VtdWxhdGVkOm51bGwsem9vbTowfSxhPXtwcm9wZXJ0aWVzOm51bGx9LHM9T2JqZWN0LmtleXMocik7Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3RbbyxhXT1yW3RdLHM9ZS5jcmVhdGVFeHByZXNzaW9uKGEpLGw9ZS5jcmVhdGVFeHByZXNzaW9uKFwic3RyaW5nXCI9PXR5cGVvZiBvP1tvLFtcImFjY3VtdWxhdGVkXCJdLFtcImdldFwiLHRdXTpvKTtuW3RdPXMudmFsdWUsaVt0XT1sLnZhbHVlfXJldHVybiB0Lm1hcD1lPT57YS5wcm9wZXJ0aWVzPWU7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBzKXRbZV09bltlXS5ldmFsdWF0ZShvLGEpO3JldHVybiB0fSx0LnJlZHVjZT0oZSx0KT0+e2EucHJvcGVydGllcz10O2Zvcihjb25zdCB0IG9mIHMpby5hY2N1bXVsYXRlZD1lW3RdLGVbdF09aVt0XS5ldmFsdWF0ZShvLGEpfSx0fSh0KSkubG9hZChzLmZlYXR1cmVzKTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgeWUoZSx0KX0ocyx0Lmdlb2pzb25WdE9wdGlvbnMpfWNhdGNoKGEpe3JldHVybiByKGEpfXRoaXMubG9hZGVkPXt9O2NvbnN0IGw9e307aWYoaSl7Y29uc3Qgcj1lLmdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQobik7ciYmKGwucmVzb3VyY2VUaW1pbmc9e30sbC5yZXNvdXJjZVRpbWluZ1t0LnNvdXJjZV09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyKSkpfXIobnVsbCxsKX19KX1yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZDtyZXR1cm4gciYmcltlLnVpZF0/c3VwZXIucmVsb2FkVGlsZShlLHQpOnRoaXMubG9hZFRpbGUoZSx0KX1sb2FkR2VvSlNPTih0LHIpe2lmKHQucmVxdWVzdCllLmdldEpTT04odC5yZXF1ZXN0LHIpO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQuZGF0YSlyZXR1cm4gcihuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7dC5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSk7dHJ5e3JldHVybiByKG51bGwsSlNPTi5wYXJzZSh0LmRhdGEpKX1jYXRjaChlKXtyZXR1cm4gcihuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7dC5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSl9fX1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUuY2x1c3RlcklkKSl9Y2F0Y2goZSl7dChlKX19Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4oZS5jbHVzdGVySWQpKX1jYXRjaChlKXt0KGUpfX1nZXRDbHVzdGVyTGVhdmVzKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0TGVhdmVzKGUuY2x1c3RlcklkLGUubGltaXQsZS5vZmZzZXQpKX1jYXRjaChlKXt0KGUpfX19Y2xhc3Mgd2V7Y29uc3RydWN0b3IodCl7dGhpcy5zZWxmPXQsdGhpcy5hY3Rvcj1uZXcgZS5BY3Rvcih0LHRoaXMpLHRoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXt9LHRoaXMuaXNTcHJpdGVMb2FkZWQ9e30sdGhpcy5wcm9qZWN0aW9ucz17fSx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KSx0aGlzLndvcmtlclNvdXJjZVR5cGVzPXt2ZWN0b3I6ZS5WZWN0b3JUaWxlV29ya2VyU291cmNlLGdlb2pzb246YmV9LHRoaXMud29ya2VyU291cmNlcz17fSx0aGlzLmRlbVdvcmtlclNvdXJjZXM9e30sdGhpcy5zZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlPShlLHQpPT57aWYodGhpcy53b3JrZXJTb3VyY2VUeXBlc1tlXSl0aHJvdyBuZXcgRXJyb3IoYFdvcmtlciBzb3VyY2Ugd2l0aCBuYW1lIFwiJHtlfVwiIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTt0aGlzLndvcmtlclNvdXJjZVR5cGVzW2VdPXR9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49dD0+e2lmKGUucGx1Z2luLmlzUGFyc2VkKCkpdGhyb3cgbmV3IEVycm9yKFwiUlRMIHRleHQgcGx1Z2luIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7ZS5wbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nPXQuYXBwbHlBcmFiaWNTaGFwaW5nLGUucGx1Z2luLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCxlLnBsdWdpbi5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHR9fWNsZWFyQ2FjaGVzKGUsdCxyKXtkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV0sZGVsZXRlIHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdLGRlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV0sZGVsZXRlIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXSxyKCl9Y2hlY2tJZlJlYWR5KGUsdCxyKXtyKCl9c2V0UmVmZXJyZXIoZSx0KXt0aGlzLnJlZmVycmVyPXR9c3ByaXRlTG9hZGVkKHQscil7dGhpcy5pc1Nwcml0ZUxvYWRlZFt0XT1yO2Zvcihjb25zdCBuIGluIHRoaXMud29ya2VyU291cmNlc1t0XSl7Y29uc3QgaT10aGlzLndvcmtlclNvdXJjZXNbdF1bbl07Zm9yKGNvbnN0IHQgaW4gaSlpW3RdaW5zdGFuY2VvZiBlLlZlY3RvclRpbGVXb3JrZXJTb3VyY2UmJihpW3RdLmlzU3ByaXRlTG9hZGVkPXIsaVt0XS5maXJlKG5ldyBlLkV2ZW50KFwiaXNTcHJpdGVMb2FkZWRcIikpKX19c2V0SW1hZ2VzKGUsdCxyKXt0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT10O2Zvcihjb25zdCByIGluIHRoaXMud29ya2VyU291cmNlc1tlXSl7Y29uc3Qgbj10aGlzLndvcmtlclNvdXJjZXNbZV1bcl07Zm9yKGNvbnN0IGUgaW4gbiluW2VdLmF2YWlsYWJsZUltYWdlcz10fXIoKX1lbmFibGVUZXJyYWluKGUsdCxyKXt0aGlzLnRlcnJhaW49dCxyKCl9c2V0UHJvamVjdGlvbih0LHIpe3RoaXMucHJvamVjdGlvbnNbdF09ZS5nZXRQcm9qZWN0aW9uKHIpfXNldExheWVycyhlLHQscil7dGhpcy5nZXRMYXllckluZGV4KGUpLnJlcGxhY2UodCkscigpfXVwZGF0ZUxheWVycyhlLHQscil7dGhpcy5nZXRMYXllckluZGV4KGUpLnVwZGF0ZSh0LmxheWVycyx0LnJlbW92ZWRJZHMpLHIoKX1sb2FkVGlsZSh0LHIsbil7Y29uc3QgaT10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2VuYWJsZVRlcnJhaW46dGhpcy50ZXJyYWlufSxyKTpyO2kucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW3RdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKHQsci50eXBlLHIuc291cmNlKS5sb2FkVGlsZShpLG4pfWxvYWRERU1UaWxlKHQscixuKXtjb25zdCBpPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7YnVpbGRRdWFkVHJlZTp0aGlzLnRlcnJhaW59LHIpOnI7dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UodCxyLnNvdXJjZSkubG9hZFRpbGUoaSxuKX1yZWxvYWRUaWxlKHQscixuKXtjb25zdCBpPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7ZW5hYmxlVGVycmFpbjp0aGlzLnRlcnJhaW59LHIpOnI7aS5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbdF18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UodCxyLnR5cGUsci5zb3VyY2UpLnJlbG9hZFRpbGUoaSxuKX1hYm9ydFRpbGUoZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5hYm9ydFRpbGUodCxyKX1yZW1vdmVUaWxlKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkucmVtb3ZlVGlsZSh0LHIpfXJlbW92ZVNvdXJjZShlLHQscil7aWYoIXRoaXMud29ya2VyU291cmNlc1tlXXx8IXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdfHwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdKXJldHVybjtjb25zdCBuPXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXTtkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdLHZvaWQgMCE9PW4ucmVtb3ZlU291cmNlP24ucmVtb3ZlU291cmNlKHQscik6cigpfWxvYWRXb3JrZXJTb3VyY2UoZSx0LHIpe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCkscigpfWNhdGNoKGUpe3IoZS50b1N0cmluZygpKX19c3luY1JUTFBsdWdpblN0YXRlKHQscixuKXt0cnl7ZS5wbHVnaW4uc2V0U3RhdGUocik7Y29uc3QgdD1lLnBsdWdpbi5nZXRQbHVnaW5VUkwoKTtpZihlLnBsdWdpbi5pc0xvYWRlZCgpJiYhZS5wbHVnaW4uaXNQYXJzZWQoKSYmbnVsbCE9dCl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModCk7Y29uc3Qgcj1lLnBsdWdpbi5pc1BhcnNlZCgpO24ocj92b2lkIDA6bmV3IEVycm9yKFwiUlRMIFRleHQgUGx1Z2luIGZhaWxlZCB0byBpbXBvcnQgc2NyaXB0cyBmcm9tIFwiK3QpLHIpfX1jYXRjaChlKXtuKGUudG9TdHJpbmcoKSl9fWdldEF2YWlsYWJsZUltYWdlcyhlKXtsZXQgdD10aGlzLmF2YWlsYWJsZUltYWdlc1tlXTtyZXR1cm4gdHx8KHQ9W10pLHR9Z2V0TGF5ZXJJbmRleChlKXtsZXQgdD10aGlzLmxheWVySW5kZXhlc1tlXTtyZXR1cm4gdHx8KHQ9dGhpcy5sYXllckluZGV4ZXNbZV09bmV3IG4pLHR9Z2V0V29ya2VyU291cmNlKGUsdCxyKXtpZih0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMud29ya2VyU291cmNlc1tlXVt0XT17fSksIXRoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXSl7Y29uc3Qgbj17c2VuZDoodCxyLG4saSxvLGEpPT57dGhpcy5hY3Rvci5zZW5kKHQscixuLGUsbyxhKX0sc2NoZWR1bGVyOnRoaXMuYWN0b3Iuc2NoZWR1bGVyfTt0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bcl09bmV3IHRoaXMud29ya2VyU291cmNlVHlwZXNbdF0obix0aGlzLmdldExheWVySW5kZXgoZSksdGhpcy5nZXRBdmFpbGFibGVJbWFnZXMoZSksdGhpcy5pc1Nwcml0ZUxvYWRlZFtlXSl9cmV0dXJuIHRoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXX1nZXRERU1Xb3JrZXJTb3VyY2UoZSx0KXtyZXR1cm4gdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdPXt9KSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF09bmV3IGkpLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XX1lbmZvcmNlQ2FjaGVTaXplTGltaXQodCxyKXtlLmVuZm9yY2VDYWNoZVNpemVMaW1pdChyKX1nZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MoZSx0LHIpe3Iodm9pZCAwLHZvaWQgMCl9fXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmKHNlbGYud29ya2VyPW5ldyB3ZShzZWxmKSksd2V9KSksaShbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLHIpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKCFBcnJheS5pc0FycmF5KHIpfHxlLmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKCF0KGVbbl0scltuXSkpcmV0dXJuITE7cmV0dXJuITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT09cil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIpcmV0dXJuITE7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXMocikubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBuIGluIGUpaWYoIXQoZVtuXSxyW25dKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZT09PXJ9dmFyIHI9bjtmdW5jdGlvbiBuKGUpe3JldHVybiFmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQ/XCJub3QgYSBicm93c2VyXCI6QXJyYXkucHJvdG90eXBlJiZBcnJheS5wcm90b3R5cGUuZXZlcnkmJkFycmF5LnByb3RvdHlwZS5maWx0ZXImJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoJiZBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiZBcnJheS5wcm90b3R5cGUubWFwJiZBcnJheS5wcm90b3R5cGUuc29tZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0JiZBcnJheS5pc0FycmF5P0Z1bmN0aW9uLnByb3RvdHlwZSYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ/T2JqZWN0LmtleXMmJk9iamVjdC5jcmVhdGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMmJk9iamVjdC5pc1NlYWxlZCYmT2JqZWN0LmlzRnJvemVuJiZPYmplY3QuaXNFeHRlbnNpYmxlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzJiZPYmplY3Quc2VhbCYmT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zP1wiSlNPTlwiaW4gd2luZG93JiZcInBhcnNlXCJpbiBKU09OJiZcInN0cmluZ2lmeVwiaW4gSlNPTj9mdW5jdGlvbigpe2lmKCEoXCJXb3JrZXJcImluIHdpbmRvdyYmXCJCbG9iXCJpbiB3aW5kb3cmJlwiVVJMXCJpbiB3aW5kb3cpKXJldHVybiExO3ZhciBlLHQscj1uZXcgQmxvYihbXCJcIl0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLG49VVJMLmNyZWF0ZU9iamVjdFVSTChyKTt0cnl7dD1uZXcgV29ya2VyKG4pLGU9ITB9Y2F0Y2godCl7ZT0hMX1yZXR1cm4gdCYmdC50ZXJtaW5hdGUoKSxVUkwucmV2b2tlT2JqZWN0VVJMKG4pLGV9KCk/XCJVaW50OENsYW1wZWRBcnJheVwiaW4gd2luZG93P0FycmF5QnVmZmVyLmlzVmlldz9mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS53aWR0aD1lLmhlaWdodD0xO3ZhciB0PWUuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCF0KXJldHVybiExO3ZhciByPXQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpO3JldHVybiByJiZyLndpZHRoPT09ZS53aWR0aH0oKT8odm9pZCAwPT09aVt0PWUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0mJihpW3RdPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxyPU9iamVjdC5jcmVhdGUobi53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtyZXR1cm4gci5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUsdC5nZXRDb250ZXh0KFwid2ViZ2xcIixyKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIscil9KGUpO2lmKCFyKXJldHVybiExO3RyeXt0PXIuY3JlYXRlU2hhZGVyKHIuVkVSVEVYX1NIQURFUil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuISghdHx8ci5pc0NvbnRleHRMb3N0KCkpJiYoci5zaGFkZXJTb3VyY2UodCxcInZvaWQgbWFpbigpIHt9XCIpLHIuY29tcGlsZVNoYWRlcih0KSwhMD09PXIuZ2V0U2hhZGVyUGFyYW1ldGVyKHQsci5DT01QSUxFX1NUQVRVUykpfSh0KSksaVt0XT9kb2N1bWVudC5kb2N1bWVudE1vZGU/XCJpbnN1ZmZpY2llbnQgRUNNQVNjcmlwdCA2IHN1cHBvcnRcIjp2b2lkIDA6XCJpbnN1ZmZpY2llbnQgV2ViR0wgc3VwcG9ydFwiKTpcImluc3VmZmljaWVudCBDYW52YXMvZ2V0SW1hZ2VEYXRhIHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBBcnJheUJ1ZmZlciBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgVWludDhDbGFtcGVkQXJyYXkgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IHdvcmtlciBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgSlNPTiBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgT2JqZWN0IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBGdW5jdGlvbiBzdXBwb3J0XCI6XCJpbnN1ZmZpY2VudCBBcnJheSBzdXBwb3J0XCI7dmFyIHR9KGUpfXZhciBpPXt9O2Z1bmN0aW9uIG8odCxyLG4pe2NvbnN0IGk9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KTtyZXR1cm4gdm9pZCAwIT09ciYmKGkuY2xhc3NOYW1lPXIpLG4mJm4uYXBwZW5kQ2hpbGQoaSksaX1mdW5jdGlvbiBhKHQscixuKXtjb25zdCBpPWUud2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsdCk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMocikpaS5zZXRBdHRyaWJ1dGVOUyhudWxsLGUscltlXSk7cmV0dXJuIG4mJm4uYXBwZW5kQ2hpbGQoaSksaX1uLndlYkdMQ29udGV4dEF0dHJpYnV0ZXM9e2FudGlhbGlhczohMSxhbHBoYTohMCxzdGVuY2lsOiEwLGRlcHRoOiEwfTtjb25zdCBzPWUud2luZG93LmRvY3VtZW50JiZlLndpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsbD1zJiZ2b2lkIDAhPT1zLnVzZXJTZWxlY3Q/XCJ1c2VyU2VsZWN0XCI6XCJXZWJraXRVc2VyU2VsZWN0XCI7bGV0IGM7ZnVuY3Rpb24gdSgpe3MmJmwmJihjPXNbbF0sc1tsXT1cIm5vbmVcIil9ZnVuY3Rpb24gaCgpe3MmJmwmJihzW2xdPWMpfWZ1bmN0aW9uIGQodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZCwhMCl9ZnVuY3Rpb24gcCgpe2Uud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQsITApLGUud2luZG93LnNldFRpbWVvdXQoKCk9PntlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixkLCEwKX0sMCl9ZnVuY3Rpb24gZihlLHQpe2NvbnN0IHI9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gXyhlLHIsdCl9ZnVuY3Rpb24gbShlLHQpe2NvbnN0IHI9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKW4ucHVzaChfKGUscix0W2ldKSk7cmV0dXJuIG59ZnVuY3Rpb24gZyh0KXtyZXR1cm4gdm9pZCAwIT09ZS53aW5kb3cuSW5zdGFsbFRyaWdnZXImJjI9PT10LmJ1dHRvbiYmdC5jdHJsS2V5JiZlLndpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6dC5idXR0b259ZnVuY3Rpb24gXyh0LHIsbil7Y29uc3QgaT10Lm9mZnNldFdpZHRoPT09ci53aWR0aD8xOnQub2Zmc2V0V2lkdGgvci53aWR0aDtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgobi5jbGllbnRYLXIubGVmdCkqaSwobi5jbGllbnRZLXIudG9wKSppKX1mdW5jdGlvbiB5KGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXIqby1pKm47cmV0dXJuIGE/KGVbMF09byooYT0xL2EpLGVbMV09LW4qYSxlWzJdPS1pKmEsZVszXT1yKmEsZSk6bnVsbH1mdW5jdGlvbiB2KGUpe2NvbnN0e3VzZXJJbWFnZTp0fT1lO3JldHVybiEhKHQmJnQucmVuZGVyJiZ0LnJlbmRlcigpKSYmKGUuZGF0YS5yZXBsYWNlKG5ldyBVaW50OEFycmF5KHQuZGF0YS5idWZmZXIpKSwhMCl9Y2xhc3MgeCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pbWFnZXM9e30sdGhpcy51cGRhdGVkSW1hZ2VzPXt9LHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9LHRoaXMubG9hZGVkPSExLHRoaXMucmVxdWVzdG9ycz1bXSx0aGlzLnBhdHRlcm5zPXt9LHRoaXMuYXRsYXNJbWFnZT1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9KSx0aGlzLmRpcnR5PSEwfWlzTG9hZGVkKCl7cmV0dXJuIHRoaXMubG9hZGVkfXNldExvYWRlZChlKXtpZih0aGlzLmxvYWRlZCE9PWUmJih0aGlzLmxvYWRlZD1lLGUpKXtmb3IoY29uc3R7aWRzOmUsY2FsbGJhY2s6dH1vZiB0aGlzLnJlcXVlc3RvcnMpdGhpcy5fbm90aWZ5KGUsdCk7dGhpcy5yZXF1ZXN0b3JzPVtdfX1oYXNJbWFnZShlKXtyZXR1cm4hIXRoaXMuZ2V0SW1hZ2UoZSl9Z2V0SW1hZ2UoZSl7cmV0dXJuIHRoaXMuaW1hZ2VzW2VdfWFkZEltYWdlKGUsdCl7dGhpcy5fdmFsaWRhdGUoZSx0KSYmKHRoaXMuaW1hZ2VzW2VdPXQpfV92YWxpZGF0ZSh0LHIpe2xldCBuPSEwO3JldHVybiB0aGlzLl92YWxpZGF0ZVN0cmV0Y2goci5zdHJldGNoWCxyLmRhdGEmJnIuZGF0YS53aWR0aCl8fCh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwic3RyZXRjaFhcIiB2YWx1ZWApKSksbj0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKHIuc3RyZXRjaFksci5kYXRhJiZyLmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJzdHJldGNoWVwiIHZhbHVlYCkpKSxuPSExKSx0aGlzLl92YWxpZGF0ZUNvbnRlbnQoci5jb250ZW50LHIpfHwodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcImNvbnRlbnRcIiB2YWx1ZWApKSksbj0hMSksbn1fdmFsaWRhdGVTdHJldGNoKGUsdCl7aWYoIWUpcmV0dXJuITA7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBlKXtpZihuWzBdPHJ8fG5bMV08blswXXx8dDxuWzFdKXJldHVybiExO3I9blsxXX1yZXR1cm4hMH1fdmFsaWRhdGVDb250ZW50KGUsdCl7cmV0dXJuIShlJiYoNCE9PWUubGVuZ3RofHxlWzBdPDB8fHQuZGF0YS53aWR0aDxlWzBdfHxlWzFdPDB8fHQuZGF0YS5oZWlnaHQ8ZVsxXXx8ZVsyXTwwfHx0LmRhdGEud2lkdGg8ZVsyXXx8ZVszXTwwfHx0LmRhdGEuaGVpZ2h0PGVbM118fGVbMl08ZVswXXx8ZVszXTxlWzFdKSl9dXBkYXRlSW1hZ2UoZSx0KXt0LnZlcnNpb249dGhpcy5pbWFnZXNbZV0udmVyc2lvbisxLHRoaXMuaW1hZ2VzW2VdPXQsdGhpcy51cGRhdGVkSW1hZ2VzW2VdPSEwfXJlbW92ZUltYWdlKGUpe2NvbnN0IHQ9dGhpcy5pbWFnZXNbZV07ZGVsZXRlIHRoaXMuaW1hZ2VzW2VdLGRlbGV0ZSB0aGlzLnBhdHRlcm5zW2VdLHQudXNlckltYWdlJiZ0LnVzZXJJbWFnZS5vblJlbW92ZSYmdC51c2VySW1hZ2Uub25SZW1vdmUoKX1saXN0SW1hZ2VzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKX1nZXRJbWFnZXMoZSx0KXtsZXQgcj0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcihjb25zdCB0IG9mIGUpdGhpcy5pbWFnZXNbdF18fChyPSExKTt0aGlzLmlzTG9hZGVkKCl8fHI/dGhpcy5fbm90aWZ5KGUsdCk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczplLGNhbGxiYWNrOnR9KX1fbm90aWZ5KHQscil7Y29uc3Qgbj17fTtmb3IoY29uc3QgciBvZiB0KXt0aGlzLmltYWdlc1tyXXx8dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3R5bGVpbWFnZW1pc3NpbmdcIix7aWQ6cn0pKTtjb25zdCB0PXRoaXMuaW1hZ2VzW3JdO3Q/bltyXT17ZGF0YTp0LmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOnQucGl4ZWxSYXRpbyxzZGY6dC5zZGYsdmVyc2lvbjp0LnZlcnNpb24sc3RyZXRjaFg6dC5zdHJldGNoWCxzdHJldGNoWTp0LnN0cmV0Y2hZLGNvbnRlbnQ6dC5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4odC51c2VySW1hZ2UmJnQudXNlckltYWdlLnJlbmRlcil9OmUud2Fybk9uY2UoYEltYWdlIFwiJHtyfVwiIGNvdWxkIG5vdCBiZSBsb2FkZWQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgYWRkZWQgdGhlIGltYWdlIHdpdGggbWFwLmFkZEltYWdlKCkgb3IgYSBcInNwcml0ZVwiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSBcInN0eWxlaW1hZ2VtaXNzaW5nXCIgbWFwIGV2ZW50LmApfXIobnVsbCxuKX1nZXRQaXhlbFNpemUoKXtjb25zdHt3aWR0aDplLGhlaWdodDp0fT10aGlzLmF0bGFzSW1hZ2U7cmV0dXJue3dpZHRoOmUsaGVpZ2h0OnR9fWdldFBhdHRlcm4odCl7Y29uc3Qgcj10aGlzLnBhdHRlcm5zW3RdLG49dGhpcy5nZXRJbWFnZSh0KTtpZighbilyZXR1cm4gbnVsbDtpZihyJiZyLnBvc2l0aW9uLnZlcnNpb249PT1uLnZlcnNpb24pcmV0dXJuIHIucG9zaXRpb247aWYocilyLnBvc2l0aW9uLnZlcnNpb249bi52ZXJzaW9uO2Vsc2V7Y29uc3Qgcj17dzpuLmRhdGEud2lkdGgrMixoOm4uZGF0YS5oZWlnaHQrMix4OjAseTowfSxpPW5ldyBlLkltYWdlUG9zaXRpb24ocixuKTt0aGlzLnBhdHRlcm5zW3RdPXtiaW46cixwb3NpdGlvbjppfX1yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKCksdGhpcy5wYXR0ZXJuc1t0XS5wb3NpdGlvbn1iaW5kKHQpe2NvbnN0IHI9dC5nbDt0aGlzLmF0bGFzVGV4dHVyZT90aGlzLmRpcnR5JiYodGhpcy5hdGxhc1RleHR1cmUudXBkYXRlKHRoaXMuYXRsYXNJbWFnZSksdGhpcy5kaXJ0eT0hMSk6dGhpcy5hdGxhc1RleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuYXRsYXNJbWFnZSxyLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKX1fdXBkYXRlUGF0dGVybkF0bGFzKCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLnBhdHRlcm5zKXQucHVzaCh0aGlzLnBhdHRlcm5zW2VdLmJpbik7Y29uc3R7dzpyLGg6bn09ZS5wb3RwYWNrKHQpLGk9dGhpcy5hdGxhc0ltYWdlO2kucmVzaXplKHt3aWR0aDpyfHwxLGhlaWdodDpufHwxfSk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wYXR0ZXJucyl7Y29uc3R7YmluOnJ9PXRoaXMucGF0dGVybnNbdF0sbj1yLngrMSxvPXIueSsxLGE9dGhpcy5pbWFnZXNbdF0uZGF0YSxzPWEud2lkdGgsbD1hLmhlaWdodDtlLlJHQkFJbWFnZS5jb3B5KGEsaSx7eDowLHk6MH0se3g6bix5Om99LHt3aWR0aDpzLGhlaWdodDpsfSksZS5SR0JBSW1hZ2UuY29weShhLGkse3g6MCx5OmwtMX0se3g6bix5Om8tMX0se3dpZHRoOnMsaGVpZ2h0OjF9KSxlLlJHQkFJbWFnZS5jb3B5KGEsaSx7eDowLHk6MH0se3g6bix5Om8rbH0se3dpZHRoOnMsaGVpZ2h0OjF9KSxlLlJHQkFJbWFnZS5jb3B5KGEsaSx7eDpzLTEseTowfSx7eDpuLTEseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pLGUuUkdCQUltYWdlLmNvcHkoYSxpLHt4OjAseTowfSx7eDpuK3MseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pfXRoaXMuZGlydHk9ITB9YmVnaW5GcmFtZSgpe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9fWRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKGUpe2Zvcihjb25zdCB0IG9mIGUpe2lmKHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW3RdKWNvbnRpbnVlO3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW3RdPSEwO2NvbnN0IGU9dGhpcy5pbWFnZXNbdF07dihlKSYmdGhpcy51cGRhdGVJbWFnZSh0LGUpfX19Y29uc3QgYj1uZXcgZS5Qcm9wZXJ0aWVzKHthbmNob3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmxpZ2h0LmFuY2hvcikscG9zaXRpb246bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zcGVjaWZpY2F0aW9uPWUuc3BlYy5saWdodC5wb3NpdGlvbn1wb3NzaWJseUV2YWx1YXRlKHQscil7cmV0dXJuIGZ1bmN0aW9uKFt0LHIsbl0pe2NvbnN0IGk9ZS5kZWdUb1JhZChyKzkwKSxvPWUuZGVnVG9SYWQobik7cmV0dXJue3g6dCpNYXRoLmNvcyhpKSpNYXRoLnNpbihvKSx5OnQqTWF0aC5zaW4oaSkqTWF0aC5zaW4obyksejp0Kk1hdGguY29zKG8pLGF6aW11dGhhbDpyLHBvbGFyOm59fSh0LmV4cHJlc3Npb24uZXZhbHVhdGUocikpfWludGVycG9sYXRlKHQscixuKXtyZXR1cm57eDplLm51bWJlcih0Lngsci54LG4pLHk6ZS5udW1iZXIodC55LHIueSxuKSx6OmUubnVtYmVyKHQueixyLnosbiksYXppbXV0aGFsOmUubnVtYmVyKHQuYXppbXV0aGFsLHIuYXppbXV0aGFsLG4pLHBvbGFyOmUubnVtYmVyKHQucG9sYXIsci5wb2xhcixuKX19fSxjb2xvcjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuY29sb3IpLGludGVuc2l0eTpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuaW50ZW5zaXR5KX0pLHc9XCItdHJhbnNpdGlvblwiO2NsYXNzIFQgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5UcmFuc2l0aW9uYWJsZShiKSx0aGlzLnNldExpZ2h0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXRMaWdodCh0LHI9e30pe2lmKCF0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlTGlnaHQsdCxyKSlmb3IoY29uc3QgciBpbiB0KXtjb25zdCBuPXRbcl07ZS5lbmRzV2l0aChyLHcpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24oci5zbGljZSgwLC13Lmxlbmd0aCksbik6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUocixuKX19dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSl9X3ZhbGlkYXRlKHQscixuKXtyZXR1cm4oIW58fCExIT09bi52YWxpZGF0ZSkmJmUuZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcyx0LmNhbGwoZS52YWxpZGF0ZVN0eWxlLGUuZXh0ZW5kKHt2YWx1ZTpyLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfSxzdHlsZVNwZWM6ZS5zcGVjfSkpKX19Y29uc3QgRT1uZXcgZS5Qcm9wZXJ0aWVzKHtzb3VyY2U6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLnRlcnJhaW4uc291cmNlKSxleGFnZ2VyYXRpb246bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLnRlcnJhaW4uZXhhZ2dlcmF0aW9uKX0pLFM9XCItdHJhbnNpdGlvblwiO2NsYXNzIEMgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKEUpLHRoaXMuc2V0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRyYXBlUmVuZGVyTW9kZT1yfWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQodCl7Zm9yKGNvbnN0IHIgaW4gdCl7Y29uc3Qgbj10W3JdO2UuZW5kc1dpdGgocixTKT90aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uKHIuc2xpY2UoMCwtUy5sZW5ndGgpLG4pOnRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKHIsbil9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpfX1mdW5jdGlvbiBNKHQscixuLGkpe2NvbnN0IG89ZS5zbW9vdGhzdGVwKDQ1LDY1LG4pLFthLHNdPWsodCxpKSxsPWUubGVuZ3RoKHIpO2xldCBjPTEtTWF0aC5taW4oMSxNYXRoLmV4cCgobC1hKS8ocy1hKSotNikpO3JldHVybiBjKj1jKmMsYz1NYXRoLm1pbigxLDEuMDA3NDcqYyksYypvKnQuYWxwaGF9ZnVuY3Rpb24gayhlLHQpe2NvbnN0IHI9LjUvTWF0aC50YW4oLjUqdCk7cmV0dXJuW2UucmFuZ2VbMF0rcixlLnJhbmdlWzFdK3JdfWNvbnN0IEE9bmV3IGUuUHJvcGVydGllcyh7cmFuZ2U6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5yYW5nZSksY29sb3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5jb2xvciksXCJoaWdoLWNvbG9yXCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcImhpZ2gtY29sb3JcIl0pLFwic3BhY2UtY29sb3JcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wic3BhY2UtY29sb3JcIl0pLFwiaG9yaXpvbi1ibGVuZFwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJob3Jpem9uLWJsZW5kXCJdKSxcInN0YXItaW50ZW5zaXR5XCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKX0pLEk9XCItdHJhbnNpdGlvblwiO2NsYXNzIFAgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKEEpLHRoaXMuc2V0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLl90cmFuc2Zvcm09cn1nZXQgc3RhdGUoKXtjb25zdCB0PXRoaXMuX3RyYW5zZm9ybSxyPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lLG49ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHQuem9vbSksaT10aGlzLnByb3BlcnRpZXMuZ2V0KFwicmFuZ2VcIiksbz1bLjUsM107cmV0dXJue3JhbmdlOnI/W2UubnVtYmVyKG9bMF0saVswXSxuKSxlLm51bWJlcihvWzFdLGlbMV0sbildOmksaG9yaXpvbkJsZW5kOnRoaXMucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLGFscGhhOnRoaXMucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS5hfX1nZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0KHQscj17fSl7aWYoIXRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGb2csdCxyKSl7Zm9yKGNvbnN0IHIgb2YgT2JqZWN0LmtleXMoZS5zcGVjLmZvZykpdCYmdm9pZCAwPT09dFtyXSYmKHRbcl09ZS5zcGVjLmZvZ1tyXS5kZWZhdWx0KTtmb3IoY29uc3QgciBpbiB0KXtjb25zdCBuPXRbcl07ZS5lbmRzV2l0aChyLEkpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24oci5zbGljZSgwLC1JLmxlbmd0aCksbik6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUocixuKX19fWdldE9wYWNpdHkodCl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAwO2NvbnN0IHI9dGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIil8fDE7cmV0dXJuKFwiZ2xvYmVcIj09PXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/MTplLnNtb290aHN0ZXAoNDUsNjUsdCkpKnIuYX1nZXRPcGFjaXR5QXRMYXRMbmcodCxyKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/ZnVuY3Rpb24odCxyLG4pe2NvbnN0IGk9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChyKSxvPW4uZWxldmF0aW9uP24uZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oaSk6MCxhPVtpLngsaS55LG9dO3JldHVybiBlLnRyYW5zZm9ybU1hdDQoYSxhLG4ubWVyY2F0b3JGb2dNYXRyaXgpLE0odCxhLG4ucGl0Y2gsbi5fZm92KX0odGhpcy5zdGF0ZSx0LHIpOjB9Z2V0Rm92QWRqdXN0ZWRSYW5nZShlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/ayh0aGlzLnN0YXRlLGUpOlswLDFdfXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpfV92YWxpZGF0ZSh0LHIsbil7cmV0dXJuKCFufHwhMSE9PW4udmFsaWRhdGUpJiZlLmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsdC5jYWxsKGUudmFsaWRhdGVTdHlsZSxlLmV4dGVuZCh7dmFsdWU6cixzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOmUuc3BlY30pKSl9fWNsYXNzIHp7Y29uc3RydWN0b3IodCxyKXt0aGlzLndvcmtlclBvb2w9dCx0aGlzLmFjdG9ycz1bXSx0aGlzLmN1cnJlbnRBY3Rvcj0wLHRoaXMuaWQ9ZS51bmlxdWVJZCgpO2NvbnN0IG49dGhpcy53b3JrZXJQb29sLmFjcXVpcmUodGhpcy5pZCk7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHQ9bmV3IHouQWN0b3IobltlXSxyLHRoaXMuaWQpO3QubmFtZT1cIldvcmtlciBcIitlLHRoaXMuYWN0b3JzLnB1c2godCl9dGhpcy5yZWFkeT0hMSx0aGlzLmJyb2FkY2FzdChcImNoZWNrSWZSZWFkeVwiLG51bGwsKCk9Pnt0aGlzLnJlYWR5PSEwfSl9YnJvYWRjYXN0KHQscixuKXtlLmFzeW5jQWxsKHRoaXMuYWN0b3JzLChlLG4pPT57ZS5zZW5kKHQscixuKX0sbj1ufHxmdW5jdGlvbigpe30pfWdldEFjdG9yKCl7cmV0dXJuIHRoaXMuY3VycmVudEFjdG9yPSh0aGlzLmN1cnJlbnRBY3RvcisxKSV0aGlzLmFjdG9ycy5sZW5ndGgsdGhpcy5hY3RvcnNbdGhpcy5jdXJyZW50QWN0b3JdfXJlbW92ZSgpe3RoaXMuYWN0b3JzLmZvckVhY2goZT0+e2UucmVtb3ZlKCl9KSx0aGlzLmFjdG9ycz1bXSx0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKX19ZnVuY3Rpb24gRCh0LHIsbil7cmV0dXJuIHIqKGUuRVhURU5ULyh0LnRpbGVTaXplKk1hdGgucG93KDIsbi10LnRpbGVJRC5vdmVyc2NhbGVkWikpKX16LkFjdG9yPWUuQWN0b3I7Y2xhc3MgUntjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLnNjcmVlbkJvdW5kcz1lLHRoaXMuY2FtZXJhUG9pbnQ9dCx0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGU9e30sdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlPXt9LHRoaXMuaXNBYm92ZUhvcml6b249cix0aGlzLnNjcmVlbkdlb21ldHJ5PXRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeSgwKSx0aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3I9dGhpcy5fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcigwLG4pfXN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQscil7bGV0IG4saTtpZih0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxcIm51bWJlclwiPT10eXBlb2YgdFswXSl7Y29uc3Qgbz1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KTtuPVtvXSxpPXIuaXNQb2ludEFib3ZlSG9yaXpvbihvKX1lbHNle2NvbnN0IG89ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFswXSksYT1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0WzFdKTtuPVtvLGFdLGk9ZS5wb2x5Z29uaXplQm91bmRzKG8sYSkuZXZlcnkoZT0+ci5pc1BvaW50QWJvdmVIb3Jpem9uKGUpKX1yZXR1cm4gbmV3IFIobixyLmdldENhbWVyYVBvaW50KCksaSxyKX1pc1BvaW50UXVlcnkoKXtyZXR1cm4gMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aH1idWZmZXJlZFNjcmVlbkdlb21ldHJ5KHQpe3JldHVybiBlLnBvbHlnb25pemVCb3VuZHModGhpcy5zY3JlZW5Cb3VuZHNbMF0sMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXTp0aGlzLnNjcmVlbkJvdW5kc1sxXSx0KX1idWZmZXJlZENhbWVyYUdlb21ldHJ5KHQpe2NvbnN0IHI9dGhpcy5zY3JlZW5Cb3VuZHNbMF0sbj0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLGk9ZS5wb2x5Z29uaXplQm91bmRzKHIsbiwwLCExKTtyZXR1cm4gdGhpcy5jYW1lcmFQb2ludC55Pm4ueSYmKHRoaXMuY2FtZXJhUG9pbnQueD5yLngmJnRoaXMuY2FtZXJhUG9pbnQueDxuLng/aS5zcGxpY2UoMywwLHRoaXMuY2FtZXJhUG9pbnQpOnRoaXMuY2FtZXJhUG9pbnQueD49bi54P2lbMl09dGhpcy5jYW1lcmFQb2ludDp0aGlzLmNhbWVyYVBvaW50Lng8PXIueCYmKGlbM109dGhpcy5jYW1lcmFQb2ludCkpLGUuYnVmZmVyQ29udmV4UG9seWdvbihpLHQpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZSh0KXtjb25zdCByPXRoaXMuc2NyZWVuQm91bmRzWzBdLG49MT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IGUucG9pbnRHZW9tZXRyeSgxLDEpKTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxpPWUucG9seWdvbml6ZUJvdW5kcyhyLG4sdCksbz10aGlzLmNhbWVyYVBvaW50LmNsb25lKCk7c3dpdGNoKDMqKChvLnk+ci55KSsoby55Pm4ueSkpKygoby54PnIueCkrKG8ueD5uLngpKSl7Y2FzZSAwOmlbMF09byxpWzRdPW8uY2xvbmUoKTticmVhaztjYXNlIDE6aS5zcGxpY2UoMSwwLG8pO2JyZWFrO2Nhc2UgMjppWzFdPW87YnJlYWs7Y2FzZSAzOmkuc3BsaWNlKDQsMCxvKTticmVhaztjYXNlIDU6aS5zcGxpY2UoMiwwLG8pO2JyZWFrO2Nhc2UgNjppWzNdPW87YnJlYWs7Y2FzZSA3Omkuc3BsaWNlKDMsMCxvKTticmVhaztjYXNlIDg6aVsyXT1vfXJldHVybiBpfWNvbnRhaW5zVGlsZSh0LHIsbixpPTApe2NvbnN0IG89dC5xdWVyeVBhZGRpbmcvci5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCsxLGE9bj90aGlzLl9idWZmZXJlZENhbWVyYU1lcmNhdG9yKG8scik6dGhpcy5fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihvLHIpO2xldCBzPXQudGlsZUlELndyYXArKGEudW53cmFwcGVkP2k6MCk7Y29uc3QgbD1hLnBvbHlnb24ubWFwKHI9PmUuZ2V0VGlsZVBvaW50KHQudGlsZVRyYW5zZm9ybSxyLHMpKTtpZighZS5wb2x5Z29uSW50ZXJzZWN0c0JveChsLDAsMCxlLkVYVEVOVCxlLkVYVEVOVCkpcmV0dXJuO3M9dC50aWxlSUQud3JhcCsodGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnVud3JhcHBlZD9pOjApO2NvbnN0IGM9dGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKHI9PmUuZ2V0VGlsZVZlYzModC50aWxlVHJhbnNmb3JtLHIscykpLHU9Yy5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKSxoPXIuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbnx8bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsMCwwKSxkPWUuZ2V0VGlsZVZlYzModC50aWxlVHJhbnNmb3JtLGgscykscD1jLm1hcCh0PT57Y29uc3Qgcj1lLnN1Yih0LHQsZCk7cmV0dXJuIGUubm9ybWFsaXplKHIsciksbmV3IGUuUmF5KGQscil9KSxmPUQodCwxLHIuem9vbSkqci5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtyZXR1cm57cXVlcnlHZW9tZXRyeTp0aGlzLHRpbGVzcGFjZUdlb21ldHJ5OnUsdGlsZXNwYWNlUmF5czpwLGJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnk6bCxidWZmZXJlZFRpbGVzcGFjZUJvdW5kczoobT1lLmdldEJvdW5kcyhsKSxtLm1pbi54PWUuY2xhbXAobS5taW4ueCwwLGUuRVhURU5UKSxtLm1pbi55PWUuY2xhbXAobS5taW4ueSwwLGUuRVhURU5UKSxtLm1heC54PWUuY2xhbXAobS5tYXgueCwwLGUuRVhURU5UKSxtLm1heC55PWUuY2xhbXAobS5tYXgueSwwLGUuRVhURU5UKSxtKSx0aWxlOnQsdGlsZUlEOnQudGlsZUlELHBpeGVsVG9UaWxlVW5pdHNGYWN0b3I6Zn07dmFyIG19X2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IoZSx0KXtjb25zdCByPUIoZSk7aWYodGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW3JdKXJldHVybiB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbcl07e2xldCBuO3JldHVybiBuPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lP3RoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KGUpLm1hcChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtyXT1uLG59fV9idWZmZXJlZENhbWVyYU1lcmNhdG9yKGUsdCl7Y29uc3Qgcj1CKGUpO2lmKHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtyXSlyZXR1cm4gdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW3JdO3tsZXQgbjtyZXR1cm4gbj1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5KGUpLm1hcChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtyXT1uLG59fV9wcm9qZWN0QW5kUmVzYW1wbGUodCxyKXtjb25zdCBuPWZ1bmN0aW9uKHQscil7Y29uc3Qgbj1lLm11bHRpcGx5KFtdLHIucGl4ZWxNYXRyaXgsci5nbG9iZU1hdHJpeCksaT1bMCwtZS5HTE9CRV9SQURJVVMsMCwxXSxvPVswLGUuR0xPQkVfUkFESVVTLDAsMV0sYT1bMCwwLDAsMV07ZS50cmFuc2Zvcm1NYXQ0JDEoaSxpLG4pLGUudHJhbnNmb3JtTWF0NCQxKG8sbyxuKSxlLnRyYW5zZm9ybU1hdDQkMShhLGEsbik7Y29uc3Qgcz1uZXcgZS5wb2ludEdlb21ldHJ5KGlbMF0vaVszXSxpWzFdL2lbM10pLGw9bmV3IGUucG9pbnRHZW9tZXRyeShvWzBdL29bM10sb1sxXS9vWzNdKSxjPWUucG9seWdvbkNvbnRhaW5zUG9pbnQodCxzKSYmaVszXTxhWzNdLHU9ZS5wb2x5Z29uQ29udGFpbnNQb2ludCh0LGwpJiZvWzNdPGFbM107aWYoIWMmJiF1KXJldHVybiBudWxsO2NvbnN0IGg9ZnVuY3Rpb24oZSx0LHIpe2ZvcihsZXQgbj0xO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPU8odC5wb2ludENvb3JkaW5hdGUzRChlW24tMV0pLngpLG89Tyh0LnBvaW50Q29vcmRpbmF0ZTNEKGVbbl0pLngpO2lmKHI8MCl7aWYoaTxvKXJldHVybntpZHg6bix0Oi1pLyhvLTEtaSl9fWVsc2UgaWYobzxpKXJldHVybntpZHg6bix0OigxLWkpLyhvKzEtaSl9fXJldHVybiBudWxsfSh0LHIsYz8tMToxKTtpZighaClyZXR1cm4gbnVsbDtjb25zdHtpZHg6ZCx0OnB9PWg7bGV0IGY9ZD4xP0wodC5zbGljZSgwLGQpLHIpOltdLG09ZDx0Lmxlbmd0aD9MKHQuc2xpY2UoZCkscik6W107Zj1mLm1hcCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KE8odC54KSx0LnkpKSxtPW0ubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkoTyh0LngpLHQueSkpO2NvbnN0IGc9Wy4uLmZdOzA9PT1nLmxlbmd0aCYmZy5wdXNoKG1bbS5sZW5ndGgtMV0pO2NvbnN0IF89ZS5udW1iZXIoZ1tnLmxlbmd0aC0xXS55LCgwPT09bS5sZW5ndGg/ZlswXTptWzBdKS55LHApO2xldCB5O3JldHVybiB5PWM/W25ldyBlLnBvaW50R2VvbWV0cnkoMCxfKSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbmV3IGUucG9pbnRHZW9tZXRyeSgxLDApLG5ldyBlLnBvaW50R2VvbWV0cnkoMSxfKV06W25ldyBlLnBvaW50R2VvbWV0cnkoMSxfKSxuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDEpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCxfKV0sZy5wdXNoKC4uLnkpLDA9PT1tLmxlbmd0aD9nLnB1c2goZlswXSk6Zy5wdXNoKC4uLm0pLHtwb2x5Z29uOmcubWFwKHQ9Pm5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55KSksdW53cmFwcGVkOiExfX0odCxyKTtpZihuKXJldHVybiBuO2NvbnN0IGk9ZnVuY3Rpb24odCxyKXtsZXQgbj0hMSxpPS0xLzAsbz0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspdFtlXS54PmkmJihpPXRbZV0ueCxvPWUpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspe2NvbnN0IHI9KG8rZSklKHQubGVuZ3RoLTEpLGk9dFtyXSxhPXRbcisxXTtNYXRoLmFicyhpLngtYS54KT4uNSYmKGkueDxhLng/KGkueCs9MSwwPT09ciYmKHRbdC5sZW5ndGgtMV0ueCs9MSkpOihhLngrPTEscisxPT09dC5sZW5ndGgtMSYmKHRbMF0ueCs9MSkpLG49ITApfWNvbnN0IGE9ZS5tZXJjYXRvclhmcm9tTG5nKHIuY2VudGVyLmxuZyk7cmV0dXJuIG4mJmE8TWF0aC5hYnMoYS0xKSYmdC5mb3JFYWNoKGU9PntlLngtPTF9KSx7cG9seWdvbjp0LHVud3JhcHBlZDpufX0oTCh0LHIpLm1hcCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KE8odC54KSx0LnkpKSxyKTtyZXR1cm57cG9seWdvbjppLnBvbHlnb24ubWFwKHQ9Pm5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55KSksdW53cmFwcGVkOmkudW53cmFwcGVkfX19ZnVuY3Rpb24gTCh0LHIpe3JldHVybiBlLnJlc2FtcGxlKHQsZT0+e2NvbnN0IHQ9ci5wb2ludENvb3JkaW5hdGUzRChlKTtlLng9dC54LGUueT10Lnl9LDEvMjU2KX1mdW5jdGlvbiBPKGUpe3JldHVybiBlPDA/MStlJTE6ZSUxfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIDEwMCplfDB9ZnVuY3Rpb24gRih0LHIsbixpLG8pe2NvbnN0IGE9ZnVuY3Rpb24obixpKXtpZihuKXJldHVybiBvKG4pO2lmKGkpe3QudXJsJiZpLnRpbGVzJiZ0LnRpbGVzJiZkZWxldGUgdC50aWxlcztjb25zdCBuPWUucGljayhlLmV4dGVuZChpLHQpLFtcInRpbGVzXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJhdHRyaWJ1dGlvblwiLFwibWFwYm94X2xvZ29cIixcImJvdW5kc1wiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiLFwiZW5jb2RpbmdcIl0pO2kudmVjdG9yX2xheWVycyYmKG4udmVjdG9yTGF5ZXJzPWkudmVjdG9yX2xheWVycyxuLnZlY3RvckxheWVySWRzPW4udmVjdG9yTGF5ZXJzLm1hcChlPT5lLmlkKSksbi50aWxlcz1yLmNhbm9uaWNhbGl6ZVRpbGVzZXQobix0LnVybCksbyhudWxsLG4pfX07cmV0dXJuIHQudXJsP2UuZ2V0SlNPTihyLnRyYW5zZm9ybVJlcXVlc3Qoci5ub3JtYWxpemVTb3VyY2VVUkwodC51cmwsbnVsbCxuLGkpLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSksYSk6ZS5leHBvcnRlZC5mcmFtZSgoKT0+YShudWxsLHQpKX1jbGFzcyBqe2NvbnN0cnVjdG9yKHQscixuKXt0aGlzLmJvdW5kcz1lLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KHRoaXMudmFsaWRhdGVCb3VuZHModCkpLHRoaXMubWluem9vbT1yfHwwLHRoaXMubWF4em9vbT1ufHwyNH12YWxpZGF0ZUJvdW5kcyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmND09PWUubGVuZ3RoP1tNYXRoLm1heCgtMTgwLGVbMF0pLE1hdGgubWF4KC05MCxlWzFdKSxNYXRoLm1pbigxODAsZVsyXSksTWF0aC5taW4oOTAsZVszXSldOlstMTgwLC05MCwxODAsOTBdfWNvbnRhaW5zKHQpe2NvbnN0IHI9TWF0aC5wb3coMix0LnopLG49TWF0aC5mbG9vcihlLm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0V2VzdCgpKSpyKSxpPU1hdGguZmxvb3IoZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKnIpLG89TWF0aC5jZWlsKGUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpKnIpLGE9TWF0aC5jZWlsKGUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXRTb3V0aCgpKSpyKTtyZXR1cm4gdC54Pj1uJiZ0Lng8byYmdC55Pj1pJiZ0Lnk8YX19Y2xhc3MgVXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5jb250ZXh0PWU7Y29uc3Qgbj1lLmdsO3RoaXMuYnVmZmVyPW4uY3JlYXRlQnVmZmVyKCksdGhpcy5keW5hbWljRHJhdz1Cb29sZWFuKHIpLHRoaXMuY29udGV4dC51bmJpbmRWQU8oKSxlLmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksbi5idWZmZXJEYXRhKG4uRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P24uRFlOQU1JQ19EUkFXOm4uU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fHQuZGVzdHJveSgpfWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKX11cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmJpbmQoKSx0LmJ1ZmZlclN1YkRhdGEodC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpfWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcil9fWNvbnN0IE49e0ludDg6XCJCWVRFXCIsVWludDg6XCJVTlNJR05FRF9CWVRFXCIsSW50MTY6XCJTSE9SVFwiLFVpbnQxNjpcIlVOU0lHTkVEX1NIT1JUXCIsSW50MzI6XCJJTlRcIixVaW50MzI6XCJVTlNJR05FRF9JTlRcIixGbG9hdDMyOlwiRkxPQVRcIn07Y2xhc3MgVntjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLmF0dHJpYnV0ZXM9cix0aGlzLml0ZW1TaXplPXQuYnl0ZXNQZXJFbGVtZW50LHRoaXMuZHluYW1pY0RyYXc9bix0aGlzLmNvbnRleHQ9ZTtjb25zdCBpPWUuZ2w7dGhpcy5idWZmZXI9aS5jcmVhdGVCdWZmZXIoKSxlLmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKSxpLmJ1ZmZlckRhdGEoaS5BUlJBWV9CVUZGRVIsdC5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P2kuRFlOQU1JQ19EUkFXOmkuU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fHQuZGVzdHJveSgpfWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpfXVwZGF0ZURhdGEoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5iaW5kKCksdC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcil9ZW5hYmxlQXR0cmlidXRlcyhlLHQpe2ZvcihsZXQgcj0wO3I8dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtyKyspe2NvbnN0IG49dC5hdHRyaWJ1dGVzW3RoaXMuYXR0cmlidXRlc1tyXS5uYW1lXTt2b2lkIDAhPT1uJiZlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pfX1zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhlLHQscil7Zm9yKGxldCBuPTA7bjx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO24rKyl7Y29uc3QgaT10aGlzLmF0dHJpYnV0ZXNbbl0sbz10LmF0dHJpYnV0ZXNbaS5uYW1lXTt2b2lkIDAhPT1vJiZlLnZlcnRleEF0dHJpYlBvaW50ZXIobyxpLmNvbXBvbmVudHMsZVtOW2kudHlwZV1dLCExLHRoaXMuaXRlbVNpemUsaS5vZmZzZXQrdGhpcy5pdGVtU2l6ZSoocnx8MCkpfX1kZXN0cm95KCl7dGhpcy5idWZmZXImJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKSxkZWxldGUgdGhpcy5idWZmZXIpfX1jbGFzcyBHe2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZS5nbCx0aGlzLmRlZmF1bHQ9dGhpcy5nZXREZWZhdWx0KCksdGhpcy5jdXJyZW50PXRoaXMuZGVmYXVsdCx0aGlzLmRpcnR5PSExfWdldCgpe3JldHVybiB0aGlzLmN1cnJlbnR9c2V0KGUpe31nZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZGVmYXVsdH1zZXREZWZhdWx0KCl7dGhpcy5zZXQodGhpcy5kZWZhdWx0KX19Y2xhc3MgcSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBlLkNvbG9yLnRyYW5zcGFyZW50fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5yIT09dC5yfHxlLmchPT10Lmd8fGUuYiE9PXQuYnx8ZS5hIT09dC5hfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBaIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIDF9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJEZXB0aChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgJCBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiAwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyU3RlbmNpbChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgVyBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVyblshMCwhMCwhMCwhMF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNvbG9yTWFzayhlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgWCBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiEwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoTWFzayhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgSCBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiAyNTV9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE1hc2soZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIFkgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm57ZnVuYzp0aGlzLmdsLkFMV0FZUyxyZWY6MCxtYXNrOjI1NX19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLmZ1bmMhPT10LmZ1bmN8fGUucmVmIT09dC5yZWZ8fGUubWFzayE9PXQubWFza3x8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxGdW5jKGUuZnVuYyxlLnJlZixlLm1hc2spLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBLIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybltlLktFRVAsZS5LRUVQLGUuS0VFUF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKGVbMF0sZVsxXSxlWzJdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgSiBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5TVEVOQ0lMX1RFU1QpOnQuZGlzYWJsZSh0LlNURU5DSUxfVEVTVCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgUSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVyblswLDFdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhSYW5nZShlWzBdLGVbMV0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBlZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5ERVBUSF9URVNUKTp0LmRpc2FibGUodC5ERVBUSF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyB0ZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkxFU1N9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhGdW5jKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyByZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5CTEVORCk6dC5kaXNhYmxlKHQuQkxFTkQpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIG5lIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybltlLk9ORSxlLlpFUk9dfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRGdW5jKGVbMF0sZVsxXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGllIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIGUuQ29sb3IudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZENvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIG9lIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuRlVOQ19BRER9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRFcXVhdGlvbihlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgYWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQ1VMTF9GQUNFKTp0LmRpc2FibGUodC5DVUxMX0ZBQ0UpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHNlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQkFDS31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jdWxsRmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgbGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5DQ1d9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZnJvbnRGYWNlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBjZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnVzZVByb2dyYW0oZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIHVlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuVEVYVFVSRTB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYWN0aXZlVGV4dHVyZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgaGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuWzAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHRdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC52aWV3cG9ydChlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgZGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHBlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kUmVuZGVyYnVmZmVyKHQuUkVOREVSQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIGZlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgbWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgZ2UgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7Y29uc3QgdD10aGlzLmdsO3QuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIF9lIGV4dGVuZHMgR3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnZhbz1lLmV4dFZlcnRleEFycmF5T2JqZWN0fWdldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7dGhpcy52YW8mJihlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMudmFvLmJpbmRWZXJ0ZXhBcnJheU9FUyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgeWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gNH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0FMSUdOTUVOVCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyB2ZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgeGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBiZSBleHRlbmRzIEd7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLnBhcmVudD10fWdldERlZmF1bHQoKXtyZXR1cm4gbnVsbH19Y2xhc3Mgd2UgZXh0ZW5kcyBiZXtzZXREaXJ0eSgpe3RoaXMuZGlydHk9ITB9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxlLDApLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIFRlIGV4dGVuZHMgYmV7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0aGlzLmF0dGFjaG1lbnQoKSx0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBFZSBleHRlbmRzIFRle2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlR9fWNsYXNzIFNle2NvbnN0cnVjdG9yKGUsdCxyLG4pe3RoaXMuY29udGV4dD1lLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1yO2NvbnN0IGk9dGhpcy5mcmFtZWJ1ZmZlcj1lLmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7dGhpcy5jb2xvckF0dGFjaG1lbnQ9bmV3IHdlKGUsaSksbiYmKHRoaXMuZGVwdGhBdHRhY2htZW50PW5ldyBUZShlLGkpKX1kZXN0cm95KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD10aGlzLmNvbG9yQXR0YWNobWVudC5nZXQoKTtpZih0JiZlLmRlbGV0ZVRleHR1cmUodCksdGhpcy5kZXB0aEF0dGFjaG1lbnQpe2NvbnN0IHQ9dGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7dCYmZS5kZWxldGVSZW5kZXJidWZmZXIodCl9ZS5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKX19Y2xhc3MgQ2V7Y29uc3RydWN0b3IoZSl7dGhpcy5nbD1lLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3Q9dGhpcy5nbC5nZXRFeHRlbnNpb24oXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSx0aGlzLmNsZWFyQ29sb3I9bmV3IHEodGhpcyksdGhpcy5jbGVhckRlcHRoPW5ldyBaKHRoaXMpLHRoaXMuY2xlYXJTdGVuY2lsPW5ldyAkKHRoaXMpLHRoaXMuY29sb3JNYXNrPW5ldyBXKHRoaXMpLHRoaXMuZGVwdGhNYXNrPW5ldyBYKHRoaXMpLHRoaXMuc3RlbmNpbE1hc2s9bmV3IEgodGhpcyksdGhpcy5zdGVuY2lsRnVuYz1uZXcgWSh0aGlzKSx0aGlzLnN0ZW5jaWxPcD1uZXcgSyh0aGlzKSx0aGlzLnN0ZW5jaWxUZXN0PW5ldyBKKHRoaXMpLHRoaXMuZGVwdGhSYW5nZT1uZXcgUSh0aGlzKSx0aGlzLmRlcHRoVGVzdD1uZXcgZWUodGhpcyksdGhpcy5kZXB0aEZ1bmM9bmV3IHRlKHRoaXMpLHRoaXMuYmxlbmQ9bmV3IHJlKHRoaXMpLHRoaXMuYmxlbmRGdW5jPW5ldyBuZSh0aGlzKSx0aGlzLmJsZW5kQ29sb3I9bmV3IGllKHRoaXMpLHRoaXMuYmxlbmRFcXVhdGlvbj1uZXcgb2UodGhpcyksdGhpcy5jdWxsRmFjZT1uZXcgYWUodGhpcyksdGhpcy5jdWxsRmFjZVNpZGU9bmV3IHNlKHRoaXMpLHRoaXMuZnJvbnRGYWNlPW5ldyBsZSh0aGlzKSx0aGlzLnByb2dyYW09bmV3IGNlKHRoaXMpLHRoaXMuYWN0aXZlVGV4dHVyZT1uZXcgdWUodGhpcyksdGhpcy52aWV3cG9ydD1uZXcgaGUodGhpcyksdGhpcy5iaW5kRnJhbWVidWZmZXI9bmV3IGRlKHRoaXMpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlcj1uZXcgcGUodGhpcyksdGhpcy5iaW5kVGV4dHVyZT1uZXcgZmUodGhpcyksdGhpcy5iaW5kVmVydGV4QnVmZmVyPW5ldyBtZSh0aGlzKSx0aGlzLmJpbmRFbGVtZW50QnVmZmVyPW5ldyBnZSh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUz10aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiZuZXcgX2UodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrPW5ldyB5ZSh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhPW5ldyB2ZSh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWT1uZXcgeGUodGhpcyksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWM9ZS5nZXRFeHRlbnNpb24oXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiYodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXg9ZS5nZXRQYXJhbWV0ZXIodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNGb3JjZU9mZj0hMSx0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZj0hMSx0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mb1wiKSx0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvJiYodGhpcy5yZW5kZXJlcj1lLmdldFBhcmFtZXRlcih0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSx0aGlzLnZlbmRvcj1lLmdldFBhcmFtZXRlcih0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCkpLHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdD1lLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIiksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0JiYoZS5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhclwiKSx0aGlzLmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD1lLmdldEV4dGVuc2lvbihcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKSksdGhpcy5leHRTdGFuZGFyZERlcml2YXRpdmVzPWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXCIpLHRoaXMuZXh0VGltZXJRdWVyeT1lLmdldEV4dGVuc2lvbihcIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeVwiKSx0aGlzLm1heFRleHR1cmVTaXplPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfU0laRSl9c2V0RGVmYXVsdCgpe3RoaXMudW5iaW5kVkFPKCksdGhpcy5jbGVhckNvbG9yLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJTdGVuY2lsLnNldERlZmF1bHQoKSx0aGlzLmNvbG9yTWFzay5zZXREZWZhdWx0KCksdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZC5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRDb2xvci5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCksdGhpcy5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCl9c2V0RGlydHkoKXt0aGlzLmNsZWFyQ29sb3IuZGlydHk9ITAsdGhpcy5jbGVhckRlcHRoLmRpcnR5PSEwLHRoaXMuY2xlYXJTdGVuY2lsLmRpcnR5PSEwLHRoaXMuY29sb3JNYXNrLmRpcnR5PSEwLHRoaXMuZGVwdGhNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbE1hc2suZGlydHk9ITAsdGhpcy5zdGVuY2lsRnVuYy5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxPcC5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxUZXN0LmRpcnR5PSEwLHRoaXMuZGVwdGhSYW5nZS5kaXJ0eT0hMCx0aGlzLmRlcHRoVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kLmRpcnR5PSEwLHRoaXMuYmxlbmRGdW5jLmRpcnR5PSEwLHRoaXMuYmxlbmRDb2xvci5kaXJ0eT0hMCx0aGlzLmJsZW5kRXF1YXRpb24uZGlydHk9ITAsdGhpcy5jdWxsRmFjZS5kaXJ0eT0hMCx0aGlzLmN1bGxGYWNlU2lkZS5kaXJ0eT0hMCx0aGlzLmZyb250RmFjZS5kaXJ0eT0hMCx0aGlzLnByb2dyYW0uZGlydHk9ITAsdGhpcy5hY3RpdmVUZXh0dXJlLmRpcnR5PSEwLHRoaXMudmlld3BvcnQuZGlydHk9ITAsdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kUmVuZGVyYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFRleHR1cmUuZGlydHk9ITAsdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZEVsZW1lbnRCdWZmZXIuZGlydHk9ITAsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuYmluZFZlcnRleEFycmF5T0VTLmRpcnR5PSEwKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2suZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5kaXJ0eT0hMH1jcmVhdGVJbmRleEJ1ZmZlcihlLHQpe3JldHVybiBuZXcgVSh0aGlzLGUsdCl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxyKXtyZXR1cm4gbmV3IFYodGhpcyxlLHQscil9Y3JlYXRlUmVuZGVyYnVmZmVyKGUsdCxyKXtjb25zdCBuPXRoaXMuZ2wsaT1uLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KGkpLG4ucmVuZGVyYnVmZmVyU3RvcmFnZShuLlJFTkRFUkJVRkZFUixlLHQsciksdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKSxpfWNyZWF0ZUZyYW1lYnVmZmVyKGUsdCxyKXtyZXR1cm4gbmV3IFNlKHRoaXMsZSx0LHIpfWNsZWFyKHtjb2xvcjplLGRlcHRoOnQsc3RlbmNpbDpyfSl7Y29uc3Qgbj10aGlzLmdsO2xldCBpPTA7ZSYmKGl8PW4uQ09MT1JfQlVGRkVSX0JJVCx0aGlzLmNsZWFyQ29sb3Iuc2V0KGUpLHRoaXMuY29sb3JNYXNrLnNldChbITAsITAsITAsITBdKSksdm9pZCAwIT09dCYmKGl8PW4uREVQVEhfQlVGRkVSX0JJVCx0aGlzLmRlcHRoUmFuZ2Uuc2V0KFswLDFdKSx0aGlzLmNsZWFyRGVwdGguc2V0KHQpLHRoaXMuZGVwdGhNYXNrLnNldCghMCkpLHZvaWQgMCE9PXImJihpfD1uLlNURU5DSUxfQlVGRkVSX0JJVCx0aGlzLmNsZWFyU3RlbmNpbC5zZXQociksdGhpcy5zdGVuY2lsTWFzay5zZXQoMjU1KSksbi5jbGVhcihpKX1zZXRDdWxsRmFjZShlKXshMT09PWUuZW5hYmxlP3RoaXMuY3VsbEZhY2Uuc2V0KCExKToodGhpcy5jdWxsRmFjZS5zZXQoITApLHRoaXMuY3VsbEZhY2VTaWRlLnNldChlLm1vZGUpLHRoaXMuZnJvbnRGYWNlLnNldChlLmZyb250RmFjZSkpfXNldERlcHRoTW9kZShlKXtlLmZ1bmMhPT10aGlzLmdsLkFMV0FZU3x8ZS5tYXNrPyh0aGlzLmRlcHRoVGVzdC5zZXQoITApLHRoaXMuZGVwdGhGdW5jLnNldChlLmZ1bmMpLHRoaXMuZGVwdGhNYXNrLnNldChlLm1hc2spLHRoaXMuZGVwdGhSYW5nZS5zZXQoZS5yYW5nZSkpOnRoaXMuZGVwdGhUZXN0LnNldCghMSl9c2V0U3RlbmNpbE1vZGUoZSl7ZS50ZXN0LmZ1bmMhPT10aGlzLmdsLkFMV0FZU3x8ZS5tYXNrPyh0aGlzLnN0ZW5jaWxUZXN0LnNldCghMCksdGhpcy5zdGVuY2lsTWFzay5zZXQoZS5tYXNrKSx0aGlzLnN0ZW5jaWxPcC5zZXQoW2UuZmFpbCxlLmRlcHRoRmFpbCxlLnBhc3NdKSx0aGlzLnN0ZW5jaWxGdW5jLnNldCh7ZnVuYzplLnRlc3QuZnVuYyxyZWY6ZS5yZWYsbWFzazplLnRlc3QubWFza30pKTp0aGlzLnN0ZW5jaWxUZXN0LnNldCghMSl9c2V0Q29sb3JNb2RlKHIpe3Qoci5ibGVuZEZ1bmN0aW9uLGUuQ29sb3JNb2RlLlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChyLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoci5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KHIubWFzayl9dW5iaW5kVkFPKCl7dGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpfX1jbGFzcyBNZSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LHIsbixpKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9bix0aGlzLnNldEV2ZW50ZWRQYXJlbnQoaSksdGhpcy50eXBlPVwicmFzdGVyXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMucm91bmRab29tPSEwLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe3R5cGU6XCJyYXN0ZXJcIn0sciksZS5leHRlbmQodGhpcyxlLnBpY2socixbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIl0pKX1sb2FkKCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PUYodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsbnVsbCxudWxsLCh0LHIpPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOnImJihlLmV4dGVuZCh0aGlzLHIpLHIuYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBqKHIuYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxlLnBvc3RUdXJuc3RpbGVFdmVudChyLnRpbGVzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSl9KX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCl9b25SZW1vdmUoKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpfXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX1oYXNUaWxlKGUpe3JldHVybiF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9bG9hZFRpbGUodCxyKXtjb25zdCBuPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbz49MixpPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksbix0aGlzLnRpbGVTaXplKTt0LnJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLGUuUmVzb3VyY2VUeXBlLlRpbGUpLChuLGksbyxhKT0+KGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkPyh0LnN0YXRlPVwidW5sb2FkZWRcIixyKG51bGwpKTpuPyh0LnN0YXRlPVwiZXJyb3JlZFwiLHIobikpOmk/KHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDpvLGV4cGlyZXM6YX0pLHQuc2V0VGV4dHVyZShpLHRoaXMubWFwLnBhaW50ZXIpLHQuc3RhdGU9XCJsb2FkZWRcIixlLmNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlciksdm9pZCByKG51bGwpKTpyKG51bGwpKSl9c3RhdGljIGxvYWRUaWxlRGF0YShlLHQscil7ZS5zZXRUZXh0dXJlKHQscil9c3RhdGljIHVubG9hZFRpbGVEYXRhKGUsdCl7ZS50ZXh0dXJlJiZ0LnNhdmVUaWxlVGV4dHVyZShlLnRleHR1cmUpfWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCl9dW5sb2FkVGlsZShlLHQpe2UudGV4dHVyZSYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoZS50ZXh0dXJlKSx0KCl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfX1sZXQga2U7ZnVuY3Rpb24gQWUodCxyLG4saSxvLGEscyxsKXtjb25zdCBjPVt0LG4sbyxyLGksYSwxLDEsMV0sdT1bcyxsLDFdLGg9ZS5hZGpvaW50KFtdLGMpLFtkLHAsZl09ZS50cmFuc2Zvcm1NYXQzKHUsdSxlLnRyYW5zcG9zZShoLGgpKTtyZXR1cm4gZS5tdWx0aXBseSQxKGMsW2QsMCwwLDAscCwwLDAsMCxmXSxjKX1jbGFzcyBJZSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3RvcihlLHQscixuKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLmRpc3BhdGNoZXI9cix0aGlzLmNvb3JkaW5hdGVzPXQuY29vcmRpbmF0ZXMsdGhpcy50eXBlPVwiaW1hZ2VcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KG4pLHRoaXMub3B0aW9ucz10LHRoaXMuX2RpcnR5PSExfWxvYWQodCxyKXt0aGlzLl9sb2FkZWQ9cnx8ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLnVybD10aGlzLm9wdGlvbnMudXJsLHRoaXMuX2ltYWdlUmVxdWVzdD1lLmdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHRoaXMudXJsLGUuUmVzb3VyY2VUeXBlLkltYWdlKSwocixuKT0+e2lmKHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxyKXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHIpKTtlbHNlIGlmKG4pe2NvbnN0e0hUTUxJbWFnZUVsZW1lbnQ6cn09ZS53aW5kb3c7dGhpcy5pbWFnZT1uIGluc3RhbmNlb2Ygcj9lLmV4cG9ydGVkLmdldEltYWdlRGF0YShuKTpuLHRoaXMuX2RpcnR5PSEwLHRoaXMud2lkdGg9dGhpcy5pbWFnZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLmltYWdlLmhlaWdodCx0JiYodGhpcy5jb29yZGluYXRlcz10KSx0aGlzLl9maW5pc2hMb2FkaW5nKCl9fSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH11cGRhdGVJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZSYmZS51cmw/KHRoaXMuX2ltYWdlUmVxdWVzdCYmZS51cmwhPT10aGlzLm9wdGlvbnMudXJsJiYodGhpcy5faW1hZ2VSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsKSx0aGlzLm9wdGlvbnMudXJsPWUudXJsLHRoaXMubG9hZChlLmNvb3JkaW5hdGVzLHRoaXMuX2xvYWRlZCksdGhpcyk6dGhpc31fZmluaXNoTG9hZGluZygpe3RoaXMubWFwJiYodGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpfW9uUmVtb3ZlKCl7dGhpcy5faW1hZ2VSZXF1ZXN0JiYodGhpcy5faW1hZ2VSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsKSx0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS5kZXN0cm95KCl9c2V0Q29vcmRpbmF0ZXModCl7dGhpcy5jb29yZGluYXRlcz10LHRoaXMuX2JvdW5kc0FycmF5PXZvaWQgMDtjb25zdCByPXQubWFwKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpO3JldHVybiB0aGlzLnRpbGVJRD1mdW5jdGlvbih0KXtsZXQgcj0xLzAsbj0xLzAsaT0tMS8wLG89LTEvMDtmb3IoY29uc3QgZSBvZiB0KXI9TWF0aC5taW4ocixlLngpLG49TWF0aC5taW4obixlLnkpLGk9TWF0aC5tYXgoaSxlLngpLG89TWF0aC5tYXgobyxlLnkpO2NvbnN0IGE9TWF0aC5tYXgoaS1yLG8tbikscz1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKGEpL01hdGguTE4yKSksbD1NYXRoLnBvdygyLHMpO3JldHVybiBuZXcgZS5DYW5vbmljYWxUaWxlSUQocyxNYXRoLmZsb29yKChyK2kpLzIqbCksTWF0aC5mbG9vcigobitvKS8yKmwpKX0ociksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56LHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSx0aGlzfV9jbGVhcigpe3RoaXMuX2JvdW5kc0FycmF5PXZvaWQgMH1fcHJlcGFyZURhdGEodCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy50aWxlcyl7Y29uc3QgdD10aGlzLnRpbGVzW2VdO1wibG9hZGVkXCIhPT10LnN0YXRlJiYodC5zdGF0ZT1cImxvYWRlZFwiLHQudGV4dHVyZT10aGlzLnRleHR1cmUpfWlmKHRoaXMuX2JvdW5kc0FycmF5KXJldHVybjtjb25zdCByPWUudGlsZVRyYW5zZm9ybSh0aGlzLnRpbGVJRCx0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbiksW24saSxvLGFdPXRoaXMuY29vcmRpbmF0ZXMubWFwKHQ9Pntjb25zdCBuPXIucHJvamVjdGlvbi5wcm9qZWN0KHRbMF0sdFsxXSk7cmV0dXJuIGUuZ2V0VGlsZVBvaW50KHIsbikuX3JvdW5kKCl9KTt0aGlzLnBlcnNwZWN0aXZlVHJhbnNmb3JtPWZ1bmN0aW9uKHQscixuLGksbyxhLHMsbCxjLHUpe2NvbnN0IGg9QWUoMCwwLHQsMCwwLHIsdCxyKSxkPUFlKG4saSxvLGEscyxsLGMsdSk7cmV0dXJuIGUubXVsdGlwbHkkMShkLGUuYWRqb2ludChoLGgpLGQpLFtkWzZdL2RbOF0qdC9lLkVYVEVOVCxkWzddL2RbOF0qci9lLkVYVEVOVF19KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsbi54LG4ueSxpLngsaS55LGEueCxhLnksby54LG8ueSk7Y29uc3Qgcz10aGlzLl9ib3VuZHNBcnJheT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpODtzLmVtcGxhY2VCYWNrKG4ueCxuLnksMCwwKSxzLmVtcGxhY2VCYWNrKGkueCxpLnksZS5FWFRFTlQsMCkscy5lbXBsYWNlQmFjayhhLngsYS55LDAsZS5FWFRFTlQpLHMuZW1wbGFjZUJhY2soby54LG8ueSxlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5ib3VuZHNCdWZmZXImJnRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKSx0aGlzLmJvdW5kc0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihzLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmJvdW5kc1NlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpfXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHwhdGhpcy5pbWFnZSlyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQscj10LmdsO3RoaXMuX2RpcnR5JiYodGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUodGhpcy5pbWFnZSk6KHRoaXMudGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsdGhpcy5pbWFnZSxyLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSkpLHRoaXMuX2RpcnR5PSExKSx0aGlzLl9wcmVwYXJlRGF0YSh0KX1sb2FkVGlsZShlLHQpe3RoaXMudGlsZUlEJiZ0aGlzLnRpbGVJRC5lcXVhbHMoZS50aWxlSUQuY2Fub25pY2FsKT8odGhpcy50aWxlc1tTdHJpbmcoZS50aWxlSUQud3JhcCldPWUsZS5idWNrZXRzPXt9LHQobnVsbCkpOihlLnN0YXRlPVwiZXJyb3JlZFwiLHQobnVsbCkpfXNlcmlhbGl6ZSgpe3JldHVybnt0eXBlOlwiaW1hZ2VcIix1cmw6dGhpcy5vcHRpb25zLnVybCxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9fWNvbnN0IFBlPXt2ZWN0b3I6Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyLG4saSl7aWYoc3VwZXIoKSx0aGlzLmlkPXQsdGhpcy5kaXNwYXRjaGVyPW4sdGhpcy50eXBlPVwidmVjdG9yXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5fbG9hZGVkPSExLGUuZXh0ZW5kKHRoaXMsZS5waWNrKHIsW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCIsXCJwcm9tb3RlSWRcIl0pKSx0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt0eXBlOlwidmVjdG9yXCJ9LHIpLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1yLmNvbGxlY3RSZXNvdXJjZVRpbWluZyw1MTIhPT10aGlzLnRpbGVTaXplKXRocm93IG5ldyBFcnJvcihcInZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyXCIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChpKSx0aGlzLl90aWxlV29ya2Vycz17fSx0aGlzLl9kZWR1cGVkPW5ldyBlLkRlZHVwZWRSZXF1ZXN0fWxvYWQodCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3Qgcj1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2Usbj10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1GKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLHIsbiwoaSxvKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxpPyhyJiZjb25zb2xlLndhcm4oXCJFbnN1cmUgdGhhdCB5b3VyIHJlcXVlc3RlZCBsYW5ndWFnZSBzdHJpbmcgaXMgYSB2YWxpZCBCQ1AtNDcgY29kZSBvciBsaXN0IG9mIGNvZGVzLiBGb3VuZDogXCIrciksbiYmMiE9PW4ubGVuZ3RoJiZjb25zb2xlLndhcm4oXCJSZXF1ZXN0ZWQgd29ybGR2aWV3IHN0cmluZ3MgbXVzdCBiZSBhIHZhbGlkIElTTyBhbHBoYS0yIGNvZGUuIEZvdW5kOiBcIituKSx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChpKSkpOm8mJihlLmV4dGVuZCh0aGlzLG8pLG8uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBqKG8uYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxlLnBvc3RUdXJuc3RpbGVFdmVudChvLnRpbGVzLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSx0JiZ0KGkpfSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1oYXNUaWxlKGUpe3JldHVybiF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKX1yZWxvYWQoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpLHRoaXMubG9hZCgoKT0+e2NvbnN0IGU9dGhpcy5tYXAuc3R5bGUuX2dldFNvdXJjZUNhY2hlcyh0aGlzLmlkKTtmb3IoY29uc3QgdCBvZiBlKXQuY2xlYXJUaWxlcygpfSl9c2V0U291cmNlUHJvcGVydHkoZSl7ZSgpLHRoaXMucmVsb2FkKCl9c2V0VGlsZXMoZSl7cmV0dXJuIHRoaXMuX29wdGlvbnMudGlsZXM9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9c2V0VXJsKGUpe3JldHVybiB0aGlzLnVybD1lLHRoaXMuX29wdGlvbnMudXJsPWUsdGhpcy5yZWxvYWQoKSx0aGlzfW9uUmVtb3ZlKCl7dGhpcy5jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKX1zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9bG9hZFRpbGUodCxyKXtjb25zdCBuPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLGk9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QobixlLlJlc291cmNlVHlwZS5UaWxlKSxkYXRhOnZvaWQgMCx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWix0aWxlU2l6ZTp0aGlzLnRpbGVTaXplKnQudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZX07aWYoaS5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlKVwibG9hZGluZ1wiPT09dC5zdGF0ZT90LnJlbG9hZENhbGxiYWNrPXI6dC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcInJlbG9hZFRpbGVcIixpLG8uYmluZCh0aGlzKSk7ZWxzZSBpZih0LmFjdG9yPXRoaXMuX3RpbGVXb3JrZXJzW25dPXRoaXMuX3RpbGVXb3JrZXJzW25dfHx0aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0aGlzLmRpc3BhdGNoZXIucmVhZHkpdC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIsaSxvLmJpbmQodGhpcyksdm9pZCAwLCEwKTtlbHNle2NvbnN0IHI9ZS5sb2FkVmVjdG9yVGlsZS5jYWxsKHtkZWR1cGVkOnRoaXMuX2RlZHVwZWR9LGksKGUscik9PntlfHwhcj9vLmNhbGwodGhpcyxlKTooaS5kYXRhPXtjYWNoZUNvbnRyb2w6ci5jYWNoZUNvbnRyb2wsZXhwaXJlczpyLmV4cGlyZXMscmF3RGF0YTpyLnJhd0RhdGEuc2xpY2UoMCl9LHQuYWN0b3ImJnQuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIsaSxvLmJpbmQodGhpcyksdm9pZCAwLCEwKSl9LCEwKTt0LnJlcXVlc3Q9e2NhbmNlbDpyfX1mdW5jdGlvbiBvKG4saSl7cmV0dXJuIGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkP3IobnVsbCk6biYmNDA0IT09bi5zdGF0dXM/cihuKTooaSYmaS5yZXNvdXJjZVRpbWluZyYmKHQucmVzb3VyY2VUaW1pbmc9aS5yZXNvdXJjZVRpbWluZyksdGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJmkmJnQuc2V0RXhwaXJ5RGF0YShpKSx0LmxvYWRWZWN0b3JEYXRhKGksdGhpcy5tYXAucGFpbnRlciksZS5jYWNoZUVudHJ5UG9zc2libHlBZGRlZCh0aGlzLmRpc3BhdGNoZXIpLHIobnVsbCksdm9pZCh0LnJlbG9hZENhbGxiYWNrJiYodGhpcy5sb2FkVGlsZSh0LHQucmVsb2FkQ2FsbGJhY2spLHQucmVsb2FkQ2FsbGJhY2s9bnVsbCkpKX19YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJhYm9ydFRpbGVcIix7dWlkOmUudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSl9dW5sb2FkVGlsZShlKXtlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4hMX1hZnRlclVwZGF0ZSgpe3RoaXMuX3RpbGVXb3JrZXJzPXt9fWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCl9fSxyYXN0ZXI6TWUsXCJyYXN0ZXItZGVtXCI6Y2xhc3MgZXh0ZW5kcyBNZXtjb25zdHJ1Y3Rvcih0LHIsbixpKXtzdXBlcih0LHIsbixpKSx0aGlzLnR5cGU9XCJyYXN0ZXItZGVtXCIsdGhpcy5tYXh6b29tPTIyLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe3R5cGU6XCJyYXN0ZXItZGVtXCJ9LHIpLHRoaXMuZW5jb2Rpbmc9ci5lbmNvZGluZ3x8XCJtYXBib3hcIn1sb2FkVGlsZSh0LHIpe2NvbnN0IG49dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodC50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSwhMSx0aGlzLnRpbGVTaXplKTtmdW5jdGlvbiBpKGUsbil7ZSYmKHQuc3RhdGU9XCJlcnJvcmVkXCIscihlKSksbiYmKHQuZGVtPW4sdC5kZW0ub25EZXNlcmlhbGl6ZSgpLHQubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLHQubmVlZHNERU1UZXh0dXJlVXBsb2FkPSEwLHQuc3RhdGU9XCJsb2FkZWRcIixyKG51bGwpKX10LnJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChuLGUuUmVzb3VyY2VUeXBlLlRpbGUpLGZ1bmN0aW9uKG4sbyxhLHMpe2lmKGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkKXQuc3RhdGU9XCJ1bmxvYWRlZFwiLHIobnVsbCk7ZWxzZSBpZihuKXQuc3RhdGU9XCJlcnJvcmVkXCIscihuKTtlbHNlIGlmKG8pe3RoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDphLGV4cGlyZXM6c30pO2NvbnN0IHI9ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm8gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCYmKG51bGw9PWtlJiYoa2U9ZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzJiZuZXcgZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dChcIjJkXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCksa2UpLG49MS0oby53aWR0aC1lLnByZXZQb3dlck9mVHdvKG8ud2lkdGgpKS8yO248MXx8dC5uZWlnaGJvcmluZ1RpbGVzfHwodC5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXModC50aWxlSUQpKTtjb25zdCBsPXI/bzplLmV4cG9ydGVkLmdldEltYWdlRGF0YShvLG4pLGM9e3VpZDp0LnVpZCxjb29yZDp0LnRpbGVJRCxzb3VyY2U6dGhpcy5pZCxyYXdJbWFnZURhdGE6bCxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBhZGRpbmc6bn07dC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlfHwodC5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0LmFjdG9yLnNlbmQoXCJsb2FkREVNVGlsZVwiLGMsaS5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpfX0uYmluZCh0aGlzKSl9X2dldE5laWdoYm9yaW5nVGlsZXModCl7Y29uc3Qgcj10LmNhbm9uaWNhbCxuPU1hdGgucG93KDIsci56KSxpPShyLngtMStuKSVuLG89MD09PXIueD90LndyYXAtMTp0LndyYXAsYT0oci54KzErbiklbixzPXIueCsxPT09bj90LndyYXArMTp0LndyYXAsbD17fTtyZXR1cm4gbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbyxyLnosaSxyLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsci56LGEsci55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxyLnk+MCYmKGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLG8sci56LGksci55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHQud3JhcCxyLnosci54LHIueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixzLHIueixhLHIueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSksci55KzE8biYmKGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLG8sci56LGksci55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHQud3JhcCxyLnosci54LHIueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixzLHIueixhLHIueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSksbH11bmxvYWRUaWxlKGUpe2UuZGVtVGV4dHVyZSYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoZS5kZW1UZXh0dXJlKSxlLmZibyYmKGUuZmJvLmRlc3Ryb3koKSxkZWxldGUgZS5mYm8pLGUuZGVtJiZkZWxldGUgZS5kZW0sZGVsZXRlIGUubmVpZ2hib3JpbmdUaWxlcyxlLnN0YXRlPVwidW5sb2FkZWRcIn19LGdlb2pzb246Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyLG4saSl7c3VwZXIoKSx0aGlzLmlkPXQsdGhpcy50eXBlPVwiZ2VvanNvblwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0xOCx0aGlzLnRpbGVTaXplPTUxMix0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5hY3Rvcj1uLmdldEFjdG9yKCksdGhpcy5zZXRFdmVudGVkUGFyZW50KGkpLHRoaXMuX2RhdGE9ci5kYXRhLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe30sciksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPXIuY29sbGVjdFJlc291cmNlVGltaW5nLHZvaWQgMCE9PXIubWF4em9vbSYmKHRoaXMubWF4em9vbT1yLm1heHpvb20pLHIudHlwZSYmKHRoaXMudHlwZT1yLnR5cGUpLHIuYXR0cmlidXRpb24mJih0aGlzLmF0dHJpYnV0aW9uPXIuYXR0cmlidXRpb24pLHRoaXMucHJvbW90ZUlkPXIucHJvbW90ZUlkO2NvbnN0IG89ZS5FWFRFTlQvdGhpcy50aWxlU2l6ZTt0aGlzLndvcmtlck9wdGlvbnM9ZS5leHRlbmQoe3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXI6ci5jbHVzdGVyfHwhMSxnZW9qc29uVnRPcHRpb25zOntidWZmZXI6KHZvaWQgMCE9PXIuYnVmZmVyP3IuYnVmZmVyOjEyOCkqbyx0b2xlcmFuY2U6KHZvaWQgMCE9PXIudG9sZXJhbmNlP3IudG9sZXJhbmNlOi4zNzUpKm8sZXh0ZW50OmUuRVhURU5ULG1heFpvb206dGhpcy5tYXh6b29tLGxpbmVNZXRyaWNzOnIubGluZU1ldHJpY3N8fCExLGdlbmVyYXRlSWQ6ci5nZW5lcmF0ZUlkfHwhMX0sc3VwZXJjbHVzdGVyT3B0aW9uczp7bWF4Wm9vbTp2b2lkIDAhPT1yLmNsdXN0ZXJNYXhab29tP3IuY2x1c3Rlck1heFpvb206dGhpcy5tYXh6b29tLTEsbWluUG9pbnRzOk1hdGgubWF4KDIsci5jbHVzdGVyTWluUG9pbnRzfHwyKSxleHRlbnQ6ZS5FWFRFTlQscmFkaXVzOih2b2lkIDAhPT1yLmNsdXN0ZXJSYWRpdXM/ci5jbHVzdGVyUmFkaXVzOjUwKSpvLGxvZzohMSxnZW5lcmF0ZUlkOnIuZ2VuZXJhdGVJZHx8ITF9LGNsdXN0ZXJQcm9wZXJ0aWVzOnIuY2x1c3RlclByb3BlcnRpZXMsZmlsdGVyOnIuZmlsdGVyfSxyLndvcmtlck9wdGlvbnMpfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5zZXREYXRhKHRoaXMuX2RhdGEpfXNldERhdGEoZSl7cmV0dXJuIHRoaXMuX2RhdGE9ZSx0aGlzLl91cGRhdGVXb3JrZXJEYXRhKCksdGhpc31nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJFeHBhbnNpb25ab29tXCIse2NsdXN0ZXJJZDplLHNvdXJjZTp0aGlzLmlkfSx0KSx0aGlzfWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlblwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZH0sdCksdGhpc31nZXRDbHVzdGVyTGVhdmVzKGUsdCxyLG4pe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJMZWF2ZXNcIix7c291cmNlOnRoaXMuaWQsY2x1c3RlcklkOmUsbGltaXQ6dCxvZmZzZXQ6cn0sbiksdGhpc31fdXBkYXRlV29ya2VyRGF0YSgpe2lmKHRoaXMuX3BlbmRpbmdMb2FkKXJldHVybiB2b2lkKHRoaXMuX2NvYWxlc2NlPSEwKTt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2xvYWRlZD0hMTtjb25zdCB0PWUuZXh0ZW5kKHt9LHRoaXMud29ya2VyT3B0aW9ucykscj10aGlzLl9kYXRhO1wic3RyaW5nXCI9PXR5cGVvZiByPyh0LnJlcXVlc3Q9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoZS5leHBvcnRlZC5yZXNvbHZlVVJMKHIpLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSksdC5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOnQuZGF0YT1KU09OLnN0cmluZ2lmeShyKSx0aGlzLl9wZW5kaW5nTG9hZD10aGlzLmFjdG9yLnNlbmQodGhpcy50eXBlK1wiLmxvYWREYXRhXCIsdCwodCxyKT0+e2lmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLl9wZW5kaW5nTG9hZD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2V7Y29uc3QgdD17ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTp0aGlzLl9tZXRhZGF0YUZpcmVkP1wiY29udGVudFwiOlwibWV0YWRhdGFcIn07dGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nJiZyJiZyLnJlc291cmNlVGltaW5nJiZyLnJlc291cmNlVGltaW5nW3RoaXMuaWRdJiYodC5yZXNvdXJjZVRpbWluZz1yLnJlc291cmNlVGltaW5nW3RoaXMuaWRdKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIsdCkpLHRoaXMuX21ldGFkYXRhRmlyZWQ9ITB9dGhpcy5fY29hbGVzY2UmJih0aGlzLl91cGRhdGVXb3JrZXJEYXRhKCksdGhpcy5fY29hbGVzY2U9ITEpfSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1sb2FkVGlsZSh0LHIpe2NvbnN0IG49dC5hY3Rvcj9cInJlbG9hZFRpbGVcIjpcImxvYWRUaWxlXCI7dC5hY3Rvcj10aGlzLmFjdG9yLHQucmVxdWVzdD10aGlzLmFjdG9yLnNlbmQobix7dHlwZTp0aGlzLnR5cGUsdWlkOnQudWlkLHRpbGVJRDp0LnRpbGVJRCx0aWxlWm9vbTp0LnRpbGVab29tLHpvb206dC50aWxlSUQub3ZlcnNjYWxlZFosbWF4Wm9vbTp0aGlzLm1heHpvb20sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZH0sKGUsaSk9PihkZWxldGUgdC5yZXF1ZXN0LHQudW5sb2FkVmVjdG9yRGF0YSgpLHQuYWJvcnRlZD9yKG51bGwpOmU/cihlKToodC5sb2FkVmVjdG9yRGF0YShpLHRoaXMubWFwLnBhaW50ZXIsXCJyZWxvYWRUaWxlXCI9PT1uKSxyKG51bGwpKSksdm9pZCAwLFwibG9hZFRpbGVcIj09PW4pfWFib3J0VGlsZShlKXtlLnJlcXVlc3QmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksZS5hYm9ydGVkPSEwfXVubG9hZFRpbGUoZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KX1vblJlbW92ZSgpe3RoaXMuX3BlbmRpbmdMb2FkJiZ0aGlzLl9wZW5kaW5nTG9hZC5jYW5jZWwoKX1zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyx7dHlwZTp0aGlzLnR5cGUsZGF0YTp0aGlzLl9kYXRhfSl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfX0sdmlkZW86Y2xhc3MgZXh0ZW5kcyBJZXtjb25zdHJ1Y3RvcihlLHQscixuKXtzdXBlcihlLHQscixuKSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnR5cGU9XCJ2aWRlb1wiLHRoaXMub3B0aW9ucz10fWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITE7Y29uc3QgdD10aGlzLm9wdGlvbnM7dGhpcy51cmxzPVtdO2Zvcihjb25zdCByIG9mIHQudXJscyl0aGlzLnVybHMucHVzaCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChyLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSkudXJsKTtlLmdldFZpZGVvKHRoaXMudXJscywodCxyKT0+e3RoaXMuX2xvYWRlZD0hMCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTpyJiYodGhpcy52aWRlbz1yLHRoaXMudmlkZW8ubG9vcD0hMCx0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLCgpPT57dGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKX0pLHRoaXMubWFwJiZ0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpfSl9cGF1c2UoKXt0aGlzLnZpZGVvJiZ0aGlzLnZpZGVvLnBhdXNlKCl9cGxheSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGxheSgpfXNlZWsodCl7aWYodGhpcy52aWRlbyl7Y29uc3Qgcj10aGlzLnZpZGVvLnNlZWthYmxlO3Q8ci5zdGFydCgwKXx8dD5yLmVuZCgwKT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3RoaXMuaWQsbnVsbCxgUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICR7ci5zdGFydCgwKX0gYW5kICR7ci5lbmQoMCl9LXNlY29uZCBtYXJrLmApKSk6dGhpcy52aWRlby5jdXJyZW50VGltZT10fX1nZXRWaWRlbygpe3JldHVybiB0aGlzLnZpZGVvfW9uQWRkKGUpe3RoaXMubWFwfHwodGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLnZpZGVvJiYodGhpcy52aWRlby5wbGF5KCksdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKSkpfXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8MilyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQscj10LmdsO3RoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSksci50ZXhTdWJJbWFnZTJEKHIuVEVYVFVSRV8yRCwwLDAsMCxyLlJHQkEsci5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUodCx0aGlzLnZpZGVvLHIuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSx0aGlzLndpZHRoPXRoaXMudmlkZW8udmlkZW9XaWR0aCx0aGlzLmhlaWdodD10aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KSx0aGlzLl9wcmVwYXJlRGF0YSh0KX1zZXJpYWxpemUoKXtyZXR1cm57dHlwZTpcInZpZGVvXCIsdXJsczp0aGlzLnVybHMsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9fSxpbWFnZTpJZSxjYW52YXM6Y2xhc3MgZXh0ZW5kcyBJZXtjb25zdHJ1Y3Rvcih0LHIsbixpKXtzdXBlcih0LHIsbixpKSxyLmNvb3JkaW5hdGVzP0FycmF5LmlzQXJyYXkoci5jb29yZGluYXRlcykmJjQ9PT1yLmNvb3JkaW5hdGVzLmxlbmd0aCYmIXIuY29vcmRpbmF0ZXMuc29tZShlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoZT0+XCJudW1iZXJcIiE9dHlwZW9mIGUpKXx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0LG51bGwsJ1wiY29vcmRpbmF0ZXNcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5IG9mIDQgbG9uZ2l0dWRlL2xhdGl0dWRlIGFycmF5IHBhaXJzJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNvb3JkaW5hdGVzXCInKSkpLHIuYW5pbWF0ZSYmXCJib29sZWFuXCIhPXR5cGVvZiByLmFuaW1hdGUmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksci5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIHIuY2FudmFzfHxyLmNhbnZhcyBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50fHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnXCJjYW52YXNcIiBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIElEIG9mIHRoZSBjYW52YXMgZWxlbWVudCBmcm9tIHdoaWNoIHRvIHJlYWQsIG9yIGFuIEhUTUxDYW52YXNFbGVtZW50IGluc3RhbmNlJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNhbnZhc1wiJykpKSx0aGlzLm9wdGlvbnM9cix0aGlzLmFuaW1hdGU9dm9pZCAwPT09ci5hbmltYXRlfHxyLmFuaW1hdGV9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMCx0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPXRoaXMub3B0aW9ucy5jYW52YXMgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudD90aGlzLm9wdGlvbnMuY2FudmFzOmUud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0aW9ucy5jYW52YXMpKSx0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkNhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby5cIikpKToodGhpcy5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZz0hMCx0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpfSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZyYmKHRoaXMucHJlcGFyZSgpLHRoaXMuX3BsYXlpbmc9ITEpfSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpfWdldENhbnZhcygpe3JldHVybiB0aGlzLmNhbnZhc31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpLHRoaXMuY2FudmFzJiZ0aGlzLmFuaW1hdGUmJnRoaXMucGxheSgpfW9uUmVtb3ZlKCl7dGhpcy5wYXVzZSgpfXByZXBhcmUoKXtsZXQgdD0hMTtpZih0aGlzLmNhbnZhcy53aWR0aCE9PXRoaXMud2lkdGgmJih0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHQ9ITApLHRoaXMuY2FudmFzLmhlaWdodCE9PXRoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHQ9ITApLHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpcmV0dXJuO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpcmV0dXJuO2NvbnN0IHI9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0O3RoaXMudGV4dHVyZT8odHx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUocix0aGlzLmNhbnZhcyxyLmdsLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy5fcHJlcGFyZURhdGEocil9c2VyaWFsaXplKCl7cmV0dXJue3R5cGU6XCJjYW52YXNcIixjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXlpbmd9X2hhc0ludmFsaWREaW1lbnNpb25zKCl7Zm9yKGNvbnN0IGUgb2ZbdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XSlpZihpc05hTihlKXx8ZTw9MClyZXR1cm4hMDtyZXR1cm4hMX19LGN1c3RvbTpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LHIsbixpKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLnR5cGU9XCJjdXN0b21cIix0aGlzLl9kYXRhVHlwZT1cInJhc3RlclwiLHRoaXMuX2Rpc3BhdGNoZXI9bix0aGlzLl9pbXBsZW1lbnRhdGlvbj1yLHRoaXMuc2V0RXZlbnRlZFBhcmVudChpKSx0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5faW1wbGVtZW50YXRpb258fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZXx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBNaXNzaW5nIGxvYWRUaWxlIGltcGxlbWVudGF0aW9uIGZvciAke3RoaXMuaWR9IGN1c3RvbSBzb3VyY2VgKSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgaih0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLHIudXBkYXRlPXRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpLHIuY2xlYXJUaWxlcz10aGlzLl9jbGVhclRpbGVzLmJpbmQodGhpcyksci5jb3ZlcmluZ1RpbGVzPXRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKSxlLmV4dGVuZCh0aGlzLGUucGljayhyLFtcImRhdGFUeXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiLFwibWluVGlsZUNhY2hlU2l6ZVwiLFwibWF4VGlsZUNhY2hlU2l6ZVwiXSkpfXNlcmlhbGl6ZSgpe3JldHVybiBlLnBpY2sodGhpcyxbXCJ0eXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiXSl9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfW9uQWRkKHQpe3RoaXMuX21hcD10LHRoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCh0KSx0aGlzLmxvYWQoKX1vblJlbW92ZShlKXt0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUoZSl9aGFzVGlsZShlKXtpZih0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKXtjb25zdHt4OnQseTpyLHo6bn09ZS5jYW5vbmljYWw7cmV0dXJuIHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUoe3g6dCx5OnIsejpufSl9cmV0dXJuIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZSh0LHIpe2NvbnN0e3g6bix5OmksejpvfT10LnRpbGVJRC5jYW5vbmljYWwsYT1uZXcgZS53aW5kb3cuQWJvcnRDb250cm9sbGVyO3QucmVxdWVzdD1Qcm9taXNlLnJlc29sdmUodGhpcy5faW1wbGVtZW50YXRpb24ubG9hZFRpbGUoe3g6bix5OmksejpvfSx7c2lnbmFsOmEuc2lnbmFsfSkpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkPyh0LnN0YXRlPVwidW5sb2FkZWRcIixyKG51bGwpKTp2b2lkIDA9PT1uPyh0LnN0YXRlPVwiZXJyb3JlZFwiLHIobnVsbCkpOm51bGw9PT1uPyh0aGlzLmxvYWRUaWxlRGF0YSh0LHt3aWR0aDp0aGlzLnRpbGVTaXplLGhlaWdodDp0aGlzLnRpbGVTaXplLGRhdGE6bnVsbH0pLHQuc3RhdGU9XCJsb2FkZWRcIixyKG51bGwpKTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlRGF0YXx8dCBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50fHx0IGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXB8fHQgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fShuKT8odGhpcy5sb2FkVGlsZURhdGEodCxuKSx0LnN0YXRlPVwibG9hZGVkXCIsdm9pZCByKG51bGwpKToodC5zdGF0ZT1cImVycm9yZWRcIixyKG5ldyBFcnJvcihgQ2FuJ3QgaW5mZXIgZGF0YSB0eXBlIGZvciAke3RoaXMuaWR9LCBvbmx5IHJhc3RlciBkYXRhIHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50YCkpKX0uYmluZCh0aGlzKSkuY2F0Y2goZT0+ezIwIT09ZS5jb2RlJiYodC5zdGF0ZT1cImVycm9yZWRcIixyKGUpKX0pLHQucmVxdWVzdC5jYW5jZWw9KCk9PmEuYWJvcnQoKX1sb2FkVGlsZURhdGEoZSx0KXtNZS5sb2FkVGlsZURhdGEoZSx0LHRoaXMuX21hcC5wYWludGVyKX11bmxvYWRUaWxlRGF0YShlKXtNZS51bmxvYWRUaWxlRGF0YShlLHRoaXMuX21hcC5wYWludGVyKX11bmxvYWRUaWxlKGUsdCl7aWYodGhpcy51bmxvYWRUaWxlRGF0YShlKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKXtjb25zdHt4OnQseTpyLHo6bn09ZS50aWxlSUQuY2Fub25pY2FsO3RoaXMuX2ltcGxlbWVudGF0aW9uLnVubG9hZFRpbGUoe3g6dCx5OnIsejpufSl9dCgpfWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmZS5yZXF1ZXN0LmNhbmNlbCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfV9jb3ZlcmluZ1RpbGVzKCl7cmV0dXJuIHRoaXMuX21hcC50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy50aWxlU2l6ZSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxyb3VuZFpvb206dGhpcy5yb3VuZFpvb219KS5tYXAoZT0+KHt4OmUuY2Fub25pY2FsLngseTplLmNhbm9uaWNhbC55LHo6ZS5jYW5vbmljYWwuen0pKX1fY2xlYXJUaWxlcygpe3RoaXMuX21hcC5zdHlsZS5fY2xlYXJTb3VyY2UodGhpcy5pZCl9X3VwZGF0ZSgpe3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKX19fSx6ZT1mdW5jdGlvbih0LHIsbixpKXtjb25zdCBvPW5ldyBQZVtyLnR5cGVdKHQscixuLGkpO2lmKG8uaWQhPT10KXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICR7dH0gaW5zdGVhZCBvZiAke28uaWR9YCk7cmV0dXJuIGUuYmluZEFsbChbXCJsb2FkXCIsXCJhYm9ydFwiLFwidW5sb2FkXCIsXCJzZXJpYWxpemVcIixcInByZXBhcmVcIl0sbyksb307ZnVuY3Rpb24gRGUodCxyKXtjb25zdCBuPWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnNjYWxlKG4sbixbLjUqdC53aWR0aCwuNSotdC5oZWlnaHQsMV0pLGUudHJhbnNsYXRlKG4sbixbMSwtMSwwXSksZS5tdWx0aXBseShuLG4sdC5jYWxjdWxhdGVQcm9qTWF0cml4KHIudG9VbndyYXBwZWQoKSkpLEZsb2F0MzJBcnJheS5mcm9tKG4pfWZ1bmN0aW9uIFJlKGUsdCxyLG4saSxvLGEscz0hMSl7Y29uc3QgbD1lLnRpbGVzSW4obixhLHMpO2wuc29ydChPZSk7Y29uc3QgYz1bXTtmb3IoY29uc3QgbiBvZiBsKWMucHVzaCh7d3JhcHBlZFRpbGVJRDpuLnRpbGUudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOm4udGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxyLGUuX3N0YXRlLG4saSxvLERlKGUudHJhbnNmb3JtLG4udGlsZS50aWxlSUQpLHMpfSk7Y29uc3QgdT1mdW5jdGlvbihlKXtjb25zdCB0PXt9LHI9e307Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1uLnF1ZXJ5UmVzdWx0cyxpPW4ud3JhcHBlZFRpbGVJRCxvPXJbaV09cltpXXx8e307Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdLGk9b1tyXT1vW3JdfHx7fSxhPXRbcl09dFtyXXx8W107Zm9yKGNvbnN0IGUgb2YgbilpW2UuZmVhdHVyZUluZGV4XXx8KGlbZS5mZWF0dXJlSW5kZXhdPSEwLGEucHVzaChlKSl9fXJldHVybiB0fShjKTtmb3IoY29uc3QgdCBpbiB1KXVbdF0uZm9yRWFjaCh0PT57Y29uc3Qgcj10LmZlYXR1cmUsbj1yLmxheWVyO24mJlwiYmFja2dyb3VuZFwiIT09bi50eXBlJiZcInNreVwiIT09bi50eXBlJiYoci5zb3VyY2U9bi5zb3VyY2UsbltcInNvdXJjZS1sYXllclwiXSYmKHIuc291cmNlTGF5ZXI9bltcInNvdXJjZS1sYXllclwiXSksci5zdGF0ZT12b2lkIDAhPT1yLmlkP2UuZ2V0RmVhdHVyZVN0YXRlKG5bXCJzb3VyY2UtbGF5ZXJcIl0sci5pZCk6e30pfSk7cmV0dXJuIHV9ZnVuY3Rpb24gTGUoZSx0KXtjb25zdCByPWUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCh0PT5lLmdldFRpbGVCeUlEKHQpKSxuPVtdLGk9e307Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IG89cltlXSxhPW8udGlsZUlELmNhbm9uaWNhbC5rZXk7aVthXXx8KGlbYV09ITAsby5xdWVyeVNvdXJjZUZlYXR1cmVzKG4sdCkpfXJldHVybiBufWZ1bmN0aW9uIE9lKGUsdCl7Y29uc3Qgcj1lLnRpbGVJRCxuPXQudGlsZUlEO3JldHVybiByLm92ZXJzY2FsZWRaLW4ub3ZlcnNjYWxlZFp8fHIuY2Fub25pY2FsLnktbi5jYW5vbmljYWwueXx8ci53cmFwLW4ud3JhcHx8ci5jYW5vbmljYWwueC1uLmNhbm9uaWNhbC54fWZ1bmN0aW9uIEJlKCl7cmV0dXJuIG51bGwhPV9vLndvcmtlckNsYXNzP25ldyBfby53b3JrZXJDbGFzczpuZXcgZS53aW5kb3cuV29ya2VyKF9vLndvcmtlclVybCl9Y29uc3QgRmU9XCJtYXBib3hnbF9wcmVsb2FkZWRfd29ya2VyX3Bvb2xcIjtjbGFzcyBqZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlPXt9fWFjcXVpcmUoZSl7aWYoIXRoaXMud29ya2Vycylmb3IodGhpcy53b3JrZXJzPVtdO3RoaXMud29ya2Vycy5sZW5ndGg8amUud29ya2VyQ291bnQ7KXRoaXMud29ya2Vycy5wdXNoKG5ldyBCZSk7cmV0dXJuIHRoaXMuYWN0aXZlW2VdPSEwLHRoaXMud29ya2Vycy5zbGljZSgpfXJlbGVhc2UoZSl7ZGVsZXRlIHRoaXMuYWN0aXZlW2VdLDA9PT10aGlzLm51bUFjdGl2ZSgpJiYodGhpcy53b3JrZXJzLmZvckVhY2goZT0+e2UudGVybWluYXRlKCl9KSx0aGlzLndvcmtlcnM9bnVsbCl9aXNQcmVsb2FkZWQoKXtyZXR1cm4hIXRoaXMuYWN0aXZlW0ZlXX1udW1BY3RpdmUoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aH19bGV0IFVlO2Z1bmN0aW9uIE5lKCl7cmV0dXJuIFVlfHwoVWU9bmV3IGplKSxVZX1mdW5jdGlvbiBWZSh0LHIpe2NvbnN0IG49e307Zm9yKGNvbnN0IGUgaW4gdClcInJlZlwiIT09ZSYmKG5bZV09dFtlXSk7cmV0dXJuIGUucmVmUHJvcGVydGllcy5mb3JFYWNoKGU9PntlIGluIHImJihuW2VdPXJbZV0pfSksbn1mdW5jdGlvbiBHZShlKXtlPWUuc2xpY2UoKTtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspdFtlW3JdLmlkXT1lW3JdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKVwicmVmXCJpbiBlW3JdJiYoZVtyXT1WZShlW3JdLHRbZVtyXS5yZWZdKSk7cmV0dXJuIGV9amUud29ya2VyQ291bnQ9Mjtjb25zdCBxZT17c2V0U3R5bGU6XCJzZXRTdHlsZVwiLGFkZExheWVyOlwiYWRkTGF5ZXJcIixyZW1vdmVMYXllcjpcInJlbW92ZUxheWVyXCIsc2V0UGFpbnRQcm9wZXJ0eTpcInNldFBhaW50UHJvcGVydHlcIixzZXRMYXlvdXRQcm9wZXJ0eTpcInNldExheW91dFByb3BlcnR5XCIsc2V0RmlsdGVyOlwic2V0RmlsdGVyXCIsYWRkU291cmNlOlwiYWRkU291cmNlXCIscmVtb3ZlU291cmNlOlwicmVtb3ZlU291cmNlXCIsc2V0R2VvSlNPTlNvdXJjZURhdGE6XCJzZXRHZW9KU09OU291cmNlRGF0YVwiLHNldExheWVyWm9vbVJhbmdlOlwic2V0TGF5ZXJab29tUmFuZ2VcIixzZXRMYXllclByb3BlcnR5Olwic2V0TGF5ZXJQcm9wZXJ0eVwiLHNldENlbnRlcjpcInNldENlbnRlclwiLHNldFpvb206XCJzZXRab29tXCIsc2V0QmVhcmluZzpcInNldEJlYXJpbmdcIixzZXRQaXRjaDpcInNldFBpdGNoXCIsc2V0U3ByaXRlOlwic2V0U3ByaXRlXCIsc2V0R2x5cGhzOlwic2V0R2x5cGhzXCIsc2V0VHJhbnNpdGlvbjpcInNldFRyYW5zaXRpb25cIixzZXRMaWdodDpcInNldExpZ2h0XCIsc2V0VGVycmFpbjpcInNldFRlcnJhaW5cIixzZXRGb2c6XCJzZXRGb2dcIixzZXRQcm9qZWN0aW9uOlwic2V0UHJvamVjdGlvblwifTtmdW5jdGlvbiBaZShlLHQscil7ci5wdXNoKHtjb21tYW5kOnFlLmFkZFNvdXJjZSxhcmdzOltlLHRbZV1dfSl9ZnVuY3Rpb24gJGUoZSx0LHIpe3QucHVzaCh7Y29tbWFuZDpxZS5yZW1vdmVTb3VyY2UsYXJnczpbZV19KSxyW2VdPSEwfWZ1bmN0aW9uIFdlKGUsdCxyLG4peyRlKGUscixuKSxaZShlLHQscil9ZnVuY3Rpb24gWGUoZSxyLG4pe2xldCBpO2ZvcihpIGluIGVbbl0paWYoZVtuXS5oYXNPd25Qcm9wZXJ0eShpKSYmXCJkYXRhXCIhPT1pJiYhdChlW25dW2ldLHJbbl1baV0pKXJldHVybiExO2ZvcihpIGluIHJbbl0paWYocltuXS5oYXNPd25Qcm9wZXJ0eShpKSYmXCJkYXRhXCIhPT1pJiYhdChlW25dW2ldLHJbbl1baV0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEhlKGUscixuLGksbyxhKXtsZXQgcztmb3IocyBpbiByPXJ8fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQoZVtzXSxyW3NdKXx8bi5wdXNoKHtjb21tYW5kOmEsYXJnczpbaSxzLHJbc10sb119KSk7Zm9yKHMgaW4gcilyLmhhc093blByb3BlcnR5KHMpJiYhZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQoZVtzXSxyW3NdKXx8bi5wdXNoKHtjb21tYW5kOmEsYXJnczpbaSxzLHJbc10sb119KSl9ZnVuY3Rpb24gWWUoZSl7cmV0dXJuIGUuaWR9ZnVuY3Rpb24gS2UoZSx0KXtyZXR1cm4gZVt0LmlkXT10LGV9Y2xhc3MgSmV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnJlc2V0KGUsdCl9cmVzZXQoZSx0KXt0aGlzLnBvaW50cz1lfHxbXSx0aGlzLl9kaXN0YW5jZXM9WzBdO2ZvcihsZXQgZT0xO2U8dGhpcy5wb2ludHMubGVuZ3RoO2UrKyl0aGlzLl9kaXN0YW5jZXNbZV09dGhpcy5fZGlzdGFuY2VzW2UtMV0rdGhpcy5wb2ludHNbZV0uZGlzdCh0aGlzLnBvaW50c1tlLTFdKTt0aGlzLmxlbmd0aD10aGlzLl9kaXN0YW5jZXNbdGhpcy5fZGlzdGFuY2VzLmxlbmd0aC0xXSx0aGlzLnBhZGRpbmc9TWF0aC5taW4odHx8MCwuNSp0aGlzLmxlbmd0aCksdGhpcy5wYWRkZWRMZW5ndGg9dGhpcy5sZW5ndGgtMip0aGlzLnBhZGRpbmd9bGVycCh0KXtpZigxPT09dGhpcy5wb2ludHMubGVuZ3RoKXJldHVybiB0aGlzLnBvaW50c1swXTt0PWUuY2xhbXAodCwwLDEpO2xldCByPTEsbj10aGlzLl9kaXN0YW5jZXNbcl07Y29uc3QgaT10KnRoaXMucGFkZGVkTGVuZ3RoK3RoaXMucGFkZGluZztmb3IoO248aSYmcjx0aGlzLl9kaXN0YW5jZXMubGVuZ3RoOyluPXRoaXMuX2Rpc3RhbmNlc1srK3JdO2NvbnN0IG89ci0xLGE9dGhpcy5fZGlzdGFuY2VzW29dLHM9bi1hLGw9cz4wPyhpLWEpL3M6MDtyZXR1cm4gdGhpcy5wb2ludHNbb10ubXVsdCgxLWwpLmFkZCh0aGlzLnBvaW50c1tyXS5tdWx0KGwpKX19Y2xhc3MgUWV7Y29uc3RydWN0b3IoZSx0LHIpe2NvbnN0IG49dGhpcy5ib3hDZWxscz1bXSxpPXRoaXMuY2lyY2xlQ2VsbHM9W107dGhpcy54Q2VsbENvdW50PU1hdGguY2VpbChlL3IpLHRoaXMueUNlbGxDb3VudD1NYXRoLmNlaWwodC9yKTtmb3IobGV0IGU9MDtlPHRoaXMueENlbGxDb3VudCp0aGlzLnlDZWxsQ291bnQ7ZSsrKW4ucHVzaChbXSksaS5wdXNoKFtdKTt0aGlzLmNpcmNsZUtleXM9W10sdGhpcy5ib3hLZXlzPVtdLHRoaXMuYmJveGVzPVtdLHRoaXMuY2lyY2xlcz1bXSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnhTY2FsZT10aGlzLnhDZWxsQ291bnQvZSx0aGlzLnlTY2FsZT10aGlzLnlDZWxsQ291bnQvdCx0aGlzLmJveFVpZD0wLHRoaXMuY2lyY2xlVWlkPTB9a2V5c0xlbmd0aCgpe3JldHVybiB0aGlzLmJveEtleXMubGVuZ3RoK3RoaXMuY2lyY2xlS2V5cy5sZW5ndGh9aW5zZXJ0KGUsdCxyLG4saSl7dGhpcy5fZm9yRWFjaENlbGwodCxyLG4saSx0aGlzLl9pbnNlcnRCb3hDZWxsLHRoaXMuYm94VWlkKyspLHRoaXMuYm94S2V5cy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChyKSx0aGlzLmJib3hlcy5wdXNoKG4pLHRoaXMuYmJveGVzLnB1c2goaSl9aW5zZXJ0Q2lyY2xlKGUsdCxyLG4pe3RoaXMuX2ZvckVhY2hDZWxsKHQtbixyLW4sdCtuLHIrbix0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLHRoaXMuY2lyY2xlVWlkKyspLHRoaXMuY2lyY2xlS2V5cy5wdXNoKGUpLHRoaXMuY2lyY2xlcy5wdXNoKHQpLHRoaXMuY2lyY2xlcy5wdXNoKHIpLHRoaXMuY2lyY2xlcy5wdXNoKG4pfV9pbnNlcnRCb3hDZWxsKGUsdCxyLG4saSxvKXt0aGlzLmJveENlbGxzW2ldLnB1c2gobyl9X2luc2VydENpcmNsZUNlbGwoZSx0LHIsbixpLG8pe3RoaXMuY2lyY2xlQ2VsbHNbaV0ucHVzaChvKX1fcXVlcnkoZSx0LHIsbixpLG8pe2lmKHI8MHx8ZT50aGlzLndpZHRofHxuPDB8fHQ+dGhpcy5oZWlnaHQpcmV0dXJuIWkmJltdO2NvbnN0IGE9W107aWYoZTw9MCYmdDw9MCYmdGhpcy53aWR0aDw9ciYmdGhpcy5oZWlnaHQ8PW4pe2lmKGkpcmV0dXJuITA7Zm9yKGxldCBlPTA7ZTx0aGlzLmJveEtleXMubGVuZ3RoO2UrKylhLnB1c2goe2tleTp0aGlzLmJveEtleXNbZV0seDE6dGhpcy5iYm94ZXNbNCplXSx5MTp0aGlzLmJib3hlc1s0KmUrMV0seDI6dGhpcy5iYm94ZXNbNCplKzJdLHkyOnRoaXMuYmJveGVzWzQqZSszXX0pO2ZvcihsZXQgZT0wO2U8dGhpcy5jaXJjbGVLZXlzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5jaXJjbGVzWzMqZV0scj10aGlzLmNpcmNsZXNbMyplKzFdLG49dGhpcy5jaXJjbGVzWzMqZSsyXTthLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbZV0seDE6dC1uLHkxOnItbix4Mjp0K24seTI6citufSl9cmV0dXJuIG8/YS5maWx0ZXIobyk6YX1yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwoZSx0LHIsbix0aGlzLl9xdWVyeUNlbGwsYSx7aGl0VGVzdDppLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sbyksaT9hLmxlbmd0aD4wOmF9X3F1ZXJ5Q2lyY2xlKGUsdCxyLG4saSl7Y29uc3Qgbz1lLXIsYT1lK3Iscz10LXIsbD10K3I7aWYoYTwwfHxvPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4hbiYmW107Y29uc3QgYz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwobyxzLGEsbCx0aGlzLl9xdWVyeUNlbGxDaXJjbGUsYyx7aGl0VGVzdDpuLGNpcmNsZTp7eDplLHk6dCxyYWRpdXM6cn0sc2VlblVpZHM6e2JveDp7fSxjaXJjbGU6e319fSxpKSxuP2MubGVuZ3RoPjA6Y31xdWVyeShlLHQscixuLGkpe3JldHVybiB0aGlzLl9xdWVyeShlLHQscixuLCExLGkpfWhpdFRlc3QoZSx0LHIsbixpKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LHIsbiwhMCxpKX1oaXRUZXN0Q2lyY2xlKGUsdCxyLG4pe3JldHVybiB0aGlzLl9xdWVyeUNpcmNsZShlLHQsciwhMCxuKX1fcXVlcnlDZWxsKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD1hLnNlZW5VaWRzLGM9dGhpcy5ib3hDZWxsc1tpXTtpZihudWxsIT09Yyl7Y29uc3QgaT10aGlzLmJib3hlcztmb3IoY29uc3QgdSBvZiBjKWlmKCFsLmJveFt1XSl7bC5ib3hbdV09ITA7Y29uc3QgYz00KnU7aWYoZTw9aVtjKzJdJiZ0PD1pW2MrM10mJnI+PWlbYyswXSYmbj49aVtjKzFdJiYoIXN8fHModGhpcy5ib3hLZXlzW3VdKSkpe2lmKGEuaGl0VGVzdClyZXR1cm4gby5wdXNoKCEwKSwhMDtvLnB1c2goe2tleTp0aGlzLmJveEtleXNbdV0seDE6aVtjXSx5MTppW2MrMV0seDI6aVtjKzJdLHkyOmlbYyszXX0pfX19Y29uc3QgdT10aGlzLmNpcmNsZUNlbGxzW2ldO2lmKG51bGwhPT11KXtjb25zdCBpPXRoaXMuY2lyY2xlcztmb3IoY29uc3QgYyBvZiB1KWlmKCFsLmNpcmNsZVtjXSl7bC5jaXJjbGVbY109ITA7Y29uc3QgdT0zKmM7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUoaVt1XSxpW3UrMV0saVt1KzJdLGUsdCxyLG4pJiYoIXN8fHModGhpcy5jaXJjbGVLZXlzW2NdKSkpe2lmKGEuaGl0VGVzdClyZXR1cm4gby5wdXNoKCEwKSwhMDt7Y29uc3QgZT1pW3VdLHQ9aVt1KzFdLHI9aVt1KzJdO28ucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tjXSx4MTplLXIseTE6dC1yLHgyOmUrcix5Mjp0K3J9KX19fX19X3F1ZXJ5Q2VsbENpcmNsZShlLHQscixuLGksbyxhLHMpe2NvbnN0IGw9YS5jaXJjbGUsYz1hLnNlZW5VaWRzLHU9dGhpcy5ib3hDZWxsc1tpXTtpZihudWxsIT09dSl7Y29uc3QgZT10aGlzLmJib3hlcztmb3IoY29uc3QgdCBvZiB1KWlmKCFjLmJveFt0XSl7Yy5ib3hbdF09ITA7Y29uc3Qgcj00KnQ7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobC54LGwueSxsLnJhZGl1cyxlW3IrMF0sZVtyKzFdLGVbcisyXSxlW3IrM10pJiYoIXN8fHModGhpcy5ib3hLZXlzW3RdKSkpcmV0dXJuIG8ucHVzaCghMCksITB9fWNvbnN0IGg9dGhpcy5jaXJjbGVDZWxsc1tpXTtpZihudWxsIT09aCl7Y29uc3QgZT10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IHQgb2YgaClpZighYy5jaXJjbGVbdF0pe2MuY2lyY2xlW3RdPSEwO2NvbnN0IHI9Myp0O2lmKHRoaXMuX2NpcmNsZXNDb2xsaWRlKGVbcl0sZVtyKzFdLGVbcisyXSxsLngsbC55LGwucmFkaXVzKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t0XSkpKXJldHVybiBvLnB1c2goITApLCEwfX19X2ZvckVhY2hDZWxsKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh0KSx1PXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQociksaD10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKG4pO2ZvcihsZXQgZD1sO2Q8PXU7ZCsrKWZvcihsZXQgbD1jO2w8PWg7bCsrKWlmKGkuY2FsbCh0aGlzLGUsdCxyLG4sdGhpcy54Q2VsbENvdW50KmwrZCxvLGEscykpcmV0dXJufV9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnhTY2FsZSkpKX1fY29udmVydFRvWUNlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy55U2NhbGUpKSl9X2NpcmNsZXNDb2xsaWRlKGUsdCxyLG4saSxvKXtjb25zdCBhPW4tZSxzPWktdCxsPXIrbztyZXR1cm4gbCpsPmEqYStzKnN9X2NpcmNsZUFuZFJlY3RDb2xsaWRlKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9KG8tbikvMixsPU1hdGguYWJzKGUtKG4rcykpO2lmKGw+cytyKXJldHVybiExO2NvbnN0IGM9KGEtaSkvMix1PU1hdGguYWJzKHQtKGkrYykpO2lmKHU+YytyKXJldHVybiExO2lmKGw8PXN8fHU8PWMpcmV0dXJuITA7Y29uc3QgaD1sLXMsZD11LWM7cmV0dXJuIGgqaCtkKmQ8PXIqcn19Y29uc3QgZXQ9TWF0aC50YW4oODUqTWF0aC5QSS8xODApO2Z1bmN0aW9uIHR0KHQscixuLGksbyxhLHMpe2NvbnN0IGw9ZS5jcmVhdGUoKTtpZihuKWlmKFwiZ2xvYmVcIj09PWEubmFtZSl7Y29uc3QgdD1lLmNhbGN1bGF0ZUdsb2JlTGFiZWxNYXRyaXgobyxyKTtlLm11bHRpcGx5KGwsbCx0KX1lbHNle2NvbnN0IHQ9eShbXSxzKTtsWzBdPXRbMF0sbFsxXT10WzFdLGxbNF09dFsyXSxsWzVdPXRbM10saXx8ZS5yb3RhdGVaKGwsbCxvLmFuZ2xlKX1lbHNlIGUubXVsdGlwbHkobCxvLmxhYmVsUGxhbmVNYXRyaXgsdCk7cmV0dXJuIGx9ZnVuY3Rpb24gcnQoZSx0LHIsbixpLG8sYSl7Y29uc3Qgcz10dChlLHQscixuLGksbyxhKTtyZXR1cm5cImdsb2JlXCI9PT1vLm5hbWUmJnJ8fChzWzJdPXNbNl09c1sxMF09c1sxNF09MCksc31mdW5jdGlvbiBudCh0LHIsbixpLG8sYSxzKXtpZihuKXtpZihcImdsb2JlXCI9PT1hLm5hbWUpe2NvbnN0IGw9dHQodCxyLG4saSxvLGEscyk7cmV0dXJuIGUuaW52ZXJ0KGwsbCksZS5tdWx0aXBseShsLHQsbCksbH17Y29uc3Qgcj1lLmNsb25lKHQpLG49ZS5pZGVudGl0eShbXSk7cmV0dXJuIG5bMF09c1swXSxuWzFdPXNbMV0sbls0XT1zWzJdLG5bNV09c1szXSxlLm11bHRpcGx5KHIscixuKSxpfHxlLnJvdGF0ZVoocixyLC1vLmFuZ2xlKSxyfX1yZXR1cm4gby5nbENvb3JkTWF0cml4fWZ1bmN0aW9uIGl0KHQscixuPTApe2NvbnN0IGk9W3QueCx0LnksbiwxXTtuP2UudHJhbnNmb3JtTWF0NCQxKGksaSxyKTpfdChpLGkscik7Y29uc3Qgbz1pWzNdO3JldHVybntwb2ludDpbaVswXS9vLGlbMV0vbyxpWzJdL29dLHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTpvfX1mdW5jdGlvbiBvdCh0LHIpe2NvbnN0IG49W3RbMF0sdFsxXSx0WzJdLDFdO2UudHJhbnNmb3JtTWF0NCQxKG4sbixyKTtjb25zdCBpPW5bM107cmV0dXJue3BvaW50OltuWzBdL2ksblsxXS9pLG5bMl0vaV0sc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOml9fWZ1bmN0aW9uIGF0KGUsdCl7cmV0dXJuIE1hdGgubWluKC41K2UvdCouNSwxLjUpfWZ1bmN0aW9uIHN0KGUsdCl7Y29uc3Qgcj1lWzBdL2VbM10sbj1lWzFdL2VbM107cmV0dXJuIHI+PS10WzBdJiZyPD10WzBdJiZuPj0tdFsxXSYmbjw9dFsxXX1mdW5jdGlvbiBsdCh0LHIsbixpLG8sYSxzLGwsYyx1KXtjb25zdCBoPW4udHJhbnNmb3JtLGQ9aT90LnRleHRTaXplRGF0YTp0Lmljb25TaXplRGF0YSxwPWUuZXZhbHVhdGVTaXplRm9yWm9vbShkLG4udHJhbnNmb3JtLnpvb20pLGY9XCJnbG9iZVwiPT09aC5wcm9qZWN0aW9uLm5hbWUsbT1bMjU2L24ud2lkdGgqMisxLDI1Ni9uLmhlaWdodCoyKzFdLGc9aT90LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5OnQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7Zy5jbGVhcigpO2xldCBfPW51bGw7ZiYmKF89aT90LnRleHQuZ2xvYmVFeHRWZXJ0ZXhBcnJheTp0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhBcnJheSk7Y29uc3QgeT10LmxpbmVWZXJ0ZXhBcnJheSx2PWk/dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5OnQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheSx4PW4udHJhbnNmb3JtLndpZHRoL24udHJhbnNmb3JtLmhlaWdodDtsZXQgYj0hMTtmb3IobGV0IGk9MDtpPHYubGVuZ3RoO2krKyl7Y29uc3QgZj12LmdldChpKTtpZihmLndyaXRpbmdNb2RlIT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbHx8Ynx8MCE9PWkmJnYuZ2V0KGktMSkud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fChiPSEwKSwoZi5oaWRkZW58fGYud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsKSYmIWIpe2d0KGYubnVtR2x5cGhzLGcpO2NvbnRpbnVlfWI9ITE7Y29uc3Qgdz1uZXcgZS5wb2ludEdlb21ldHJ5KGYudGlsZUFuY2hvclgsZi50aWxlQW5jaG9yWSksVD1jP2Modyk6WzAsMCwwXSxFPWgucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHcueCx3LnksdS5jYW5vbmljYWwpLFM9W0UueCtUWzBdLEUueStUWzFdLEUueitUWzJdXSxDPVsuLi5TLDFdO2lmKGUudHJhbnNmb3JtTWF0NCQxKEMsQyxyKSwhc3QoQyxtKSl7Z3QoZi5udW1HbHlwaHMsZyk7Y29udGludWV9Y29uc3QgTT1hdChuLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLENbM10pLGs9ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGQscCxmKSxBPXM/ay9NOmsqTSxJPWl0KG5ldyBlLnBvaW50R2VvbWV0cnkoU1swXSxTWzFdKSxvLFNbMl0pO2lmKEkuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wKXtndChmLm51bUdseXBocyxnKTtjb250aW51ZX1sZXQgUD17fTtjb25zdCB6PXM/bnVsbDpjLEQ9aHQoZixBLCExLGwscixvLGEsdC5nbHlwaE9mZnNldEFycmF5LHksZyxfLEkucG9pbnQsdyxQLHgseixoLnByb2plY3Rpb24sdSxzKTtiPUQudXNlVmVydGljYWwseiYmRC5uZWVkc0ZsaXBwaW5nJiYoUD17fSksKEQubm90RW5vdWdoUm9vbXx8Ynx8RC5uZWVkc0ZsaXBwaW5nJiZodChmLEEsITAsbCxyLG8sYSx0LmdseXBoT2Zmc2V0QXJyYXkseSxnLF8sSS5wb2ludCx3LFAseCx6LGgucHJvamVjdGlvbix1LHMpLm5vdEVub3VnaFJvb20pJiZndChmLm51bUdseXBocyxnKX1pPyh0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGcpLF8mJnQudGV4dC5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pKToodC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSxfJiZ0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShfKSl9ZnVuY3Rpb24gY3QoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSl7Y29uc3QgZz1zLmdseXBoU3RhcnRJbmRleCtzLm51bUdseXBocyxfPXMubGluZVN0YXJ0SW5kZXgseT1zLmxpbmVTdGFydEluZGV4K3MubGluZUxlbmd0aCx2PXQuZ2V0b2Zmc2V0WChzLmdseXBoU3RhcnRJbmRleCkseD10LmdldG9mZnNldFgoZy0xKSxiPWZ0KGUqdixyLG4saSxvLGEscy5zZWdtZW50LF8seSxsLGMsdSxoLGQsITAscCxmLG0pO2lmKCFiKXJldHVybiBudWxsO2NvbnN0IHc9ZnQoZSp4LHIsbixpLG8sYSxzLnNlZ21lbnQsXyx5LGwsYyx1LGgsZCwhMCxwLGYsbSk7cmV0dXJuIHc/e2ZpcnN0OmIsbGFzdDp3fTpudWxsfWZ1bmN0aW9uIHV0KHQscixuLGkpe3JldHVybiB0LndyaXRpbmdNb2RlPT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsJiZNYXRoLmFicyhuLnktci55KT5NYXRoLmFicyhuLngtci54KSppP3t1c2VWZXJ0aWNhbDohMH06dC53cml0aW5nTW9kZT09PWUuV3JpdGluZ01vZGUudmVydGljYWw/ci55PG4ueT97bmVlZHNGbGlwcGluZzohMH06bnVsbDowIT09dC5mbGlwU3RhdGUmJmZ1bmN0aW9uKGUsdCxyKXtjb25zdCBuPSh0LngtZS54KSpyO3JldHVybiAwPT09bnx8TWF0aC5hYnMoKHQueS1lLnkpL24pPmV0fShyLG4saSk/MT09PXQuZmxpcFN0YXRlP3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsOnIueD5uLng/e25lZWRzRmxpcHBpbmc6ITB9Om51bGx9ZnVuY3Rpb24gaHQodCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfLHksdil7Y29uc3QgeD1yLzI0LGI9dC5saW5lT2Zmc2V0WCp4LHc9dC5saW5lT2Zmc2V0WSp4O2xldCBUPVtdO2lmKHQubnVtR2x5cGhzPjEpe2NvbnN0IHI9dC5nbHlwaFN0YXJ0SW5kZXgrdC5udW1HbHlwaHMsbz10LmxpbmVTdGFydEluZGV4LHU9dC5saW5lU3RhcnRJbmRleCt0LmxpbmVMZW5ndGgsaD1jdCh4LGwsYix3LG4sZCxwLHQsYyxhLGYsZywhMSxfLHksdik7aWYoIWgpcmV0dXJue25vdEVub3VnaFJvb206ITB9O2NvbnN0IEU9b3QoaC5maXJzdC5wb2ludCxzKS5wb2ludCxTPW90KGgubGFzdC5wb2ludCxzKS5wb2ludCxDPW5ldyBlLnBvaW50R2VvbWV0cnkoRVswXSxFWzFdKSxNPW5ldyBlLnBvaW50R2VvbWV0cnkoU1swXSxTWzFdKTtpZihpJiYhbil7Y29uc3QgZT11dCh0LEMsTSxtKTtpZih0LmZsaXBTdGF0ZT1lJiZlLm5lZWRzRmxpcHBpbmc/MToyLGUpcmV0dXJuIGV9VD1baC5maXJzdF07Zm9yKGxldCBlPXQuZ2x5cGhTdGFydEluZGV4KzE7ZTxyLTE7ZSsrKXtjb25zdCByPWZ0KHgqbC5nZXRvZmZzZXRYKGUpLGIsdyxuLGQscCx0LnNlZ21lbnQsbyx1LGMsYSxmLGcsITEsITEsXyx5LHYpO2lmKCFyKXJldHVybntub3RFbm91Z2hSb29tOiEwfTtULnB1c2gocil9VC5wdXNoKGgubGFzdCl9ZWxzZXtpZihpJiYhbil7Y29uc3Qgcj1pdChwLG8pLnBvaW50LG49dC5saW5lU3RhcnRJbmRleCt0LnNlZ21lbnQrMSxpPW5ldyBlLnBvaW50R2VvbWV0cnkoYy5nZXR4KG4pLGMuZ2V0eShuKSksYT1pdChpLG8pLHM9YS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9hLnBvaW50OnB0KHAsaSxyLDEsbyx2b2lkIDAsXyx5LmNhbm9uaWNhbCksbD11dCh0LG5ldyBlLnBvaW50R2VvbWV0cnkoclswXSxyWzFdKSxuZXcgZS5wb2ludEdlb21ldHJ5KHNbMF0sc1sxXSksbSk7aWYodC5mbGlwU3RhdGU9bCYmbC5uZWVkc0ZsaXBwaW5nPzE6MixsKXJldHVybiBsfWNvbnN0IHI9ZnQoeCpsLmdldG9mZnNldFgodC5nbHlwaFN0YXJ0SW5kZXgpLGIsdyxuLGQscCx0LnNlZ21lbnQsdC5saW5lU3RhcnRJbmRleCx0LmxpbmVTdGFydEluZGV4K3QubGluZUxlbmd0aCxjLGEsZixnLCExLCExLF8seSx2KTtpZighcilyZXR1cm57bm90RW5vdWdoUm9vbTohMH07VD1bcl19aWYoaClmb3IoY29uc3QgdCBvZiBUKWUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCx1Lmxlbmd0aCswLHQudXBbMF0sdC51cFsxXSx0LnVwWzJdKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsdS5sZW5ndGgrMSx0LnVwWzBdLHQudXBbMV0sdC51cFsyXSksZS51cGRhdGVHbG9iZVZlcnRleE5vcm1hbChoLHUubGVuZ3RoKzIsdC51cFswXSx0LnVwWzFdLHQudXBbMl0pLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCx1Lmxlbmd0aCszLHQudXBbMF0sdC51cFsxXSx0LnVwWzJdKSxlLmFkZER5bmFtaWNBdHRyaWJ1dGVzKHUsdC5wb2ludFswXSx0LnBvaW50WzFdLHQucG9pbnRbMl0sdC5hbmdsZSk7ZWxzZSBmb3IoY29uc3QgdCBvZiBUKWUuYWRkRHluYW1pY0F0dHJpYnV0ZXModSx0LnBvaW50WzBdLHQucG9pbnRbMV0sdC5wb2ludFsyXSx0LmFuZ2xlKTtyZXR1cm57fX1mdW5jdGlvbiBkdCh0LHIsbixpLG8pe2NvbnN0IGE9aS5wcm9qZWN0VGlsZVBvaW50KHQueCx0Lnkscik7aWYoIW8pcmV0dXJuIGl0KGEsbixhLnopO2NvbnN0IHM9byh0KTtyZXR1cm4gaXQobmV3IGUucG9pbnRHZW9tZXRyeShhLngrc1swXSxhLnkrc1sxXSksbixhLnorc1syXSl9ZnVuY3Rpb24gcHQodCxyLG4saSxvLGEscyxsKXtjb25zdCBjPWR0KHQuYWRkKHQuc3ViKHIpLl91bml0KCkpLGwsbyxzLGEpLnBvaW50LHU9ZS5zdWIoW10sbixjKTtyZXR1cm4gZS5zY2FsZUFuZEFkZChbXSxuLHUsaS9lLmxlbmd0aCh1KSl9ZnVuY3Rpb24gZnQodCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfLHkpe2NvbnN0IHY9aT90LXI6dCtyO2xldCB4PXY+MD8xOi0xLGI9MDtpJiYoeCo9LTEsYj1NYXRoLlBJKSx4PDAmJihiKz1NYXRoLlBJKTtsZXQgdz14PjA/bCtzOmwrcysxLFQ9byxFPW8sUz0wLEM9MDtjb25zdCBNPU1hdGguYWJzKHYpLGs9W10sQT1bXTtsZXQgST1hO2NvbnN0IFA9KCk9Pntjb25zdCB0PXcteDtyZXR1cm4gMD09PVM/YTpuZXcgZS5wb2ludEdlb21ldHJ5KHUuZ2V0eCh0KSx1LmdldHkodCkpfSx6PSgpPT57Y29uc3QgZT1QKCk7cmV0dXJuIHB0KGUsSXx8ZSxFLE0tUysxLGgscCxnLF8uY2Fub25pY2FsKX07Zm9yKDtTK0M8PU07KXtpZih3Kz14LHc8bHx8dz49YylyZXR1cm4gbnVsbDtpZihFPVQsay5wdXNoKFQpLGYmJkEucHVzaChJfHxQKCkpLFQ9ZFt3XSx2b2lkIDA9PT1UKXtJPW5ldyBlLnBvaW50R2VvbWV0cnkodS5nZXR4KHcpLHUuZ2V0eSh3KSk7Y29uc3QgdD1kdChJLF8uY2Fub25pY2FsLGgsZyxwKTtUPXQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjA/ZFt3XT10LnBvaW50OnooKX1lbHNlIEk9bnVsbDtTKz1DLEM9ZS5kaXN0YW5jZShFLFQpfUk9SXx8bmV3IGUucG9pbnRHZW9tZXRyeSh1LmdldHgodyksdS5nZXR5KHcpKTtjb25zdCBEPVAoKTttJiZwJiYoZFt3XT1UPXZvaWQgMD09PWRbd10/VDp6KCksQz1lLmRpc3RhbmNlKEUsVCkpO2NvbnN0IFI9KE0tUykvQyxMPUkuc3ViKEQpLm11bHQoUikuX2FkZChEKSxPPWUuc3ViKFtdLFQsRSksQj1lLnNjYWxlQW5kQWRkKFtdLEUsTyxSKTtsZXQgRj1bMCwwLDFdLGo9T1swXSxVPU9bMV07aWYoeSYmKEY9Zy51cFZlY3RvcihfLmNhbm9uaWNhbCxMLngsTC55KSwwIT09RlswXXx8MCE9PUZbMV18fDEhPT1GWzJdKSl7Y29uc3QgdD1bMSwwLDBdLHI9WzAsMSwwXTt0WzBdPUZbMl0sdFsxXT0wLHRbMl09LUZbMF0sZS5jcm9zcyhyLEYsdCksZS5ub3JtYWxpemUodCx0KSxlLm5vcm1hbGl6ZShyLHIpLGo9ZS5kb3QoTyx0KSxVPWUuZG90KE8scil9aWYobil7Y29uc3QgdD1lLmNyb3NzKFtdLEYsTyk7ZS5ub3JtYWxpemUodCx0KSxlLnNjYWxlQW5kQWRkKEIsQix0LG4qeCl9Y29uc3QgTj1iK01hdGguYXRhbjIoVSxqKTtyZXR1cm4gay5wdXNoKEIpLGYmJkEucHVzaChMKSx7cG9pbnQ6QixhbmdsZTpOLHBhdGg6ayx0aWxlUGF0aDpBLHVwOkZ9fWNvbnN0IG10PW5ldyBGbG9hdDMyQXJyYXkoWy0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwXSk7ZnVuY3Rpb24gZ3QoZSx0KXtmb3IobGV0IHI9MDtyPGU7cisrKXtjb25zdCBlPXQubGVuZ3RoO3QucmVzaXplKGUrNCksdC5mbG9hdDMyLnNldChtdCw0KmUpfX1mdW5jdGlvbiBfdChlLHQscil7Y29uc3Qgbj10WzBdLGk9dFsxXTtyZXR1cm4gZVswXT1yWzBdKm4rcls0XSppK3JbMTJdLGVbMV09clsxXSpuK3JbNV0qaStyWzEzXSxlWzNdPXJbM10qbityWzddKmkrclsxNV0sZX1jb25zdCB5dD0xMDA7Y2xhc3MgdnR7Y29uc3RydWN0b3IoZSx0LHI9bmV3IFFlKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSksbj1uZXcgUWUoZS53aWR0aCsyMDAsZS5oZWlnaHQrMjAwLDI1KSl7dGhpcy50cmFuc2Zvcm09ZSx0aGlzLmdyaWQ9cix0aGlzLmlnbm9yZWRHcmlkPW4sdGhpcy5waXRjaGZhY3Rvcj1NYXRoLmNvcyhlLl9waXRjaCkqZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeT1lLndpZHRoK3l0LHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQreXQsdGhpcy5ncmlkUmlnaHRCb3VuZGFyeT1lLndpZHRoKzIwMCx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeT1lLmhlaWdodCsyMDAsdGhpcy5mb2dTdGF0ZT10fXBsYWNlQ29sbGlzaW9uQm94KGUsdCxyLG4saSxvLGEscyl7bGV0IGw9ci5wcm9qZWN0ZWRBbmNob3JYLGM9ci5wcm9qZWN0ZWRBbmNob3JZLHU9ci5wcm9qZWN0ZWRBbmNob3JaO2NvbnN0IGg9ci5lbGV2YXRpb24sZD1yLnRpbGVJRDtpZihoJiZkKXtjb25zdCB0PWUuZ2V0UHJvamVjdGlvbigpLnVwVmVjdG9yKGQuY2Fub25pY2FsLHIudGlsZUFuY2hvclgsci50aWxlQW5jaG9yWSksbj1lLmdldFByb2plY3Rpb24oKS51cFZlY3RvclNjYWxlKGQuY2Fub25pY2FsLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsdGhpcy50cmFuc2Zvcm0ud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7bCs9dFswXSpoKm4sYys9dFsxXSpoKm4sdSs9dFsyXSpoKm59Y29uc3QgcD10aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKGEsW2wsYyx1XSxyLnRpbGVJRCxcImdsb2JlXCI9PT1lLnByb2plY3Rpb24ubmFtZXx8ISFofHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wLGUuZ2V0UHJvamVjdGlvbigpKSxmPW8qcC5wZXJzcGVjdGl2ZVJhdGlvLG09KHIueDEqdCtuLngtci5wYWRkaW5nKSpmK3AucG9pbnQueCxnPShyLnkxKnQrbi55LXIucGFkZGluZykqZitwLnBvaW50LnksXz0oci54Mip0K24ueCtyLnBhZGRpbmcpKmYrcC5wb2ludC54LHk9KHIueTIqdCtuLnkrci5wYWRkaW5nKSpmK3AucG9pbnQueSx2PXAucGVyc3BlY3RpdmVSYXRpbzw9LjU1fHxwLm9jY2x1ZGVkO3JldHVybiF0aGlzLmlzSW5zaWRlR3JpZChtLGcsXyx5KXx8IWkmJnRoaXMuZ3JpZC5oaXRUZXN0KG0sZyxfLHkscyl8fHY/e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6cC5vY2NsdWRlZH06e2JveDpbbSxnLF8seV0sb2Zmc2NyZWVuOnRoaXMuaXNPZmZzY3JlZW4obSxnLF8seSksb2NjbHVkZWQ6ITF9fXBsYWNlQ29sbGlzaW9uQ2lyY2xlcyh0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSl7Y29uc3QgZz1bXSxfPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbix5PV8/Xy5nZXRBdFRpbGVPZmZzZXRGdW5jKG0sdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCx0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUsdC5nZXRQcm9qZWN0aW9uKCkpOmU9PlswLDAsMF0sdj1uZXcgZS5wb2ludEdlb21ldHJ5KG4udGlsZUFuY2hvclgsbi50aWxlQW5jaG9yWSkseD10LmdldFByb2plY3Rpb24oKS5wcm9qZWN0VGlsZVBvaW50KG4udGlsZUFuY2hvclgsbi50aWxlQW5jaG9yWSxtLmNhbm9uaWNhbCksYj15KHYpLHc9W3gueCtiWzBdLHgueStiWzFdLHgueitiWzJdXSxUPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lLEU9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhzLFt3WzBdLHdbMV0sd1syXV0sbSxUfHwhIV98fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAsdC5nZXRQcm9qZWN0aW9uKCkpLHtwZXJzcGVjdGl2ZVJhdGlvOlN9PUUsQz0oaD9hL1M6YSpTKS9lLk9ORV9FTSxNPWl0KG5ldyBlLnBvaW50R2VvbWV0cnkod1swXSx3WzFdKSxsLHdbMl0pLnBvaW50LGs9RS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9jdChDLG8sbi5saW5lT2Zmc2V0WCpDLG4ubGluZU9mZnNldFkqQywhMSxNLHYsbixpLGwse30sXyYmIWg/eTpudWxsLGgmJiEhXyx0LmdldFByb2plY3Rpb24oKSxtLGgpOm51bGw7bGV0IEE9ITEsST0hMSxQPSEwO2lmKGsmJiFFLm9jY2x1ZGVkKXtjb25zdCB0PS41KnAqUytmLG49bmV3IGUucG9pbnRHZW9tZXRyeSgtMTAwLC0xMDApLGk9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnksdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeSksbz1uZXcgSmUsYT1rLmZpcnN0LHM9ay5sYXN0O2xldCBsPVtdO2ZvcihsZXQgZT1hLnBhdGgubGVuZ3RoLTE7ZT49MTtlLS0pbC5wdXNoKGEucGF0aFtlXSk7Zm9yKGxldCBlPTE7ZTxzLnBhdGgubGVuZ3RoO2UrKylsLnB1c2gocy5wYXRoW2VdKTtjb25zdCBoPTIuNSp0O2lmKGMpe2NvbnN0IGU9bC5tYXAoXyYmIVQ/KGUsdCk9Pntjb25zdCByPXkodDxhLnBhdGgubGVuZ3RoLTE/YS50aWxlUGF0aFthLnBhdGgubGVuZ3RoLTEtdF06cy50aWxlUGF0aFt0LWEucGF0aC5sZW5ndGgrMl0pO3JldHVybiBlWzJdPXJbMl0sb3QoZSxjKX06ZT0+b3QoZSxjKSk7bD1lLnNvbWUoZT0+ZS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE8PTApP1tdOmUubWFwKGU9PmUucG9pbnQpfWxldCBtPVtdO2lmKGwubGVuZ3RoPjApe2NvbnN0IHQ9bC5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKTtsZXQgcj0xLzAsbz0tMS8wLGE9MS8wLHM9LTEvMDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylyPU1hdGgubWluKHIsdFtlXS54KSxhPU1hdGgubWluKGEsdFtlXS55KSxvPU1hdGgubWF4KG8sdFtlXS54KSxzPU1hdGgubWF4KHMsdFtlXS55KTttPXI+PW4ueCYmbzw9aS54JiZhPj1uLnkmJnM8PWkueT9bdF06bzxuLnh8fHI+aS54fHxzPG4ueXx8YT5pLnk/W106ZS5jbGlwTGluZShbdF0sbi54LG4ueSxpLngsaS55KX1mb3IoY29uc3QgZSBvZiBtKXtvLnJlc2V0KGUsLjI1KnQpO2xldCBuPTA7bj1vLmxlbmd0aDw9LjUqdD8xOk1hdGguY2VpbChvLnBhZGRlZExlbmd0aC9oKSsxO2ZvcihsZXQgZT0wO2U8bjtlKyspe2NvbnN0IGk9ZS9NYXRoLm1heChuLTEsMSksYT1vLmxlcnAoaSkscz1hLngreXQsbD1hLnkreXQ7Zy5wdXNoKHMsbCx0LDApO2NvbnN0IGM9cy10LGg9bC10LHA9cyt0LGY9bCt0O2lmKFA9UCYmdGhpcy5pc09mZnNjcmVlbihjLGgscCxmKSxJPUl8fHRoaXMuaXNJbnNpZGVHcmlkKGMsaCxwLGYpLCFyJiZ0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShzLGwsdCxkKSYmKEE9ITAsIXUpKXJldHVybntjaXJjbGVzOltdLG9mZnNjcmVlbjohMSxjb2xsaXNpb25EZXRlY3RlZDpBLG9jY2x1ZGVkOiExfX19fXJldHVybntjaXJjbGVzOiF1JiZBfHwhST9bXTpnLG9mZnNjcmVlbjpQLGNvbGxpc2lvbkRldGVjdGVkOkEsb2NjbHVkZWQ6RS5vY2NsdWRlZH19cXVlcnlSZW5kZXJlZFN5bWJvbHModCl7aWYoMD09PXQubGVuZ3RofHwwPT09dGhpcy5ncmlkLmtleXNMZW5ndGgoKSYmMD09PXRoaXMuaWdub3JlZEdyaWQua2V5c0xlbmd0aCgpKXJldHVybnt9O2NvbnN0IHI9W107bGV0IG49MS8wLGk9MS8wLG89LTEvMCxhPS0xLzA7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3QgdD1uZXcgZS5wb2ludEdlb21ldHJ5KHMueCt5dCxzLnkreXQpO249TWF0aC5taW4obix0LngpLGk9TWF0aC5taW4oaSx0LnkpLG89TWF0aC5tYXgobyx0LngpLGE9TWF0aC5tYXgoYSx0LnkpLHIucHVzaCh0KX1jb25zdCBzPXRoaXMuZ3JpZC5xdWVyeShuLGksbyxhKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShuLGksbyxhKSksbD17fSxjPXt9O2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG49dC5rZXk7aWYodm9pZCAwPT09bFtuLmJ1Y2tldEluc3RhbmNlSWRdJiYobFtuLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSxsW24uYnVja2V0SW5zdGFuY2VJZF1bbi5mZWF0dXJlSW5kZXhdKWNvbnRpbnVlO2NvbnN0IGk9W25ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkxKSxuZXcgZS5wb2ludEdlb21ldHJ5KHQueDIsdC55MSksbmV3IGUucG9pbnRHZW9tZXRyeSh0LngyLHQueTIpLG5ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkyKV07ZS5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24ocixpKSYmKGxbbi5idWNrZXRJbnN0YW5jZUlkXVtuLmZlYXR1cmVJbmRleF09ITAsdm9pZCAwPT09Y1tuLmJ1Y2tldEluc3RhbmNlSWRdJiYoY1tuLmJ1Y2tldEluc3RhbmNlSWRdPVtdKSxjW24uYnVja2V0SW5zdGFuY2VJZF0ucHVzaChuLmZlYXR1cmVJbmRleCkpfXJldHVybiBjfWluc2VydENvbGxpc2lvbkJveChlLHQscixuLGkpeyh0P3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkKS5pbnNlcnQoe2J1Y2tldEluc3RhbmNlSWQ6cixmZWF0dXJlSW5kZXg6bixjb2xsaXNpb25Hcm91cElEOml9LGVbMF0sZVsxXSxlWzJdLGVbM10pfWluc2VydENvbGxpc2lvbkNpcmNsZXMoZSx0LHIsbixpKXtjb25zdCBvPXQ/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQsYT17YnVja2V0SW5zdGFuY2VJZDpyLGZlYXR1cmVJbmRleDpuLGNvbGxpc2lvbkdyb3VwSUQ6aX07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KW8uaW5zZXJ0Q2lyY2xlKGEsZVt0XSxlW3QrMV0sZVt0KzJdKX1wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyh0LHIsbixpLG8pe2NvbnN0IGE9W3JbMF0sclsxXSxyWzJdLDFdO2xldCBzPSExO2lmKHJbMl18fHRoaXMudHJhbnNmb3JtLnBpdGNoPjApe2UudHJhbnNmb3JtTWF0NCQxKGEsYSx0KTtjb25zdCBpPVwiZ2xvYmVcIj09PW8ubmFtZTt0aGlzLmZvZ1N0YXRlJiZuJiYhaSYmKHM9ZnVuY3Rpb24odCxyLG4saSxvLGEpe2NvbnN0IHM9YS5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KG8pLGw9W3IsbixpXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGwsbCxzKSxNKHQsbCxhLnBpdGNoLGEuX2Zvdil9KHRoaXMuZm9nU3RhdGUsclswXSxyWzFdLHJbMl0sbi50b1Vud3JhcHBlZCgpLHRoaXMudHJhbnNmb3JtKT4uOSl9ZWxzZSBfdChhLGEsdCk7cmV0dXJue3BvaW50Om5ldyBlLnBvaW50R2VvbWV0cnkoKGFbMF0vYVszXSsxKS8yKnRoaXMudHJhbnNmb3JtLndpZHRoK3l0LCgtYVsxXS9hWzNdKzEpLzIqdGhpcy50cmFuc2Zvcm0uaGVpZ2h0K3l0KSxwZXJzcGVjdGl2ZVJhdGlvOk1hdGgubWluKC41K3RoaXMudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UobykvYVszXSouNSwxLjUpLHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTphWzNdLG9jY2x1ZGVkOmkmJmFbMl0+YVszXXx8c319aXNPZmZzY3JlZW4oZSx0LHIsbil7cmV0dXJuIHI8eXR8fGU+PXRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeXx8bjx5dHx8dD50aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5fWlzSW5zaWRlR3JpZChlLHQscixuKXtyZXR1cm4gcj49MCYmZTx0aGlzLmdyaWRSaWdodEJvdW5kYXJ5JiZuPj0wJiZ0PHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5fWdldFZpZXdwb3J0TWF0cml4KCl7Y29uc3QgdD1lLmlkZW50aXR5KFtdKTtyZXR1cm4gZS50cmFuc2xhdGUodCx0LFstMTAwLC0xMDAsMF0pLHR9fWZ1bmN0aW9uIHh0KHQscixuKXtjb25zdCBpPXIuY3JlYXRlVGlsZU1hdHJpeCh0LHQud29ybGRTaXplLG4udG9VbndyYXBwZWQoKSk7cmV0dXJuIGUubXVsdGlwbHkobmV3IEZsb2F0MzJBcnJheSgxNiksdC5wcm9qTWF0cml4LGkpfWZ1bmN0aW9uIGJ0KGUsdCxyKXtpZih0LnByb2plY3Rpb24ubmFtZT09PXIucHJvamVjdGlvbi5uYW1lKXJldHVybiBlLnByb2pNYXRyaXg7Y29uc3Qgbj1yLmNsb25lKCk7cmV0dXJuIG4uc2V0UHJvamVjdGlvbih0LnByb2plY3Rpb24pLHh0KG4sdC5nZXRQcm9qZWN0aW9uKCksZSl9ZnVuY3Rpb24gd3QoZSx0LHIpe3JldHVybiB0Lm5hbWU9PT1yLnByb2plY3Rpb24ubmFtZT9lLnByb2pNYXRyaXg6eHQocix0LGUpfWNsYXNzIFR0e2NvbnN0cnVjdG9yKGUsdCxyLG4pe3RoaXMub3BhY2l0eT1lP01hdGgubWF4KDAsTWF0aC5taW4oMSxlLm9wYWNpdHkrKGUucGxhY2VkP3Q6LXQpKSk6biYmcj8xOjAsdGhpcy5wbGFjZWQ9cn1pc0hpZGRlbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9fWNsYXNzIEV0e2NvbnN0cnVjdG9yKGUsdCxyLG4saSxvPSExKXt0aGlzLnRleHQ9bmV3IFR0KGU/ZS50ZXh0Om51bGwsdCxyLGkpLHRoaXMuaWNvbj1uZXcgVHQoZT9lLmljb246bnVsbCx0LG4saSksdGhpcy5jbGlwcGVkPW99aXNIaWRkZW4oKXtyZXR1cm4gdGhpcy50ZXh0LmlzSGlkZGVuKCkmJnRoaXMuaWNvbi5pc0hpZGRlbigpfX1jbGFzcyBTdHtjb25zdHJ1Y3RvcihlLHQscixuPSExKXt0aGlzLnRleHQ9ZSx0aGlzLmljb249dCx0aGlzLnNraXBGYWRlPXIsdGhpcy5jbGlwcGVkPW59fWNsYXNzIEN0e2NvbnN0cnVjdG9yKCl7dGhpcy5pbnZQcm9qTWF0cml4PWUuY3JlYXRlKCksdGhpcy52aWV3cG9ydE1hdHJpeD1lLmNyZWF0ZSgpLHRoaXMuY2lyY2xlcz1bXX19Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSx0LHIsbixpKXt0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9ZSx0aGlzLmZlYXR1cmVJbmRleD10LHRoaXMuc291cmNlTGF5ZXJJbmRleD1yLHRoaXMuYnVja2V0SW5kZXg9bix0aGlzLnRpbGVJRD1pfX1jbGFzcyBrdHtjb25zdHJ1Y3RvcihlKXt0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucz1lLHRoaXMubWF4R3JvdXBJRD0wLHRoaXMuY29sbGlzaW9uR3JvdXBzPXt9fWdldChlKXtpZih0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucylyZXR1cm57SUQ6MCxwcmVkaWNhdGU6bnVsbH07aWYoIXRoaXMuY29sbGlzaW9uR3JvdXBzW2VdKXtjb25zdCB0PSsrdGhpcy5tYXhHcm91cElEO3RoaXMuY29sbGlzaW9uR3JvdXBzW2VdPXtJRDp0LHByZWRpY2F0ZTplPT5lLmNvbGxpc2lvbkdyb3VwSUQ9PT10fX1yZXR1cm4gdGhpcy5jb2xsaXNpb25Hcm91cHNbZV19fWZ1bmN0aW9uIEF0KHQscixuLGksbyl7Y29uc3R7aG9yaXpvbnRhbEFsaWduOmEsdmVydGljYWxBbGlnbjpzfT1lLmdldEFuY2hvckFsaWdubWVudCh0KSxsPS0oYS0uNSkqcixjPS0ocy0uNSkqbix1PWUuZXZhbHVhdGVWYXJpYWJsZU9mZnNldCh0LGkpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KGwrdVswXSpvLGMrdVsxXSpvKX1mdW5jdGlvbiBJdCh0LHIsbixpLG8pe2NvbnN0IGE9bmV3IGUucG9pbnRHZW9tZXRyeSh0LHIpO3JldHVybiBuJiZhLl9yb3RhdGUoaT9vOi1vKSxhfWNsYXNzIFB0e2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy50cmFuc2Zvcm09ZS5jbG9uZSgpLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24ubmFtZSx0aGlzLmNvbGxpc2lvbkluZGV4PW5ldyB2dCh0aGlzLnRyYW5zZm9ybSxpKSx0aGlzLnBsYWNlbWVudHM9e30sdGhpcy5vcGFjaXRpZXM9e30sdGhpcy52YXJpYWJsZU9mZnNldHM9e30sdGhpcy5zdGFsZT0hMSx0aGlzLmNvbW1pdFRpbWU9MCx0aGlzLmZhZGVEdXJhdGlvbj10LHRoaXMucmV0YWluZWRRdWVyeURhdGE9e30sdGhpcy5jb2xsaXNpb25Hcm91cHM9bmV3IGt0KHIpLHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzPXt9LHRoaXMucHJldlBsYWNlbWVudD1uLG4mJihuLnByZXZQbGFjZW1lbnQ9dm9pZCAwKSx0aGlzLnBsYWNlZE9yaWVudGF0aW9ucz17fX1nZXRCdWNrZXRQYXJ0cyh0LHIsbixpKXtjb25zdCBvPW4uZ2V0QnVja2V0KHIpLGE9bi5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoIW98fCFhfHxyLmlkIT09by5sYXllcklkc1swXSlyZXR1cm47Y29uc3Qgcz1vLmxheWVyc1swXS5sYXlvdXQsbD1uLmNvbGxpc2lvbkJveEFycmF5LGM9TWF0aC5wb3coMix0aGlzLnRyYW5zZm9ybS56b29tLW4udGlsZUlELm92ZXJzY2FsZWRaKSx1PW4udGlsZVNpemUvZS5FWFRFTlQsaD1uLnRpbGVJRC50b1Vud3JhcHBlZCgpO3RoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24oby5wcm9qZWN0aW9uKTtjb25zdCBkPShwPW4udGlsZUlELGY9by5nZXRQcm9qZWN0aW9uKCksbT10aGlzLnRyYW5zZm9ybSxmLm5hbWU9PT10aGlzLnByb2plY3Rpb24/bS5jYWxjdWxhdGVQcm9qTWF0cml4KHAudG9VbndyYXBwZWQoKSk6eHQobSxmLHApKTt2YXIgcCxmLG07Y29uc3QgZz1cIm1hcFwiPT09cy5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxfPVwibWFwXCI9PT1zLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpO3IuY29tcGlsZUZpbHRlcigpO2NvbnN0IHk9ci5keW5hbWljRmlsdGVyKCksdj1yLmR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUoKSx4PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KG4pLGI9cnQoZCxuLnRpbGVJRC5jYW5vbmljYWwsZyxfLHRoaXMudHJhbnNmb3JtLG8uZ2V0UHJvamVjdGlvbigpLHgpO2xldCB3PW51bGw7aWYoZyl7Y29uc3QgdD1udChkLG4udGlsZUlELmNhbm9uaWNhbCxnLF8sdGhpcy50cmFuc2Zvcm0sby5nZXRQcm9qZWN0aW9uKCkseCk7dz1lLm11bHRpcGx5KFtdLHRoaXMudHJhbnNmb3JtLmxhYmVsUGxhbmVNYXRyaXgsdCl9bGV0IFQ9bnVsbDt5JiZuLmxhdGVzdEZlYXR1cmVJbmRleCYmKFQ9e3Vud3JhcHBlZFRpbGVJRDpoLGR5bmFtaWNGaWx0ZXI6eSxkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlOnYsZmVhdHVyZUluZGV4Om4ubGF0ZXN0RmVhdHVyZUluZGV4fSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtvLmJ1Y2tldEluc3RhbmNlSWRdPW5ldyBNdChvLmJ1Y2tldEluc3RhbmNlSWQsYSxvLnNvdXJjZUxheWVySW5kZXgsby5pbmRleCxuLnRpbGVJRCk7Y29uc3QgRT17YnVja2V0Om8sbGF5b3V0OnMscG9zTWF0cml4OmQsdGV4dExhYmVsUGxhbmVNYXRyaXg6YixsYWJlbFRvU2NyZWVuTWF0cml4OncsY2xpcHBpbmdEYXRhOlQsc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzp1LGhvbGRpbmdGb3JGYWRlOm4uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpsLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOmUuZXZhbHVhdGVTaXplRm9yWm9vbShvLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTplLmV2YWx1YXRlU2l6ZUZvclpvb20oby5pY29uU2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSksY29sbGlzaW9uR3JvdXA6dGhpcy5jb2xsaXNpb25Hcm91cHMuZ2V0KG8uc291cmNlSUQpfTtpZihpKWZvcihjb25zdCBlIG9mIG8uc29ydEtleVJhbmdlcyl7Y29uc3R7c29ydEtleTpyLHN5bWJvbEluc3RhbmNlU3RhcnQ6bixzeW1ib2xJbnN0YW5jZUVuZDppfT1lO3QucHVzaCh7c29ydEtleTpyLHN5bWJvbEluc3RhbmNlU3RhcnQ6bixzeW1ib2xJbnN0YW5jZUVuZDppLHBhcmFtZXRlcnM6RX0pfWVsc2UgdC5wdXNoKHtzeW1ib2xJbnN0YW5jZVN0YXJ0OjAsc3ltYm9sSW5zdGFuY2VFbmQ6by5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLHBhcmFtZXRlcnM6RX0pfWF0dGVtcHRBbmNob3JQbGFjZW1lbnQoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8pe2NvbnN0IHk9W2gudGV4dE9mZnNldDAsaC50ZXh0T2Zmc2V0MV0sdj1BdChlLHIsbix5LGkpLHg9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChwLGksdCxJdCh2Lngsdi55LG8sYSx0aGlzLnRyYW5zZm9ybS5hbmdsZSksdSxzLGwsYy5wcmVkaWNhdGUpO2lmKG0pe2NvbnN0IGU9cC5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKF8sdGhpcy50cmFuc2Zvcm0uem9vbSxoLnBsYWNlZEljb25TeW1ib2xJbmRleCk7aWYoMD09PXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gocCxlLG0sSXQodi54LHYueSxvLGEsdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHUscyxsLGMucHJlZGljYXRlKS5ib3gubGVuZ3RoKXJldHVybn1pZih4LmJveC5sZW5ndGg+MCl7bGV0IHQ7cmV0dXJuIHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1toLmNyb3NzVGlsZUlEXSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbaC5jcm9zc1RpbGVJRF0mJnRoaXMucHJldlBsYWNlbWVudC5wbGFjZW1lbnRzW2guY3Jvc3NUaWxlSURdLnRleHQmJih0PXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbaC5jcm9zc1RpbGVJRF0uYW5jaG9yKSx0aGlzLnZhcmlhYmxlT2Zmc2V0c1toLmNyb3NzVGlsZUlEXT17dGV4dE9mZnNldDp5LHdpZHRoOnIsaGVpZ2h0Om4sYW5jaG9yOmUsdGV4dFNjYWxlOmkscHJldkFuY2hvcjp0fSx0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihwLGUsaCxmKSxwLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJih0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24ocCxmLGgpLHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2guY3Jvc3NUaWxlSURdPWYpLHtzaGlmdDp2LHBsYWNlZEdseXBoQm94ZXM6eH19fXBsYWNlTGF5ZXJCdWNrZXRQYXJ0KHQscixuLGkpe2NvbnN0e2J1Y2tldDpvLGxheW91dDphLHBvc01hdHJpeDpzLHRleHRMYWJlbFBsYW5lTWF0cml4OmwsbGFiZWxUb1NjcmVlbk1hdHJpeDpjLGNsaXBwaW5nRGF0YTp1LHRleHRQaXhlbFJhdGlvOmgsaG9sZGluZ0ZvckZhZGU6ZCxjb2xsaXNpb25Cb3hBcnJheTpwLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOmYscGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemU6bSxjb2xsaXNpb25Hcm91cDpnfT10LnBhcmFtZXRlcnMsXz1hLmdldChcInRleHQtb3B0aW9uYWxcIikseT1hLmdldChcImljb24tb3B0aW9uYWxcIiksdj1hLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSx4PWEuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGI9XCJtYXBcIj09PWEuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksdz1cIm1hcFwiPT09YS5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxUPVwibm9uZVwiIT09YS5nZXQoXCJpY29uLXRleHQtZml0XCIpLEU9XCJ2aWV3cG9ydC15XCI9PT1hLmdldChcInN5bWJvbC16LW9yZGVyXCIpO3RoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24oby5wcm9qZWN0aW9uKTtsZXQgUz12JiYoeHx8IW8uaGFzSWNvbkRhdGEoKXx8eSksQz14JiYodnx8IW8uaGFzVGV4dERhdGEoKXx8Xyk7IW8uY29sbGlzaW9uQXJyYXlzJiZwJiZvLmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMocCksbiYmaSYmby51cGRhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnModGhpcy50cmFuc2Zvcm0uem9vbSxwKTtjb25zdCBNPSh0LGkscCk9PntpZih1KXtjb25zdCBuPXt6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scGl0Y2g6dGhpcy50cmFuc2Zvcm0ucGl0Y2h9O2xldCBpPW51bGw7aWYodS5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKXtjb25zdCBlPXRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXTtpPXUuZmVhdHVyZUluZGV4LmxvYWRGZWF0dXJlKHtmZWF0dXJlSW5kZXg6dC5mZWF0dXJlSW5kZXgsYnVja2V0SW5kZXg6ZS5idWNrZXRJbmRleCxzb3VyY2VMYXllckluZGV4OmUuc291cmNlTGF5ZXJJbmRleCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDowfSl9aWYoISgwLHUuZHluYW1pY0ZpbHRlcikobixpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQuY2Fub25pY2FsLG5ldyBlLnBvaW50R2VvbWV0cnkodC50aWxlQW5jaG9yWCx0LnRpbGVBbmNob3JZKSx0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKHUudW53cmFwcGVkVGlsZUlEKSkpcmV0dXJuIHRoaXMucGxhY2VtZW50c1t0LmNyb3NzVGlsZUlEXT1uZXcgU3QoITEsITEsITEsITApLHZvaWQoclt0LmNyb3NzVGlsZUlEXT0hMCl9aWYoclt0LmNyb3NzVGlsZUlEXSlyZXR1cm47aWYoZClyZXR1cm4gdm9pZCh0aGlzLnBsYWNlbWVudHNbdC5jcm9zc1RpbGVJRF09bmV3IFN0KCExLCExLCExKSk7bGV0IEU9ITEsTT0hMSxrPSEwLEE9ITEsST0hMSxQPW51bGwsej17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sRD17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sUj1udWxsLEw9bnVsbCxPPW51bGwsQj0wLEY9MCxqPTA7cC50ZXh0RmVhdHVyZUluZGV4P0I9cC50ZXh0RmVhdHVyZUluZGV4OnQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMmJihCPXQuZmVhdHVyZUluZGV4KSxwLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCYmKEY9cC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpO2NvbnN0IFU9ZT0+e2UudGlsZUlEPXRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQsKHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbnx8ZS5lbGV2YXRpb24pJiYoZS5lbGV2YXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uP3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbi5nZXRBdFRpbGVPZmZzZXQodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtvLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRCxlLnRpbGVBbmNob3JYLGUudGlsZUFuY2hvclkpOjApfSxOPXAudGV4dEJveDtpZihOKXtVKE4pO2NvbnN0IHI9cj0+e2xldCBuPWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbDtpZihvLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiFyJiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IGU9dGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlZE9yaWVudGF0aW9uc1t0LmNyb3NzVGlsZUlEXTtlJiYodGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbdC5jcm9zc1RpbGVJRF09ZSxuPWUsdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKG8sbix0KSl9cmV0dXJuIG59LG49KHIsbik9PntpZihvLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJnAudmVydGljYWxUZXh0Qm94KXtmb3IoY29uc3QgdCBvZiBvLndyaXRpbmdNb2RlcylpZih0PT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD8oej1uKCksRD16KTp6PXIoKSx6JiZ6LmJveCYmei5ib3gubGVuZ3RoKWJyZWFrfWVsc2Ugej1yKCl9O2lmKGEuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikpe2xldCBsPWEuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIik7aWYodGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdKXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbdC5jcm9zc1RpbGVJRF07bC5pbmRleE9mKGUuYW5jaG9yKT4wJiYobD1sLmZpbHRlcih0PT50IT09ZS5hbmNob3IpLGwudW5zaGlmdChlLmFuY2hvcikpfWNvbnN0IGM9KGUscixuKT0+e2NvbnN0IGE9by5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGYsdCx0aGlzLnRyYW5zZm9ybS56b29tLGkpLGM9KGUueDItZS54MSkqYSsyKmUucGFkZGluZyx1PShlLnkyLWUueTEpKmErMiplLnBhZGRpbmcsZD1UJiYheD9yOm51bGw7ZCYmVShkKTtsZXQgcD17Ym94OltdLG9mZnNjcmVlbjohMSxvY2NsdWRlZDohMX07Y29uc3QgXz12PzIqbC5sZW5ndGg6bC5sZW5ndGg7Zm9yKGxldCByPTA7cjxfOysrcil7Y29uc3QgXz10aGlzLmF0dGVtcHRBbmNob3JQbGFjZW1lbnQobFtyJWwubGVuZ3RoXSxlLGMsdSxhLGIsdyxoLHMsZyxyPj1sLmxlbmd0aCx0LGksbyxuLGQsZixtKTtpZihfJiYocD1fLnBsYWNlZEdseXBoQm94ZXMscCYmcC5ib3gmJnAuYm94Lmxlbmd0aCkpe0U9ITAsUD1fLnNoaWZ0O2JyZWFrfX1yZXR1cm4gcH07bigoKT0+YyhOLHAuaWNvbkJveCxlLldyaXRpbmdNb2RlLmhvcml6b250YWwpLCgpPT57Y29uc3Qgcj1wLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gciYmVShyKSxvLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiEoeiYmei5ib3gmJnouYm94Lmxlbmd0aCkmJnQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJnI/YyhyLHAudmVydGljYWxJY29uQm94LGUuV3JpdGluZ01vZGUudmVydGljYWwpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfX0pLHomJihFPXouYm94LGs9ei5vZmZzY3JlZW4sQT16Lm9jY2x1ZGVkKTtjb25zdCB1PXIoeiYmei5ib3gpO2lmKCFFJiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IGU9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1t0LmNyb3NzVGlsZUlEXTtlJiYodGhpcy52YXJpYWJsZU9mZnNldHNbdC5jcm9zc1RpbGVJRF09ZSx0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihvLGUuYW5jaG9yLHQsdSkpfX1lbHNle2NvbnN0IGE9KHIsbik9Pntjb25zdCBhPW8uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShmLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxpKSxsPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gobyxhLHIsbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHYsaCxzLGcucHJlZGljYXRlKTtyZXR1cm4gbCYmbC5ib3gmJmwuYm94Lmxlbmd0aCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihvLG4sdCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbdC5jcm9zc1RpbGVJRF09biksbH07bigoKT0+YShOLGUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCksKCk9Pntjb25zdCByPXAudmVydGljYWxUZXh0Qm94O3JldHVybiBvLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJnI/KFUociksYShyLGUuV3JpdGluZ01vZGUudmVydGljYWwpKTp7Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH19KSxyKHomJnouYm94JiZ6LmJveC5sZW5ndGgpfX1pZihSPXosRT1SJiZSLmJveCYmUi5ib3gubGVuZ3RoPjAsaz1SJiZSLm9mZnNjcmVlbixBPVImJlIub2NjbHVkZWQsdC51c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcyl7Y29uc3Qgcj1vLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLGk9ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKG8udGV4dFNpemVEYXRhLGYsciksdT1hLmdldChcInRleHQtcGFkZGluZ1wiKTtMPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKG8sdixyLG8ubGluZVZlcnRleEFycmF5LG8uZ2x5cGhPZmZzZXRBcnJheSxpLHMsbCxjLG4sdyxnLnByZWRpY2F0ZSx0LmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyKmkvZS5PTkVfRU0sdSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEKSxFPXZ8fEwuY2lyY2xlcy5sZW5ndGg+MCYmIUwuY29sbGlzaW9uRGV0ZWN0ZWQsaz1rJiZMLm9mZnNjcmVlbixBPUwub2NjbHVkZWR9aWYocC5pY29uRmVhdHVyZUluZGV4JiYoaj1wLmljb25GZWF0dXJlSW5kZXgpLHAuaWNvbkJveCl7Y29uc3Qgcj1yPT57VShyKTtjb25zdCBuPVQmJlA/SXQoUC54LFAueSxiLHcsdGhpcy50cmFuc2Zvcm0uYW5nbGUpOm5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxpPW8uZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShtLHRoaXMudHJhbnNmb3JtLnpvb20sdC5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3JldHVybiB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KG8saSxyLG4seCxoLHMsZy5wcmVkaWNhdGUpfTtEJiZELmJveCYmRC5ib3gubGVuZ3RoJiZwLnZlcnRpY2FsSWNvbkJveD8oTz1yKHAudmVydGljYWxJY29uQm94KSxNPU8uYm94Lmxlbmd0aD4wKTooTz1yKHAuaWNvbkJveCksTT1PLmJveC5sZW5ndGg+MCksaz1rJiZPLm9mZnNjcmVlbixJPU8ub2NjbHVkZWR9Y29uc3QgVj1ffHwwPT09dC5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyYmMD09PXQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzLEc9eXx8MD09PXQubnVtSWNvblZlcnRpY2VzO2lmKFZ8fEc/Rz9WfHwoTT1NJiZFKTpFPU0mJkU6TT1FPU0mJkUsRSYmUiYmUi5ib3gmJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KFIuYm94LGEuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG8uYnVja2V0SW5zdGFuY2VJZCxEJiZELmJveCYmRj9GOkIsZy5JRCksTSYmTyYmdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3goTy5ib3gsYS5nZXQoXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIiksby5idWNrZXRJbnN0YW5jZUlkLGosZy5JRCksTCYmKEUmJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhMLmNpcmNsZXMsYS5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIiksby5idWNrZXRJbnN0YW5jZUlkLEIsZy5JRCksbikpe2NvbnN0IGU9by5idWNrZXRJbnN0YW5jZUlkO2xldCB0PXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2VdO3ZvaWQgMD09PXQmJih0PXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2VdPW5ldyBDdCk7Zm9yKGxldCBlPTA7ZTxMLmNpcmNsZXMubGVuZ3RoO2UrPTQpdC5jaXJjbGVzLnB1c2goTC5jaXJjbGVzW2UrMF0pLHQuY2lyY2xlcy5wdXNoKEwuY2lyY2xlc1tlKzFdKSx0LmNpcmNsZXMucHVzaChMLmNpcmNsZXNbZSsyXSksdC5jaXJjbGVzLnB1c2goTC5jb2xsaXNpb25EZXRlY3RlZD8xOjApfWNvbnN0IHE9XCJnbG9iZVwiIT09by5wcm9qZWN0aW9uLm5hbWU7Uz1TJiYocXx8IUEpLEM9QyYmKHF8fCFJKSx0aGlzLnBsYWNlbWVudHNbdC5jcm9zc1RpbGVJRF09bmV3IFN0KEV8fFMsTXx8QyxrfHxvLmp1c3RSZWxvYWRlZCksclt0LmNyb3NzVGlsZUlEXT0hMH07aWYoRSl7Y29uc3QgZT1vLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7LS10KXtjb25zdCByPWVbdF07TShvLnN5bWJvbEluc3RhbmNlcy5nZXQocikscixvLmNvbGxpc2lvbkFycmF5c1tyXSl9fWVsc2UgZm9yKGxldCBlPXQuc3ltYm9sSW5zdGFuY2VTdGFydDtlPHQuc3ltYm9sSW5zdGFuY2VFbmQ7ZSsrKU0oby5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLGUsby5jb2xsaXNpb25BcnJheXNbZV0pO2lmKG4mJm8uYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7Y29uc3QgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tvLmJ1Y2tldEluc3RhbmNlSWRdO2UuaW52ZXJ0KHQuaW52UHJvak1hdHJpeCxzKSx0LnZpZXdwb3J0TWF0cml4PXRoaXMuY29sbGlzaW9uSW5kZXguZ2V0Vmlld3BvcnRNYXRyaXgoKX1vLmp1c3RSZWxvYWRlZD0hMX1tYXJrVXNlZEp1c3RpZmljYXRpb24odCxyLG4saSl7bGV0IG87bz1pPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9uLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OntsZWZ0Om4ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxjZW50ZXI6bi5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgscmlnaHQ6bi5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleH1bZS5nZXRBbmNob3JKdXN0aWZpY2F0aW9uKHIpXTtjb25zdCBhPVtuLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsbi5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsbi5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxuLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XTtmb3IoY29uc3QgZSBvZiBhKWU+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLmNyb3NzVGlsZUlEPW8+PTAmJmUhPT1vPzA6bi5jcm9zc1RpbGVJRCl9bWFya1VzZWRPcmllbnRhdGlvbih0LHIsbil7Y29uc3QgaT1yPT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsfHxyPT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsT25seT9yOjAsbz1yPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9yOjAsYT1bbi5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG4uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG4ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhdLmZpbHRlcihlPT4tMSE9PWUpO2Zvcihjb25zdCBlIG9mIGEpdC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlKS5wbGFjZWRPcmllbnRhdGlvbj1pOy0xIT09bi52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQobi52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkucGxhY2VkT3JpZW50YXRpb249byl9Y29tbWl0KGUpe3RoaXMuY29tbWl0VGltZT1lLHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10aGlzLnRyYW5zZm9ybS56b29tO2NvbnN0IHQ9dGhpcy5wcmV2UGxhY2VtZW50O2xldCByPSExO3RoaXMucHJldlpvb21BZGp1c3RtZW50PXQ/dC56b29tQWRqdXN0bWVudCh0aGlzLnRyYW5zZm9ybS56b29tKTowO2NvbnN0IG49dD90LnN5bWJvbEZhZGVDaGFuZ2UoZSk6MSxpPXQ/dC5vcGFjaXRpZXM6e30sbz10P3QudmFyaWFibGVPZmZzZXRzOnt9LGE9dD90LnBsYWNlZE9yaWVudGF0aW9uczp7fTtmb3IoY29uc3QgZSBpbiB0aGlzLnBsYWNlbWVudHMpe2NvbnN0IHQ9dGhpcy5wbGFjZW1lbnRzW2VdLG89aVtlXTtvPyh0aGlzLm9wYWNpdGllc1tlXT1uZXcgRXQobyxuLHQudGV4dCx0Lmljb24sbnVsbCx0LmNsaXBwZWQpLHI9cnx8dC50ZXh0IT09by50ZXh0LnBsYWNlZHx8dC5pY29uIT09by5pY29uLnBsYWNlZCk6KHRoaXMub3BhY2l0aWVzW2VdPW5ldyBFdChudWxsLG4sdC50ZXh0LHQuaWNvbix0LnNraXBGYWRlLHQuY2xpcHBlZCkscj1yfHx0LnRleHR8fHQuaWNvbil9Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1pW2VdO2lmKCF0aGlzLm9wYWNpdGllc1tlXSl7Y29uc3QgaT1uZXcgRXQodCxuLCExLCExKTtpLmlzSGlkZGVuKCl8fCh0aGlzLm9wYWNpdGllc1tlXT1pLHI9cnx8dC50ZXh0LnBsYWNlZHx8dC5pY29uLnBsYWNlZCl9fWZvcihjb25zdCBlIGluIG8pdGhpcy52YXJpYWJsZU9mZnNldHNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2VdPW9bZV0pO2Zvcihjb25zdCBlIGluIGEpdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdPWFbZV0pO3I/dGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT1lOlwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lJiYodGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT10P3QubGFzdFBsYWNlbWVudENoYW5nZVRpbWU6ZSl9dXBkYXRlTGF5ZXJPcGFjaXRpZXMoZSx0KXtjb25zdCByPXt9O2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5nZXRCdWNrZXQoZSk7dCYmbi5sYXRlc3RGZWF0dXJlSW5kZXgmJmUuaWQ9PT10LmxheWVySWRzWzBdJiZ0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LHIsbi5jb2xsaXNpb25Cb3hBcnJheSl9fXVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LHIsbil7dC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNJY29uRGF0YSgpJiZ0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKSx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO2NvbnN0IGk9dC5sYXllcnNbMF0ubGF5b3V0LG89ISF0LmxheWVyc1swXS5keW5hbWljRmlsdGVyKCksYT1uZXcgRXQobnVsbCwwLCExLCExLCEwKSxzPWkuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpLGw9aS5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIiksYz1pLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpLHU9XCJtYXBcIj09PWkuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksaD1cIm1hcFwiPT09aS5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxkPVwibm9uZVwiIT09aS5nZXQoXCJpY29uLXRleHQtZml0XCIpLHA9bmV3IEV0KG51bGwsMCxzJiYobHx8IXQuaGFzSWNvbkRhdGEoKXx8aS5nZXQoXCJpY29uLW9wdGlvbmFsXCIpKSxsJiYoc3x8IXQuaGFzVGV4dERhdGEoKXx8aS5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpKSwhMCk7IXQuY29sbGlzaW9uQXJyYXlzJiZuJiYodC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpJiZ0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMobik7Y29uc3QgZj0oZSx0LHIpPT57Zm9yKGxldCBuPTA7bjx0LzQ7bisrKWUub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHIpfTtsZXQgbT0wO2ZvcihsZXQgbj0wO248dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO24rKyl7Y29uc3QgaT10LnN5bWJvbEluc3RhbmNlcy5nZXQobikse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOnMsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOmwsY3Jvc3NUaWxlSUQ6Z309aTtsZXQgXz10aGlzLm9wYWNpdGllc1tnXTtyW2ddP189YTpffHwoXz1wLHRoaXMub3BhY2l0aWVzW2ddPV8pLHJbZ109ITA7Y29uc3QgeT1zPjB8fGw+MCx2PWkubnVtSWNvblZlcnRpY2VzPjAseD10aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tpLmNyb3NzVGlsZUlEXSxiPXg9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsLHc9eD09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8eD09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk7aWYoIXkmJiF2fHxfLmlzSGlkZGVuKCl8fG0rKyx5KXtjb25zdCBlPVV0KF8udGV4dCk7Zih0LnRleHQscyxiP050OmUpLGYodC50ZXh0LGwsdz9OdDplKTtjb25zdCByPV8udGV4dC5pc0hpZGRlbigpO1tpLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGkuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGkubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleF0uZm9yRWFjaChlPT57ZT49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoZSkuaGlkZGVuPXJ8fGI/MTowKX0pLGkudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGkudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLmhpZGRlbj1yfHx3PzE6MCk7Y29uc3Qgbj10aGlzLnZhcmlhYmxlT2Zmc2V0c1tpLmNyb3NzVGlsZUlEXTtuJiZ0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbih0LG4uYW5jaG9yLGkseCk7Y29uc3Qgbz10aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tpLmNyb3NzVGlsZUlEXTtvJiYodGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24odCxcImxlZnRcIixpLG8pLHRoaXMubWFya1VzZWRPcmllbnRhdGlvbih0LG8saSkpfWlmKHYpe2NvbnN0IGU9VXQoXy5pY29uKTtpLnBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKGYodC5pY29uLGkubnVtSWNvblZlcnRpY2VzLGI/TnQ6ZSksdC5pY29uLnBsYWNlZFN5bWJvbEFycmF5LmdldChpLnBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuPV8uaWNvbi5pc0hpZGRlbigpKSxpLnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Pj0wJiYoZih0Lmljb24saS5udW1WZXJ0aWNhbEljb25WZXJ0aWNlcyx3P050OmUpLHQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoaS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuPV8uaWNvbi5pc0hpZGRlbigpKX1pZih0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl8fHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSl7Y29uc3Qgcj10LmNvbGxpc2lvbkFycmF5c1tuXTtpZihyKXtsZXQgbj1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksaT0hMDtpZihyLnRleHRCb3h8fHIudmVydGljYWxUZXh0Qm94KXtpZihjKXtjb25zdCBlPXRoaXMudmFyaWFibGVPZmZzZXRzW2ddO2U/KG49QXQoZS5hbmNob3IsZS53aWR0aCxlLmhlaWdodCxlLnRleHRPZmZzZXQsZS50ZXh0U2NhbGUpLHUmJm4uX3JvdGF0ZShoP3RoaXMudHJhbnNmb3JtLmFuZ2xlOi10aGlzLnRyYW5zZm9ybS5hbmdsZSkpOmk9ITF9byYmKGk9IV8uY2xpcHBlZCksci50ZXh0Qm94JiZ6dCh0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksXy50ZXh0LnBsYWNlZCwhaXx8YixuLngsbi55KSxyLnZlcnRpY2FsVGV4dEJveCYmenQodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LF8udGV4dC5wbGFjZWQsIWl8fHcsbi54LG4ueSl9Y29uc3QgYT1pJiZCb29sZWFuKCF3JiZyLnZlcnRpY2FsSWNvbkJveCk7ci5pY29uQm94JiZ6dCh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksXy5pY29uLnBsYWNlZCxhLGQ/bi54OjAsZD9uLnk6MCksci52ZXJ0aWNhbEljb25Cb3gmJnp0KHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxfLmljb24ucGxhY2VkLCFhLGQ/bi54OjAsZD9uLnk6MCl9fX1pZih0LmZ1bGx5Q2xpcHBlZD0wPT09bSx0LnNvcnRGZWF0dXJlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVt0LmJ1Y2tldEluc3RhbmNlSWRdJiYodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVt0LmJ1Y2tldEluc3RhbmNlSWRdLmZlYXR1cmVTb3J0T3JkZXI9dC5mZWF0dXJlU29ydE9yZGVyKSx0Lmhhc1RleHREYXRhKCkmJnQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyJiZ0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkpLHQuaGFzSWNvbkRhdGEoKSYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXImJnQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheSksdC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZ0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJnQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLHQuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7Y29uc3QgZT10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1t0LmJ1Y2tldEluc3RhbmNlSWRdO3QucGxhY2VtZW50SW52UHJvak1hdHJpeD1lLmludlByb2pNYXRyaXgsdC5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeD1lLnZpZXdwb3J0TWF0cml4LHQuY29sbGlzaW9uQ2lyY2xlQXJyYXk9ZS5jaXJjbGVzLGRlbGV0ZSB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1t0LmJ1Y2tldEluc3RhbmNlSWRdfX1zeW1ib2xGYWRlQ2hhbmdlKGUpe3JldHVybiAwPT09dGhpcy5mYWRlRHVyYXRpb24/MTooZS10aGlzLmNvbW1pdFRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uK3RoaXMucHJldlpvb21BZGp1c3RtZW50fXpvb21BZGp1c3RtZW50KGUpe3JldHVybiBNYXRoLm1heCgwLCh0aGlzLnRyYW5zZm9ybS56b29tLWUpLzEuNSl9aGFzVHJhbnNpdGlvbnMoZSl7cmV0dXJuIHRoaXMuc3RhbGV8fGUtdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTx0aGlzLmZhZGVEdXJhdGlvbn1zdGlsbFJlY2VudChlLHQpe2NvbnN0IHI9dGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPT09dD8xLXRoaXMuem9vbUFkanVzdG1lbnQodCk6MTtyZXR1cm4gdGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPXQsdGhpcy5jb21taXRUaW1lK3RoaXMuZmFkZUR1cmF0aW9uKnI+ZX1zZXRTdGFsZSgpe3RoaXMuc3RhbGU9ITB9fWZ1bmN0aW9uIHp0KGUsdCxyLG4saSl7ZS5lbXBsYWNlQmFjayh0PzE6MCxyPzE6MCxufHwwLGl8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAscj8xOjAsbnx8MCxpfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLHI/MTowLG58fDAsaXx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxyPzE6MCxufHwwLGl8fDApfWNvbnN0IER0PU1hdGgucG93KDIsMjUpLFJ0PU1hdGgucG93KDIsMjQpLEx0PU1hdGgucG93KDIsMTcpLE90PU1hdGgucG93KDIsMTYpLEJ0PU1hdGgucG93KDIsOSksRnQ9TWF0aC5wb3coMiw4KSxqdD1NYXRoLnBvdygyLDEpO2Z1bmN0aW9uIFV0KGUpe2lmKDA9PT1lLm9wYWNpdHkmJiFlLnBsYWNlZClyZXR1cm4gMDtpZigxPT09ZS5vcGFjaXR5JiZlLnBsYWNlZClyZXR1cm4gNDI5NDk2NzI5NTtjb25zdCB0PWUucGxhY2VkPzE6MCxyPU1hdGguZmxvb3IoMTI3KmUub3BhY2l0eSk7cmV0dXJuIHIqRHQrdCpSdCtyKkx0K3QqT3QrcipCdCt0KkZ0K3IqanQrdH1jb25zdCBOdD0wO2NsYXNzIFZ0e2NvbnN0cnVjdG9yKGUpe3RoaXMuX3NvcnRBY3Jvc3NUaWxlcz1cInZpZXdwb3J0LXlcIiE9PWUubGF5b3V0LmdldChcInN5bWJvbC16LW9yZGVyXCIpJiZ2b2lkIDAhPT1lLmxheW91dC5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIikuY29uc3RhbnRPcigxKSx0aGlzLl9jdXJyZW50VGlsZUluZGV4PTAsdGhpcy5fY3VycmVudFBhcnRJbmRleD0wLHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHM9e30sdGhpcy5fYnVja2V0UGFydHM9W119Y29udGludWVQbGFjZW1lbnQoZSx0LHIsbixpKXtjb25zdCBvPXRoaXMuX2J1Y2tldFBhcnRzO2Zvcig7dGhpcy5fY3VycmVudFRpbGVJbmRleDxlLmxlbmd0aDspaWYodC5nZXRCdWNrZXRQYXJ0cyhvLG4sZVt0aGlzLl9jdXJyZW50VGlsZUluZGV4XSx0aGlzLl9zb3J0QWNyb3NzVGlsZXMpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXgrKyxpKCkpcmV0dXJuITA7Zm9yKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyYmKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcz0hMSxvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKTt0aGlzLl9jdXJyZW50UGFydEluZGV4PG8ubGVuZ3RoOyl7Y29uc3QgZT1vW3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXhdO2lmKHQucGxhY2VMYXllckJ1Y2tldFBhcnQoZSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzLHIsMD09PWUuc3ltYm9sSW5zdGFuY2VTdGFydCksdGhpcy5fY3VycmVudFBhcnRJbmRleCsrLGkoKSlyZXR1cm4hMH1yZXR1cm4hMX19Y2xhc3MgR3R7Y29uc3RydWN0b3IoZSx0LHIsbixpLG8sYSxzKXt0aGlzLnBsYWNlbWVudD1uZXcgUHQoZSxpLG8sYSxzKSx0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg9dC5sZW5ndGgtMSx0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQ9cix0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9bix0aGlzLl9kb25lPSExfWlzRG9uZSgpe3JldHVybiB0aGlzLl9kb25lfWNvbnRpbnVlUGxhY2VtZW50KHQscixuKXtjb25zdCBpPWUuZXhwb3J0ZWQubm93KCksbz0oKT0+e2NvbnN0IHQ9ZS5leHBvcnRlZC5ub3coKS1pO3JldHVybiF0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQmJnQ+Mn07Zm9yKDt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXtjb25zdCBlPXJbdFt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXhdXSxpPXRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LnRyYW5zZm9ybS56b29tO2lmKFwic3ltYm9sXCI9PT1lLnR5cGUmJighZS5taW56b29tfHxlLm1pbnpvb208PWkpJiYoIWUubWF4em9vbXx8ZS5tYXh6b29tPmkpKXtpZih0aGlzLl9pblByb2dyZXNzTGF5ZXJ8fCh0aGlzLl9pblByb2dyZXNzTGF5ZXI9bmV3IFZ0KGUpKSx0aGlzLl9pblByb2dyZXNzTGF5ZXIuY29udGludWVQbGFjZW1lbnQobltlLnNvdXJjZV0sdGhpcy5wbGFjZW1lbnQsdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzLGUsbykpcmV0dXJuO2RlbGV0ZSB0aGlzLl9pblByb2dyZXNzTGF5ZXJ9dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS19dGhpcy5fZG9uZT0hMH1jb21taXQoZSl7cmV0dXJuIHRoaXMucGxhY2VtZW50LmNvbW1pdChlKSx0aGlzLnBsYWNlbWVudH19Y29uc3QgcXQ9NTEyL2UuRVhURU5ULzI7Y2xhc3MgWnR7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudGlsZUlEPWUsdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzPXt9LHRoaXMuYnVja2V0SW5zdGFuY2VJZD1yO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBuPXQuZ2V0KHIpLGk9bi5rZXk7dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2ldfHwodGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2ldPVtdKSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbaV0ucHVzaCh7Y3Jvc3NUaWxlSUQ6bi5jcm9zc1RpbGVJRCxjb29yZDp0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKG4sZSl9KX19Z2V0U2NhbGVkQ29vcmRpbmF0ZXModCxyKXtjb25zdCBuPXF0L01hdGgucG93KDIsci5jYW5vbmljYWwuei10aGlzLnRpbGVJRC5jYW5vbmljYWwueik7cmV0dXJue3g6TWF0aC5mbG9vcigoci5jYW5vbmljYWwueCplLkVYVEVOVCt0LnRpbGVBbmNob3JYKSpuKSx5Ok1hdGguZmxvb3IoKHIuY2Fub25pY2FsLnkqZS5FWFRFTlQrdC50aWxlQW5jaG9yWSkqbil9fWZpbmRNYXRjaGVzKGUsdCxyKXtjb25zdCBuPXRoaXMudGlsZUlELmNhbm9uaWNhbC56PHQuY2Fub25pY2FsLno/MTpNYXRoLnBvdygyLHRoaXMudGlsZUlELmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLnopO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPWUuZ2V0KGkpO2lmKG8uY3Jvc3NUaWxlSUQpY29udGludWU7Y29uc3QgYT10aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbby5rZXldO2lmKCFhKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhvLHQpO2Zvcihjb25zdCBlIG9mIGEpaWYoTWF0aC5hYnMoZS5jb29yZC54LXMueCk8PW4mJk1hdGguYWJzKGUuY29vcmQueS1zLnkpPD1uJiYhcltlLmNyb3NzVGlsZUlEXSl7cltlLmNyb3NzVGlsZUlEXT0hMCxvLmNyb3NzVGlsZUlEPWUuY3Jvc3NUaWxlSUQ7YnJlYWt9fX19Y2xhc3MgJHR7Y29uc3RydWN0b3IoKXt0aGlzLm1heENyb3NzVGlsZUlEPTB9Z2VuZXJhdGUoKXtyZXR1cm4rK3RoaXMubWF4Q3Jvc3NUaWxlSUR9fWNsYXNzIFd0e2NvbnN0cnVjdG9yKCl7dGhpcy5pbmRleGVzPXt9LHRoaXMudXNlZENyb3NzVGlsZUlEcz17fSx0aGlzLmxuZz0wfWhhbmRsZVdyYXBKdW1wKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZS10aGlzLmxuZykvMzYwKTtpZigwIT09dClmb3IoY29uc3QgZSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IHI9dGhpcy5pbmRleGVzW2VdLG49e307Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgaT1yW2VdO2kudGlsZUlEPWkudGlsZUlELnVud3JhcFRvKGkudGlsZUlELndyYXArdCksbltpLnRpbGVJRC5rZXldPWl9dGhpcy5pbmRleGVzW2VdPW59dGhpcy5sbmc9ZX1hZGRCdWNrZXQoZSx0LHIpe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XSl7aWYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XS5idWNrZXRJbnN0YW5jZUlkPT09dC5idWNrZXRJbnN0YW5jZUlkKXJldHVybiExO3RoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGUub3ZlcnNjYWxlZFosdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XSl9Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKS5jcm9zc1RpbGVJRD0wO3RoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXXx8KHRoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXT17fSk7Y29uc3Qgbj10aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl07Zm9yKGNvbnN0IHIgaW4gdGhpcy5pbmRleGVzKXtjb25zdCBpPXRoaXMuaW5kZXhlc1tyXTtpZihOdW1iZXIocik+ZS5vdmVyc2NhbGVkWilmb3IoY29uc3QgciBpbiBpKXtjb25zdCBvPWlbcl07by50aWxlSUQuaXNDaGlsZE9mKGUpJiZvLmZpbmRNYXRjaGVzKHQuc3ltYm9sSW5zdGFuY2VzLGUsbil9ZWxzZXtjb25zdCBvPWlbZS5zY2FsZWRUbyhOdW1iZXIocikpLmtleV07byYmby5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLG4pfX1mb3IobGV0IGU9MDtlPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspe2NvbnN0IGk9dC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO2kuY3Jvc3NUaWxlSUR8fChpLmNyb3NzVGlsZUlEPXIuZ2VuZXJhdGUoKSxuW2kuY3Jvc3NUaWxlSURdPSEwKX1yZXR1cm4gdm9pZCAwPT09dGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdJiYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdPXt9KSx0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldPW5ldyBadChlLHQuc3ltYm9sSW5zdGFuY2VzLHQuYnVja2V0SW5zdGFuY2VJZCksITB9cmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGUsdCl7Zm9yKGNvbnN0IHIgaW4gdC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKWZvcihjb25zdCBuIG9mIHQuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tyXSlkZWxldGUgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW2VdW24uY3Jvc3NUaWxlSURdfXJlbW92ZVN0YWxlQnVja2V0cyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgciBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IG49dGhpcy5pbmRleGVzW3JdO2Zvcihjb25zdCBpIGluIG4pZVtuW2ldLmJ1Y2tldEluc3RhbmNlSWRdfHwodGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMocixuW2ldKSxkZWxldGUgbltpXSx0PSEwKX1yZXR1cm4gdH19Y2xhc3MgWHR7Y29uc3RydWN0b3IoKXt0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmNyb3NzVGlsZUlEcz1uZXcgJHQsdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkPTAsdGhpcy5idWNrZXRzSW5DdXJyZW50UGxhY2VtZW50PXt9fWFkZExheWVyKGUsdCxyLG4pe2xldCBpPXRoaXMubGF5ZXJJbmRleGVzW2UuaWRdO3ZvaWQgMD09PWkmJihpPXRoaXMubGF5ZXJJbmRleGVzW2UuaWRdPW5ldyBXdCk7bGV0IG89ITE7Y29uc3QgYT17fTtcImdsb2JlXCIhPT1uLm5hbWUmJmkuaGFuZGxlV3JhcEp1bXAocik7Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3QgdD1yLmdldEJ1Y2tldChlKTt0JiZlLmlkPT09dC5sYXllcklkc1swXSYmKHQuYnVja2V0SW5zdGFuY2VJZHx8KHQuYnVja2V0SW5zdGFuY2VJZD0rK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZCksaS5hZGRCdWNrZXQoci50aWxlSUQsdCx0aGlzLmNyb3NzVGlsZUlEcykmJihvPSEwKSxhW3QuYnVja2V0SW5zdGFuY2VJZF09ITApfXJldHVybiBpLnJlbW92ZVN0YWxlQnVja2V0cyhhKSYmKG89ITApLG99cHJ1bmVVbnVzZWRMYXllcnMoZSl7Y29uc3QgdD17fTtlLmZvckVhY2goZT0+e3RbZV09ITB9KTtmb3IoY29uc3QgZSBpbiB0aGlzLmxheWVySW5kZXhlcyl0W2VdfHxkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV19fWNvbnN0IEh0PSh0LHIpPT5lLmVtaXRWYWxpZGF0aW9uRXJyb3JzKHQsciYmci5maWx0ZXIoZT0+XCJzb3VyY2UuY2FudmFzXCIhPT1lLmlkZW50aWZpZXIpKSxZdD1lLnBpY2socWUsW1wiYWRkTGF5ZXJcIixcInJlbW92ZUxheWVyXCIsXCJzZXRQYWludFByb3BlcnR5XCIsXCJzZXRMYXlvdXRQcm9wZXJ0eVwiLFwic2V0RmlsdGVyXCIsXCJhZGRTb3VyY2VcIixcInJlbW92ZVNvdXJjZVwiLFwic2V0TGF5ZXJab29tUmFuZ2VcIixcInNldExpZ2h0XCIsXCJzZXRUcmFuc2l0aW9uXCIsXCJzZXRHZW9KU09OU291cmNlRGF0YVwiLFwic2V0VGVycmFpblwiLFwic2V0Rm9nXCIsXCJzZXRQcm9qZWN0aW9uXCJdKSxLdD1lLnBpY2socWUsW1wic2V0Q2VudGVyXCIsXCJzZXRab29tXCIsXCJzZXRCZWFyaW5nXCIsXCJzZXRQaXRjaFwiXSksSnQ9e3ZlcnNpb246OCxsYXllcnM6W10sc291cmNlczp7fX0sUXQ9e2ZpbGw6ITAsbGluZTohMCxiYWNrZ3JvdW5kOiEwLGhpbGxzaGFkZTohMCxyYXN0ZXI6ITB9O2NsYXNzIGVyIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQscj17fSl7c3VwZXIoKSx0aGlzLm1hcD10LHRoaXMuZGlzcGF0Y2hlcj1uZXcgeihOZSgpLHRoaXMpLHRoaXMuaW1hZ2VNYW5hZ2VyPW5ldyB4LHRoaXMuaW1hZ2VNYW5hZ2VyLnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5nbHlwaE1hbmFnZXI9bmV3IGUuR2x5cGhNYW5hZ2VyKHQuX3JlcXVlc3RNYW5hZ2VyLHIubG9jYWxGb250RmFtaWx5P2UuTG9jYWxHbHlwaE1vZGUuYWxsOnIubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5P2UuTG9jYWxHbHlwaE1vZGUuaWRlb2dyYXBoczplLkxvY2FsR2x5cGhNb2RlLm5vbmUsci5sb2NhbEZvbnRGYW1pbHl8fHIubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBYdCx0aGlzLl9sYXllcnM9e30sdGhpcy5fbnVtM0RMYXllcnM9MCx0aGlzLl9udW1TeW1ib2xMYXllcnM9MCx0aGlzLl9udW1DaXJjbGVMYXllcnM9MCx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzPXt9LHRoaXMuX3NvdXJjZUNhY2hlcz17fSx0aGlzLl9vdGhlclNvdXJjZUNhY2hlcz17fSx0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXM9e30sdGhpcy56b29tSGlzdG9yeT1uZXcgZS5ab29tSGlzdG9yeSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzPVtdLHRoaXMuX29yZGVyPVtdLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXI9W10sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEsdGhpcy5fcmVzZXRVcGRhdGVzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFJlZmVycmVyXCIsZS5nZXRSZWZlcnJlcigpKTtjb25zdCBuPXRoaXM7dGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrPWVyLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UodD0+e24uZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzeW5jUlRMUGx1Z2luU3RhdGVcIix7cGx1Z2luU3RhdHVzOnQucGx1Z2luU3RhdHVzLHBsdWdpblVSTDp0LnBsdWdpblVSTH0sKHQscik9PntpZihlLnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQodCksciYmci5ldmVyeShlPT5lKSlmb3IoY29uc3QgZSBpbiBuLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9bi5fc291cmNlQ2FjaGVzW2VdLHI9dC5nZXRTb3VyY2UoKS50eXBlO1widmVjdG9yXCIhPT1yJiZcImdlb2pzb25cIiE9PXJ8fHQucmVsb2FkKCl9fSl9KSx0aGlzLm9uKFwiZGF0YVwiLGU9PntpZihcInNvdXJjZVwiIT09ZS5kYXRhVHlwZXx8XCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFNvdXJjZShlLnNvdXJjZUlkKTtpZih0JiZ0LnZlY3RvckxheWVySWRzKWZvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3Qgcj10aGlzLl9sYXllcnNbZV07ci5zb3VyY2U9PT10LmlkJiZ0aGlzLl92YWxpZGF0ZUxheWVyKHIpfX0pfWxvYWRVUkwodCxyPXt9KXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7Y29uc3Qgbj1cImJvb2xlYW5cIj09dHlwZW9mIHIudmFsaWRhdGU/ci52YWxpZGF0ZTohZS5pc01hcGJveFVSTCh0KTt0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh0LHIuYWNjZXNzVG9rZW4pO2NvbnN0IGk9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodCxlLlJlc291cmNlVHlwZS5TdHlsZSk7dGhpcy5fcmVxdWVzdD1lLmdldEpTT04oaSwodCxyKT0+e3RoaXMuX3JlcXVlc3Q9bnVsbCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTpyJiZ0aGlzLl9sb2FkKHIsbil9KX1sb2FkSlNPTih0LHI9e30pe3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLl9yZXF1ZXN0PWUuZXhwb3J0ZWQuZnJhbWUoKCk9Pnt0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5fbG9hZCh0LCExIT09ci52YWxpZGF0ZSl9KX1sb2FkRW1wdHkoKXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fbG9hZChKdCwhMSl9X3VwZGF0ZUxheWVyQ291bnQoZSx0KXtjb25zdCByPXQ/MTotMTtlLmlzM0QoKSYmKHRoaXMuX251bTNETGF5ZXJzKz1yKSxcImNpcmNsZVwiPT09ZS50eXBlJiYodGhpcy5fbnVtQ2lyY2xlTGF5ZXJzKz1yKSxcInN5bWJvbFwiPT09ZS50eXBlJiYodGhpcy5fbnVtU3ltYm9sTGF5ZXJzKz1yKX1fbG9hZCh0LHIpe2lmKHImJkh0KHRoaXMsZS52YWxpZGF0ZVN0eWxlKHQpKSlyZXR1cm47dGhpcy5fbG9hZGVkPSEwLHRoaXMuc3R5bGVzaGVldD1lLmNsb25lJDEodCksdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpO2Zvcihjb25zdCBlIGluIHQuc291cmNlcyl0aGlzLmFkZFNvdXJjZShlLHQuc291cmNlc1tlXSx7dmFsaWRhdGU6ITF9KTt0aGlzLl9jaGFuZ2VkPSExLHQuc3ByaXRlP3RoaXMuX2xvYWRTcHJpdGUodC5zcHJpdGUpOih0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQoITApLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzcHJpdGVMb2FkZWRcIiwhMCkpLHRoaXMuZ2x5cGhNYW5hZ2VyLnNldFVSTCh0LmdseXBocyk7Y29uc3Qgbj1HZSh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj1uLm1hcChlPT5lLmlkKSx0aGlzLl9sYXllcnM9e30sdGhpcy5fc2VyaWFsaXplZExheWVycz17fTtmb3IobGV0IHQgb2Ygbil0PWUuY3JlYXRlU3R5bGVMYXllcih0KSx0LnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnQuaWR9fSksdGhpcy5fbGF5ZXJzW3QuaWRdPXQsdGhpcy5fc2VyaWFsaXplZExheWVyc1t0LmlkXT10LnNlcmlhbGl6ZSgpLHRoaXMuX3VwZGF0ZUxheWVyQ291bnQodCwhMCk7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldExheWVyc1wiLHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpLHRoaXMubGlnaHQ9bmV3IFQodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSx0aGlzLnN0eWxlc2hlZXQudGVycmFpbiYmIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJnRoaXMuX2NyZWF0ZVRlcnJhaW4odGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4sMSksdGhpcy5zdHlsZXNoZWV0LmZvZyYmdGhpcy5fY3JlYXRlRm9nKHRoaXMuc3R5bGVzaGVldC5mb2cpLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJzdHlsZS5sb2FkXCIpKX10ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKXtyZXR1cm4hIXRoaXMudGVycmFpbiYmMD09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGV9c2V0UHJvamVjdGlvbihlKXtlP3RoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uPWU6ZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKX1hcHBseVByb2plY3Rpb25VcGRhdGUoKXt0aGlzLl9sb2FkZWQmJih0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0UHJvamVjdGlvblwiLHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uT3B0aW9ucyksdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nP3RoaXMuZ2V0VGVycmFpbigpfHx0aGlzLnN0eWxlc2hlZXQudGVycmFpbnx8dGhpcy5zZXRUZXJyYWluRm9yRHJhcGluZygpOnRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJnRoaXMuc2V0VGVycmFpbihudWxsKSl9X3VwZGF0ZU1hcFByb2plY3Rpb24oKXt0aGlzLm1hcC5fdXNlRXhwbGljaXRQcm9qZWN0aW9uP3RoaXMuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk6dGhpcy5tYXAuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKG51bGwsdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24pfV9sb2FkU3ByaXRlKHQpe3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24odCxyLG4pe2xldCBpLG8sYTtjb25zdCBzPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbz4xP1wiQDJ4XCI6XCJcIjtsZXQgbD1lLmdldEpTT04oci50cmFuc2Zvcm1SZXF1ZXN0KHIubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5qc29uXCIpLGUuUmVzb3VyY2VUeXBlLlNwcml0ZUpTT04pLChlLHQpPT57bD1udWxsLGF8fChhPWUsaT10LHUoKSl9KSxjPWUuZ2V0SW1hZ2Uoci50cmFuc2Zvcm1SZXF1ZXN0KHIubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5wbmdcIiksZS5SZXNvdXJjZVR5cGUuU3ByaXRlSW1hZ2UpLChlLHQpPT57Yz1udWxsLGF8fChhPWUsbz10LHUoKSl9KTtmdW5jdGlvbiB1KCl7aWYoYSluKGEpO2Vsc2UgaWYoaSYmbyl7Y29uc3QgdD1lLmV4cG9ydGVkLmdldEltYWdlRGF0YShvKSxyPXt9O2Zvcihjb25zdCBuIGluIGkpe2NvbnN0e3dpZHRoOm8saGVpZ2h0OmEseDpzLHk6bCxzZGY6YyxwaXhlbFJhdGlvOnUsc3RyZXRjaFg6aCxzdHJldGNoWTpkLGNvbnRlbnQ6cH09aVtuXSxmPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6byxoZWlnaHQ6YX0pO2UuUkdCQUltYWdlLmNvcHkodCxmLHt4OnMseTpsfSx7eDowLHk6MH0se3dpZHRoOm8saGVpZ2h0OmF9KSxyW25dPXtkYXRhOmYscGl4ZWxSYXRpbzp1LHNkZjpjLHN0cmV0Y2hYOmgsc3RyZXRjaFk6ZCxjb250ZW50OnB9fW4obnVsbCxyKX19cmV0dXJue2NhbmNlbCgpe2wmJihsLmNhbmNlbCgpLGw9bnVsbCksYyYmKGMuY2FuY2VsKCksYz1udWxsKX19fSh0LHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwodCxyKT0+e2lmKHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCx0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTtlbHNlIGlmKHIpZm9yKGNvbnN0IGUgaW4gcil0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLHJbZV0pO3RoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5fYXZhaWxhYmxlSW1hZ2VzPXRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXMoKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0SW1hZ2VzXCIsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3ByaXRlTG9hZGVkXCIsITApLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpfSl9X3ZhbGlkYXRlTGF5ZXIodCl7Y29uc3Qgcj10aGlzLmdldFNvdXJjZSh0LnNvdXJjZSk7aWYoIXIpcmV0dXJuO2NvbnN0IG49dC5zb3VyY2VMYXllcjtuJiYoXCJnZW9qc29uXCI9PT1yLnR5cGV8fHIudmVjdG9yTGF5ZXJJZHMmJi0xPT09ci52ZWN0b3JMYXllcklkcy5pbmRleE9mKG4pKSYmdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgbGF5ZXIgXCIke259XCIgZG9lcyBub3QgZXhpc3Qgb24gc291cmNlIFwiJHtyLmlkfVwiIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciBcIiR7dC5pZH1cImApKSl9bG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4hMTtpZihPYmplY3Qua2V5cyh0aGlzLl91cGRhdGVkU291cmNlcykubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcylpZighdGhpcy5fc291cmNlQ2FjaGVzW2VdLmxvYWRlZCgpKXJldHVybiExO3JldHVybiEhdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKX1fc2VyaWFsaXplTGF5ZXJzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLl9sYXllcnNbcl07XCJjdXN0b21cIiE9PWUudHlwZSYmdC5wdXNoKGUuc2VyaWFsaXplKCkpfXJldHVybiB0fWhhc1RyYW5zaXRpb25zKCl7aWYodGhpcy5saWdodCYmdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7aWYodGhpcy5mb2cmJnRoaXMuZm9nLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtyZXR1cm4hMX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5tYXAuX29wdGltaXplRm9yVGVycmFpbiYmdGhpcy50ZXJyYWluP3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI6dGhpcy5fb3JkZXJ9aXNMYXllckRyYXBlZChlKXtyZXR1cm4hIXRoaXMudGVycmFpbiYmUXRbZS50eXBlXX1fY2hlY2tMb2FkZWQoKXtpZighdGhpcy5fbG9hZGVkKXRocm93IG5ldyBFcnJvcihcIlN0eWxlIGlzIG5vdCBkb25lIGxvYWRpbmdcIil9dXBkYXRlKHQpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fY2hhbmdlZDtpZih0aGlzLl9jaGFuZ2VkKXtjb25zdCBlPU9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRMYXllcnMpLHI9T2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVycyk7KGUubGVuZ3RofHxyLmxlbmd0aCkmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhlLHIpO2Zvcihjb25zdCBlIGluIHRoaXMuX3VwZGF0ZWRTb3VyY2VzKXtjb25zdCB0PXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2VdO1wicmVsb2FkXCI9PT10P3RoaXMuX3JlbG9hZFNvdXJjZShlKTpcImNsZWFyXCI9PT10JiZ0aGlzLl9jbGVhclNvdXJjZShlKX10aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyl0aGlzLl9sYXllcnNbZV0udXBkYXRlVHJhbnNpdGlvbnModCk7dGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLmZvZyYmdGhpcy5mb2cudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5fcmVzZXRVcGRhdGVzKCl9Y29uc3Qgbj17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdO25bZV09dC51c2VkLHQudXNlZD0hMX1mb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3Qgcj10aGlzLl9sYXllcnNbZV07aWYoci5yZWNhbGN1bGF0ZSh0LHRoaXMuX2F2YWlsYWJsZUltYWdlcyksIXIuaXNIaWRkZW4odC56b29tKSl7Y29uc3QgZT10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKHIpO2UmJihlLnVzZWQ9ITApfWNvbnN0IG49dGhpcy5tYXAucGFpbnRlcjtpZihuKXtjb25zdCBlPXIuZ2V0UHJvZ3JhbUlkcygpO2lmKCFlKWNvbnRpbnVlO2NvbnN0IGk9ci5nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0Lnpvb20pO2Zvcihjb25zdCB0IG9mIGUpbi51c2VQcm9ncmFtKHQsaSl9fWZvcihjb25zdCB0IGluIG4pe2NvbnN0IHI9dGhpcy5fc291cmNlQ2FjaGVzW3RdO25bdF0hPT1yLnVzZWQmJnIuZ2V0U291cmNlKCkuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJ2aXNpYmlsaXR5XCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDpyLmdldFNvdXJjZSgpLmlkfSkpfXRoaXMubGlnaHQucmVjYWxjdWxhdGUodCksdGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVjYWxjdWxhdGUodCksdGhpcy5mb2cmJnRoaXMuZm9nLnJlY2FsY3VsYXRlKHQpLHRoaXMuej10Lnpvb20sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUmJih0aGlzLl91cGRhdGVNYXJrZXJzT3BhY2l0eSgpLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSExKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKX1fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9jaGFuZ2VkSW1hZ2VzKTtpZihlLmxlbmd0aCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbXCJpY29uc1wiLFwicGF0dGVybnNcIl0sZSk7dGhpcy5fY2hhbmdlZEltYWdlcz17fX19X3VwZGF0ZVdvcmtlckxheWVycyhlLHQpe3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJ1cGRhdGVMYXllcnNcIix7bGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyhlKSxyZW1vdmVkSWRzOnR9KX1fcmVzZXRVcGRhdGVzKCl7dGhpcy5fY2hhbmdlZD0hMSx0aGlzLl91cGRhdGVkTGF5ZXJzPXt9LHRoaXMuX3JlbW92ZWRMYXllcnM9e30sdGhpcy5fdXBkYXRlZFNvdXJjZXM9e30sdGhpcy5fdXBkYXRlZFBhaW50UHJvcHM9e30sdGhpcy5fY2hhbmdlZEltYWdlcz17fX1zZXRTdGF0ZShyKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLEh0KHRoaXMsZS52YWxpZGF0ZVN0eWxlKHIpKSlyZXR1cm4hMTsocj1lLmNsb25lJDEocikpLmxheWVycz1HZShyLmxheWVycyk7Y29uc3Qgbj1mdW5jdGlvbihlLHIpe2lmKCFlKXJldHVyblt7Y29tbWFuZDpxZS5zZXRTdHlsZSxhcmdzOltyXX1dO2xldCBuPVtdO3RyeXtpZighdChlLnZlcnNpb24sci52ZXJzaW9uKSlyZXR1cm5be2NvbW1hbmQ6cWUuc2V0U3R5bGUsYXJnczpbcl19XTt0KGUuY2VudGVyLHIuY2VudGVyKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldENlbnRlcixhcmdzOltyLmNlbnRlcl19KSx0KGUuem9vbSxyLnpvb20pfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0Wm9vbSxhcmdzOltyLnpvb21dfSksdChlLmJlYXJpbmcsci5iZWFyaW5nKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldEJlYXJpbmcsYXJnczpbci5iZWFyaW5nXX0pLHQoZS5waXRjaCxyLnBpdGNoKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldFBpdGNoLGFyZ3M6W3IucGl0Y2hdfSksdChlLnNwcml0ZSxyLnNwcml0ZSl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRTcHJpdGUsYXJnczpbci5zcHJpdGVdfSksdChlLmdseXBocyxyLmdseXBocyl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRHbHlwaHMsYXJnczpbci5nbHlwaHNdfSksdChlLnRyYW5zaXRpb24sci50cmFuc2l0aW9uKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldFRyYW5zaXRpb24sYXJnczpbci50cmFuc2l0aW9uXX0pLHQoZS5saWdodCxyLmxpZ2h0KXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldExpZ2h0LGFyZ3M6W3IubGlnaHRdfSksdChlLmZvZyxyLmZvZyl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRGb2csYXJnczpbci5mb2ddfSksdChlLnByb2plY3Rpb24sci5wcm9qZWN0aW9uKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldFByb2plY3Rpb24sYXJnczpbci5wcm9qZWN0aW9uXX0pO2NvbnN0IGk9e30sbz1bXTshZnVuY3Rpb24oZSxyLG4saSl7bGV0IG87Zm9yKG8gaW4gcj1yfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkobykmJihyLmhhc093blByb3BlcnR5KG8pfHwkZShvLG4saSkpO2ZvcihvIGluIHIpci5oYXNPd25Qcm9wZXJ0eShvKSYmKGUuaGFzT3duUHJvcGVydHkobyk/dChlW29dLHJbb10pfHwoXCJnZW9qc29uXCI9PT1lW29dLnR5cGUmJlwiZ2VvanNvblwiPT09cltvXS50eXBlJiZYZShlLHIsbyk/bi5wdXNoKHtjb21tYW5kOnFlLnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W28scltvXS5kYXRhXX0pOldlKG8scixuLGkpKTpaZShvLHIsbikpfShlLnNvdXJjZXMsci5zb3VyY2VzLG8saSk7Y29uc3QgYT1bXTtlLmxheWVycyYmZS5sYXllcnMuZm9yRWFjaChlPT57ZS5zb3VyY2UmJmlbZS5zb3VyY2VdP24ucHVzaCh7Y29tbWFuZDpxZS5yZW1vdmVMYXllcixhcmdzOltlLmlkXX0pOmEucHVzaChlKX0pO2xldCBzPWUudGVycmFpbjtzJiZpW3Muc291cmNlXSYmKG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRUZXJyYWluLGFyZ3M6W3ZvaWQgMF19KSxzPXZvaWQgMCksbj1uLmNvbmNhdChvKSx0KHMsci50ZXJyYWluKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldFRlcnJhaW4sYXJnczpbci50ZXJyYWluXX0pLGZ1bmN0aW9uKGUscixuKXtyPXJ8fFtdO2NvbnN0IGk9KGU9ZXx8W10pLm1hcChZZSksbz1yLm1hcChZZSksYT1lLnJlZHVjZShLZSx7fSkscz1yLnJlZHVjZShLZSx7fSksbD1pLnNsaWNlKCksYz1PYmplY3QuY3JlYXRlKG51bGwpO2xldCB1LGgsZCxwLGYsbSxnO2Zvcih1PTAsaD0wO3U8aS5sZW5ndGg7dSsrKWQ9aVt1XSxzLmhhc093blByb3BlcnR5KGQpP2grKzoobi5wdXNoKHtjb21tYW5kOnFlLnJlbW92ZUxheWVyLGFyZ3M6W2RdfSksbC5zcGxpY2UobC5pbmRleE9mKGQsaCksMSkpO2Zvcih1PTAsaD0wO3U8by5sZW5ndGg7dSsrKWQ9b1tvLmxlbmd0aC0xLXVdLGxbbC5sZW5ndGgtMS11XSE9PWQmJihhLmhhc093blByb3BlcnR5KGQpPyhuLnB1c2goe2NvbW1hbmQ6cWUucmVtb3ZlTGF5ZXIsYXJnczpbZF19KSxsLnNwbGljZShsLmxhc3RJbmRleE9mKGQsbC5sZW5ndGgtaCksMSkpOmgrKyxtPWxbbC5sZW5ndGgtdV0sbi5wdXNoKHtjb21tYW5kOnFlLmFkZExheWVyLGFyZ3M6W3NbZF0sbV19KSxsLnNwbGljZShsLmxlbmd0aC11LDAsZCksY1tkXT0hMCk7Zm9yKHU9MDt1PG8ubGVuZ3RoO3UrKylpZihkPW9bdV0scD1hW2RdLGY9c1tkXSwhY1tkXSYmIXQocCxmKSlpZih0KHAuc291cmNlLGYuc291cmNlKSYmdChwW1wic291cmNlLWxheWVyXCJdLGZbXCJzb3VyY2UtbGF5ZXJcIl0pJiZ0KHAudHlwZSxmLnR5cGUpKXtmb3IoZyBpbiBIZShwLmxheW91dCxmLmxheW91dCxuLGQsbnVsbCxxZS5zZXRMYXlvdXRQcm9wZXJ0eSksSGUocC5wYWludCxmLnBhaW50LG4sZCxudWxsLHFlLnNldFBhaW50UHJvcGVydHkpLHQocC5maWx0ZXIsZi5maWx0ZXIpfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0RmlsdGVyLGFyZ3M6W2QsZi5maWx0ZXJdfSksdChwLm1pbnpvb20sZi5taW56b29tKSYmdChwLm1heHpvb20sZi5tYXh6b29tKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldExheWVyWm9vbVJhbmdlLGFyZ3M6W2QsZi5taW56b29tLGYubWF4em9vbV19KSxwKXAuaGFzT3duUHJvcGVydHkoZykmJlwibGF5b3V0XCIhPT1nJiZcInBhaW50XCIhPT1nJiZcImZpbHRlclwiIT09ZyYmXCJtZXRhZGF0YVwiIT09ZyYmXCJtaW56b29tXCIhPT1nJiZcIm1heHpvb21cIiE9PWcmJigwPT09Zy5pbmRleE9mKFwicGFpbnQuXCIpP0hlKHBbZ10sZltnXSxuLGQsZy5zbGljZSg2KSxxZS5zZXRQYWludFByb3BlcnR5KTp0KHBbZ10sZltnXSl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRMYXllclByb3BlcnR5LGFyZ3M6W2QsZyxmW2ddXX0pKTtmb3IoZyBpbiBmKWYuaGFzT3duUHJvcGVydHkoZykmJiFwLmhhc093blByb3BlcnR5KGcpJiZcImxheW91dFwiIT09ZyYmXCJwYWludFwiIT09ZyYmXCJmaWx0ZXJcIiE9PWcmJlwibWV0YWRhdGFcIiE9PWcmJlwibWluem9vbVwiIT09ZyYmXCJtYXh6b29tXCIhPT1nJiYoMD09PWcuaW5kZXhPZihcInBhaW50LlwiKT9IZShwW2ddLGZbZ10sbixkLGcuc2xpY2UoNikscWUuc2V0UGFpbnRQcm9wZXJ0eSk6dChwW2ddLGZbZ10pfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltkLGcsZltnXV19KSl9ZWxzZSBuLnB1c2goe2NvbW1hbmQ6cWUucmVtb3ZlTGF5ZXIsYXJnczpbZF19KSxtPWxbbC5sYXN0SW5kZXhPZihkKSsxXSxuLnB1c2goe2NvbW1hbmQ6cWUuYWRkTGF5ZXIsYXJnczpbZixtXX0pfShhLHIubGF5ZXJzLG4pfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIlVuYWJsZSB0byBjb21wdXRlIHN0eWxlIGRpZmY6XCIsZSksbj1be2NvbW1hbmQ6cWUuc2V0U3R5bGUsYXJnczpbcl19XX1yZXR1cm4gbn0odGhpcy5zZXJpYWxpemUoKSxyKS5maWx0ZXIoZT0+IShlLmNvbW1hbmQgaW4gS3QpKTtpZigwPT09bi5sZW5ndGgpcmV0dXJuITE7Y29uc3QgaT1uLmZpbHRlcihlPT4hKGUuY29tbWFuZCBpbiBZdCkpO2lmKGkubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKGBVbmltcGxlbWVudGVkOiAke2kubWFwKGU9PmUuY29tbWFuZCkuam9pbihcIiwgXCIpfS5gKTtyZXR1cm4gbi5mb3JFYWNoKGU9PntcInNldFRyYW5zaXRpb25cIiE9PWUuY29tbWFuZCYmXCJzZXRQcm9qZWN0aW9uXCIhPT1lLmNvbW1hbmQmJnRoaXNbZS5jb21tYW5kXS5hcHBseSh0aGlzLGUuYXJncyl9KSx0aGlzLnN0eWxlc2hlZXQ9cix0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCksITB9YWRkSW1hZ2UodCxyKXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UodCxyKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKX11cGRhdGVJbWFnZShlLHQpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKGUsdCl9Z2V0SW1hZ2UoZSl7cmV0dXJuIHRoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlKGUpfXJlbW92ZUltYWdlKHQpe3JldHVybiB0aGlzLmdldEltYWdlKHQpPyh0aGlzLmltYWdlTWFuYWdlci5yZW1vdmVJbWFnZSh0KSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJObyBpbWFnZSB3aXRoIHRoaXMgbmFtZSBleGlzdHMuXCIpKSl9X2FmdGVySW1hZ2VVcGRhdGVkKHQpe3RoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1t0XT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix0aGlzLl9hdmFpbGFibGVJbWFnZXMpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpfWxpc3RJbWFnZXMoKXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl9hdmFpbGFibGVJbWFnZXMuc2xpY2UoKX1hZGRTb3VyY2UodCxyLG49e30pe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5nZXRTb3VyY2UodCkpdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgYWxyZWFkeSBhIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7aWYoIXIudHlwZSl0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46ICR7T2JqZWN0LmtleXMocikuam9pbihcIiwgXCIpfS5gKTtpZihbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCJdLmluZGV4T2Yoci50eXBlKT49MCYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZVNvdXJjZSxcInNvdXJjZXMuXCIrdCxyLG51bGwsbikpcmV0dXJuO3RoaXMubWFwJiZ0aGlzLm1hcC5fY29sbGVjdFJlc291cmNlVGltaW5nJiYoci5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ITApO2NvbnN0IGk9emUodCxyLHRoaXMuZGlzcGF0Y2hlcix0aGlzKTtpLnNldEV2ZW50ZWRQYXJlbnQodGhpcywoKT0+KHtpc1NvdXJjZUxvYWRlZDp0aGlzLl9pc1NvdXJjZUNhY2hlTG9hZGVkKHQpLHNvdXJjZTppLnNlcmlhbGl6ZSgpLHNvdXJjZUlkOnR9KSk7Y29uc3Qgbz1yPT57Y29uc3Qgbj0ocj9cInN5bWJvbDpcIjpcIm90aGVyOlwiKSt0LG89dGhpcy5fc291cmNlQ2FjaGVzW25dPW5ldyBlLlNvdXJjZUNhY2hlKG4saSxyKTsocj90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXM6dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpW3RdPW8sby5zdHlsZT10aGlzLG8ub25BZGQodGhpcy5tYXApfTtvKCExKSxcInZlY3RvclwiIT09ci50eXBlJiZcImdlb2pzb25cIiE9PXIudHlwZXx8byghMCksaS5vbkFkZCYmaS5vbkFkZCh0aGlzLm1hcCksdGhpcy5fY2hhbmdlZD0hMH1yZW1vdmVTb3VyY2UodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuZ2V0U291cmNlKHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tyXS5zb3VyY2U9PT10KXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBcIiR7dH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7cn1cIiBpcyB1c2luZyBpdC5gKSkpO2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZT09PXQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHt0fVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBuPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtmb3IoY29uc3QgdCBvZiBuKWRlbGV0ZSB0aGlzLl9zb3VyY2VDYWNoZXNbdC5pZF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW3QuaWRdLHQuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6dC5nZXRTb3VyY2UoKS5pZH0pKSx0LnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdC5jbGVhclRpbGVzKCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0XSxkZWxldGUgdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3RdLHIuc2V0RXZlbnRlZFBhcmVudChudWxsKSxyLm9uUmVtb3ZlJiZyLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwLHRoaXN9c2V0R2VvSlNPTlNvdXJjZURhdGEoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuZ2V0U291cmNlKGUpLnNldERhdGEodCksdGhpcy5fY2hhbmdlZD0hMH1nZXRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZShlKTtyZXR1cm4gdCYmdC5nZXRTb3VyY2UoKX1fZ2V0U291cmNlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpe2NvbnN0IHI9dGhpcy5fZ2V0U291cmNlQ2FjaGUodCk7ciYmZS5wdXNoKHIuZ2V0U291cmNlKCkpfXJldHVybiBlfWFkZExheWVyKHQscixuPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9dC5pZDtpZih0aGlzLmdldExheWVyKGkpKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG1hcGApKSk7bGV0IG87aWYoXCJjdXN0b21cIj09PXQudHlwZSl7aWYoSHQodGhpcyxlLnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcih0KSkpcmV0dXJuO289ZS5jcmVhdGVTdHlsZUxheWVyKHQpfWVsc2V7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQuc291cmNlJiYodGhpcy5hZGRTb3VyY2UoaSx0LnNvdXJjZSksdD1lLmNsb25lJDEodCksdD1lLmV4dGVuZCh0LHtzb3VyY2U6aX0pKSx0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlTGF5ZXIsXCJsYXllcnMuXCIraSx0LHthcnJheUluZGV4Oi0xfSxuKSlyZXR1cm47bz1lLmNyZWF0ZVN0eWxlTGF5ZXIodCksdGhpcy5fdmFsaWRhdGVMYXllcihvKSxvLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOml9fSksdGhpcy5fc2VyaWFsaXplZExheWVyc1tvLmlkXT1vLnNlcmlhbGl6ZSgpLHRoaXMuX3VwZGF0ZUxheWVyQ291bnQobywhMCl9Y29uc3QgYT1yP3RoaXMuX29yZGVyLmluZGV4T2Yocik6dGhpcy5fb3JkZXIubGVuZ3RoO2lmKHImJi0xPT09YSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke3J9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTt0aGlzLl9vcmRlci5zcGxpY2UoYSwwLGkpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2xheWVyc1tpXT1vO2NvbnN0IHM9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShvKTtpZih0aGlzLl9yZW1vdmVkTGF5ZXJzW2ldJiZvLnNvdXJjZSYmcyYmXCJjdXN0b21cIiE9PW8udHlwZSl7Y29uc3QgZT10aGlzLl9yZW1vdmVkTGF5ZXJzW2ldO2RlbGV0ZSB0aGlzLl9yZW1vdmVkTGF5ZXJzW2ldLGUudHlwZSE9PW8udHlwZT90aGlzLl91cGRhdGVkU291cmNlc1tvLnNvdXJjZV09XCJjbGVhclwiOih0aGlzLl91cGRhdGVkU291cmNlc1tvLnNvdXJjZV09XCJyZWxvYWRcIixzLnBhdXNlKCkpfXRoaXMuX3VwZGF0ZUxheWVyKG8pLG8ub25BZGQmJm8ub25BZGQodGhpcy5tYXApLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKX1tb3ZlTGF5ZXIodCxyKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2NoYW5nZWQ9ITAsIXRoaXMuX2xheWVyc1t0XSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgbW92ZWQuYCkpKTtpZih0PT09cilyZXR1cm47Y29uc3Qgbj10aGlzLl9vcmRlci5pbmRleE9mKHQpO3RoaXMuX29yZGVyLnNwbGljZShuLDEpO2NvbnN0IGk9cj90aGlzLl9vcmRlci5pbmRleE9mKHIpOnRoaXMuX29yZGVyLmxlbmd0aDtyJiYtMT09PWk/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk6KHRoaXMuX29yZGVyLnNwbGljZShpLDAsdCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpKX1yZW1vdmVMYXllcih0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9dGhpcy5fbGF5ZXJzW3RdO2lmKCFyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLmApKSk7ci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuX3VwZGF0ZUxheWVyQ291bnQociwhMSk7Y29uc3Qgbj10aGlzLl9vcmRlci5pbmRleE9mKHQpO3RoaXMuX29yZGVyLnNwbGljZShuLDEpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcmVtb3ZlZExheWVyc1t0XT1yLGRlbGV0ZSB0aGlzLl9sYXllcnNbdF0sZGVsZXRlIHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbdF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRMYXllcnNbdF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW3RdLHIub25SZW1vdmUmJnIub25SZW1vdmUodGhpcy5tYXApLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKX1nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdfWhhc0xheWVyKGUpe3JldHVybiBlIGluIHRoaXMuX2xheWVyc31oYXNMYXllclR5cGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1t0XS50eXBlPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1zZXRMYXllclpvb21SYW5nZSh0LHIsbil7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXRoaXMuZ2V0TGF5ZXIodCk7aT9pLm1pbnpvb209PT1yJiZpLm1heHpvb209PT1ufHwobnVsbCE9ciYmKGkubWluem9vbT1yKSxudWxsIT1uJiYoaS5tYXh6b29tPW4pLHRoaXMuX3VwZGF0ZUxheWVyKGkpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgaGF2ZSB6b29tIGV4dGVudC5gKSkpfXNldEZpbHRlcihyLG4saT17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXRoaXMuZ2V0TGF5ZXIocik7aWYobyl7aWYoIXQoby5maWx0ZXIsbikpcmV0dXJuIG51bGw9PW4/KG8uZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKG8pKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsYGxheWVycy4ke28uaWR9LmZpbHRlcmAsbix7bGF5ZXJUeXBlOm8udHlwZX0saSl8fChvLmZpbHRlcj1lLmNsb25lJDEobiksdGhpcy5fdXBkYXRlTGF5ZXIobykpKX1lbHNlIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3J9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5gKSkpfWdldEZpbHRlcih0KXtjb25zdCByPXRoaXMuZ2V0TGF5ZXIodCk7cmV0dXJuIHImJmUuY2xvbmUkMShyLmZpbHRlcil9c2V0TGF5b3V0UHJvcGVydHkocixuLGksbz17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBhPXRoaXMuZ2V0TGF5ZXIocik7YT90KGEuZ2V0TGF5b3V0UHJvcGVydHkobiksaSl8fChhLnNldExheW91dFByb3BlcnR5KG4saSxvKSx0aGlzLl91cGRhdGVMYXllcihhKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7cn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpfWdldExheW91dFByb3BlcnR5KHQscil7Y29uc3Qgbj10aGlzLmdldExheWVyKHQpO2lmKG4pcmV0dXJuIG4uZ2V0TGF5b3V0UHJvcGVydHkocik7dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpfXNldFBhaW50UHJvcGVydHkocixuLGksbz17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBhPXRoaXMuZ2V0TGF5ZXIocik7YT90KGEuZ2V0UGFpbnRQcm9wZXJ0eShuKSxpKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShuLGksbykmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbcl09ITApOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3J9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKX1nZXRQYWludFByb3BlcnR5KGUsdCl7Y29uc3Qgcj10aGlzLmdldExheWVyKGUpO3JldHVybiByJiZyLmdldFBhaW50UHJvcGVydHkodCl9c2V0RmVhdHVyZVN0YXRlKHQscil7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXQuc291cmNlLGk9dC5zb3VyY2VMYXllcixvPXRoaXMuZ2V0U291cmNlKG4pO2lmKCFvKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtufScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7Y29uc3QgYT1vLnR5cGU7aWYoXCJnZW9qc29uXCI9PT1hJiZpKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci5cIikpKTtpZihcInZlY3RvclwiPT09YSYmIWkpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO3ZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpO2NvbnN0IHM9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKG4pO2Zvcihjb25zdCBlIG9mIHMpZS5zZXRGZWF0dXJlU3RhdGUoaSx0LmlkLHIpfXJlbW92ZUZlYXR1cmVTdGF0ZSh0LHIpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbj10LnNvdXJjZSxpPXRoaXMuZ2V0U291cmNlKG4pO2lmKCFpKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtufScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7Y29uc3Qgbz1pLnR5cGUsYT1cInZlY3RvclwiPT09bz90LnNvdXJjZUxheWVyOnZvaWQgMDtpZihcInZlY3RvclwiPT09byYmIWEpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO2lmKHImJlwic3RyaW5nXCIhPXR5cGVvZiB0LmlkJiZcIm51bWJlclwiIT10eXBlb2YgdC5pZClyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBIGZlYXR1cmUgaWQgaXMgcmVxdWlyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS5cIikpKTtjb25zdCBzPXRoaXMuX2dldFNvdXJjZUNhY2hlcyhuKTtmb3IoY29uc3QgZSBvZiBzKWUucmVtb3ZlRmVhdHVyZVN0YXRlKGEsdC5pZCxyKX1nZXRGZWF0dXJlU3RhdGUodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXQuc291cmNlLG49dC5zb3VyY2VMYXllcixpPXRoaXMuZ2V0U291cmNlKHIpO2lmKGkpe2lmKFwidmVjdG9yXCIhPT1pLnR5cGV8fG4pcmV0dXJuIHZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpLHRoaXMuX2dldFNvdXJjZUNhY2hlcyhyKVswXS5nZXRGZWF0dXJlU3RhdGUobix0LmlkKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSl9ZWxzZSB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2UgJyR7cn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpfWdldFRyYW5zaXRpb24oKXtyZXR1cm4gZS5leHRlbmQoe2R1cmF0aW9uOjMwMCxkZWxheTowfSx0aGlzLnN0eWxlc2hlZXQmJnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX1zZXJpYWxpemUoKXtjb25zdCB0PXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3Qgcj10aGlzLl9zb3VyY2VDYWNoZXNbZV0uZ2V0U291cmNlKCk7dFtyLmlkXXx8KHRbci5pZF09ci5zZXJpYWxpemUoKSl9cmV0dXJuIGUuZmlsdGVyT2JqZWN0KHt2ZXJzaW9uOnRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLG5hbWU6dGhpcy5zdHlsZXNoZWV0Lm5hbWUsbWV0YWRhdGE6dGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLGxpZ2h0OnRoaXMuc3R5bGVzaGVldC5saWdodCx0ZXJyYWluOnRoaXMuZ2V0VGVycmFpbigpfHx2b2lkIDAsZm9nOnRoaXMuc3R5bGVzaGVldC5mb2csY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHByb2plY3Rpb246dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sc291cmNlczp0LGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSxlPT52b2lkIDAhPT1lKX1fdXBkYXRlTGF5ZXIoZSl7dGhpcy5fdXBkYXRlZExheWVyc1tlLmlkXT0hMDtjb25zdCB0PXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUoZSk7ZS5zb3VyY2UmJiF0aGlzLl91cGRhdGVkU291cmNlc1tlLnNvdXJjZV0mJnQmJlwicmFzdGVyXCIhPT10LmdldFNvdXJjZSgpLnR5cGUmJih0aGlzLl91cGRhdGVkU291cmNlc1tlLnNvdXJjZV09XCJyZWxvYWRcIix0LnBhdXNlKCkpLHRoaXMuX2NoYW5nZWQ9ITAsZS5pbnZhbGlkYXRlQ29tcGlsZWRGaWx0ZXIoKX1fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKGUpe2NvbnN0IHQ9ZT0+XCJmaWxsLWV4dHJ1c2lvblwiPT09dGhpcy5fbGF5ZXJzW2VdLnR5cGUscj17fSxuPVtdO2ZvcihsZXQgaT10aGlzLl9vcmRlci5sZW5ndGgtMTtpPj0wO2ktLSl7Y29uc3Qgbz10aGlzLl9vcmRlcltpXTtpZih0KG8pKXtyW29dPWk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10W29dO2lmKGUpZm9yKGNvbnN0IHQgb2YgZSluLnB1c2godCl9fX1uLnNvcnQoKGUsdCk9PnQuaW50ZXJzZWN0aW9uWi1lLmludGVyc2VjdGlvblopO2NvbnN0IGk9W107Zm9yKGxldCBvPXRoaXMuX29yZGVyLmxlbmd0aC0xO28+PTA7by0tKXtjb25zdCBhPXRoaXMuX29yZGVyW29dO2lmKHQoYSkpZm9yKGxldCBlPW4ubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9bltlXS5mZWF0dXJlO2lmKHJbdC5sYXllci5pZF08bylicmVhaztpLnB1c2godCksbi5wb3AoKX1lbHNlIGZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dFthXTtpZihlKWZvcihjb25zdCB0IG9mIGUpaS5wdXNoKHQuZmVhdHVyZSl9fXJldHVybiBpfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LHIsbil7ciYmci5maWx0ZXImJnRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsXCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyXCIsci5maWx0ZXIsbnVsbCxyKTtjb25zdCBpPXt9O2lmKHImJnIubGF5ZXJzKXtpZighQXJyYXkuaXNBcnJheShyLmxheWVycykpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcInBhcmFtZXRlcnMubGF5ZXJzIG11c3QgYmUgYW4gQXJyYXkuXCIpKSksW107Zm9yKGNvbnN0IHQgb2Ygci5sYXllcnMpe2NvbnN0IHI9dGhpcy5fbGF5ZXJzW3RdO2lmKCFyKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuYCkpKSxbXTtpW3Iuc291cmNlXT0hMH19Y29uc3Qgbz1bXTtyLmF2YWlsYWJsZUltYWdlcz10aGlzLl9hdmFpbGFibGVJbWFnZXM7Y29uc3QgYT1yJiZyLmxheWVycz9yLmxheWVycy5zb21lKGU9Pntjb25zdCB0PXRoaXMuZ2V0TGF5ZXIoZSk7cmV0dXJuIHQmJnQuaXMzRCgpfSk6dGhpcy5oYXMzRExheWVycygpLHM9Ui5jcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsbik7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKS5pZDtyLmxheWVycyYmIWlbdF18fG8ucHVzaChSZSh0aGlzLl9zb3VyY2VDYWNoZXNbZV0sdGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMscyxyLG4sYSwhIXRoaXMubWFwLl9zaG93UXVlcnlHZW9tZXRyeSkpfXJldHVybiB0aGlzLnBsYWNlbWVudCYmby5wdXNoKGZ1bmN0aW9uKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9e30sbD1vLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKG4pLGM9W107Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMobCkubWFwKE51bWJlcikpYy5wdXNoKGFbZV0pO2Muc29ydChPZSk7Zm9yKGNvbnN0IHIgb2YgYyl7Y29uc3Qgbj1yLmZlYXR1cmVJbmRleC5sb29rdXBTeW1ib2xGZWF0dXJlcyhsW3IuYnVja2V0SW5zdGFuY2VJZF0sdCxyLmJ1Y2tldEluZGV4LHIuc291cmNlTGF5ZXJJbmRleCxpLmZpbHRlcixpLmxheWVycyxpLmF2YWlsYWJsZUltYWdlcyxlKTtmb3IoY29uc3QgZSBpbiBuKXtjb25zdCB0PXNbZV09c1tlXXx8W10saT1uW2VdO2kuc29ydCgoZSx0KT0+e2NvbnN0IG49ci5mZWF0dXJlU29ydE9yZGVyO2lmKG4pe2NvbnN0IHI9bi5pbmRleE9mKGUuZmVhdHVyZUluZGV4KTtyZXR1cm4gbi5pbmRleE9mKHQuZmVhdHVyZUluZGV4KS1yfXJldHVybiB0LmZlYXR1cmVJbmRleC1lLmZlYXR1cmVJbmRleH0pO2Zvcihjb25zdCBlIG9mIGkpdC5wdXNoKGUpfX1mb3IoY29uc3QgdCBpbiBzKXNbdF0uZm9yRWFjaChuPT57Y29uc3QgaT1uLmZlYXR1cmUsbz1yKGVbdF0pLmdldEZlYXR1cmVTdGF0ZShpLmxheWVyW1wic291cmNlLWxheWVyXCJdLGkuaWQpO2kuc291cmNlPWkubGF5ZXIuc291cmNlLGkubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0mJihpLnNvdXJjZUxheWVyPWkubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0pLGkuc3RhdGU9b30pO3JldHVybiBzfSh0aGlzLl9sYXllcnMsdGhpcy5fc2VyaWFsaXplZExheWVycyx0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcykscy5zY3JlZW5HZW9tZXRyeSxyLHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKSksdGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKG8pfXF1ZXJ5U291cmNlRmVhdHVyZXModCxyKXtyJiZyLmZpbHRlciYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZpbHRlcixcInF1ZXJ5U291cmNlRmVhdHVyZXMuZmlsdGVyXCIsci5maWx0ZXIsbnVsbCxyKTtjb25zdCBuPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtsZXQgaT1bXTtmb3IoY29uc3QgZSBvZiBuKWk9aS5jb25jYXQoTGUoZSxyKSk7cmV0dXJuIGl9YWRkU291cmNlVHlwZShlLHQscil7cmV0dXJuIGVyLmdldFNvdXJjZVR5cGUoZSk/cihuZXcgRXJyb3IoYEEgc291cmNlIHR5cGUgY2FsbGVkIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLmApKTooZXIuc2V0U291cmNlVHlwZShlLHQpLHQud29ya2VyU291cmNlVVJMP3ZvaWQgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImxvYWRXb3JrZXJTb3VyY2VcIix7bmFtZTplLHVybDp0LndvcmtlclNvdXJjZVVSTH0scik6cihudWxsLG51bGwpKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9c2V0TGlnaHQoZSxyPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG49dGhpcy5saWdodC5nZXRMaWdodCgpO2xldCBpPSExO2Zvcihjb25zdCByIGluIGUpaWYoIXQoZVtyXSxuW3JdKSl7aT0hMDticmVha31pZighaSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MzAwLGRlbGF5OjB9KTt0aGlzLmxpZ2h0LnNldExpZ2h0KGUsciksdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhvKX1nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMudGVycmFpbiYmMT09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGU/dGhpcy50ZXJyYWluLmdldCgpOm51bGx9c2V0VGVycmFpbkZvckRyYXBpbmcoKXt0aGlzLnNldFRlcnJhaW4oe3NvdXJjZTpcIlwiLGV4YWdnZXJhdGlvbjowfSwwKX1zZXRUZXJyYWluKHIsbj0xKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFyKXJldHVybiBkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbix0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiZW5hYmxlVGVycmFpblwiLCExKSx0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKSx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtpZigxPT09bil7aWYoXCJvYmplY3RcIj09dHlwZW9mIHIuc291cmNlKXtjb25zdCB0PVwidGVycmFpbi1kZW0tc3JjXCI7dGhpcy5hZGRTb3VyY2UodCxyLnNvdXJjZSkscj1lLmNsb25lJDEocikscj1lLmV4dGVuZChyLHtzb3VyY2U6dH0pfWlmKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVUZXJyYWluLFwidGVycmFpblwiLHIpKXJldHVybn1pZighdGhpcy50ZXJyYWlufHx0aGlzLnRlcnJhaW4mJm4hPT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlKXRoaXMuX2NyZWF0ZVRlcnJhaW4ocixuKTtlbHNle2NvbnN0IG49dGhpcy50ZXJyYWluLGk9bi5nZXQoKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhlLnNwZWMudGVycmFpbikpIXIuaGFzT3duUHJvcGVydHkodCkmJmUuc3BlYy50ZXJyYWluW3RdLmRlZmF1bHQmJihyW3RdPWUuc3BlYy50ZXJyYWluW3RdLmRlZmF1bHQpO2Zvcihjb25zdCBlIGluIHIpaWYoIXQocltlXSxpW2VdKSl7bi5zZXQociksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49cjtjb25zdCBlPXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7bi51cGRhdGVUcmFuc2l0aW9ucyhlKTticmVha319dGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwfV9jcmVhdGVGb2coZSl7Y29uc3QgdD10aGlzLmZvZz1uZXcgUChlLHRoaXMubWFwLnRyYW5zZm9ybSk7dGhpcy5zdHlsZXNoZWV0LmZvZz1lO2NvbnN0IHI9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTt0LnVwZGF0ZVRyYW5zaXRpb25zKHIpfV91cGRhdGVNYXJrZXJzT3BhY2l0eSgpezAhPT10aGlzLm1hcC5fbWFya2Vycy5sZW5ndGgmJnRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKT0+e2Zvcihjb25zdCBlIG9mIHRoaXMubWFwLl9tYXJrZXJzKWUuX2V2YWx1YXRlT3BhY2l0eSgpfSl9Z2V0Rm9nKCl7cmV0dXJuIHRoaXMuZm9nP3RoaXMuZm9nLmdldCgpOm51bGx9c2V0Rm9nKGUpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIWUpcmV0dXJuIGRlbGV0ZSB0aGlzLmZvZyxkZWxldGUgdGhpcy5zdHlsZXNoZWV0LmZvZyx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtpZih0aGlzLmZvZyl7Y29uc3Qgcj10aGlzLmZvZyxuPXIuZ2V0KCk7MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmci5zZXQoZSk7Zm9yKGNvbnN0IGkgaW4gZSlpZighdChlW2ldLG5baV0pKXtyLnNldChlKSx0aGlzLnN0eWxlc2hlZXQuZm9nPWU7Y29uc3QgdD10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3IudXBkYXRlVHJhbnNpdGlvbnModCk7YnJlYWt9fWVsc2UgdGhpcy5fY3JlYXRlRm9nKGUpO3RoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwfV9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh0KXtyZXR1cm57bm93OmUuZXhwb3J0ZWQubm93KCksdHJhbnNpdGlvbjplLmV4dGVuZCh0LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX19X3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKXtpZighdGhpcy5tYXAuX29wdGltaXplRm9yVGVycmFpbnx8IXRoaXMudGVycmFpbilyZXR1cm47Y29uc3QgZT10aGlzLl9vcmRlci5maWx0ZXIoZT0+dGhpcy5pc0xheWVyRHJhcGVkKHRoaXMuX2xheWVyc1tlXSkpLHQ9dGhpcy5fb3JkZXIuZmlsdGVyKGU9PiF0aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2VdKSk7dGhpcy5fZHJhcGVkRmlyc3RPcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4uZSksdGhpcy5fZHJhcGVkRmlyc3RPcmRlci5wdXNoKC4uLnQpfV9jcmVhdGVUZXJyYWluKGUsdCl7Y29uc3Qgcj10aGlzLnRlcnJhaW49bmV3IEMoZSx0KTt0aGlzLnN0eWxlc2hlZXQudGVycmFpbj1lLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJlbmFibGVUZXJyYWluXCIsIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkpLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpO2NvbnN0IG49dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtyLnVwZGF0ZVRyYW5zaXRpb25zKG4pfV9mb3JjZTNETGF5ZXJVcGRhdGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wiZmlsbC1leHRydXNpb25cIj09PXQudHlwZSYmdGhpcy5fdXBkYXRlTGF5ZXIodCl9fV9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcInN5bWJvbFwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KX19X3ZhbGlkYXRlKHQscixuLGksbz17fSl7cmV0dXJuKCFvfHwhMSE9PW8udmFsaWRhdGUpJiZIdCh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe2tleTpyLHN0eWxlOnRoaXMuc2VyaWFsaXplKCksdmFsdWU6bixzdHlsZVNwZWM6ZS5zcGVjfSxpKSkpfV9yZW1vdmUoKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksZS5ldmVudGVkLm9mZihcInBsdWdpblN0YXRlQ2hhbmdlXCIsdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzW2VdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5jbGVhclRpbGVzKCksdGhpcy5fc291cmNlQ2FjaGVzW2VdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpfV9jbGVhclNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dldFNvdXJjZUNhY2hlcyhlKTtmb3IoY29uc3QgZSBvZiB0KWUuY2xlYXJUaWxlcygpfV9yZWxvYWRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLnJlc3VtZSgpLGUucmVsb2FkKCl9X3JlbG9hZFNvdXJjZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9nZXRTb3VyY2VzKCkpZS5yZWxvYWQmJmUucmVsb2FkKCl9X3VwZGF0ZVNvdXJjZXMoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS51cGRhdGUoZSl9X2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdO3QucmVzdW1lKCksdC5yZWxvYWQoKX19X3VwZGF0ZVBsYWNlbWVudCh0LHIsbixpLG89ITEpe2xldCBhPSExLHM9ITE7Y29uc3QgbD17fTtmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3Qgcj10aGlzLl9sYXllcnNbZV07aWYoXCJzeW1ib2xcIiE9PXIudHlwZSljb250aW51ZTtpZighbFtyLnNvdXJjZV0pe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShyKTtpZighZSljb250aW51ZTtsW3Iuc291cmNlXT1lLmdldFJlbmRlcmFibGVJZHMoITApLm1hcCh0PT5lLmdldFRpbGVCeUlEKHQpKS5zb3J0KChlLHQpPT50LnRpbGVJRC5vdmVyc2NhbGVkWi1lLnRpbGVJRC5vdmVyc2NhbGVkWnx8KGUudGlsZUlELmlzTGVzc1RoYW4odC50aWxlSUQpPy0xOjEpKX1jb25zdCBuPXRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXguYWRkTGF5ZXIocixsW3Iuc291cmNlXSx0LmNlbnRlci5sbmcsdC5wcm9qZWN0aW9uKTthPWF8fG59aWYodGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlciksbz1vfHx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZHx8MD09PW4sdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm5ld29yZGVyXCIpKSwob3x8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGUuZXhwb3J0ZWQubm93KCksdC56b29tKSkmJih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudD1uZXcgR3QodCx0aGlzLl9vcmRlcixvLHIsbixpLHRoaXMucGxhY2VtZW50LHRoaXMuZm9nJiZ0LnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dGhpcy5mb2cuc3RhdGU6bnVsbCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITEpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpP3RoaXMucGxhY2VtZW50LnNldFN0YWxlKCk6KHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbnRpbnVlUGxhY2VtZW50KHRoaXMuX29yZGVyLHRoaXMuX2xheWVycyxsKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmKHRoaXMucGxhY2VtZW50PXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbW1pdChlLmV4cG9ydGVkLm5vdygpKSxzPSEwKSxhJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8YSlmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXModCxsW3Quc291cmNlXSl9cmV0dXJuIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpfHx0aGlzLnBsYWNlbWVudC5oYXNUcmFuc2l0aW9ucyhlLmV4cG9ydGVkLm5vdygpKX1fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbZV0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpfWdldEltYWdlcyhlLHQscil7dGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2VzKHQuaWNvbnMsciksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCk7Y29uc3Qgbj1lPT57ZSYmZS5zZXREZXBlbmRlbmNpZXModC50aWxlSUQua2V5LHQudHlwZSx0Lmljb25zKX07bih0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pLG4odGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3Quc291cmNlXSl9Z2V0R2x5cGhzKGUsdCxyKXt0aGlzLmdseXBoTWFuYWdlci5nZXRHbHlwaHModC5zdGFja3Mscil9Z2V0UmVzb3VyY2UodCxyLG4pe3JldHVybiBlLm1ha2VSZXF1ZXN0KHIsbil9X2dldFNvdXJjZUNhY2hlKGUpe3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXX1fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKXtyZXR1cm5cInN5bWJvbFwiPT09ZS50eXBlP3RoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlLnNvdXJjZV06dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZS5zb3VyY2VdfV9nZXRTb3VyY2VDYWNoZXMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXSksdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2VdJiZ0LnB1c2godGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2VdKSx0fV9pc1NvdXJjZUNhY2hlTG9hZGVkKHQpe2NvbnN0IHI9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKHQpO3JldHVybiAwPT09ci5sZW5ndGg/KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7dH0nYCkpKSwhMSk6ci5ldmVyeShlPT5lLmxvYWRlZCgpKX1oYXMzRExheWVycygpe3JldHVybiB0aGlzLl9udW0zRExheWVycz4wfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9udW1TeW1ib2xMYXllcnM+MH1oYXNDaXJjbGVMYXllcnMoKXtyZXR1cm4gdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPjB9X2NsZWFyV29ya2VyQ2FjaGVzKCl7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImNsZWFyQ2FjaGVzXCIpfWRlc3Ryb3koKXt0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpLHRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJihkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbil9fWVyLmdldFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFBlW2VdfSxlci5zZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKGUsdCl7UGVbZV09dH0sZXIucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1lLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U7dmFyIHRyPVwiXFxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDAwMVxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcXG4jZGVmaW5lIEVYVEVOVCA4MTkyLjBcXG4jZGVmaW5lIEhBTEZfUEkgUEkvMi4wXFxuI2RlZmluZSBRVUFSVEVSX1BJIFBJLzQuMFxcbiNkZWZpbmUgUkFEX1RPX0RFRyAxODAuMC9QSVxcbiNkZWZpbmUgREVHX1RPX1JBRCBQSS8xODAuMFxcbiNkZWZpbmUgR0xPQkVfUkFESVVTIEVYVEVOVC9QSS8yLjBcIixycj1cImF0dHJpYnV0ZSBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbG93cCBtYXQ0IHVfbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3ZvaWQgbWFpbigpIHtjb25zdCBtYXQzIGhhbGZfbmVnX3BpX2Fyb3VuZF94PW1hdDMoMS4wLDAuMCwgMC4wLDAuMCwwLjAsLTEuMCwwLjAsMS4wLCAwLjApO3ZfdXY9aGFsZl9uZWdfcGlfYXJvdW5kX3gqYV9wb3NfM2Y7dmVjNCBwb3M9dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO2dsX1Bvc2l0aW9uPXBvcy54eXd3O31cIixucj1cIlxcbiNkZWZpbmUgRUxFVkFUSU9OX1NDQUxFIDcuMFxcbiNkZWZpbmUgRUxFVkFUSU9OX09GRlNFVCA0NTAuMFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX3RsX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfdHJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9icl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JsX3VwO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VwX3NjYWxlO3ZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7dmVjMiB1dj1wb3MvRVhURU5UO3ZlYzMgdXA9bm9ybWFsaXplKG1peChcXG5taXgodV90aWxlX3RsX3VwLHVfdGlsZV90cl91cCx1di54eHgpLG1peCh1X3RpbGVfYmxfdXAsdV90aWxlX2JyX3VwLHV2Lnh4eCksdXYueXl5KSk7cmV0dXJuIHVwKnVfdGlsZV91cF9zY2FsZTt9XFxuI2Vsc2VcXG52ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykgeyByZXR1cm4gdmVjMygwLDAsMSk7IH1cXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG51bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbTt1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbV9wcmV2O1xcbiNlbHNlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBzYW1wbGVyMkQgdV9kZW1fcHJldjtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzQgdV9kZW1fdW5wYWNrO3VuaWZvcm0gdmVjMiB1X2RlbV90bDt1bmlmb3JtIHZlYzIgdV9kZW1fdGxfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9kZW1fc2NhbGVfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NpemU7dW5pZm9ybSBmbG9hdCB1X2RlbV9sZXJwO3VuaWZvcm0gZmxvYXQgdV9leGFnZ2VyYXRpb247dW5pZm9ybSBmbG9hdCB1X21ldGVyX3RvX2RlbTt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52O3VuaWZvcm0gc2FtcGxlcjJEIHVfZGVwdGg7dW5pZm9ybSB2ZWMyIHVfZGVwdGhfc2l6ZV9pbnY7dmVjNCB0aWxlVXZUb0RlbVNhbXBsZSh2ZWMyIHV2LGZsb2F0IGRlbV9zaXplLGZsb2F0IGRlbV9zY2FsZSx2ZWMyIGRlbV90bCkge3ZlYzIgcG9zPWRlbV9zaXplKih1dipkZW1fc2NhbGUrZGVtX3RsKSsxLjA7dmVjMiBmPWZyYWN0KHBvcyk7cmV0dXJuIHZlYzQoKHBvcy1mKzAuNSkvKGRlbV9zaXplKzIuMCksZik7fWZsb2F0IGRlY29kZUVsZXZhdGlvbih2ZWM0IHYpIHtyZXR1cm4gZG90KHZlYzQodi54eXoqMjU1LjAsLTEuMCksdV9kZW1fdW5wYWNrKTt9ZmxvYXQgY3VycmVudEVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlK3VfZGVtX3RsKSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUyRCh1X2RlbSxwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZSx1X2RlbV90bCk7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcykpO1xcbiNpZmRlZiBURVJSQUlOX0RFTV9ORUFSRVNUX0ZJTFRFUlxcbnJldHVybiB1X2V4YWdnZXJhdGlvbip0bDtcXG4jZW5kaWZcXG5mbG9hdCB0cj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLDAuMCkpKTtmbG9hdCBibD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLGRkKSkpO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59ZmxvYXQgcHJldkVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlX3ByZXYrdV9kZW1fdGxfcHJldikrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZV9wcmV2LHVfZGVtX3RsX3ByZXYpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcykpO2Zsb2F0IHRyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMihkZCwwLjApKSk7ZmxvYXQgYmw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsZGQpKSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1cXG4jaWZkZWYgVEVSUkFJTl9WRVJURVhfTU9SUEhJTkdcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7ZmxvYXQgbmV4dEVsZXZhdGlvbj1jdXJyZW50RWxldmF0aW9uKGFwb3MpO2Zsb2F0IHByZXZFbGV2YXRpb249cHJldkVsZXZhdGlvbihhcG9zKTtyZXR1cm4gbWl4KHByZXZFbGV2YXRpb24sbmV4dEVsZXZhdGlvbix1X2RlbV9sZXJwKTt9XFxuI2Vsc2VcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7cmV0dXJuIGN1cnJlbnRFbGV2YXRpb24oYXBvcyk7fVxcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IHVucGFja19kZXB0aChoaWdocCB2ZWM0IHJnYmFfZGVwdGgpXFxue2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7cmV0dXJuIGRvdChyZ2JhX2RlcHRoLGJpdF9zaGlmdCkqMi4wLTEuMDt9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykge3ZlYzMgY29vcmQ9ZnJhZy54eXovZnJhZy53O2Zsb2F0IGRlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCwoY29vcmQueHkrMS4wKSowLjUpKTtyZXR1cm4gY29vcmQueiA+IGRlcHRoKzAuMDAwNTt9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudzt2ZWMzIGRmPXZlYzMoNS4wKnVfZGVwdGhfc2l6ZV9pbnYsMC4wKTt2ZWMyIHV2PTAuNSpjb29yZC54eSswLjU7dmVjNCBkZXB0aD12ZWM0KFxcbnVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi56eSkpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi56eSkpXFxuKTtyZXR1cm4gZG90KHZlYzQoMC4yNSksdmVjNCgxLjApLWNsYW1wKDMwMC4wKih2ZWM0KGNvb3JkLnotMC4wMDEpLWRlcHRoKSwwLjAsMS4wKSk7fXZlYzQgZm91clNhbXBsZSh2ZWMyIHBvcyx2ZWMyIG9mZikge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5mbG9hdCB0bD10ZXh0dXJlMkQodV9kZW0scG9zKS5hO2Zsb2F0IHRyPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS5hO2Zsb2F0IGJsPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS5hO2Zsb2F0IGJyPXRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS5hO1xcbiNlbHNlXFxudmVjNCBkZW10bD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0bD1kb3QoZGVtdGwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbXRyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKG9mZi54LDAuMCkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0cj1kb3QoZGVtdHIsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJsPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxvZmYueSkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBibD1kb3QoZGVtYmwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcytvZmYpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBicj1kb3QoZGVtYnIsdV9kZW1fdW5wYWNrKTtcXG4jZW5kaWZcXG5yZXR1cm4gdmVjNCh0bCx0cixibCxicik7fWZsb2F0IGZsYXRFbGV2YXRpb24odmVjMiBwYWNrKSB7dmVjMiBhcG9zPWZsb29yKHBhY2svOC4wKTt2ZWMyIHNwYW49MTAuMCoocGFjay1hcG9zKjguMCk7dmVjMiB1dlRleD0oYXBvcy12ZWMyKDEuMCwxLjApKS84MTkwLjA7ZmxvYXQgc2l6ZT11X2RlbV9zaXplKzIuMDtmbG9hdCBkZD0xLjAvc2l6ZTt2ZWMyIHBvcz11X2RlbV9zaXplKih1dlRleCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3Bvcz0ocG9zLWYrMC41KSpkZDt2ZWM0IGg9Zm91clNhbXBsZShwb3MsdmVjMihkZCkpO2Zsb2F0IHo9bWl4KG1peChoLngsaC55LGYueCksbWl4KGgueixoLncsZi54KSxmLnkpO3ZlYzIgdz1mbG9vcigwLjUqKHNwYW4qdV9tZXRlcl90b19kZW0tMS4wKSk7dmVjMiBkPWRkKnc7dmVjNCBib3VuZHM9dmVjNChkLHZlYzIoMS4wKS1kKTtoPWZvdXJTYW1wbGUocG9zLWQsMi4wKmQrdmVjMihkZCkpO3ZlYzQgZGlmZj1hYnMoaC54enh5LWgueXd6dyk7dmVjMiBzbG9wZT1taW4odmVjMigwLjI1KSx1X21ldGVyX3RvX2RlbSowLjUqKGRpZmYueHorZGlmZi55dykvKDIuMCp3K3ZlYzIoMS4wKSkpO3ZlYzIgZml4PXNsb3BlKnNwYW47ZmxvYXQgYmFzZT16K21heChmaXgueCxmaXgueSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKmJhc2U7fWZsb2F0IGVsZXZhdGlvbkZyb21VaW50MTYoZmxvYXQgd29yZCkge3JldHVybiB1X2V4YWdnZXJhdGlvbiood29yZC9FTEVWQVRJT05fU0NBTEUtRUxFVkFUSU9OX09GRlNFVCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgcG9zKSB7IHJldHVybiAwLjA7IH1ib29sIGlzT2NjbHVkZWQodmVjNCBmcmFnKSB7IHJldHVybiBmYWxzZTsgfWZsb2F0IG9jY2x1c2lvbkZhZGUodmVjNCBmcmFnKSB7IHJldHVybiAxLjA7IH1cXG4jZW5kaWZcIixpcj1cIiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgbWF0NCB1X2ZvZ19tYXRyaXg7dmFyeWluZyB2ZWMzIHZfZm9nX3BvcztmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO312ZWMzIGZvZ19wb3NpdGlvbih2ZWMzIHBvcykge3JldHVybiAodV9mb2dfbWF0cml4KnZlYzQocG9zLDEuMCkpLnh5ejt9dmVjMyBmb2dfcG9zaXRpb24odmVjMiBwb3MpIHtyZXR1cm4gZm9nX3Bvc2l0aW9uKHZlYzMocG9zLDAuMCkpO31mbG9hdCBmb2codmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtmbG9hdCBvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO3JldHVybiBvcGFjaXR5KmZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fVxcbiNlbmRpZlwiLG9yPVwiI2lmZGVmIEZPR1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfZm9nX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ19ob3Jpem9uX2JsZW5kO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7dmFyeWluZyB2ZWMzIHZfZm9nX3Bvczt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2dsb2JlX3Bvczt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2xvYmVfcmFkaXVzO3VuaWZvcm0gaGlnaHAgdmVjMiB1X3ZpZXdwb3J0O3VuaWZvcm0gZmxvYXQgdV9nbG9iZV90cmFuc2l0aW9uO3VuaWZvcm0gaW50IHVfaXNfZ2xvYmU7ZmxvYXQgZm9nX3JhbmdlKGZsb2F0IGRlcHRoKSB7cmV0dXJuIChkZXB0aC11X2ZvZ19yYW5nZVswXSkvKHVfZm9nX3JhbmdlWzFdLXVfZm9nX3JhbmdlWzBdKTt9ZmxvYXQgZm9nX2hvcml6b25fYmxlbmRpbmcodmVjMyBjYW1lcmFfZGlyKSB7ZmxvYXQgdD1tYXgoMC4wLGNhbWVyYV9kaXIuei91X2ZvZ19ob3Jpem9uX2JsZW5kKTtyZXR1cm4gdV9mb2dfY29sb3IuYSpleHAoLTMuMCp0KnQpO31mbG9hdCBmb2dfb3BhY2l0eShmbG9hdCB0KSB7Y29uc3QgZmxvYXQgZGVjYXk9Ni4wO2Zsb2F0IGZhbGxvZmY9MS4wLW1pbigxLjAsZXhwKC1kZWNheSp0KSk7ZmFsbG9mZio9ZmFsbG9mZipmYWxsb2ZmO3JldHVybiB1X2ZvZ19jb2xvci5hKm1pbigxLjAsMS4wMDc0NypmYWxsb2ZmKTt9ZmxvYXQgZ2xvYmVfZ2xvd19wcm9ncmVzcygpIHtoaWdocCB2ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO2hpZ2hwIHZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTtoaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2hpZ2hwIGZsb2F0IHNkZj1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7cmV0dXJuIHNkZitQSSowLjU7fWZsb2F0IGZvZ19vcGFjaXR5KHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7cmV0dXJuIGZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO312ZWMzIGZvZ19hcHBseSh2ZWMzIGNvbG9yLHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7ZmxvYXQgb3BhY2l0eTtpZiAodV9pc19nbG9iZT09MSkge2Zsb2F0IGdsb3dfcHJvZ3Jlc3M9Z2xvYmVfZ2xvd19wcm9ncmVzcygpO2Zsb2F0IHQ9bWl4KGdsb3dfcHJvZ3Jlc3MsZGVwdGgsdV9nbG9iZV90cmFuc2l0aW9uKTtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZSh0KSk7fSBlbHNlIHtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO29wYWNpdHkqPWZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fXJldHVybiBtaXgoY29sb3IsdV9mb2dfY29sb3IucmdiLG9wYWNpdHkpO312ZWM0IGZvZ19hcHBseV9mcm9tX3ZlcnQodmVjNCBjb2xvcixmbG9hdCBmb2dfb3BhYykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9bWl4KGNvbG9yLnJnYi9hbHBoYSx1X2ZvZ19jb2xvci5yZ2IsZm9nX29wYWMpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZlYzMgY2FtZXJhX3JheSx2ZWMzIHNreV9jb2xvcikge2Zsb2F0IGhvcml6b25fYmxlbmQ9Zm9nX2hvcml6b25fYmxlbmRpbmcobm9ybWFsaXplKGNhbWVyYV9yYXkpKTtyZXR1cm4gbWl4KHNreV9jb2xvcix1X2ZvZ19jb2xvci5yZ2IsaG9yaXpvbl9ibGVuZCk7fXZlYzQgZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQodmVjNCBjb2xvcix2ZWMzIHBvcykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9Zm9nX2FwcGx5KGNvbG9yLnJnYi9hbHBoYSxwb3MpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfZGl0aGVyKHZlYzMgY29sb3IpIHt2ZWMyIGRpdGhlcl9zZWVkPWdsX0ZyYWdDb29yZC54eSt1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7cmV0dXJuIGRpdGhlcihjb2xvcixkaXRoZXJfc2VlZCk7fXZlYzQgZm9nX2RpdGhlcih2ZWM0IGNvbG9yKSB7cmV0dXJuIHZlYzQoZm9nX2RpdGhlcihjb2xvci5yZ2IpLGNvbG9yLmEpO31cXG4jZW5kaWZcIjtsZXQgYXI9e30sc3I9e307Y29uc3QgbHI9W107cHIodHIsbHIpLHByKG5yLGxyKSxwcihpcixscikscHIob3IsbHIpLGFyPWZyKFwiXCIsbnIpLHNyPWZyKG9yLGlyKTtjb25zdCBjcj1mcihcIlxcbmhpZ2hwIHZlYzMgaGFzaChoaWdocCB2ZWMyIHApIHtoaWdocCB2ZWMzIHAzPWZyYWN0KHAueHl4KnZlYzMoNDQzLjg5NzUsMzk3LjI5NzMsNDkxLjE4NzEpKTtwMys9ZG90KHAzLHAzLnl4eisxOS4xOSk7cmV0dXJuIGZyYWN0KChwMy54eHkrcDMueXp6KSpwMy56eXgpO312ZWMzIGRpdGhlcih2ZWMzIGNvbG9yLGhpZ2hwIHZlYzIgc2VlZCkge3ZlYzMgcm5kPWhhc2goc2VlZCkraGFzaChzZWVkKzAuNTkzNzQpLTAuNTtyZXR1cm4gY29sb3Ircm5kLzI1NS4wO31oaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWhpZ2hwIHZlYzQgcGFja19kZXB0aChoaWdocCBmbG9hdCBuZGNfeikge2hpZ2hwIGZsb2F0IGRlcHRoPW5kY196KjAuNSswLjU7Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgyNTUuMCoyNTUuMCoyNTUuMCwyNTUuMCoyNTUuMCwyNTUuMCwxLjApO2NvbnN0IGhpZ2hwIHZlYzQgYml0X21hc2sgPXZlYzQoMC4wLDEuMC8yNTUuMCwxLjAvMjU1LjAsMS4wLzI1NS4wKTtoaWdocCB2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpO3Jlcy09cmVzLnh4eXoqYml0X21hc2s7cmV0dXJuIHJlczt9XCIsXCJcXG5mbG9hdCB3cmFwKGZsb2F0IG4sZmxvYXQgbWluLGZsb2F0IG1heCkge2Zsb2F0IGQ9bWF4LW1pbjtmbG9hdCB3PW1vZChtb2Qobi1taW4sZCkrZCxkKSttaW47cmV0dXJuICh3PT1taW4pID8gbWF4IDogdzt9XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgbWVyY2F0b3JfdGlsZV9wb3NpdGlvbihtYXQ0IG1hdHJpeCx2ZWMyIHRpbGVfYW5jaG9yLHZlYzMgdGlsZV9pZCx2ZWMyIG1lcmNhdG9yX2NlbnRlcikge1xcbiNpZm5kZWYgUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFxcbmZsb2F0IHRpbGVzPXRpbGVfaWQuejt2ZWMyIG1lcmNhdG9yPSh0aWxlX2FuY2hvci9FWFRFTlQrdGlsZV9pZC54eSkvdGlsZXM7bWVyY2F0b3ItPW1lcmNhdG9yX2NlbnRlcjttZXJjYXRvci54PXdyYXAobWVyY2F0b3IueCwtMC41LDAuNSk7dmVjNCBtZXJjYXRvcl90aWxlPXZlYzQobWVyY2F0b3IueHkqRVhURU5ULEVYVEVOVC8oMi4wKlBJKSwxLjApO21lcmNhdG9yX3RpbGU9bWF0cml4Km1lcmNhdG9yX3RpbGU7cmV0dXJuIG1lcmNhdG9yX3RpbGUueHl6O1xcbiNlbHNlXFxucmV0dXJuIHZlYzMoMC4wKTtcXG4jZW5kaWZcXG59dmVjMyBtaXhfZ2xvYmVfbWVyY2F0b3IodmVjMyBnbG9iZSx2ZWMzIG1lcmNhdG9yLGZsb2F0IHQpIHtyZXR1cm4gbWl4KGdsb2JlLG1lcmNhdG9yLHQpO31tYXQzIGdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyh2ZWMzIHBvc19ub3JtYWwsdmVjMyB1cF9kaXIsZmxvYXQgem9vbV90cmFuc2l0aW9uKSB7dmVjMyBub3JtYWw9em9vbV90cmFuc2l0aW9uPT0wLjAgPyBwb3Nfbm9ybWFsIDogbm9ybWFsaXplKG1peChwb3Nfbm9ybWFsLHVwX2Rpcix6b29tX3RyYW5zaXRpb24pKTt2ZWMzIHhBeGlzPW5vcm1hbGl6ZSh2ZWMzKG5vcm1hbC56LDAuMCwtbm9ybWFsLngpKTt2ZWMzIHlBeGlzPW5vcm1hbGl6ZShjcm9zcyhub3JtYWwseEF4aXMpKTtyZXR1cm4gbWF0Myh4QXhpcyx5QXhpcyxub3JtYWwpO31cXG4jZW5kaWZcXG52ZWMyIHVucGFja19mbG9hdChjb25zdCBmbG9hdCBwYWNrZWRWYWx1ZSkge2ludCBwYWNrZWRJbnRWYWx1ZT1pbnQocGFja2VkVmFsdWUpO2ludCB2MD1wYWNrZWRJbnRWYWx1ZS8yNTY7cmV0dXJuIHZlYzIodjAscGFja2VkSW50VmFsdWUtdjAqMjU2KTt9dmVjMiB1bnBhY2tfb3BhY2l0eShjb25zdCBmbG9hdCBwYWNrZWRPcGFjaXR5KSB7aW50IGludE9wYWNpdHk9aW50KHBhY2tlZE9wYWNpdHkpLzI7cmV0dXJuIHZlYzIoZmxvYXQoaW50T3BhY2l0eSkvMTI3LjAsbW9kKHBhY2tlZE9wYWNpdHksMi4wKSk7fXZlYzQgZGVjb2RlX2NvbG9yKGNvbnN0IHZlYzIgZW5jb2RlZENvbG9yKSB7cmV0dXJuIHZlYzQoXFxudW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclswXSkvMjU1LjAsdW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclsxXSkvMjU1LjBcXG4pO31mbG9hdCB1bnBhY2tfbWl4X3ZlYzIoY29uc3QgdmVjMiBwYWNrZWRWYWx1ZSxjb25zdCBmbG9hdCB0KSB7cmV0dXJuIG1peChwYWNrZWRWYWx1ZVswXSxwYWNrZWRWYWx1ZVsxXSx0KTt9dmVjNCB1bnBhY2tfbWl4X2NvbG9yKGNvbnN0IHZlYzQgcGFja2VkQ29sb3JzLGNvbnN0IGZsb2F0IHQpIHt2ZWM0IG1pbkNvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1swXSxwYWNrZWRDb2xvcnNbMV0pKTt2ZWM0IG1heENvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1syXSxwYWNrZWRDb2xvcnNbM10pKTtyZXR1cm4gbWl4KG1pbkNvbG9yLG1heENvbG9yLHQpO312ZWMyIGdldF9wYXR0ZXJuX3Bvcyhjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX3VwcGVyLGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfbG93ZXIsY29uc3QgdmVjMiBwYXR0ZXJuX3NpemUsY29uc3QgZmxvYXQgdGlsZV91bml0c190b19waXhlbHMsY29uc3QgdmVjMiBwb3MpIHt2ZWMyIG9mZnNldD1tb2QobW9kKG1vZChwaXhlbF9jb29yZF91cHBlcixwYXR0ZXJuX3NpemUpKjI1Ni4wLHBhdHRlcm5fc2l6ZSkqMjU2LjArcGl4ZWxfY29vcmRfbG93ZXIscGF0dGVybl9zaXplKTtyZXR1cm4gKHRpbGVfdW5pdHNfdG9fcGl4ZWxzKnBvcytvZmZzZXQpL3BhdHRlcm5fc2l6ZTt9Y29uc3QgdmVjNCBBV0FZPXZlYzQoLTEwMDAuMCwtMTAwMC4wLC0xMDAwLjAsMSk7Ly9Ob3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIHRoYXQgaXMgbm90IHJlbmRlcmVkLlwiKSx1cj10cixocj1cIlxcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbHNlXFxuXFxuI2lmICFkZWZpbmVkKGxvd3ApXFxuI2RlZmluZSBsb3dwXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKG1lZGl1bXApXFxuI2RlZmluZSBtZWRpdW1wXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKGhpZ2hwKVxcbiNkZWZpbmUgaGlnaHBcXG4jZW5kaWZcXG5cXG4jZW5kaWZcIjt2YXIgZHI9e2JhY2tncm91bmQ6ZnIoXCJ1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2b2lkIG1haW4oKSB7dmVjNCBvdXRfY29sb3I9dV9jb2xvcjtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGJhY2tncm91bmRQYXR0ZXJuOmZyKFwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHVfcGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peCh1X3BhdHRlcm5fdGxfYi91X3RleHNpemUsdV9wYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9taXgpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3NjYWxlX2EqdV9wYXR0ZXJuX3NpemVfYSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9iKnVfcGF0dGVybl9zaXplX2IsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksY2lyY2xlOmZyKFwidmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZfZGF0YS54eTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgoZXh0cnVkZSk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPXZfZGF0YS56O2Zsb2F0IGFudGlhbGlhc2VkX2JsdXI9LW1heChibHVyLGFudGlhbGlhc2JsdXIpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNlZF9ibHVyLGV4dHJ1ZGVfbGVuZ3RoLTEuMCk7ZmxvYXQgY29sb3JfdD1zdHJva2Vfd2lkdGggPCAwLjAxID8gMC4wIDogc21vb3Roc3RlcChcXG5hbnRpYWxpYXNlZF9ibHVyLDAuMCxleHRydWRlX2xlbmd0aC1yYWRpdXMvKHJhZGl1cytzdHJva2Vfd2lkdGgpXFxuKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKih2X3Zpc2liaWxpdHkqb3BhY2l0eV90KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCIjZGVmaW5lIE5VTV9WSVNJQklMSVRZX1JJTkdTIDJcXG4jZGVmaW5lIElOVl9TUVJUMiAwLjcwNzEwNjc4XFxuI2RlZmluZSBFTEVWQVRJT05fQklBUyAwLjAwMDFcXG4jZGVmaW5lIE5VTV9TQU1QTEVTX1BFUl9SSU5HIDE2XFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0MiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBjYWxjX29mZnNldCh2ZWMyIGV4dHJ1c2lvbixmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLCBmbG9hdCB2aWV3X3NjYWxlKSB7cmV0dXJuIGV4dHJ1c2lvbioocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKnZpZXdfc2NhbGU7fWZsb2F0IGNhbnRpbGV2ZXJlZF9lbGV2YXRpb24odmVjMiBwb3MsZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCxmbG9hdCB2aWV3X3NjYWxlKSB7dmVjMiBjMT1wb3MrY2FsY19vZmZzZXQodmVjMigtMSwtMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGMyPXBvcytjYWxjX29mZnNldCh2ZWMyKDEsLTEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjMz1wb3MrY2FsY19vZmZzZXQodmVjMigxLDEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjND1wb3MrY2FsY19vZmZzZXQodmVjMigtMSwxKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO2Zsb2F0IGgxPWVsZXZhdGlvbihjMSkrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDI9ZWxldmF0aW9uKGMyKStFTEVWQVRJT05fQklBUztmbG9hdCBoMz1lbGV2YXRpb24oYzMpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGg0PWVsZXZhdGlvbihjNCkrRUxFVkFUSU9OX0JJQVM7cmV0dXJuIG1heChoNCxtYXgoaDMsbWF4KGgxLGgyKSkpO31mbG9hdCBjaXJjbGVfZWxldmF0aW9uKHZlYzIgcG9zKSB7XFxuI2lmIGRlZmluZWQoVEVSUkFJTilcXG5yZXR1cm4gZWxldmF0aW9uKHBvcykrRUxFVkFUSU9OX0JJQVM7XFxuI2Vsc2VcXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbn12ZWM0IHByb2plY3RfdmVydGV4KHZlYzIgZXh0cnVzaW9uLHZlYzQgd29ybGRfY2VudGVyLHZlYzQgcHJvamVjdGVkX2NlbnRlcixmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLCBmbG9hdCB2aWV3X3NjYWxlLG1hdDMgc3VyZmFjZV92ZWN0b3JzKSB7dmVjMiBzYW1wbGVfb2Zmc2V0PWNhbGNfb2Zmc2V0KGV4dHJ1c2lvbixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5yZXR1cm4gdV9tYXRyaXgqKCB3b3JsZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0Lngqc3VyZmFjZV92ZWN0b3JzWzBdK3NhbXBsZV9vZmZzZXQueSpzdXJmYWNlX3ZlY3RvcnNbMV0sMCkgKTtcXG4jZWxzZVxcbnJldHVybiB1X21hdHJpeCooIHdvcmxkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQsMCwwKSApO1xcbiNlbmRpZlxcbiNlbHNlXFxucmV0dXJuIHByb2plY3RlZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0LDAsMCk7XFxuI2VuZGlmXFxufWZsb2F0IGdldF9zYW1wbGVfc3RlcCgpIHtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG5yZXR1cm4gMi4wKlBJL2Zsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZWxzZVxcbnJldHVybiBQSS9mbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2VuZGlmXFxufXZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGV4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTt2ZWMyIGNpcmNsZV9jZW50ZXI9Zmxvb3IoYV9wb3MqMC41KTt2ZWM0IHdvcmxkX2NlbnRlcjttYXQzIHN1cmZhY2VfdmVjdG9ycztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDtzdXJmYWNlX3ZlY3RvcnM9Z2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHBvc19ub3JtYWxfMyx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbik7dmVjMyBzdXJmYWNlX2V4dHJ1c2lvbj1leHRydWRlLngqc3VyZmFjZV92ZWN0b3JzWzBdK2V4dHJ1ZGUueSpzdXJmYWNlX3ZlY3RvcnNbMV07dmVjMyBnbG9iZV9lbGV2YXRpb249ZWxldmF0aW9uVmVjdG9yKGNpcmNsZV9jZW50ZXIpKmNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytzdXJmYWNlX2V4dHJ1c2lvbitnbG9iZV9lbGV2YXRpb247dmVjMyBtZXJjYXRvcl9lbGV2YXRpb249dV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKmNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsY2lyY2xlX2NlbnRlcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrc3VyZmFjZV9leHRydXNpb24rbWVyY2F0b3JfZWxldmF0aW9uO3ZlYzMgcG9zPW1peF9nbG9iZV9tZXJjYXRvcihnbG9iZV9wb3MsbWVyY19wb3MsdV96b29tX3RyYW5zaXRpb24pO3dvcmxkX2NlbnRlcj12ZWM0KHBvcywxKTtcXG4jZWxzZSBcXG5zdXJmYWNlX3ZlY3RvcnM9bWF0MygxLjApO2Zsb2F0IGhlaWdodD1jaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3dvcmxkX2NlbnRlcj12ZWM0KGNpcmNsZV9jZW50ZXIsaGVpZ2h0LDEpO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX2NlbnRlcj11X21hdHJpeCp3b3JsZF9jZW50ZXI7ZmxvYXQgdmlld19zY2FsZT0wLjA7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuI2lmZGVmIFNDQUxFX1dJVEhfTUFQXFxudmlld19zY2FsZT0xLjA7XFxuI2Vsc2VcXG52aWV3X3NjYWxlPXByb2plY3RlZF9jZW50ZXIudy91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuI2VuZGlmXFxuI2Vsc2VcXG4jaWZkZWYgU0NBTEVfV0lUSF9NQVBcXG52aWV3X3NjYWxlPXVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG4jZWxzZVxcbnZpZXdfc2NhbGU9cHJvamVjdGVkX2NlbnRlci53O1xcbiNlbmRpZlxcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXByb2plY3RfdmVydGV4KGV4dHJ1ZGUsd29ybGRfY2VudGVyLHByb2plY3RlZF9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlLHN1cmZhY2VfdmVjdG9ycyk7ZmxvYXQgdmlzaWJpbGl0eT0wLjA7XFxuI2lmZGVmIFRFUlJBSU5cXG5mbG9hdCBzdGVwPWdldF9zYW1wbGVfc3RlcCgpO3ZlYzQgb2NjbHVzaW9uX3dvcmxkX2NlbnRlcjt2ZWM0IG9jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbmZsb2F0IGNhbnRpbGV2ZXJlZF9oZWlnaHQ9Y2FudGlsZXZlcmVkX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7b2NjbHVzaW9uX3dvcmxkX2NlbnRlcj12ZWM0KGNpcmNsZV9jZW50ZXIsY2FudGlsZXZlcmVkX2hlaWdodCwxKTtvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcj11X21hdHJpeCpvY2NsdXNpb25fd29ybGRfY2VudGVyO1xcbiNlbHNlXFxub2NjbHVzaW9uX3dvcmxkX2NlbnRlcj13b3JsZF9jZW50ZXI7b2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI9cHJvamVjdGVkX2NlbnRlcjtcXG4jZW5kaWZcXG5mb3IoaW50IHJpbmc9MDsgcmluZyA8IE5VTV9WSVNJQklMSVRZX1JJTkdTOyByaW5nKyspIHtmbG9hdCBzY2FsZT0oZmxvYXQocmluZykrMS4wKS9mbG9hdChOVU1fVklTSUJJTElUWV9SSU5HUyk7Zm9yKGludCBpPTA7IGkgPCBOVU1fU0FNUExFU19QRVJfUklORzsgaSsrKSB7dmVjMiBleHRydXNpb249dmVjMihjb3Moc3RlcCpmbG9hdChpKSksLXNpbihzdGVwKmZsb2F0KGkpKSkqc2NhbGU7dmVjNCBmcmFnX3Bvcz1wcm9qZWN0X3ZlcnRleChleHRydXNpb24sb2NjbHVzaW9uX3dvcmxkX2NlbnRlcixvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUsc3VyZmFjZV92ZWN0b3JzKTt2aXNpYmlsaXR5Kz1mbG9hdCghaXNPY2NsdWRlZChmcmFnX3BvcykpO319dmlzaWJpbGl0eS89ZmxvYXQoTlVNX1ZJU0lCSUxJVFlfUklOR1MpKmZsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZWxzZVxcbnZpc2liaWxpdHk9MS4wO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52aXNpYmlsaXR5PTEuMDtcXG4jZW5kaWZcXG52X3Zpc2liaWxpdHk9dmlzaWJpbGl0eTtsb3dwIGZsb2F0IGFudGlhbGlhc2JsdXI9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKTt2X2RhdGE9dmVjMyhleHRydWRlLngsZXh0cnVkZS55LGFudGlhbGlhc2JsdXIpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHdvcmxkX2NlbnRlci54eXopO1xcbiNlbmRpZlxcbn1cIiksY2xpcHBpbmdNYXNrOmZyKFwidm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7fVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7fVwiKSxoZWF0bWFwOmZyKFwidW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG5mbG9hdCBkPS0wLjUqMy4wKjMuMCpkb3Qodl9leHRydWRlLHZfZXh0cnVkZSk7ZmxvYXQgdmFsPXdlaWdodCp1X2ludGVuc2l0eSpHQVVTU19DT0VGKmV4cChkKTtnbF9GcmFnQ29sb3I9dmVjNCh2YWwsMS4wLDEuMCwxLjApO1xcbiNpZmRlZiBGT0dcXG5pZiAodV9pc19nbG9iZT09MCkge2dsX0ZyYWdDb2xvci5yKj1wb3coMS4wLWZvZ19vcGFjaXR5KHZfZm9nX3BvcyksMi4wKTt9XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9pbnRlbnNpdHk7YXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2RpcjtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG52ZWMyIHVuc2NhbGVkX2V4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTtmbG9hdCBTPXNxcnQoLTIuMCpsb2coWkVSTy93ZWlnaHQvdV9pbnRlbnNpdHkvR0FVU1NfQ09FRikpLzMuMDt2X2V4dHJ1ZGU9Uyp1bnNjYWxlZF9leHRydWRlO3ZlYzIgZXh0cnVkZT12X2V4dHJ1ZGUqcmFkaXVzKnVfZXh0cnVkZV9zY2FsZTt2ZWMyIHRpbGVQb3M9Zmxvb3IoYV9wb3MqMC41KTt2ZWMzIHBvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDttYXQzIHN1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IodGlsZVBvcykqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSplbGV2YXRpb24odGlsZVBvcyk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZVBvcyx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrc3VyZmFjZV9leHRydXNpb24rbWVyY2F0b3JfZWxldmF0aW9uO3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHRpbGVQb3MrZXh0cnVkZSxlbGV2YXRpb24odGlsZVBvcykpO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxoZWF0bWFwVGV4dHVyZTpmcihcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7ZmxvYXQgdD10ZXh0dXJlMkQodV9pbWFnZSx2X3Bvcykucjt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2NvbG9yX3JhbXAsdmVjMih0LDAuNSkpO2dsX0ZyYWdDb2xvcj1jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDAuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV9wb3MqMC41KzAuNTt9XCIpLGNvbGxpc2lvbkJveDpmcihcInZhcnlpbmcgZmxvYXQgdl9wbGFjZWQ7dmFyeWluZyBmbG9hdCB2X25vdFVzZWQ7dm9pZCBtYWluKCkge3ZlYzQgcmVkID12ZWM0KDEuMCwwLjAsMC4wLDEuMCk7dmVjNCBibHVlPXZlYzQoMC4wLDAuMCwxLjAsMC41KTtnbF9GcmFnQ29sb3IgPW1peChyZWQsYmx1ZSxzdGVwKDAuNSx2X3BsYWNlZCkpKjAuNTtnbF9GcmFnQ29sb3IqPW1peCgxLjAsMC4xLHN0ZXAoMC41LHZfbm90VXNlZCkpO31cIixcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfYW5jaG9yX3BvczthdHRyaWJ1dGUgdmVjMiBhX2V4dHJ1ZGU7YXR0cmlidXRlIHZlYzIgYV9wbGFjZWQ7YXR0cmlidXRlIHZlYzIgYV9zaGlmdDthdHRyaWJ1dGUgZmxvYXQgYV9zaXplX3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcGFkZGluZzt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt2YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO3ZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO3ZvaWQgbWFpbigpIHt2ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrZWxldmF0aW9uVmVjdG9yKGFfYW5jaG9yX3BvcykqZWxldmF0aW9uKGFfYW5jaG9yX3BvcyksMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRQb2ludC53O2hpZ2hwIGZsb2F0IGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41Kih1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSksMC4wLDEuNSk7Z2xfUG9zaXRpb249cHJvamVjdGVkUG9pbnQ7Z2xfUG9zaXRpb24ueHkrPShhX2V4dHJ1ZGUqYV9zaXplX3NjYWxlK2Ffc2hpZnQrYV9wYWRkaW5nKSp1X2V4dHJ1ZGVfc2NhbGUqZ2xfUG9zaXRpb24udypjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87dl9wbGFjZWQ9YV9wbGFjZWQueDt2X25vdFVzZWQ9YV9wbGFjZWQueTt9XCIpLGNvbGxpc2lvbkNpcmNsZTpmcihcInZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87dmFyeWluZyBmbG9hdCB2X2NvbGxpc2lvbjt2b2lkIG1haW4oKSB7ZmxvYXQgYWxwaGE9MC41Km1pbih2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgc3Ryb2tlX3JhZGl1cz0wLjkqbWF4KHZfcGVyc3BlY3RpdmVfcmF0aW8sMS4wKTtmbG9hdCBkaXN0YW5jZV90b19jZW50ZXI9bGVuZ3RoKHZfZXh0cnVkZSk7ZmxvYXQgZGlzdGFuY2VfdG9fZWRnZT1hYnMoZGlzdGFuY2VfdG9fY2VudGVyLXZfcmFkaXVzKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgtc3Ryb2tlX3JhZGl1cywwLjAsLWRpc3RhbmNlX3RvX2VkZ2UpO3ZlYzQgY29sb3I9bWl4KHZlYzQoMC4wLDAuMCwxLjAsMC41KSx2ZWM0KDEuMCwwLjAsMC4wLDEuMCksdl9jb2xsaXNpb24pO2dsX0ZyYWdDb2xvcj1jb2xvciphbHBoYSpvcGFjaXR5X3Q7fVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3NfMmY7YXR0cmlidXRlIGZsb2F0IGFfcmFkaXVzO2F0dHJpYnV0ZSB2ZWMyIGFfZmxhZ3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2ludl9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdmlld3BvcnRfc2l6ZTt1bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dmVjMyB0b1RpbGVQb3NpdGlvbih2ZWMyIHNjcmVlblBvcykge3ZlYzQgcmF5U3RhcnQ9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLC0xLjAsMS4wKTt2ZWM0IHJheUVuZCAgPXVfaW52X21hdHJpeCp2ZWM0KHNjcmVlblBvcywgMS4wLDEuMCk7cmF5U3RhcnQueHl6Lz1yYXlTdGFydC53O3JheUVuZC54eXogIC89cmF5RW5kLnc7aGlnaHAgZmxvYXQgdD0oMC4wLXJheVN0YXJ0LnopLyhyYXlFbmQuei1yYXlTdGFydC56KTtyZXR1cm4gbWl4KHJheVN0YXJ0Lnh5eixyYXlFbmQueHl6LHQpO312b2lkIG1haW4oKSB7dmVjMiBxdWFkQ2VudGVyUG9zPWFfcG9zXzJmO2Zsb2F0IHJhZGl1cz1hX3JhZGl1cztmbG9hdCBjb2xsaXNpb249YV9mbGFncy54O2Zsb2F0IHZlcnRleElkeD1hX2ZsYWdzLnk7dmVjMiBxdWFkVmVydGV4T2Zmc2V0PXZlYzIoXFxubWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTIuMCkpLG1peCgtMS4wLDEuMCxmbG9hdCh2ZXJ0ZXhJZHggPj0xLjAgJiYgdmVydGV4SWR4IDw9Mi4wKSkpO3ZlYzIgcXVhZFZlcnRleEV4dGVudD1xdWFkVmVydGV4T2Zmc2V0KnJhZGl1czt2ZWMzIHRpbGVQb3M9dG9UaWxlUG9zaXRpb24ocXVhZENlbnRlclBvcyk7dmVjNCBjbGlwUG9zPXVfbWF0cml4KnZlYzQodGlsZVBvcywxLjApO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9Y2xpcFBvcy53O2hpZ2hwIGZsb2F0IGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41Kih1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSksMC4wLDQuMCk7ZmxvYXQgcGFkZGluZ19mYWN0b3I9MS4yO3ZfcmFkaXVzPXJhZGl1czt2X2V4dHJ1ZGU9cXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvcjt2X3BlcnNwZWN0aXZlX3JhdGlvPWNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X2NvbGxpc2lvbj1jb2xsaXNpb247Z2xfUG9zaXRpb249dmVjNChjbGlwUG9zLnh5ei9jbGlwUG9zLncsMS4wKSt2ZWM0KHF1YWRWZXJ0ZXhFeHRlbnQqcGFkZGluZ19mYWN0b3IvdV92aWV3cG9ydF9zaXplKjIuMCwwLjAsMC4wKTt9XCIpLGRlYnVnOmZyKFwidW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3I7dW5pZm9ybSBzYW1wbGVyMkQgdV9vdmVybGF5O3ZhcnlpbmcgdmVjMiB2X3V2O3ZvaWQgbWFpbigpIHt2ZWM0IG92ZXJsYXlfY29sb3I9dGV4dHVyZTJEKHVfb3ZlcmxheSx2X3V2KTtnbF9GcmFnQ29sb3I9bWl4KHVfY29sb3Isb3ZlcmxheV9jb2xvcixvdmVybGF5X2NvbG9yLmEpO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3V2O3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfb3ZlcmxheV9zY2FsZTt2b2lkIG1haW4oKSB7ZmxvYXQgaD1lbGV2YXRpb24oYV9wb3MpO3ZfdXY9YV9wb3MvODE5Mi4wO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zXzMrZWxldmF0aW9uVmVjdG9yKGFfcG9zKSpoLDEpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvcyp1X292ZXJsYXlfc2NhbGUsaCwxKTtcXG4jZW5kaWZcXG59XCIpLGZpbGw6ZnIoXCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKm9wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbE91dGxpbmU6ZnIoXCJ2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9b3V0bGluZV9jb2xvcjtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDt2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsT3V0bGluZVBhdHRlcm46ZnIoXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bF9hL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2EvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7dmVjMiBpbWFnZWNvb3JkX2I9bW9kKHZfcG9zX2IsMS4wKTt2ZWMyIHBvczI9bWl4KHBhdHRlcm5fdGxfYi91X3RleHNpemUscGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfcG9zLWdsX0ZyYWdDb29yZC54eSk7ZmxvYXQgYWxwaGE9MS4wLXNtb290aHN0ZXAoMC4wLDEuMCxkaXN0KTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gdmVjMyB1X3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7ZmxvYXQgdGlsZVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixmcm9tU2NhbGUqZGlzcGxheV9zaXplX2EsdGlsZVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlUmF0aW8sYV9wb3MpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbFBhdHRlcm46ZnIoXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9mYWRlKTtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3Iqb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bztnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlWm9vbVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlWm9vbVJhdGlvLGFfcG9zKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsRXh0cnVzaW9uOmZyKFwidmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG52YXJ5aW5nIHZlYzQgdl9yb29mX2NvbG9yO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpXFxudmFyeWluZyBoaWdocCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZlYzMgbm9ybWFsPXZfbm9ybWFsO1xcbiNlbmRpZlxcbmZsb2F0IHo7dmVjNCBjb2xvcjtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbno9ZmxvYXQobm9ybWFsLnogPiAwLjAwMDAxKTtjb2xvcj1taXgodl9jb2xvcix2X3Jvb2ZfY29sb3Iseik7XFxuI2Vsc2VcXG5jb2xvcj12X2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgaW50ZW5zaXR5PXVfYW9bMF07ZmxvYXQgaD1tYXgoMC4wLHZfYW8ueik7ZmxvYXQgaF9mbG9vcnM9aC91X2FvWzFdO2Zsb2F0IHlfc2hhZGU9MS4wLTAuOSppbnRlbnNpdHkqbWluKHZfYW8ueSwxLjApO2Zsb2F0IHNoYWRlPSgxLjAtMC4wOCppbnRlbnNpdHkpKih5X3NoYWRlKygxLjAteV9zaGFkZSkqKDEuMC1wb3coMS4wLW1pbihoX2Zsb29ycy8xNi4wLDEuMCksMTYuMCkpKSswLjA4KmludGVuc2l0eSptaW4oaF9mbG9vcnMvMTYwLjAsMS4wKTtmbG9hdCBjb25jYXZlPXZfYW8ueCp2X2FvLng7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG5jb25jYXZlKj0oMS4wLXopO1xcbiNlbmRpZlxcbmZsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7Y29sb3IucmdiPWNvbG9yLnJnYipzaGFkZTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbm5vcm1hbD1taXgobm9ybWFsLHZlYzMoMC4wLDAuMCwxLjApLHopO1xcbiNlbmRpZlxcbmNvbG9yLnh5ej1zaGFkb3dlZF9jb2xvcl9ub3JtYWwoY29sb3IueHl6LG5vcm1hbGl6ZShub3JtYWwpLHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO3VuaWZvcm0gbG93cCB2ZWMzIHVfbGlnaHRwb3M7dW5pZm9ybSBsb3dwIGZsb2F0IHVfbGlnaHRpbnRlbnNpdHk7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2VkZ2VfcmFkaXVzO2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG51bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMDt1bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7dmFyeWluZyBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxudmFyeWluZyB2ZWM0IHZfcm9vZl9jb2xvcjtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG52ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTt2ZWM0IHRvcF91cF9ueV9zdGFydD1hX3Bvc19ub3JtYWxfZWQtMi4wKnBvc19ueDt2ZWMzIHRvcF91cF9ueT10b3BfdXBfbnlfc3RhcnQueHl6O2Zsb2F0IHhfbm9ybWFsPXBvc19ueC56LzgxOTIuMDt2ZWMzIG5vcm1hbD10b3BfdXBfbnkueT09MS4wID8gdmVjMygwLjAsMC4wLDEuMCkgOiBub3JtYWxpemUodmVjMyh4X25vcm1hbCwoMi4wKnRvcF91cF9ueS56LTEuMCkqKDEuMC1hYnMoeF9ub3JtYWwpKSwwLjApKTtcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZfbm9ybWFsPW5vcm1hbDtcXG4jZW5kaWZcXG5iYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsdG9wX3VwX255Lnk9PTAuMCAmJiB0b3BfdXBfbnkueD09MS4wID8gaGVpZ2h0LXVfZWRnZV9yYWRpdXMgOiBoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG5mbG9hdCBlbGU9MC4wO2Zsb2F0IGg9MC4wO2Zsb2F0IGNfZWxlO3ZlYzMgcG9zO1xcbiNpZmRlZiBURVJSQUlOXFxuYm9vbCBmbGF0X3Jvb2Y9Y2VudHJvaWRfcG9zLnggIT0wLjAgJiYgdCA+IDAuMDtlbGU9ZWxldmF0aW9uKHBvc19ueC54eSk7Y19lbGU9ZmxhdF9yb29mID8gY2VudHJvaWRfcG9zLnk9PTAuMCA/IGVsZXZhdGlvbkZyb21VaW50MTYoY2VudHJvaWRfcG9zLngpIDogZmxhdEVsZXZhdGlvbihjZW50cm9pZF9wb3MpIDogZWxlO2g9ZmxhdF9yb29mID8gbWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApIDogZWxlKyh0ID4gMC4wID8gaGVpZ2h0IDogYmFzZT09MC4wID8tNS4wIDogYmFzZSk7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbHNlXFxuaD10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTtwb3M9dmVjMyhwb3NfbngueHksaCk7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKmgpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHBvcy54eSx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrdV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKnBvcy56O3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCAmJiBjZW50cm9pZF9wb3MueT09MS4wKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwb3MsMSksQVdBWSxoaWRkZW4pO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQocG9zLDEpO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEpO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG5mbG9hdCBjb2xvcnZhbHVlPWNvbG9yLnIqMC4yMTI2K2NvbG9yLmcqMC43MTUyK2NvbG9yLmIqMC4wNzIyO3ZfY29sb3I9dmVjNCgwLjAsMC4wLDAuMCwxLjApO3ZlYzQgYW1iaWVudGxpZ2h0PXZlYzQoMC4wMywwLjAzLDAuMDMsMS4wKTtjb2xvcis9YW1iaWVudGxpZ2h0O2Zsb2F0IGRpcmVjdGlvbmFsPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLGRpcmVjdGlvbmFsKTtpZiAobm9ybWFsLnkgIT0wLjApIHtkaXJlY3Rpb25hbCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLG1peCgwLjcsMC45OCwxLjAtdV9saWdodGludGVuc2l0eSksMS4wKSkpO31cXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMyhtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQsaC1lbGUpO2RpcmVjdGlvbmFsKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG52X2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKmRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbnZfcm9vZl9jb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7ZmxvYXQgcm9vZl9yYWRpYW5jZT1jbGFtcCh1X2xpZ2h0cG9zLnosMC4wLDEuMCk7cm9vZl9yYWRpYW5jZT1taXgoKDEuMC11X2xpZ2h0aW50ZW5zaXR5KSxtYXgoKDEuMC1jb2xvcnZhbHVlK3VfbGlnaHRpbnRlbnNpdHkpLDEuMCkscm9vZl9yYWRpYW5jZSk7dl9yb29mX2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKnJvb2ZfcmFkaWFuY2UqdV9saWdodGNvbG9yLG1peCh2ZWMzKDAuMCksdmVjMygwLjMpLDEuMC11X2xpZ2h0Y29sb3IpLHZlYzMoMS4wKSk7dl9yb29mX2NvbG9yKj11X29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxFeHRydXNpb25QYXR0ZXJuOmZyKFwidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO291dF9jb2xvcj1vdXRfY29sb3Iqdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O2Zsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVSYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTttZWRpdW1wIHZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O21lZGl1bXAgdmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfcG9zX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87YmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLGhlaWdodCk7ZmxvYXQgdD10b3BfdXBfbnkueDtmbG9hdCB6PXQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlO3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPXo7dmVjMyBwO2Zsb2F0IGNfZWxlO1xcbiNpZmRlZiBURVJSQUlOXFxuYm9vbCBmbGF0X3Jvb2Y9Y2VudHJvaWRfcG9zLnggIT0wLjAgJiYgdCA+IDAuMDtlbGU9ZWxldmF0aW9uKHBvc19ueC54eSk7Y19lbGU9ZmxhdF9yb29mID8gY2VudHJvaWRfcG9zLnk9PTAuMCA/IGVsZXZhdGlvbkZyb21VaW50MTYoY2VudHJvaWRfcG9zLngpIDogZmxhdEVsZXZhdGlvbihjZW50cm9pZF9wb3MpIDogZWxlO2g9ZmxhdF9yb29mID8gbWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApIDogZWxlKyh0ID4gMC4wID8gaGVpZ2h0IDogYmFzZT09MC4wID8tNS4wIDogYmFzZSk7cD12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbnA9dmVjMyhwb3NfbngueHkseik7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKihwLnorbGlmdCkpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHAueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwLno7cD1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCAmJiBjZW50cm9pZF9wb3MueT09MS4wKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwLDEpLEFXQVksaGlkZGVuKTt2ZWMyIHBvcz1ub3JtYWwuej09MS4wXFxuPyBwb3NfbngueHlcXG46IHZlYzIoZWRnZWRpc3RhbmNlLHoqdV9oZWlnaHRfZmFjdG9yKTt2X3Bvc19hPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZnJvbVNjYWxlKmRpc3BsYXlfc2l6ZV9hLHRpbGVSYXRpbyxwb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVSYXRpbyxwb3MpO3ZfbGlnaHRpbmc9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IGRpcmVjdGlvbmFsPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPShcXG4oMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBjb25jYXZlPXBvc19ueC53LWZsb29yKHBvc19ueC53KjAuNSkqMi4wO2Zsb2F0IHN0YXJ0PXRvcF91cF9ueV9zdGFydC53O2Zsb2F0IHlfZ3JvdW5kPTEuMC1jbGFtcCh0K2Jhc2UsMC4wLDEuMCk7ZmxvYXQgdG9wX2hlaWdodD1oZWlnaHQ7XFxuI2lmZGVmIFRFUlJBSU5cXG50b3BfaGVpZ2h0PW1peChtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCksZWxlK2hlaWdodCxmbG9hdChjZW50cm9pZF9wb3MueD09MC4wKSktZWxlO3lfZ3JvdW5kKz15X2dyb3VuZCo1LjAvbWF4KDMuMCx0b3BfaGVpZ2h0KTtcXG4jZW5kaWZcXG52X2FvPXZlYzMobWl4KGNvbmNhdmUsLWNvbmNhdmUsc3RhcnQpLHlfZ3JvdW5kLGgtZWxlKTtkaXJlY3Rpb25hbCo9KDEuMCswLjA1KigxLjAtdG9wX3VwX255LnkpKnVfYW9bMF0pO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG50b3BfaGVpZ2h0Kz11X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uLnotPSgwLjAwMDAwMDYqKG1pbih0b3BfaGVpZ2h0LDUwMC4pKzIuMCptaW4oYmFzZSw1MDAuMCkrNjAuMCpjb25jYXZlKzMuMCpzdGFydCkpKmdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxudl9saWdodGluZy5yZ2IrPWNsYW1wKGRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwKTtcXG4jZW5kaWZcXG59XCIpLGhpbGxzaGFkZVByZXBhcmU6ZnIoXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjNCB1X3VucGFjaztmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCkge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5yZXR1cm4gdGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpLmEvNC4wO1xcbiNlbHNlXFxudmVjNCBkYXRhPXRleHR1cmUyRCh1X2ltYWdlLGNvb3JkKSoyNTUuMDtkYXRhLmE9LTEuMDtyZXR1cm4gZG90KGRhdGEsdV91bnBhY2spLzQuMDtcXG4jZW5kaWZcXG59dm9pZCBtYWluKCkge3ZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgYT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBiPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsLWVwc2lsb24ueSkpO2Zsb2F0IGM9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBkPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsMCkpO2Zsb2F0IGU9Z2V0RWxldmF0aW9uKHZfcG9zKTtmbG9hdCBmPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwwKSk7ZmxvYXQgZz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LGVwc2lsb24ueSkpO2Zsb2F0IGg9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpKTtmbG9hdCBpPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBleGFnZ2VyYXRpb25GYWN0b3I9dV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMztmbG9hdCBleGFnZ2VyYXRpb249dV96b29tIDwgMTUuMCA/ICh1X3pvb20tMTUuMCkqZXhhZ2dlcmF0aW9uRmFjdG9yIDogMC4wO3ZlYzIgZGVyaXY9dmVjMihcXG4oYytmK2YraSktKGErZCtkK2cpLChnK2graCtpKS0oYStiK2IrYylcXG4pL3BvdygyLjAsZXhhZ2dlcmF0aW9uKygxOS4yNTYyLXVfem9vbSkpO2dsX0ZyYWdDb2xvcj1jbGFtcCh2ZWM0KFxcbmRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9XCIpLGhpbGxzaGFkZTpmcihcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2xhdHJhbmdlO3VuaWZvcm0gdmVjMiB1X2xpZ2h0O3VuaWZvcm0gdmVjNCB1X3NoYWRvdzt1bmlmb3JtIHZlYzQgdV9oaWdobGlnaHQ7dW5pZm9ybSB2ZWM0IHVfYWNjZW50O3ZvaWQgbWFpbigpIHt2ZWM0IHBpeGVsPXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKTt2ZWMyIGRlcml2PSgocGl4ZWwucmcqMi4wKS0xLjApO2Zsb2F0IHNjYWxlRmFjdG9yPWNvcyhyYWRpYW5zKCh1X2xhdHJhbmdlWzBdLXVfbGF0cmFuZ2VbMV0pKigxLjAtdl9wb3MueSkrdV9sYXRyYW5nZVsxXSkpO2Zsb2F0IHNsb3BlPWF0YW4oMS4yNSpsZW5ndGgoZGVyaXYpL3NjYWxlRmFjdG9yKTtmbG9hdCBhc3BlY3Q9ZGVyaXYueCAhPTAuMCA/IGF0YW4oZGVyaXYueSwtZGVyaXYueCkgOiBQSS8yLjAqKGRlcml2LnkgPiAwLjAgPyAxLjAgOi0xLjApO2Zsb2F0IGludGVuc2l0eT11X2xpZ2h0Lng7ZmxvYXQgYXppbXV0aD11X2xpZ2h0LnkrUEk7ZmxvYXQgYmFzZT0xLjg3NS1pbnRlbnNpdHkqMS43NTtmbG9hdCBtYXhWYWx1ZT0wLjUqUEk7ZmxvYXQgc2NhbGVkU2xvcGU9aW50ZW5zaXR5ICE9MC41ID8gKChwb3coYmFzZSxzbG9wZSktMS4wKS8ocG93KGJhc2UsbWF4VmFsdWUpLTEuMCkpKm1heFZhbHVlIDogc2xvcGU7ZmxvYXQgYWNjZW50PWNvcyhzY2FsZWRTbG9wZSk7dmVjNCBhY2NlbnRfY29sb3I9KDEuMC1hY2NlbnQpKnVfYWNjZW50KmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7ZmxvYXQgc2hhZGU9YWJzKG1vZCgoYXNwZWN0K2F6aW11dGgpL1BJKzAuNSwyLjApLTEuMCk7dmVjNCBzaGFkZV9jb2xvcj1taXgodV9zaGFkb3csdV9oaWdobGlnaHQsc2hhZGUpKnNpbihzY2FsZWRTbG9wZSkqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtnbF9GcmFnQ29sb3I9YWNjZW50X2NvbG9yKigxLjAtc2hhZGVfY29sb3IuYSkrc2hhZGVfY29sb3I7XFxuI2lmZGVmIEZPR1xcbmdsX0ZyYWdDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGdsX0ZyYWdDb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxsaW5lOmZyKFwidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDt1bmlmb3JtIGhpZ2hwIHZlYzIgdV90cmltX29mZnNldDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGFzaF9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfbWl4O3VuaWZvcm0gdmVjMyB1X3NjYWxlO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZ3JhZGllbnRfaW1hZ2U7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1X2JvcmRlcl93aWR0aDt1bmlmb3JtIHZlYzQgdV9ib3JkZXJfY29sb3I7ZmxvYXQgbHVtaW5hbmNlKHZlYzMgYykge3JldHVybiAoYy5yK2MucitjLmIrYy5nK2MuZytjLmcpKjAuMTY2Nzt9XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO1xcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgc2RmZGlzdF9hPXRleHR1cmUyRCh1X2Rhc2hfaW1hZ2Usdl90ZXhfYSkuYTtmbG9hdCBzZGZkaXN0X2I9dGV4dHVyZTJEKHVfZGFzaF9pbWFnZSx2X3RleF9iKS5hO2Zsb2F0IHNkZmRpc3Q9bWl4KHNkZmRpc3RfYSxzZGZkaXN0X2IsdV9taXgpO2Zsb2F0IHNkZndpZHRoPW1pbihkYXNoX2Zyb20ueip1X3NjYWxlLnksZGFzaF90by56KnVfc2NhbGUueik7ZmxvYXQgc2RmZ2FtbWE9MS4wLygyLjAqdV9kZXZpY2VfcGl4ZWxfcmF0aW8pL3NkZndpZHRoO2FscGhhKj1zbW9vdGhzdGVwKDAuNS1zZGZnYW1tYS9mbG9vcndpZHRoLDAuNStzZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbmhpZ2hwIHZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2dyYWRpZW50X2ltYWdlLHZfdXYueHkpO1xcbiNlbHNlXFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUXFxuaGlnaHAgZmxvYXQgc3RhcnQ9dl91dlsyXTtoaWdocCBmbG9hdCBlbmQ9dl91dlszXTtoaWdocCBmbG9hdCB0cmltX3N0YXJ0PXVfdHJpbV9vZmZzZXRbMF07aGlnaHAgZmxvYXQgdHJpbV9lbmQ9dV90cmltX29mZnNldFsxXTtoaWdocCBmbG9hdCBsaW5lX3Byb2dyZXNzPShzdGFydCsodl91di54KSooZW5kLXN0YXJ0KSk7aWYgKHRyaW1fZW5kID4gdHJpbV9zdGFydCkge2lmIChsaW5lX3Byb2dyZXNzIDw9dHJpbV9lbmQgJiYgbGluZV9wcm9ncmVzcyA+PXRyaW1fc3RhcnQpIHtvdXRfY29sb3I9dmVjNCgwLDAsMCwwKTt9fVxcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcXG5pZiAoYWxwaGEgPCB1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkKSB7ZGlzY2FyZDt9XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0JPUkRFUlxcbmZsb2F0IGVkZ2VCbHVyPSh1X2JvcmRlcl93aWR0aCsxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pO2Zsb2F0IGFscGhhMj1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1lZGdlQmx1ciksdl93aWR0aDIucy1kaXN0KS9lZGdlQmx1ciwwLjAsMS4wKTtpZiAoYWxwaGEyIDwgMS4pIHtmbG9hdCBzbW9vdGhBbHBoYT1zbW9vdGhzdGVwKDAuNiwxLjAsYWxwaGEyKTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfQk9SREVSX0FVVE9cXG5mbG9hdCBZPShvdXRfY29sb3IuYSA+IDAuMDEpID8gbHVtaW5hbmNlKG91dF9jb2xvci5yZ2Ivb3V0X2NvbG9yLmEpIDogMS47ZmxvYXQgYWRqdXN0bWVudD0oWSA+IDAuKSA/IDAuNS9ZIDogMC40NTtpZiAob3V0X2NvbG9yLmEgPiAwLjI1ICYmIFkgPCAwLjI1KSB7dmVjMyBib3JkZXJDb2xvcj0oWSA+IDAuKSA/IG91dF9jb2xvci5yZ2IgOiB2ZWMzKDEsMSwxKSpvdXRfY29sb3IuYTtvdXRfY29sb3IucmdiPW91dF9jb2xvci5yZ2IrYm9yZGVyQ29sb3IqKGFkanVzdG1lbnQqKDEuMC1zbW9vdGhBbHBoYSkpO30gZWxzZSB7b3V0X2NvbG9yLnJnYio9KDAuNiArMC40KnNtb290aEFscGhhKTt9XFxuI2Vsc2VcXG5vdXRfY29sb3IucmdiPW1peCh1X2JvcmRlcl9jb2xvci5yZ2Isb3V0X2NvbG9yLnJnYixzbW9vdGhBbHBoYSk7XFxuI2VuZGlmXFxufVxcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcIlxcbiNkZWZpbmUgRVhUUlVERV9TQ0FMRSAwLjAxNTg3MzAxNlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zX25vcm1hbDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuYXR0cmlidXRlIGhpZ2hwIHZlYzQgYV9wYWNrZWQ7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5hdHRyaWJ1dGUgZmxvYXQgYV9saW5lc29mYXI7XFxuI2VuZGlmXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0MiB1X3BpeGVsc190b190aWxlX3VuaXRzO3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfc2NhbGU7dmFyeWluZyB2ZWMyIHZfdGV4X2E7dmFyeWluZyB2ZWMyIHZfdGV4X2I7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxudW5pZm9ybSBmbG9hdCB1X2ltYWdlX2hlaWdodDtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hfdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuZmxvYXQgYV91dl94PWFfcGFja2VkWzBdO2Zsb2F0IGFfc3BsaXRfaW5kZXg9YV9wYWNrZWRbMV07aGlnaHAgZmxvYXQgYV9jbGlwX3N0YXJ0PWFfcGFja2VkWzJdO2hpZ2hwIGZsb2F0IGFfY2xpcF9lbmQ9YV9wYWNrZWRbM107XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxuaGlnaHAgZmxvYXQgdGV4ZWxfaGVpZ2h0PTEuMC91X2ltYWdlX2hlaWdodDtoaWdocCBmbG9hdCBoYWxmX3RleGVsX2hlaWdodD0wLjUqdGV4ZWxfaGVpZ2h0O3ZfdXY9dmVjNChhX3V2X3gsYV9zcGxpdF9pbmRleCp0ZXhlbF9oZWlnaHQtaGFsZl90ZXhlbF9oZWlnaHQsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbHNlXFxudl91dj12ZWM0KGFfdXZfeCwwLjAsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgdGlsZVpvb21SYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejtmbG9hdCBzY2FsZUE9ZGFzaF9mcm9tLno9PTAuMCA/IDAuMCA6IHRpbGVab29tUmF0aW8vKGRhc2hfZnJvbS56KmZyb21TY2FsZSk7ZmxvYXQgc2NhbGVCPWRhc2hfdG8uej09MC4wID8gMC4wIDogdGlsZVpvb21SYXRpby8oZGFzaF90by56KnRvU2NhbGUpO2Zsb2F0IGhlaWdodEE9ZGFzaF9mcm9tLnk7ZmxvYXQgaGVpZ2h0Qj1kYXNoX3RvLnk7dl90ZXhfYT12ZWMyKGFfbGluZXNvZmFyKnNjYWxlQS9mbG9vcndpZHRoLCgtbm9ybWFsLnkqaGVpZ2h0QStkYXNoX2Zyb20ueCswLjUpL3VfdGV4c2l6ZS55KTt2X3RleF9iPXZlYzIoYV9saW5lc29mYXIqc2NhbGVCL2Zsb29yd2lkdGgsKC1ub3JtYWwueSpoZWlnaHRCK2Rhc2hfdG8ueCswLjUpL3VfdGV4c2l6ZS55KTtcXG4jZW5kaWZcXG52X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGxpbmVQYXR0ZXJuOmZyKFwidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zY2FsZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bzt2ZWMyIHBhdHRlcm5fc2l6ZV9hPXZlYzIoZGlzcGxheV9zaXplX2EueCpmcm9tU2NhbGUvdGlsZVpvb21SYXRpbyxkaXNwbGF5X3NpemVfYS55KTt2ZWMyIHBhdHRlcm5fc2l6ZV9iPXZlYzIoZGlzcGxheV9zaXplX2IueCp0b1NjYWxlL3RpbGVab29tUmF0aW8sZGlzcGxheV9zaXplX2IueSk7ZmxvYXQgYXNwZWN0X2E9ZGlzcGxheV9zaXplX2EueS92X3dpZHRoO2Zsb2F0IGFzcGVjdF9iPWRpc3BsYXlfc2l6ZV9iLnkvdl93aWR0aDtmbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgeF9hPW1vZCh2X2xpbmVzb2Zhci9wYXR0ZXJuX3NpemVfYS54KmFzcGVjdF9hLDEuMCk7ZmxvYXQgeF9iPW1vZCh2X2xpbmVzb2Zhci9wYXR0ZXJuX3NpemVfYi54KmFzcGVjdF9iLDEuMCk7ZmxvYXQgeT0wLjUqdl9ub3JtYWwueSswLjU7dmVjMiB0ZXhlbF9zaXplPTEuMC91X3RleHNpemU7dmVjMiBwb3NfYT1taXgocGF0dGVybl90bF9hKnRleGVsX3NpemUtdGV4ZWxfc2l6ZSxwYXR0ZXJuX2JyX2EqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeF9hLHkpKTt2ZWMyIHBvc19iPW1peChwYXR0ZXJuX3RsX2IqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnJfYip0ZXhlbF9zaXplK3RleGVsX3NpemUsdmVjMih4X2IseSkpO3ZlYzQgY29sb3I9bWl4KHRleHR1cmUyRCh1X2ltYWdlLHBvc19hKSx0ZXh0dXJlMkQodV9pbWFnZSxwb3NfYiksdV9mYWRlKTtcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcIlxcbiNkZWZpbmUgc2NhbGUgMC4wMTU4NzMwMTZcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO2F0dHJpYnV0ZSBmbG9hdCBhX2xpbmVzb2Zhcjt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbWF0MiB1X3BpeGVsc190b190aWxlX3VuaXRzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0KnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mip1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO1xcbiNpZm5kZWYgUkVOREVSX1RPX1RFWFRVUkVcXG5mbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG4jZWxzZVxcbnZfZ2FtbWFfc2NhbGU9MS4wO1xcbiNlbmRpZlxcbnZfbGluZXNvZmFyPWFfbGluZXNvZmFyO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt2X3dpZHRoPWZsb29yd2lkdGg7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLHJhc3RlcjpmcihcInVuaWZvcm0gZmxvYXQgdV9mYWRlX3Q7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTE7dmFyeWluZyB2ZWMyIHZfcG9zMDt2YXJ5aW5nIHZlYzIgdl9wb3MxO3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2xvdzt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19oaWdoO3VuaWZvcm0gZmxvYXQgdV9zYXR1cmF0aW9uX2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfY29udHJhc3RfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NwaW5fd2VpZ2h0czt2b2lkIG1haW4oKSB7dmVjNCBjb2xvcjA9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UxLHZfcG9zMSk7aWYgKGNvbG9yMC5hID4gMC4wKSB7Y29sb3IwLnJnYj1jb2xvcjAucmdiL2NvbG9yMC5hO31pZiAoY29sb3IxLmEgPiAwLjApIHtjb2xvcjEucmdiPWNvbG9yMS5yZ2IvY29sb3IxLmE7fXZlYzQgY29sb3I9bWl4KGNvbG9yMCxjb2xvcjEsdV9mYWRlX3QpO2NvbG9yLmEqPXVfb3BhY2l0eTt2ZWMzIHJnYj1jb2xvci5yZ2I7cmdiPXZlYzMoXFxuZG90KHJnYix1X3NwaW5fd2VpZ2h0cy54eXopLGRvdChyZ2IsdV9zcGluX3dlaWdodHMuenh5KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnl6eCkpO2Zsb2F0IGF2ZXJhZ2U9KGNvbG9yLnIrY29sb3IuZytjb2xvci5iKS8zLjA7cmdiKz0oYXZlcmFnZS1yZ2IpKnVfc2F0dXJhdGlvbl9mYWN0b3I7cmdiPShyZ2ItMC41KSp1X2NvbnRyYXN0X2ZhY3RvciswLjU7dmVjMyB1X2hpZ2hfdmVjPXZlYzModV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3cpO3ZlYzMgdV9sb3dfdmVjPXZlYzModV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gpO3ZlYzMgb3V0X2NvbG9yPW1peCh1X2hpZ2hfdmVjLHVfbG93X3ZlYyxyZ2IpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHkob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj12ZWM0KG91dF9jb2xvcipjb2xvci5hLGNvbG9yLmEpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV90bF9wYXJlbnQ7dW5pZm9ybSBmbG9hdCB1X3NjYWxlX3BhcmVudDt1bmlmb3JtIHZlYzIgdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm07YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dm9pZCBtYWluKCkge2Zsb2F0IHc9MS4wK2RvdChhX3RleHR1cmVfcG9zLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKncsMCx3KTt2X3BvczA9YV90ZXh0dXJlX3Bvcy84MTkyLjA7dl9wb3MxPSh2X3BvczAqdV9zY2FsZV9wYXJlbnQpK3VfdGxfcGFyZW50O1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLHN5bWJvbEljb246ZnIoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxubG93cCBmbG9hdCBhbHBoYT1vcGFjaXR5KnZfZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlLHZfdGV4KSphbHBoYTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl90ZXg7dmFyeWluZyBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O3ZlYzIgYV9taW5fZm9udF9zY2FsZT1hX3BpeGVsb2Zmc2V0Lnp3LzI1Ni4wO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZF9wb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCptYXgoYV9taW5fZm9udF9zY2FsZSxmb250X3NjYWxlKSthX3B4b2Zmc2V0LzE2LjApO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudl90ZXg9YV90ZXgvdV90ZXhzaXplO3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTt2X2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZTt9XCIpLHN5bWJvbFNERjpmcihcIiNkZWZpbmUgU0RGX1BYIDguMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfdGV4dDt2YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG5mbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO3ZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZhZGVfb3BhY2l0eT12X2RhdGExWzJdO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcGl4ZWxvZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9hbmNob3I7YXR0cmlidXRlIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X2RhdGEwO3ZhcnlpbmcgdmVjMyB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3Bvczt2ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplbGV2YXRpb24odGlsZV9hbmNob3IpO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGlzcGxhY2VtZW50PXZlYzMoYV9nbG9iZV9ub3JtYWwueiwwLC1hX2dsb2JlX25vcm1hbC54KTtvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG5vZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh0aWxlX2FuY2hvcit2ZWMyKDEsMCksMCwxKTtcXG4jZW5kaWZcXG52ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRwcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0cHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udFNjYWxlK2FfcHhvZmZzZXQpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTt2X2RhdGEwPWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGExPXZlYzMoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlKTt9XCIpLHN5bWJvbFRleHRBbmRJY29uOmZyKFwiI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBTREYgMS4wXFxuI2RlZmluZSBJQ09OIDAuMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZV9pY29uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07aWYgKHZfZGF0YTEudz09SUNPTikge3ZlYzIgdGV4X2ljb249dl9kYXRhMC56dztsb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlX2ljb24sdGV4X2ljb24pKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbnJldHVybjt9dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmb250U2NhbGU9c2l6ZS8yNC4wO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZV9pY29uO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTtmbG9hdCBpc19zZGY9YV9zaXplWzBdLTIuMCphX3NpemVfbWluO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9c2l6ZS8yNC4wO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0X3Byb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldF9wcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0X3Byb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRfc2NhbGUpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTtmbG9hdCBpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKG9jY2x1c2lvbl9mYWRlLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpO2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52X2RhdGEwLnh5PWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGEwLnp3PWFfdGV4L3VfdGV4c2l6ZV9pY29uO3ZfZGF0YTE9dmVjNChnYW1tYV9zY2FsZSxzaXplLGludGVycG9sYXRlZF9mYWRlX29wYWNpdHkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGUsaXNfc2RmKTt9XCIpLHRlcnJhaW5SYXN0ZXI6ZnIoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5jb2xvci54eXo9c2hhZG93ZWRfY29sb3IoY29sb3IueHl6LHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X2Zyb21fdmVydChjb2xvcix2X2ZvZ19vcGFjaXR5KSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDAuOCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9za2lydF9oZWlnaHQ7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG5jb25zdCBmbG9hdCBza2lydE9mZnNldD0yNDU3NS4wO2NvbnN0IGZsb2F0IHdpcmVmcmFtZU9mZnNldD0wLjAwMDE1O3ZvaWQgbWFpbigpIHt2X3BvczA9YV90ZXh0dXJlX3Bvcy84MTkyLjA7ZmxvYXQgc2tpcnQ9ZmxvYXQoYV9wb3MueCA+PXNraXJ0T2Zmc2V0KTtmbG9hdCBlbGV2YXRpb249ZWxldmF0aW9uKGFfdGV4dHVyZV9wb3MpLXNraXJ0KnVfc2tpcnRfaGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmVsZXZhdGlvbis9dV9za2lydF9oZWlnaHQqdV9za2lydF9oZWlnaHQqd2lyZWZyYW1lT2Zmc2V0O1xcbiNlbmRpZlxcbnZlYzIgZGVjb2RlZFBvcz1hX3Bvcy12ZWMyKHNraXJ0KnNraXJ0T2Zmc2V0LDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChkZWNvZGVkUG9zLGVsZXZhdGlvbiwxLjApO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19vcGFjaXR5PWZvZyhmb2dfcG9zaXRpb24odmVjMyhkZWNvZGVkUG9zLGVsZXZhdGlvbikpKTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG52ZWMzIHBvcz12ZWMzKGRlY29kZWRQb3MsZWxldmF0aW9uKTt2X3Bvc19saWdodF92aWV3XzA9dV9saWdodF9tYXRyaXhfMCp2ZWM0KHBvcywxLik7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChwb3MsMS4pO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG59XCIpLHRlcnJhaW5EZXB0aDpmcihcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZW5kaWZcXG52YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj1wYWNrX2RlcHRoKHZfZGVwdGgpO31cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihhX3RleHR1cmVfcG9zKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLGVsZXZhdGlvbiwxLjApO3ZfZGVwdGg9Z2xfUG9zaXRpb24uei9nbF9Qb3NpdGlvbi53O31cIiksc2t5Ym94OmZyKFwiXFxudmFyeWluZyBsb3dwIHZlYzMgdl91djt1bmlmb3JtIGxvd3Agc2FtcGxlckN1YmUgdV9jdWJlbWFwO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO2Zsb2F0IHN1bl9kaXNrKGhpZ2hwIHZlYzMgcmF5X2RpcmVjdGlvbixoaWdocCB2ZWMzIHN1bl9kaXJlY3Rpb24pIHtoaWdocCBmbG9hdCBjb3NfYW5nbGU9ZG90KG5vcm1hbGl6ZShyYXlfZGlyZWN0aW9uKSxzdW5fZGlyZWN0aW9uKTtjb25zdCBoaWdocCBmbG9hdCBjb3Nfc3VuX2FuZ3VsYXJfZGlhbWV0ZXI9MC45OTk5NjE5MjMwNjtjb25zdCBoaWdocCBmbG9hdCBzbW9vdGhzdGVwX2RlbHRhPTFlLTU7cmV0dXJuIHNtb290aHN0ZXAoXFxuY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyLXNtb290aHN0ZXBfZGVsdGEsY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyK3Ntb290aHN0ZXBfZGVsdGEsY29zX2FuZ2xlKTt9ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWMzIHV2PXZfdXY7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3V2LnkrPXlfYmlhczt1di55PXBvdyhhYnModXYueSksMS4wLzUuMCk7dXYueT1tYXAodXYueSwwLjAsMS4wLC0xLjAsMS4wKTt2ZWMzIHNreV9jb2xvcj10ZXh0dXJlQ3ViZSh1X2N1YmVtYXAsdXYpLnJnYjtcXG4jaWZkZWYgRk9HXFxuc2t5X2NvbG9yPWZvZ19hcHBseV9za3lfZ3JhZGllbnQodl91di54enksc2t5X2NvbG9yKTtcXG4jZW5kaWZcXG5za3lfY29sb3IucmdiPWRpdGhlcihza3lfY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7c2t5X2NvbG9yKz0wLjEqc3VuX2Rpc2sodl91dix1X3N1bl9kaXJlY3Rpb24pO2dsX0ZyYWdDb2xvcj12ZWM0KHNreV9jb2xvcip1X29wYWNpdHksdV9vcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIscnIpLHNreWJveEdyYWRpZW50OmZyKFwidmFyeWluZyBoaWdocCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBoaWdocCB2ZWMzIHVfY2VudGVyX2RpcmVjdGlvbjt1bmlmb3JtIGxvd3AgZmxvYXQgdV9yYWRpdXM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3ZvaWQgbWFpbigpIHtmbG9hdCBwcm9ncmVzcz1hY29zKGRvdChub3JtYWxpemUodl91diksdV9jZW50ZXJfZGlyZWN0aW9uKSkvdV9yYWRpdXM7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIocHJvZ3Jlc3MsMC41KSk7XFxuI2lmZGVmIEZPR1xcbmNvbG9yLnJnYj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LGNvbG9yLnJnYi9jb2xvci5hKSpjb2xvci5hO1xcbiNlbmRpZlxcbmNvbG9yKj11X29wYWNpdHk7Y29sb3IucmdiPWRpdGhlcihjb2xvci5yZ2IsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtnbF9GcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLHJyKSxza3lib3hDYXB0dXJlOmZyKFwiXFxudmFyeWluZyBoaWdocCB2ZWMzIHZfcG9zaXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X3N1bl9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2x1bWluYW5jZTt1bmlmb3JtIGxvd3AgdmVjMyB1X3N1bl9kaXJlY3Rpb247dW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3JfdGludF9yO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfbTtcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxuI2RlZmluZSBCRVRBX1IgICAgICAgICAgICAgICAgICB2ZWMzKDUuNWUtNiwxMy4wZS02LDIyLjRlLTYpXFxuI2RlZmluZSBCRVRBX00gICAgICAgICAgICAgICAgICB2ZWMzKDIxZS02LDIxZS02LDIxZS02KVxcbiNkZWZpbmUgTUlFX0cgICAgICAgICAgICAgICAgICAgMC43NlxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfUiAgODAwMC4wXFxuI2RlZmluZSBERU5TSVRZX0hFSUdIVF9TQ0FMRV9NICAxMjAwLjBcXG4jZGVmaW5lIFBMQU5FVF9SQURJVVMgICAgICAgICAgIDYzNjBlM1xcbiNkZWZpbmUgQVRNT1NQSEVSRV9SQURJVVMgICAgICAgNjQyMGUzXFxuI2RlZmluZSBTQU1QTEVfU1RFUFMgICAgICAgICAgICAxMFxcbiNkZWZpbmUgREVOU0lUWV9TVEVQUyAgICAgICAgICAgNFxcbmZsb2F0IHJheV9zcGhlcmVfZXhpdCh2ZWMzIG9yaWcsdmVjMyBkaXIsZmxvYXQgcmFkaXVzKSB7ZmxvYXQgYT1kb3QoZGlyLGRpcik7ZmxvYXQgYj0yLjAqZG90KGRpcixvcmlnKTtmbG9hdCBjPWRvdChvcmlnLG9yaWcpLXJhZGl1cypyYWRpdXM7ZmxvYXQgZD1zcXJ0KGIqYi00LjAqYSpjKTtyZXR1cm4gKC1iK2QpLygyLjAqYSk7fXZlYzMgZXh0aW5jdGlvbih2ZWMyIGRlbnNpdHkpIHtyZXR1cm4gZXhwKC12ZWMzKEJFVEFfUip1X2NvbG9yX3RpbnRfci5hKmRlbnNpdHkueCtCRVRBX00qdV9jb2xvcl90aW50X20uYSpkZW5zaXR5LnkpKTt9dmVjMiBsb2NhbF9kZW5zaXR5KHZlYzMgcG9pbnQpIHtmbG9hdCBoZWlnaHQ9bWF4KGxlbmd0aChwb2ludCktUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IGV4cF9yPWV4cCgtaGVpZ2h0L0RFTlNJVFlfSEVJR0hUX1NDQUxFX1IpO2Zsb2F0IGV4cF9tPWV4cCgtaGVpZ2h0L0RFTlNJVFlfSEVJR0hUX1NDQUxFX00pO3JldHVybiB2ZWMyKGV4cF9yLGV4cF9tKTt9ZmxvYXQgcGhhc2VfcmF5KGZsb2F0IGNvc19hbmdsZSkge3JldHVybiAoMy4wLygxNi4wKlBJKSkqKDEuMCtjb3NfYW5nbGUqY29zX2FuZ2xlKTt9ZmxvYXQgcGhhc2VfbWllKGZsb2F0IGNvc19hbmdsZSkge3JldHVybiAoMy4wLyg4LjAqUEkpKSooKDEuMC1NSUVfRypNSUVfRykqKDEuMCtjb3NfYW5nbGUqY29zX2FuZ2xlKSkvKCgyLjArTUlFX0cqTUlFX0cpKnBvdygxLjArTUlFX0cqTUlFX0ctMi4wKk1JRV9HKmNvc19hbmdsZSwxLjUpKTt9dmVjMiBkZW5zaXR5X3RvX2F0bW9zcGhlcmUodmVjMyBwb2ludCx2ZWMzIGxpZ2h0X2Rpcikge2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KHBvaW50LGxpZ2h0X2RpcixBVE1PU1BIRVJFX1JBRElVUyk7ZmxvYXQgc3RlcF9sZW49cmF5X2xlbi9mbG9hdChERU5TSVRZX1NURVBTKTt2ZWMyIGRlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZT12ZWMyKDAuMCk7Zm9yIChpbnQgaT0wOyBpIDwgREVOU0lUWV9TVEVQUzsrK2kpIHt2ZWMzIHBvaW50X29uX3JheT1wb2ludCtsaWdodF9kaXIqKChmbG9hdChpKSswLjUpKnN0ZXBfbGVuKTtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmUrPWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjs7fXJldHVybiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7fXZlYzMgYXRtb3NwaGVyZSh2ZWMzIHJheV9kaXIsdmVjMyBzdW5fZGlyZWN0aW9uLGZsb2F0IHN1bl9pbnRlbnNpdHkpIHt2ZWMyIGRlbnNpdHlfb3JpZ190b19wb2ludD12ZWMyKDAuMCk7dmVjMyBzY2F0dGVyX3I9dmVjMygwLjApO3ZlYzMgc2NhdHRlcl9tPXZlYzMoMC4wKTt2ZWMzIG9yaWdpbj12ZWMzKDAuMCxQTEFORVRfUkFESVVTLDAuMCk7ZmxvYXQgcmF5X2xlbj1yYXlfc3BoZXJlX2V4aXQob3JpZ2luLHJheV9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoU0FNUExFX1NURVBTKTtmb3IgKGludCBpPTA7IGkgPCBTQU1QTEVfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9b3JpZ2luK3JheV9kaXIqKChmbG9hdChpKSswLjUpKnN0ZXBfbGVuKTt2ZWMyIGRlbnNpdHk9bG9jYWxfZGVuc2l0eShwb2ludF9vbl9yYXkpKnN0ZXBfbGVuO2RlbnNpdHlfb3JpZ190b19wb2ludCs9ZGVuc2l0eTt2ZWMyIGRlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZT1kZW5zaXR5X3RvX2F0bW9zcGhlcmUocG9pbnRfb25fcmF5LHN1bl9kaXJlY3Rpb24pO3ZlYzIgZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV9vcmlnX3RvX3BvaW50K2RlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZTt2ZWMzIGV4dGluY3Rpb249ZXh0aW5jdGlvbihkZW5zaXR5X29yaWdfdG9fYXRtb3NwaGVyZSk7c2NhdHRlcl9yKz1kZW5zaXR5LngqZXh0aW5jdGlvbjtzY2F0dGVyX20rPWRlbnNpdHkueSpleHRpbmN0aW9uO31mbG9hdCBjb3NfYW5nbGU9ZG90KHJheV9kaXIsc3VuX2RpcmVjdGlvbik7ZmxvYXQgcGhhc2Vfcj1waGFzZV9yYXkoY29zX2FuZ2xlKTtmbG9hdCBwaGFzZV9tPXBoYXNlX21pZShjb3NfYW5nbGUpO3ZlYzMgYmV0YV9yPUJFVEFfUip1X2NvbG9yX3RpbnRfci5yZ2IqdV9jb2xvcl90aW50X3IuYTt2ZWMzIGJldGFfbT1CRVRBX00qdV9jb2xvcl90aW50X20ucmdiKnVfY29sb3JfdGludF9tLmE7cmV0dXJuIChzY2F0dGVyX3IqcGhhc2VfcipiZXRhX3Irc2NhdHRlcl9tKnBoYXNlX20qYmV0YV9tKSpzdW5faW50ZW5zaXR5O31jb25zdCBmbG9hdCBBPTAuMTU7Y29uc3QgZmxvYXQgQj0wLjUwO2NvbnN0IGZsb2F0IEM9MC4xMDtjb25zdCBmbG9hdCBEPTAuMjA7Y29uc3QgZmxvYXQgRT0wLjAyO2NvbnN0IGZsb2F0IEY9MC4zMDt2ZWMzIHVuY2hhcnRlZDJfdG9uZW1hcCh2ZWMzIHgpIHtyZXR1cm4gKCh4KihBKngrQypCKStEKkUpLyh4KihBKngrQikrRCpGKSktRS9GO312b2lkIG1haW4oKSB7dmVjMyByYXlfZGlyZWN0aW9uPXZfcG9zaXRpb247cmF5X2RpcmVjdGlvbi55PXBvdyhyYXlfZGlyZWN0aW9uLnksNS4wKTtjb25zdCBmbG9hdCB5X2JpYXM9MC4wMTU7cmF5X2RpcmVjdGlvbi55Kz15X2JpYXM7dmVjMyBjb2xvcj1hdG1vc3BoZXJlKG5vcm1hbGl6ZShyYXlfZGlyZWN0aW9uKSx1X3N1bl9kaXJlY3Rpb24sdV9zdW5faW50ZW5zaXR5KTtmbG9hdCB3aGl0ZV9zY2FsZT0xLjA3NDg3MjQ2NzU2MzM4NTQ7Y29sb3I9dW5jaGFydGVkMl90b25lbWFwKChsb2cyKDIuMC9wb3codV9sdW1pbmFuY2UsNC4wKSkpKmNvbG9yKSp3aGl0ZV9zY2FsZTtnbF9GcmFnQ29sb3I9dmVjNChjb2xvciwxLjApO31cIixcImF0dHJpYnV0ZSBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbWF0MyB1X21hdHJpeF8zZjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9wb3NpdGlvbjtmbG9hdCBtYXAoZmxvYXQgdmFsdWUsZmxvYXQgc3RhcnQsZmxvYXQgZW5kLGZsb2F0IG5ld19zdGFydCxmbG9hdCBuZXdfZW5kKSB7cmV0dXJuICgodmFsdWUtc3RhcnQpKihuZXdfZW5kLW5ld19zdGFydCkpLyhlbmQtc3RhcnQpK25ld19zdGFydDt9dm9pZCBtYWluKCkge3ZlYzQgcG9zPXZlYzQodV9tYXRyaXhfM2YqYV9wb3NfM2YsMS4wKTt2X3Bvc2l0aW9uPXBvcy54eXo7dl9wb3NpdGlvbi55Kj0tMS4wO3ZfcG9zaXRpb24ueT1tYXAodl9wb3NpdGlvbi55LC0xLjAsMS4wLDAuMCwxLjApO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3NfM2YueHksMC4wLDEuMCk7fVwiKSxnbG9iZVJhc3RlcjpmcihcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3ZhcnlpbmcgdmVjMiB2X3BvczA7XFxuI2lmbmRlZiBGT0dcXG51bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2dsb2JlX3Bvczt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2xvYmVfcmFkaXVzO3VuaWZvcm0gdmVjMiB1X3ZpZXdwb3J0O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWM0IGNvbG9yO1xcbiNpZmRlZiBDVVNUT01fQU5USUFMSUFTSU5HXFxudmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydDtoaWdocCB2ZWMzIHJheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLHV2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLHV2LngpLDEuMC11di55KTt2ZWMzIGRpcj1ub3JtYWxpemUocmF5X2Rpcik7dmVjMyBjbG9zZXN0X3BvaW50PWRvdCh1X2dsb2JlX3BvcyxkaXIpKmRpcjtmbG9hdCBub3JtX2Rpc3RfZnJvbV9jZW50ZXI9MS4wLWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztjb25zdCBmbG9hdCBhbnRpYWxpYXNfcGl4ZWw9Mi4wO2Zsb2F0IGFudGlhbGlhc19mYWN0b3I9YW50aWFsaWFzX3BpeGVsKmZ3aWR0aChub3JtX2Rpc3RfZnJvbV9jZW50ZXIpO2Zsb2F0IGFudGlhbGlhcz1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNfZmFjdG9yLG5vcm1fZGlzdF9mcm9tX2NlbnRlcik7dmVjNCByYXN0ZXI9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7Y29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxyYXN0ZXIuYSphbnRpYWxpYXMpO1xcbiNlbHNlXFxuY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDAuOCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfcHJval9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbm9ybWFsaXplX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9nbG9iZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbWVyY19tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIG1hdDMgdV9ncmlkX21hdHJpeDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX3BvczthdHRyaWJ1dGUgdmVjMiBhX3V2O1xcbiNlbHNlXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zMDtjb25zdCBmbG9hdCB3aXJlZnJhbWVPZmZzZXQ9MWUzO2Zsb2F0IG1lcmNhdG9yWGZyb21MbmcoZmxvYXQgbG5nKSB7cmV0dXJuICgxODAuMCtsbmcpLzM2MC4wO31mbG9hdCBtZXJjYXRvcllmcm9tTGF0KGZsb2F0IGxhdCkge3JldHVybiAoMTgwLjAtKFJBRF9UT19ERUcqbG9nKHRhbihRVUFSVEVSX1BJK2xhdC8yLjAqREVHX1RPX1JBRCkpKSkvMzYwLjA7fXZlYzMgbGF0TG5nVG9FQ0VGKHZlYzIgbGF0TG5nKSB7bGF0TG5nPURFR19UT19SQUQqbGF0TG5nO2Zsb2F0IGNvc0xhdD1jb3MobGF0TG5nWzBdKTtmbG9hdCBzaW5MYXQ9c2luKGxhdExuZ1swXSk7ZmxvYXQgY29zTG5nPWNvcyhsYXRMbmdbMV0pO2Zsb2F0IHNpbkxuZz1zaW4obGF0TG5nWzFdKTtmbG9hdCBzeD1jb3NMYXQqc2luTG5nKkdMT0JFX1JBRElVUztmbG9hdCBzeT0tc2luTGF0KkdMT0JFX1JBRElVUztmbG9hdCBzej1jb3NMYXQqY29zTG5nKkdMT0JFX1JBRElVUztyZXR1cm4gdmVjMyhzeCxzeSxzeik7fXZvaWQgbWFpbigpIHtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIGdsb2JlX3Bvcz1hX2dsb2JlX3Bvczt2ZWMyIHV2PWFfdXY7XFxuI2Vsc2VcXG5mbG9hdCB0aWxlcz11X2dyaWRfbWF0cml4WzBdWzJdO2Zsb2F0IGlkeD11X2dyaWRfbWF0cml4WzFdWzJdO2Zsb2F0IGlkeT11X2dyaWRfbWF0cml4WzJdWzJdO3ZlYzMgbGF0TG5nPXVfZ3JpZF9tYXRyaXgqdmVjMyhhX3BvcywxLjApO2Zsb2F0IG1lcmNhdG9yWT1tZXJjYXRvcllmcm9tTGF0KGxhdExuZ1swXSk7ZmxvYXQgdXZZPW1lcmNhdG9yWSp0aWxlcy1pZHk7ZmxvYXQgbWVyY2F0b3JYPW1lcmNhdG9yWGZyb21MbmcobGF0TG5nWzFdKTtmbG9hdCB1dlg9bWVyY2F0b3JYKnRpbGVzLWlkeDt2ZWMzIGdsb2JlX3Bvcz1sYXRMbmdUb0VDRUYobGF0TG5nLnh5KTt2ZWMyIG1lcmNfcG9zPXZlYzIobWVyY2F0b3JYLG1lcmNhdG9yWSk7dmVjMiB1dj12ZWMyKHV2WCx1dlkpO1xcbiNlbmRpZlxcbnZfcG9zMD11djt2ZWMyIHRpbGVfcG9zPXV2KkVYVEVOVDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIHVwX3ZlY3Rvcj1ub3JtYWxpemUoZ2xvYmVfcG9zKSp1X3RpbGVfdXBfc2NhbGU7XFxuI2Vsc2VcXG52ZWMzIHVwX3ZlY3Rvcj1lbGV2YXRpb25WZWN0b3IodGlsZV9wb3MpO1xcbiNlbmRpZlxcbmZsb2F0IGhlaWdodD1lbGV2YXRpb24odGlsZV9wb3MpO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmhlaWdodCs9d2lyZWZyYW1lT2Zmc2V0O1xcbiNlbmRpZlxcbmdsb2JlX3Bvcys9dXBfdmVjdG9yKmhlaWdodDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWM0IGludGVycG9sYXRlZF9wb3M9dV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKTtcXG4jZWxzZVxcbnZlYzQgZ2xvYmVfd29ybGRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7dmVjNCBtZXJjX3dvcmxkX3Bvcz12ZWM0KDAuMCk7aWYgKHVfem9vbV90cmFuc2l0aW9uID4gMC4wKSB7bWVyY193b3JsZF9wb3M9dmVjNChtZXJjX3BvcyxoZWlnaHQsMS4wKTttZXJjX3dvcmxkX3Bvcy54eS09dV9tZXJjX2NlbnRlcjttZXJjX3dvcmxkX3Bvcy54PXdyYXAobWVyY193b3JsZF9wb3MueCwtMC41LDAuNSk7bWVyY193b3JsZF9wb3M9dV9tZXJjX21hdHJpeCptZXJjX3dvcmxkX3Bvczt9dmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXZlYzQobWl4KGdsb2JlX3dvcmxkX3Bvcy54eXosbWVyY193b3JsZF9wb3MueHl6LHVfem9vbV90cmFuc2l0aW9uKSwxLjApO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfcHJval9tYXRyaXgqaW50ZXJwb2xhdGVkX3BvcztcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbigodV9ub3JtYWxpemVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCkpLnh5eik7XFxuI2VuZGlmXFxufVwiKSxnbG9iZUF0bW9zcGhlcmU6ZnIoXCJ1bmlmb3JtIGZsb2F0IHVfdHJhbnNpdGlvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZmFkZW91dF9yYW5nZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3VuaWZvcm0gdmVjMyB1X3N0YXJ0X2NvbG9yO3VuaWZvcm0gdmVjNCB1X2NvbG9yO3VuaWZvcm0gdmVjNCB1X3NwYWNlX2NvbG9yO3VuaWZvcm0gdmVjNCB1X2hpZ2hfY29sb3I7dW5pZm9ybSBmbG9hdCB1X3N0YXJfaW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV9zdGFyX3NpemU7dW5pZm9ybSBmbG9hdCB1X3N0YXJfZGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbl9hbmdsZTt1bmlmb3JtIG1hdDQgdV9yb3RhdGlvbl9tYXRyaXg7dmFyeWluZyBoaWdocCB2ZWMzIHZfcmF5X2Rpcjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2RpcjtoaWdocCBmbG9hdCByYW5kb20oaGlnaHAgdmVjMyBwKSB7cD1mcmFjdChwKnZlYzMoMjMuMjM0Miw5Ny4xMjMxLDkxLjIzNDIpKTtwKz1kb3QocC56eHkscC55eHorMTIzLjEyMzQpO3JldHVybiBmcmFjdChwLngqcC55KTt9ZmxvYXQgc3RhcnModmVjMyBwLGZsb2F0IHNjYWxlLHZlYzIgb2Zmc2V0KSB7dmVjMiB1dl9zY2FsZT0odV92aWV3cG9ydC91X3N0YXJfc2l6ZSkqc2NhbGU7dmVjMyBwb3NpdGlvbj12ZWMzKHAueHkqdXZfc2NhbGUrb2Zmc2V0KnVfdmlld3BvcnQscC56KTt2ZWMzIHE9ZnJhY3QocG9zaXRpb24pLTAuNTt2ZWMzIGlkPWZsb29yKHBvc2l0aW9uKTtmbG9hdCByYW5kb21fdmlzaWJpbGl0eT1zdGVwKHJhbmRvbShpZCksdV9zdGFyX2RlbnNpdHkpO2Zsb2F0IGNpcmNsZT1zbW9vdGhzdGVwKDAuNSt1X3N0YXJfaW50ZW5zaXR5LDAuNSxsZW5ndGgocSkpO3JldHVybiBjaXJjbGUqcmFuZG9tX3Zpc2liaWxpdHk7fXZvaWQgbWFpbigpIHtoaWdocCB2ZWMzIGRpcj1ub3JtYWxpemUodl9yYXlfZGlyKTtmbG9hdCBnbG9iZV9wb3NfZG90X2RpcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZ2xvYmVfcG9zX2RvdF9kaXI9ZG90KHVfZ2xvYmVfcG9zLGRpcik7aGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50X2ZvcndhcmQ9YWJzKGdsb2JlX3Bvc19kb3RfZGlyKSpkaXI7ZmxvYXQgbm9ybV9kaXN0X2Zyb21fY2VudGVyPWxlbmd0aChjbG9zZXN0X3BvaW50X2ZvcndhcmQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO2lmIChub3JtX2Rpc3RfZnJvbV9jZW50ZXIgPCAwLjk4KSB7ZGlzY2FyZDtyZXR1cm47fVxcbiNlbmRpZlxcbmhpZ2hwIHZlYzMgaG9yaXpvbl9kaXI9bm9ybWFsaXplKHZfaG9yaXpvbl9kaXIpO2Zsb2F0IGhvcml6b25fYW5nbGVfbWVyY2F0b3I9ZGlyLnkgPCBob3Jpem9uX2Rpci55ID9cXG4wLjAgOiBtYXgoYWNvcyhkb3QoZGlyLGhvcml6b25fZGlyKSksMC4wKTtmbG9hdCBob3Jpem9uX2FuZ2xlO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5oaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnQ9Z2xvYmVfcG9zX2RvdF9kaXIqZGlyO2Zsb2F0IGNsb3Nlc3RfcG9pbnRfdG9fY2VudGVyPWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKTtmbG9hdCB0aGV0YT1hc2luKGNsYW1wKGNsb3Nlc3RfcG9pbnRfdG9fY2VudGVyL2xlbmd0aCh1X2dsb2JlX3BvcyksLTEuMCwxLjApKTtob3Jpem9uX2FuZ2xlPWdsb2JlX3Bvc19kb3RfZGlyIDwgMC4wID9cXG5QSS10aGV0YS11X2hvcml6b25fYW5nbGUgOiB0aGV0YS11X2hvcml6b25fYW5nbGU7ZmxvYXQgYW5nbGVfdD1wb3codV90cmFuc2l0aW9uLDEwLjApO2hvcml6b25fYW5nbGU9bWl4KGhvcml6b25fYW5nbGUsaG9yaXpvbl9hbmdsZV9tZXJjYXRvcixhbmdsZV90KTtcXG4jZWxzZVxcbmhvcml6b25fYW5nbGU9aG9yaXpvbl9hbmdsZV9tZXJjYXRvcjtcXG4jZW5kaWZcXG5ob3Jpem9uX2FuZ2xlLz1QSTtmbG9hdCB0PWV4cCgtaG9yaXpvbl9hbmdsZS91X2ZhZGVvdXRfcmFuZ2UpO2Zsb2F0IGFscGhhXzA9dV9jb2xvci5hO2Zsb2F0IGFscGhhXzE9dV9oaWdoX2NvbG9yLmE7ZmxvYXQgYWxwaGFfMj11X3NwYWNlX2NvbG9yLmE7dmVjMyBjb2xvcl9zdG9wXzA9dV9jb2xvci5yZ2I7dmVjMyBjb2xvcl9zdG9wXzE9dV9oaWdoX2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMj11X3NwYWNlX2NvbG9yLnJnYjt2ZWMzIGMwPW1peChjb2xvcl9zdG9wXzIsY29sb3Jfc3RvcF8xLGFscGhhXzEpO3ZlYzMgYzE9bWl4KGMwLGNvbG9yX3N0b3BfMCxhbHBoYV8wKTt2ZWMzIGMyPW1peChjMCxjMSx0KTt2ZWMzIGMgPW1peChjb2xvcl9zdG9wXzIsYzIsdCk7ZmxvYXQgYTA9bWl4KGFscGhhXzIsMS4wLGFscGhhXzEpO2Zsb2F0IGExPW1peChhMCwxLjAsYWxwaGFfMCk7ZmxvYXQgYTI9bWl4KGEwLGExLHQpO2Zsb2F0IGEgPW1peChhbHBoYV8yLGEyLHQpO3ZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQtMC41O2Zsb2F0IGFzcGVjdF9yYXRpbz11X3ZpZXdwb3J0LngvdV92aWV3cG9ydC55O3ZlYzQgdXZfZGlyPXZlYzQobm9ybWFsaXplKHZlYzModXYueCphc3BlY3RfcmF0aW8sdXYueSwxLjApKSwxLjApO3V2X2Rpcj11X3JvdGF0aW9uX21hdHJpeCp1dl9kaXI7dmVjMyBuPWFicyh1dl9kaXIueHl6KTt2ZWMyIHV2X3JlbWFwPShuLnggPiBuLnkgJiYgbi54ID4gbi56KSA/IHV2X2Rpci55ei91dl9kaXIueDpcXG4obi55ID4gbi54ICYmIG4ueSA+IG4ueikgPyB1dl9kaXIuengvdXZfZGlyLnk6XFxudXZfZGlyLnh5L3V2X2Rpci56O3V2X3JlbWFwLngvPWFzcGVjdF9yYXRpbzt2ZWMzIEQ9dmVjMyh1dl9yZW1hcCwxLjApO2hpZ2hwIGZsb2F0IHN0YXJfZmllbGQ9MC4wO2lmICh1X3N0YXJfaW50ZW5zaXR5ID4gMC4wKSB7c3Rhcl9maWVsZCs9c3RhcnMoRCwxLjIsdmVjMigwLjAsMC4wKSk7c3Rhcl9maWVsZCs9c3RhcnMoRCwxLjAsdmVjMigxLjAsMC4wKSk7c3Rhcl9maWVsZCs9c3RhcnMoRCwwLjgsdmVjMigwLjAsMS4wKSk7c3Rhcl9maWVsZCs9c3RhcnMoRCwwLjYsdmVjMigxLjAsMS4wKSk7c3Rhcl9maWVsZCo9KDEuMC1wb3codCwwLjI1KygxLjAtdV9oaWdoX2NvbG9yLmEpKjAuNzUpKTtjKz1zdGFyX2ZpZWxkKmFscGhhXzI7fWM9ZGl0aGVyKGMsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtnbF9GcmFnQ29sb3I9dmVjNChjLGEpO31cIixcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdXY7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9yYXlfZGlyO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X2hvcml6b25fZGlyO3ZvaWQgbWFpbigpIHt2X3JheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLGFfdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsYV91di54KSxhX3V2LnkpO3ZfaG9yaXpvbl9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX2JsLHVfaG9yaXpvbiksbWl4KHVfZnJ1c3R1bV90cix1X2ZydXN0dW1fYnIsdV9ob3Jpem9uKSxhX3V2LngpO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMS4wKTt9XCIpfTtmdW5jdGlvbiBwcihlLHQpe2NvbnN0IHI9ZS5yZXBsYWNlKC9cXHMqXFwvXFwvW15cXG5dKlxcbi9nLFwiXFxuXCIpLnNwbGl0KFwiXFxuXCIpO2ZvcihsZXQgZSBvZiByKWlmKGU9ZS50cmltKCksXCIjXCI9PT1lWzBdJiZlLmluY2x1ZGVzKFwiaWZcIikmJiFlLmluY2x1ZGVzKFwiZW5kaWZcIikpe2U9ZS5yZXBsYWNlKFwiI1wiLFwiXCIpLnJlcGxhY2UoL2lmZGVmfGlmbmRlZnxlbGlmfGlmL2csXCJcIikucmVwbGFjZSgvIXxkZWZpbmVkfFxcKHxcXCl8XFx8XFx8fCYmL2csXCJcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS50cmltKCk7Y29uc3Qgcj1lLnNwbGl0KFwiIFwiKTtmb3IoY29uc3QgZSBvZiByKXQuaW5jbHVkZXMoZSl8fHQucHVzaChlKX19ZnVuY3Rpb24gZnIoZSx0KXtjb25zdCByPS8jcHJhZ21hIG1hcGJveDogKFtcXHddKykgKFtcXHddKykgKFtcXHddKykgKFtcXHddKykvZyxuPXQubWF0Y2goL2F0dHJpYnV0ZSAoaGlnaHAgfG1lZGl1bXAgfGxvd3AgKT8oW1xcd10rKSAoW1xcd10rKS9nKSxpPXt9LG89Wy4uLmxyXTtyZXR1cm4gcHIoZSxvKSxwcih0LG8pLHtmcmFnbWVudFNvdXJjZTplPWUucmVwbGFjZShyLChlLHQscixuLG8pPT4oaVtvXT0hMCxcImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG52YXJ5aW5nICR7cn0gJHtufSAke299O1xcbiNlbHNlXFxudW5pZm9ybSAke3J9ICR7bn0gdV8ke299O1xcbiNlbmRpZlxcbmA6YFxcbiNpZmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtyfSAke259ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYCkpLHZlcnRleFNvdXJjZTp0PXQucmVwbGFjZShyLChlLHQscixuLG8pPT57Y29uc3QgYT1cImZsb2F0XCI9PT1uP1widmVjMlwiOlwidmVjNFwiLHM9by5tYXRjaCgvY29sb3IvKT9cImNvbG9yXCI6YTtyZXR1cm4gaVtvXT9cImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke299X3Q7XFxuYXR0cmlidXRlICR7cn0gJHthfSBhXyR7b307XFxudmFyeWluZyAke3J9ICR7bn0gJHtvfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtyfSAke259IHVfJHtvfTtcXG4jZW5kaWZcXG5gOlwidmVjNFwiPT09cz9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtvfSA9IGFfJHtvfTtcXG4jZWxzZVxcbiAgICAke3J9ICR7bn0gJHtvfSA9IHVfJHtvfTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbiAgICAke299ID0gdW5wYWNrX21peF8ke3N9KGFfJHtvfSwgdV8ke299X3QpO1xcbiNlbHNlXFxuICAgICR7cn0gJHtufSAke299ID0gdV8ke299O1xcbiNlbmRpZlxcbmA6XCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfJHtvfV90O1xcbmF0dHJpYnV0ZSAke3J9ICR7YX0gYV8ke299O1xcbiNlbHNlXFxudW5pZm9ybSAke3J9ICR7bn0gdV8ke299O1xcbiNlbmRpZlxcbmA6XCJ2ZWM0XCI9PT1zP2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbiAgICAke3J9ICR7bn0gJHtvfSA9IGFfJHtvfTtcXG4jZWxzZVxcbiAgICAke3J9ICR7bn0gJHtvfSA9IHVfJHtvfTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbiAgICAke3J9ICR7bn0gJHtvfSA9IHVucGFja19taXhfJHtzfShhXyR7b30sIHVfJHtvfV90KTtcXG4jZWxzZVxcbiAgICAke3J9ICR7bn0gJHtvfSA9IHVfJHtvfTtcXG4jZW5kaWZcXG5gfSksc3RhdGljQXR0cmlidXRlczpuLHVzZWREZWZpbmVzOm99fWNsYXNzIG1ye2NvbnN0cnVjdG9yKCl7dGhpcy5ib3VuZFByb2dyYW09bnVsbCx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1bXSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMudmFvPW51bGx9YmluZChlLHQscixuLGksbyxhKXt0aGlzLmNvbnRleHQ9ZTtsZXQgcz10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PW4ubGVuZ3RoO2ZvcihsZXQgZT0wOyFzJiZlPG4ubGVuZ3RoO2UrKyl0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzW2VdIT09bltlXSYmKHM9ITApO2xldCBsPXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGghPT1hLmxlbmd0aDtmb3IobGV0IGU9MDshbCYmZTxhLmxlbmd0aDtlKyspdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2VdIT09YVtlXSYmKGw9ITApO2lmKCFlLmV4dFZlcnRleEFycmF5T2JqZWN0fHwhdGhpcy52YW98fHRoaXMuYm91bmRQcm9ncmFtIT09dHx8dGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciE9PXJ8fHN8fGx8fHRoaXMuYm91bmRJbmRleEJ1ZmZlciE9PWl8fHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQhPT1vKXRoaXMuZnJlc2hCaW5kKHQscixuLGksbyxhKTtlbHNle2UuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyk7Zm9yKGNvbnN0IGUgb2YgYSllJiZlLmJpbmQoKTtpJiZpLmR5bmFtaWNEcmF3JiZpLmJpbmQoKX19ZnJlc2hCaW5kKGUsdCxyLG4saSxvKXtsZXQgYTtjb25zdCBzPWUubnVtQXR0cmlidXRlcyxsPXRoaXMuY29udGV4dCxjPWwuZ2w7aWYobC5leHRWZXJ0ZXhBcnJheU9iamVjdCl0aGlzLnZhbyYmdGhpcy5kZXN0cm95KCksdGhpcy52YW89bC5leHRWZXJ0ZXhBcnJheU9iamVjdC5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpLGwuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyksYT0wLHRoaXMuYm91bmRQcm9ncmFtPWUsdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj10LHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnM9cix0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bix0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PWksdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzPW87ZWxzZXthPWwuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKGxldCBlPXM7ZTxhO2UrKyljLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKX10LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxpKTtmb3IoY29uc3QgdCBvZiByKXQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLGkpO2Zvcihjb25zdCB0IG9mIG8pdCYmKHQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLGkpKTtuJiZuLmJpbmQoKSxsLmN1cnJlbnROdW1BdHRyaWJ1dGVzPXN9ZGVzdHJveSgpe3RoaXMudmFvJiYodGhpcy5jb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0LmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMudmFvKSx0aGlzLnZhbz1udWxsKX19ZnVuY3Rpb24gZ3IodCxyKXtjb25zdCBuPU1hdGgucG93KDIsci5jYW5vbmljYWwueiksaT1yLmNhbm9uaWNhbC55O3JldHVybltuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoMCxpL24pLnRvTG5nTGF0KCkubGF0LG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgwLChpKzEpL24pLnRvTG5nTGF0KCkubGF0XX1mdW5jdGlvbiBfcih0LHIsbixpLG8sYSxzKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsdT1uLmZibztpZighdSlyZXR1cm47dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBoPXQudXNlUHJvZ3JhbShcImhpbGxzaGFkZVwiKTtsLmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApLGMuYmluZFRleHR1cmUoYy5URVhUVVJFXzJELHUuY29sb3JBdHRhY2htZW50LmdldCgpKTtjb25zdCBkPSgoZSx0LHIsbik9Pntjb25zdCBpPXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiKSxvPXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKSxhPXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiKTtsZXQgcz1yLnBhaW50LmdldChcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uXCIpKihNYXRoLlBJLzE4MCk7XCJ2aWV3cG9ydFwiPT09ci5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiKSYmKHMtPWUudHJhbnNmb3JtLmFuZ2xlKTtjb25zdCBsPSFlLm9wdGlvbnMubW92aW5nO3JldHVybnt1X21hdHJpeDpufHxlLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHQudGlsZUlELnRvVW53cmFwcGVkKCksbCksdV9pbWFnZTowLHVfbGF0cmFuZ2U6Z3IoMCx0LnRpbGVJRCksdV9saWdodDpbci5wYWludC5nZXQoXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCIpLHNdLHVfc2hhZG93OmksdV9oaWdobGlnaHQ6byx1X2FjY2VudDphfX0pKHQsbixpLHQudGVycmFpbj9yLnByb2pNYXRyaXg6bnVsbCk7dC5wcmVwYXJlRHJhd1Byb2dyYW0obCxoLHIudG9VbndyYXBwZWQoKSk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpwLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpmLHRpbGVCb3VuZHNTZWdtZW50czptfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKG4pO2guZHJhdyhsLGMuVFJJQU5HTEVTLG8sYSxzLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGQsaS5pZCxwLGYsbSl9ZnVuY3Rpb24geXIodCxyLG4pe2lmKCFyLm5lZWRzREVNVGV4dHVyZVVwbG9hZClyZXR1cm47Y29uc3QgaT10LmNvbnRleHQsbz1pLmdsO2kucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KCExKSxyLmRlbVRleHR1cmU9ci5kZW1UZXh0dXJlfHx0LmdldFRpbGVUZXh0dXJlKG4uc3RyaWRlKTtjb25zdCBhPW4uZ2V0UGl4ZWxzKCk7ci5kZW1UZXh0dXJlP3IuZGVtVGV4dHVyZS51cGRhdGUoYSx7cHJlbXVsdGlwbHk6ITF9KTpyLmRlbVRleHR1cmU9bmV3IGUuVGV4dHVyZShpLGEsby5SR0JBLHtwcmVtdWx0aXBseTohMX0pLHIubmVlZHNERU1UZXh0dXJlVXBsb2FkPSExfWZ1bmN0aW9uIHZyKHQscixuLGksbyxhKXtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2w7aWYoIXIuZGVtKXJldHVybjtjb25zdCBjPXIuZGVtO2lmKHMuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMSkseXIodCxyLGMpLCFyLmRlbVRleHR1cmUpcmV0dXJuO3IuZGVtVGV4dHVyZS5iaW5kKGwuTkVBUkVTVCxsLkNMQU1QX1RPX0VER0UpO2NvbnN0IHU9Yy5kaW07cy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKTtsZXQgaD1yLmZibztpZighaCl7Y29uc3QgdD1uZXcgZS5UZXh0dXJlKHMse3dpZHRoOnUsaGVpZ2h0OnUsZGF0YTpudWxsfSxsLlJHQkEpO3QuYmluZChsLkxJTkVBUixsLkNMQU1QX1RPX0VER0UpLGg9ci5mYm89cy5jcmVhdGVGcmFtZWJ1ZmZlcih1LHUsITApLGguY29sb3JBdHRhY2htZW50LnNldCh0LnRleHR1cmUpfXMuYmluZEZyYW1lYnVmZmVyLnNldChoLmZyYW1lYnVmZmVyKSxzLnZpZXdwb3J0LnNldChbMCwwLHUsdV0pO2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6ZCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6cCx0aWxlQm91bmRzU2VnbWVudHM6Zn09dC5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCk7dC51c2VQcm9ncmFtKFwiaGlsbHNoYWRlUHJlcGFyZVwiKS5kcmF3KHMsbC5UUklBTkdMRVMsaSxvLGEsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsKCh0LHIpPT57Y29uc3Qgbj1yLnN0cmlkZSxpPWUuY3JlYXRlKCk7cmV0dXJuIGUub3J0aG8oaSwwLGUuRVhURU5ULC1lLkVYVEVOVCwwLDAsMSksZS50cmFuc2xhdGUoaSxpLFswLC1lLkVYVEVOVCwwXSkse3VfbWF0cml4OmksdV9pbWFnZToxLHVfZGltZW5zaW9uOltuLG5dLHVfem9vbTp0Lm92ZXJzY2FsZWRaLHVfdW5wYWNrOnIudW5wYWNrVmVjdG9yfX0pKHIudGlsZUlELGMpLG4uaWQsZCxwLGYpLHIubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSExfWNvbnN0IHhyPXQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW1hZ2UwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3NraXJ0X2hlaWdodDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxicj0oZSx0KT0+KHt1X21hdHJpeDplLHVfaW1hZ2UwOjAsdV9za2lydF9oZWlnaHQ6dH0pLHdyPShlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHApPT4oe3VfcHJval9tYXRyaXg6RmxvYXQzMkFycmF5LmZyb20oZSksdV9nbG9iZV9tYXRyaXg6dCx1X25vcm1hbGl6ZV9tYXRyaXg6RmxvYXQzMkFycmF5LmZyb20obiksdV9tZXJjX21hdHJpeDpyLHVfem9vbV90cmFuc2l0aW9uOmksdV9tZXJjX2NlbnRlcjpvLHVfaW1hZ2UwOjAsdV9mcnVzdHVtX3RsOmEsdV9mcnVzdHVtX3RyOnMsdV9mcnVzdHVtX2JyOmwsdV9mcnVzdHVtX2JsOmMsdV9nbG9iZV9wb3M6dSx1X2dsb2JlX3JhZGl1czpoLHVfdmlld3BvcnQ6ZCx1X2dyaWRfbWF0cml4OnA/RmxvYXQzMkFycmF5LmZyb20ocCk6bmV3IEZsb2F0MzJBcnJheSg5KX0pO2Z1bmN0aW9uIFRyKGUsdCl7cmV0dXJuIG51bGwhPWUmJm51bGwhPXQmJiEoIWUuaGFzRGF0YSgpfHwhdC5oYXNEYXRhKCkpJiZudWxsIT1lLmRlbVRleHR1cmUmJm51bGwhPXQuZGVtVGV4dHVyZSYmZS50aWxlSUQua2V5IT09dC50aWxlSUQua2V5fWNvbnN0IEVyPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMub3BlcmF0aW9ucz17fX1uZXdNb3JwaGluZyhlLHQscixuLGkpe2lmKGUgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCB0PXRoaXMub3BlcmF0aW9uc1tlXTt0LnRvLnRpbGVJRC5rZXkhPT1yLnRpbGVJRC5rZXkmJih0LnF1ZXVlZD1yKX1lbHNlIHRoaXMub3BlcmF0aW9uc1tlXT17c3RhcnRUaW1lOm4scGhhc2U6MCxkdXJhdGlvbjppLGZyb206dCx0bzpyLHF1ZXVlZDpudWxsfX1nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGUpe2lmKCEoZSBpbiB0aGlzLm9wZXJhdGlvbnMpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5vcGVyYXRpb25zW2VdO3JldHVybntmcm9tOnQuZnJvbSx0bzp0LnRvLHBoYXNlOnQucGhhc2V9fXVwZGF0ZShlKXtmb3IoY29uc3QgdCBpbiB0aGlzLm9wZXJhdGlvbnMpe2NvbnN0IHI9dGhpcy5vcGVyYXRpb25zW3RdO2ZvcihyLnBoYXNlPShlLXIuc3RhcnRUaW1lKS9yLmR1cmF0aW9uO3IucGhhc2U+PTF8fCF0aGlzLl92YWxpZE9wKHIpOylpZighdGhpcy5fbmV4dE9wKHIsZSkpe2RlbGV0ZSB0aGlzLm9wZXJhdGlvbnNbdF07YnJlYWt9fX1fbmV4dE9wKGUsdCl7cmV0dXJuISFlLnF1ZXVlZCYmKGUuZnJvbT1lLnRvLGUudG89ZS5xdWV1ZWQsZS5xdWV1ZWQ9bnVsbCxlLnBoYXNlPTAsZS5zdGFydFRpbWU9dCwhMCl9X3ZhbGlkT3AoZSl7cmV0dXJuIGUuZnJvbS5oYXNEYXRhKCkmJmUudG8uaGFzRGF0YSgpfX0sU3I9ezA6bnVsbCwxOlwiVEVSUkFJTl9WRVJURVhfTU9SUEhJTkdcIiwyOlwiVEVSUkFJTl9XSVJFRlJBTUVcIn07ZnVuY3Rpb24gQ3IoZSx0KXtjb25zdCByPTE8PGUuejtyZXR1cm4hdCYmKDA9PT1lLnh8fGUueD09PXItMSl8fDA9PT1lLnl8fGUueT09PXItMX1jb25zdCBNcj1lPT4oe3VfbWF0cml4OmV9KTtmdW5jdGlvbiBrcih0LHIsbixpLG8pe2lmKG8+MCl7Y29uc3QgYT1lLmV4cG9ydGVkLm5vdygpLHM9KGEtdC50aW1lQWRkZWQpL28sbD1yPyhhLXIudGltZUFkZGVkKS9vOi0xLGM9bi5nZXRTb3VyY2UoKSx1PWkuY292ZXJpbmdab29tTGV2ZWwoe3RpbGVTaXplOmMudGlsZVNpemUscm91bmRab29tOmMucm91bmRab29tfSksaD0hcnx8TWF0aC5hYnMoci50aWxlSUQub3ZlcnNjYWxlZFotdSk+TWF0aC5hYnModC50aWxlSUQub3ZlcnNjYWxlZFotdSksZD1oJiZ0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPzE6ZS5jbGFtcChoP3M6MS1sLDAsMSk7cmV0dXJuIHQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24mJnM+PTEmJih0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSExKSxyP3tvcGFjaXR5OjEsbWl4OjEtZH06e29wYWNpdHk6ZCxtaXg6MH19cmV0dXJue29wYWNpdHk6MSxtaXg6MH19Y2xhc3MgQXIgZXh0ZW5kcyBlLlNvdXJjZUNhY2hle2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9e3R5cGU6XCJyYXN0ZXItZGVtXCIsbWF4em9vbTplLnRyYW5zZm9ybS5tYXhab29tfSxyPW5ldyB6KE5lKCksbnVsbCksbj16ZShcIm1vY2stZGVtXCIsdCxyLGUuc3R5bGUpO3N1cGVyKFwibW9jay1kZW1cIixuLCExKSxuLnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5fc291cmNlTG9hZGVkPSEwfV9sb2FkVGlsZShlLHQpe2Uuc3RhdGU9XCJsb2FkZWRcIix0KG51bGwpfX1jbGFzcyBJciBleHRlbmRzIGUuU291cmNlQ2FjaGV7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD16ZShcInByb3h5XCIse3R5cGU6XCJnZW9qc29uXCIsbWF4em9vbTplLnRyYW5zZm9ybS5tYXhab29tfSxuZXcgeihOZSgpLG51bGwpLGUuc3R5bGUpO3N1cGVyKFwicHJveHlcIix0LCExKSx0LnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5tYXA9dGhpcy5nZXRTb3VyY2UoKS5tYXA9ZSx0aGlzLnVzZWQ9dGhpcy5fc291cmNlTG9hZGVkPSEwLHRoaXMucmVuZGVyQ2FjaGU9W10sdGhpcy5yZW5kZXJDYWNoZVBvb2w9W10sdGhpcy5wcm94eUNhY2hlZEZCTz17fX11cGRhdGUodCxyLG4pe2lmKHQuZnJlZXplVGlsZUNvdmVyYWdlKXJldHVybjt0aGlzLnRyYW5zZm9ybT10O2NvbnN0IGk9dC5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZH0pLnJlZHVjZSgocixuKT0+e2lmKHJbbi5rZXldPVwiXCIsIXRoaXMuX3RpbGVzW24ua2V5XSl7Y29uc3Qgcj1uZXcgZS5UaWxlKG4sdGhpcy5fc291cmNlLnRpbGVTaXplKm4ub3ZlcnNjYWxlRmFjdG9yKCksdC50aWxlWm9vbSk7ci5zdGF0ZT1cImxvYWRlZFwiLHRoaXMuX3RpbGVzW24ua2V5XT1yfXJldHVybiByfSx7fSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpZSBpbiBpfHwodGhpcy5mcmVlRkJPKGUpLHRoaXMuX3RpbGVzW2VdLnVubG9hZFZlY3RvckRhdGEoKSxkZWxldGUgdGhpcy5fdGlsZXNbZV0pfWZyZWVGQk8oZSl7Y29uc3QgdD10aGlzLnByb3h5Q2FjaGVkRkJPW2VdO2lmKHZvaWQgMCE9PXQpe2NvbnN0IHI9T2JqZWN0LnZhbHVlcyh0KTt0aGlzLnJlbmRlckNhY2hlUG9vbC5wdXNoKC4uLnIpLGRlbGV0ZSB0aGlzLnByb3h5Q2FjaGVkRkJPW2VdfX1kZWFsbG9jUmVuZGVyQ2FjaGUoKXt0aGlzLnJlbmRlckNhY2hlLmZvckVhY2goZT0+ZS5mYi5kZXN0cm95KCkpLHRoaXMucmVuZGVyQ2FjaGU9W10sdGhpcy5yZW5kZXJDYWNoZVBvb2w9W10sdGhpcy5wcm94eUNhY2hlZEZCTz17fX19Y2xhc3MgUHIgZXh0ZW5kcyBlLk92ZXJzY2FsZWRUaWxlSUR7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUub3ZlcnNjYWxlZFosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KSx0aGlzLnByb3h5VGlsZUtleT10LHRoaXMucHJvak1hdHJpeD1yfX1jbGFzcyB6ciBleHRlbmRzIGUuRWxldmF0aW9ue2NvbnN0cnVjdG9yKHQscil7c3VwZXIoKSx0aGlzLnBhaW50ZXI9dCx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fSx0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGU9e307Y29uc3RbbixpLG9dPWZ1bmN0aW9uKHQpe2NvbnN0IHI9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQ0aTgsbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTYsaT0xMzE7ci5yZXNlcnZlKDE3MTYxKSxuLnJlc2VydmUoMzM4MDApO2NvbnN0IG89ZS5FWFRFTlQvMTI4LGE9ZS5FWFRFTlQrby8yLHM9YStvO2ZvcihsZXQgdD0tbzt0PHM7dCs9bylmb3IobGV0IG49LW87bjxzO24rPW8pe2NvbnN0IGk9bjwwfHxuPmF8fHQ8MHx8dD5hPzI0NTc1OjAsbz1lLmNsYW1wKE1hdGgucm91bmQobiksMCxlLkVYVEVOVCkscz1lLmNsYW1wKE1hdGgucm91bmQodCksMCxlLkVYVEVOVCk7ci5lbXBsYWNlQmFjayhvK2kscyxvLHMpfWNvbnN0IGw9KGUsdCk9Pntjb25zdCByPXQqaStlO24uZW1wbGFjZUJhY2socisxLHIscitpKSxuLmVtcGxhY2VCYWNrKHIraSxyK2krMSxyKzEpfTtmb3IobGV0IGU9MTtlPDEyOTtlKyspZm9yKGxldCB0PTE7dDwxMjk7dCsrKWwodCxlKTtyZXR1cm5bMCwxMjldLmZvckVhY2goZT0+e2ZvcihsZXQgdD0wO3Q8MTMwO3QrKylsKHQsZSksbChlLHQpfSksW3IsbiwzMjc2OF19KCksYT10LmNvbnRleHQ7dGhpcy5ncmlkQnVmZmVyPWEuY3JlYXRlVmVydGV4QnVmZmVyKG4sZS5ib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuZ3JpZEluZGV4QnVmZmVyPWEuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5ncmlkU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLG4ubGVuZ3RoLGkubGVuZ3RoKSx0aGlzLmdyaWROb1NraXJ0U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLG4ubGVuZ3RoLG8pLHRoaXMucHJveHlDb29yZHM9W10sdGhpcy5wcm94aWVkQ29vcmRzPXt9LHRoaXMuX3Zpc2libGVEZW1UaWxlcz1bXSx0aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPVtdLHRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcD17fSx0aGlzLnByb3h5U291cmNlQ2FjaGU9bmV3IElyKHIubWFwKSx0aGlzLm9ydGhvTWF0cml4PWUuY3JlYXRlKCksZS5vcnRobyh0aGlzLm9ydGhvTWF0cml4LFwiZ2xvYmVcIj09PXRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPy4wMTU6MCxlLkVYVEVOVCwwLGUuRVhURU5ULDAsMSk7Y29uc3Qgcz1hLmdsO3RoaXMuX292ZXJsYXBTdGVuY2lsTW9kZT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpzLkdFUVVBTCxtYXNrOjI1NX0sMCwyNTUscy5LRUVQLHMuS0VFUCxzLlJFUExBQ0UpLHRoaXMuX3ByZXZpb3VzWm9vbT10LnRyYW5zZm9ybS56b29tLHRoaXMucG9vbD1bXSx0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGU9e30sdGhpcy5fdGlsZXNEaXJ0eT17fSx0aGlzLnN0eWxlPXIsdGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ITAsdGhpcy5fZXhhZ2dlcmF0aW9uPTEsdGhpcy5fbW9ja1NvdXJjZUNhY2hlPW5ldyBBcihyLm1hcCl9c2V0IHN0eWxlKGUpe2Uub24oXCJkYXRhXCIsdGhpcy5fb25TdHlsZURhdGFFdmVudC5iaW5kKHRoaXMpKSxlLm9uKFwibmV3b3JkZXJcIix0aGlzLl9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeS5iaW5kKHRoaXMpKSx0aGlzLl9zdHlsZT1lLHRoaXMuX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5KCl9dXBkYXRlKHQscixuKXtpZih0JiZ0LnRlcnJhaW4pe3RoaXMuX3N0eWxlIT09dCYmKHRoaXMuc3R5bGU9dCksdGhpcy5lbmFibGVkPSEwO2NvbnN0IGk9dC50ZXJyYWluLnByb3BlcnRpZXM7dGhpcy5zb3VyY2VDYWNoZT0wPT09dC50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZT90aGlzLl9tb2NrU291cmNlQ2FjaGU6dC5fZ2V0U291cmNlQ2FjaGUoaS5nZXQoXCJzb3VyY2VcIikpLHRoaXMuX2V4YWdnZXJhdGlvbj1pLmdldChcImV4YWdnZXJhdGlvblwiKTtjb25zdCBvPSgpPT57dGhpcy5zb3VyY2VDYWNoZS51c2VkJiZlLndhcm5PbmNlKGBSYXN0ZXIgREVNIHNvdXJjZSAnJHt0aGlzLnNvdXJjZUNhY2hlLmlkfScgaXMgdXNlZCBib3RoIGZvciB0ZXJyYWluIGFuZCBhcyBsYXllciBzb3VyY2UuXFxuVGhpcyBsZWFkcyB0byBsb3dlciByZXNvbHV0aW9uIG9mIGhpbGxzaGFkZS4gRm9yIGZ1bGwgaGlsbHNoYWRlIHJlc29sdXRpb24gYnV0IGhpZ2hlciBtZW1vcnkgY29uc3VtcHRpb24sIGRlZmluZSBhbm90aGVyIHJhc3RlciBERU0gc291cmNlLmApO2NvbnN0IHQ9dGhpcy5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpO3RoaXMuc291cmNlQ2FjaGUudXBkYXRlKHIsdCwhMCksdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKX07dGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbnx8KHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5zb3VyY2VDYWNoZS5pZCksdGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbj0hMCxvKCksdGhpcy5faW5pdGlhbGl6aW5nPSEwKSxvKCksci51cGRhdGVFbGV2YXRpb24oIW4pLHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5wcm94eVNvdXJjZUNhY2hlLmlkKSx0aGlzLnByb3h5U291cmNlQ2FjaGUudXBkYXRlKHIpLHRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5PSEwfWVsc2UgdGhpcy5fZGlzYWJsZSgpfXJlc2V0VGlsZUxvb2t1cENhY2hlKGUpe3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlXT17fX1nZXRTY2FsZWREZW1UaWxlU2l6ZSgpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplLzEyOCp0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemV9X2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5KCl7Y29uc3QgdD10aGlzLnJlbmRlckNhY2hlRWZmaWNpZW5jeSh0aGlzLl9zdHlsZSk7dGhpcy5fc3R5bGUubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW58fDEwMCE9PXQuZWZmaWNpZW5jeSYmZS53YXJuT25jZShgVGVycmFpbiByZW5kZXIgY2FjaGUgZWZmaWNpZW5jeSBpcyBub3Qgb3B0aW1hbCAoJHt0LmVmZmljaWVuY3l9JSkgYW5kIHBlcmZvcm1hbmNlXFxuICAgICAgICAgICAgICAgIG1heSBiZSBhZmZlY3RlZCBuZWdhdGl2ZWx5LCBjb25zaWRlciBwbGFjaW5nIGFsbCBiYWNrZ3JvdW5kLCBmaWxsIGFuZCBsaW5lIGxheWVycyBiZWZvcmUgbGF5ZXJcXG4gICAgICAgICAgICAgICAgd2l0aCBpZCAnJHt0LmZpcnN0VW5kcmFwZWRMYXllcn0nIG9yIGNyZWF0ZSBhIG1hcCB1c2luZyBvcHRpbWl6ZUZvclRlcnJhaW46IHRydWUgb3B0aW9uLmApfV9vblN0eWxlRGF0YUV2ZW50KGUpe2UuY29vcmQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlP3RoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuc291cmNlQ2FjaGVJZCxlLmNvb3JkKTpcInN0eWxlXCI9PT1lLmRhdGFUeXBlJiYodGhpcy5faW52YWxpZGF0ZVJlbmRlckNhY2hlPSEwKX1fZGlzYWJsZSgpe2lmKHRoaXMuZW5hYmxlZCYmKHRoaXMuZW5hYmxlZD0hMSx0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9dm9pZCAwLHRoaXMucHJveHlTb3VyY2VDYWNoZS5kZWFsbG9jUmVuZGVyQ2FjaGUoKSx0aGlzLl9zdHlsZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2VdLnVzZWRGb3JUZXJyYWluPSExfWRlc3Ryb3koKXt0aGlzLl9kaXNhYmxlKCksdGhpcy5fZW1wdHlERU1UZXh0dXJlJiZ0aGlzLl9lbXB0eURFTVRleHR1cmUuZGVzdHJveSgpLHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlJiZ0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZS5kZXN0cm95KCksdGhpcy5wb29sLmZvckVhY2goZT0+ZS5mYi5kZXN0cm95KCkpLHRoaXMucG9vbD1bXSx0aGlzLl9kZXB0aEZCTyYmKHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCl9X3NvdXJjZSgpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5zb3VyY2VDYWNoZTpudWxsfWlzVXNpbmdNb2NrU291cmNlKCl7cmV0dXJuIHRoaXMuc291cmNlQ2FjaGU9PT10aGlzLl9tb2NrU291cmNlQ2FjaGV9ZXhhZ2dlcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2V4YWdnZXJhdGlvbn1nZXQgdmlzaWJsZURlbVRpbGVzKCl7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlc31nZXQgZHJhcGVCdWZmZXJTaXplKCl7Y29uc3QgZT0yKnRoaXMucHJveHlTb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZTtyZXR1cm5bZSxlXX1zZXQgdXNlVmVydGV4TW9ycGhpbmcoZSl7dGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ZX11cGRhdGVUaWxlQmluZGluZyh0KXtpZighdGhpcy5lbmFibGVkKXJldHVybjt0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGU9dGhpcy50ZXJyYWluVGlsZUZvclRpbGU7Y29uc3Qgcj10aGlzLnByb3h5U291cmNlQ2FjaGUsbj10aGlzLnBhaW50ZXIudHJhbnNmb3JtO3RoaXMuX2luaXRpYWxpemluZyYmKHRoaXMuX2luaXRpYWxpemluZz0wPT09bi5fY2VudGVyQWx0aXR1ZGUmJi0xPT09dGhpcy5nZXRBdFBvaW50T3JaZXJvKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobi5jZW50ZXIpLC0xKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hdGhpcy5faW5pdGlhbGl6aW5nKTtjb25zdCBpPXRoaXMucHJveHlDb29yZHM9ci5nZXRJZHMoKS5tYXAoZT0+e2NvbnN0IHQ9ci5nZXRUaWxlQnlJRChlKS50aWxlSUQ7cmV0dXJuIHQucHJvak1hdHJpeD1uLmNhbGN1bGF0ZVByb2pNYXRyaXgodC50b1Vud3JhcHBlZCgpKSx0fSk7IWZ1bmN0aW9uKHQscil7Y29uc3Qgbj1yLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUoci50cmFuc2Zvcm0uZ2V0Q2FtZXJhUG9pbnQoKSksaT1uZXcgZS5wb2ludEdlb21ldHJ5KG4ueCxuLnkpO3Quc29ydCgodCxyKT0+e2lmKHIub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWilyZXR1cm4gci5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRaO2NvbnN0IG49bmV3IGUucG9pbnRHZW9tZXRyeSh0LmNhbm9uaWNhbC54KygxPDx0LmNhbm9uaWNhbC56KSp0LndyYXAsdC5jYW5vbmljYWwueSksbz1uZXcgZS5wb2ludEdlb21ldHJ5KHIuY2Fub25pY2FsLngrKDE8PHIuY2Fub25pY2FsLnopKnIud3JhcCxyLmNhbm9uaWNhbC55KSxhPWkubXVsdCgxPDx0LmNhbm9uaWNhbC56KTtyZXR1cm4gYS54LT0uNSxhLnktPS41LGEuZGlzdFNxcihuKS1hLmRpc3RTcXIobyl9KX0oaSx0aGlzLnBhaW50ZXIpLHRoaXMuX3ByZXZpb3VzWm9vbT1uLnpvb207Y29uc3Qgbz10aGlzLnByb3h5VG9Tb3VyY2V8fHt9O3RoaXMucHJveHlUb1NvdXJjZT17fSxpLmZvckVhY2goZT0+e3RoaXMucHJveHlUb1NvdXJjZVtlLmtleV09e319KSx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fTtjb25zdCBhPXRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGUgaW4gYSl7Y29uc3Qgcj1hW2VdO2lmKCFyLnVzZWQpY29udGludWU7aWYociE9PXRoaXMuc291cmNlQ2FjaGUmJnRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUoci5pZCksdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8ocix0W2VdLG8pLHIudXNlZEZvclRlcnJhaW4pY29udGludWU7Y29uc3Qgbj10W2VdO3IuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQmJnRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhuKX10aGlzLnByb3hpZWRDb29yZHNbci5pZF09aS5tYXAoZT0+bmV3IFByKGUsZS5rZXksdGhpcy5vcnRob01hdHJpeCkpLHRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhpKSx0aGlzLl9wcmVwYXJlREVNVGV4dHVyZXMoKSx0aGlzLl9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKSx0aGlzLl9pbml0RkJPUG9vbCgpLHRoaXMuX3NldHVwUmVuZGVyQ2FjaGUobyksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsdGhpcy5fdXBkYXRlVGltZXN0YW1wPWUuZXhwb3J0ZWQubm93KCk7Y29uc3Qgcz17fTt0aGlzLl92aXNpYmxlRGVtVGlsZXM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV07aWYoIXQpY29udGludWU7Y29uc3Qgcj10LnRpbGVJRC5rZXk7ciBpbiBzfHwodGhpcy5fdmlzaWJsZURlbVRpbGVzLnB1c2godCksc1tyXT1yKX19X2Fzc2lnblRlcnJhaW5UaWxlcyhlKXt0aGlzLl9pbml0aWFsaXppbmd8fGUuZm9yRWFjaChlPT57aWYodGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldKXJldHVybjtjb25zdCB0PXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0aGlzLnNvdXJjZUNhY2hlKTt0JiYodGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldPXQpfSl9X3ByZXBhcmVERU1UZXh0dXJlcygpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbnRleHQsdD1lLmdsO2Zvcihjb25zdCByIGluIHRoaXMudGVycmFpblRpbGVGb3JUaWxlKXtjb25zdCBuPXRoaXMudGVycmFpblRpbGVGb3JUaWxlW3JdLGk9bi5kZW07IWl8fG4uZGVtVGV4dHVyZSYmIW4ubmVlZHNERU1UZXh0dXJlVXBsb2FkfHwoZS5hY3RpdmVUZXh0dXJlLnNldCh0LlRFWFRVUkUxKSx5cih0aGlzLnBhaW50ZXIsbixpKSl9fV9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUsdCxyLG4pe2lmKCF0fHxudWxsPT10LmRlbVRleHR1cmUpcmV0dXJuITE7Y29uc3QgaT1lLnRpbGVJRC5jYW5vbmljYWwsbz1NYXRoLnBvdygyLHQudGlsZUlELmNhbm9uaWNhbC56LWkueiksYT1ufHxcIlwiO3JldHVybiByW1widV9kZW1fdGxcIithXT1baS54Km8lMSxpLnkqbyUxXSxyW1widV9kZW1fc2NhbGVcIithXT1vLCEwfWdldCBlbXB0eURFTVRleHR1cmUoKXtyZXR1cm4hdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHkmJnRoaXMuX2VtcHR5REVNVGV4dHVyZT90aGlzLl9lbXB0eURFTVRleHR1cmU6dGhpcy5fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl9Z2V0IGVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dCxyPXQuZ2w7aWYoIXRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKXtjb25zdCBuPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigyNTUsMjU1LDI1NSwyNTUpKTt0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsbixyLlJHQkEse3ByZW11bHRpcGx5OiExfSl9cmV0dXJuIHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlfV9nZXRMb2FkZWRBcmVhTWluaW11bSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLl92aXNpYmxlRGVtVGlsZXMucmVkdWNlKCh0LHIpPT57aWYoIXIuZGVtKXJldHVybiB0O2NvbnN0IG49ci5kZW0udHJlZS5taW5pbXVtc1swXTtyZXR1cm4gbj4wJiZlKyssdCtufSwwKTtyZXR1cm4gZT90L2U6MH1fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dCxyPXQuZ2w7dC5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUyKTtjb25zdCBuPXRoaXMuX2dldExvYWRlZEFyZWFNaW5pbXVtKCksaT1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LG5ldyBVaW50OEFycmF5KGUuREVNRGF0YS5wYWNrKG4sdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5lbmNvZGluZykpKTt0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMTtsZXQgbz10aGlzLl9lbXB0eURFTVRleHR1cmU7cmV0dXJuIG8/by51cGRhdGUoaSx7cHJlbXVsdGlwbHk6ITF9KTpvPXRoaXMuX2VtcHR5REVNVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsaSxyLlJHQkEse3ByZW11bHRpcGx5OiExfSksb31zZXR1cEVsZXZhdGlvbkRyYXcodCxyLG4pe2NvbnN0IGk9dGhpcy5wYWludGVyLmNvbnRleHQsbz1pLmdsLGE9KHM9dGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5lbmNvZGluZyx7dV9kZW06Mix1X2RlbV9wcmV2OjQsdV9kZW1fdW5wYWNrOmUuREVNRGF0YS5nZXRVbnBhY2tWZWN0b3IocyksdV9kZW1fdGw6WzAsMF0sdV9kZW1fdGxfcHJldjpbMCwwXSx1X2RlbV9zY2FsZTowLHVfZGVtX3NjYWxlX3ByZXY6MCx1X2RlbV9zaXplOjAsdV9kZW1fbGVycDoxLHVfZGVwdGg6Myx1X2RlcHRoX3NpemVfaW52OlswLDBdLHVfZXhhZ2dlcmF0aW9uOjB9KTt2YXIgczthLnVfZGVtX3NpemU9dGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZSxhLnVfZXhhZ2dlcmF0aW9uPXRoaXMuZXhhZ2dlcmF0aW9uKCk7bGV0IGw9bnVsbCxjPW51bGwsdT0xO2lmKG4mJm4ubW9ycGhpbmcmJnRoaXMuX3VzZVZlcnRleE1vcnBoaW5nKXtjb25zdCBlPW4ubW9ycGhpbmcuc3JjRGVtVGlsZSxyPW4ubW9ycGhpbmcuZHN0RGVtVGlsZTt1PW4ubW9ycGhpbmcucGhhc2UsZSYmciYmKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxlLGEsXCJfcHJldlwiKSYmKGM9ZSksdGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0LHIsYSkmJihsPXIpKX1pZihjJiZsPyhpLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTIpLGwuZGVtVGV4dHVyZS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0Usby5ORUFSRVNUKSxpLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTQpLGMuZGVtVGV4dHVyZS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0Usby5ORUFSRVNUKSxhLnVfZGVtX2xlcnA9dSk6KGw9dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbdC50aWxlSUQua2V5XSxpLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTIpLCh0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsbCxhKT9sLmRlbVRleHR1cmU6dGhpcy5lbXB0eURFTVRleHR1cmUpLmJpbmQoby5ORUFSRVNULG8uQ0xBTVBfVE9fRURHRSkpLGkuYWN0aXZlVGV4dHVyZS5zZXQoby5URVhUVVJFMyksbiYmbi51c2VEZXB0aEZvck9jY2x1c2lvbj8odGhpcy5fZGVwdGhUZXh0dXJlJiZ0aGlzLl9kZXB0aFRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFKSx0aGlzLl9kZXB0aEZCTyYmKGEudV9kZXB0aF9zaXplX2ludj1bMS90aGlzLl9kZXB0aEZCTy53aWR0aCwxL3RoaXMuX2RlcHRoRkJPLmhlaWdodF0pKToodGhpcy5lbXB0eURlcHRoQnVmZmVyVGV4dHVyZS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0UpLGEudV9kZXB0aF9zaXplX2ludj1bMSwxXSksbiYmbi51c2VNZXRlclRvRGVtJiZsKXtjb25zdCB0PSgxPDxsLnRpbGVJRC5jYW5vbmljYWwueikqZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLnBhaW50ZXIudHJhbnNmb3JtLmNlbnRlci5sYXQpKnRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7YS51X21ldGVyX3RvX2RlbT10fWlmKG4mJm4ubGFiZWxQbGFuZU1hdHJpeEludiYmKGEudV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52PW4ubGFiZWxQbGFuZU1hdHJpeEludiksci5zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhpLGEpLFwiZ2xvYmVcIj09PXRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMuZ2xvYmVVbmlmb3JtVmFsdWVzKHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdC50aWxlSUQuY2Fub25pY2FsLG4mJm4udXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZSk7ci5zZXRHbG9iZVVuaWZvcm1WYWx1ZXMoaSxlKX19Z2xvYmVVbmlmb3JtVmFsdWVzKHQscixuKXtjb25zdCBpPXQucHJvamVjdGlvbjtyZXR1cm57dV90aWxlX3RsX3VwOmkudXBWZWN0b3IociwwLDApLHVfdGlsZV90cl91cDppLnVwVmVjdG9yKHIsZS5FWFRFTlQsMCksdV90aWxlX2JyX3VwOmkudXBWZWN0b3IocixlLkVYVEVOVCxlLkVYVEVOVCksdV90aWxlX2JsX3VwOmkudXBWZWN0b3IociwwLGUuRVhURU5UKSx1X3RpbGVfdXBfc2NhbGU6bj9lLkdMT0JFX01FVEVSU19UT19FQ0VGOmkudXBWZWN0b3JTY2FsZShyLHQuY2VudGVyLmxhdCx0LndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlfX1yZW5kZXJUb0JhY2tCdWZmZXIodCl7Y29uc3Qgcj10aGlzLnBhaW50ZXIsbj10aGlzLnBhaW50ZXIuY29udGV4dDswIT09dC5sZW5ndGgmJihuLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCksbi52aWV3cG9ydC5zZXQoWzAsMCxyLndpZHRoLHIuaGVpZ2h0XSksci5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0KCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsZnVuY3Rpb24odCxyLG4saSxvKXtpZihcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpIWZ1bmN0aW9uKHQscixuLGksbyl7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsO2xldCBsLGM7Y29uc3QgdT10Lm9wdGlvbnMuc2hvd1RlcnJhaW5XaXJlZnJhbWU/MjowLGg9dC50cmFuc2Zvcm0sZD1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsYSxoKSxwPShlLHIpPT57aWYoYz09PWUpcmV0dXJuO2NvbnN0IG49W1NyW2VdLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO2QmJm4ucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksciYmbi5wdXNoKFNyW3VdKSxsPXQudXNlUHJvZ3JhbShcImdsb2JlUmFzdGVyXCIsbnVsbCxuKSxjPWV9LGY9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1uZXcgZS5EZXB0aE1vZGUocy5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtFci51cGRhdGUobyk7Y29uc3QgZz1lLmNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXgoaCksXz1bZS5tZXJjYXRvclhmcm9tTG5nKGguY2VudGVyLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KGguY2VudGVyLmxhdCldLHk9dT9bITEsITBdOlshMV0sdj10Lmdsb2JlU2hhcmVkQnVmZmVycyx4PVtoLndpZHRoKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxoLmhlaWdodCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW9dLGI9RmxvYXQzMkFycmF5LmZyb20oaC5nbG9iZU1hdHJpeCksdz17dXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZTohMH07aWYoeS5mb3JFYWNoKHU9PntjPS0xO2NvbnN0IGQ9dT9zLkxJTkVTOnMuVFJJQU5HTEVTO2Zvcihjb25zdCBjIG9mIGkpe2NvbnN0IGk9bi5nZXRUaWxlKGMpLHk9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxUPXIucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV0sRT1yLnRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV07VHIoVCxFKSYmRXIubmV3TW9ycGhpbmcoYy5rZXksVCxFLG8sMjUwKSxhLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLGkudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgUz1Fci5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGMua2V5KSxDPVM/MTowO1MmJmUuZXh0ZW5kJDEodyx7bW9ycGhpbmc6e3NyY0RlbVRpbGU6Uy5mcm9tLGRzdERlbVRpbGU6Uy50byxwaGFzZTplLmVhc2VDdWJpY0luT3V0KFMucGhhc2UpfX0pO2NvbnN0IE09ZS50aWxlQ29ybmVyc1RvQm91bmRzKGMuY2Fub25pY2FsKSxrPWUuZ2V0TGF0aXR1ZGluYWxMb2QoTS5nZXRDZW50ZXIoKS5sYXQpLEE9ZS5nZXRHcmlkTWF0cml4KGMuY2Fub25pY2FsLE0sayxoLndvcmxkU2l6ZS9oLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSxJPWUuZ2xvYmVOb3JtYWxpemVFQ0VGKGUuZ2xvYmVUaWxlQm91bmRzKGMuY2Fub25pY2FsKSksUD13cihoLnByb2pNYXRyaXgsYixnLEksZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGguem9vbSksXyxoLmZydXN0dW1Db3JuZXJzLlRMLGguZnJ1c3R1bUNvcm5lcnMuVFIsaC5mcnVzdHVtQ29ybmVycy5CUixoLmZydXN0dW1Db3JuZXJzLkJMLGguZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxoLmdsb2JlUmFkaXVzLHgsQSk7aWYocChDLHUpLHIuc2V0dXBFbGV2YXRpb25EcmF3KGksbCx3KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGwsYy50b1Vud3JhcHBlZCgpKSx2KXtjb25zdFtyLG4saV09dT92LmdldFdpcmVmYW1lQnVmZmVycyh0LmNvbnRleHQsayk6di5nZXRHcmlkQnVmZmVycyhrKTtsLmRyYXcoYSxkLG0seSxmLGUuQ3VsbEZhY2VNb2RlLmJhY2tDQ1csUCxcImdsb2JlX3Jhc3RlclwiLHIsbixpKX19fSksdil7Y29uc3Qgbz1bXCJHTE9CRV9QT0xFU1wiLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO2QmJm8ucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksbD10LnVzZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLG51bGwsbyk7Zm9yKGNvbnN0IG8gb2YgaSl7Y29uc3R7eDppLHk6Yyx6OnV9PW8uY2Fub25pY2FsLGQ9MD09PWMscD1jPT09KDE8PHUpLTEsW2cseSxiLFRdPXYuZ2V0UG9sZUJ1ZmZlcnModSk7aWYoVCYmKGR8fHApKXtjb25zdCBjPW4uZ2V0VGlsZShvKTthLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLGMudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7bGV0IHY9ZS5nbG9iZVBvbGVNYXRyaXhGb3JUaWxlKHUsaSxoKTtjb25zdCBFPWUuZ2xvYmVOb3JtYWxpemVFQ0VGKGUuZ2xvYmVUaWxlQm91bmRzKG8uY2Fub25pY2FsKSksUz0odCxyKT0+dC5kcmF3KGEscy5UUklBTkdMRVMsbSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGYsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsd3IoaC5wcm9qTWF0cml4LHYsdixFLDAsXyxoLmZydXN0dW1Db3JuZXJzLlRMLGguZnJ1c3R1bUNvcm5lcnMuVFIsaC5mcnVzdHVtQ29ybmVycy5CUixoLmZydXN0dW1Db3JuZXJzLkJMLGguZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxoLmdsb2JlUmFkaXVzLHgpLFwiZ2xvYmVfcG9sZV9yYXN0ZXJcIixyLGIsVCk7ci5zZXR1cEVsZXZhdGlvbkRyYXcoYyxsLHcpLHQucHJlcGFyZURyYXdQcm9ncmFtKGEsbCxvLnRvVW53cmFwcGVkKCkpLGQmJlMobCxnKSxwJiYodj1lLnNjYWxlKGUuY3JlYXRlKCksdixbMSwtMSwxXSksUyhsLHkpKX19fX0odCxyLG4saSxvKTtlbHNle2NvbnN0IGE9dC5jb250ZXh0LHM9YS5nbDtsZXQgbCxjO2NvbnN0IHU9dC5vcHRpb25zLnNob3dUZXJyYWluV2lyZWZyYW1lPzI6MCxoPShlLHIpPT57aWYoYz09PWUpcmV0dXJuO2NvbnN0IG49W1NyW2VdXTtyJiZuLnB1c2goU3JbdV0pLGw9dC51c2VQcm9ncmFtKFwidGVycmFpblJhc3RlclwiLG51bGwsbiksYz1lfSxkPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHA9bmV3IGUuRGVwdGhNb2RlKHMuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7RXIudXBkYXRlKG8pO2NvbnN0IGY9dC50cmFuc2Zvcm0sbT02Kk1hdGgucG93KDEuNSwyMi1mLnpvb20pKnIuZXhhZ2dlcmF0aW9uKCk7KHU/WyExLCEwXTpbITFdKS5mb3JFYWNoKHU9PntjPS0xO2NvbnN0IGc9dT9zLkxJTkVTOnMuVFJJQU5HTEVTLFtfLHldPXU/ci5nZXRXaXJlZmFtZUJ1ZmZlcigpOltyLmdyaWRJbmRleEJ1ZmZlcixyLmdyaWRTZWdtZW50c107Zm9yKGNvbnN0IGMgb2YgaSl7Y29uc3QgaT1uLmdldFRpbGUoYyksdj1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHg9ci5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XSxiPXIudGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XTtUcih4LGIpJiZFci5uZXdNb3JwaGluZyhjLmtleSx4LGIsbywyNTApLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksaS50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFLHMuTElORUFSX01JUE1BUF9ORUFSRVNUKTtjb25zdCB3PUVyLmdldE1vcnBoVmFsdWVzRm9yUHJveHkoYy5rZXkpLFQ9dz8xOjA7bGV0IEU7dyYmKEU9e21vcnBoaW5nOntzcmNEZW1UaWxlOncuZnJvbSxkc3REZW1UaWxlOncudG8scGhhc2U6ZS5lYXNlQ3ViaWNJbk91dCh3LnBoYXNlKX19KTtjb25zdCBTPWJyKGMucHJvak1hdHJpeCxDcihjLmNhbm9uaWNhbCxmLnJlbmRlcldvcmxkQ29waWVzKT9tLzEwOm0pO2goVCx1KSxyLnNldHVwRWxldmF0aW9uRHJhdyhpLGwsRSksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLGMudG9VbndyYXBwZWQoKSksbC5kcmF3KGEsZyxwLHYsZCxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLFMsXCJ0ZXJyYWluX3Jhc3RlclwiLHIuZ3JpZEJ1ZmZlcixfLHkpfX0pfX0ocix0aGlzLHRoaXMucHJveHlTb3VyY2VDYWNoZSx0LHRoaXMuX3VwZGF0ZVRpbWVzdGFtcCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITAsci5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlckVuZCgpLHQuc3BsaWNlKDAsdC5sZW5ndGgpKX1yZW5kZXJCYXRjaCh0KXtpZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpcmV0dXJuIHQrMTt0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMDtjb25zdCByPXRoaXMucGFpbnRlcixuPXRoaXMucGFpbnRlci5jb250ZXh0LGk9dGhpcy5wcm94eVNvdXJjZUNhY2hlLG89dGhpcy5wcm94aWVkQ29vcmRzW2kuaWRdLGE9dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5zaGlmdCgpLHM9W10sbD1yLnN0eWxlLm9yZGVyO2xldCBjPTA7Zm9yKGNvbnN0IHUgb2Ygbyl7Y29uc3Qgbz1pLmdldFRpbGVCeUlEKHUucHJveHlUaWxlS2V5KSxoPWkucHJveHlDYWNoZWRGQk9bdS5rZXldP2kucHJveHlDYWNoZWRGQk9bdS5rZXldW3RdOnZvaWQgMCxkPXZvaWQgMCE9PWg/aS5yZW5kZXJDYWNoZVtoXTp0aGlzLnBvb2xbYysrXSxwPXZvaWQgMCE9PWg7aWYoby50ZXh0dXJlPWQudGV4LHAmJiFkLmRpcnR5KXtzLnB1c2goby50aWxlSUQpO2NvbnRpbnVlfWxldCBmO24uYmluZEZyYW1lYnVmZmVyLnNldChkLmZiLmZyYW1lYnVmZmVyKSx0aGlzLnJlbmRlcmVkVG9UaWxlPSExLGQuZGlydHkmJihuLmNsZWFyKHtjb2xvcjplLkNvbG9yLnRyYW5zcGFyZW50LHN0ZW5jaWw6MH0pLGQuZGlydHk9ITEpO2ZvcihsZXQgZT1hLnN0YXJ0O2U8PWEuZW5kOysrZSl7Y29uc3QgdD1yLnN0eWxlLl9sYXllcnNbbFtlXV07aWYodC5pc0hpZGRlbihyLnRyYW5zZm9ybS56b29tKSljb250aW51ZTtjb25zdCBpPXIuc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUodCksbz1pP3RoaXMucHJveHlUb1NvdXJjZVt1LmtleV1baS5pZF06W3VdO2lmKCFvKWNvbnRpbnVlO2NvbnN0IGE9bztuLnZpZXdwb3J0LnNldChbMCwwLGQuZmIud2lkdGgsZC5mYi5oZWlnaHRdKSxmIT09KGk/aS5pZDpudWxsKSYmKHRoaXMuX3NldHVwU3RlbmNpbChkLG8sdCxpKSxmPWk/aS5pZDpudWxsKSxyLnJlbmRlckxheWVyKHIsaSx0LGEpfXRoaXMucmVuZGVyZWRUb1RpbGU/KGQuZGlydHk9ITAscy5wdXNoKG8udGlsZUlEKSk6cHx8LS1jLDU9PT1jJiYoYz0wLHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKHMpKX1yZXR1cm4gdGhpcy5yZW5kZXJUb0JhY2tCdWZmZXIocyksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsbi5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLG4udmlld3BvcnQuc2V0KFswLDAsci53aWR0aCxyLmhlaWdodF0pLGEuZW5kKzF9cG9zdFJlbmRlcigpe31yZW5kZXJDYWNoZUVmZmljaWVuY3koZSl7Y29uc3QgdD1lLm9yZGVyLmxlbmd0aDtpZigwPT09dClyZXR1cm57ZWZmaWNpZW5jeToxMDB9O2xldCByLG49MCxpPTAsbz0hMTtmb3IobGV0IGE9MDthPHQ7KythKXtjb25zdCB0PWUuX2xheWVyc1tlLm9yZGVyW2FdXTt0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKHQpPyhvJiYrK24sKytpKTpvfHwobz0hMCxyPXQuaWQpfXJldHVybiAwPT09aT97ZWZmaWNpZW5jeToxMDB9OntlZmZpY2llbmN5OjEwMCooMS1uL2kpLGZpcnN0VW5kcmFwZWRMYXllcjpyfX1nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpe2xldCBlPTA7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoZT0+ZS5kZW0pLmZvckVhY2godD0+e2U9TWF0aC5taW4oZSx0LmRlbS50cmVlLm1pbmltdW1zWzBdKX0pLDA9PT1lP2U6KGUtMzApKnRoaXMuX2V4YWdnZXJhdGlvbn1yYXljYXN0KGUsdCxyKXtpZighdGhpcy5fdmlzaWJsZURlbVRpbGVzKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcihlPT5lLmRlbSkubWFwKG49Pntjb25zdCBpPW4udGlsZUlELG89MTw8aS5vdmVyc2NhbGVkWix7eDphLHk6c309aS5jYW5vbmljYWwsbD1hL28sYz0oYSsxKS9vLHU9cy9vLGg9KHMrMSkvbztyZXR1cm57bWlueDpsLG1pbnk6dSxtYXh4OmMsbWF4eTpoLHQ6bi5kZW0udHJlZS5yYXljYXN0Um9vdChsLHUsYyxoLGUsdCxyKSx0aWxlOm59fSk7bi5zb3J0KChlLHQpPT4obnVsbCE9PWUudD9lLnQ6TnVtYmVyLk1BWF9WQUxVRSktKG51bGwhPT10LnQ/dC50Ok51bWJlci5NQVhfVkFMVUUpKTtmb3IoY29uc3QgaSBvZiBuKXtpZihudWxsPT1pLnQpcmV0dXJuIG51bGw7Y29uc3Qgbj1pLnRpbGUuZGVtLnRyZWUucmF5Y2FzdChpLm1pbngsaS5taW55LGkubWF4eCxpLm1heHksZSx0LHIpO2lmKG51bGwhPW4pcmV0dXJuIG59cmV0dXJuIG51bGx9X2NyZWF0ZUZCTygpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQscj10LmdsLG49dGhpcy5kcmFwZUJ1ZmZlclNpemU7dC5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUwKTtjb25zdCBpPW5ldyBlLlRleHR1cmUodCx7d2lkdGg6blswXSxoZWlnaHQ6blsxXSxkYXRhOm51bGx9LHIuUkdCQSk7aS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbz10LmNyZWF0ZUZyYW1lYnVmZmVyKG5bMF0sblsxXSwhMSk7cmV0dXJuIG8uY29sb3JBdHRhY2htZW50LnNldChpLnRleHR1cmUpLG8uZGVwdGhBdHRhY2htZW50PW5ldyBFZSh0LG8uZnJhbWVidWZmZXIpLHZvaWQgMD09PXRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD8odGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPXQuY3JlYXRlUmVuZGVyYnVmZmVyKHQuZ2wuREVQVEhfU1RFTkNJTCxuWzBdLG5bMV0pLHRoaXMuX3N0ZW5jaWxSZWY9MCxvLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSx0LmNsZWFyKHtzdGVuY2lsOjB9KSk6by5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCksdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJiF0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmJiZyLnRleFBhcmFtZXRlcmYoci5URVhUVVJFXzJELHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4KSx7ZmI6byx0ZXg6aSxkaXJ0eTohMX19X2luaXRGQk9Qb29sKCl7Zm9yKDt0aGlzLnBvb2wubGVuZ3RoPE1hdGgubWluKDUsdGhpcy5wcm94eUNvb3Jkcy5sZW5ndGgpOyl0aGlzLnBvb2wucHVzaCh0aGlzLl9jcmVhdGVGQk8oKSl9X3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpe2lmKHRoaXMuX3N0eWxlLmxpZ2h0JiZ0aGlzLl9zdHlsZS5saWdodC5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcylpZih0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtyZXR1cm4gdGhpcy5fc3R5bGUub3JkZXIuc29tZShlPT57Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW2VdLHI9dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pLG49dC5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksaT0hIW4mJjEhPT1uLnQsbz10Lmhhc1RyYW5zaXRpb24oKTtyZXR1cm5cImN1c3RvbVwiIT09dC50eXBlJiYhciYmKGl8fG8pfSl9X2NsZWFyUmFzdGVyRmFkZUZyb21SZW5kZXJDYWNoZSgpe2xldCBlPSExO2Zvcihjb25zdCB0IGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1t0XS5fc291cmNlIGluc3RhbmNlb2YgTWUpe2U9ITA7YnJlYWt9aWYoZSlmb3IobGV0IGU9MDtlPHRoaXMuX3N0eWxlLm9yZGVyLmxlbmd0aDsrK2Upe2NvbnN0IHQ9dGhpcy5fc3R5bGUuX2xheWVyc1t0aGlzLl9zdHlsZS5vcmRlcltlXV0scj10LmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSksbj10aGlzLl9zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KTtpZihcInJhc3RlclwiIT09dC50eXBlfHxyfHwhbiljb250aW51ZTtjb25zdCBpPXQucGFpbnQuZ2V0KFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIik7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldW24uaWRdO2lmKHQpZm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1rcihuLmdldFRpbGUoZSksbi5maW5kTG9hZGVkUGFyZW50KGUsMCksbix0aGlzLnBhaW50ZXIudHJhbnNmb3JtLGkpOygxIT09dC5vcGFjaXR5fHwwIT09dC5taXgpJiZ0aGlzLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShuLmlkLGUpfX19fV9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKXtjb25zdCBlPXRoaXMuX3N0eWxlLm9yZGVyLHQ9ZS5sZW5ndGg7aWYoMD09PXQpcmV0dXJuO2NvbnN0IHI9W107bGV0IG4saT0wLG89dGhpcy5fc3R5bGUuX2xheWVyc1tlW2ldXTtmb3IoOyF0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKG8pJiZvLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSkmJisraTx0OylvPXRoaXMuX3N0eWxlLl9sYXllcnNbZVtpXV07Zm9yKDtpPHQ7KytpKXtjb25zdCB0PXRoaXMuX3N0eWxlLl9sYXllcnNbZVtpXV07dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pfHwodGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZCh0KT92b2lkIDA9PT1uJiYobj1pKTp2b2lkIDAhPT1uJiYoci5wdXNoKHtzdGFydDpuLGVuZDppLTF9KSxuPXZvaWQgMCkpfXZvaWQgMCE9PW4mJnIucHVzaCh7c3RhcnQ6bixlbmQ6aS0xfSksdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcz1yfV9zZXR1cFJlbmRlckNhY2hlKGUpe2NvbnN0IHQ9dGhpcy5wcm94eVNvdXJjZUNhY2hlO2lmKHRoaXMuX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpfHx0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUpe2lmKHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZT0hMSx0LnJlbmRlckNhY2hlLmxlbmd0aD50LnJlbmRlckNhY2hlUG9vbC5sZW5ndGgpe2NvbnN0IGU9T2JqZWN0LnZhbHVlcyh0LnByb3h5Q2FjaGVkRkJPKTt0LnByb3h5Q2FjaGVkRkJPPXt9O2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXtjb25zdCBuPU9iamVjdC52YWx1ZXMoZVtyXSk7dC5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5uKX19cmV0dXJufXRoaXMuX2NsZWFyUmFzdGVyRmFkZUZyb21SZW5kZXJDYWNoZSgpO2NvbnN0IHI9dGhpcy5wcm94eUNvb3JkcyxuPXRoaXMuX3RpbGVzRGlydHk7Zm9yKGxldCBpPXIubGVuZ3RoLTE7aT49MDtpLS0pe2NvbnN0IG89cltpXTtpZih0LmdldFRpbGVCeUlEKG8ua2V5KSx2b2lkIDAhPT10LnByb3h5Q2FjaGVkRkJPW28ua2V5XSl7Y29uc3Qgcj1lW28ua2V5XSxpPXRoaXMucHJveHlUb1NvdXJjZVtvLmtleV07bGV0IGE9MDtmb3IoY29uc3QgZSBpbiBpKXtjb25zdCB0PWlbZV0sbz1yW2VdO2lmKCFvfHxvLmxlbmd0aCE9PXQubGVuZ3RofHx0LnNvbWUoKHQscik9PnQhPT1vW3JdfHxuW2VdJiZuW2VdLmhhc093blByb3BlcnR5KHQua2V5KSkpe2E9LTE7YnJlYWt9KythfWZvcihjb25zdCBlIGluIHQucHJveHlDYWNoZWRGQk9bby5rZXldKXQucmVuZGVyQ2FjaGVbdC5wcm94eUNhY2hlZEZCT1tvLmtleV1bZV1dLmRpcnR5PWE8MHx8YSE9PU9iamVjdC52YWx1ZXMocikubGVuZ3RofX1jb25zdCBpPVsuLi50aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzXTtpLnNvcnQoKGUsdCk9PnQuZW5kLXQuc3RhcnQtKGUuZW5kLWUuc3RhcnQpKTtmb3IoY29uc3QgZSBvZiBpKWZvcihjb25zdCBuIG9mIHIpe2lmKHQucHJveHlDYWNoZWRGQk9bbi5rZXldKWNvbnRpbnVlO2xldCByPXQucmVuZGVyQ2FjaGVQb29sLnBvcCgpO3ZvaWQgMD09PXImJnQucmVuZGVyQ2FjaGUubGVuZ3RoPDUwJiYocj10LnJlbmRlckNhY2hlLmxlbmd0aCx0LnJlbmRlckNhY2hlLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpKSx2b2lkIDAhPT1yJiYodC5wcm94eUNhY2hlZEZCT1tuLmtleV09e30sdC5wcm94eUNhY2hlZEZCT1tuLmtleV1bZS5zdGFydF09cix0LnJlbmRlckNhY2hlW3JdLmRpcnR5PSEwKX10aGlzLl90aWxlc0RpcnR5PXt9fV9zZXR1cFN0ZW5jaWwoZSx0LHIsbil7aWYoIW58fCF0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbbi5pZF0pcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKSk7Y29uc3QgaT10aGlzLnBhaW50ZXIuY29udGV4dCxvPWkuZ2w7aWYodC5sZW5ndGg8PTEpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTtsZXQgYTtpZihyLmlzVGlsZUNsaXBwZWQoKSlhPXQubGVuZ3RoLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS50ZXN0PXtmdW5jOm8uRVFVQUwsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIkNsaXBcIjtlbHNle2lmKCEodFswXS5vdmVyc2NhbGVkWj50W3QubGVuZ3RoLTFdLm92ZXJzY2FsZWRaKSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpO2E9MSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdD17ZnVuYzpvLkdSRUFURVIsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIk1hc2tcIn10aGlzLl9zdGVuY2lsUmVmK2E+MjU1JiYoaS5jbGVhcih7c3RlbmNpbDowfSksdGhpcy5fc3RlbmNpbFJlZj0wKSx0aGlzLl9zdGVuY2lsUmVmKz1hLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWY9dGhpcy5fc3RlbmNpbFJlZixyLmlzVGlsZUNsaXBwZWQoKSYmdGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmKX1jbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlKCl7cmV0dXJuXCJDbGlwXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGV8fFwiTWFza1wiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfXN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcCh0KXtyZXR1cm4gdGhpcy5yZW5kZXJpbmdUb1RleHR1cmUmJnRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT8oXCJDbGlwXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUmJih0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMucGFpbnRlci5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0pLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZSk6ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZH1fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCxyKXtjb25zdCBuPXRoaXMucGFpbnRlcixpPXRoaXMucGFpbnRlci5jb250ZXh0LG89aS5nbDtuLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9LGkuc2V0Q29sb3JNb2RlKGUuQ29sb3JNb2RlLmRpc2FibGVkKSxpLnNldERlcHRoTW9kZShlLkRlcHRoTW9kZS5kaXNhYmxlZCk7Y29uc3QgYT1uLnVzZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIik7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3QgdD1uLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Mua2V5XT0tLXI7YS5kcmF3KGksby5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsbmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6by5BTFdBWVMsbWFzazowfSx0LDI1NSxvLktFRVAsby5LRUVQLG8uUkVQTEFDRSksZS5Db2xvck1vZGUuZGlzYWJsZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTXIocy5wcm9qTWF0cml4KSxcIiRjbGlwcGluZ1wiLG4udGlsZUV4dGVudEJ1ZmZlcixuLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLG4udGlsZUV4dGVudFNlZ21lbnRzKX19cG9pbnRDb29yZGluYXRlKHQpe2NvbnN0IHI9dGhpcy5wYWludGVyLnRyYW5zZm9ybTtpZih0Lng8MHx8dC54PnIud2lkdGh8fHQueTwwfHx0Lnk+ci5oZWlnaHQpcmV0dXJuIG51bGw7Y29uc3Qgbj1bdC54LHQueSwxLDFdO2UudHJhbnNmb3JtTWF0NCQxKG4sbixyLnBpeGVsTWF0cml4SW52ZXJzZSksZS5zY2FsZSQxKG4sbiwxL25bM10pLG5bMF0vPXIud29ybGRTaXplLG5bMV0vPXIud29ybGRTaXplO2NvbnN0IGk9ci5fY2FtZXJhLnBvc2l0aW9uLG89ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSxyLmNlbnRlci5sYXQpLGE9W2lbMF0saVsxXSxpWzJdL28sMF0scz1lLnN1YnRyYWN0KFtdLG4uc2xpY2UoMCwzKSxhKTtlLm5vcm1hbGl6ZShzLHMpO2NvbnN0IGw9dGhpcy5yYXljYXN0KGEscyx0aGlzLl9leGFnZ2VyYXRpb24pO3JldHVybiBudWxsIT09bCYmbD8oZS5zY2FsZUFuZEFkZChhLGEscyxsKSxhWzNdPWFbMl0sYVsyXSo9byxhKTpudWxsfWRyYXdEZXB0aCgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLHI9dC5jb250ZXh0LG49dGhpcy5wcm94eVNvdXJjZUNhY2hlLGk9TWF0aC5jZWlsKHQud2lkdGgpLG89TWF0aC5jZWlsKHQuaGVpZ2h0KTtpZighdGhpcy5fZGVwdGhGQk98fHRoaXMuX2RlcHRoRkJPLndpZHRoPT09aSYmdGhpcy5fZGVwdGhGQk8uaGVpZ2h0PT09b3x8KHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCksIXRoaXMuX2RlcHRoRkJPKXtjb25zdCB0PXIuZ2wsbj1yLmNyZWF0ZUZyYW1lYnVmZmVyKGksbywhMCk7ci5hY3RpdmVUZXh0dXJlLnNldCh0LlRFWFRVUkUwKTtjb25zdCBhPW5ldyBlLlRleHR1cmUocix7d2lkdGg6aSxoZWlnaHQ6byxkYXRhOm51bGx9LHQuUkdCQSk7YS5iaW5kKHQuTkVBUkVTVCx0LkNMQU1QX1RPX0VER0UpLG4uY29sb3JBdHRhY2htZW50LnNldChhLnRleHR1cmUpO2NvbnN0IHM9ci5jcmVhdGVSZW5kZXJidWZmZXIoci5nbC5ERVBUSF9DT01QT05FTlQxNixpLG8pO24uZGVwdGhBdHRhY2htZW50LnNldChzKSx0aGlzLl9kZXB0aEZCTz1uLHRoaXMuX2RlcHRoVGV4dHVyZT1hfXIuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLl9kZXB0aEZCTy5mcmFtZWJ1ZmZlciksci52aWV3cG9ydC5zZXQoWzAsMCxpLG9dKSxmdW5jdGlvbih0LHIsbixpKXtpZihcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IG89dC5jb250ZXh0LGE9by5nbDtvLmNsZWFyKHtkZXB0aDoxfSk7Y29uc3Qgcz10LnVzZVByb2dyYW0oXCJ0ZXJyYWluRGVwdGhcIiksbD1uZXcgZS5EZXB0aE1vZGUoYS5MRVNTLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgaT1uLmdldFRpbGUodCksYz1icih0LnByb2pNYXRyaXgsMCk7ci5zZXR1cEVsZXZhdGlvbkRyYXcoaSxzKSxzLmRyYXcobyxhLlRSSUFOR0xFUyxsLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUudW5ibGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmJhY2tDQ1csYyxcInRlcnJhaW5fZGVwdGhcIixyLmdyaWRCdWZmZXIsci5ncmlkSW5kZXhCdWZmZXIsci5ncmlkTm9Ta2lydFNlZ21lbnRzKX19KHQsdGhpcyxuLHRoaXMucHJveHlDb29yZHMpfV9zZXR1cFByb3hpZWRDb29yZHNGb3JPcnRobyhlLHQscil7aWYoZS5nZXRTb3VyY2UoKWluc3RhbmNlb2YgSWUpcmV0dXJuIHRoaXMuX3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKGUsdCxyKTt0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbZS5pZF09dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2UuaWRdfHx7fTtjb25zdCBuPXRoaXMucHJveGllZENvb3Jkc1tlLmlkXT1bXSxpPXRoaXMucHJveHlDb29yZHM7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IG89aVt0XSxhPXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQobyxlKTtpZihhKXtjb25zdCB0PXRoaXMuX2NyZWF0ZVByb3hpZWRJZChvLGEscltvLmtleV0mJnJbby5rZXldW2UuaWRdKTtuLnB1c2godCksdGhpcy5wcm94eVRvU291cmNlW28ua2V5XVtlLmlkXT1bdF19fWxldCBvPSExO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBhPWUuZ2V0VGlsZSh0W2ldKTtpZighYXx8IWEuaGFzRGF0YSgpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChhLnRpbGVJRCx0aGlzLnByb3h5U291cmNlQ2FjaGUpO2lmKHMmJnMudGlsZUlELmNhbm9uaWNhbC56IT09YS50aWxlSUQuY2Fub25pY2FsLnope2NvbnN0IHQ9dGhpcy5wcm94eVRvU291cmNlW3MudGlsZUlELmtleV1bZS5pZF0saT10aGlzLl9jcmVhdGVQcm94aWVkSWQocy50aWxlSUQsYSxyW3MudGlsZUlELmtleV0mJnJbcy50aWxlSUQua2V5XVtlLmlkXSk7dD90LnNwbGljZSh0Lmxlbmd0aC0xLDAsaSk6dGhpcy5wcm94eVRvU291cmNlW3MudGlsZUlELmtleV1bZS5pZF09W2ldLG4ucHVzaChpKSxvPSEwfX10aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbZS5pZF09b31fc2V0dXBQcm94aWVkQ29vcmRzRm9ySW1hZ2VTb3VyY2UodCxyLG4pe2lmKCF0LmdldFNvdXJjZSgpLmxvYWRlZCgpKXJldHVybjtjb25zdCBpPXRoaXMucHJveGllZENvb3Jkc1t0LmlkXT1bXSxvPXRoaXMucHJveHlDb29yZHMsYT10LmdldFNvdXJjZSgpLHM9bmV3IGUucG9pbnRHZW9tZXRyeShhLnRpbGVJRC54LGEudGlsZUlELnkpLl9kaXYoMTw8YS50aWxlSUQueiksbD1hLmNvb3JkaW5hdGVzLm1hcChlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KS5yZWR1Y2UoKGUsdCk9PihlLm1pbi54PU1hdGgubWluKGUubWluLngsdC54LXMueCksZS5taW4ueT1NYXRoLm1pbihlLm1pbi55LHQueS1zLnkpLGUubWF4Lng9TWF0aC5tYXgoZS5tYXgueCx0Lngtcy54KSxlLm1heC55PU1hdGgubWF4KGUubWF4LnksdC55LXMueSksZSkse21pbjpuZXcgZS5wb2ludEdlb21ldHJ5KE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbWF4Om5ldyBlLnBvaW50R2VvbWV0cnkoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpfSksYz0odCxyKT0+e2NvbnN0IG49dC53cmFwK3QuY2Fub25pY2FsLngvKDE8PHQuY2Fub25pY2FsLnopLGk9dC5jYW5vbmljYWwueS8oMTw8dC5jYW5vbmljYWwueiksbz1lLkVYVEVOVC8oMTw8dC5jYW5vbmljYWwueiksYT1yLndyYXArci5jYW5vbmljYWwueC8oMTw8ci5jYW5vbmljYWwueikscz1yLmNhbm9uaWNhbC55LygxPDxyLmNhbm9uaWNhbC56KTtyZXR1cm4gbitvPGErbC5taW4ueHx8bj5hK2wubWF4Lnh8fGkrbzxzK2wubWluLnl8fGk+cytsLm1heC55fTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3QgYT1vW2VdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBvPXQuZ2V0VGlsZShyW2VdKTtpZighb3x8IW8uaGFzRGF0YSgpKWNvbnRpbnVlO2lmKGMoYSxvLnRpbGVJRCkpY29udGludWU7Y29uc3Qgcz10aGlzLl9jcmVhdGVQcm94aWVkSWQoYSxvLG5bYS5rZXldJiZuW2Eua2V5XVt0LmlkXSksbD10aGlzLnByb3h5VG9Tb3VyY2VbYS5rZXldW3QuaWRdO2w/bC5wdXNoKHMpOnRoaXMucHJveHlUb1NvdXJjZVthLmtleV1bdC5pZF09W3NdLGkucHVzaChzKX19fV9jcmVhdGVQcm94aWVkSWQodCxyLG4pe2xldCBpPXRoaXMub3J0aG9NYXRyaXg7aWYobil7Y29uc3QgZT1uLmZpbmQoZT0+ZS5rZXk9PT1yLnRpbGVJRC5rZXkpO2lmKGUpcmV0dXJuIGV9aWYoci50aWxlSUQua2V5IT09dC5rZXkpe2NvbnN0IG49dC5jYW5vbmljYWwuei1yLnRpbGVJRC5jYW5vbmljYWwuejtsZXQgbyxhLHM7aT1lLmNyZWF0ZSgpO2NvbnN0IGw9ci50aWxlSUQud3JhcC10LndyYXA8PHQub3ZlcnNjYWxlZFo7bj4wPyhvPWUuRVhURU5UPj5uLGE9byooKHIudGlsZUlELmNhbm9uaWNhbC54PDxuKS10LmNhbm9uaWNhbC54K2wpLHM9byooKHIudGlsZUlELmNhbm9uaWNhbC55PDxuKS10LmNhbm9uaWNhbC55KSk6KG89ZS5FWFRFTlQ8PC1uLGE9ZS5FWFRFTlQqKHIudGlsZUlELmNhbm9uaWNhbC54LSh0LmNhbm9uaWNhbC54K2w8PC1uKSkscz1lLkVYVEVOVCooci50aWxlSUQuY2Fub25pY2FsLnktKHQuY2Fub25pY2FsLnk8PC1uKSkpLGUub3J0aG8oaSwwLG8sMCxvLDAsMSksZS50cmFuc2xhdGUoaSxpLFthLHMsMF0pfXJldHVybiBuZXcgUHIoci50aWxlSUQsdC5rZXksaSl9X2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQodCxyKXtsZXQgbj1yLmdldFRpbGUodCk7aWYobiYmbi5oYXNEYXRhKCkpcmV0dXJuIG47Y29uc3QgaT10aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbci5pZF0sbz1pW3Qua2V5XTtpZihuPW8/ci5nZXRUaWxlQnlJRChvKTpudWxsLG4mJm4uaGFzRGF0YSgpfHxudWxsPT09bylyZXR1cm4gbjtsZXQgYT1uP24udGlsZUlEOnQscz1hLm92ZXJzY2FsZWRaO2NvbnN0IGw9ci5nZXRTb3VyY2UoKS5taW56b29tLGM9W107aWYoIW8pe2NvbnN0IGk9ci5nZXRTb3VyY2UoKS5tYXh6b29tO2lmKHQuY2Fub25pY2FsLno+PWkpe2NvbnN0IG49dC5jYW5vbmljYWwuei1pO3IuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQ/KHM9TWF0aC5tYXgodC5jYW5vbmljYWwueisyLHIudHJhbnNmb3JtLnRpbGVab29tKSxhPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQocyx0LndyYXAsaSx0LmNhbm9uaWNhbC54Pj5uLHQuY2Fub25pY2FsLnk+Pm4pKTowIT09biYmKHM9aSxhPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQocyx0LndyYXAsaSx0LmNhbm9uaWNhbC54Pj5uLHQuY2Fub25pY2FsLnk+Pm4pKX1hLmtleSE9PXQua2V5JiYoYy5wdXNoKGEua2V5KSxuPXIuZ2V0VGlsZShhKSl9Y29uc3QgdT1lPT57Yy5mb3JFYWNoKHQ9PntpW3RdPWV9KSxjLmxlbmd0aD0wfTtmb3Iocy09MTtzPj1sJiYoIW58fCFuLmhhc0RhdGEoKSk7cy0tKXtuJiZ1KG4udGlsZUlELmtleSk7Y29uc3QgZT1hLmNhbGN1bGF0ZVNjYWxlZEtleShzKTtpZihuPXIuZ2V0VGlsZUJ5SUQoZSksbiYmbi5oYXNEYXRhKCkpYnJlYWs7Y29uc3QgdD1pW2VdO2lmKG51bGw9PT10KWJyZWFrO3ZvaWQgMD09PXQ/Yy5wdXNoKGUpOm49ci5nZXRUaWxlQnlJRCh0KX1yZXR1cm4gdShuP24udGlsZUlELmtleTpudWxsKSxuJiZuLmhhc0RhdGEoKT9uOm51bGx9ZmluZERFTVRpbGVGb3IoZSl7cmV0dXJuIHRoaXMuZW5hYmxlZD90aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk6bnVsbH1wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnJlbmRlcmVkVG9UaWxlPSEwfV9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLHQpe2xldCByPXRoaXMuX3RpbGVzRGlydHlbZV07cnx8KHI9dGhpcy5fdGlsZXNEaXJ0eVtlXT17fSksclt0LmtleV09ITB9Z2V0V2lyZWZhbWVCdWZmZXIoKXtpZighdGhpcy53aXJlZnJhbWVTZWdtZW50cyl7Y29uc3QgdD1mdW5jdGlvbih0KXtsZXQgcj0wO2NvbnN0IG49bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQydWk0LGk9MTMxO2ZvcihsZXQgZT0xO2U8MTI5O2UrKyl7Zm9yKGxldCB0PTE7dDwxMjk7dCsrKXI9ZSppK3Qsbi5lbXBsYWNlQmFjayhyLHIrMSksbi5lbXBsYWNlQmFjayhyLHIraSksbi5lbXBsYWNlQmFjayhyKzEscitpKSwxMjg9PT1lJiZuLmVtcGxhY2VCYWNrKHIraSxyK2krMSk7bi5lbXBsYWNlQmFjayhyKzEscisxK2kpfXJldHVybiBufSgpO3RoaXMud2lyZWZyYW1lSW5kZXhCdWZmZXI9dGhpcy5wYWludGVyLmNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIodCksdGhpcy53aXJlZnJhbWVTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsdGhpcy5ncmlkQnVmZmVyLmxlbmd0aCx0Lmxlbmd0aCl9cmV0dXJuW3RoaXMud2lyZWZyYW1lSW5kZXhCdWZmZXIsdGhpcy53aXJlZnJhbWVTZWdtZW50c119fWNsYXNzIERye3N0YXRpYyBjYWNoZUtleShlLHQscixuKXtsZXQgaT1gJHt0fSR7bj9uLmNhY2hlS2V5OlwiXCJ9YDtmb3IoY29uc3QgdCBvZiByKWUudXNlZERlZmluZXMuaW5jbHVkZXModCkmJihpKz1cIi9cIit0KTtyZXR1cm4gaX1jb25zdHJ1Y3Rvcih0LHIsbixpLG8sYSl7Y29uc3Qgcz10LmdsO3RoaXMucHJvZ3JhbT1zLmNyZWF0ZVByb2dyYW0oKTtjb25zdCBsPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2lmKG51bGw9PT1lW3JdKWNvbnRpbnVlO2NvbnN0IG49ZVtyXS5zcGxpdChcIiBcIik7dC5wdXNoKG4ucG9wKCkpfXJldHVybiB0fShuLnN0YXRpY0F0dHJpYnV0ZXMpLGM9aT9pLmdldEJpbmRlckF0dHJpYnV0ZXMoKTpbXSx1PWwuY29uY2F0KGMpO2xldCBoPWk/aS5kZWZpbmVzKCk6W107aD1oLmNvbmNhdChhLm1hcChlPT5cIiNkZWZpbmUgXCIrZSkpO2NvbnN0IGQ9aC5jb25jYXQodC5leHRTdGFuZGFyZERlcml2YXRpdmVzP1wiI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcXG5cIi5jb25jYXQoaHIpOmhyLGhyLHVyLGNyLmZyYWdtZW50U291cmNlLHNyLmZyYWdtZW50U291cmNlLG4uZnJhZ21lbnRTb3VyY2UpLmpvaW4oXCJcXG5cIikscD1oLmNvbmNhdChcIlxcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZWxzZVxcblxcbiNpZiAhZGVmaW5lZChsb3dwKVxcbiNkZWZpbmUgbG93cFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxcbiNkZWZpbmUgbWVkaXVtcFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChoaWdocClcXG4jZGVmaW5lIGhpZ2hwXFxuI2VuZGlmXFxuXFxuI2VuZGlmXCIsdXIsY3IudmVydGV4U291cmNlLHNyLnZlcnRleFNvdXJjZSxhci52ZXJ0ZXhTb3VyY2Usbi52ZXJ0ZXhTb3VyY2UpLmpvaW4oXCJcXG5cIiksZj1zLmNyZWF0ZVNoYWRlcihzLkZSQUdNRU5UX1NIQURFUik7aWYocy5pc0NvbnRleHRMb3N0KCkpcmV0dXJuIHZvaWQodGhpcy5mYWlsZWRUb0NyZWF0ZT0hMCk7cy5zaGFkZXJTb3VyY2UoZixkKSxzLmNvbXBpbGVTaGFkZXIoZikscy5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLGYpO2NvbnN0IG09cy5jcmVhdGVTaGFkZXIocy5WRVJURVhfU0hBREVSKTtpZihzLmlzQ29udGV4dExvc3QoKSl0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwO2Vsc2V7cy5zaGFkZXJTb3VyY2UobSxwKSxzLmNvbXBpbGVTaGFkZXIobSkscy5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLG0pLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm51bUF0dHJpYnV0ZXM9dS5sZW5ndGg7Zm9yKGxldCBlPTA7ZTx0aGlzLm51bUF0dHJpYnV0ZXM7ZSsrKXVbZV0mJihzLmJpbmRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sZSx1W2VdKSx0aGlzLmF0dHJpYnV0ZXNbdVtlXV09ZSk7cy5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHMuZGVsZXRlU2hhZGVyKG0pLHMuZGVsZXRlU2hhZGVyKGYpLHRoaXMuZml4ZWRVbmlmb3Jtcz1vKHQpLHRoaXMuYmluZGVyVW5pZm9ybXM9aT9pLmdldFVuaWZvcm1zKHQpOltdLGEuaW5jbHVkZXMoXCJURVJSQUlOXCIpJiYodGhpcy50ZXJyYWluVW5pZm9ybXM9KHQ9Pih7dV9kZW06bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVtX3ByZXY6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVtX3VucGFjazpuZXcgZS5Vbmlmb3JtNGYodCksdV9kZW1fdGw6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGVtX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV90bF9wcmV2Om5ldyBlLlVuaWZvcm0yZih0KSx1X2RlbV9zY2FsZV9wcmV2Om5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV9sZXJwOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4YWdnZXJhdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXB0aDpuZXcgZS5Vbmlmb3JtMWkodCksdV9kZXB0aF9zaXplX2ludjpuZXcgZS5Vbmlmb3JtMmYodCksdV9tZXRlcl90b19kZW06bmV3IGUuVW5pZm9ybTFmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4X2ludjpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KSkodCkpLGEuaW5jbHVkZXMoXCJHTE9CRVwiKSYmKHRoaXMuZ2xvYmVVbmlmb3Jtcz0odD0+KHt1X3RpbGVfdGxfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV90cl91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX2JyX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfYmxfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV91cF9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSkodCkpLGEuaW5jbHVkZXMoXCJGT0dcIikmJih0aGlzLmZvZ1VuaWZvcm1zPSh0PT4oe3VfZm9nX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9mb2dfcmFuZ2U6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZm9nX2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X2ZvZ19ob3Jpem9uX2JsZW5kOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZnJ1c3R1bV90bDpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX3RyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYnI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9wb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2dsb2JlX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaXNfZ2xvYmU6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdmlld3BvcnQ6bmV3IGUuVW5pZm9ybTJmKHQpfSkpKHQpKX19c2V0VGVycmFpblVuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy50ZXJyYWluVW5pZm9ybXMpcmV0dXJuO2NvbnN0IHI9dGhpcy50ZXJyYWluVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KXJbZV0mJnJbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pfX1zZXRHbG9iZVVuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy5nbG9iZVVuaWZvcm1zKXJldHVybjtjb25zdCByPXRoaXMuZ2xvYmVVbmlmb3JtcztpZighdGhpcy5mYWlsZWRUb0NyZWF0ZSl7ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO2Zvcihjb25zdCBlIGluIHQpcltlXSYmcltlXS5zZXQodGhpcy5wcm9ncmFtLGUsdFtlXSl9fXNldEZvZ1VuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy5mb2dVbmlmb3JtcylyZXR1cm47Y29uc3Qgcj10aGlzLmZvZ1VuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClyW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKX19ZHJhdyhlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZil7Y29uc3QgbT1lLmdsO2lmKHRoaXMuZmFpbGVkVG9DcmVhdGUpcmV0dXJuO2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKSxlLnNldERlcHRoTW9kZShyKSxlLnNldFN0ZW5jaWxNb2RlKG4pLGUuc2V0Q29sb3JNb2RlKGkpLGUuc2V0Q3VsbEZhY2Uobyk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5maXhlZFVuaWZvcm1zKSl0aGlzLmZpeGVkVW5pZm9ybXNbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLGFbZV0pO3AmJnAuc2V0VW5pZm9ybXModGhpcy5wcm9ncmFtLGUsdGhpcy5iaW5kZXJVbmlmb3JtcyxoLHt6b29tOmR9KTtjb25zdCBnPXtbbS5MSU5FU106MixbbS5UUklBTkdMRVNdOjMsW20uTElORV9TVFJJUF06MX1bdF07Zm9yKGNvbnN0IHIgb2YgdS5nZXQoKSl7Y29uc3Qgbj1yLnZhb3N8fChyLnZhb3M9e30pOyhuW3NdfHwobltzXT1uZXcgbXIpKS5iaW5kKGUsdGhpcyxsLHA/cC5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLHIudmVydGV4T2Zmc2V0LGZ8fFtdKSxtLmRyYXdFbGVtZW50cyh0LHIucHJpbWl0aXZlTGVuZ3RoKmcsbS5VTlNJR05FRF9TSE9SVCxyLnByaW1pdGl2ZU9mZnNldCpnKjIpfX19ZnVuY3Rpb24gUnIoZSx0LHIpe2NvbnN0IG49MS9EKHIsMSx0LnRyYW5zZm9ybS50aWxlWm9vbSksaT1NYXRoLnBvdygyLHIudGlsZUlELm92ZXJzY2FsZWRaKSxvPXIudGlsZVNpemUqTWF0aC5wb3coMix0LnRyYW5zZm9ybS50aWxlWm9vbSkvaSxhPW8qKHIudGlsZUlELmNhbm9uaWNhbC54K3IudGlsZUlELndyYXAqaSkscz1vKnIudGlsZUlELmNhbm9uaWNhbC55O3JldHVybnt1X2ltYWdlOjAsdV90ZXhzaXplOnIuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3NjYWxlOltuLGUuZnJvbVNjYWxlLGUudG9TY2FsZV0sdV9mYWRlOmUudCx1X3BpeGVsX2Nvb3JkX3VwcGVyOlthPj4xNixzPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmYSw2NTUzNSZzXX19Y29uc3QgTHI9ZS5jcmVhdGUoKSxPcj0odCxyLG4saSxvLGEscyxsLGMsdSxoKT0+e2NvbnN0IGQ9ci5zdHlsZS5saWdodCxwPWQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSxmPVtwLngscC55LHAuel0sbT1lLmNyZWF0ZSQxKCk7XCJ2aWV3cG9ydFwiPT09ZC5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmKGUuZnJvbVJvdGF0aW9uKG0sLXIudHJhbnNmb3JtLmFuZ2xlKSxlLnRyYW5zZm9ybU1hdDMoZixmLG0pKTtjb25zdCBnPWQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxfPXIudHJhbnNmb3JtLHk9e3VfbWF0cml4OnQsdV9saWdodHBvczpmLHVfbGlnaHRpbnRlbnNpdHk6ZC5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSx1X2xpZ2h0Y29sb3I6W2cucixnLmcsZy5iXSx1X3ZlcnRpY2FsX2dyYWRpZW50OituLHVfb3BhY2l0eTppLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV9pbnZfcm90X21hdHJpeDpMcix1X21lcmNfY2VudGVyOlswLDBdLHVfdXBfZGlyOlswLDAsMF0sdV9oZWlnaHRfbGlmdDowLHVfYW86byx1X2VkZ2VfcmFkaXVzOmF9O3JldHVyblwiZ2xvYmVcIj09PV8ucHJvamVjdGlvbi5uYW1lJiYoeS51X3RpbGVfaWQ9W3MuY2Fub25pY2FsLngscy5jYW5vbmljYWwueSwxPDxzLmNhbm9uaWNhbC56XSx5LnVfem9vbV90cmFuc2l0aW9uPWMseS51X2ludl9yb3RfbWF0cml4PWgseS51X21lcmNfY2VudGVyPXUseS51X3VwX2Rpcj1fLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSx1WzBdKmUuRVhURU5ULHVbMV0qZS5FWFRFTlQpLHkudV9oZWlnaHRfbGlmdD1sKSx5fSxCcj0odCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCk9Pntjb25zdCBmPU9yKHQscixuLGksbyxhLHMsdSxoLGQscCksbT17dV9oZWlnaHRfZmFjdG9yOi1NYXRoLnBvdygyLHMub3ZlcnNjYWxlZFopL2MudGlsZVNpemUvOH07cmV0dXJuIGUuZXh0ZW5kKGYsUnIobCxyLGMpLG0pfSxGcj1lPT4oe3VfbWF0cml4OmV9KSxqcj0odCxyLG4saSk9PmUuZXh0ZW5kKEZyKHQpLFJyKG4scixpKSksVXI9KGUsdCk9Pih7dV9tYXRyaXg6ZSx1X3dvcmxkOnR9KSxOcj0odCxyLG4saSxvKT0+ZS5leHRlbmQoanIodCxyLG4saSkse3Vfd29ybGQ6b30pLFZyPWUuY3JlYXRlKCksR3I9KHQscixuLGksbyxhKT0+e2NvbnN0IHM9dC50cmFuc2Zvcm0sbD1cImdsb2JlXCI9PT1zLnByb2plY3Rpb24ubmFtZTtsZXQgYztpZihcIm1hcFwiPT09YS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpKWlmKGwpe2NvbnN0IHQ9ZS5nbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHMuem9vbSxyLmNhbm9uaWNhbCkqcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjPUZsb2F0MzJBcnJheS5mcm9tKFt0LDAsMCx0XSl9ZWxzZSBjPXMuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgobik7ZWxzZSBjPW5ldyBGbG9hdDMyQXJyYXkoW3MucGl4ZWxzVG9HTFVuaXRzWzBdLDAsMCxzLnBpeGVsc1RvR0xVbml0c1sxXV0pO2NvbnN0IHU9e3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9tYXRyaXg6dC50cmFuc2xhdGVQb3NNYXRyaXgoci5wcm9qTWF0cml4LG4sYS5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlXCIpLGEucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIikpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X2V4dHJ1ZGVfc2NhbGU6Yyx1X2ludl9yb3RfbWF0cml4OlZyLHVfbWVyY19jZW50ZXI6WzAsMF0sdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X3VwX2RpcjpbMCwwLDBdfTtpZihsKXt1LnVfaW52X3JvdF9tYXRyaXg9aSx1LnVfbWVyY19jZW50ZXI9byx1LnVfdGlsZV9pZD1bci5jYW5vbmljYWwueCxyLmNhbm9uaWNhbC55LDE8PHIuY2Fub25pY2FsLnpdLHUudV96b29tX3RyYW5zaXRpb249ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHMuem9vbSk7Y29uc3QgdD1vWzBdKmUuRVhURU5ULG49b1sxXSplLkVYVEVOVDt1LnVfdXBfZGlyPXMucHJvamVjdGlvbi51cFZlY3RvcihuZXcgZS5DYW5vbmljYWxUaWxlSUQoMCwwLDApLHQsbil9cmV0dXJuIHV9LHFyPWU9Pntjb25zdCB0PVtdO3JldHVyblwibWFwXCI9PT1lLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikmJnQucHVzaChcIlBJVENIX1dJVEhfTUFQXCIpLFwibWFwXCI9PT1lLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1zY2FsZVwiKSYmdC5wdXNoKFwiU0NBTEVfV0lUSF9NQVBcIiksdH0sWnI9KHQscixuLGkpPT57Y29uc3Qgbz1lLkVYVEVOVC9uLnRpbGVTaXplO3JldHVybnt1X21hdHJpeDp0LHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpyLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoaSksdV9leHRydWRlX3NjYWxlOltyLnBpeGVsc1RvR0xVbml0c1swXS9vLHIucGl4ZWxzVG9HTFVuaXRzWzFdL29dfX0sJHI9KGUsdCxyPTEpPT4oe3VfbWF0cml4OmUsdV9jb2xvcjp0LHVfb3ZlcmxheTowLHVfb3ZlcmxheV9zY2FsZTpyfSksV3I9ZS5jcmVhdGUoKSxYcj0odCxyLG4saSxvLGEscyk9Pntjb25zdCBsPXQudHJhbnNmb3JtLGM9XCJnbG9iZVwiPT09bC5wcm9qZWN0aW9uLm5hbWUsdT1jP2UuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cyhsLnpvb20sci5jYW5vbmljYWwpKmwuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw6RChuLDEsYSksaD17dV9tYXRyaXg6ci5wcm9qTWF0cml4LHVfZXh0cnVkZV9zY2FsZTp1LHVfaW50ZW5zaXR5OnMsdV9pbnZfcm90X21hdHJpeDpXcix1X21lcmNfY2VudGVyOlswLDBdLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV91cF9kaXI6WzAsMCwwXX07aWYoYyl7aC51X2ludl9yb3RfbWF0cml4PWksaC51X21lcmNfY2VudGVyPW8saC51X3RpbGVfaWQ9W3IuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSwxPDxyLmNhbm9uaWNhbC56XSxoLnVfem9vbV90cmFuc2l0aW9uPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihsLnpvb20pO2NvbnN0IHQ9b1swXSplLkVYVEVOVCxuPW9bMV0qZS5FWFRFTlQ7aC51X3VwX2Rpcj1sLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSx0LG4pfXJldHVybiBofSxIcj0oZSx0LHIsbixpLG8sYSxzKT0+e2NvbnN0IGw9ZS50cmFuc2Zvcm0sYz1sLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLHU9e3VfbWF0cml4OkpyKGUsdCxyLGkpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6Yyx1X2RldmljZV9waXhlbF9yYXRpbzphLHVfdW5pdHNfdG9fcGl4ZWxzOlsxL2wucGl4ZWxzVG9HTFVuaXRzWzBdLDEvbC5waXhlbHNUb0dMVW5pdHNbMV1dLHVfZGFzaF9pbWFnZTowLHVfZ3JhZGllbnRfaW1hZ2U6MSx1X2ltYWdlX2hlaWdodDpvLHVfdGV4c2l6ZTpbMCwwXSx1X3NjYWxlOlswLDAsMF0sdV9taXg6MCx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOjAsdV90cmltX29mZnNldDpzfTtpZihRcihyKSl7Y29uc3Qgcj1Lcih0LGUudHJhbnNmb3JtKTt1LnVfdGV4c2l6ZT10LmxpbmVBdGxhc1RleHR1cmUuc2l6ZSx1LnVfc2NhbGU9W3Isbi5mcm9tU2NhbGUsbi50b1NjYWxlXSx1LnVfbWl4PW4udH1yZXR1cm4gdX0sWXI9KGUsdCxyLG4saSxvKT0+e2NvbnN0IGE9ZS50cmFuc2Zvcm0scz1Lcih0LGEpO3JldHVybnt1X21hdHJpeDpKcihlLHQscixpKSx1X3RleHNpemU6dC5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6YS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KSx1X2RldmljZV9waXhlbF9yYXRpbzpvLHVfaW1hZ2U6MCx1X3NjYWxlOltzLG4uZnJvbVNjYWxlLG4udG9TY2FsZV0sdV9mYWRlOm4udCx1X3VuaXRzX3RvX3BpeGVsczpbMS9hLnBpeGVsc1RvR0xVbml0c1swXSwxL2EucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOjB9fTtmdW5jdGlvbiBLcihlLHQpe3JldHVybiAxL0QoZSwxLHQudGlsZVpvb20pfWZ1bmN0aW9uIEpyKGUsdCxyLG4pe3JldHVybiBlLnRyYW5zbGF0ZVBvc01hdHJpeChufHx0LnRpbGVJRC5wcm9qTWF0cml4LHQsci5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSxyLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiKSl9ZnVuY3Rpb24gUXIoZSl7Y29uc3QgdD1lLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlO3JldHVybiB0LnZhbHVlfHxcImNvbnN0YW50XCIhPT10LmtpbmR9Y29uc3QgZW49KGUsdCxyLG4saSxvKT0+e3JldHVybnt1X21hdHJpeDplLHVfdGxfcGFyZW50OnQsdV9zY2FsZV9wYXJlbnQ6cix1X2ZhZGVfdDpuLm1peCx1X29wYWNpdHk6bi5vcGFjaXR5KmkucGFpbnQuZ2V0KFwicmFzdGVyLW9wYWNpdHlcIiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6aS5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIiksdV9icmlnaHRuZXNzX2hpZ2g6aS5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIiksdV9zYXR1cmF0aW9uX2ZhY3Rvcjoocz1pLnBhaW50LmdldChcInJhc3Rlci1zYXR1cmF0aW9uXCIpLHM+MD8xLTEvKDEuMDAxLXMpOi1zKSx1X2NvbnRyYXN0X2ZhY3RvcjooYT1pLnBhaW50LmdldChcInJhc3Rlci1jb250cmFzdFwiKSxhPjA/MS8oMS1hKToxK2EpLHVfc3Bpbl93ZWlnaHRzOnRuKGkucGFpbnQuZ2V0KFwicmFzdGVyLWh1ZS1yb3RhdGVcIikpLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtOm99O3ZhciBhLHN9O2Z1bmN0aW9uIHRuKGUpe2UqPU1hdGguUEkvMTgwO2NvbnN0IHQ9TWF0aC5zaW4oZSkscj1NYXRoLmNvcyhlKTtyZXR1cm5bKDIqcisxKS8zLCgtTWF0aC5zcXJ0KDMpKnQtcisxKS8zLChNYXRoLnNxcnQoMykqdC1yKzEpLzNdfWNvbnN0IHJuPWUuY3JlYXRlKCksbm49KHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcpPT57Y29uc3QgXz1vLnRyYW5zZm9ybSx5PXt1X2lzX3NpemVfem9vbV9jb25zdGFudDorKFwiY29uc3RhbnRcIj09PXR8fFwic291cmNlXCI9PT10KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDorKFwiY29uc3RhbnRcIj09PXR8fFwiY2FtZXJhXCI9PT10KSx1X3NpemVfdDpyP3IudVNpemVUOjAsdV9zaXplOnI/ci51U2l6ZTowLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpfLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9yb3RhdGVfc3ltYm9sOituLHVfYXNwZWN0X3JhdGlvOl8ud2lkdGgvXy5oZWlnaHQsdV9mYWRlX2NoYW5nZTpvLm9wdGlvbnMuZmFkZUR1cmF0aW9uP28uc3ltYm9sRmFkZUNoYW5nZToxLHVfbWF0cml4OmEsdV9sYWJlbF9wbGFuZV9tYXRyaXg6cyx1X2Nvb3JkX21hdHJpeDpsLHVfaXNfdGV4dDorYyx1X3BpdGNoX3dpdGhfbWFwOitpLHVfdGV4c2l6ZTp1LHVfdGV4dHVyZTowLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV9pbnZfcm90X21hdHJpeDpybix1X21lcmNfY2VudGVyOlswLDBdLHVfY2FtZXJhX2ZvcndhcmQ6WzAsMCwwXSx1X2VjZWZfb3JpZ2luOlswLDAsMF0sdV90aWxlX21hdHJpeDpybix1X3VwX3ZlY3RvcjpbMCwtMSwwXX07cmV0dXJuXCJnbG9iZVwiPT09Zy5uYW1lJiYoeS51X3RpbGVfaWQ9W2guY2Fub25pY2FsLngsaC5jYW5vbmljYWwueSwxPDxoLmNhbm9uaWNhbC56XSx5LnVfem9vbV90cmFuc2l0aW9uPWQseS51X2ludl9yb3RfbWF0cml4PWYseS51X21lcmNfY2VudGVyPXAseS51X2NhbWVyYV9mb3J3YXJkPV8uX2NhbWVyYS5mb3J3YXJkKCkseS51X2VjZWZfb3JpZ2luPWUuZ2xvYmVFQ0VGT3JpZ2luKF8uZ2xvYmVNYXRyaXgsaC50b1Vud3JhcHBlZCgpKSx5LnVfdGlsZV9tYXRyaXg9RmxvYXQzMkFycmF5LmZyb20oXy5nbG9iZU1hdHJpeCkseS51X3VwX3ZlY3Rvcj1tKSx5fSxvbj0odCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfKT0+ZS5leHRlbmQobm4odCxyLG4saSxvLGEscyxsLGMsdSxkLHAsZixtLGcsXykse3VfZ2FtbWFfc2NhbGU6aT9vLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKk1hdGguY29zKG8udGVycmFpbj8wOm8udHJhbnNmb3JtLl9waXRjaCk6MSx1X2RldmljZV9waXhlbF9yYXRpbzplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdV9pc19oYWxvOitofSksYW49KHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcpPT5lLmV4dGVuZChvbih0LHIsbixpLG8sYSxzLGwsITAsYywhMCxoLGQscCxmLG0sZykse3VfdGV4c2l6ZV9pY29uOnUsdV90ZXh0dXJlX2ljb246MX0pLHNuPShlLHQscik9Pih7dV9tYXRyaXg6ZSx1X29wYWNpdHk6dCx1X2NvbG9yOnJ9KSxsbj0odCxyLG4saSxvLGEpPT5lLmV4dGVuZChmdW5jdGlvbihlLHQscixuKXtjb25zdCBpPXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS5mcm9tLnRvU3RyaW5nKCkpLG89ci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvLnRvU3RyaW5nKCkpLHt3aWR0aDphLGhlaWdodDpzfT1yLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKSxsPU1hdGgucG93KDIsbi50aWxlSUQub3ZlcnNjYWxlZFopLGM9bi50aWxlU2l6ZSpNYXRoLnBvdygyLHIudHJhbnNmb3JtLnRpbGVab29tKS9sLHU9Yyoobi50aWxlSUQuY2Fub25pY2FsLngrbi50aWxlSUQud3JhcCpsKSxoPWMqbi50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJue3VfaW1hZ2U6MCx1X3BhdHRlcm5fdGxfYTppLnRsLHVfcGF0dGVybl9icl9hOmkuYnIsdV9wYXR0ZXJuX3RsX2I6by50bCx1X3BhdHRlcm5fYnJfYjpvLmJyLHVfdGV4c2l6ZTpbYSxzXSx1X21peDp0LnQsdV9wYXR0ZXJuX3NpemVfYTppLmRpc3BsYXlTaXplLHVfcGF0dGVybl9zaXplX2I6by5kaXNwbGF5U2l6ZSx1X3NjYWxlX2E6dC5mcm9tU2NhbGUsdV9zY2FsZV9iOnQudG9TY2FsZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOjEvRChuLDEsci50cmFuc2Zvcm0udGlsZVpvb20pLHVfcGl4ZWxfY29vcmRfdXBwZXI6W3U+PjE2LGg+PjE2XSx1X3BpeGVsX2Nvb3JkX2xvd2VyOls2NTUzNSZ1LDY1NTM1JmhdfX0oaSxhLG4sbykse3VfbWF0cml4OnQsdV9vcGFjaXR5OnJ9KSxjbj17ZmlsbEV4dHJ1c2lvbjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xpZ2h0cG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2xpZ2h0Y29sb3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9lZGdlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbzpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaGVpZ2h0X2xpZnQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksZmlsbEV4dHJ1c2lvblBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9saWdodHBvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9saWdodGludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9saWdodGNvbG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X2hlaWdodF9mYWN0b3I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYW86bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2hlaWdodF9saWZ0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KX0pLGZpbGw6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KSxmaWxsUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxmaWxsT3V0bGluZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3dvcmxkOm5ldyBlLlVuaWZvcm0yZih0KX0pLGZpbGxPdXRsaW5lUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3dvcmxkOm5ldyBlLlVuaWZvcm0yZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxjaXJjbGU6dD0+KHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCl9KSxjb2xsaXNpb25Cb3g6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybTJmKHQpfSksY29sbGlzaW9uQ2lyY2xlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW52X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3ZpZXdwb3J0X3NpemU6bmV3IGUuVW5pZm9ybTJmKHQpfSksZGVidWc6dD0+KHt1X2NvbG9yOm5ldyBlLlVuaWZvcm1Db2xvcih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9vdmVybGF5Om5ldyBlLlVuaWZvcm0xaSh0KSx1X292ZXJsYXlfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksY2xpcHBpbmdNYXNrOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSksaGVhdG1hcDp0PT4oe3VfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCl9KSxoZWF0bWFwVGV4dHVyZTp0PT4oe3VfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KX0pLGhpbGxzaGFkZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2xhdHJhbmdlOm5ldyBlLlVuaWZvcm0yZih0KSx1X2xpZ2h0Om5ldyBlLlVuaWZvcm0yZih0KSx1X3NoYWRvdzpuZXcgZS5Vbmlmb3JtQ29sb3IodCksdV9oaWdobGlnaHQ6bmV3IGUuVW5pZm9ybUNvbG9yKHQpLHVfYWNjZW50Om5ldyBlLlVuaWZvcm1Db2xvcih0KX0pLGhpbGxzaGFkZVByZXBhcmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9kaW1lbnNpb246bmV3IGUuVW5pZm9ybTJmKHQpLHVfem9vbTpuZXcgZS5Vbmlmb3JtMWYodCksdV91bnBhY2s6bmV3IGUuVW5pZm9ybTRmKHQpfSksbGluZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBlLlVuaWZvcm1NYXRyaXgyZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGFzaF9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9ncmFkaWVudF9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9pbWFnZV9oZWlnaHQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9zY2FsZTpuZXcgZS5Vbmlmb3JtM2YodCksdV9taXg6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdHJpbV9vZmZzZXQ6bmV3IGUuVW5pZm9ybTJmKHQpfSksbGluZVBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBlLlVuaWZvcm1NYXRyaXgyZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxyYXN0ZXI6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV90bF9wYXJlbnQ6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGVfcGFyZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlMDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pbWFnZTE6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYnJpZ2h0bmVzc19oaWdoOm5ldyBlLlVuaWZvcm0xZih0KSx1X3NhdHVyYXRpb25fZmFjdG9yOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbnRyYXN0X2ZhY3RvcjpuZXcgZS5Vbmlmb3JtMWYodCksdV9zcGluX3dlaWdodHM6bmV3IGUuVW5pZm9ybTNmKHQpLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtOm5ldyBlLlVuaWZvcm0yZih0KX0pLHN5bWJvbEljb246dD0+KHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2l6ZV90Om5ldyBlLlVuaWZvcm0xZih0KSx1X3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2FzcGVjdF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX2NoYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2Nvb3JkX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pc190ZXh0Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3BpdGNoX3dpdGhfbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfY2FtZXJhX2ZvcndhcmQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdXBfdmVjdG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X2VjZWZfb3JpZ2luOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpfSksc3ltYm9sU0RGOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ2FtbWFfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3VwX3ZlY3RvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9lY2VmX29yaWdpbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9pc19oYWxvOm5ldyBlLlVuaWZvcm0xaSh0KX0pLHN5bWJvbFRleHRBbmRJY29uOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHNpemVfaWNvbjpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHR1cmVfaWNvbjpuZXcgZS5Vbmlmb3JtMWkodCksdV9nYW1tYV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfaXNfaGFsbzpuZXcgZS5Vbmlmb3JtMWkodCl9KSxiYWNrZ3JvdW5kOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb2xvcjpuZXcgZS5Vbmlmb3JtQ29sb3IodCl9KSxiYWNrZ3JvdW5kUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGF0dGVybl90bF9hOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fYnJfYTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX3RsX2I6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGF0dGVybl9icl9iOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfbWl4Om5ldyBlLlVuaWZvcm0xZih0KSx1X3BhdHRlcm5fc2l6ZV9hOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fc2l6ZV9iOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlX2E6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2NhbGVfYjpuZXcgZS5Vbmlmb3JtMWYodCksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMWYodCl9KSx0ZXJyYWluUmFzdGVyOnhyLHRlcnJhaW5EZXB0aDp4cixza3lib3g6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9zdW5fZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X2N1YmVtYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksc2t5Ym94R3JhZGllbnQ6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb2xvcl9yYW1wOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2NlbnRlcl9kaXJlY3Rpb246bmV3IGUuVW5pZm9ybTNmKHQpLHVfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KX0pLHNreWJveENhcHR1cmU6dD0+KHt1X21hdHJpeF8zZjpuZXcgZS5Vbmlmb3JtTWF0cml4M2YodCksdV9zdW5fZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X3N1bl9pbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3JfdGludF9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X2NvbG9yX3RpbnRfbTpuZXcgZS5Vbmlmb3JtNGYodCksdV9sdW1pbmFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpfSksZ2xvYmVSYXN0ZXI6dD0+KHt1X3Byb2pfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2dsb2JlX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9ub3JtYWxpemVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9pbWFnZTA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ3JpZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDNmKHQpLHVfZnJ1c3R1bV90bDpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX3RyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYnI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9wb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X3ZpZXdwb3J0Om5ldyBlLlVuaWZvcm0yZih0KX0pLGdsb2JlQXRtb3NwaGVyZTp0PT4oe3VfZnJ1c3R1bV90bDpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX3RyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYnI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5Vbmlmb3JtM2YodCksdV9ob3Jpem9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZW91dF9yYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9oaWdoX2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X3NwYWNlX2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X3N0YXJfaW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3N0YXJfZGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9zdGFyX3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2hvcml6b25fYW5nbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRpb25fbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KX0pfTtsZXQgdW47ZnVuY3Rpb24gaG4odCxyLG4saSxvLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLHU9dC50cmFuc2Zvcm0saD10LnVzZVByb2dyYW0oXCJjb2xsaXNpb25Cb3hcIiksZD1bXTtsZXQgcD0wLGY9MDtmb3IobGV0IG09MDttPGkubGVuZ3RoO20rKyl7Y29uc3QgZz1pW21dLF89ci5nZXRUaWxlKGcpLHk9Xy5nZXRCdWNrZXQobik7aWYoIXkpY29udGludWU7Y29uc3Qgdj1idChnLHksdSk7bGV0IHg9djswPT09b1swXSYmMD09PW9bMV18fCh4PXQudHJhbnNsYXRlUG9zTWF0cml4KHYsXyxvLGEpKTtjb25zdCBiPXM/eS50ZXh0Q29sbGlzaW9uQm94OnkuaWNvbkNvbGxpc2lvbkJveCx3PXkuY29sbGlzaW9uQ2lyY2xlQXJyYXk7aWYody5sZW5ndGg+MCl7Y29uc3QgdD1lLmNyZWF0ZSgpLHI9eDtlLm11bCh0LHkucGxhY2VtZW50SW52UHJvak1hdHJpeCx1LmdsQ29vcmRNYXRyaXgpLGUubXVsKHQsdCx5LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4KSxkLnB1c2goe2NpcmNsZUFycmF5OncsY2lyY2xlT2Zmc2V0OmYsdHJhbnNmb3JtOnIsaW52VHJhbnNmb3JtOnQscHJvamVjdGlvbjp5LmdldFByb2plY3Rpb24oKX0pLHArPXcubGVuZ3RoLzQsZj1wfWImJih0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoXyxoKSxoLmRyYXcobCxjLkxJTkVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsWnIoeCx1LF8seS5nZXRQcm9qZWN0aW9uKCkpLG4uaWQsYi5sYXlvdXRWZXJ0ZXhCdWZmZXIsYi5pbmRleEJ1ZmZlcixiLnNlZ21lbnRzLG51bGwsdS56b29tLG51bGwsW2IuY29sbGlzaW9uVmVydGV4QnVmZmVyLGIuY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0XSkpfWlmKCFzfHwhZC5sZW5ndGgpcmV0dXJuO2NvbnN0IG09dC51c2VQcm9ncmFtKFwiY29sbGlzaW9uQ2lyY2xlXCIpLGc9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNjtnLnJlc2l6ZSg0KnApLGcuX3RyaW0oKTtsZXQgXz0wO2Zvcihjb25zdCBlIG9mIGQpZm9yKGxldCB0PTA7dDxlLmNpcmNsZUFycmF5Lmxlbmd0aC80O3QrKyl7Y29uc3Qgcj00KnQsbj1lLmNpcmNsZUFycmF5W3IrMF0saT1lLmNpcmNsZUFycmF5W3IrMV0sbz1lLmNpcmNsZUFycmF5W3IrMl0sYT1lLmNpcmNsZUFycmF5W3IrM107Zy5lbXBsYWNlKF8rKyxuLGksbyxhLDApLGcuZW1wbGFjZShfKyssbixpLG8sYSwxKSxnLmVtcGxhY2UoXysrLG4saSxvLGEsMiksZy5lbXBsYWNlKF8rKyxuLGksbyxhLDMpfSghdW58fHVuLmxlbmd0aDwyKnApJiYodW49ZnVuY3Rpb24odCl7Y29uc3Qgcj0yKnQsbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7bi5yZXNpemUociksbi5fdHJpbSgpO2ZvcihsZXQgZT0wO2U8cjtlKyspe2NvbnN0IHQ9NiplO24udWludDE2W3QrMF09NCplKzAsbi51aW50MTZbdCsxXT00KmUrMSxuLnVpbnQxNlt0KzJdPTQqZSsyLG4udWludDE2W3QrM109NCplKzIsbi51aW50MTZbdCs0XT00KmUrMyxuLnVpbnQxNlt0KzVdPTQqZSswfXJldHVybiBufShwKSk7Y29uc3QgeT1sLmNyZWF0ZUluZGV4QnVmZmVyKHVuLCEwKSx2PWwuY3JlYXRlVmVydGV4QnVmZmVyKGcsZS5jb2xsaXNpb25DaXJjbGVMYXlvdXQubWVtYmVycywhMCk7Zm9yKGNvbnN0IHIgb2YgZCl7Y29uc3QgaT17dV9tYXRyaXg6ci50cmFuc2Zvcm0sdV9pbnZfbWF0cml4OnIuaW52VHJhbnNmb3JtLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTooeD11KS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHIucHJvamVjdGlvbiksdV92aWV3cG9ydF9zaXplOlt4LndpZHRoLHguaGVpZ2h0XX07bS5kcmF3KGwsYy5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxpLG4uaWQsdix5LGUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMipyLmNpcmNsZU9mZnNldCxyLmNpcmNsZUFycmF5Lmxlbmd0aCxyLmNpcmNsZUFycmF5Lmxlbmd0aC8yKSxudWxsLHUuem9vbSl9dmFyIHg7di5kZXN0cm95KCkseS5kZXN0cm95KCl9Y29uc3QgZG49ZS5jcmVhdGUoKTtmdW5jdGlvbiBwbih0LHIsbixpLG8sYSl7Y29uc3R7aG9yaXpvbnRhbEFsaWduOnMsdmVydGljYWxBbGlnbjpsfT1lLmdldEFuY2hvckFsaWdubWVudCh0KSxjPS0ocy0uNSkqcix1PS0obC0uNSkqbixoPWUuZXZhbHVhdGVWYXJpYWJsZU9mZnNldCh0LGkpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KChjL28raFswXSkqYSwodS9vK2hbMV0pKmEpfWZ1bmN0aW9uIGZuKHQscixuLGksbyxhLHMsbCxjLHUsaCl7Y29uc3QgZD10LnRleHQucGxhY2VkU3ltYm9sQXJyYXkscD10LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LGY9dC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxtPXt9LGc9d3QobCx0LmdldFByb2plY3Rpb24oKSxhKSxfPWEuZWxldmF0aW9uLHk9dC5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3JTY2FsZShsLmNhbm9uaWNhbCxhLmNlbnRlci5sYXQsYS53b3JsZFNpemUpO3AuY2xlYXIoKTtmb3IobGV0IGY9MDtmPGQubGVuZ3RoO2YrKyl7Y29uc3Qgdj1kLmdldChmKSx4PXQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIXYucGxhY2VkT3JpZW50YXRpb24sYj12LmhpZGRlbnx8IXYuY3Jvc3NUaWxlSUR8fHg/bnVsbDppW3YuY3Jvc3NUaWxlSURdO2lmKGIpe2NvbnN0IGk9bmV3IGUucG9pbnRHZW9tZXRyeSh2LnRpbGVBbmNob3JYLHYudGlsZUFuY2hvclkpLGQ9dC5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3IobC5jYW5vbmljYWwsaS54LGkueSksZj1fP18uZ2V0QXRUaWxlT2Zmc2V0KGwsaS54LGkueSk6MCx4PW90KFt2LnByb2plY3RlZEFuY2hvclgrZipkWzBdKnkubWV0ZXJzVG9UaWxlLHYucHJvamVjdGVkQW5jaG9yWStmKmRbMV0qeS5tZXRlcnNUb1RpbGUsdi5wcm9qZWN0ZWRBbmNob3JaK2YqZFsyXSp5Lm1ldGVyc1RvVGlsZV0sbj9nOnMpLHc9YXQoYS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHQuZ2V0UHJvamVjdGlvbigpKSx4LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSk7bGV0IFQ9by5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKHQudGV4dFNpemVEYXRhLHUsdikqdy9lLk9ORV9FTTtuJiYoVCo9dC50aWxlUGl4ZWxSYXRpby9jKTtjb25zdHt3aWR0aDpFLGhlaWdodDpTLGFuY2hvcjpDLHRleHRPZmZzZXQ6TSx0ZXh0U2NhbGU6a309YixBPXBuKEMsRSxTLE0sayxUKTtsZXQgSTtpZihuKXtjb25zdCBlPWkuYWRkKEEpLHt4OnIseTpuLHo6b309dC5nZXRQcm9qZWN0aW9uKCkucHJvamVjdFRpbGVQb2ludChlLngsZS55LGwuY2Fub25pY2FsKTtJPW90KFtyK2YqZFswXSp5Lm1ldGVyc1RvVGlsZSxuK2YqZFsxXSp5Lm1ldGVyc1RvVGlsZSxvK2YqZFsyXSp5Lm1ldGVyc1RvVGlsZV0scykucG9pbnR9ZWxzZXtjb25zdCBlPXI/QS5yb3RhdGUoLWEuYW5nbGUpOkE7ST1beC5wb2ludFswXStlLngseC5wb2ludFsxXStlLnksMF19Y29uc3QgUD10LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnYucGxhY2VkT3JpZW50YXRpb249PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsP01hdGguUEkvMjowO2ZvcihsZXQgdD0wO3Q8di5udW1HbHlwaHM7dCsrKWUuYWRkRHluYW1pY0F0dHJpYnV0ZXMocCxJWzBdLElbMV0sSVsyXSxQKTtoJiZ2LmFzc29jaWF0ZWRJY29uSW5kZXg+PTAmJihtW3YuYXNzb2NpYXRlZEljb25JbmRleF09e3NoaWZ0ZWRBbmNob3I6SSxhbmdsZTpQfSl9ZWxzZSBndCh2Lm51bUdseXBocyxwKX1pZihoKXtmLmNsZWFyKCk7Y29uc3Qgcj10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspe2NvbnN0IG49ci5nZXQodCk7aWYobi5oaWRkZW4pZ3Qobi5udW1HbHlwaHMsZik7ZWxzZXtjb25zdCByPW1bdF07aWYocilmb3IobGV0IHQ9MDt0PG4ubnVtR2x5cGhzO3QrKyllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKGYsci5zaGlmdGVkQW5jaG9yWzBdLHIuc2hpZnRlZEFuY2hvclsxXSxyLnNoaWZ0ZWRBbmNob3JbMl0sci5hbmdsZSk7ZWxzZSBndChuLm51bUdseXBocyxmKX19dC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShmKX10LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApfWZ1bmN0aW9uIG1uKGUsdCxyKXtyZXR1cm4gci5pY29uc0luVGV4dCYmdD9cInN5bWJvbFRleHRBbmRJY29uXCI6ZT9cInN5bWJvbFNERlwiOlwic3ltYm9sSWNvblwifWZ1bmN0aW9uIGduKHQscixuLGksbyxhLHMsbCxjLHUsaCxkKXtjb25zdCBwPXQuY29udGV4dCxmPXAuZ2wsbT10LnRyYW5zZm9ybSxnPVwibWFwXCI9PT1sLF89XCJtYXBcIj09PWMseT1nJiZcInBvaW50XCIhPT1uLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHY9ZyYmIV8mJiF5LHg9dm9pZCAwIT09bi5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7bGV0IGI9ITE7Y29uc3Qgdz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLFQ9W2UubWVyY2F0b3JYZnJvbUxuZyhtLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChtLmNlbnRlci5sYXQpXSxFPW4ubGF5b3V0LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpLFM9XCJnbG9iZVwiPT09bS5wcm9qZWN0aW9uLm5hbWUsQz1bXSxNPVswLC0xLDBdO2xldCBrPU07IVMmJiFtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb258fGd8fChrPWZ1bmN0aW9uKHQpe2NvbnN0IHI9dC5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodC53b3JsZFNpemUsMSksbj1lLm11bHRpcGx5KFtdLHIsdC5nbG9iZU1hdHJpeCk7ZS5pbnZlcnQobixuKTtjb25zdCBpPVswLDAsMF0sbz1bMCwxLDAsMF07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKG8sbyxuKSxpWzBdPW9bMF0saVsxXT1vWzFdLGlbMl09b1syXSxlLm5vcm1hbGl6ZShpLGkpLGl9KG0pKTtmb3IoY29uc3QgbCBvZiBpKXtjb25zdCBpPXIuZ2V0VGlsZShsKSxjPWkuZ2V0QnVja2V0KG4pO2lmKCFjKWNvbnRpbnVlO2lmKFwibWVyY2F0b3JcIj09PWMucHJvamVjdGlvbi5uYW1lJiZTKWNvbnRpbnVlO2NvbnN0IGg9bz9jLnRleHQ6Yy5pY29uO2lmKCFofHxjLmZ1bGx5Q2xpcHBlZHx8IWguc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGQ9aC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLHA9b3x8Yy5zZGZJY29ucyx3PW8/Yy50ZXh0U2l6ZURhdGE6Yy5pY29uU2l6ZURhdGEsQT1ffHwwIT09bS5waXRjaCxJPWUuZXZhbHVhdGVTaXplRm9yWm9vbSh3LG0uem9vbSk7bGV0IFAseixELFIsTD1bMCwwXSxPPW51bGw7aWYobyl7aWYoej1pLmdseXBoQXRsYXNUZXh0dXJlLEQ9Zi5MSU5FQVIsUD1pLmdseXBoQXRsYXNUZXh0dXJlLnNpemUsYy5pY29uc0luVGV4dCl7TD1pLmltYWdlQXRsYXNUZXh0dXJlLnNpemUsTz1pLmltYWdlQXRsYXNUZXh0dXJlO2NvbnN0IGU9XCJjb21wb3NpdGVcIj09PXcua2luZHx8XCJjYW1lcmFcIj09PXcua2luZDtSPUF8fHQub3B0aW9ucy5yb3RhdGluZ3x8dC5vcHRpb25zLnpvb21pbmd8fGU/Zi5MSU5FQVI6Zi5ORUFSRVNUfX1lbHNle2NvbnN0IGU9MSE9PW4ubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5jb25zdGFudE9yKDApfHxjLmljb25zTmVlZExpbmVhcjt6PWkuaW1hZ2VBdGxhc1RleHR1cmUsRD1wfHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxlfHxBP2YuTElORUFSOmYuTkVBUkVTVCxQPWkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZX1jb25zdCBCPVwiZ2xvYmVcIj09PWMucHJvamVjdGlvbi5uYW1lLEY9Qj9rOk0saj1CP2UuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihtLnpvb20pOjAsVT13dChsLGMuZ2V0UHJvamVjdGlvbigpLG0pLE49bS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChpKSxWPXR0KFUsaS50aWxlSUQuY2Fub25pY2FsLF8sZyxtLGMuZ2V0UHJvamVjdGlvbigpLE4pLEc9dC50ZXJyYWluJiZfJiZ5P2UuaW52ZXJ0KGUuY3JlYXRlKCksVik6ZG4scT1udChVLGkudGlsZUlELmNhbm9uaWNhbCxfLGcsbSxjLmdldFByb2plY3Rpb24oKSxOKSxaPUUmJmMuaGFzVGV4dERhdGEoKSwkPVwibm9uZVwiIT09bi5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSYmWiYmYy5oYXNJY29uRGF0YSgpO2lmKHkpe2NvbnN0IGU9bS5lbGV2YXRpb24scj1lP2UuZ2V0QXRUaWxlT2Zmc2V0RnVuYyhsLG0uY2VudGVyLmxhdCxtLndvcmxkU2l6ZSxjLmdldFByb2plY3Rpb24oKSk6ZT0+WzAsMCwwXSxuPXJ0KFUsaS50aWxlSUQuY2Fub25pY2FsLF8sZyxtLGMuZ2V0UHJvamVjdGlvbigpLE4pO2x0KGMsVSx0LG8sbixxLF8sdSxyLGwpfWNvbnN0IFc9eXx8byYmRXx8JCxYPXQudHJhbnNsYXRlUG9zTWF0cml4KFUsaSxhLHMpLEg9Vz9kbjpWLFk9dC50cmFuc2xhdGVQb3NNYXRyaXgocSxpLGEscywhMCksSz1jLmdldFByb2plY3Rpb24oKS5jcmVhdGVJbnZlcnNpb25NYXRyaXgobSxsLmNhbm9uaWNhbCksSj1bXTt0LnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmXyYmSi5wdXNoKFwiUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlwiKSxCJiZKLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksVyYmSi5wdXNoKFwiUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFwiKTtjb25zdCBRPXAmJjAhPT1uLnBhaW50LmdldChvP1widGV4dC1oYWxvLXdpZHRoXCI6XCJpY29uLWhhbG8td2lkdGhcIikuY29uc3RhbnRPcigxKTtsZXQgZWU7ZWU9cD9jLmljb25zSW5UZXh0P2FuKHcua2luZCxJLHYsXyx0LFgsSCxZLFAsTCxsLGosVCxLLEYsYy5nZXRQcm9qZWN0aW9uKCkpOm9uKHcua2luZCxJLHYsXyx0LFgsSCxZLG8sUCwhMCxsLGosVCxLLEYsYy5nZXRQcm9qZWN0aW9uKCkpOm5uKHcua2luZCxJLHYsXyx0LFgsSCxZLG8sUCxsLGosVCxLLEYsYy5nZXRQcm9qZWN0aW9uKCkpO2NvbnN0IHRlPXtwcm9ncmFtOnQudXNlUHJvZ3JhbShtbihwLG8sYyksZCxKKSxidWZmZXJzOmgsdW5pZm9ybVZhbHVlczplZSxhdGxhc1RleHR1cmU6eixhdGxhc1RleHR1cmVJY29uOk8sYXRsYXNJbnRlcnBvbGF0aW9uOkQsYXRsYXNJbnRlcnBvbGF0aW9uSWNvbjpSLGlzU0RGOnAsaGFzSGFsbzpRLHRpbGU6aSxsYWJlbFBsYW5lTWF0cml4SW52Okd9O2lmKHgmJmMuY2FuT3ZlcmxhcCl7Yj0hMDtjb25zdCB0PWguc2VnbWVudHMuZ2V0KCk7Zm9yKGNvbnN0IHIgb2YgdClDLnB1c2goe3NlZ21lbnRzOm5ldyBlLlNlZ21lbnRWZWN0b3IoW3JdKSxzb3J0S2V5OnIuc29ydEtleSxzdGF0ZTp0ZX0pfWVsc2UgQy5wdXNoKHtzZWdtZW50czpoLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp0ZX0pfWImJkMuc29ydCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSk7Zm9yKGNvbnN0IGUgb2YgQyl7Y29uc3Qgcj1lLnN0YXRlO2lmKHQudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhyLnRpbGUsci5wcm9ncmFtLHt1c2VEZXB0aEZvck9jY2x1c2lvbjohUyxsYWJlbFBsYW5lTWF0cml4SW52OnIubGFiZWxQbGFuZU1hdHJpeEludn0pLHAuYWN0aXZlVGV4dHVyZS5zZXQoZi5URVhUVVJFMCksci5hdGxhc1RleHR1cmUuYmluZChyLmF0bGFzSW50ZXJwb2xhdGlvbixmLkNMQU1QX1RPX0VER0UpLHIuYXRsYXNUZXh0dXJlSWNvbiYmKHAuYWN0aXZlVGV4dHVyZS5zZXQoZi5URVhUVVJFMSksci5hdGxhc1RleHR1cmVJY29uJiZyLmF0bGFzVGV4dHVyZUljb24uYmluZChyLmF0bGFzSW50ZXJwb2xhdGlvbkljb24sZi5DTEFNUF9UT19FREdFKSksci5pc1NERil7Y29uc3QgaT1yLnVuaWZvcm1WYWx1ZXM7ci5oYXNIYWxvJiYoaS51X2lzX2hhbG89MSxfbihyLmJ1ZmZlcnMsZS5zZWdtZW50cyxuLHQsci5wcm9ncmFtLHcsaCxkLGkpKSxpLnVfaXNfaGFsbz0wfV9uKHIuYnVmZmVycyxlLnNlZ21lbnRzLG4sdCxyLnByb2dyYW0sdyxoLGQsci51bmlmb3JtVmFsdWVzKX19ZnVuY3Rpb24gX24odCxyLG4saSxvLGEscyxsLGMpe2NvbnN0IHU9aS5jb250ZXh0LGg9W3QuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcix0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIsdC5nbG9iZUV4dFZlcnRleEJ1ZmZlcl07by5kcmF3KHUsdS5nbC5UUklBTkdMRVMsYSxzLGwsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsYyxuLmlkLHQubGF5b3V0VmVydGV4QnVmZmVyLHQuaW5kZXhCdWZmZXIscixuLnBhaW50LGkudHJhbnNmb3JtLnpvb20sdC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLGgpfWZ1bmN0aW9uIHluKHQscixuLGksbyxhLHMpe2NvbnN0IGw9dC5jb250ZXh0LmdsLGM9bi5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksdT1jJiZjLmNvbnN0YW50T3IoMSksaD1uLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTtsZXQgZCxwLGYsbSxnO3M/KHA9dSYmIW4uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT9cImZpbGxPdXRsaW5lUGF0dGVyblwiOlwiZmlsbE91dGxpbmVcIixkPWwuTElORVMpOihwPXU/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiLGQ9bC5UUklBTkdMRVMpO2Zvcihjb25zdCBfIG9mIGkpe2NvbnN0IGk9ci5nZXRUaWxlKF8pO2lmKHUmJiFpLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3QgeT1pLmdldEJ1Y2tldChuKTtpZigheSljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHY9eS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLHg9dC51c2VQcm9ncmFtKHAsdik7dSYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxpLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQobC5MSU5FQVIsbC5DTEFNUF9UT19FREdFKSx2LnVwZGF0ZVBhaW50QnVmZmVycyhoKSk7Y29uc3QgYj1jLmNvbnN0YW50T3IobnVsbCk7aWYoYiYmaS5pbWFnZUF0bGFzKXtjb25zdCBlPWkuaW1hZ2VBdGxhcyx0PWUucGF0dGVyblBvc2l0aW9uc1tiLnRvLnRvU3RyaW5nKCldLHI9ZS5wYXR0ZXJuUG9zaXRpb25zW2IuZnJvbS50b1N0cmluZygpXTt0JiZyJiZ2LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LHIpfWNvbnN0IHc9dC50cmFuc2xhdGVQb3NNYXRyaXgoXy5wcm9qTWF0cml4LGksbi5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSxuLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiKSk7aWYocyl7bT15LmluZGV4QnVmZmVyMixnPXkuc2VnbWVudHMyO2NvbnN0IGU9dC50ZXJyYWluJiZ0LnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlP3QudGVycmFpbi5kcmFwZUJ1ZmZlclNpemU6W2wuZHJhd2luZ0J1ZmZlcldpZHRoLGwuZHJhd2luZ0J1ZmZlckhlaWdodF07Zj1cImZpbGxPdXRsaW5lUGF0dGVyblwiPT09cCYmdT9Ocih3LHQsaCxpLGUpOlVyKHcsZSl9ZWxzZSBtPXkuaW5kZXhCdWZmZXIsZz15LnNlZ21lbnRzLGY9dT9qcih3LHQsaCxpKTpGcih3KTt0LnByZXBhcmVEcmF3UHJvZ3JhbSh0LmNvbnRleHQseCxfLnRvVW53cmFwcGVkKCkpLHguZHJhdyh0LmNvbnRleHQsZCxvLHQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhfKSxhLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGYsbi5pZCx5LmxheW91dFZlcnRleEJ1ZmZlcixtLGcsbi5wYWludCx0LnRyYW5zZm9ybS56b29tLHYpfX1mdW5jdGlvbiB2bih0LHIsbixpLG8sYSxzKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsdT10LnRyYW5zZm9ybSxoPW4ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKSxkPWguY29uc3RhbnRPcigxKSxwPW4uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLGY9bi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpLG09W24ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCIpLG4ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCIpXSxnPW4ubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLF89XCJnbG9iZVwiPT09dS5wcm9qZWN0aW9uLm5hbWU/ZS5maWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCgpOjAseT1cImdsb2JlXCI9PT11LnByb2plY3Rpb24ubmFtZSx2PXk/ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHUuem9vbSk6MCx4PVtlLm1lcmNhdG9yWGZyb21MbmcodS5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQodS5jZW50ZXIubGF0KV0sYj1bXTt5JiYoYi5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLHQuc3R5bGUudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJmIucHVzaChcIlRFUlJBSU5cIikpLG1bMF0+MCYmYi5wdXNoKFwiRkFVWF9BT1wiKTtmb3IoY29uc3QgdyBvZiBpKXtjb25zdCBpPXIuZ2V0VGlsZSh3KSxUPWkuZ2V0QnVja2V0KG4pO2lmKCFUfHxULnByb2plY3Rpb24ubmFtZSE9PXUucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IEU9VC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLFM9dC51c2VQcm9ncmFtKGQ/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiLEUsYik7aWYodC50ZXJyYWluKXtjb25zdCBlPXQudGVycmFpbjtpZih0LnN0eWxlLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKWUuc2V0dXBFbGV2YXRpb25EcmF3KGksUyx7dXNlTWV0ZXJUb0RlbTohMH0pO2Vsc2V7aWYoIVQuZW5hYmxlVGVycmFpbiljb250aW51ZTtpZihlLnNldHVwRWxldmF0aW9uRHJhdyhpLFMse3VzZU1ldGVyVG9EZW06ITB9KSx4bihsLHIsdyxULG4sZSksIVQuY2VudHJvaWRWZXJ0ZXhCdWZmZXIpe2NvbnN0IGU9Uy5hdHRyaWJ1dGVzLmFfY2VudHJvaWRfcG9zO3ZvaWQgMCE9PWUmJmMudmVydGV4QXR0cmliMmYoZSwwLDApfX19ZCYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUwKSxpLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoYy5MSU5FQVIsYy5DTEFNUF9UT19FREdFKSxFLnVwZGF0ZVBhaW50QnVmZmVycyhwKSk7Y29uc3QgQz1oLmNvbnN0YW50T3IobnVsbCk7aWYoQyYmaS5pbWFnZUF0bGFzKXtjb25zdCBlPWkuaW1hZ2VBdGxhcyx0PWUucGF0dGVyblBvc2l0aW9uc1tDLnRvLnRvU3RyaW5nKCldLHI9ZS5wYXR0ZXJuUG9zaXRpb25zW0MuZnJvbS50b1N0cmluZygpXTt0JiZyJiZFLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LHIpfWNvbnN0IE09dC50cmFuc2xhdGVQb3NNYXRyaXgody5wcm9qTWF0cml4LGksbi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksbi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpKSxrPXUucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgodSx3LmNhbm9uaWNhbCksQT1uLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCIpLEk9ZD9CcihNLHQsQSxmLG0sZyx3LHAsaSxfLHYseCxrKTpPcihNLHQsQSxmLG0sZyx3LF8sdix4LGspO3QucHJlcGFyZURyYXdQcm9ncmFtKGwsUyx3LnRvVW53cmFwcGVkKCkpO2NvbnN0IFA9W107dC50ZXJyYWluJiZQLnB1c2goVC5jZW50cm9pZFZlcnRleEJ1ZmZlcikseSYmUC5wdXNoKFQubGF5b3V0VmVydGV4RXh0QnVmZmVyKSxTLmRyYXcobCxsLmdsLlRSSUFOR0xFUyxvLGEscyxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLEksbi5pZCxULmxheW91dFZlcnRleEJ1ZmZlcixULmluZGV4QnVmZmVyLFQuc2VnbWVudHMsbi5wYWludCx0LnRyYW5zZm9ybS56b29tLEUsUCl9fWZ1bmN0aW9uIHhuKHQscixuLGksbyxhKXtjb25zdCBzPVt0PT57bGV0IHI9dC5jYW5vbmljYWwueC0xLG49dC53cmFwO3JldHVybiByPDAmJihyPSgxPDx0LmNhbm9uaWNhbC56KS0xLG4tLSksbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLG4sdC5jYW5vbmljYWwueixyLHQuY2Fub25pY2FsLnkpfSx0PT57bGV0IHI9dC5jYW5vbmljYWwueCsxLG49dC53cmFwO3JldHVybiByPT09MTw8dC5jYW5vbmljYWwueiYmKHI9MCxuKyspLG5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixuLHQuY2Fub25pY2FsLnoscix0LmNhbm9uaWNhbC55KX0sdD0+bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHQud3JhcCx0LmNhbm9uaWNhbC56LHQuY2Fub25pY2FsLngsKDA9PT10LmNhbm9uaWNhbC55PzE8PHQuY2Fub25pY2FsLno6dC5jYW5vbmljYWwueSktMSksdD0+bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHQud3JhcCx0LmNhbm9uaWNhbC56LHQuY2Fub25pY2FsLngsdC5jYW5vbmljYWwueT09PSgxPDx0LmNhbm9uaWNhbC56KS0xPzA6dC5jYW5vbmljYWwueSsxKV0sbD1lPT57Y29uc3QgdD1yLmdldFNvdXJjZSgpLm1pbnpvb20sbj1lPT57Y29uc3QgdD1yLmdldFRpbGVCeUlEKGUpO2lmKHQmJnQuaGFzRGF0YSgpKXJldHVybiB0LmdldEJ1Y2tldChvKX0saT1bMCwtMSwxXTtmb3IoY29uc3QgciBvZiBpKXtpZihlLm92ZXJzY2FsZWRaK3I8dCljb250aW51ZTtjb25zdCBpPW4oZS5jYWxjdWxhdGVTY2FsZWRLZXkoZS5vdmVyc2NhbGVkWityKSk7aWYoaSlyZXR1cm4gaX19LGM9WzAsMCwwXSx1PSh0LHIpPT4oY1swXT1NYXRoLm1pbih0Lm1pbi55LHIubWluLnkpLGNbMV09TWF0aC5tYXgodC5tYXgueSxyLm1heC55KSxjWzJdPWUuRVhURU5ULXIubWluLng+dC5tYXgueD9yLm1pbi54LWUuRVhURU5UOnQubWF4LngsYyksaD0odCxyKT0+KGNbMF09TWF0aC5taW4odC5taW4ueCxyLm1pbi54KSxjWzFdPU1hdGgubWF4KHQubWF4Lngsci5tYXgueCksY1syXT1lLkVYVEVOVC1yLm1pbi55PnQubWF4Lnk/ci5taW4ueS1lLkVYVEVOVDp0Lm1heC55LGMpLGQ9WyhlLHQpPT51KGUsdCksKGUsdCk9PnUodCxlKSwoZSx0KT0+aChlLHQpLChlLHQpPT5oKHQsZSldLHA9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO2xldCBmLG0sZztjb25zdCBfPSh0LHIsaSxvLHMpPT57Y29uc3QgbD1bW28/aTp0LG8/dDppLDBdLFtvP2k6cixvP3I6aSwwXV0sYz1zPDA/ZS5FWFRFTlQrczpzLHU9W28/YzoodCtyKS8yLG8/KHQrcikvMjpjLDBdO3JldHVybiAwPT09aSYmczwwfHwwIT09aSYmcz4wP2EuZ2V0Rm9yVGlsZVBvaW50cyhnLFt1XSwhMCxtKTpsLnB1c2godSksYS5nZXRGb3JUaWxlUG9pbnRzKG4sbCwhMCxmKSxNYXRoLm1heChsWzBdWzJdLGxbMV1bMl0sdVsyXSkvYS5leGFnZ2VyYXRpb24oKX07Zm9yKGxldCB0PTA7dDw0O3QrKyl7Y29uc3Qgcj0odDwyPzE6NSktdCxvPWkuYm9yZGVyc1t0XTtpZigwPT09by5sZW5ndGgpY29udGludWU7Y29uc3QgYz1nPXNbdF0obiksdT1sKGMpO2lmKCEodSYmdSBpbnN0YW5jZW9mIGUuRmlsbEV4dHJ1c2lvbkJ1Y2tldCYmdS5lbmFibGVUZXJyYWluKSljb250aW51ZTtpZihpLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW3RdPT09dS5jYW5vbmljYWwueiYmdS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltyXT09PWkuY2Fub25pY2FsLnopY29udGludWU7aWYobT1hLmZpbmRERU1UaWxlRm9yKGMpLCFtfHwhbS5kZW0pY29udGludWU7aWYoIWYpe2NvbnN0IGU9YS5maW5kREVNVGlsZUZvcihuKTtpZighZXx8IWUuZGVtKXJldHVybjtmPWV9Y29uc3QgaD11LmJvcmRlcnNbcl07bGV0IHk9MDtjb25zdCB2PXUuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbcl0hPT1pLmNhbm9uaWNhbC56O2lmKGkuY2Fub25pY2FsLno9PT11LmNhbm9uaWNhbC56KXtmb3IobGV0IG49MDtuPG8ubGVuZ3RoO24rKyl7Y29uc3QgYT1pLmZlYXR1cmVzT25Cb3JkZXJbb1tuXV0scz1hLmJvcmRlcnNbdF07bGV0IGw7Zm9yKDt5PGgubGVuZ3RoJiYobD11LmZlYXR1cmVzT25Cb3JkZXJbaFt5XV0sIShsLmJvcmRlcnNbcl1bMV0+c1swXSszKSk7KXYmJnUuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGwsITEpLHkrKztpZihsJiZ5PGgubGVuZ3RoKXtjb25zdCBuPXk7bGV0IG89MDtmb3IoOyEobC5ib3JkZXJzW3JdWzBdPnNbMV0tMykmJihvKyssKyt5IT09aC5sZW5ndGgpOylsPXUuZmVhdHVyZXNPbkJvcmRlcltoW3ldXTtpZihsPXUuZmVhdHVyZXNPbkJvcmRlcltoW25dXSxhLmludGVyc2VjdHNDb3VudCgpPjF8fGwuaW50ZXJzZWN0c0NvdW50KCk+MXx8MSE9PW8pezEhPT1vJiYoeT1uKSxpLmVuY29kZUNlbnRyb2lkKHZvaWQgMCxhLCExKSx2JiZ1LmVuY29kZUNlbnRyb2lkKHZvaWQgMCxsLCExKTtjb250aW51ZX1jb25zdCBjPWRbdF0oYSxsKSxmPXQlMj9lLkVYVEVOVC0xOjA7cC54PV8oY1swXSxNYXRoLm1pbihlLkVYVEVOVC0xLGNbMV0pLGYsdDwyLGNbMl0pLHAueT0wLGkuZW5jb2RlQ2VudHJvaWQocCxhLCExKSx2JiZ1LmVuY29kZUNlbnRyb2lkKHAsbCwhMSl9ZWxzZSBpLmVuY29kZUNlbnRyb2lkKHZvaWQgMCxhLCExKX1pLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW3RdPXUuY2Fub25pY2FsLnosaS5uZWVkc0NlbnRyb2lkVXBkYXRlPSEwLHYmJih1LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW3JdPWkuY2Fub25pY2FsLnosdS5uZWVkc0NlbnRyb2lkVXBkYXRlPSEwKX1lbHNle2Zvcihjb25zdCBlIG9mIG8paS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsaS5mZWF0dXJlc09uQm9yZGVyW2VdLCExKTtpZih2KXtmb3IoY29uc3QgZSBvZiBoKXUuZW5jb2RlQ2VudHJvaWQodm9pZCAwLHUuZmVhdHVyZXNPbkJvcmRlcltlXSwhMSk7dS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltyXT1pLmNhbm9uaWNhbC56LHUubmVlZHNDZW50cm9pZFVwZGF0ZT0hMH1pLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW3RdPXUuY2Fub25pY2FsLnosaS5uZWVkc0NlbnRyb2lkVXBkYXRlPSEwfX0oaS5uZWVkc0NlbnRyb2lkVXBkYXRlfHwhaS5jZW50cm9pZFZlcnRleEJ1ZmZlciYmMCE9PWkuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgpJiZpLnVwbG9hZENlbnRyb2lkKHQpfWNvbnN0IGJuPW5ldyBlLkNvbG9yKDEsMCwwLDEpLHduPW5ldyBlLkNvbG9yKDAsMSwwLDEpLFRuPW5ldyBlLkNvbG9yKDAsMCwxLDEpLEVuPW5ldyBlLkNvbG9yKDEsMCwxLDEpLFNuPW5ldyBlLkNvbG9yKDAsMSwxLDEpO2Z1bmN0aW9uIENuKHQscixuKXtjb25zdCBpPXQuY29udGV4dCxvPXQudHJhbnNmb3JtLGE9aS5nbCxzPVwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lLGw9cz9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06bnVsbDtsZXQgYz1uLnByb2pNYXRyaXg7aWYocyYmZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKG8uem9vbSk+MCl7Y29uc3QgdD1lLnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRihuLmNhbm9uaWNhbCxvKSxyPWUuZ2xvYmVEZW5vcm1hbGl6ZUVDRUYodCk7Yz1lLm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLG8uZ2xvYmVNYXRyaXgsciksZS5tdWx0aXBseShjLG8ucHJvak1hdHJpeCxjKX1jb25zdCB1PXQudXNlUHJvZ3JhbShcImRlYnVnXCIsbnVsbCxsKSxoPXIuZ2V0VGlsZUJ5SUQobi5rZXkpO3QudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhoLHUpO2NvbnN0IGQ9ZS5EZXB0aE1vZGUuZGlzYWJsZWQscD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGY9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1cIiRkZWJ1Z1wiO2kuYWN0aXZlVGV4dHVyZS5zZXQoYS5URVhUVVJFMCksdC5lbXB0eVRleHR1cmUuYmluZChhLkxJTkVBUixhLkNMQU1QX1RPX0VER0UpLHM/aC5fbWFrZUdsb2JlVGlsZURlYnVnQnVmZmVycyh0LmNvbnRleHQsbyk6aC5fbWFrZURlYnVnVGlsZUJvdW5kc0J1ZmZlcnModC5jb250ZXh0LG8ucHJvamVjdGlvbik7Y29uc3QgZz1oLl90aWxlRGVidWdCdWZmZXJ8fHQuZGVidWdCdWZmZXIsXz1oLl90aWxlRGVidWdJbmRleEJ1ZmZlcnx8dC5kZWJ1Z0luZGV4QnVmZmVyLHk9aC5fdGlsZURlYnVnU2VnbWVudHN8fHQuZGVidWdTZWdtZW50czt1LmRyYXcoaSxhLkxJTkVfU1RSSVAsZCxwLGYsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsJHIoYyxlLkNvbG9yLnJlZCksbSxnLF8seSxudWxsLG51bGwsbnVsbCxbaC5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXJdKTtjb25zdCB2PWgubGF0ZXN0UmF3VGlsZURhdGEseD1NYXRoLmZsb29yKCh2JiZ2LmJ5dGVMZW5ndGh8fDApLzEwMjQpLGI9ci5nZXRUaWxlKG4pLnRpbGVTaXplLHc9NTEyL01hdGgubWluKGIsNTEyKSoobi5vdmVyc2NhbGVkWi9vLnpvb20pKi41O2xldCBUPW4uY2Fub25pY2FsLnRvU3RyaW5nKCk7bi5vdmVyc2NhbGVkWiE9PW4uY2Fub25pY2FsLnomJihUKz1cIiA9PiBcIituLm92ZXJzY2FsZWRaKSxUKz1gICR7eH1rYmAsZnVuY3Rpb24oZSx0KXtlLmluaXREZWJ1Z092ZXJsYXlDYW52YXMoKTtjb25zdCByPWUuZGVidWdPdmVybGF5Q2FudmFzLG49ZS5jb250ZXh0LmdsLGk9ZS5kZWJ1Z092ZXJsYXlDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2kuY2xlYXJSZWN0KDAsMCxyLndpZHRoLHIuaGVpZ2h0KSxpLnNoYWRvd0NvbG9yPVwid2hpdGVcIixpLnNoYWRvd0JsdXI9MixpLmxpbmVXaWR0aD0xLjUsaS5zdHJva2VTdHlsZT1cIndoaXRlXCIsaS50ZXh0QmFzZWxpbmU9XCJ0b3BcIixpLmZvbnQ9XCJib2xkIDM2cHggT3BlbiBTYW5zLCBzYW5zLXNlcmlmXCIsaS5maWxsVGV4dCh0LDUsNSksaS5zdHJva2VUZXh0KHQsNSw1KSxlLmRlYnVnT3ZlcmxheVRleHR1cmUudXBkYXRlKHIpLGUuZGVidWdPdmVybGF5VGV4dHVyZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSl9KHQsVCk7Y29uc3QgRT1oLl90aWxlRGVidWdUZXh0QnVmZmVyfHx0LmRlYnVnQnVmZmVyLFM9aC5fdGlsZURlYnVnVGV4dEluZGV4QnVmZmVyfHx0LnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLEM9aC5fdGlsZURlYnVnVGV4dFNlZ21lbnRzfHx0LmRlYnVnU2VnbWVudHM7dS5kcmF3KGksYS5UUklBTkdMRVMsZCxwLGUuQ29sb3JNb2RlLmFscGhhQmxlbmRlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCwkcihjLGUuQ29sb3IudHJhbnNwYXJlbnQsdyksbSxFLFMsQyxudWxsLG51bGwsbnVsbCxbaC5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyXSl9ZnVuY3Rpb24gTW4oZSx0LHIsbil7QW4oZSwwLHQrci8yLGUudHJhbnNmb3JtLndpZHRoLHIsbil9ZnVuY3Rpb24ga24oZSx0LHIsbil7QW4oZSx0LXIvMiwwLHIsZS50cmFuc2Zvcm0uaGVpZ2h0LG4pfWZ1bmN0aW9uIEFuKHQscixuLGksbyxhKXtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2w7bC5lbmFibGUobC5TQ0lTU09SX1RFU1QpLGwuc2Npc3NvcihyKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxuKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxpKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxvKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbykscy5jbGVhcih7Y29sb3I6YX0pLGwuZGlzYWJsZShsLlNDSVNTT1JfVEVTVCl9Y29uc3QgSW49ZS5jcmVhdGVMYXlvdXQoW3tuYW1lOlwiYV9wb3NfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczpQbn09SW47ZnVuY3Rpb24gem4oZSx0LHIsbil7ZS5lbXBsYWNlQmFjayh0LHIsbil9Y2xhc3MgRG57Y29uc3RydWN0b3IodCl7dGhpcy52ZXJ0ZXhBcnJheT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDNmMTIsdGhpcy5pbmRpY2VzPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNix6bih0aGlzLnZlcnRleEFycmF5LC0xLC0xLDEpLHpuKHRoaXMudmVydGV4QXJyYXksMSwtMSwxKSx6bih0aGlzLnZlcnRleEFycmF5LC0xLDEsMSksem4odGhpcy52ZXJ0ZXhBcnJheSwxLDEsMSksem4odGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwtMSksem4odGhpcy52ZXJ0ZXhBcnJheSwxLC0xLC0xKSx6bih0aGlzLnZlcnRleEFycmF5LC0xLDEsLTEpLHpuKHRoaXMudmVydGV4QXJyYXksMSwxLC0xKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwxLDMpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygzLDcsNSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDYsMiwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCw0LDYpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygyLDYsNyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDcsMywyKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSw0LDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDEsNSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsMiwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMywxLDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDYsNCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDQsNSw3KSx0aGlzLnZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnZlcnRleEFycmF5LFBuKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRpY2VzKSx0aGlzLnNlZ21lbnQ9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDM2LDEyKX19ZnVuY3Rpb24gUm4odCxyLG4saSxvLGEpe2NvbnN0IHM9dC5nbCxsPXIucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIiksYz1yLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIiksdT1yLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIiksaD0oKGUsdCxyLG4saSk9Pih7dV9tYXRyaXhfM2Y6ZSx1X3N1bl9kaXJlY3Rpb246dCx1X3N1bl9pbnRlbnNpdHk6cix1X2NvbG9yX3RpbnRfcjpbbi5yLG4uZyxuLmIsbi5hXSx1X2NvbG9yX3RpbnRfbTpbaS5yLGkuZyxpLmIsaS5hXSx1X2x1bWluYW5jZTo1ZS01fSkpKGUuZnJvbU1hdDQoZS5jcmVhdGUkMSgpLGkpLG8sdSxsLGMpO3MuZnJhbWVidWZmZXJUZXh0dXJlMkQocy5GUkFNRUJVRkZFUixzLkNPTE9SX0FUVEFDSE1FTlQwLHMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2Esci5za3lib3hUZXh0dXJlLDApLG4uZHJhdyh0LHMuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUudW5ibGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmZyb250Q1csaCxcInNreWJveENhcHR1cmVcIixyLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixyLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLHIuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCl9Y29uc3QgTG49ZS5jcmVhdGVMYXlvdXQoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSk7Y2xhc3MgT257Y29uc3RydWN0b3IodCl7Y29uc3Qgcj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDVmMjA7ci5lbXBsYWNlQmFjaygtMSwxLDEsMCwwKSxyLmVtcGxhY2VCYWNrKDEsMSwxLDEsMCksci5lbXBsYWNlQmFjaygxLC0xLDEsMSwxKSxyLmVtcGxhY2VCYWNrKC0xLC0xLDEsMCwxKTtjb25zdCBuPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNjtuLmVtcGxhY2VCYWNrKDAsMSwyKSxuLmVtcGxhY2VCYWNrKDIsMywwKSx0aGlzLnZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihyLExuLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihuKSx0aGlzLnNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpfWRlc3Ryb3koKXt0aGlzLnZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCl9fWNvbnN0IEJuPXtzeW1ib2w6ZnVuY3Rpb24odCxyLG4saSxvKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IGE9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO24ubGF5b3V0LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpJiZmdW5jdGlvbih0LHIsbixpLG8sYSxzKXtjb25zdCBsPXIudHJhbnNmb3JtLGM9XCJtYXBcIj09PW8sdT1cIm1hcFwiPT09YTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PWkuZ2V0VGlsZShyKSxvPXQuZ2V0QnVja2V0KG4pO2lmKCFvfHwhby50ZXh0fHwhby50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aCljb250aW51ZTtjb25zdCBhPWUuZXZhbHVhdGVTaXplRm9yWm9vbShvLnRleHRTaXplRGF0YSxsLnpvb20pLGg9d3QocixvLmdldFByb2plY3Rpb24oKSxsKSxkPWwuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCkscD10dChoLHQudGlsZUlELmNhbm9uaWNhbCx1LGMsbCxvLmdldFByb2plY3Rpb24oKSxkKSxmPVwibm9uZVwiIT09bi5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSYmby5oYXNJY29uRGF0YSgpO2lmKGEpe2NvbnN0IG49TWF0aC5wb3coMixsLnpvb20tdC50aWxlSUQub3ZlcnNjYWxlZFopO2ZuKG8sYyx1LHMsZS5zeW1ib2xTaXplLGwscCxyLG4sYSxmKX19fShpLHQsbixyLG4ubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLG4ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG8pLDAhPT1uLnBhaW50LmdldChcImljb24tb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpJiZnbih0LHIsbixpLCExLG4ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksbi5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksbi5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIiksbi5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIiksbi5sYXlvdXQuZ2V0KFwiaWNvbi1rZWVwLXVwcmlnaHRcIiksYSxzKSwwIT09bi5wYWludC5nZXQoXCJ0ZXh0LW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmZ24odCxyLG4saSwhMCxuLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLG4ubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLG4ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG4ubGF5b3V0LmdldChcInRleHQta2VlcC11cHJpZ2h0XCIpLGEscyksci5tYXAuc2hvd0NvbGxpc2lvbkJveGVzJiYoaG4odCxyLG4saSxuLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLCEwKSxobih0LHIsbixpLG4ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksbi5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksITEpKX0sY2lyY2xlOmZ1bmN0aW9uKHQscixuLGkpe2lmKFwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbz1uLnBhaW50LmdldChcImNpcmNsZS1vcGFjaXR5XCIpLGE9bi5wYWludC5nZXQoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIpLHM9bi5wYWludC5nZXQoXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIiksbD12b2lkIDAhPT1uLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikuY29uc3RhbnRPcigxKTtpZigwPT09by5jb25zdGFudE9yKDEpJiYoMD09PWEuY29uc3RhbnRPcigxKXx8MD09PXMuY29uc3RhbnRPcigxKSkpcmV0dXJuO2NvbnN0IGM9dC5jb250ZXh0LHU9Yy5nbCxoPXQudHJhbnNmb3JtLGQ9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxwPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZj10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxtPVwiZ2xvYmVcIj09PWgucHJvamVjdGlvbi5uYW1lLGc9W2UubWVyY2F0b3JYZnJvbUxuZyhoLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChoLmNlbnRlci5sYXQpXSxfPVtdO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKXtjb25zdCBhPWlbb10scz1yLmdldFRpbGUoYSksYz1zLmdldEJ1Y2tldChuKTtpZighY3x8Yy5wcm9qZWN0aW9uLm5hbWUhPT1oLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCB1PWMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSxkPXFyKG4pO20mJmQucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKTtjb25zdCBwPXQudXNlUHJvZ3JhbShcImNpcmNsZVwiLHUsZCksZj1jLmxheW91dFZlcnRleEJ1ZmZlcix5PWMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIsdj1jLmluZGV4QnVmZmVyLHg9aC5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChoLGEuY2Fub25pY2FsKSxiPXtwcm9ncmFtQ29uZmlndXJhdGlvbjp1LHByb2dyYW06cCxsYXlvdXRWZXJ0ZXhCdWZmZXI6ZixnbG9iZUV4dFZlcnRleEJ1ZmZlcjp5LGluZGV4QnVmZmVyOnYsdW5pZm9ybVZhbHVlczpHcih0LGEscyx4LGcsbiksdGlsZTpzfTtpZihsKXtjb25zdCB0PWMuc2VnbWVudHMuZ2V0KCk7Zm9yKGNvbnN0IHIgb2YgdClfLnB1c2goe3NlZ21lbnRzOm5ldyBlLlNlZ21lbnRWZWN0b3IoW3JdKSxzb3J0S2V5OnIuc29ydEtleSxzdGF0ZTpifSl9ZWxzZSBfLnB1c2goe3NlZ21lbnRzOmMuc2VnbWVudHMsc29ydEtleTowLHN0YXRlOmJ9KX1sJiZfLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2NvbnN0IHk9e3VzZURlcHRoRm9yT2NjbHVzaW9uOiFtfTtmb3IoY29uc3QgciBvZiBfKXtjb25zdHtwcm9ncmFtQ29uZmlndXJhdGlvbjppLHByb2dyYW06byxsYXlvdXRWZXJ0ZXhCdWZmZXI6YSxnbG9iZUV4dFZlcnRleEJ1ZmZlcjpzLGluZGV4QnVmZmVyOmwsdW5pZm9ybVZhbHVlczptLHRpbGU6Z309ci5zdGF0ZSxfPXIuc2VnbWVudHM7dC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGcsbyx5KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShjLG8sZy50aWxlSUQudG9VbndyYXBwZWQoKSksby5kcmF3KGMsdS5UUklBTkdMRVMsZCxwLGYsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsbSxuLmlkLGEsbCxfLG4ucGFpbnQsaC56b29tLGksW3NdKX19LGhlYXRtYXA6ZnVuY3Rpb24odCxyLG4saSl7aWYoMCE9PW4ucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpKWlmKFwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IG89dC5jb250ZXh0LGE9by5nbCxzPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsbD1uZXcgZS5Db2xvck1vZGUoW2EuT05FLGEuT05FXSxlLkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pOyFmdW5jdGlvbihlLHQscixuKXtjb25zdCBpPWUuZ2wsbz10LndpZHRoKm4sYT10LmhlaWdodCpuO2UuYWN0aXZlVGV4dHVyZS5zZXQoaS5URVhUVVJFMSksZS52aWV3cG9ydC5zZXQoWzAsMCxvLGFdKTtsZXQgcz1yLmhlYXRtYXBGYm87aWYoIXN8fHMmJihzLndpZHRoIT09b3x8cy5oZWlnaHQhPT1hKSl7cyYmcy5kZXN0cm95KCk7Y29uc3QgdD1pLmNyZWF0ZVRleHR1cmUoKTtpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9XUkFQX1MsaS5DTEFNUF9UT19FREdFKSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9XUkFQX1QsaS5DTEFNUF9UT19FREdFKSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9NSU5fRklMVEVSLGkuTElORUFSKSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9NQUdfRklMVEVSLGkuTElORUFSKSxzPXIuaGVhdG1hcEZibz1lLmNyZWF0ZUZyYW1lYnVmZmVyKG8sYSwhMSksZnVuY3Rpb24oZSx0LHIsbixpLG8pe2NvbnN0IGE9ZS5nbDthLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsYS5SR0JBLGksbywwLGEuUkdCQSxlLmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD9lLmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6YS5VTlNJR05FRF9CWVRFLG51bGwpLG4uY29sb3JBdHRhY2htZW50LnNldChyKX0oZSwwLHQscyxvLGEpfWVsc2UgaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQscy5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLGUuYmluZEZyYW1lYnVmZmVyLnNldChzLmZyYW1lYnVmZmVyKX0obyx0LG4sXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPy41Oi4yNSksby5jbGVhcih7Y29sb3I6ZS5Db2xvci50cmFuc3BhcmVudH0pO2NvbnN0IGM9dC50cmFuc2Zvcm0sdT1cImdsb2JlXCI9PT1jLnByb2plY3Rpb24ubmFtZSxoPXU/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOm51bGwsZD11P2UuQ3VsbEZhY2VNb2RlLmZyb250Q0NXOmUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHA9W2UubWVyY2F0b3JYZnJvbUxuZyhjLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChjLmNlbnRlci5sYXQpXTtmb3IobGV0IGY9MDtmPGkubGVuZ3RoO2YrKyl7Y29uc3QgbT1pW2ZdO2lmKHIuaGFzUmVuZGVyYWJsZVBhcmVudChtKSljb250aW51ZTtjb25zdCBnPXIuZ2V0VGlsZShtKSxfPWcuZ2V0QnVja2V0KG4pO2lmKCFffHxfLnByb2plY3Rpb24ubmFtZSE9PWMucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IHk9Xy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLHY9dC51c2VQcm9ncmFtKFwiaGVhdG1hcFwiLHksaCkse3pvb206eH09dC50cmFuc2Zvcm07dC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGcsdiksdC5wcmVwYXJlRHJhd1Byb2dyYW0obyx2LG0udG9VbndyYXBwZWQoKSk7Y29uc3QgYj1jLnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KGMsbS5jYW5vbmljYWwpO3YuZHJhdyhvLGEuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLHMsbCxkLFhyKHQsbSxnLGIscCx4LG4ucGFpbnQuZ2V0KFwiaGVhdG1hcC1pbnRlbnNpdHlcIikpLG4uaWQsXy5sYXlvdXRWZXJ0ZXhCdWZmZXIsXy5pbmRleEJ1ZmZlcixfLnNlZ21lbnRzLG4ucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx5LHU/W18uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXJdOm51bGwpfW8udmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pfWVsc2VcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJih0LmNvbnRleHQuc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxmdW5jdGlvbih0LHIpe2NvbnN0IG49dC5jb250ZXh0LGk9bi5nbCxvPXIuaGVhdG1hcEZibztpZighbylyZXR1cm47bi5hY3RpdmVUZXh0dXJlLnNldChpLlRFWFRVUkUwKSxpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCxvLmNvbG9yQXR0YWNobWVudC5nZXQoKSksbi5hY3RpdmVUZXh0dXJlLnNldChpLlRFWFRVUkUxKTtsZXQgYT1yLmNvbG9yUmFtcFRleHR1cmU7YXx8KGE9ci5jb2xvclJhbXBUZXh0dXJlPW5ldyBlLlRleHR1cmUobixyLmNvbG9yUmFtcCxpLlJHQkEpKSxhLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSx0LnVzZVByb2dyYW0oXCJoZWF0bWFwVGV4dHVyZVwiKS5kcmF3KG4saS5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCwoKGUsdCxyLG4pPT4oe3VfaW1hZ2U6MCx1X2NvbG9yX3JhbXA6MSx1X29wYWNpdHk6dC5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIil9KSkoMCxyKSxyLmlkLHQudmlld3BvcnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnZpZXdwb3J0U2VnbWVudHMsci5wYWludCx0LnRyYW5zZm9ybS56b29tKX0odCxuKSl9LGxpbmU6ZnVuY3Rpb24odCxyLG4saSl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBvPW4ucGFpbnQuZ2V0KFwibGluZS1vcGFjaXR5XCIpLGE9bi5wYWludC5nZXQoXCJsaW5lLXdpZHRoXCIpO2lmKDA9PT1vLmNvbnN0YW50T3IoMSl8fDA9PT1hLmNvbnN0YW50T3IoMSkpcmV0dXJuO2NvbnN0IHM9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxsPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGM9dC50ZXJyYWluJiZ0LnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlPzE6ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHU9bi5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKSxoPXUuY29uc3RhbnRPcigxKSxkPW4ubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLHA9bi5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIiksZj1wLmNvbnN0YW50T3IoMSksbT1uLnBhaW50LmdldChcImxpbmUtZ3JhZGllbnRcIiksZz1uLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKSxfPWY/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiLHk9dC5jb250ZXh0LHY9eS5nbCx4PShlPT57Y29uc3QgdD1bXTtRcihlKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfREFTSFwiKSxlLnBhaW50LmdldChcImxpbmUtZ3JhZGllbnRcIikmJnQucHVzaChcIlJFTkRFUl9MSU5FX0dSQURJRU5UXCIpO2NvbnN0IHI9ZS5wYWludC5nZXQoXCJsaW5lLXRyaW0tb2Zmc2V0XCIpOzA9PT1yWzBdJiYwPT09clsxXXx8dC5wdXNoKFwiUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcIik7Y29uc3Qgbj1lLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKS5jb25zdGFudE9yKDEpLGk9MSE9PWUucGFpbnQuZ2V0KFwibGluZS1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSk7cmV0dXJuIW4mJmkmJnQucHVzaChcIlJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcIiksdH0pKG4pO2xldCBiPXguaW5jbHVkZXMoXCJSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXCIpO3QudGVycmFpbiYmdC50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSYmKGI9ITEpO2Zvcihjb25zdCBvIG9mIGkpe2NvbnN0IGk9ci5nZXRUaWxlKG8pO2lmKGYmJiFpLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3QgYT1pLmdldEJ1Y2tldChuKTtpZighYSljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHc9YS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLFQ9dC51c2VQcm9ncmFtKF8sdyx4KSxFPXAuY29uc3RhbnRPcihudWxsKTtpZihFJiZpLmltYWdlQXRsYXMpe2NvbnN0IGU9aS5pbWFnZUF0bGFzLHQ9ZS5wYXR0ZXJuUG9zaXRpb25zW0UudG8udG9TdHJpbmcoKV0scj1lLnBhdHRlcm5Qb3NpdGlvbnNbRS5mcm9tLnRvU3RyaW5nKCldO3QmJnImJncuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQscil9Y29uc3QgUz11LmNvbnN0YW50T3IobnVsbCksQz1kLmNvbnN0YW50T3IobnVsbCk7aWYoIWYmJlMmJkMmJmkubGluZUF0bGFzKXtjb25zdCBlPWkubGluZUF0bGFzLHQ9ZS5nZXREYXNoKFMudG8sQykscj1lLmdldERhc2goUy5mcm9tLEMpO3QmJnImJncuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQscil9bGV0W00sa109bi5wYWludC5nZXQoXCJsaW5lLXRyaW0tb2Zmc2V0XCIpO2lmKFwicm91bmRcIj09PUN8fFwic3F1YXJlXCI9PT1DKXtjb25zdCBlPTE7TSE9PWsmJigwPT09TSYmKE0tPWUpLDE9PT1rJiYoays9ZSkpfWNvbnN0IEE9dC50ZXJyYWluP28ucHJvak1hdHJpeDpudWxsLEk9Zj9Zcih0LGksbixnLEEsYyk6SHIodCxpLG4sZyxBLGEubGluZUNsaXBzQXJyYXkubGVuZ3RoLGMsW00sa10pO2lmKG0pe2NvbnN0IGk9YS5ncmFkaWVudHNbbi5pZF07bGV0IHM9aS50ZXh0dXJlO2lmKG4uZ3JhZGllbnRWZXJzaW9uIT09aS52ZXJzaW9uKXtsZXQgbD0yNTY7aWYobi5zdGVwSW50ZXJwb2xhbnQpe2NvbnN0IG49ci5nZXRTb3VyY2UoKS5tYXh6b29tLGk9by5jYW5vbmljYWwuej09PW4/TWF0aC5jZWlsKDE8PHQudHJhbnNmb3JtLm1heFpvb20tby5jYW5vbmljYWwueik6MTtsPWUuY2xhbXAoZS5uZXh0UG93ZXJPZlR3byhhLm1heExpbmVMZW5ndGgvZS5FWFRFTlQqMTAyNCppKSwyNTYseS5tYXhUZXh0dXJlU2l6ZSl9aS5ncmFkaWVudD1lLnJlbmRlckNvbG9yUmFtcCh7ZXhwcmVzc2lvbjpuLmdyYWRpZW50RXhwcmVzc2lvbigpLGV2YWx1YXRpb25LZXk6XCJsaW5lUHJvZ3Jlc3NcIixyZXNvbHV0aW9uOmwsaW1hZ2U6aS5ncmFkaWVudHx8dm9pZCAwLGNsaXBzOmEubGluZUNsaXBzQXJyYXl9KSxpLnRleHR1cmU/aS50ZXh0dXJlLnVwZGF0ZShpLmdyYWRpZW50KTppLnRleHR1cmU9bmV3IGUuVGV4dHVyZSh5LGkuZ3JhZGllbnQsdi5SR0JBKSxpLnZlcnNpb249bi5ncmFkaWVudFZlcnNpb24scz1pLnRleHR1cmV9eS5hY3RpdmVUZXh0dXJlLnNldCh2LlRFWFRVUkUxKSxzLmJpbmQobi5zdGVwSW50ZXJwb2xhbnQ/di5ORUFSRVNUOnYuTElORUFSLHYuQ0xBTVBfVE9fRURHRSl9aCYmKHkuYWN0aXZlVGV4dHVyZS5zZXQodi5URVhUVVJFMCksaS5saW5lQXRsYXNUZXh0dXJlLmJpbmQodi5MSU5FQVIsdi5SRVBFQVQpLHcudXBkYXRlUGFpbnRCdWZmZXJzKGcpKSxmJiYoeS5hY3RpdmVUZXh0dXJlLnNldCh2LlRFWFRVUkUwKSxpLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQodi5MSU5FQVIsdi5DTEFNUF9UT19FREdFKSx3LnVwZGF0ZVBhaW50QnVmZmVycyhnKSksdC5wcmVwYXJlRHJhd1Byb2dyYW0oeSxULG8udG9VbndyYXBwZWQoKSk7Y29uc3QgUD1yPT57VC5kcmF3KHksdi5UUklBTkdMRVMscyxyLGwsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsSSxuLmlkLGEubGF5b3V0VmVydGV4QnVmZmVyLGEuaW5kZXhCdWZmZXIsYS5zZWdtZW50cyxuLnBhaW50LHQudHJhbnNmb3JtLnpvb20sdyxbYS5sYXlvdXRWZXJ0ZXhCdWZmZXIyXSl9O2lmKGIpe2NvbnN0IHI9dC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKG8pLnJlZjswPT09ciYmdC50ZXJyYWluJiZ5LmNsZWFyKHtzdGVuY2lsOjB9KTtjb25zdCBuPXtmdW5jOnYuRVFVQUwsbWFzazoyNTV9O0kudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0uOCxQKG5ldyBlLlN0ZW5jaWxNb2RlKG4sciwyNTUsdi5LRUVQLHYuS0VFUCx2LklOVkVSVCkpLEkudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0wLFAobmV3IGUuU3RlbmNpbE1vZGUobixyLDI1NSx2LktFRVAsdi5LRUVQLHYuS0VFUCkpfWVsc2UgUCh0LnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcobykpfWImJih0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSx0LnRlcnJhaW4mJnkuY2xlYXIoe3N0ZW5jaWw6MH0pKX0sZmlsbDpmdW5jdGlvbih0LHIsbixpKXtjb25zdCBvPW4ucGFpbnQuZ2V0KFwiZmlsbC1jb2xvclwiKSxhPW4ucGFpbnQuZ2V0KFwiZmlsbC1vcGFjaXR5XCIpO2lmKDA9PT1hLmNvbnN0YW50T3IoMSkpcmV0dXJuO2NvbnN0IHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbD1uLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKSxjPXQub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpJiYhbC5jb25zdGFudE9yKDEpJiYxPT09by5jb25zdGFudE9yKGUuQ29sb3IudHJhbnNwYXJlbnQpLmEmJjE9PT1hLmNvbnN0YW50T3IoMCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzPT09Yyl7Y29uc3Qgbz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDEsXCJvcGFxdWVcIj09PXQucmVuZGVyUGFzcz9lLkRlcHRoTW9kZS5SZWFkV3JpdGU6ZS5EZXB0aE1vZGUuUmVhZE9ubHkpO3luKHQscixuLGksbyxzLCExKX1pZihcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJm4ucGFpbnQuZ2V0KFwiZmlsbC1hbnRpYWxpYXNcIikpe2NvbnN0IG89dC5kZXB0aE1vZGVGb3JTdWJsYXllcihuLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/MjowLGUuRGVwdGhNb2RlLlJlYWRPbmx5KTt5bih0LHIsbixpLG8scywhMCl9fSxcImZpbGwtZXh0cnVzaW9uXCI6ZnVuY3Rpb24odCxyLG4saSl7Y29uc3Qgbz1uLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIik7aWYoMCE9PW8mJlwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgYT1uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2lmKDEhPT1vfHxuLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSl2bih0LHIsbixpLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS5kaXNhYmxlZCksdm4odCxyLG4saSxhLHQuc3RlbmNpbE1vZGVGb3IzRCgpLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTtlbHNle2NvbnN0IG89dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7dm4odCxyLG4saSxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsbyl9fX0saGlsbHNoYWRlOmZ1bmN0aW9uKHQscixuLGkpe2lmKFwib2Zmc2NyZWVuXCIhPT10LnJlbmRlclBhc3MmJlwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbz10LmNvbnRleHQsYT10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbD10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsW2MsdV09XCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzfHxsP1t7fSxpXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKGkpO2Zvcihjb25zdCBpIG9mIHUpe2NvbnN0IG89ci5nZXRUaWxlKGkpO2lmKG8ubmVlZHNIaWxsc2hhZGVQcmVwYXJlJiZcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXZyKHQsbyxuLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxzKTtlbHNlIGlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgZT1sJiZ0LnRlcnJhaW4/dC50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChpKTpjW2kub3ZlcnNjYWxlZFpdO19yKHQsaSxvLG4sYSxlLHMpfX1vLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKX0scmFzdGVyOmZ1bmN0aW9uKHQscixuLGksbyxhKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2lmKDA9PT1uLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpKXJldHVybjtpZighaS5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9dC5jb250ZXh0LGw9cy5nbCxjPXIuZ2V0U291cmNlKCksdT10LnVzZVByb2dyYW0oXCJyYXN0ZXJcIiksaD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxkPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSxbcCxmXT1jIGluc3RhbmNlb2YgSWV8fGQ/W3t9LGldOnQuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAoaSksbT1mW2YubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLGc9IXQub3B0aW9ucy5tb3Zpbmc7Zm9yKGNvbnN0IGkgb2YgZil7Y29uc3Qgbz1kP2UuRGVwdGhNb2RlLmRpc2FibGVkOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoaS5vdmVyc2NhbGVkWi1tLDE9PT1uLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpP2UuRGVwdGhNb2RlLlJlYWRXcml0ZTplLkRlcHRoTW9kZS5SZWFkT25seSxsLkxFU1MpLGY9aS50b1Vud3JhcHBlZCgpLF89ci5nZXRUaWxlKGkpO2lmKGQmJighX3x8IV8uaGFzRGF0YSgpKSljb250aW51ZTtjb25zdCB5PWQ/aS5wcm9qTWF0cml4OnQudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZixnKSx2PXQudGVycmFpbiYmZD90LnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKGkpOnBbaS5vdmVyc2NhbGVkWl0seD1hPzA6bi5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtfLnJlZ2lzdGVyRmFkZUR1cmF0aW9uKHgpO2NvbnN0IGI9ci5maW5kTG9hZGVkUGFyZW50KGksMCksdz1rcihfLGIscix0LnRyYW5zZm9ybSx4KTtsZXQgVCxFO3QudGVycmFpbiYmdC50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IFM9XCJuZWFyZXN0XCI9PT1uLnBhaW50LmdldChcInJhc3Rlci1yZXNhbXBsaW5nXCIpP2wuTkVBUkVTVDpsLkxJTkVBUjtzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLF8udGV4dHVyZS5iaW5kKFMsbC5DTEFNUF9UT19FREdFKSxzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTEpLGI/KGIudGV4dHVyZS5iaW5kKFMsbC5DTEFNUF9UT19FREdFKSxUPU1hdGgucG93KDIsYi50aWxlSUQub3ZlcnNjYWxlZFotXy50aWxlSUQub3ZlcnNjYWxlZFopLEU9W18udGlsZUlELmNhbm9uaWNhbC54KlQlMSxfLnRpbGVJRC5jYW5vbmljYWwueSpUJTFdKTpfLnRleHR1cmUuYmluZChTLGwuQ0xBTVBfVE9fRURHRSk7Y29uc3QgQz1lbih5LEV8fFswLDBdLFR8fDEsdyxuLGMgaW5zdGFuY2VvZiBJZT9jLnBlcnNwZWN0aXZlVHJhbnNmb3JtOlswLDBdKTtpZih0LnByZXBhcmVEcmF3UHJvZ3JhbShzLHUsZiksYyBpbnN0YW5jZW9mIEllKWMuYm91bmRzQnVmZmVyJiZjLmJvdW5kc1NlZ21lbnRzJiZ1LmRyYXcocyxsLlRSSUFOR0xFUyxvLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsaCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxDLG4uaWQsYy5ib3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixjLmJvdW5kc1NlZ21lbnRzKTtlbHNle2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6cix0aWxlQm91bmRzSW5kZXhCdWZmZXI6aSx0aWxlQm91bmRzU2VnbWVudHM6YX09dC5nZXRUaWxlQm91bmRzQnVmZmVycyhfKTt1LmRyYXcocyxsLlRSSUFOR0xFUyxvLHYsaCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxDLG4uaWQscixpLGEpfX10LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKX0sYmFja2dyb3VuZDpmdW5jdGlvbih0LHIsbixpKXtjb25zdCBvPW4ucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSxhPW4ucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1vcGFjaXR5XCIpO2lmKDA9PT1hKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2wsYz10LnRyYW5zZm9ybSx1PWMudGlsZVNpemUsaD1uLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKTtpZih0LmlzUGF0dGVybk1pc3NpbmcoaCkpcmV0dXJuO2NvbnN0IGQ9IWgmJjE9PT1vLmEmJjE9PT1hJiZ0Lm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKT9cIm9wYXF1ZVwiOlwidHJhbnNsdWNlbnRcIjtpZih0LnJlbmRlclBhc3MhPT1kKXJldHVybjtjb25zdCBwPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZj10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsXCJvcGFxdWVcIj09PWQ/ZS5EZXB0aE1vZGUuUmVhZFdyaXRlOmUuRGVwdGhNb2RlLlJlYWRPbmx5KSxtPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGc9dC51c2VQcm9ncmFtKGg/XCJiYWNrZ3JvdW5kUGF0dGVyblwiOlwiYmFja2dyb3VuZFwiKTtsZXQgXyx5PWk7eXx8KF89dC5nZXRCYWNrZ3JvdW5kVGlsZXMoKSx5PU9iamVjdC52YWx1ZXMoXykubWFwKGU9PmUudGlsZUlEKSksaCYmKHMuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtjb25zdCB2PW4uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpO2Zvcihjb25zdCBkIG9mIHkpe2NvbnN0IHk9ZC50b1Vud3JhcHBlZCgpLHg9aT9kLnByb2pNYXRyaXg6dC50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh5KTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IGI9cj9yLmdldFRpbGUoZCk6Xz9fW2Qua2V5XTpuZXcgZS5UaWxlKGQsdSxjLnpvb20sdCksdz1oP2xuKHgsYSx0LGgse3RpbGVJRDpkLHRpbGVTaXplOnV9LHYpOnNuKHgsYSxvKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShzLGcseSk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpULHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpFLHRpbGVCb3VuZHNTZWdtZW50czpTfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKGIpO2cuZHJhdyhzLGwuVFJJQU5HTEVTLGYscCxtLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHcsbi5pZCxULEUsUyl9fSxza3k6ZnVuY3Rpb24odCxyLG4pe2NvbnN0IGk9dC50cmFuc2Zvcm0sbz1cIm1lcmNhdG9yXCI9PT1pLnByb2plY3Rpb24ubmFtZXx8XCJnbG9iZVwiPT09aS5wcm9qZWN0aW9uLm5hbWU/MTplLnNtb290aHN0ZXAoNyw4LGkuem9vbSksYT1uLnBhaW50LmdldChcInNreS1vcGFjaXR5XCIpKm87aWYoMD09PWEpcmV0dXJuO2NvbnN0IHM9dC5jb250ZXh0LGw9bi5wYWludC5nZXQoXCJza3ktdHlwZVwiKSxjPW5ldyBlLkRlcHRoTW9kZShzLmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkT25seSxbMCwxXSksdT10LmZyYW1lQ291bnRlci8xZTMlMTtcImF0bW9zcGhlcmVcIj09PWw/XCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcz9uLm5lZWRzU2t5Ym94Q2FwdHVyZSh0KSYmKGZ1bmN0aW9uKHQscixuLGkpe2NvbnN0IG89dC5jb250ZXh0LGE9by5nbDtsZXQgcz1yLnNreWJveEZibztpZighcyl7cz1yLnNreWJveEZibz1vLmNyZWF0ZUZyYW1lYnVmZmVyKDMyLDMyLCExKSxyLnNreWJveEdlb21ldHJ5PW5ldyBEbihvKSxyLnNreWJveFRleHR1cmU9by5nbC5jcmVhdGVUZXh0dXJlKCksYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfQ1VCRV9NQVAsci5za3lib3hUZXh0dXJlKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9XUkFQX1MsYS5DTEFNUF9UT19FREdFKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9XUkFQX1QsYS5DTEFNUF9UT19FREdFKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9NSU5fRklMVEVSLGEuTElORUFSKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9NQUdfRklMVEVSLGEuTElORUFSKTtmb3IobGV0IGU9MDtlPDY7KytlKWEudGV4SW1hZ2UyRChhLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtlLDAsYS5SR0JBLDMyLDMyLDAsYS5SR0JBLGEuVU5TSUdORURfQllURSxudWxsKX1vLmJpbmRGcmFtZWJ1ZmZlci5zZXQocy5mcmFtZWJ1ZmZlciksby52aWV3cG9ydC5zZXQoWzAsMCwzMiwzMl0pO2NvbnN0IGw9ci5nZXRDZW50ZXIodCwhMCksYz10LnVzZVByb2dyYW0oXCJza3lib3hDYXB0dXJlXCIpLHU9bmV3IEZsb2F0NjRBcnJheSgxNik7ZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVkodSx1LC41Ki1NYXRoLlBJKSxSbihvLHIsYyx1LGwsMCksZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVkodSx1LC41Kk1hdGguUEkpLFJuKG8scixjLHUsbCwxKSxlLmlkZW50aXR5KHUpLGUucm90YXRlWCh1LHUsLjUqLU1hdGguUEkpLFJuKG8scixjLHUsbCwyKSxlLmlkZW50aXR5KHUpLGUucm90YXRlWCh1LHUsLjUqTWF0aC5QSSksUm4obyxyLGMsdSxsLDMpLGUuaWRlbnRpdHkodSksUm4obyxyLGMsdSxsLDQpLGUuaWRlbnRpdHkodSksZS5yb3RhdGVZKHUsdSxNYXRoLlBJKSxSbihvLHIsYyx1LGwsNSksby52aWV3cG9ydC5zZXQoWzAsMCx0LndpZHRoLHQuaGVpZ2h0XSl9KHQsbiksbi5tYXJrU2t5Ym94VmFsaWQodCkpOlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQscixuLGksbyl7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hcIik7YS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV9DVUJFX01BUCxyLnNreWJveFRleHR1cmUpO2NvbnN0IHU9KChlLHQscixuLGkpPT4oe3VfbWF0cml4OmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9jdWJlbWFwOjAsdV9vcGFjaXR5Om4sdV90ZW1wb3JhbF9vZmZzZXQ6aX0pKShsLnNreWJveE1hdHJpeCxyLmdldENlbnRlcih0LCExKSwwLGksbyk7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxuLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLHUsXCJza3lib3hcIixyLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixyLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLHIuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCl9KHQsbixjLGEsdSk6XCJncmFkaWVudFwiPT09bCYmXCJza3lcIj09PXQucmVuZGVyUGFzcyYmZnVuY3Rpb24odCxyLG4saSxvKXtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2wsbD10LnRyYW5zZm9ybSxjPXQudXNlUHJvZ3JhbShcInNreWJveEdyYWRpZW50XCIpO3Iuc2t5Ym94R2VvbWV0cnl8fChyLnNreWJveEdlb21ldHJ5PW5ldyBEbihhKSksYS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKTtsZXQgdT1yLmNvbG9yUmFtcFRleHR1cmU7dXx8KHU9ci5jb2xvclJhbXBUZXh0dXJlPW5ldyBlLlRleHR1cmUoYSxyLmNvbG9yUmFtcCxzLlJHQkEpKSx1LmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKTtjb25zdCBoPSgodCxyLG4saSxvKT0+KHt1X21hdHJpeDp0LHVfY29sb3JfcmFtcDowLHVfY2VudGVyX2RpcmVjdGlvbjpyLHVfcmFkaXVzOmUuZGVnVG9SYWQobiksdV9vcGFjaXR5OmksdV90ZW1wb3JhbF9vZmZzZXQ6b30pKShsLnNreWJveE1hdHJpeCxyLmdldENlbnRlcih0LCExKSxyLnBhaW50LmdldChcInNreS1ncmFkaWVudC1yYWRpdXNcIiksaSxvKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGMpLGMuZHJhdyhhLHMuVFJJQU5HTEVTLG4sZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5iYWNrQ1csaCxcInNreWJveEdyYWRpZW50XCIsci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsci5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcixyLnNreWJveEdlb21ldHJ5LnNlZ21lbnQpfSh0LG4sYyxhLHUpfSxkZWJ1ZzpmdW5jdGlvbihlLHQscil7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspQ24oZSx0LHJbbl0pfSxjdXN0b206ZnVuY3Rpb24odCxyLG4pe2NvbnN0IGk9dC5jb250ZXh0LG89bi5pbXBsZW1lbnRhdGlvbjtpZih0LnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzJiZ0LnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKFwiY3VzdG9tXCIpKWUud2Fybk9uY2UoXCJDdXN0b20gbGF5ZXJzIGFyZSBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIG5vbi1tZXJjYXRvciBwcm9qZWN0aW9ucy4gVXNlIG1lcmNhdG9yIHRvIGVuYWJsZSBjdXN0b20gbGF5ZXJzLlwiKTtlbHNlIGlmKFwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IGU9by5wcmVyZW5kZXI7ZSYmKHQuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLGkuc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxlLmNhbGwobyxpLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpLGkuc2V0RGlydHkoKSx0LnNldEJhc2VTdGF0ZSgpKX1lbHNlIGlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7dC5zZXRDdXN0b21MYXllckRlZmF1bHRzKCksaS5zZXRDb2xvck1vZGUodC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLGkuc2V0U3RlbmNpbE1vZGUoZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCk7Y29uc3Qgcj1cIjNkXCI9PT1vLnJlbmRlcmluZ01vZGU/bmV3IGUuRGVwdGhNb2RlKHQuY29udGV4dC5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTp0LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpO2kuc2V0RGVwdGhNb2RlKHIpLG8ucmVuZGVyKGkuZ2wsdC50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSksaS5zZXREaXJ0eSgpLHQuc2V0QmFzZVN0YXRlKCksaS5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpfX19O2NsYXNzIEZue2NvbnN0cnVjdG9yKHQscil7dGhpcy5jb250ZXh0PW5ldyBDZSh0KSx0aGlzLnRyYW5zZm9ybT1yLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLmZyYW1lQ29waWVzPVtdLHRoaXMubG9hZFRpbWVTdGFtcHM9W10sdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPWUuU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nK2UuU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcrMSx0aGlzLmRlcHRoRXBzaWxvbj0xL01hdGgucG93KDIsMTYpLHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXg9bmV3IFh0LHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcz1bXSx0aGlzLmdwdVRpbWVycz17fSx0aGlzLmZyYW1lQ291bnRlcj0wLHRoaXMuX2JhY2tncm91bmRUaWxlcz17fX11cGRhdGVUZXJyYWluKGUsdCl7Y29uc3Qgcj0hIWUmJiEhZS50ZXJyYWluJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbjtpZighKHJ8fHRoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZW5hYmxlZCkpcmV0dXJuO3RoaXMuX3RlcnJhaW58fCh0aGlzLl90ZXJyYWluPW5ldyB6cih0aGlzLGUpKTtjb25zdCBuPXRoaXMuX3RlcnJhaW47dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uPXI/bjpudWxsLG4udXBkYXRlKGUsdGhpcy50cmFuc2Zvcm0sdCl9X3VwZGF0ZUZvZyhlKXtjb25zdCB0PWUuZm9nO2lmKCF0fHxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHQuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCk8MXx8dC5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIik8LjAzKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3RbcixuXT10LmdldEZvdkFkanVzdGVkUmFuZ2UodGhpcy50cmFuc2Zvcm0uX2Zvdik7aWYocj5uKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3QgaT1yKy43OCoobi1yKTt0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxPWkqaX1nZXQgdGVycmFpbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5lbmFibGVkP3RoaXMuX3RlcnJhaW46bnVsbH1yZXNpemUodCxyKXtpZih0aGlzLndpZHRoPXQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuaGVpZ2h0PXIqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5zdHlsZSlmb3IoY29uc3QgZSBvZiB0aGlzLnN0eWxlLm9yZGVyKXRoaXMuc3R5bGUuX2xheWVyc1tlXS5yZXNpemUoKX1zZXR1cCgpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LHI9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7ci5lbXBsYWNlQmFjaygwLDApLHIuZW1wbGFjZUJhY2soZS5FWFRFTlQsMCksci5lbXBsYWNlQmFjaygwLGUuRVhURU5UKSxyLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLnRpbGVFeHRlbnRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIocixlLnBvc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy50aWxlRXh0ZW50U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3Qgbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJpNDtuLmVtcGxhY2VCYWNrKDAsMCksbi5lbXBsYWNlQmFjayhlLkVYVEVOVCwwKSxuLmVtcGxhY2VCYWNrKDAsZS5FWFRFTlQpLG4uZW1wbGFjZUJhY2soZS5FWFRFTlQsZS5FWFRFTlQpLHRoaXMuZGVidWdCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobixlLnBvc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy5kZWJ1Z1NlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDUpO2NvbnN0IGk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7aS5lbXBsYWNlQmFjaygtMSwtMSksaS5lbXBsYWNlQmFjaygxLC0xKSxpLmVtcGxhY2VCYWNrKC0xLDEpLGkuZW1wbGFjZUJhY2soMSwxKSx0aGlzLnZpZXdwb3J0QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGksZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMudmlld3BvcnRTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBvPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4O28uZW1wbGFjZUJhY2soMCwwLDAsMCksby5lbXBsYWNlQmFjayhlLkVYVEVOVCwwLGUuRVhURU5ULDApLG8uZW1wbGFjZUJhY2soMCxlLkVYVEVOVCwwLGUuRVhURU5UKSxvLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5ULGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG8sZS5ib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBhPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNjthLmVtcGxhY2VCYWNrKDAsMSwyKSxhLmVtcGxhY2VCYWNrKDIsMSwzKSx0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoYSk7Y29uc3Qgcz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDF1aTI7Zm9yKGNvbnN0IGUgb2ZbMCwxLDMsMiwwXSlzLmVtcGxhY2VCYWNrKGUpO3RoaXMuZGVidWdJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyBlLlRleHR1cmUodCxuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LFVpbnQ4QXJyYXkub2YoMCwwLDAsMCkpLHQuZ2wuUkdCQSksdGhpcy5pZGVudGl0eU1hdD1lLmNyZWF0ZSgpO2NvbnN0IGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpsLkFMV0FZUyxtYXNrOjB9LDAsMjU1LGwuWkVSTyxsLlpFUk8sbC5aRVJPKSx0aGlzLmxvYWRUaW1lU3RhbXBzLnB1c2goZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuYXRtb3NwaGVyZUJ1ZmZlcj1uZXcgT24odGhpcy5jb250ZXh0KX1nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl7cmV0dXJue3RpbGVCb3VuZHNCdWZmZXI6dGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcix0aWxlQm91bmRzSW5kZXhCdWZmZXI6dGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0aWxlQm91bmRzU2VnbWVudHM6dGhpcy5tZXJjYXRvckJvdW5kc1NlZ21lbnRzfX1nZXRUaWxlQm91bmRzQnVmZmVycyhlKXtyZXR1cm4gZS5fbWFrZVRpbGVCb3VuZHNCdWZmZXJzKHRoaXMuY29udGV4dCx0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uKSxlLl90aWxlQm91bmRzQnVmZmVyP3t0aWxlQm91bmRzQnVmZmVyOmUuX3RpbGVCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmUuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcix0aWxlQm91bmRzU2VnbWVudHM6ZS5fdGlsZUJvdW5kc1NlZ21lbnRzfTp0aGlzLmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKX1jbGVhclN0ZW5jaWwoKXtjb25zdCB0PXRoaXMuY29udGV4dCxyPXQuZ2w7dGhpcy5uZXh0U3RlbmNpbElEPTEsdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSx0aGlzLnVzZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIikuZHJhdyh0LHIuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLHRoaXMuc3RlbmNpbENsZWFyTW9kZSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNcih0aGlzLmlkZW50aXR5TWF0KSxcIiRjbGlwcGluZ1wiLHRoaXMudmlld3BvcnRCdWZmZXIsdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0aGlzLnZpZXdwb3J0U2VnbWVudHMpfXJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKXt0aGlzLnRlcnJhaW58fCh0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9KX1fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCxyLG4pe2lmKCFyfHx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPT09ci5pZHx8IXQuaXNUaWxlQ2xpcHBlZCgpfHwhbnx8MD09PW4ubGVuZ3RoKXJldHVybjtpZih0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzJiYhdGhpcy50ZXJyYWluKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiBuKWlmKHZvaWQgMD09PXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybn10aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXIuaWQ7Y29uc3QgaT10aGlzLmNvbnRleHQsbz1pLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtuLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksaS5zZXRDb2xvck1vZGUoZS5Db2xvck1vZGUuZGlzYWJsZWQpLGkuc2V0RGVwdGhNb2RlKGUuRGVwdGhNb2RlLmRpc2FibGVkKTtjb25zdCBhPXRoaXMudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IG49ci5nZXRUaWxlKHQpLHM9dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV09dGhpcy5uZXh0U3RlbmNpbElEKysse3RpbGVCb3VuZHNCdWZmZXI6bCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6Yyx0aWxlQm91bmRzU2VnbWVudHM6dX09dGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyhuKTthLmRyYXcoaSxvLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpvLkFMV0FZUyxtYXNrOjB9LHMsMjU1LG8uS0VFUCxvLktFRVAsby5SRVBMQUNFKSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNcih0LnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsbCxjLHUpfX1zdGVuY2lsTW9kZUZvcjNEKCl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5uZXh0U3RlbmNpbElEKzE+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpO2NvbnN0IHQ9dGhpcy5uZXh0U3RlbmNpbElEKysscj10aGlzLmNvbnRleHQuZ2w7cmV0dXJuIG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOnIuTk9URVFVQUwsbWFzazoyNTV9LHQsMjU1LHIuS0VFUCxyLktFRVAsci5SRVBMQUNFKX1zdGVuY2lsTW9kZUZvckNsaXBwaW5nKHQpe2lmKHRoaXMudGVycmFpbilyZXR1cm4gdGhpcy50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcCh0KTtjb25zdCByPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6ci5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0sMCxyLktFRVAsci5LRUVQLHIuUkVQTEFDRSl9c3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAodCl7Y29uc3Qgcj10aGlzLmNvbnRleHQuZ2wsbj10LnNvcnQoKGUsdCk9PnQub3ZlcnNjYWxlZFotZS5vdmVyc2NhbGVkWiksaT1uW24ubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLG89blswXS5vdmVyc2NhbGVkWi1pKzE7aWYobz4xKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrbz4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgdD17fTtmb3IobGV0IG49MDtuPG87bisrKXRbbitpXT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpyLkdFUVVBTCxtYXNrOjI1NX0sbit0aGlzLm5leHRTdGVuY2lsSUQsMjU1LHIuS0VFUCxyLktFRVAsci5SRVBMQUNFKTtyZXR1cm4gdGhpcy5uZXh0U3RlbmNpbElEKz1vLFt0LG5dfXJldHVyblt7W2ldOmUuU3RlbmNpbE1vZGUuZGlzYWJsZWR9LG5dfWNvbG9yTW9kZUZvclJlbmRlclBhc3MoKXtjb25zdCB0PXRoaXMuY29udGV4dC5nbDtpZih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Ipe2NvbnN0IHI9MS84O3JldHVybiBuZXcgZS5Db2xvck1vZGUoW3QuQ09OU1RBTlRfQ09MT1IsdC5PTkVdLG5ldyBlLkNvbG9yKHIscixyLDApLFshMCwhMCwhMCwhMF0pfXJldHVyblwib3BhcXVlXCI9PT10aGlzLnJlbmRlclBhc3M/ZS5Db2xvck1vZGUudW5ibGVuZGVkOmUuQ29sb3JNb2RlLmFscGhhQmxlbmRlZH1kZXB0aE1vZGVGb3JTdWJsYXllcih0LHIsbil7aWYoIXRoaXMub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpKXJldHVybiBlLkRlcHRoTW9kZS5kaXNhYmxlZDtjb25zdCBpPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycyt0KSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IGUuRGVwdGhNb2RlKG58fHRoaXMuY29udGV4dC5nbC5MRVFVQUwscixbaSxpXSl9b3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpe3JldHVybiB0aGlzLmN1cnJlbnRMYXllcjx0aGlzLm9wYXF1ZVBhc3NDdXRvZmZ9cmVuZGVyKHQscil7dGhpcy5zdHlsZT10LHRoaXMub3B0aW9ucz1yLHRoaXMuaW1hZ2VNYW5hZ2VyPXQuaW1hZ2VNYW5hZ2VyLHRoaXMuZ2x5cGhNYW5hZ2VyPXQuZ2x5cGhNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT10LnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGUuZXhwb3J0ZWQubm93KCkpLHRoaXMuaW1hZ2VNYW5hZ2VyLmJlZ2luRnJhbWUoKTtjb25zdCBuPXRoaXMuc3R5bGUub3JkZXIsaT10aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1pW2VdO3QudXNlZCYmdC5wcmVwYXJlKHRoaXMuY29udGV4dCl9Y29uc3Qgbz17fSxhPXt9LHM9e307Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1pW2VdO29bZV09dC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSxhW2VdPW9bZV0uc2xpY2UoKS5yZXZlcnNlKCksc1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcyghMCkucmV2ZXJzZSgpfXRoaXMub3BhcXVlUGFzc0N1dG9mZj0xLzA7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaWYodGhpcy5zdHlsZS5fbGF5ZXJzW25bZV1dLmlzM0QoKSl7dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPWU7YnJlYWt9aWYodGhpcy50ZXJyYWluJiYodGhpcy50ZXJyYWluLnVwZGF0ZVRpbGVCaW5kaW5nKHMpLHRoaXMub3BhcXVlUGFzc0N1dG9mZj0wKSxcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzfHwodGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnM9bmV3IGUuR2xvYmVTaGFyZWRCdWZmZXJzKHRoaXMuY29udGV4dCkpLGUuaXNNYXBBdXRoZW50aWNhdGVkKHRoaXMuY29udGV4dC5nbCkpe3RoaXMucmVuZGVyUGFzcz1cIm9mZnNjcmVlblwiO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IHI9dGhpcy5zdHlsZS5fbGF5ZXJzW2VdLG49dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShyKTtpZighci5oYXNPZmZzY3JlZW5QYXNzKCl8fHIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3QgaT1uP2Fbbi5pZF06dm9pZCAwOyhcImN1c3RvbVwiPT09ci50eXBlfHxyLmlzU2t5KCl8fGkmJmkubGVuZ3RoKSYmdGhpcy5yZW5kZXJMYXllcih0aGlzLG4scixpKX1pZih0aGlzLmRlcHRoUmFuZ2VGb3IzRD1bMCwxLSh0Lm9yZGVyLmxlbmd0aCsyKSp0aGlzLm51bVN1YmxheWVycyp0aGlzLmRlcHRoRXBzaWxvbl0sdGhpcy50ZXJyYWluJiYodGhpcy5zdHlsZS5oYXNTeW1ib2xMYXllcnMoKXx8dGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkmJnRoaXMudGVycmFpbi5kcmF3RGVwdGgoKSx0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6ci5zaG93T3ZlcmRyYXdJbnNwZWN0b3I/ZS5Db2xvci5ibGFjazplLkNvbG9yLnRyYW5zcGFyZW50LGRlcHRoOjF9KSx0aGlzLmNsZWFyU3RlbmNpbCgpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1yLnNob3dPdmVyZHJhd0luc3BlY3Rvcix0aGlzLnJlbmRlclBhc3M9XCJvcGFxdWVcIiwhdGhpcy50ZXJyYWluKWZvcih0aGlzLmN1cnJlbnRMYXllcj1uLmxlbmd0aC0xO3RoaXMuY3VycmVudExheWVyPj0wO3RoaXMuY3VycmVudExheWVyLS0pe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW25bdGhpcy5jdXJyZW50TGF5ZXJdXSxyPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7aWYoZS5pc1NreSgpKWNvbnRpbnVlO2NvbnN0IGk9cj9hW3IuaWRdOnZvaWQgMDt0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhlLHIsaSksdGhpcy5yZW5kZXJMYXllcih0aGlzLHIsZSxpKX1pZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmZnVuY3Rpb24odCxyKXtjb25zdCBuPXQuY29udGV4dCxpPW4uZ2wsbz10LnRyYW5zZm9ybSxhPW5ldyBlLkRlcHRoTW9kZShpLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkT25seSxbMCwxXSkscz10LnVzZVByb2dyYW0oXCJnbG9iZUF0bW9zcGhlcmVcIixudWxsLFwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiLFwiRk9HXCJdOltcIkZPR1wiXSksbD1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24oby56b29tKSxjPXIucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSx1PXIucHJvcGVydGllcy5nZXQoXCJoaWdoLWNvbG9yXCIpLnRvQXJyYXkwMSgpLGg9ci5wcm9wZXJ0aWVzLmdldChcInNwYWNlLWNvbG9yXCIpLnRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpLGQ9ZS5pZGVudGl0eSQxKFtdKTtlLnJvdGF0ZVkkMShkLGQsLWUuZGVnVG9SYWQoby5fY2VudGVyLmxuZykpLGUucm90YXRlWCQxKGQsZCxlLmRlZ1RvUmFkKG8uX2NlbnRlci5sYXQpKSxlLnJvdGF0ZVokMShkLGQsby5hbmdsZSksZS5yb3RhdGVYJDEoZCxkLC1vLl9waXRjaCk7Y29uc3QgcD1lLmZyb21RdWF0KG5ldyBGbG9hdDMyQXJyYXkoMTYpLGQpLGY9ZS5tYXBWYWx1ZShyLnByb3BlcnRpZXMuZ2V0KFwic3Rhci1pbnRlbnNpdHlcIiksMCwxLDAsLjI1KSxtPTVlLTQsZz1lLm1hcFZhbHVlKHIucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLDAsMSxtLC4yNSksXz1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsbixvKSYmZz09PW0/by53b3JsZFNpemUvKDIqTWF0aC5QSSoxLjAyNSktMTpvLmdsb2JlUmFkaXVzLHk9dC5mcmFtZUNvdW50ZXIvMWUzJTEsdj1lLmxlbmd0aChvLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UpLHg9TWF0aC5zcXJ0KE1hdGgucG93KHYsMiktTWF0aC5wb3coXywyKSksYj1NYXRoLmFjb3MoeC92KSx3PSgodCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmKT0+KHt1X2ZydXN0dW1fdGw6dCx1X2ZydXN0dW1fdHI6cix1X2ZydXN0dW1fYnI6bix1X2ZydXN0dW1fYmw6aSx1X2hvcml6b246byx1X3RyYW5zaXRpb246YSx1X2ZhZGVvdXRfcmFuZ2U6cyx1X2NvbG9yOmwsdV9oaWdoX2NvbG9yOmMsdV9zcGFjZV9jb2xvcjp1LHVfc3Rhcl9pbnRlbnNpdHk6aCx1X3N0YXJfc2l6ZTo1KmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X3N0YXJfZGVuc2l0eTowLHVfdGVtcG9yYWxfb2Zmc2V0OmQsdV9ob3Jpem9uX2FuZ2xlOnAsdV9yb3RhdGlvbl9tYXRyaXg6Zn0pKShvLmZydXN0dW1Db3JuZXJzLlRMLG8uZnJ1c3R1bUNvcm5lcnMuVFIsby5mcnVzdHVtQ29ybmVycy5CUixvLmZydXN0dW1Db3JuZXJzLkJMLG8uZnJ1c3R1bUNvcm5lcnMuaG9yaXpvbixsLGcsYyx1LGgsZix5LGIscCk7dC5wcmVwYXJlRHJhd1Byb2dyYW0obixzKTtjb25zdCBUPXQuYXRtb3NwaGVyZUJ1ZmZlcjtUJiZzLmRyYXcobixpLlRSSUFOR0xFUyxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmJhY2tDVyx3LFwic2t5Ym94XCIsVC52ZXJ0ZXhCdWZmZXIsVC5pbmRleEJ1ZmZlcixULnNlZ21lbnRzKX0odGhpcyx0aGlzLnN0eWxlLmZvZyksdGhpcy5yZW5kZXJQYXNzPVwic2t5XCIsKGUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0aGlzLnRyYW5zZm9ybS56b29tKT4wfHxcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpJiZ0aGlzLnRyYW5zZm9ybS5pc0hvcml6b25WaXNpYmxlKCkpZm9yKHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8bi5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbblt0aGlzLmN1cnJlbnRMYXllcl1dLHI9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtlLmlzU2t5KCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxyLGUscj9hW3IuaWRdOnZvaWQgMCl9Zm9yKHRoaXMucmVuZGVyUGFzcz1cInRyYW5zbHVjZW50XCIsdGhpcy5jdXJyZW50TGF5ZXI9MDt0aGlzLmN1cnJlbnRMYXllcjxuLmxlbmd0aDspe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW25bdGhpcy5jdXJyZW50TGF5ZXJdXSxyPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7aWYoZS5pc1NreSgpKXsrK3RoaXMuY3VycmVudExheWVyO2NvbnRpbnVlfWlmKHRoaXMudGVycmFpbiYmdGhpcy5zdHlsZS5pc0xheWVyRHJhcGVkKGUpKXtpZihlLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKXsrK3RoaXMuY3VycmVudExheWVyO2NvbnRpbnVlfXRoaXMuY3VycmVudExheWVyPXRoaXMudGVycmFpbi5yZW5kZXJCYXRjaCh0aGlzLmN1cnJlbnRMYXllcik7Y29udGludWV9Y29uc3QgaT1yPyhcInN5bWJvbFwiPT09ZS50eXBlP3M6YSlbci5pZF06dm9pZCAwO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUscixyP29bci5pZF06dm9pZCAwKSx0aGlzLnJlbmRlckxheWVyKHRoaXMscixlLGkpLCsrdGhpcy5jdXJyZW50TGF5ZXJ9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucG9zdFJlbmRlcigpLHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXN8fHRoaXMub3B0aW9ucy5zaG93UXVlcnlHZW9tZXRyeXx8dGhpcy5vcHRpb25zLnNob3dUaWxlQUFCQnMpe2xldCByPW51bGw7ZS52YWx1ZXModGhpcy5zdHlsZS5fbGF5ZXJzKS5mb3JFYWNoKGU9Pntjb25zdCBuPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7biYmIWUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkmJighcnx8ci5nZXRTb3VyY2UoKS5tYXh6b29tPG4uZ2V0U291cmNlKCkubWF4em9vbSkmJihyPW4pfSksciYmdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcyYmQm4uZGVidWcodGhpcyxyLHIuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpfXRoaXMub3B0aW9ucy5zaG93UGFkZGluZyYmZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnRyYW5zZm9ybS5wYWRkaW5nO01uKGUsZS50cmFuc2Zvcm0uaGVpZ2h0LSh0LnRvcHx8MCksMyxibiksTW4oZSx0LmJvdHRvbXx8MCwzLHduKSxrbihlLHQubGVmdHx8MCwzLFRuKSxrbihlLGUudHJhbnNmb3JtLndpZHRoLSh0LnJpZ2h0fHwwKSwzLEVuKTtjb25zdCByPWUudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbihlLHQscixuKXtBbihlLHQtMSxyLTEwLDIsMjAsbiksQW4oZSx0LTEwLHItMSwyMCwyLG4pfShlLHIueCxlLnRyYW5zZm9ybS5oZWlnaHQtci55LFNuKX0odGhpcyksdGhpcy5jb250ZXh0LnNldERlZmF1bHQoKSx0aGlzLmZyYW1lQ291bnRlcj0odGhpcy5mcmFtZUNvdW50ZXIrMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsdGhpcy50aWxlTG9hZGVkJiZ0aGlzLm9wdGlvbnMuc3BlZWRJbmRleFRpbWluZyYmKHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5zYXZlQ2FudmFzQ29weSgpKX19cmVuZGVyTGF5ZXIoZSx0LHIsbil7ci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKXx8KFwiYmFja2dyb3VuZFwiPT09ci50eXBlfHxcInNreVwiPT09ci50eXBlfHxcImN1c3RvbVwiPT09ci50eXBlfHxuJiZuLmxlbmd0aCkmJih0aGlzLmlkPXIuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChyKSxlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzJiZlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKHIudHlwZSl8fEJuW3IudHlwZV0oZSx0LHIsbix0aGlzLnN0eWxlLnBsYWNlbWVudC52YXJpYWJsZU9mZnNldHMsdGhpcy5vcHRpb25zLmlzSW5pdGlhbExvYWQpLHRoaXMuZ3B1VGltaW5nRW5kKCkpfWdwdVRpbWluZ1N0YXJ0KGUpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXJldHVybjtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2xldCByPXRoaXMuZ3B1VGltZXJzW2UuaWRdO3J8fChyPXRoaXMuZ3B1VGltZXJzW2UuaWRdPXtjYWxsczowLGNwdVRpbWU6MCxxdWVyeTp0LmNyZWF0ZVF1ZXJ5RVhUKCl9KSxyLmNhbGxzKyssdC5iZWdpblF1ZXJ5RVhUKHQuVElNRV9FTEFQU0VEX0VYVCxyLnF1ZXJ5KX1ncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0KCl7aWYodGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXtjb25zdCBlPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LHQ9ZS5jcmVhdGVRdWVyeUVYVCgpO3RoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcy5wdXNoKHQpLGUuYmVnaW5RdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQsdCl9fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm47Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtlLmVuZFF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCl9Z3B1VGltaW5nRW5kKCl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmcpcmV0dXJuO2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7ZS5lbmRRdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQpfWNvbGxlY3RHcHVUaW1lcnMoKXtjb25zdCBlPXRoaXMuZ3B1VGltZXJzO3JldHVybiB0aGlzLmdwdVRpbWVycz17fSxlfWNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKXtjb25zdCBlPXRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcztyZXR1cm4gdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLGV9cXVlcnlHcHVUaW1lcnMoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl0saT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxvPWkuZ2V0UXVlcnlPYmplY3RFWFQobi5xdWVyeSxpLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtpLmRlbGV0ZVF1ZXJ5RVhUKG4ucXVlcnkpLHRbcl09b31yZXR1cm4gdH1xdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlcihlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBlKXIrPXQuZ2V0UXVlcnlPYmplY3RFWFQobix0LlFVRVJZX1JFU1VMVF9FWFQpLzFlNix0LmRlbGV0ZVF1ZXJ5RVhUKG4pO3JldHVybiByfXRyYW5zbGF0ZVBvc01hdHJpeCh0LHIsbixpLG8pe2lmKCFuWzBdJiYhblsxXSlyZXR1cm4gdDtjb25zdCBhPW8/XCJtYXBcIj09PWk/dGhpcy50cmFuc2Zvcm0uYW5nbGU6MDpcInZpZXdwb3J0XCI9PT1pPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKGEpe2NvbnN0IGU9TWF0aC5zaW4oYSksdD1NYXRoLmNvcyhhKTtuPVtuWzBdKnQtblsxXSplLG5bMF0qZStuWzFdKnRdfWNvbnN0IHM9W28/blswXTpEKHIsblswXSx0aGlzLnRyYW5zZm9ybS56b29tKSxvP25bMV06RChyLG5bMV0sdGhpcy50cmFuc2Zvcm0uem9vbSksMF0sbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtyZXR1cm4gZS50cmFuc2xhdGUobCx0LHMpLGx9c2F2ZVRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZVRleHR1cmVzW2Uuc2l6ZVswXV07dD90LnB1c2goZSk6dGhpcy5fdGlsZVRleHR1cmVzW2Uuc2l6ZVswXV09W2VdfWdldFRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZVRleHR1cmVzW2VdO3JldHVybiB0JiZ0Lmxlbmd0aD4wP3QucG9wKCk6bnVsbH1pc1BhdHRlcm5NaXNzaW5nKGUpe2lmKCFlKXJldHVybiExO2lmKCFlLmZyb218fCFlLnRvKXJldHVybiEwO2NvbnN0IHQ9dGhpcy5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLmZyb20udG9TdHJpbmcoKSkscj10aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUudG8udG9TdHJpbmcoKSk7cmV0dXJuIXR8fCFyfXRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKXtyZXR1cm4gdGhpcy5zdHlsZSYmISF0aGlzLnN0eWxlLmdldFRlcnJhaW4oKSYmISF0aGlzLnRlcnJhaW4mJiF0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlfWN1cnJlbnRHbG9iYWxEZWZpbmVzKCl7Y29uc3QgZT10aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsdD10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZyxyPVtdO3JldHVybiB0aGlzLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmci5wdXNoKFwiVEVSUkFJTlwiKSxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnIucHVzaChcIkdMT0JFXCIpLHQmJiFlJiYwIT09dC5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKSYmci5wdXNoKFwiRk9HXCIpLGUmJnIucHVzaChcIlJFTkRFUl9UT19URVhUVVJFXCIpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmci5wdXNoKFwiT1ZFUkRSQVdfSU5TUEVDVE9SXCIpLHJ9dXNlUHJvZ3JhbShlLHQscil7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTtjb25zdCBuPXJ8fFtdLGk9dGhpcy5jdXJyZW50R2xvYmFsRGVmaW5lcygpLmNvbmNhdChuKSxvPURyLmNhY2hlS2V5KGRyW2VdLGUsaSx0KTtyZXR1cm4gdGhpcy5jYWNoZVtvXXx8KHRoaXMuY2FjaGVbb109bmV3IERyKHRoaXMuY29udGV4dCxlLGRyW2VdLHQsY25bZV0saSkpLHRoaXMuY2FjaGVbb119c2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpe3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKX1zZXRCYXNlU3RhdGUoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0KCExKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChlLkZVTkNfQUREKX1pbml0RGVidWdPdmVybGF5Q2FudmFzKCl7bnVsbD09dGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMmJih0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcz1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuZGVidWdPdmVybGF5Q2FudmFzLndpZHRoPTUxMix0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy5oZWlnaHQ9NTEyLHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZT1uZXcgZS5UZXh0dXJlKHRoaXMuY29udGV4dCx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyx0aGlzLmNvbnRleHQuZ2wuUkdCQSkpfWRlc3Ryb3koKXt0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmRlc3Ryb3koKSx0aGlzLmdsb2JlU2hhcmVkQnVmZmVycyYmdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpLHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUmJnRoaXMuZGVidWdPdmVybGF5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5hdG1vc3BoZXJlQnVmZmVyJiZ0aGlzLmF0bW9zcGhlcmVCdWZmZXIuZGVzdHJveSgpfXByZXBhcmVEcmF3VGlsZSgpe3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpfXByZXBhcmVEcmF3UHJvZ3JhbSh0LHIsbil7aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKXJldHVybjtjb25zdCBpPXRoaXMuc3R5bGUuZm9nO2lmKGkpe2NvbnN0IG89aS5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKSxhPSgodCxyLG4saSxvLGEscyxsLGMsdSxoKT0+e2NvbnN0IGQ9dC50cmFuc2Zvcm0scD1yLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCk7cFszXT1pO2NvbnN0IGY9dC5mcmFtZUNvdW50ZXIvMWUzJTE7cmV0dXJue3VfZm9nX21hdHJpeDpuP2QuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChuKTp0LmlkZW50aXR5TWF0LHVfZm9nX3JhbmdlOnIuZ2V0Rm92QWRqdXN0ZWRSYW5nZShkLl9mb3YpLHVfZm9nX2NvbG9yOnAsdV9mb2dfaG9yaXpvbl9ibGVuZDpyLnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6Zix1X2ZydXN0dW1fdGw6byx1X2ZydXN0dW1fdHI6YSx1X2ZydXN0dW1fYnI6cyx1X2ZydXN0dW1fYmw6bCx1X2dsb2JlX3BvczpjLHVfZ2xvYmVfcmFkaXVzOnUsdV92aWV3cG9ydDpoLHVfZ2xvYmVfdHJhbnNpdGlvbjplLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24oZC56b29tKSx1X2lzX2dsb2JlOisoXCJnbG9iZVwiPT09ZC5wcm9qZWN0aW9uLm5hbWUpfX0pKHRoaXMsaSxuLG8sdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuVEwsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuVFIsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuQlIsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuQkwsdGhpcy50cmFuc2Zvcm0uZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSx0aGlzLnRyYW5zZm9ybS5nbG9iZVJhZGl1cyxbdGhpcy50cmFuc2Zvcm0ud2lkdGgqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMudHJhbnNmb3JtLmhlaWdodCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW9dKTtyLnNldEZvZ1VuaWZvcm1WYWx1ZXModCxhKX19c2V0VGlsZUxvYWRlZEZsYWcoZSl7dGhpcy50aWxlTG9hZGVkPWV9c2F2ZUNhbnZhc0NvcHkoKXt0aGlzLmZyYW1lQ29waWVzLnB1c2godGhpcy5jYW52YXNDb3B5KCkpLHRoaXMudGlsZUxvYWRlZD0hMX1jYW52YXNDb3B5KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD1lLmNyZWF0ZVRleHR1cmUoKTtyZXR1cm4gZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCksZS5jb3B5VGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodCwwKSx0fWdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKXtyZXR1cm57Y2FudmFzQ29waWVzOnRoaXMuZnJhbWVDb3BpZXMsdGltZVN0YW1wczp0aGlzLmxvYWRUaW1lU3RhbXBzfX1hdmVyYWdlRWxldmF0aW9uTmVlZHNFYXNpbmcoKXtpZighdGhpcy50cmFuc2Zvcm0uX2VsZXZhdGlvbilyZXR1cm4hMTtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nO3JldHVybiEhZSYmMCE9PWUuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCl9Z2V0QmFja2dyb3VuZFRpbGVzKCl7Y29uc3QgdD10aGlzLl9iYWNrZ3JvdW5kVGlsZXMscj10aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e30sbj10aGlzLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTo1MTJ9KTtmb3IoY29uc3QgaSBvZiBuKXJbaS5rZXldPXRbaS5rZXldfHxuZXcgZS5UaWxlKGksNTEyLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMpO3JldHVybiByfWNsZWFyQmFja2dyb3VuZFRpbGVzKCl7dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9fX1jbGFzcyBqbntjb25zdHJ1Y3RvcihlPTAsdD0wLHI9MCxuPTApe2lmKGlzTmFOKGUpfHxlPDB8fGlzTmFOKHQpfHx0PDB8fGlzTmFOKHIpfHxyPDB8fGlzTmFOKG4pfHxuPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgZWRnZS1pbnNldHMsIHRvcCwgYm90dG9tLCBsZWZ0IGFuZCByaWdodCBtdXN0IGFsbCBiZSBudW1iZXJzXCIpO3RoaXMudG9wPWUsdGhpcy5ib3R0b209dCx0aGlzLmxlZnQ9cix0aGlzLnJpZ2h0PW59aW50ZXJwb2xhdGUodCxyLG4pe3JldHVybiBudWxsIT1yLnRvcCYmbnVsbCE9dC50b3AmJih0aGlzLnRvcD1lLm51bWJlcih0LnRvcCxyLnRvcCxuKSksbnVsbCE9ci5ib3R0b20mJm51bGwhPXQuYm90dG9tJiYodGhpcy5ib3R0b209ZS5udW1iZXIodC5ib3R0b20sci5ib3R0b20sbikpLG51bGwhPXIubGVmdCYmbnVsbCE9dC5sZWZ0JiYodGhpcy5sZWZ0PWUubnVtYmVyKHQubGVmdCxyLmxlZnQsbikpLG51bGwhPXIucmlnaHQmJm51bGwhPXQucmlnaHQmJih0aGlzLnJpZ2h0PWUubnVtYmVyKHQucmlnaHQsci5yaWdodCxuKSksdGhpc31nZXRDZW50ZXIodCxyKXtjb25zdCBuPWUuY2xhbXAoKHRoaXMubGVmdCt0LXRoaXMucmlnaHQpLzIsMCx0KSxpPWUuY2xhbXAoKHRoaXMudG9wK3ItdGhpcy5ib3R0b20pLzIsMCxyKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShuLGkpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy50b3A9PT1lLnRvcCYmdGhpcy5ib3R0b209PT1lLmJvdHRvbSYmdGhpcy5sZWZ0PT09ZS5sZWZ0JiZ0aGlzLnJpZ2h0PT09ZS5yaWdodH1jbG9uZSgpe3JldHVybiBuZXcgam4odGhpcy50b3AsdGhpcy5ib3R0b20sdGhpcy5sZWZ0LHRoaXMucmlnaHQpfXRvSlNPTigpe3JldHVybnt0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLGxlZnQ6dGhpcy5sZWZ0LHJpZ2h0OnRoaXMucmlnaHR9fX1mdW5jdGlvbiBVbih0LHIpe2NvbnN0IG49ZS5nZXRDb2x1bW4odCwzKTtlLmZyb21RdWF0KHQsciksZS5zZXRDb2x1bW4odCwzLG4pfWZ1bmN0aW9uIE5uKHQscil7Y29uc3Qgbj1lLmlkZW50aXR5JDEoW10pO3JldHVybiBlLnJvdGF0ZVokMShuLG4sLXIpLGUucm90YXRlWCQxKG4sbiwtdCksbn1mdW5jdGlvbiBWbih0LHIpe2NvbnN0IG49W3RbMF0sdFsxXSwwXSxpPVtyWzBdLHJbMV0sMF07aWYoZS5sZW5ndGgobik+PTFlLTE1KXtjb25zdCB0PWUubm9ybWFsaXplKFtdLG4pO2Uuc2NhbGUkMihpLHQsZS5kb3QoaSx0KSksclswXT1pWzBdLHJbMV09aVsxXX1jb25zdCBvPWUuY3Jvc3MoW10scix0KTtpZihlLmxlbihvKTwxZS0xNSlyZXR1cm4gbnVsbDtjb25zdCBhPU1hdGguYXRhbjIoLW9bMV0sb1swXSk7cmV0dXJuIE5uKE1hdGguYXRhbjIoTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pLC10WzJdKSxhKX1jbGFzcyBHbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zaXRpb249ZSx0aGlzLm9yaWVudGF0aW9uPXR9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbih0KXtpZih0KXtjb25zdCByPXQgaW5zdGFuY2VvZiBlLk1lcmNhdG9yQ29vcmRpbmF0ZT90Om5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSk7dGhpcy5fcmVuZGVyV29ybGRDb3BpZXMmJihyLng9ZS53cmFwKHIueCwwLDEpKSx0aGlzLl9wb3NpdGlvbj1yfWVsc2UgdGhpcy5fcG9zaXRpb249bnVsbH1sb29rQXRQb2ludCh0LHIpe2lmKHRoaXMub3JpZW50YXRpb249bnVsbCwhdGhpcy5wb3NpdGlvbilyZXR1cm47Y29uc3Qgbj10aGlzLl9lbGV2YXRpb24/dGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0KSk6MCxpPXRoaXMucG9zaXRpb24sbz1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHQsbiksYT1bby54LWkueCxvLnktaS55LG8uei1pLnpdO3J8fChyPVswLDAsMV0pLHJbMl09TWF0aC5hYnMoclsyXSksdGhpcy5vcmllbnRhdGlvbj1WbihhLHIpfXNldFBpdGNoQmVhcmluZyh0LHIpe3RoaXMub3JpZW50YXRpb249Tm4oZS5kZWdUb1JhZCh0KSxlLmRlZ1RvUmFkKC1yKSl9fWNsYXNzIHFue2NvbnN0cnVjdG9yKHQscil7dGhpcy5fdHJhbnNmb3JtPWUuaWRlbnRpdHkoW10pLHRoaXMub3JpZW50YXRpb249cix0aGlzLnBvc2l0aW9uPXR9Z2V0IG1lcmNhdG9yUG9zaXRpb24oKXtjb25zdCB0PXRoaXMucG9zaXRpb247cmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSl9Z2V0IHBvc2l0aW9uKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMyk7cmV0dXJuW3RbMF0sdFsxXSx0WzJdXX1zZXQgcG9zaXRpb24odCl7dmFyIHI7dCYmZS5zZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDMsWyhyPXQpWzBdLHJbMV0sclsyXSwxXSl9Z2V0IG9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9ufXNldCBvcmllbnRhdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbj10fHxlLmlkZW50aXR5JDEoW10pLHQmJlVuKHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbil9Z2V0UGl0Y2hCZWFyaW5nKCl7Y29uc3QgZT10aGlzLmZvcndhcmQoKSx0PXRoaXMucmlnaHQoKTtyZXR1cm57YmVhcmluZzpNYXRoLmF0YW4yKC10WzFdLHRbMF0pLHBpdGNoOk1hdGguYXRhbjIoTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLC1lWzJdKX19c2V0UGl0Y2hCZWFyaW5nKGUsdCl7dGhpcy5fb3JpZW50YXRpb249Tm4oZSx0KSxVbih0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pfWZvcndhcmQoKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwyKTtyZXR1cm5bLXRbMF0sLXRbMV0sLXRbMl1dfXVwKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMSk7cmV0dXJuWy10WzBdLC10WzFdLC10WzJdXX1yaWdodCgpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDApO3JldHVyblt0WzBdLHRbMV0sdFsyXV19Z2V0Q2FtZXJhVG9Xb3JsZCh0LHIpe2NvbnN0IG49bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuaW52ZXJ0KG4sdGhpcy5nZXRXb3JsZFRvQ2FtZXJhKHQscikpLG59Z2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQscixuKXtjb25zdCBpPXRoaXMucG9zaXRpb247ZS5zY2FsZSQyKGksaSwtdCk7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gZS5mcm9tU2NhbGluZyhvLFtuLG4sbl0pLGUudHJhbnNsYXRlKG8sbyxpKSxvWzEwXSo9cixvfWdldFdvcmxkVG9DYW1lcmEodCxyKXtjb25zdCBuPW5ldyBGbG9hdDY0QXJyYXkoMTYpLGk9bmV3IEZsb2F0NjRBcnJheSg0KSxvPXRoaXMucG9zaXRpb247cmV0dXJuIGUuY29uanVnYXRlKGksdGhpcy5fb3JpZW50YXRpb24pLGUuc2NhbGUkMihvLG8sLXQpLGUuZnJvbVF1YXQobixpKSxlLnRyYW5zbGF0ZShuLG4sbyksblsxXSo9LTEsbls1XSo9LTEsbls5XSo9LTEsblsxM10qPS0xLG5bOF0qPXIsbls5XSo9cixuWzEwXSo9cixuWzExXSo9cixufWdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHQscixuLGkpe2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUucGVyc3BlY3RpdmUobyx0LHIsbixpKSxvfWdldERpc3RhbmNlVG9FbGV2YXRpb24odCl7Y29uc3Qgcj0wPT09dD8wOmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHQsdGhpcy5wb3NpdGlvblsxXSksbj10aGlzLmZvcndhcmQoKTtyZXR1cm4oci10aGlzLnBvc2l0aW9uWzJdKS9uWzJdfWNsb25lKCl7cmV0dXJuIG5ldyBxbihbLi4udGhpcy5wb3NpdGlvbl0sWy4uLnRoaXMub3JpZW50YXRpb25dKX19ZnVuY3Rpb24gWm4odCxyKXtjb25zdCBuPVduKHQucHJvamVjdGlvbix0Lnpvb20sdC53aWR0aCx0LmhlaWdodCksaT1mdW5jdGlvbih0LHIsbixpLG8pe2NvbnN0IGE9bmV3IGUuTG5nTGF0KG4ubG5nLTE4MCpYbixuLmxhdCkscz1uZXcgZS5MbmdMYXQobi5sbmcrMTgwKlhuLG4ubGF0KSxsPXQucHJvamVjdChhLmxuZyxhLmxhdCksYz10LnByb2plY3Qocy5sbmcscy5sYXQpLHU9LU1hdGguYXRhbjIoYy55LWwueSxjLngtbC54KSxoPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobik7aC55PWUuY2xhbXAoaC55LC0uOTk5OTc1LC45OTk5NzUpO2NvbnN0IGQ9aC50b0xuZ0xhdCgpLHA9dC5wcm9qZWN0KGQubG5nLGQubGF0KSxmPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoZCk7Zi54Kz1Ybjtjb25zdCBtPWYudG9MbmdMYXQoKSxnPXQucHJvamVjdChtLmxuZyxtLmxhdCksXz1ZbihnLngtcC54LGcueS1wLnksdSkseT1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGQpO3kueSs9WG47Y29uc3Qgdj15LnRvTG5nTGF0KCkseD10LnByb2plY3Qodi5sbmcsdi5sYXQpLGI9WW4oeC54LXAueCx4LnktcC55LHUpLHc9TWF0aC5hYnMoXy54KS9NYXRoLmFicyhiLnkpLFQ9ZS5pZGVudGl0eShbXSk7ZS5yb3RhdGVaKFQsVCwtdSooMS0obz8wOmkpKSk7Y29uc3QgRT1lLmlkZW50aXR5KFtdKTtyZXR1cm4gZS5zY2FsZShFLEUsWzEsMS0oMS13KSppLDFdKSxFWzRdPS1iLngvYi55KmksZS5yb3RhdGVaKEUsRSx1KSxlLm11bHRpcGx5KEUsVCxFKSxFfSh0LnByb2plY3Rpb24sMCx0LmNlbnRlcixuLHIpLG89JG4odCk7cmV0dXJuIGUuc2NhbGUoaSxpLFtvLG8sMV0pLGl9ZnVuY3Rpb24gJG4odCl7Y29uc3Qgcj10LnByb2plY3Rpb24sbj1Xbih0LnByb2plY3Rpb24sdC56b29tLHQud2lkdGgsdC5oZWlnaHQpLGk9SG4ocix0LmNlbnRlciksbz1IbihyLGUuTG5nTGF0LmNvbnZlcnQoci5jZW50ZXIpKTtyZXR1cm4gTWF0aC5wb3coMixpKm4rKDEtbikqbyl9ZnVuY3Rpb24gV24odCxyLG4saSxvPTEvMCl7Y29uc3QgYT10LnJhbmdlO2lmKCFhKXJldHVybiAwO2NvbnN0IHM9TWF0aC5taW4obyxNYXRoLm1heChuLGkpKSxsPU1hdGgubG9nKHMvMTAyNCkvTWF0aC5MTjI7cmV0dXJuIGUuc21vb3Roc3RlcChhWzBdK2wsYVsxXStsLHIpfWNvbnN0IFhuPTEvNGU0O2Z1bmN0aW9uIEhuKHQscil7Y29uc3Qgbj1lLmNsYW1wKHIubGF0LC1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERSksaT1uZXcgZS5MbmdMYXQoci5sbmctMTgwKlhuLG4pLG89bmV3IGUuTG5nTGF0KHIubG5nKzE4MCpYbixuKSxhPXQucHJvamVjdChpLmxuZyxuKSxzPXQucHJvamVjdChvLmxuZyxuKSxsPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoaSksYz1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG8pLHU9cy54LWEueCxoPXMueS1hLnksZD1jLngtbC54LHA9Yy55LWwueSxmPU1hdGguc3FydCgoZCpkK3AqcCkvKHUqdStoKmgpKTtyZXR1cm4gTWF0aC5sb2coZikvTWF0aC5MTjJ9ZnVuY3Rpb24gWW4oZSx0LHIpe2NvbnN0IG49TWF0aC5jb3MociksaT1NYXRoLnNpbihyKTtyZXR1cm57eDplKm4tdCppLHk6ZSppK3Qqbn19Y2xhc3MgS257Y29uc3RydWN0b3IodCxyLG4saSxvLGEscyl7dGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9dm9pZCAwPT09b3x8byx0aGlzLl9taW5ab29tPXR8fDAsdGhpcy5fbWF4Wm9vbT1yfHwyMix0aGlzLl9taW5QaXRjaD1udWxsPT1uPzA6bix0aGlzLl9tYXhQaXRjaD1udWxsPT1pPzYwOmksdGhpcy5zZXRQcm9qZWN0aW9uKGEpLHRoaXMuc2V0TWF4Qm91bmRzKHMpLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX2NlbnRlcj1uZXcgZS5MbmdMYXQoMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fbmVhclo9MCx0aGlzLl9mYXJaPTAsdGhpcy5fdW5tb2RpZmllZD0hMCx0aGlzLl9lZGdlSW5zZXRzPW5ldyBqbix0aGlzLl9wcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU9e30sdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9LHRoaXMuX2NhbWVyYT1uZXcgcW4sdGhpcy5fY2VudGVyQWx0aXR1ZGU9MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPTAsdGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsPTEsdGhpcy5nbG9iZVJhZGl1cz0wLHRoaXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZT1bMCwwLDBdLHRoaXMuX2hvcml6b25TaGlmdD0uMX1jbG9uZSgpe2NvbnN0IGU9bmV3IEtuKHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSx0aGlzLl9taW5QaXRjaCx0aGlzLm1heFBpdGNoLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLHRoaXMuZ2V0UHJvamVjdGlvbigpKTtyZXR1cm4gZS5fZWxldmF0aW9uPXRoaXMuX2VsZXZhdGlvbixlLl9jZW50ZXJBbHRpdHVkZT10aGlzLl9jZW50ZXJBbHRpdHVkZSxlLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24sZS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLGUubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj10aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24sZS53aWR0aD10aGlzLndpZHRoLGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LGUuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlLGUuX2NlbnRlcj10aGlzLl9jZW50ZXIsZS5fc2V0Wm9vbSh0aGlzLnpvb20pLGUuX3NlYUxldmVsWm9vbT10aGlzLl9zZWFMZXZlbFpvb20sZS5hbmdsZT10aGlzLmFuZ2xlLGUuX2Zvdj10aGlzLl9mb3YsZS5fcGl0Y2g9dGhpcy5fcGl0Y2gsZS5fbmVhclo9dGhpcy5fbmVhclosZS5fZmFyWj10aGlzLl9mYXJaLGUuX2F2ZXJhZ2VFbGV2YXRpb249dGhpcy5fYXZlcmFnZUVsZXZhdGlvbixlLl91bm1vZGlmaWVkPXRoaXMuX3VubW9kaWZpZWQsZS5fZWRnZUluc2V0cz10aGlzLl9lZGdlSW5zZXRzLmNsb25lKCksZS5fY2FtZXJhPXRoaXMuX2NhbWVyYS5jbG9uZSgpLGUuX2NhbGNNYXRyaWNlcygpLGUuZnJlZXplVGlsZUNvdmVyYWdlPXRoaXMuZnJlZXplVGlsZUNvdmVyYWdlLGUuZnJ1c3R1bUNvcm5lcnM9dGhpcy5mcnVzdHVtQ29ybmVycyxlfWdldCBlbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fZWxldmF0aW9ufXNldCBlbGV2YXRpb24oZSl7dGhpcy5fZWxldmF0aW9uIT09ZSYmKHRoaXMuX2VsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX11cGRhdGVFbGV2YXRpb24oZSl7Y29uc3QgdD10aGlzLl9lbGV2YXRpb24mJnRoaXMuX2VsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247KG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8dCkmJnRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLChlfHx0KSYmdGhpcy5fY29uc3RyYWluQ2FtZXJhQWx0aXR1ZGUoKSx0aGlzLl9jYWxjTWF0cmljZXMoKX1nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIGUucGljayh0aGlzLnByb2plY3Rpb24sW1wibmFtZVwiLFwiY2VudGVyXCIsXCJwYXJhbGxlbHNcIl0pfXNldFByb2plY3Rpb24ocil7dGhpcy5wcm9qZWN0aW9uT3B0aW9ucz1yfHx7bmFtZTpcIm1lcmNhdG9yXCJ9O2NvbnN0IG49dGhpcy5wcm9qZWN0aW9uP3RoaXMuZ2V0UHJvamVjdGlvbigpOnZvaWQgMDt0aGlzLnByb2plY3Rpb249ZS5nZXRQcm9qZWN0aW9uKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO2NvbnN0IGk9IXQobix0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIGkmJnRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMSxpfXNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKXtjb25zdCB0PXRoaXMucHJvamVjdGlvbi5uYW1lO3RoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMCx0aGlzLnByb2plY3Rpb25PcHRpb25zPXtuYW1lOlwibWVyY2F0b3JcIn0sdGhpcy5wcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCByPXQhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gciYmdGhpcy5fY2FsY01hdHJpY2VzKCkscn1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpfWdldCBtYXhab29tKCl7cmV0dXJuIHRoaXMuX21heFpvb219c2V0IG1heFpvb20oZSl7dGhpcy5fbWF4Wm9vbSE9PWUmJih0aGlzLl9tYXhab29tPWUsdGhpcy56b29tPU1hdGgubWluKHRoaXMuem9vbSxlKSl9Z2V0IG1pblBpdGNoKCl7cmV0dXJuIHRoaXMuX21pblBpdGNofXNldCBtaW5QaXRjaChlKXt0aGlzLl9taW5QaXRjaCE9PWUmJih0aGlzLl9taW5QaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5tYXgodGhpcy5waXRjaCxlKSl9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSl9Z2V0IHJlbmRlcldvcmxkQ29waWVzKCl7cmV0dXJuIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYhMD09PXRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1dvcmxkQ29waWVzfXNldCByZW5kZXJXb3JsZENvcGllcyhlKXt2b2lkIDA9PT1lP2U9ITA6bnVsbD09PWUmJihlPSExKSx0aGlzLl9yZW5kZXJXb3JsZENvcGllcz1lfWdldCB3b3JsZFNpemUoKXtyZXR1cm4gdGhpcy50aWxlU2l6ZSp0aGlzLnNjYWxlfWdldCBjYW1lcmFXb3JsZFNpemUoKXtjb25zdCBlPU1hdGgubWF4KHRoaXMuX2NhbWVyYS5nZXREaXN0YW5jZVRvRWxldmF0aW9uKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24pLE51bWJlci5FUFNJTE9OKTtyZXR1cm4gdGhpcy5fd29ybGRTaXplRnJvbVpvb20odGhpcy5fem9vbUZyb21NZXJjYXRvclooZSkpfWdldCBwaXhlbHNQZXJNZXRlcigpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIodGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplKX1nZXQgY2FtZXJhUGl4ZWxzUGVyTWV0ZXIoKXtyZXR1cm4gZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUodGhpcy5jZW50ZXIubGF0LHRoaXMuY2FtZXJhV29ybGRTaXplKX1nZXQgY2VudGVyT2Zmc2V0KCl7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuX3N1Yih0aGlzLnNpemUuX2RpdigyKSl9Z2V0IHNpemUoKXtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1nZXQgYmVhcmluZygpe3JldHVybiBlLndyYXAodGhpcy5yb3RhdGlvbiwtMTgwLDE4MCl9c2V0IGJlYXJpbmcoZSl7dGhpcy5yb3RhdGlvbj1lfWdldCByb3RhdGlvbigpe3JldHVybi10aGlzLmFuZ2xlL01hdGguUEkqMTgwfXNldCByb3RhdGlvbih0KXtjb25zdCByPS10Kk1hdGguUEkvMTgwO3ZhciBuO3RoaXMuYW5nbGUhPT1yJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLmFuZ2xlPXIsdGhpcy5fY2FsY01hdHJpY2VzKCksdGhpcy5yb3RhdGlvbk1hdHJpeD0obj1uZXcgZS5BUlJBWV9UWVBFKDQpLGUuQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYoblsxXT0wLG5bMl09MCksblswXT0xLG5bM109MSxuKSxmdW5jdGlvbihlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSxzPU1hdGguc2luKHIpLGw9TWF0aC5jb3Mocik7ZVswXT1uKmwrbypzLGVbMV09aSpsK2EqcyxlWzJdPW4qLXMrbypsLGVbM109aSotcythKmx9KHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLmFuZ2xlKSl9Z2V0IHBpdGNoKCl7cmV0dXJuIHRoaXMuX3BpdGNoL01hdGguUEkqMTgwfXNldCBwaXRjaCh0KXtjb25zdCByPWUuY2xhbXAodCx0aGlzLm1pblBpdGNoLHRoaXMubWF4UGl0Y2gpLzE4MCpNYXRoLlBJO3RoaXMuX3BpdGNoIT09ciYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fcGl0Y2g9cix0aGlzLl9jYWxjTWF0cmljZXMoKSl9Z2V0IGFzcGVjdCgpe3JldHVybiB0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWdldCBmb3ZYKCl7cmV0dXJuIHRoaXMuX2Zvdn1nZXQgZm92WSgpe2NvbnN0IGU9MS9NYXRoLnRhbiguNSp0aGlzLmZvdlgpO3JldHVybiAyKk1hdGguYXRhbigxL3RoaXMuYXNwZWN0L2UpfXNldCBmb3YodCl7dD1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsdCkpLHRoaXMuX2ZvdiE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj1lLmRlZ1RvUmFkKHQpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX1nZXQgYXZlcmFnZUVsZXZhdGlvbigpe3JldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9ufXNldCBhdmVyYWdlRWxldmF0aW9uKGUpe3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl9jYWxjRm9nTWF0cmljZXMoKSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e319Z2V0IHpvb20oKXtyZXR1cm4gdGhpcy5fem9vbX1zZXQgem9vbShlKXtjb25zdCB0PU1hdGgubWluKE1hdGgubWF4KGUsdGhpcy5taW5ab29tKSx0aGlzLm1heFpvb20pO3RoaXMuX3pvb20hPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9zZXRab29tKHQpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX1fc2V0Wm9vbShlKXt0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tfV91cGRhdGVDYW1lcmFPblRlcnJhaW4oKXtpZighdGhpcy5fZWxldmF0aW9ufHwhdGhpcy5fZWxldmF0aW9uLmlzRGF0YUF2YWlsYWJsZUF0UG9pbnQodGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSlyZXR1cm4gdGhpcy5fY2VudGVyQWx0aXR1ZGU9MCx0aGlzLl9zZWFMZXZlbFpvb209bnVsbCx2b2lkKHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249dm9pZCAwKTtjb25zdCBlPXRoaXMuX2VsZXZhdGlvbjt0aGlzLl9jZW50ZXJBbHRpdHVkZT1lLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSx0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPWUuZXhhZ2dlcmF0aW9uKCksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCl9X3VwZGF0ZVNlYUxldmVsWm9vbSgpe3ZvaWQgMCE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24mJih0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvclooKHRoaXMucGl4ZWxzUGVyTWV0ZXIqdGhpcy5fY2VudGVyQWx0aXR1ZGUrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKS90aGlzLndvcmxkU2l6ZSkpfXNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKXtpZighdGhpcy5fZWxldmF0aW9uKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLHI9W1suNSwuMl0sWy4zLC41XSxbLjUsLjVdLFsuNywuNV0sWy41LC44XV0sbj10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO2xldCBpPTAsbz0wO2ZvcihsZXQgYT0wO2E8ci5sZW5ndGg7YSsrKXtjb25zdCBzPW5ldyBlLnBvaW50R2VvbWV0cnkoclthXVswXSp0aGlzLndpZHRoLG4rclthXVsxXSoodGhpcy5oZWlnaHQtbikpLGw9dC5wb2ludENvb3JkaW5hdGUocyk7aWYoIWwpY29udGludWU7Y29uc3QgYz0xL01hdGguaHlwb3QobFswXS10aGlzLl9jYW1lcmEucG9zaXRpb25bMF0sbFsxXS10aGlzLl9jYW1lcmEucG9zaXRpb25bMV0pO2krPWxbM10qYyxvKz1jfXJldHVybiAwPT09bz9OYU46aS9vfWdldCBjZW50ZXIoKXtyZXR1cm4gdGhpcy5fY2VudGVyfXNldCBjZW50ZXIoZSl7ZS5sYXQ9PT10aGlzLl9jZW50ZXIubGF0JiZlLmxuZz09PXRoaXMuX2NlbnRlci5sbmd8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NlbnRlcj1lLHRoaXMuX3RlcnJhaW5FbmFibGVkKCkmJihcImdyb3VuZFwiPT09dGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U/dGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk6dGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpfV91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpe2lmKG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8IXRoaXMuX2VsZXZhdGlvbilyZXR1cm47Y29uc3QgZT10aGlzLl9zZWFMZXZlbFpvb20sdD10aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpLHI9dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSp0LG49dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSksaT10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSxvPU1hdGgubWF4KG4tcixpKTt0aGlzLl9zZXRab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKG8pKX1nZXQgcGFkZGluZygpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLnRvSlNPTigpfXNldCBwYWRkaW5nKGUpe3RoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHRoaXMuX2VkZ2VJbnNldHMsZSwxKSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9Y29tcHV0ZVpvb21SZWxhdGl2ZVRvKHQpe2NvbnN0IHI9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24odGhpcy5jZW50ZXJQb2ludCx0LnRvQWx0aXR1ZGUoKSkpO2xldCBuO249dC56PHRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXT9bci54LHIueSxyLnpdOlt0LngsdC55LHQuel07Y29uc3QgaT1lLmxlbmd0aChlLnN1YihbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24sbikpO3JldHVybiBlLmNsYW1wKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGkpLHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSl9c2V0RnJlZUNhbWVyYU9wdGlvbnModCl7aWYoIXRoaXMuaGVpZ2h0KXJldHVybjtpZighdC5wb3NpdGlvbiYmIXQub3JpZW50YXRpb24pcmV0dXJuO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7bGV0IHI9ITE7aWYodC5vcmllbnRhdGlvbiYmIWUuZXhhY3RFcXVhbHModC5vcmllbnRhdGlvbix0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pJiYocj10aGlzLl9zZXRDYW1lcmFPcmllbnRhdGlvbih0Lm9yaWVudGF0aW9uKSksdC5wb3NpdGlvbil7Y29uc3Qgbj1bdC5wb3NpdGlvbi54LHQucG9zaXRpb24ueSx0LnBvc2l0aW9uLnpdO2UuZXhhY3RFcXVhbHMkMShuLHRoaXMuX2NhbWVyYS5wb3NpdGlvbil8fCh0aGlzLl9zZXRDYW1lcmFQb3NpdGlvbihuKSxyPSEwKX1yJiYodGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCksdGhpcy5yZWNlbnRlck9uVGVycmFpbigpKX1nZXRGcmVlQ2FtZXJhT3B0aW9ucygpe3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgdD10aGlzLl9jYW1lcmEucG9zaXRpb24scj1uZXcgR247cmV0dXJuIHIucG9zaXRpb249bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKSxyLm9yaWVudGF0aW9uPXRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbixyLl9lbGV2YXRpb249dGhpcy5lbGV2YXRpb24sci5fcmVuZGVyV29ybGRDb3BpZXM9dGhpcy5yZW5kZXJXb3JsZENvcGllcyxyfV9zZXRDYW1lcmFPcmllbnRhdGlvbih0KXtpZighZS5sZW5ndGgkMSh0KSlyZXR1cm4hMTtlLm5vcm1hbGl6ZSQxKHQsdCk7Y29uc3Qgcj1lLnRyYW5zZm9ybVF1YXQoW10sWzAsMCwtMV0sdCksbj1lLnRyYW5zZm9ybVF1YXQoW10sWzAsLTEsMF0sdCk7aWYoblsyXTwwKXJldHVybiExO2NvbnN0IGk9Vm4ocixuKTtyZXR1cm4hIWkmJih0aGlzLl9jYW1lcmEub3JpZW50YXRpb249aSwhMCl9X3NldENhbWVyYVBvc2l0aW9uKHQpe2NvbnN0IHI9dGhpcy56b29tU2NhbGUodGhpcy5taW5ab29tKSp0aGlzLnRpbGVTaXplLG49dGhpcy56b29tU2NhbGUodGhpcy5tYXhab29tKSp0aGlzLnRpbGVTaXplLGk9dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO3RbMl09ZS5jbGFtcCh0WzJdLGkvbixpL3IpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj10fWdldCBjZW50ZXJQb2ludCgpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmdldENlbnRlcih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1nZXQgZm92QWJvdmVDZW50ZXIoKXtyZXR1cm4gdGhpcy5fZm92KiguNSt0aGlzLmNlbnRlck9mZnNldC55L3RoaXMuaGVpZ2h0KX1pc1BhZGRpbmdFcXVhbChlKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5lcXVhbHMoZSl9aW50ZXJwb2xhdGVQYWRkaW5nKGUsdCxyKXt0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUoZSx0LHIpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpfWNvdmVyaW5nWm9vbUxldmVsKGUpe2NvbnN0IHQ9KGUucm91bmRab29tP01hdGgucm91bmQ6TWF0aC5mbG9vcikodGhpcy56b29tK3RoaXMuc2NhbGVab29tKHRoaXMudGlsZVNpemUvZS50aWxlU2l6ZSkpO3JldHVybiBNYXRoLm1heCgwLHQpfWdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0KXtjb25zdCByPVtuZXcgZS5VbndyYXBwZWRUaWxlSUQoMCx0KV07aWYodGhpcy5yZW5kZXJXb3JsZENvcGllcyl7Y29uc3Qgbj10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkpLGk9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLDApKSxvPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLGE9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSgwLHRoaXMuaGVpZ2h0KSkscz1NYXRoLmZsb29yKE1hdGgubWluKG4ueCxpLngsby54LGEueCkpLGw9TWF0aC5mbG9vcihNYXRoLm1heChuLngsaS54LG8ueCxhLngpKSxjPTE7Zm9yKGxldCBuPXMtYztuPD1sK2M7bisrKTAhPT1uJiZyLnB1c2gobmV3IGUuVW53cmFwcGVkVGlsZUlEKG4sdCkpfXJldHVybiByfWNvdmVyaW5nVGlsZXModCl7bGV0IHI9dGhpcy5jb3ZlcmluZ1pvb21MZXZlbCh0KTtjb25zdCBuPXIsaT10aGlzLmVsZXZhdGlvbiYmIXQuaXNUZXJyYWluREVNLG89XCJtZXJjYXRvclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7aWYodm9pZCAwIT09dC5taW56b29tJiZyPHQubWluem9vbSlyZXR1cm5bXTt2b2lkIDAhPT10Lm1heHpvb20mJnI+dC5tYXh6b29tJiYocj10Lm1heHpvb20pO2NvbnN0IGE9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLHM9dGhpcy5jZW50ZXIubGF0LGw9MTw8cixjPVtsKmEueCxsKmEueSwwXSx1PVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLGg9IXUsZD1lLkZydXN0dW0uZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLHIsaCkscD11P3RoaXMuX2NhbWVyYS5tZXJjYXRvclBvc2l0aW9uOnRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuZ2V0Q2FtZXJhUG9pbnQoKSksZj1sKmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5jZW50ZXIubGF0KSxtPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS9lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCksZz1bbCpwLngsbCpwLnksbSooaD8xOmYpXSxfPXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90LnRpbGVTaXplKih0LnJvdW5kWm9vbT8xOi41MDIpLHk9dGhpcy5waXRjaDw9NjAmJnRoaXMuX2VkZ2VJbnNldHMudG9wPD10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSYmIXRoaXMuX2VsZXZhdGlvbiYmIXRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U/cjowLHY9dC5pc1RlcnJhaW5ERU0mJnRoaXMuX2VsZXZhdGlvbj8xZTQqdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOnRoaXMuX2NlbnRlckFsdGl0dWRlLHg9dC5pc1RlcnJhaW5ERU0/LXY6dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpOjAsYj10aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlPyRuKHRoaXMpOjEsdz10PT57Y29uc3Qgcj0xLzRlNCxuPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0Lngrcix0LnksdC56KSxpPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55K3IsdC56KSxvPXQudG9MbmdMYXQoKSxhPW4udG9MbmdMYXQoKSxzPWkudG9MbmdMYXQoKSxsPXRoaXMubG9jYXRpb25Db29yZGluYXRlKG8pLGM9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUoYSksdT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShzKSxoPU1hdGguaHlwb3QoYy54LWwueCxjLnktbC55KSxkPU1hdGguaHlwb3QodS54LWwueCx1LnktbC55KTtyZXR1cm4gTWF0aC5zcXJ0KGgqZCkqYi9yfSxUPXQ9Pntjb25zdCByPXYsbj14O3JldHVybnthYWJiOmUudGlsZUFBQkIodGhpcyxsLDAsMCwwLHQsbixyLHRoaXMucHJvamVjdGlvbiksem9vbTowLHg6MCx5OjAsbWluWjpuLG1heFo6cix3cmFwOnQsZnVsbHlWaXNpYmxlOiExfX0sRT1bXTtsZXQgUz1bXTtjb25zdCBDPXIsTT10LnJlcGFyc2VPdmVyc2NhbGVkP246cixrPWU9PmUqZSxBPWsoKG0tdGhpcy5fY2VudGVyQWx0aXR1ZGUpKmYpLEk9ZT0+e2lmKCF0aGlzLl9lbGV2YXRpb258fCFlLnRpbGVJRHx8IW8pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLmdldE1pbk1heEZvclRpbGUoZS50aWxlSUQpLHI9ZS5hYWJiO3Q/KHIubWluWzJdPXQubWluLHIubWF4WzJdPXQubWF4LHIuY2VudGVyWzJdPShyLm1pblsyXStyLm1heFsyXSkvMik6KGUuc2hvdWxkU3BsaXQ9UChlKSxlLnNob3VsZFNwbGl0fHwoci5taW5bMl09ci5tYXhbMl09ci5jZW50ZXJbMl09dGhpcy5fY2VudGVyQWx0aXR1ZGUpKX0sUD10PT57aWYodC56b29tPHkpcmV0dXJuITA7aWYodC56b29tPT09QylyZXR1cm4hMTtpZihudWxsIT10LnNob3VsZFNwbGl0KXJldHVybiB0LnNob3VsZFNwbGl0O2NvbnN0IHI9dC5hYWJiLmRpc3RhbmNlWChnKSxvPXQuYWFiYi5kaXN0YW5jZVkoZyk7bGV0IGE9QSxsPTE7aWYodSl7YT1rKHQuYWFiYi5kaXN0YW5jZVooZykpO2NvbnN0IHI9TWF0aC5wb3coMix0Lnpvb20pLG49ZS5sYXRGcm9tTWVyY2F0b3JZKCh0LnkrMSkvciksaT1lLmxhdEZyb21NZXJjYXRvclkodC55L3IpLG89TWF0aC5taW4oTWF0aC5tYXgocyxuKSxpKSxjPWUuY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUobykvZS5jaXJjdW1mZXJlbmNlQXRMYXRpdHVkZShzKTtpZihsPW89PT1zPzEvTWF0aC5tYXgoMSx0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8tLjMpOk1hdGgubWluKDEsYy90aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8pLHRoaXMuem9vbTw9ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4mJnQuem9vbT09PUMtMSYmYz49LjkpcmV0dXJuITB9ZWxzZSBpZihpJiYoYT1rKHQuYWFiYi5kaXN0YW5jZVooZykqZikpLHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UmJm48PTUpe2NvbnN0IHI9TWF0aC5wb3coMix0Lnpvb20pLG49dyhuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKHQueCsuNSkvciwodC55Ky41KS9yKSk7bD1uPi44NT8xOm59Y29uc3QgYz1yKnIrbypvK2E7cmV0dXJuIGM8aygoMTw8Qy10Lnpvb20pKl8qbCooKGUsdCk9PntpZih0KmsoLjcwNyk8ZSlyZXR1cm4gMTtjb25zdCByPU1hdGguc3FydCh0L2UpO3JldHVybiByLygxLjQxNDQyNzE1NzAwMTQxNDQrKE1hdGgucG93KDEuMSxyLTEuNDE0NDI3MTU3MDAxNDE0NCsxKS0xKS8oMS4xLTEpLTEpfSkoTWF0aC5tYXgoYSxBKSxjKSl9O2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpZm9yKGxldCBlPTE7ZTw9MztlKyspRS5wdXNoKFQoLWUpKSxFLnB1c2goVChlKSk7Zm9yKEUucHVzaChUKDApKTtFLmxlbmd0aD4wOyl7Y29uc3Qgbj1FLnBvcCgpLGE9bi54LHM9bi55O2xldCBoPW4uZnVsbHlWaXNpYmxlO2lmKCFoKXtjb25zdCBlPW4uYWFiYi5pbnRlcnNlY3RzKGQpO2lmKDA9PT1lKWNvbnRpbnVlO2g9Mj09PWV9aWYobi56b29tIT09QyYmUChuKSlmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCByPShhPDwxKSt0JTIsYz0oczw8MSkrKHQ+PjEpLGQ9e2FhYmI6bz9uLmFhYmIucXVhZHJhbnQodCk6ZS50aWxlQUFCQih0aGlzLGwsbi56b29tKzEscixjLG4ud3JhcCxuLm1pblosbi5tYXhaLHRoaXMucHJvamVjdGlvbiksem9vbTpuLnpvb20rMSx4OnIseTpjLHdyYXA6bi53cmFwLGZ1bGx5VmlzaWJsZTpoLHRpbGVJRDp2b2lkIDAsc2hvdWxkU3BsaXQ6dm9pZCAwLG1pblo6bi5taW5aLG1heFo6bi5tYXhafTtpJiYhdSYmKGQudGlsZUlEPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQobi56b29tKzE9PT1DP006bi56b29tKzEsbi53cmFwLG4uem9vbSsxLHIsYyksSShkKSksRS5wdXNoKGQpfWVsc2V7Y29uc3QgaT1uLnpvb209PT1DP006bi56b29tO2lmKHQubWluem9vbSYmdC5taW56b29tPmkpY29udGludWU7Y29uc3Qgbz1jWzBdLSguNSthKyhuLndyYXA8PG4uem9vbSkpKigxPDxyLW4uem9vbSksbD1jWzFdLS41LXMsdT1uLnRpbGVJRD9uLnRpbGVJRDpuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKGksbi53cmFwLG4uem9vbSxhLHMpO1MucHVzaCh7dGlsZUlEOnUsZGlzdGFuY2VTcTpvKm8rbCpsfSl9fWlmKHRoaXMuZm9nQ3VsbERpc3RTcSl7Y29uc3Qgcj10aGlzLmZvZ0N1bGxEaXN0U3Esbj10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1M9Uy5maWx0ZXIoaT0+e2NvbnN0IG89WzAsMCwwLDFdLGE9W2UuRVhURU5ULGUuRVhURU5ULDAsMV0scz10aGlzLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgoaS50aWxlSUQudG9VbndyYXBwZWQoKSk7ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLHMpLGUudHJhbnNmb3JtTWF0NCQxKGEsYSxzKTtjb25zdCBsPWUuZ2V0QUFCQlBvaW50U3F1YXJlRGlzdChvLGEpO2lmKDA9PT1sKXJldHVybiEwO2xldCBjPSExO2NvbnN0IHU9dGhpcy5fZWxldmF0aW9uO2lmKHUmJmw+ciYmMCE9PW4pe2NvbnN0IHI9dGhpcy5jYWxjdWxhdGVQcm9qTWF0cml4KGkudGlsZUlELnRvVW53cmFwcGVkKCkpO2xldCBvO3QuaXNUZXJyYWluREVNfHwobz11LmdldE1pbk1heEZvclRpbGUoaS50aWxlSUQpKSxvfHwobz17bWluOngsbWF4OnZ9KTtjb25zdCBhPWUuZnVydGhlc3RUaWxlQ29ybmVyKHRoaXMucm90YXRpb24pLHM9W2FbMF0qZS5FWFRFTlQsYVsxXSplLkVYVEVOVCxvLm1heF07ZS50cmFuc2Zvcm1NYXQ0KHMscyxyKSxjPSgxLXNbMV0pKnRoaXMuaGVpZ2h0Ki41PG59cmV0dXJuIGw8cnx8Y30pfXJldHVybiBTLnNvcnQoKGUsdCk9PmUuZGlzdGFuY2VTcS10LmRpc3RhbmNlU3EpLm1hcChlPT5lLnRpbGVJRCl9cmVzaXplKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5waXhlbHNUb0dMVW5pdHM9WzIvZSwtMi90XSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX1nZXQgdW5tb2RpZmllZCgpe3JldHVybiB0aGlzLl91bm1vZGlmaWVkfXpvb21TY2FsZShlKXtyZXR1cm4gTWF0aC5wb3coMixlKX1zY2FsZVpvb20oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfXByb2plY3QodCl7Y29uc3Qgcj1lLmNsYW1wKHQubGF0LC1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERSksbj10aGlzLnByb2plY3Rpb24ucHJvamVjdCh0LmxuZyxyKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShuLngqdGhpcy53b3JsZFNpemUsbi55KnRoaXMud29ybGRTaXplKX11bnByb2plY3QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54L3RoaXMud29ybGRTaXplLGUueS90aGlzLndvcmxkU2l6ZSl9Z2V0IHBvaW50KCl7cmV0dXJuIHRoaXMucHJvamVjdCh0aGlzLmNlbnRlcil9c2V0TG9jYXRpb25BdFBvaW50KHQscil7bGV0IG4saTtjb25zdCBvPXRoaXMuY2VudGVyUG9pbnQ7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy53b3JsZFNpemU7bj0oci54LW8ueCkvZSxpPShyLnktby55KS9lfWVsc2V7Y29uc3QgZT10aGlzLnBvaW50Q29vcmRpbmF0ZShyKSx0PXRoaXMucG9pbnRDb29yZGluYXRlKG8pO249ZS54LXQueCxpPWUueS10Lnl9Y29uc3QgYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KTt0aGlzLnNldExvY2F0aW9uKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShhLngtbixhLnktaSkpfXNldExvY2F0aW9uKGUpe3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGUpLHRoaXMucHJvamVjdGlvbi53cmFwJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKX1sb2NhdGlvblBvaW50KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLGUpfWxvY2F0aW9uUG9pbnQzRChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlLCEwKX1wb2ludExvY2F0aW9uKGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZShlKSl9cG9pbnRMb2NhdGlvbjNEKGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZTNEKGUpKX1sb2NhdGlvbkNvb3JkaW5hdGUodCxyKXtjb25zdCBuPXI/ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUocix0LmxhdCk6dm9pZCAwLGk9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodC5sbmcsdC5sYXQpO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoaS54LGkueSxuKX1jb29yZGluYXRlTG9jYXRpb24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54LGUueSl9cG9pbnRSYXlJbnRlcnNlY3Rpb24odCxyKXtjb25zdCBuPW51bGwhPXI/cjp0aGlzLl9jZW50ZXJBbHRpdHVkZSxpPVt0LngsdC55LDAsMV0sbz1bdC54LHQueSwxLDFdO2UudHJhbnNmb3JtTWF0NCQxKGksaSx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS50cmFuc2Zvcm1NYXQ0JDEobyxvLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtjb25zdCBhPW9bM107ZS5zY2FsZSQxKGksaSwxL2lbM10pLGUuc2NhbGUkMShvLG8sMS9hKTtjb25zdCBzPWlbMl0sbD1vWzJdO3JldHVybntwMDppLHAxOm8sdDpzPT09bD8wOihuLXMpLyhsLXMpfX1zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkodCl7Y29uc3Qgcj1bdC54LHQueSwwLDFdLG49W3QueCx0LnksMSwxXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0JDEocixyLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnRyYW5zZm9ybU1hdDQkMShuLG4sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUuc2NhbGUkMShyLHIsMS9yWzNdKSxlLnNjYWxlJDEobixuLDEvblszXSksclsyXT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShyWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG5bMl09ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoblsyXSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxlLnNjYWxlJDEocixyLDEvdGhpcy53b3JsZFNpemUpLGUuc2NhbGUkMShuLG4sMS90aGlzLndvcmxkU2l6ZSksbmV3IGUuUmF5KFtyWzBdLHJbMV0sclsyXV0sZS5ub3JtYWxpemUoW10sZS5zdWIoW10sbixyKSkpfXJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodCl7Y29uc3R7cDA6cixwMTpuLHQ6aX09dCxvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHJbMl0sdGhpcy5fY2VudGVyLmxhdCksYT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShuWzJdLHRoaXMuX2NlbnRlci5sYXQpO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoZS5udW1iZXIoclswXSxuWzBdLGkpL3RoaXMud29ybGRTaXplLGUubnVtYmVyKHJbMV0sblsxXSxpKS90aGlzLndvcmxkU2l6ZSxlLm51bWJlcihvLGEsaSkpfXBvaW50Q29vcmRpbmF0ZShlLHQ9dGhpcy5fY2VudGVyQWx0aXR1ZGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsZS54LGUueSx0KX1wb2ludENvb3JkaW5hdGUzRCh0KXtpZighdGhpcy5lbGV2YXRpb24pcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2xldCByPXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLHQueCx0LnkpO2lmKHIpcmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShyWzBdLHJbMV0sclsyXSk7bGV0IG49MCxpPXRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCk7aWYodC55PmkpcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2NvbnN0IG89LjAyKmksYT10LmNsb25lKCk7Zm9yKGxldCB0PTA7dDwxMCYmaS1uPm87dCsrKXthLnk9ZS5udW1iZXIobixpLC42Nik7Y29uc3QgdD10aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlM0QodGhpcyxhLngsYS55KTt0PyhpPWEueSxyPXQpOm49YS55fXJldHVybiByP25ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShyWzBdLHJbMV0sclsyXSk6dGhpcy5wb2ludENvb3JkaW5hdGUodCl9aXNQb2ludEFib3ZlSG9yaXpvbihlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmlzUG9pbnRBYm92ZUhvcml6b24odGhpcyxlKX1fY29vcmRpbmF0ZVBvaW50KHQscil7Y29uc3Qgbj1yJiZ0aGlzLmVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHQsdGhpcy5fY2VudGVyQWx0aXR1ZGUpOnRoaXMuX2NlbnRlckFsdGl0dWRlLGk9W3QueCp0aGlzLndvcmxkU2l6ZSx0LnkqdGhpcy53b3JsZFNpemUsbit0LnRvQWx0aXR1ZGUoKSwxXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0JDEoaSxpLHRoaXMucGl4ZWxNYXRyaXgpLGlbM10+MD9uZXcgZS5wb2ludEdlb21ldHJ5KGlbMF0vaVszXSxpWzFdL2lbM10pOm5ldyBlLnBvaW50R2VvbWV0cnkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX1fZ2V0R2xvYmVCb3VuZHMoKXtjb25zdHt0b3A6dCxsZWZ0OnJ9PXRoaXMuX2VkZ2VJbnNldHMsbj10aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSxpPXRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCxvPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShyLHQpKSxhPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShpLHQpKSxzPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShpLG4pKSxsPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShyLG4pKTtsZXQgYz1NYXRoLm1pbihvLngsbC54KSx1PU1hdGgubWF4KGEueCxzLngpLGg9TWF0aC5taW4oby55LGEueSksZD1NYXRoLm1heChsLnkscy55KTtjb25zdCBwPU1hdGgucG93KDIsLXRoaXMuem9vbSkvMTYsZj0odCxyLG4saSk9Pntjb25zdCBvPSh0K24pLzIsYT0ocitpKS8yLHM9bmV3IGUucG9pbnRHZW9tZXRyeShvLGEpLGw9dGhpcy5wb2ludENvb3JkaW5hdGUzRChzKSxtPU1hdGgubWF4KDAsYy1sLngsaC1sLnksbC54LXUsbC55LWQpO2M9TWF0aC5taW4oYyxsLngpLHU9TWF0aC5tYXgodSxsLngpLGg9TWF0aC5taW4oaCxsLnkpLGQ9TWF0aC5tYXgoZCxsLnkpLG0+cCYmKGYodCxyLG8sYSksZihvLGEsbixpKSl9O2Yocix0LGksdCksZihpLHQsaSxuKSxmKGksbixyLG4pLGYocixuLHIsdCk7Y29uc3QgbT1uZXcgZS5MbmdMYXQoZS5sbmdGcm9tTWVyY2F0b3JYKHUpLGUubGF0RnJvbU1lcmNhdG9yWShoKSksZz1uZXcgZS5MbmdMYXQoZS5sbmdGcm9tTWVyY2F0b3JYKGMpLGUubGF0RnJvbU1lcmNhdG9yWShkKSk7cmV0dXJuIG5ldyBlLkxuZ0xhdEJvdW5kcyhnLG0pfV9nZXRCb3VuZHModCxyKXtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdGhpcy5fZ2V0R2xvYmVCb3VuZHMoKTtjb25zdCBuPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy5fZWRnZUluc2V0cy5sZWZ0LHRoaXMuX2VkZ2VJbnNldHMudG9wKSxpPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LHRoaXMuX2VkZ2VJbnNldHMudG9wKSxvPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LHRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tKSxhPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy5fZWRnZUluc2V0cy5sZWZ0LHRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tKTtsZXQgcz10aGlzLnBvaW50Q29vcmRpbmF0ZShuLHQpLGw9dGhpcy5wb2ludENvb3JkaW5hdGUoaSx0KTtjb25zdCBjPXRoaXMucG9pbnRDb29yZGluYXRlKG8sciksdT10aGlzLnBvaW50Q29vcmRpbmF0ZShhLHIpLGg9KGUsdCk9Pih0LnktZS55KS8odC54LWUueCk7cmV0dXJuIHMueT4xJiZsLnk+PTA/cz1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKDEtdS55KS9oKHUscykrdS54LDEpOnMueTwwJiZsLnk8PTEmJihzPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgtdS55L2godSxzKSt1LngsMCkpLGwueT4xJiZzLnk+PTA/bD1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKDEtYy55KS9oKGMsbCkrYy54LDEpOmwueTwwJiZzLnk8PTEmJihsPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgtYy55L2goYyxsKStjLngsMCkpLChuZXcgZS5MbmdMYXRCb3VuZHMpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihzKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGwpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24odSkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihjKSl9X2dldEJvdW5kczNEKCl7Y29uc3QgZT10aGlzLmVsZXZhdGlvbjtpZighZS52aXNpYmxlRGVtVGlsZXMubGVuZ3RofHxlLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIHRoaXMuX2dldEJvdW5kcygwLDApO2NvbnN0IHQ9ZS52aXNpYmxlRGVtVGlsZXMucmVkdWNlKChlLHQpPT57aWYodC5kZW0pe2NvbnN0IHI9dC5kZW0udHJlZTtlLm1pbj1NYXRoLm1pbihlLm1pbixyLm1pbmltdW1zWzBdKSxlLm1heD1NYXRoLm1heChlLm1heCxyLm1heGltdW1zWzBdKX1yZXR1cm4gZX0se21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDowfSk7cmV0dXJuIHRoaXMuX2dldEJvdW5kcyh0Lm1pbiplLmV4YWdnZXJhdGlvbigpLHQubWF4KmUuZXhhZ2dlcmF0aW9uKCkpfWdldEJvdW5kcygpe3JldHVybiB0aGlzLl90ZXJyYWluRW5hYmxlZCgpP3RoaXMuX2dldEJvdW5kczNEKCk6dGhpcy5fZ2V0Qm91bmRzKDAsMCl9aG9yaXpvbkxpbmVGcm9tVG9wKGU9ITApe2NvbnN0IHQ9dGhpcy5oZWlnaHQvMi9NYXRoLnRhbih0aGlzLl9mb3YvMikvTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsLjEpKSt0aGlzLmNlbnRlck9mZnNldC55LHI9dGhpcy5oZWlnaHQvMi10KigxLXRoaXMuX2hvcml6b25TaGlmdCk7cmV0dXJuIGU/TWF0aC5tYXgoMCxyKTpyfWdldE1heEJvdW5kcygpe3JldHVybiB0aGlzLm1heEJvdW5kc31zZXRNYXhCb3VuZHModCl7dGhpcy5tYXhCb3VuZHM9dCx0aGlzLm1pbkxhdD0tZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsdGhpcy5tYXhMYXQ9ZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsdGhpcy5taW5Mbmc9LTE4MCx0aGlzLm1heExuZz0xODAsdCYmKHRoaXMubWluTGF0PXQuZ2V0U291dGgoKSx0aGlzLm1heExhdD10LmdldE5vcnRoKCksdGhpcy5taW5Mbmc9dC5nZXRXZXN0KCksdGhpcy5tYXhMbmc9dC5nZXRFYXN0KCksdGhpcy5tYXhMbmc8dGhpcy5taW5MbmcmJih0aGlzLm1heExuZys9MzYwKSksdGhpcy53b3JsZE1pblg9ZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMubWluTG5nKSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNYXhYPWUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLm1heExuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWluWT1lLm1lcmNhdG9yWWZyb21MYXQodGhpcy5tYXhMYXQpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFk9ZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMubWluTGF0KSp0aGlzLnRpbGVTaXplLHRoaXMuX2NvbnN0cmFpbigpfWNhbGN1bGF0ZVBvc01hdHJpeChlLHQpe3JldHVybiB0aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHQsZSl9Y2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YSh0KXtjb25zdCByPXQua2V5LG49dGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlO2lmKG5bcl0pcmV0dXJuIG5bcl07Y29uc3QgaT10LmNhbm9uaWNhbCxvPTEvdGhpcy5oZWlnaHQsYT10aGlzLmNhbWVyYVdvcmxkU2l6ZS90aGlzLnpvb21TY2FsZShpLnopLHM9KGkueCtNYXRoLnBvdygyLGkueikqdC53cmFwKSphLGw9aS55KmEsYz10aGlzLnBvaW50LHU9dGhpcy5hbmdsZSxoPU1hdGguc2luKC11KSxkPS1NYXRoLmNvcygtdSk7cmV0dXJuIG5bcl09e2JlYXJpbmc6W2gsZF0sY2VudGVyOlsoYy54LXMpKm8sKGMueS1sKSpvXSxzY2FsZTphL2UuRVhURU5UKm99LG5bcl19Y2FsY3VsYXRlRm9nVGlsZU1hdHJpeCh0KXtjb25zdCByPXQua2V5LG49dGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlO2lmKG5bcl0pcmV0dXJuIG5bcl07Y29uc3QgaT10aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHRoaXMuY2FtZXJhV29ybGRTaXplLHQpO3JldHVybiBlLm11bHRpcGx5KGksdGhpcy53b3JsZFRvRm9nTWF0cml4LGkpLG5bcl09bmV3IEZsb2F0MzJBcnJheShpKSxuW3JdfWNhbGN1bGF0ZVByb2pNYXRyaXgodCxyPSExKXtjb25zdCBuPXQua2V5LGk9cj90aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlOnRoaXMuX3Byb2pNYXRyaXhDYWNoZTtpZihpW25dKXJldHVybiBpW25dO2NvbnN0IG89dGhpcy5jYWxjdWxhdGVQb3NNYXRyaXgodCx0aGlzLndvcmxkU2l6ZSk7cmV0dXJuIGUubXVsdGlwbHkobyx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP3RoaXMubWVyY2F0b3JNYXRyaXg6cj90aGlzLmFsaWduZWRQcm9qTWF0cml4OnRoaXMucHJvak1hdHJpeCxvKSxpW25dPW5ldyBGbG9hdDMyQXJyYXkobyksaVtuXX1jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KXtjb25zdCByPXQudGlsZUlELmtleSxuPXRoaXMuX3BpeGVsc1RvVGlsZVVuaXRzQ2FjaGU7aWYobltyXSlyZXR1cm4gbltyXTtjb25zdCBpPWZ1bmN0aW9uKHQscil7Y29uc3R7c2NhbGU6bn09dC50aWxlVHJhbnNmb3JtLGk9biplLkVYVEVOVC8odC50aWxlU2l6ZSpNYXRoLnBvdygyLHIuem9vbS10LnRpbGVJRC5vdmVyc2NhbGVkWit0LnRpbGVJRC5jYW5vbmljYWwueikpO3JldHVybiBvPW5ldyBGbG9hdDMyQXJyYXkoNCksbD0oYT1yLmludmVyc2VBZGp1c3RtZW50TWF0cml4KVsxXSxjPWFbMl0sdT1hWzNdLGQ9KHM9W2ksaV0pWzFdLG9bMF09YVswXSooaD1zWzBdKSxvWzFdPWwqaCxvWzJdPWMqZCxvWzNdPXUqZCxvO3ZhciBvLGEscyxsLGMsdSxoLGR9KHQsdGhpcyk7cmV0dXJuIG5bcl09aSxuW3JdfWN1c3RvbUxheWVyTWF0cml4KCl7cmV0dXJuIHRoaXMubWVyY2F0b3JNYXRyaXguc2xpY2UoKX1yZWNlbnRlck9uVGVycmFpbigpe2lmKCF0aGlzLl9lbGV2YXRpb258fFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IHI9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxuPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihyKSxpPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCksbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpO25bMl0vPW8saVsyXS89byxlLm5vcm1hbGl6ZShpLGkpO2NvbnN0IGE9dC5yYXljYXN0KG4saSx0LmV4YWdnZXJhdGlvbigpKTtpZihhKXtjb25zdCB0PWUuc2NhbGVBbmRBZGQoW10sbixpLGEpLHI9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSxlLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0WzJdLGUubGF0RnJvbU1lcmNhdG9yWSh0WzFdKSkpLHM9KHIueitlLmxlbmd0aChbci54LW5bMF0sci55LW5bMV0sci56LW5bMl0qb10pKSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO3RoaXMuX3NlYUxldmVsWm9vbT10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKSx0aGlzLl9jZW50ZXJBbHRpdHVkZT1yLnRvQWx0aXR1ZGUoKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24ociksdGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX19X2NvbnN0cmFpbkNhbWVyYUFsdGl0dWRlKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm47Y29uc3QgdD10aGlzLl9lbGV2YXRpb247dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCByPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsbj10aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24ociksaT10LmdldEF0UG9pbnRPclplcm8obmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC4uLm4pKSxvPXRoaXMuX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpKk1hdGguY29zKGUuZGVnVG9SYWQodGhpcy5fbWF4UGl0Y2gpKSxhPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS10aGlzLnBpeGVsc1Blck1ldGVyL3RoaXMud29ybGRTaXplKmk7aWYoYTxvKXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuX2NlbnRlcix0aGlzLl9jZW50ZXJBbHRpdHVkZSkscj1bdC54LW5bMF0sdC55LW5bMV0sdC56LW5bMl1dLGk9ZS5sZW5ndGgocik7clsyXS09KG8tYSkvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjb25zdCBzPWUubGVuZ3RoKHIpO2lmKDA9PT1zKXJldHVybjtlLnNjYWxlJDIocixyLGkvcyp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSx0aGlzLl9jYW1lcmEucG9zaXRpb249W3QueC1yWzBdLHQueS1yWzFdLHQueip0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLXJbMl1dLHRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbj1WbihyLHRoaXMuX2NhbWVyYS51cCgpKSx0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKX19X2NvbnN0cmFpbigpe2lmKCF0aGlzLmNlbnRlcnx8IXRoaXMud2lkdGh8fCF0aGlzLmhlaWdodHx8dGhpcy5fY29uc3RyYWluaW5nKXJldHVybjt0aGlzLl9jb25zdHJhaW5pbmc9ITA7Y29uc3QgdD1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZXx8dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2V8fHQpe2NvbnN0IHI9dGhpcy5jZW50ZXI7cmV0dXJuIHIubGF0PWUuY2xhbXAoci5sYXQsdGhpcy5taW5MYXQsdGhpcy5tYXhMYXQpLCh0aGlzLm1heEJvdW5kc3x8IXRoaXMucmVuZGVyV29ybGRDb3BpZXMmJiF0KSYmKHIubG5nPWUuY2xhbXAoci5sbmcsdGhpcy5taW5MbmcsdGhpcy5tYXhMbmcpKSx0aGlzLmNlbnRlcj1yLHZvaWQodGhpcy5fY29uc3RyYWluaW5nPSExKX1jb25zdCByPXRoaXMuX3VubW9kaWZpZWQse3g6bix5Oml9PXRoaXMucG9pbnQ7bGV0IG89MCxhPW4scz1pO2NvbnN0IGw9dGhpcy53aWR0aC8yLGM9dGhpcy5oZWlnaHQvMix1PXRoaXMud29ybGRNaW5ZKnRoaXMuc2NhbGUsaD10aGlzLndvcmxkTWF4WSp0aGlzLnNjYWxlO2lmKGktYzx1JiYocz11K2MpLGkrYz5oJiYocz1oLWMpLGgtdTx0aGlzLmhlaWdodCYmKG89TWF0aC5tYXgobyx0aGlzLmhlaWdodC8oaC11KSkscz0oaCt1KS8yKSx0aGlzLm1heEJvdW5kc3x8IXRoaXMuX3JlbmRlcldvcmxkQ29waWVzfHwhdGhpcy5wcm9qZWN0aW9uLndyYXApe2NvbnN0IGU9dGhpcy53b3JsZE1pblgqdGhpcy5zY2FsZSx0PXRoaXMud29ybGRNYXhYKnRoaXMuc2NhbGUscj10aGlzLndvcmxkU2l6ZS8yLShlK3QpLzI7YT0obityK3RoaXMud29ybGRTaXplKSV0aGlzLndvcmxkU2l6ZS1yLGEtbDxlJiYoYT1lK2wpLGErbD50JiYoYT10LWwpLHQtZTx0aGlzLndpZHRoJiYobz1NYXRoLm1heChvLHRoaXMud2lkdGgvKHQtZSkpLGE9KHQrZSkvMil9YT09PW4mJnM9PT1pfHwodGhpcy5jZW50ZXI9dGhpcy51bnByb2plY3QobmV3IGUucG9pbnRHZW9tZXRyeShhLHMpKSksbyYmKHRoaXMuem9vbSs9dGhpcy5zY2FsZVpvb20obykpLHRoaXMuX2NvbnN0cmFpbkNhbWVyYUFsdGl0dWRlKCksdGhpcy5fdW5tb2RpZmllZD1yLHRoaXMuX2NvbnN0cmFpbmluZz0hMX1fbWluWm9vbUZvckJvdW5kcygpe2xldCBlPU1hdGgubWF4KDAsdGhpcy5zY2FsZVpvb20odGhpcy5oZWlnaHQvKHRoaXMud29ybGRNYXhZLXRoaXMud29ybGRNaW5ZKSkpO3JldHVybiB0aGlzLm1heEJvdW5kcyYmKGU9TWF0aC5tYXgoZSx0aGlzLnNjYWxlWm9vbSh0aGlzLndpZHRoLyh0aGlzLndvcmxkTWF4WC10aGlzLndvcmxkTWluWCkpKSksZX1fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWluWm9vbUZvckJvdW5kcygpKX1fY2FsY01hdHJpY2VzKCl7aWYoIXRoaXMuaGVpZ2h0KXJldHVybjtjb25zdCB0PXRoaXMuY2VudGVyT2Zmc2V0LHI9dGhpcy5waXhlbHNQZXJNZXRlcjtcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCkvZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSxlLkdMT0JFX1NDQUxFX01BVENIX0xBVElUVURFKSk7Y29uc3Qgbj1Xbih0aGlzLnByb2plY3Rpb24sdGhpcy56b29tLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMTAyNCk7dGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbD10aGlzLnByb2plY3Rpb24ucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplLG4pLHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZT0uNS9NYXRoLnRhbiguNSp0aGlzLl9mb3YpKnRoaXMuaGVpZ2h0KnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKSx0aGlzLl9mYXJaPXRoaXMucHJvamVjdGlvbi5mYXJ0aGVzdFBpeGVsRGlzdGFuY2UodGhpcyksdGhpcy5fbmVhclo9dGhpcy5oZWlnaHQvNTA7Y29uc3QgaT10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09dGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdD9yOjEpLG89dGhpcy5fY2FtZXJhLmdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuX25lYXJaLHRoaXMuX2ZhclopO29bOF09MiotdC54L3RoaXMud2lkdGgsb1s5XT0yKnQueS90aGlzLmhlaWdodDtsZXQgYT1lLm11bChbXSxvLGkpO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IHQ9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLHI9ZS5pZGVudGl0eShbXSk7ZS50cmFuc2xhdGUocixyLFt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLDBdKSxlLm11bHRpcGx5KHIscixabih0aGlzKSksZS50cmFuc2xhdGUocixyLFstdC54KnRoaXMud29ybGRTaXplLC10LnkqdGhpcy53b3JsZFNpemUsMF0pLGUubXVsdGlwbHkoYSxhLHIpLHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3QgdD1abihlLCEwKTtyZXR1cm4geShbXSxbdFswXSx0WzFdLHRbNF0sdFs1XV0pfSh0aGlzKX1lbHNlIHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9WzEsMCwwLDFdO3RoaXMubWVyY2F0b3JNYXRyaXg9ZS5zY2FsZShbXSxhLFt0aGlzLndvcmxkU2l6ZSx0aGlzLndvcmxkU2l6ZSx0aGlzLndvcmxkU2l6ZS9yLDFdKSx0aGlzLnByb2pNYXRyaXg9YSx0aGlzLmludlByb2pNYXRyaXg9ZS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5wcm9qTWF0cml4KTtjb25zdCBzPWUuaW52ZXJ0KFtdLG8pO3RoaXMuZnJ1c3R1bUNvcm5lcnM9ZS5GcnVzdHVtQ29ybmVycy5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChzLHRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCksdGhpcy5oZWlnaHQpO2NvbnN0IGw9bmV3IEZsb2F0MzJBcnJheSgxNik7ZS5pZGVudGl0eShsKSxlLnNjYWxlKGwsbCxbMSwtMSwxXSksZS5yb3RhdGVYKGwsbCx0aGlzLl9waXRjaCksZS5yb3RhdGVaKGwsbCx0aGlzLmFuZ2xlKTtjb25zdCBjPWUucGVyc3BlY3RpdmUobmV3IEZsb2F0MzJBcnJheSgxNiksdGhpcy5fZm92LHRoaXMud2lkdGgvdGhpcy5oZWlnaHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWiksdT0oTWF0aC5QSS8yLXRoaXMuX3BpdGNoKSoodGhpcy5oZWlnaHQvdGhpcy5fZm92KSp0aGlzLl9ob3Jpem9uU2hpZnQ7Y1s4XT0yKi10LngvdGhpcy53aWR0aCxjWzldPTIqKHQueSt1KS90aGlzLmhlaWdodCx0aGlzLnNreWJveE1hdHJpeD1lLm11bHRpcGx5KGwsYyxsKTtjb25zdCBoPXRoaXMucG9pbnQsZD1oLngscD1oLnksZj10aGlzLndpZHRoJTIvMixtPXRoaXMuaGVpZ2h0JTIvMixnPU1hdGguY29zKHRoaXMuYW5nbGUpLF89TWF0aC5zaW4odGhpcy5hbmdsZSksdj1kLU1hdGgucm91bmQoZCkrZypmK18qbSx4PXAtTWF0aC5yb3VuZChwKStnKm0rXypmLGI9bmV3IEZsb2F0NjRBcnJheShhKTtpZihlLnRyYW5zbGF0ZShiLGIsW3Y+LjU/di0xOnYseD4uNT94LTE6eCwwXSksdGhpcy5hbGlnbmVkUHJvak1hdHJpeD1iLGE9ZS5jcmVhdGUoKSxlLnNjYWxlKGEsYSxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSxlLnRyYW5zbGF0ZShhLGEsWzEsLTEsMF0pLHRoaXMubGFiZWxQbGFuZU1hdHJpeD1hLGE9ZS5jcmVhdGUoKSxlLnNjYWxlKGEsYSxbMSwtMSwxXSksZS50cmFuc2xhdGUoYSxhLFstMSwtMSwwXSksZS5zY2FsZShhLGEsWzIvdGhpcy53aWR0aCwyL3RoaXMuaGVpZ2h0LDFdKSx0aGlzLmdsQ29vcmRNYXRyaXg9YSx0aGlzLnBpeGVsTWF0cml4PWUubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5sYWJlbFBsYW5lTWF0cml4LHRoaXMucHJvak1hdHJpeCksdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9LGE9ZS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5waXhlbE1hdHJpeCksIWEpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGludmVydCBtYXRyaXhcIik7aWYodGhpcy5waXhlbE1hdHJpeEludmVyc2U9YSxcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZXx8dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uKXt0aGlzLmdsb2JlTWF0cml4PWUuY2FsY3VsYXRlR2xvYmVNYXRyaXgodGhpcyk7Y29uc3QgdD1bdGhpcy5nbG9iZU1hdHJpeFsxMl0sdGhpcy5nbG9iZU1hdHJpeFsxM10sdGhpcy5nbG9iZU1hdHJpeFsxNF1dO3RoaXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZT1lLnRyYW5zZm9ybU1hdDQodCx0LGkpLHRoaXMuZ2xvYmVSYWRpdXM9dGhpcy53b3JsZFNpemUvMi9NYXRoLlBJLTF9ZWxzZSB0aGlzLmdsb2JlTWF0cml4PWE7dGhpcy5fcHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZT17fX1fY2FsY0ZvZ01hdHJpY2VzKCl7dGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlPXt9O2NvbnN0IHQ9dGhpcy5jYW1lcmFXb3JsZFNpemUscj10aGlzLmNhbWVyYVBpeGVsc1Blck1ldGVyLG49dGhpcy5fY2FtZXJhLnBvc2l0aW9uLGk9MS90aGlzLmhlaWdodC90aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLG89W3QsdCxyXTtlLnNjYWxlJDIobyxvLGkpLGUuc2NhbGUkMihuLG4sLTEpLGUubXVsdGlwbHkkMihuLG4sbyk7Y29uc3QgYT1lLmNyZWF0ZSgpO2UudHJhbnNsYXRlKGEsYSxuKSxlLnNjYWxlKGEsYSxvKSx0aGlzLm1lcmNhdG9yRm9nTWF0cml4PWEsdGhpcy53b3JsZFRvRm9nTWF0cml4PXRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhUG9zaXRpb24odCxyLGkpfV9jb21wdXRlQ2FtZXJhUG9zaXRpb24oZSl7Y29uc3QgdD0oZT1lfHx0aGlzLnBpeGVsc1Blck1ldGVyKS90aGlzLnBpeGVsc1Blck1ldGVyLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSxuPXRoaXMucG9pbnQsaT10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9zZWFMZXZlbFpvb20/dGhpcy5fc2VhTGV2ZWxab29tOnRoaXMuX3pvb20pKnQtZS90aGlzLndvcmxkU2l6ZSp0aGlzLl9jZW50ZXJBbHRpdHVkZTtyZXR1cm5bbi54L3RoaXMud29ybGRTaXplLXJbMF0qaSxuLnkvdGhpcy53b3JsZFNpemUtclsxXSppLGUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGUtclsyXSppXX1fdXBkYXRlQ2FtZXJhU3RhdGUoKXt0aGlzLmhlaWdodCYmKHRoaXMuX2NhbWVyYS5zZXRQaXRjaEJlYXJpbmcodGhpcy5fcGl0Y2gsdGhpcy5hbmdsZSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpKX1fdHJhbnNsYXRlQ2FtZXJhQ29uc3RyYWluZWQodCl7Y29uc3Qgcj10aGlzLl9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpKk1hdGguY29zKHRoaXMuX3BpdGNoKSxuPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXSxpPXRbMl07bGV0IG89MTt0aGlzLnByb2plY3Rpb24ud3JhcCYmKHRoaXMuY2VudGVyPXRoaXMuY2VudGVyLndyYXAoKSksaT4wJiYobz1NYXRoLm1pbigoci1uKS9pLDEpKSx0aGlzLl9jYW1lcmEucG9zaXRpb249ZS5zY2FsZUFuZEFkZChbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24sdCxvKSx0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKX1fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl7Y29uc3QgdD10aGlzLl9jYW1lcmEucG9zaXRpb24scj10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLHtwaXRjaDpuLGJlYXJpbmc6aX09dGhpcy5fY2FtZXJhLmdldFBpdGNoQmVhcmluZygpLG89ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUodGhpcy5fY2VudGVyQWx0aXR1ZGUsdGhpcy5jZW50ZXIubGF0KSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLGE9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSkqTWF0aC5jb3MoZS5kZWdUb1JhZCh0aGlzLl9tYXhQaXRjaCkpLHM9TWF0aC5tYXgoKHRbMl0tbykvTWF0aC5jb3MobiksYSksbD10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKTtlLnNjYWxlQW5kQWRkKHQsdCxyLHMpLHRoaXMuX3BpdGNoPWUuY2xhbXAobixlLmRlZ1RvUmFkKHRoaXMubWluUGl0Y2gpLGUuZGVnVG9SYWQodGhpcy5tYXhQaXRjaCkpLHRoaXMuYW5nbGU9ZS53cmFwKGksLU1hdGguUEksTWF0aC5QSSksdGhpcy5fc2V0Wm9vbShlLmNsYW1wKGwsdGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tKSksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCksdGhpcy5fY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSkpLHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCl9X3dvcmxkU2l6ZUZyb21ab29tKGUpe3JldHVybiBNYXRoLnBvdygyLGUpKnRoaXMudGlsZVNpemV9X21lcmNhdG9yWmZyb21ab29tKGUpe3JldHVybiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdGhpcy5fd29ybGRTaXplRnJvbVpvb20oZSl9X21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpe2NvbnN0IGU9TWF0aC5taW4oKG51bGwhPXRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkrMix0aGlzLl9tYXhab29tKTtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSl9X3pvb21Gcm9tTWVyY2F0b3JaKGUpe3JldHVybiB0aGlzLnNjYWxlWm9vbSh0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvKGUqdGhpcy50aWxlU2l6ZSkpfXpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoZSl7Y29uc3QgdD10PT57Y29uc3Qgcj10aGlzLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UodGhpcy5wcm9qZWN0aW9uLHQpO3JldHVybiB0aGlzLnNjYWxlWm9vbShyLyhlKnRoaXMudGlsZVNpemUpKX07bGV0IHIsbj10KHRoaXMuem9vbSksaT1NYXRoLmFicyhuLXQobikpO2Zvcig7ciE9PWk7KW49dChuKSxyPWksaT1NYXRoLmFicyhuLXQobikpO3JldHVybiBufV90ZXJyYWluRW5hYmxlZCgpe3JldHVybiEoIXRoaXMuX2VsZXZhdGlvbnx8IXRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW4mJihlLndhcm5PbmNlKFwiVGVycmFpbiBpcyBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIGFsdGVybmF0ZSBwcm9qZWN0aW9ucy4gVXNlIG1lcmNhdG9yIG9yIGdsb2JlIHRvIGVuYWJsZSB0ZXJyYWluLlwiKSwxKSl9YW55Q29ybmVyT2ZmRWRnZSh0LHIpe2NvbnN0IG49TWF0aC5taW4odC54LHIueCksaT1NYXRoLm1heCh0Lngsci54KSxvPU1hdGgubWluKHQueSxyLnkpLGE9TWF0aC5tYXgodC55LHIueSk7aWYobzx0aGlzLmhvcml6b25MaW5lRnJvbVRvcCghMSkpcmV0dXJuITA7aWYoXCJtZXJjYXRvclwiIT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuITE7Y29uc3Qgcz1bbmV3IGUucG9pbnRHZW9tZXRyeShuLG8pLG5ldyBlLnBvaW50R2VvbWV0cnkoaSxhKSxuZXcgZS5wb2ludEdlb21ldHJ5KG4sYSksbmV3IGUucG9pbnRHZW9tZXRyeShpLG8pXSxsPXRoaXMucmVuZGVyV29ybGRDb3BpZXM/LTM6MCxjPXRoaXMucmVuZGVyV29ybGRDb3BpZXM/NDoxO2Zvcihjb25zdCBlIG9mIHMpe2NvbnN0IHQ9dGhpcy5wb2ludFJheUludGVyc2VjdGlvbihlKTtpZih0LnQ8MClyZXR1cm4hMDtjb25zdCByPXRoaXMucmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZSh0KTtpZihyLng8bHx8ci55PDB8fHIueD5jfHxyLnk+MSlyZXR1cm4hMH1yZXR1cm4hMX1pc0hvcml6b25WaXNpYmxlKCl7cmV0dXJuIHRoaXMucGl0Y2grZS5yYWRUb0RlZyh0aGlzLmZvdkFib3ZlQ2VudGVyKT44OHx8dGhpcy5hbnlDb3JuZXJPZmZFZGdlKG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKX16b29tRGVsdGFUb01vdmVtZW50KHQscil7Y29uc3Qgbj1lLmxlbmd0aChlLnN1YihbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24sdCkpLGk9dGhpcy5fem9vbUZyb21NZXJjYXRvcloobikrcjtyZXR1cm4gbi10aGlzLl9tZXJjYXRvclpmcm9tWm9vbShpKX1nZXRDYW1lcmFQb2ludCgpe2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCB0PWZ1bmN0aW9uKHQscil7Y29uc3Qgbj1bdFswXSx0WzFdLHRbMl0sMV07ZS50cmFuc2Zvcm1NYXQ0JDEobixuLHIpO2NvbnN0IGk9TWF0aC5tYXgoblszXSwxZS02KTtyZXR1cm5bblswXS9pLG5bMV0vaSxuWzJdL2ksaV19KFt0aGlzLmdsb2JlTWF0cml4WzEyXSx0aGlzLmdsb2JlTWF0cml4WzEzXSx0aGlzLmdsb2JlTWF0cml4WzE0XV0sdGhpcy5waXhlbE1hdHJpeCk7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKX17Y29uc3QgdD1NYXRoLnRhbih0aGlzLl9waXRjaCkqKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZXx8MSk7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuYWRkKG5ldyBlLnBvaW50R2VvbWV0cnkoMCx0KSl9fWdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoZSx0PXRoaXMuem9vbSl7Y29uc3Qgcj1XbihlLHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwxMDI0KSxuPWUucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplLHIpO3JldHVybi41L01hdGgudGFuKC41KnRoaXMuX2ZvdikqdGhpcy5oZWlnaHQqbn1nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCl7Y29uc3QgdD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09dGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdD90aGlzLnBpeGVsc1Blck1ldGVyOjEpO3JldHVyblwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lJiZlLm11bHRpcGx5KHQsdCx0aGlzLmdsb2JlTWF0cml4KSx0fX1mdW5jdGlvbiBKbihlLHQpe2xldCByPSExLG49bnVsbDtjb25zdCBpPSgpPT57bj1udWxsLHImJihlKCksbj1zZXRUaW1lb3V0KGksdCkscj0hMSl9O3JldHVybigpPT4ocj0hMCxufHxpKCksbil9Y2xhc3MgUW57Y29uc3RydWN0b3IodCl7dGhpcy5faGFzaE5hbWU9dCYmZW5jb2RlVVJJQ29tcG9uZW50KHQpLGUuYmluZEFsbChbXCJfZ2V0Q3VycmVudEhhc2hcIixcIl9vbkhhc2hDaGFuZ2VcIixcIl91cGRhdGVIYXNoXCJdLHRoaXMpLHRoaXMuX3VwZGF0ZUhhc2g9Sm4odGhpcy5fdXBkYXRlSGFzaFVudGhyb3R0bGVkLmJpbmQodGhpcyksMzAwKX1hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0aGlzLl9vbkhhc2hDaGFuZ2UsITEpLHQub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc31yZW1vdmUoKXtyZXR1cm4gdGhpcy5fbWFwPyh0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUhhc2gpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSxjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlSGFzaCgpKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMpOnRoaXN9Z2V0SGFzaFN0cmluZygpe2NvbnN0IHQ9dGhpcy5fbWFwO2lmKCF0KXJldHVyblwiXCI7Y29uc3Qgcj1laSh0KTtpZih0aGlzLl9oYXNoTmFtZSl7Y29uc3QgdD10aGlzLl9oYXNoTmFtZTtsZXQgbj0hMTtjb25zdCBpPWUud2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkuc3BsaXQoXCImXCIpLm1hcChlPT57Y29uc3QgaT1lLnNwbGl0KFwiPVwiKVswXTtyZXR1cm4gaT09PXQ/KG49ITAsYCR7aX09JHtyfWApOmV9KS5maWx0ZXIoZT0+ZSk7cmV0dXJuIG58fGkucHVzaChgJHt0fT0ke3J9YCksXCIjXCIraS5qb2luKFwiJlwiKX1yZXR1cm5cIiNcIityfV9nZXRDdXJyZW50SGFzaCgpe2NvbnN0IHQ9ZS53aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKHRoaXMuX2hhc2hOYW1lKXtsZXQgZTtyZXR1cm4gdC5zcGxpdChcIiZcIikubWFwKGU9PmUuc3BsaXQoXCI9XCIpKS5mb3JFYWNoKHQ9Pnt0WzBdPT09dGhpcy5faGFzaE5hbWUmJihlPXQpfSksKGUmJmVbMV18fFwiXCIpLnNwbGl0KFwiL1wiKX1yZXR1cm4gdC5zcGxpdChcIi9cIil9X29uSGFzaENoYW5nZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5fZ2V0Q3VycmVudEhhc2goKTtpZih0Lmxlbmd0aD49MyYmIXQuc29tZShlPT5pc05hTihlKSkpe2NvbnN0IHI9ZS5kcmFnUm90YXRlLmlzRW5hYmxlZCgpJiZlLnRvdWNoWm9vbVJvdGF0ZS5pc0VuYWJsZWQoKT8rKHRbM118fDApOmUuZ2V0QmVhcmluZygpO3JldHVybiBlLmp1bXBUbyh7Y2VudGVyOlsrdFsyXSwrdFsxXV0sem9vbTordFswXSxiZWFyaW5nOnIscGl0Y2g6Kyh0WzRdfHwwKX0pLCEwfXJldHVybiExfV91cGRhdGVIYXNoVW50aHJvdHRsZWQoKXtjb25zdCB0PWUud2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sdGhpcy5nZXRIYXNoU3RyaW5nKCkpO2Uud2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGUud2luZG93Lmhpc3Rvcnkuc3RhdGUsbnVsbCx0KX19ZnVuY3Rpb24gZWkoZSx0KXtjb25zdCByPWUuZ2V0Q2VudGVyKCksbj1NYXRoLnJvdW5kKDEwMCplLmdldFpvb20oKSkvMTAwLGk9TWF0aC5jZWlsKChuKk1hdGguTE4yK01hdGgubG9nKDUxMi8zNjAvLjUpKS9NYXRoLkxOMTApLG89TWF0aC5wb3coMTAsaSksYT1NYXRoLnJvdW5kKHIubG5nKm8pL28scz1NYXRoLnJvdW5kKHIubGF0Km8pL28sbD1lLmdldEJlYXJpbmcoKSxjPWUuZ2V0UGl0Y2goKTtsZXQgdT10P2AvJHthfS8ke3N9LyR7bn1gOmAke259LyR7c30vJHthfWA7cmV0dXJuKGx8fGMpJiYodSs9XCIvXCIrTWF0aC5yb3VuZCgxMCpsKS8xMCksYyYmKHUrPVwiL1wiK01hdGgucm91bmQoYykpLHV9Y29uc3QgdGk9e2xpbmVhcml0eTouMyxlYXNpbmc6ZS5iZXppZXIoMCwwLC4zLDEpfSxyaT1lLmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjI1MDAsbWF4U3BlZWQ6MTQwMH0sdGkpLG5pPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MjAsbWF4U3BlZWQ6MTQwMH0sdGkpLGlpPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MWUzLG1heFNwZWVkOjM2MH0sdGkpLG9pPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MWUzLG1heFNwZWVkOjkwfSx0aSk7Y2xhc3MgYWl7Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWUsdGhpcy5jbGVhcigpfWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXX1yZWNvcmQodCl7dGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCksdGhpcy5faW5lcnRpYUJ1ZmZlci5wdXNoKHt0aW1lOmUuZXhwb3J0ZWQubm93KCksc2V0dGluZ3M6dH0pfV9kcmFpbkluZXJ0aWFCdWZmZXIoKXtjb25zdCB0PXRoaXMuX2luZXJ0aWFCdWZmZXIscj1lLmV4cG9ydGVkLm5vdygpO2Zvcig7dC5sZW5ndGg+MCYmci10WzBdLnRpbWU+MTYwOyl0LnNoaWZ0KCl9X29uTW92ZUVuZCh0KXtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLmxlbmd0aDwyKXJldHVybjtjb25zdCByPXt6b29tOjAsYmVhcmluZzowLHBpdGNoOjAscGFuOm5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH07Zm9yKGNvbnN0e3NldHRpbmdzOmV9b2YgdGhpcy5faW5lcnRpYUJ1ZmZlcilyLnpvb20rPWUuem9vbURlbHRhfHwwLHIuYmVhcmluZys9ZS5iZWFyaW5nRGVsdGF8fDAsci5waXRjaCs9ZS5waXRjaERlbHRhfHwwLGUucGFuRGVsdGEmJnIucGFuLl9hZGQoZS5wYW5EZWx0YSksZS5hcm91bmQmJihyLmFyb3VuZD1lLmFyb3VuZCksZS5waW5jaEFyb3VuZCYmKHIucGluY2hBcm91bmQ9ZS5waW5jaEFyb3VuZCk7Y29uc3Qgbj10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLGk9e307aWYoci5wYW4ubWFnKCkpe2NvbnN0IG89bGkoci5wYW4ubWFnKCksbixlLmV4dGVuZCh7fSxyaSx0fHx7fSkpO2kub2Zmc2V0PXIucGFuLm11bHQoby5hbW91bnQvci5wYW4ubWFnKCkpLGkuY2VudGVyPXRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyLHNpKGksbyl9aWYoci56b29tKXtjb25zdCBlPWxpKHIuem9vbSxuLG5pKTtpLnpvb209dGhpcy5fbWFwLnRyYW5zZm9ybS56b29tK2UuYW1vdW50LHNpKGksZSl9aWYoci5iZWFyaW5nKXtjb25zdCB0PWxpKHIuYmVhcmluZyxuLGlpKTtpLmJlYXJpbmc9dGhpcy5fbWFwLnRyYW5zZm9ybS5iZWFyaW5nK2UuY2xhbXAodC5hbW91bnQsLTE3OSwxNzkpLHNpKGksdCl9aWYoci5waXRjaCl7Y29uc3QgZT1saShyLnBpdGNoLG4sb2kpO2kucGl0Y2g9dGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCtlLmFtb3VudCxzaShpLGUpfWlmKGkuem9vbXx8aS5iZWFyaW5nKXtjb25zdCBlPXZvaWQgMD09PXIucGluY2hBcm91bmQ/ci5hcm91bmQ6ci5waW5jaEFyb3VuZDtpLmFyb3VuZD1lP3RoaXMuX21hcC51bnByb2plY3QoZSk6dGhpcy5fbWFwLmdldENlbnRlcigpfXJldHVybiB0aGlzLmNsZWFyKCksaS5ub01vdmVTdGFydD0hMCxpfX1mdW5jdGlvbiBzaShlLHQpeyghZS5kdXJhdGlvbnx8ZS5kdXJhdGlvbjx0LmR1cmF0aW9uKSYmKGUuZHVyYXRpb249dC5kdXJhdGlvbixlLmVhc2luZz10LmVhc2luZyl9ZnVuY3Rpb24gbGkodCxyLG4pe2NvbnN0e21heFNwZWVkOmksbGluZWFyaXR5Om8sZGVjZWxlcmF0aW9uOmF9PW4scz1lLmNsYW1wKHQqby8oci8xZTMpLC1pLGkpLGw9TWF0aC5hYnMocykvKGEqbyk7cmV0dXJue2Vhc2luZzpuLmVhc2luZyxkdXJhdGlvbjoxZTMqbCxhbW91bnQ6cyoobC8yKX19Y2xhc3MgY2kgZXh0ZW5kcyBlLkV2ZW50e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMH1nZXQgZGVmYXVsdFByZXZlbnRlZCgpe3JldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkfWNvbnN0cnVjdG9yKHQscixuLGk9e30pe2NvbnN0IG89ZihyLmdldENhbnZhc0NvbnRhaW5lcigpLG4pLGE9ci51bnByb2plY3Qobyk7c3VwZXIodCxlLmV4dGVuZCh7cG9pbnQ6byxsbmdMYXQ6YSxvcmlnaW5hbEV2ZW50Om59LGkpKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PXJ9fWNsYXNzIHVpIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITB9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3Rvcih0LHIsbil7Y29uc3QgaT1cInRvdWNoZW5kXCI9PT10P24uY2hhbmdlZFRvdWNoZXM6bi50b3VjaGVzLG89bShyLmdldENhbnZhc0NvbnRhaW5lcigpLGkpLGE9by5tYXAoZT0+ci51bnByb2plY3QoZSkpLHM9by5yZWR1Y2UoKGUsdCxyLG4pPT5lLmFkZCh0LmRpdihuLmxlbmd0aCkpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSk7c3VwZXIodCx7cG9pbnRzOm8scG9pbnQ6cyxsbmdMYXRzOmEsbG5nTGF0OnIudW5wcm9qZWN0KHMpLG9yaWdpbmFsRXZlbnQ6bn0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITF9fWNsYXNzIGhpIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITB9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx7b3JpZ2luYWxFdmVudDpyfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMX19Y2xhc3MgZGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9tYXA9ZSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlfXJlc2V0KCl7dGhpcy5fbW91c2Vkb3duUG9zPXZvaWQgMH13aGVlbChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBoaShlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZWRvd24oZSx0KXtyZXR1cm4gdGhpcy5fbW91c2Vkb3duUG9zPXQsdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBjaShlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZXVwKGUpe3RoaXMuX21hcC5maXJlKG5ldyBjaShlLnR5cGUsdGhpcy5fbWFwLGUpKX1wcmVjbGljayh0KXtjb25zdCByPWUuZXh0ZW5kKHt9LHQpO3IudHlwZT1cInByZWNsaWNrXCIsdGhpcy5fbWFwLmZpcmUobmV3IGNpKHIudHlwZSx0aGlzLl9tYXAscikpfWNsaWNrKGUsdCl7dGhpcy5fbW91c2Vkb3duUG9zJiZ0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdCh0KT49dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLnByZWNsaWNrKGUpLHRoaXMuX21hcC5maXJlKG5ldyBjaShlLnR5cGUsdGhpcy5fbWFwLGUpKSl9ZGJsY2xpY2soZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2VvdmVyKGUpe3RoaXMuX21hcC5maXJlKG5ldyBjaShlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZW91dChlKXt0aGlzLl9tYXAuZmlyZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2hzdGFydChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyB1aShlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaG1vdmUoZSl7dGhpcy5fbWFwLmZpcmUobmV3IHVpKGUudHlwZSx0aGlzLl9tYXAsZSkpfXRvdWNoZW5kKGUpe3RoaXMuX21hcC5maXJlKG5ldyB1aShlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaGNhbmNlbChlKXt0aGlzLl9tYXAuZmlyZShuZXcgdWkoZS50eXBlLHRoaXMuX21hcCxlKSl9X2ZpcmVQcmV2ZW50YWJsZShlKXtpZih0aGlzLl9tYXAuZmlyZShlKSxlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJue319aXNFbmFibGVkKCl7cmV0dXJuITB9aXNBY3RpdmUoKXtyZXR1cm4hMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgcGl7Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWV9cmVzZXQoKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQ9dm9pZCAwfW1vdXNlbW92ZShlKXt0aGlzLl9tYXAuZmlyZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2Vkb3duKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMH1tb3VzZXVwKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMSx0aGlzLl9jb250ZXh0TWVudUV2ZW50JiYodGhpcy5fbWFwLmZpcmUobmV3IGNpKFwiY29udGV4dG1lbnVcIix0aGlzLl9tYXAsdGhpcy5fY29udGV4dE1lbnVFdmVudCkpLGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50KX1jb250ZXh0bWVudShlKXt0aGlzLl9kZWxheUNvbnRleHRNZW51P3RoaXMuX2NvbnRleHRNZW51RXZlbnQ9ZTp0aGlzLl9tYXAuZmlyZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSksdGhpcy5fbWFwLmxpc3RlbnMoXCJjb250ZXh0bWVudVwiKSYmZS5wcmV2ZW50RGVmYXVsdCgpfWlzRW5hYmxlZCgpe3JldHVybiEwfWlzQWN0aXZlKCl7cmV0dXJuITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIGZpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlfHwxfWlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiEhdGhpcy5fYWN0aXZlfWVuYWJsZSgpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwKX1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpfW1vdXNlZG93bihlLHQpe3RoaXMuaXNFbmFibGVkKCkmJmUuc2hpZnRLZXkmJjA9PT1lLmJ1dHRvbiYmKHUoKSx0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPXQsdGhpcy5fYWN0aXZlPSEwKX1tb3VzZW1vdmVXaW5kb3coZSx0KXtpZighdGhpcy5fYWN0aXZlKXJldHVybjtjb25zdCByPXQsbj10aGlzLl9zdGFydFBvcyxpPXRoaXMuX2xhc3RQb3M7aWYoIW58fCFpfHxpLmVxdWFscyhyKXx8IXRoaXMuX2JveCYmci5kaXN0KG4pPHRoaXMuX2NsaWNrVG9sZXJhbmNlKXJldHVybjt0aGlzLl9sYXN0UG9zPXIsdGhpcy5fYm94fHwodGhpcy5fYm94PW8oXCJkaXZcIixcIm1hcGJveGdsLWJveHpvb21cIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21zdGFydFwiLGUpKTtjb25zdCBhPU1hdGgubWluKG4ueCxyLngpLHM9TWF0aC5tYXgobi54LHIueCksbD1NYXRoLm1pbihuLnksci55KSxjPU1hdGgubWF4KG4ueSxyLnkpO3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9ib3gmJih0aGlzLl9ib3guc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUoJHthfXB4LCR7bH1weClgLHRoaXMuX2JveC5zdHlsZS53aWR0aD1zLWErXCJweFwiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9Yy1sK1wicHhcIil9KX1tb3VzZXVwV2luZG93KHQscil7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3Qgbj10aGlzLl9zdGFydFBvcyxpPXI7aWYobiYmMD09PXQuYnV0dG9uKXtpZih0aGlzLnJlc2V0KCkscCgpLG4ueCE9PWkueHx8bi55IT09aS55KXJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudChcImJveHpvb21lbmRcIix7b3JpZ2luYWxFdmVudDp0fSkpLHtjYW1lcmFBbmltYXRpb246ZT0+ZS5maXRTY3JlZW5Db29yZGluYXRlcyhuLGksdGhpcy5fbWFwLmdldEJlYXJpbmcoKSx7bGluZWFyOiExfSl9O3RoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIix0KX19a2V5ZG93bihlKXt0aGlzLl9hY3RpdmUmJjI3PT09ZS5rZXlDb2RlJiYodGhpcy5yZXNldCgpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIixlKSl9Ymx1cigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9ib3gmJih0aGlzLl9ib3gucmVtb3ZlKCksdGhpcy5fYm94PW51bGwpLGgoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3N9X2ZpcmVFdmVudCh0LHIpe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudCh0LHtvcmlnaW5hbEV2ZW50OnJ9KSl9fWZ1bmN0aW9uIG1pKGUsdCl7Y29uc3Qgcj17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylyW2Vbbl0uaWRlbnRpZmllcl09dFtuXTtyZXR1cm4gcn1jbGFzcyBnaXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc2V0KCksdGhpcy5udW1Ub3VjaGVzPWUubnVtVG91Y2hlc31yZXNldCgpe3RoaXMuY2VudHJvaWQ9dm9pZCAwLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy50b3VjaGVzPXt9LHRoaXMuYWJvcnRlZD0hMX10b3VjaHN0YXJ0KHQscixuKXsodGhpcy5jZW50cm9pZHx8bi5sZW5ndGg+dGhpcy5udW1Ub3VjaGVzKSYmKHRoaXMuYWJvcnRlZD0hMCksdGhpcy5hYm9ydGVkfHwoMD09PXRoaXMuc3RhcnRUaW1lJiYodGhpcy5zdGFydFRpbWU9dC50aW1lU3RhbXApLG4ubGVuZ3RoPT09dGhpcy5udW1Ub3VjaGVzJiYodGhpcy5jZW50cm9pZD1mdW5jdGlvbih0KXtjb25zdCByPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtmb3IoY29uc3QgZSBvZiB0KXIuX2FkZChlKTtyZXR1cm4gci5kaXYodC5sZW5ndGgpfShyKSx0aGlzLnRvdWNoZXM9bWkobixyKSkpfXRvdWNobW92ZShlLHQscil7aWYodGhpcy5hYm9ydGVkfHwhdGhpcy5jZW50cm9pZClyZXR1cm47Y29uc3Qgbj1taShyLHQpO2Zvcihjb25zdCBlIGluIHRoaXMudG91Y2hlcyl7Y29uc3QgdD10aGlzLnRvdWNoZXNbZV0scj1uW2VdOyghcnx8ci5kaXN0KHQpPjMwKSYmKHRoaXMuYWJvcnRlZD0hMCl9fXRvdWNoZW5kKGUsdCxyKXtpZigoIXRoaXMuY2VudHJvaWR8fGUudGltZVN0YW1wLXRoaXMuc3RhcnRUaW1lPjUwMCkmJih0aGlzLmFib3J0ZWQ9ITApLDA9PT1yLmxlbmd0aCl7Y29uc3QgZT0hdGhpcy5hYm9ydGVkJiZ0aGlzLmNlbnRyb2lkO2lmKHRoaXMucmVzZXQoKSxlKXJldHVybiBlfX19Y2xhc3MgX2l7Y29uc3RydWN0b3IoZSl7dGhpcy5zaW5nbGVUYXA9bmV3IGdpKGUpLHRoaXMubnVtVGFwcz1lLm51bVRhcHMsdGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5sYXN0VGltZT0xLzAsdGhpcy5sYXN0VGFwPXZvaWQgMCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKX10b3VjaHN0YXJ0KGUsdCxyKXt0aGlzLnNpbmdsZVRhcC50b3VjaHN0YXJ0KGUsdCxyKX10b3VjaG1vdmUoZSx0LHIpe3RoaXMuc2luZ2xlVGFwLnRvdWNobW92ZShlLHQscil9dG91Y2hlbmQoZSx0LHIpe2NvbnN0IG49dGhpcy5zaW5nbGVUYXAudG91Y2hlbmQoZSx0LHIpO2lmKG4pe2NvbnN0IHQ9ZS50aW1lU3RhbXAtdGhpcy5sYXN0VGltZTw1MDAscj0hdGhpcy5sYXN0VGFwfHx0aGlzLmxhc3RUYXAuZGlzdChuKTwzMDtpZih0JiZyfHx0aGlzLnJlc2V0KCksdGhpcy5jb3VudCsrLHRoaXMubGFzdFRpbWU9ZS50aW1lU3RhbXAsdGhpcy5sYXN0VGFwPW4sdGhpcy5jb3VudD09PXRoaXMubnVtVGFwcylyZXR1cm4gdGhpcy5yZXNldCgpLG59fX1jbGFzcyB5aXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3pvb21Jbj1uZXcgX2koe251bVRvdWNoZXM6MSxudW1UYXBzOjJ9KSx0aGlzLl96b29tT3V0PW5ldyBfaSh7bnVtVG91Y2hlczoyLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl96b29tSW4ucmVzZXQoKSx0aGlzLl96b29tT3V0LnJlc2V0KCl9dG91Y2hzdGFydChlLHQscil7dGhpcy5fem9vbUluLnRvdWNoc3RhcnQoZSx0LHIpLHRoaXMuX3pvb21PdXQudG91Y2hzdGFydChlLHQscil9dG91Y2htb3ZlKGUsdCxyKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsdCxyKSx0aGlzLl96b29tT3V0LnRvdWNobW92ZShlLHQscil9dG91Y2hlbmQoZSx0LHIpe2NvbnN0IG49dGhpcy5fem9vbUluLnRvdWNoZW5kKGUsdCxyKSxpPXRoaXMuX3pvb21PdXQudG91Y2hlbmQoZSx0LHIpO3JldHVybiBuPyh0aGlzLl9hY3RpdmU9ITAsZS5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoKCk9PnRoaXMucmVzZXQoKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKSsxLGFyb3VuZDp0LnVucHJvamVjdChuKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6aT8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgpPT50aGlzLnJlc2V0KCksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCktMSxhcm91bmQ6dC51bnByb2plY3QoaSl9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOnZvaWQgMH10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNvbnN0IHZpPXswOjEsMjoyfTtjbGFzcyB4aXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc2V0KCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZXx8MX1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX21vdmVkPSExLHRoaXMuX2xhc3RQb2ludD12b2lkIDAsdGhpcy5fZXZlbnRCdXR0b249dm9pZCAwfV9jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuITF9X21vdmUoZSx0KXtyZXR1cm57fX1tb3VzZWRvd24oZSx0KXtpZih0aGlzLl9sYXN0UG9pbnQpcmV0dXJuO2NvbnN0IHI9ZyhlKTt0aGlzLl9jb3JyZWN0QnV0dG9uKGUscikmJih0aGlzLl9sYXN0UG9pbnQ9dCx0aGlzLl9ldmVudEJ1dHRvbj1yKX1tb3VzZW1vdmVXaW5kb3coZSx0KXtjb25zdCByPXRoaXMuX2xhc3RQb2ludDtpZihyKWlmKGUucHJldmVudERlZmF1bHQoKSxudWxsIT10aGlzLl9ldmVudEJ1dHRvbiYmZnVuY3Rpb24oZSx0KXtjb25zdCByPXZpW3RdO3JldHVybiB2b2lkIDA9PT1lLmJ1dHRvbnN8fChlLmJ1dHRvbnMmcikhPT1yfShlLHRoaXMuX2V2ZW50QnV0dG9uKSl0aGlzLnJlc2V0KCk7ZWxzZSBpZih0aGlzLl9tb3ZlZHx8ISh0LmRpc3Qocik8dGhpcy5fY2xpY2tUb2xlcmFuY2UpKXJldHVybiB0aGlzLl9tb3ZlZD0hMCx0aGlzLl9sYXN0UG9pbnQ9dCx0aGlzLl9tb3ZlKHIsdCl9bW91c2V1cFdpbmRvdyhlKXt0aGlzLl9sYXN0UG9pbnQmJmcoZSk9PT10aGlzLl9ldmVudEJ1dHRvbiYmKHRoaXMuX21vdmVkJiZwKCksdGhpcy5yZXNldCgpKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIGJpIGV4dGVuZHMgeGl7bW91c2Vkb3duKGUsdCl7c3VwZXIubW91c2Vkb3duKGUsdCksdGhpcy5fbGFzdFBvaW50JiYodGhpcy5fYWN0aXZlPSEwKX1fY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmIWUuY3RybEtleX1fbW92ZShlLHQpe3JldHVybnthcm91bmQ6dCxwYW5EZWx0YTp0LnN1YihlKX19fWNsYXNzIHdpIGV4dGVuZHMgeGl7X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJmUuY3RybEtleXx8Mj09PXR9X21vdmUoZSx0KXtjb25zdCByPS44Kih0LngtZS54KTtpZihyKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse2JlYXJpbmdEZWx0YTpyfX1jb250ZXh0bWVudShlKXtlLnByZXZlbnREZWZhdWx0KCl9fWNsYXNzIFRpIGV4dGVuZHMgeGl7X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJmUuY3RybEtleXx8Mj09PXR9X21vdmUoZSx0KXtjb25zdCByPS0uNSoodC55LWUueSk7aWYocilyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOnJ9fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKX19Y2xhc3MgRWl7Y29uc3RydWN0b3IodCxyKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX21pblRvdWNoZXM9MSx0aGlzLl9jbGlja1RvbGVyYW5jZT1yLmNsaWNrVG9sZXJhbmNlfHwxLHRoaXMucmVzZXQoKSxlLmJpbmRBbGwoW1wiX2FkZFRvdWNoUGFuQmxvY2tlclwiLFwiX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydFwiXSx0aGlzKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl90b3VjaGVzPXt9LHRoaXMuX3N1bT1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCl9dG91Y2hzdGFydChlLHQscil7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQscil9dG91Y2htb3ZlKHQscixuKXtpZih0aGlzLl9hY3RpdmUmJiEobi5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcykpe2lmKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmIXRoaXMuX21hcC5pc01vdmluZygpKXtpZigxPT09bi5sZW5ndGgmJiFlLmlzRnVsbHNjcmVlbigpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydCgpO1wiaGlkZGVuXCIhPT10aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiYodGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSl9cmV0dXJuIHQuY2FuY2VsYWJsZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LHIsbil9fXRvdWNoZW5kKGUsdCxyKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LHIpLHRoaXMuX2FjdGl2ZSYmci5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpfV9jYWxjdWxhdGVUcmFuc2Zvcm0odCxyLG4pe24ubGVuZ3RoPjAmJih0aGlzLl9hY3RpdmU9ITApO2NvbnN0IGk9bWkobixyKSxvPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxhPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtsZXQgcz0wO2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXSxyPXRoaXMuX3RvdWNoZXNbZV07ciYmKG8uX2FkZCh0KSxhLl9hZGQodC5zdWIocikpLHMrKyxpW2VdPXQpfWlmKHRoaXMuX3RvdWNoZXM9aSxzPHRoaXMuX21pblRvdWNoZXN8fCFhLm1hZygpKXJldHVybjtjb25zdCBsPWEuZGl2KHMpO3JldHVybiB0aGlzLl9zdW0uX2FkZChsKSx0aGlzLl9zdW0ubWFnKCk8dGhpcy5fY2xpY2tUb2xlcmFuY2U/dm9pZCAwOnthcm91bmQ6by5kaXYocykscGFuRGVsdGE6bH19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJih0aGlzLl9hZGRUb3VjaFBhbkJsb2NrZXIoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSl9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuISF0aGlzLl9hY3RpdmV9X2FkZFRvdWNoUGFuQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXJcIix0aGlzLl9tYXAuX2NvbnRhaW5lciksdGhpcy5fYWxlcnRDb250YWluZXIudGV4dENvbnRlbnQ9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplPU1hdGgubWF4KDEwLE1hdGgubWluKDI0LE1hdGguZmxvb3IoLjA1KnRoaXMuX2VsLmNsaWVudFdpZHRoKSkpK1wicHhcIil9X3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydCgpe3RoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0VGltZXI9c2V0VGltZW91dCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIil9LDUwMCl9fWNsYXNzIFNpe2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpcnN0VHdvVG91Y2hlcz12b2lkIDB9X3N0YXJ0KGUpe31fbW92ZShlLHQscil7cmV0dXJue319dG91Y2hzdGFydChlLHQscil7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxyLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtyWzBdLmlkZW50aWZpZXIsclsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpfXRvdWNobW92ZShlLHQscil7Y29uc3Qgbj10aGlzLl9maXJzdFR3b1RvdWNoZXM7aWYoIW4pcmV0dXJuO2UucHJldmVudERlZmF1bHQoKTtjb25zdFtpLG9dPW4sYT1DaShyLHQsaSkscz1DaShyLHQsbyk7aWYoIWF8fCFzKXJldHVybjtjb25zdCBsPXRoaXMuX2Fyb3VuZENlbnRlcj9udWxsOmEuYWRkKHMpLmRpdigyKTtyZXR1cm4gdGhpcy5fbW92ZShbYSxzXSxsLGUpfXRvdWNoZW5kKGUsdCxyKXtpZighdGhpcy5fZmlyc3RUd29Ub3VjaGVzKXJldHVybjtjb25zdFtuLGldPXRoaXMuX2ZpcnN0VHdvVG91Y2hlcyxvPUNpKHIsdCxuKSxhPUNpKHIsdCxpKTtvJiZhfHwodGhpcy5fYWN0aXZlJiZwKCksdGhpcy5yZXNldCgpKX10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1lbmFibGUoZSl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmR9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19ZnVuY3Rpb24gQ2koZSx0LHIpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl0uaWRlbnRpZmllcj09PXIpcmV0dXJuIHRbbl19ZnVuY3Rpb24gTWkoZSx0KXtyZXR1cm4gTWF0aC5sb2coZS90KS9NYXRoLkxOMn1jbGFzcyBraSBleHRlbmRzIFNpe3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9kaXN0YW5jZT0wLHRoaXMuX3N0YXJ0RGlzdGFuY2U9MH1fc3RhcnQoZSl7dGhpcy5fc3RhcnREaXN0YW5jZT10aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSl9X21vdmUoZSx0KXtjb25zdCByPXRoaXMuX2Rpc3RhbmNlO2lmKHRoaXMuX2Rpc3RhbmNlPWVbMF0uZGlzdChlWzFdKSx0aGlzLl9hY3RpdmV8fCEoTWF0aC5hYnMoTWkodGhpcy5fZGlzdGFuY2UsdGhpcy5fc3RhcnREaXN0YW5jZSkpPC4xKSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHt6b29tRGVsdGE6TWkodGhpcy5fZGlzdGFuY2UscikscGluY2hBcm91bmQ6dH19fWZ1bmN0aW9uIEFpKGUsdCl7cmV0dXJuIDE4MCplLmFuZ2xlV2l0aCh0KS9NYXRoLlBJfWNsYXNzIElpIGV4dGVuZHMgU2l7cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX21pbkRpYW1ldGVyPTAsdGhpcy5fc3RhcnRWZWN0b3I9dm9pZCAwLHRoaXMuX3ZlY3Rvcj12b2lkIDB9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0VmVjdG9yPXRoaXMuX3ZlY3Rvcj1lWzBdLnN1YihlWzFdKSx0aGlzLl9taW5EaWFtZXRlcj1lWzBdLmRpc3QoZVsxXSl9X21vdmUoZSx0KXtjb25zdCByPXRoaXMuX3ZlY3RvcjtpZih0aGlzLl92ZWN0b3I9ZVswXS5zdWIoZVsxXSksciYmKHRoaXMuX2FjdGl2ZXx8IXRoaXMuX2lzQmVsb3dUaHJlc2hvbGQodGhpcy5fdmVjdG9yKSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOkFpKHRoaXMuX3ZlY3RvcixyKSxwaW5jaEFyb3VuZDp0fX1faXNCZWxvd1RocmVzaG9sZChlKXt0aGlzLl9taW5EaWFtZXRlcj1NYXRoLm1pbih0aGlzLl9taW5EaWFtZXRlcixlLm1hZygpKTtjb25zdCB0PTI1LyhNYXRoLlBJKnRoaXMuX21pbkRpYW1ldGVyKSozNjAscj10aGlzLl9zdGFydFZlY3RvcjtpZighcilyZXR1cm4hMTtjb25zdCBuPUFpKGUscik7cmV0dXJuIE1hdGguYWJzKG4pPHR9fWZ1bmN0aW9uIFBpKGUpe3JldHVybiBNYXRoLmFicyhlLnkpPk1hdGguYWJzKGUueCl9Y2xhc3MgemkgZXh0ZW5kcyBTaXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX21hcD1lfXJlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl92YWxpZD12b2lkIDAsdGhpcy5fZmlyc3RNb3ZlPXZvaWQgMCx0aGlzLl9sYXN0UG9pbnRzPXZvaWQgMH1fc3RhcnQoZSl7dGhpcy5fbGFzdFBvaW50cz1lLFBpKGVbMF0uc3ViKGVbMV0pKSYmKHRoaXMuX3ZhbGlkPSExKX1fbW92ZSh0LHIsbil7Y29uc3QgaT10aGlzLl9sYXN0UG9pbnRzO2lmKCFpKXJldHVybjtjb25zdCBvPXRbMF0uc3ViKGlbMF0pLGE9dFsxXS5zdWIoaVsxXSk7cmV0dXJuIHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmIWUuaXNGdWxsc2NyZWVuKCkmJm4udG91Y2hlcy5sZW5ndGg8M3x8KHRoaXMuX3ZhbGlkPXRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkobyxhLG4udGltZVN0YW1wKSwhdGhpcy5fdmFsaWQpP3ZvaWQgMDoodGhpcy5fbGFzdFBvaW50cz10LHRoaXMuX2FjdGl2ZT0hMCx7cGl0Y2hEZWx0YTooby55K2EueSkvMiotLjV9KX1nZXN0dXJlQmVnaW5zVmVydGljYWxseShlLHQscil7aWYodm9pZCAwIT09dGhpcy5fdmFsaWQpcmV0dXJuIHRoaXMuX3ZhbGlkO2NvbnN0IG49ZS5tYWcoKT49MixpPXQubWFnKCk+PTI7aWYoIW4mJiFpKXJldHVybjtpZighbnx8IWkpcmV0dXJuIG51bGw9PXRoaXMuX2ZpcnN0TW92ZSYmKHRoaXMuX2ZpcnN0TW92ZT1yKSxyLXRoaXMuX2ZpcnN0TW92ZTwxMDAmJnZvaWQgMDtjb25zdCBvPWUueT4wPT10Lnk+MDtyZXR1cm4gUGkoZSkmJlBpKHQpJiZvfX1jb25zdCBEaT17cGFuU3RlcDoxMDAsYmVhcmluZ1N0ZXA6MTUscGl0Y2hTdGVwOjEwfTtjbGFzcyBSaXtjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9RGk7dGhpcy5fcGFuU3RlcD1lLnBhblN0ZXAsdGhpcy5fYmVhcmluZ1N0ZXA9ZS5iZWFyaW5nU3RlcCx0aGlzLl9waXRjaFN0ZXA9ZS5waXRjaFN0ZXAsdGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMX1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExfWtleWRvd24oZSl7aWYoZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5KXJldHVybjtsZXQgdD0wLHI9MCxuPTAsaT0wLG89MDtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDYxOmNhc2UgMTA3OmNhc2UgMTcxOmNhc2UgMTg3OnQ9MTticmVhaztjYXNlIDE4OTpjYXNlIDEwOTpjYXNlIDE3Mzp0PS0xO2JyZWFrO2Nhc2UgMzc6ZS5zaGlmdEtleT9yPS0xOihlLnByZXZlbnREZWZhdWx0KCksaT0tMSk7YnJlYWs7Y2FzZSAzOTplLnNoaWZ0S2V5P3I9MTooZS5wcmV2ZW50RGVmYXVsdCgpLGk9MSk7YnJlYWs7Y2FzZSAzODplLnNoaWZ0S2V5P249MTooZS5wcmV2ZW50RGVmYXVsdCgpLG89LTEpO2JyZWFrO2Nhc2UgNDA6ZS5zaGlmdEtleT9uPS0xOihlLnByZXZlbnREZWZhdWx0KCksbz0xKTticmVhaztkZWZhdWx0OnJldHVybn1yZXR1cm4gdGhpcy5fcm90YXRpb25EaXNhYmxlZCYmKHI9MCxuPTApLHtjYW1lcmFBbmltYXRpb246YT0+e2NvbnN0IHM9YS5nZXRab29tKCk7YS5lYXNlVG8oe2R1cmF0aW9uOjMwMCxlYXNlSWQ6XCJrZXlib2FyZEhhbmRsZXJcIixlYXNpbmc6TGksem9vbTp0P01hdGgucm91bmQocykrdCooZS5zaGlmdEtleT8yOjEpOnMsYmVhcmluZzphLmdldEJlYXJpbmcoKStyKnRoaXMuX2JlYXJpbmdTdGVwLHBpdGNoOmEuZ2V0UGl0Y2goKStuKnRoaXMuX3BpdGNoU3RlcCxvZmZzZXQ6Wy1pKnRoaXMuX3BhblN0ZXAsLW8qdGhpcy5fcGFuU3RlcF0sY2VudGVyOmEuZ2V0Q2VudGVyKCl9LHtvcmlnaW5hbEV2ZW50OmV9KX19fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwfWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMX19ZnVuY3Rpb24gTGkoZSl7cmV0dXJuIGUqKDItZSl9Y29uc3QgT2k9NC4wMDAyNDQxNDA2MjU7Y2xhc3MgQml7Y29uc3RydWN0b3IodCxyKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2hhbmRsZXI9cix0aGlzLl9kZWx0YT0wLHRoaXMuX2RlZmF1bHRab29tUmF0ZT0uMDEsdGhpcy5fd2hlZWxab29tUmF0ZT0uMDAyMjIyMjIyMjIyMjIyMjIyMixlLmJpbmRBbGwoW1wiX29uVGltZW91dFwiLFwiX2FkZFNjcm9sbFpvb21CbG9ja2VyXCIsXCJfc2hvd0Jsb2NrZXJBbGVydFwiXSx0aGlzKX1zZXRab29tUmF0ZShlKXt0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9ZX1zZXRXaGVlbFpvb21SYXRlKGUpe3RoaXMuX3doZWVsWm9vbVJhdGU9ZX1pc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfHx2b2lkIDAhPT10aGlzLl9maW5pc2hUaW1lb3V0fWlzWm9vbWluZygpe3JldHVybiEhdGhpcy5fem9vbWluZ31lbmFibGUoZSl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhZSYmXCJjZW50ZXJcIj09PWUuYXJvdW5kLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmdGhpcy5fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKSl9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSkpfXdoZWVsKHQpe2lmKCF0aGlzLmlzRW5hYmxlZCgpKXJldHVybjtpZih0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpe2lmKCEodC5jdHJsS2V5fHx0Lm1ldGFLZXl8fHRoaXMuaXNab29taW5nKCl8fGUuaXNGdWxsc2NyZWVuKCkpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dCbG9ja2VyQWxlcnQoKTtcImhpZGRlblwiIT09dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcikpfWxldCByPXQuZGVsdGFNb2RlPT09ZS53aW5kb3cuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCp0LmRlbHRhWTp0LmRlbHRhWTtjb25zdCBuPWUuZXhwb3J0ZWQubm93KCksaT1uLSh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWV8fDApO3RoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT1uLDAhPT1yJiZyJU9pPT0wP3RoaXMuX3R5cGU9XCJ3aGVlbFwiOjAhPT1yJiZNYXRoLmFicyhyKTw0P3RoaXMuX3R5cGU9XCJ0cmFja3BhZFwiOmk+NDAwPyh0aGlzLl90eXBlPW51bGwsdGhpcy5fbGFzdFZhbHVlPXIsdGhpcy5fdGltZW91dD1zZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCw0MCx0KSk6dGhpcy5fdHlwZXx8KHRoaXMuX3R5cGU9TWF0aC5hYnMoaSpyKTwyMDA/XCJ0cmFja3BhZFwiOlwid2hlZWxcIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxyKz10aGlzLl9sYXN0VmFsdWUpKSx0LnNoaWZ0S2V5JiZyJiYoci89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PXQsdGhpcy5fZGVsdGEtPXIsdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydCh0KSksdC5wcmV2ZW50RGVmYXVsdCgpfV9vblRpbWVvdXQoZSl7dGhpcy5fdHlwZT1cIndoZWVsXCIsdGhpcy5fZGVsdGEtPXRoaXMuX2xhc3RWYWx1ZSx0aGlzLl9hY3RpdmV8fHRoaXMuX3N0YXJ0KGUpfV9zdGFydChlKXtpZighdGhpcy5fZGVsdGEpcmV0dXJuO3RoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPW51bGwpLHRoaXMuX2FjdGl2ZT0hMCx0aGlzLmlzWm9vbWluZygpfHwodGhpcy5fem9vbWluZz0hMCksdGhpcy5fZmluaXNoVGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl9maW5pc2hUaW1lb3V0KSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dCk7Y29uc3QgdD1mKHRoaXMuX2VsLGUpO3RoaXMuX2Fyb3VuZFBvaW50PXRoaXMuX2Fyb3VuZENlbnRlcj90aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlclBvaW50OnQsdGhpcy5fYXJvdW5kQ29vcmQ9dGhpcy5fbWFwLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUzRCh0aGlzLl9hcm91bmRQb2ludCksdGhpcy5fdGFyZ2V0Wm9vbT12b2lkIDAsdGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9ITAsdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCkpfXJlbmRlckZyYW1lKCl7aWYoIXRoaXMuX2ZyYW1lSWQpcmV0dXJuO2lmKHRoaXMuX2ZyYW1lSWQ9bnVsbCwhdGhpcy5pc0FjdGl2ZSgpKXJldHVybjtjb25zdCB0PXRoaXMuX21hcC50cmFuc2Zvcm07XCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmdC5wcm9qZWN0aW9uLndyYXAmJih0Ll9jZW50ZXIubG5nPj0xODB8fHQuX2NlbnRlci5sbmc8PS0xODApJiYodGhpcy5fcHJldkVhc2U9bnVsbCx0aGlzLl9lYXNpbmc9bnVsbCx0aGlzLl9sYXN0V2hlZWxFdmVudD1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT0wKTtjb25zdCByPSgpPT50Ll90ZXJyYWluRW5hYmxlZCgpJiZ0aGlzLl9hcm91bmRDb29yZD90LmNvbXB1dGVab29tUmVsYXRpdmVUbyh0aGlzLl9hcm91bmRDb29yZCk6dC56b29tO2lmKDAhPT10aGlzLl9kZWx0YSl7Y29uc3QgZT1cIndoZWVsXCI9PT10aGlzLl90eXBlJiZNYXRoLmFicyh0aGlzLl9kZWx0YSk+T2k/dGhpcy5fd2hlZWxab29tUmF0ZTp0aGlzLl9kZWZhdWx0Wm9vbVJhdGU7bGV0IG49Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqZSkpKTt0aGlzLl9kZWx0YTwwJiYwIT09biYmKG49MS9uKTtjb25zdCBpPXIoKSxvPU1hdGgucG93KDIsaSksYT1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90Lnpvb21TY2FsZSh0aGlzLl90YXJnZXRab29tKTpvO3RoaXMuX3RhcmdldFpvb209TWF0aC5taW4odC5tYXhab29tLE1hdGgubWF4KHQubWluWm9vbSx0LnNjYWxlWm9vbShhKm4pKSksXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmKHRoaXMuX3N0YXJ0Wm9vbT1pLHRoaXMuX2Vhc2luZz10aGlzLl9zbW9vdGhPdXRFYXNpbmcoMjAwKSksdGhpcy5fZGVsdGE9MH1jb25zdCBuPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3RoaXMuX3RhcmdldFpvb206cigpLGk9dGhpcy5fc3RhcnRab29tLG89dGhpcy5fZWFzaW5nO2xldCBhLHM9ITE7aWYoXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmaSYmbyl7Y29uc3QgdD1NYXRoLm1pbigoZS5leHBvcnRlZC5ub3coKS10aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUpLzIwMCwxKSxyPW8odCk7YT1lLm51bWJlcihpLG4sciksdDwxP3RoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwKTpzPSEwfWVsc2UgYT1uLHM9ITA7cmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCxzJiYodGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpbmlzaFRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuX3pvb21pbmc9ITEsdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCksZGVsZXRlIHRoaXMuX3RhcmdldFpvb20sZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXR9LDIwMCkpLHtub0luZXJ0aWE6ITAsbmVlZHNSZW5kZXJGcmFtZTohcyx6b29tRGVsdGE6YS1yKCksYXJvdW5kOnRoaXMuX2Fyb3VuZFBvaW50LGFyb3VuZENvb3JkOnRoaXMuX2Fyb3VuZENvb3JkLG9yaWdpbmFsRXZlbnQ6dGhpcy5fbGFzdFdoZWVsRXZlbnR9fV9zbW9vdGhPdXRFYXNpbmcodCl7bGV0IHI9ZS5lYXNlO2lmKHRoaXMuX3ByZXZFYXNlKXtjb25zdCB0PXRoaXMuX3ByZXZFYXNlLG49KGUuZXhwb3J0ZWQubm93KCktdC5zdGFydCkvdC5kdXJhdGlvbixpPXQuZWFzaW5nKG4rLjAxKS10LmVhc2luZyhuKSxvPS4yNy9NYXRoLnNxcnQoaSppKzFlLTQpKi4wMSxhPU1hdGguc3FydCguMDcyOS1vKm8pO3I9ZS5iZXppZXIobyxhLC4yNSwxKX1yZXR1cm4gdGhpcy5fcHJldkVhc2U9e3N0YXJ0OmUuZXhwb3J0ZWQubm93KCksZHVyYXRpb246dCxlYXNpbmc6cn0scn1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExfV9hZGRTY3JvbGxab29tQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD0vKE1hY3xpUGFkKS9pLnRlc3QoZS53aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk/dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2VcIik6dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlXCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplPU1hdGgubWF4KDEwLE1hdGgubWluKDI0LE1hdGguZmxvb3IoLjA1KnRoaXMuX2VsLmNsaWVudFdpZHRoKSkpK1wicHhcIil9X3Nob3dCbG9ja2VyQWxlcnQoKXt0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0VGltZXI9c2V0VGltZW91dCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibnVsbFwiKX0sMjAwKX19Y2xhc3MgRml7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9jbGlja1pvb209ZSx0aGlzLl90YXBab29tPXR9ZW5hYmxlKCl7dGhpcy5fY2xpY2tab29tLmVuYWJsZSgpLHRoaXMuX3RhcFpvb20uZW5hYmxlKCl9ZGlzYWJsZSgpe3RoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCksdGhpcy5fdGFwWm9vbS5kaXNhYmxlKCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9jbGlja1pvb20uaXNBY3RpdmUoKXx8dGhpcy5fdGFwWm9vbS5pc0FjdGl2ZSgpfX1jbGFzcyBqaXtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMX1ibHVyKCl7dGhpcy5yZXNldCgpfWRibGNsaWNrKGUsdCl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx7Y2FtZXJhQW5pbWF0aW9uOnI9PntyLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206ci5nZXRab29tKCkrKGUuc2hpZnRLZXk/LTE6MSksYXJvdW5kOnIudW5wcm9qZWN0KHQpfSx7b3JpZ2luYWxFdmVudDplfSl9fX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIFVpe2NvbnN0cnVjdG9yKCl7dGhpcy5fdGFwPW5ldyBfaSh7bnVtVG91Y2hlczoxLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9zd2lwZVBvaW50PXZvaWQgMCx0aGlzLl9zd2lwZVRvdWNoPTAsdGhpcy5fdGFwVGltZT0wLHRoaXMuX3RhcC5yZXNldCgpfXRvdWNoc3RhcnQoZSx0LHIpe3RoaXMuX3N3aXBlUG9pbnR8fCh0aGlzLl90YXBUaW1lJiZlLnRpbWVTdGFtcC10aGlzLl90YXBUaW1lPjUwMCYmdGhpcy5yZXNldCgpLHRoaXMuX3RhcFRpbWU/ci5sZW5ndGg+MCYmKHRoaXMuX3N3aXBlUG9pbnQ9dFswXSx0aGlzLl9zd2lwZVRvdWNoPXJbMF0uaWRlbnRpZmllcik6dGhpcy5fdGFwLnRvdWNoc3RhcnQoZSx0LHIpKX10b3VjaG1vdmUoZSx0LHIpe2lmKHRoaXMuX3RhcFRpbWUpe2lmKHRoaXMuX3N3aXBlUG9pbnQpe2lmKHJbMF0uaWRlbnRpZmllciE9PXRoaXMuX3N3aXBlVG91Y2gpcmV0dXJuO2NvbnN0IG49dFswXSxpPW4ueS10aGlzLl9zd2lwZVBvaW50Lnk7cmV0dXJuIHRoaXMuX3N3aXBlUG9pbnQ9bixlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fYWN0aXZlPSEwLHt6b29tRGVsdGE6aS8xMjh9fX1lbHNlIHRoaXMuX3RhcC50b3VjaG1vdmUoZSx0LHIpfXRvdWNoZW5kKGUsdCxyKXt0aGlzLl90YXBUaW1lP3RoaXMuX3N3aXBlUG9pbnQmJjA9PT1yLmxlbmd0aCYmdGhpcy5yZXNldCgpOnRoaXMuX3RhcC50b3VjaGVuZChlLHQscikmJih0aGlzLl90YXBUaW1lPWUudGltZVN0YW1wKX10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIE5pe2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLl9lbD1lLHRoaXMuX21vdXNlUGFuPXQsdGhpcy5fdG91Y2hQYW49cn1lbmFibGUoZSl7dGhpcy5faW5lcnRpYU9wdGlvbnM9ZXx8e30sdGhpcy5fbW91c2VQYW4uZW5hYmxlKCksdGhpcy5fdG91Y2hQYW4uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpfWRpc2FibGUoKXt0aGlzLl9tb3VzZVBhbi5kaXNhYmxlKCksdGhpcy5fdG91Y2hQYW4uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUGFuLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUGFuLmlzQWN0aXZlKCl9fWNsYXNzIFZpe2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLl9waXRjaFdpdGhSb3RhdGU9ZS5waXRjaFdpdGhSb3RhdGUsdGhpcy5fbW91c2VSb3RhdGU9dCx0aGlzLl9tb3VzZVBpdGNoPXJ9ZW5hYmxlKCl7dGhpcy5fbW91c2VSb3RhdGUuZW5hYmxlKCksdGhpcy5fcGl0Y2hXaXRoUm90YXRlJiZ0aGlzLl9tb3VzZVBpdGNoLmVuYWJsZSgpfWRpc2FibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fbW91c2VQaXRjaC5kaXNhYmxlKCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzRW5hYmxlZCgpJiYoIXRoaXMuX3BpdGNoV2l0aFJvdGF0ZXx8dGhpcy5fbW91c2VQaXRjaC5pc0VuYWJsZWQoKSl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fbW91c2VQaXRjaC5pc0FjdGl2ZSgpfX1jbGFzcyBHaXtjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLl9lbD1lLHRoaXMuX3RvdWNoWm9vbT10LHRoaXMuX3RvdWNoUm90YXRlPXIsdGhpcy5fdGFwRHJhZ1pvb209bix0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX2VuYWJsZWQ9ITB9ZW5hYmxlKGUpe3RoaXMuX3RvdWNoWm9vbS5lbmFibGUoZSksdGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKGUpLHRoaXMuX3RhcERyYWdab29tLmVuYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKX1kaXNhYmxlKCl7dGhpcy5fdG91Y2hab29tLmRpc2FibGUoKSx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fdGFwRHJhZ1pvb20uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiYodGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuaXNFbmFibGVkKCkpJiZ0aGlzLl90YXBEcmFnWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKX1lbmFibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiZ0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoKX19Y29uc3QgcWk9ZT0+ZS56b29tfHxlLmRyYWd8fGUucGl0Y2h8fGUucm90YXRlO2NsYXNzIFppIGV4dGVuZHMgZS5FdmVudHt9Y2xhc3MgJGl7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnN0YW50cz1bMSwxLC4wMV0sdGhpcy5yYWRpdXM9MH1zZXR1cCh0LHIpe2NvbnN0IG49ZS5zdWIoW10scix0KTt0aGlzLnJhZGl1cz1lLmxlbmd0aChuWzJdPDA/ZS5kaXYoW10sbix0aGlzLmNvbnN0YW50cyk6W25bMF0sblsxXSwwXSl9cHJvamVjdFJheSh0KXtlLmRpdih0LHQsdGhpcy5jb25zdGFudHMpLGUubm9ybWFsaXplKHQsdCksZS5tdWwkMSh0LHQsdGhpcy5jb25zdGFudHMpO2NvbnN0IHI9ZS5zY2FsZSQyKFtdLHQsdGhpcy5yYWRpdXMpO2lmKHJbMl0+MCl7Y29uc3QgdD1lLnNjYWxlJDIoW10sWzAsMCwxXSxlLmRvdChyLFswLDAsMV0pKSxuPWUuc2NhbGUkMihbXSxlLm5vcm1hbGl6ZShbXSxbclswXSxyWzFdLDBdKSx0aGlzLnJhZGl1cyksaT1lLmFkZChbXSxyLGUuc2NhbGUkMihbXSxlLnN1YihbXSxlLmFkZChbXSxuLHQpLHIpLDIpKTtyWzBdPWlbMF0sclsxXT1pWzFdfXJldHVybiByfX1mdW5jdGlvbiBXaShlKXtyZXR1cm4gZS5wYW5EZWx0YSYmZS5wYW5EZWx0YS5tYWcoKXx8ZS56b29tRGVsdGF8fGUuYmVhcmluZ0RlbHRhfHxlLnBpdGNoRGVsdGF9Y2xhc3MgWGl7Y29uc3RydWN0b3IodCxyKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcnM9W10sdGhpcy5faGFuZGxlcnNCeUlkPXt9LHRoaXMuX2NoYW5nZXM9W10sdGhpcy5faW5lcnRpYT1uZXcgYWkodCksdGhpcy5fYmVhcmluZ1NuYXA9ci5iZWFyaW5nU25hcCx0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPXt9LHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkPW5ldyAkaSx0aGlzLl9kcmFnT3JpZ2luPW51bGwsdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcz17fSx0aGlzLl9hZGREZWZhdWx0SGFuZGxlcnMociksZS5iaW5kQWxsKFtcImhhbmRsZUV2ZW50XCIsXCJoYW5kbGVXaW5kb3dFdmVudFwiXSx0aGlzKTtjb25zdCBuPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW24sXCJ0b3VjaHN0YXJ0XCIse3Bhc3NpdmU6ITB9XSxbbixcInRvdWNobW92ZVwiLHtwYXNzaXZlOiExfV0sW24sXCJ0b3VjaGVuZFwiLHZvaWQgMF0sW24sXCJ0b3VjaGNhbmNlbFwiLHZvaWQgMF0sW24sXCJtb3VzZWRvd25cIix2b2lkIDBdLFtuLFwibW91c2Vtb3ZlXCIsdm9pZCAwXSxbbixcIm1vdXNldXBcIix2b2lkIDBdLFtlLndpbmRvdy5kb2N1bWVudCxcIm1vdXNlbW92ZVwiLHtjYXB0dXJlOiEwfV0sW2Uud2luZG93LmRvY3VtZW50LFwibW91c2V1cFwiLHZvaWQgMF0sW24sXCJtb3VzZW92ZXJcIix2b2lkIDBdLFtuLFwibW91c2VvdXRcIix2b2lkIDBdLFtuLFwiZGJsY2xpY2tcIix2b2lkIDBdLFtuLFwiY2xpY2tcIix2b2lkIDBdLFtuLFwia2V5ZG93blwiLHtjYXB0dXJlOiExfV0sW24sXCJrZXl1cFwiLHZvaWQgMF0sW24sXCJ3aGVlbFwiLHtwYXNzaXZlOiExfV0sW24sXCJjb250ZXh0bWVudVwiLHZvaWQgMF0sW2Uud2luZG93LFwiYmx1clwiLHZvaWQgMF1dO2Zvcihjb25zdFt0LHIsbl1vZiB0aGlzLl9saXN0ZW5lcnMpdC5hZGRFdmVudExpc3RlbmVyKHIsdD09PWUud2luZG93LmRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudCxuKX1kZXN0cm95KCl7Zm9yKGNvbnN0W3QscixuXW9mIHRoaXMuX2xpc3RlbmVycyl0LnJlbW92ZUV2ZW50TGlzdGVuZXIocix0PT09ZS53aW5kb3cuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LG4pfV9hZGREZWZhdWx0SGFuZGxlcnMoZSl7Y29uc3QgdD10aGlzLl9tYXAscj10LmdldENhbnZhc0NvbnRhaW5lcigpO3RoaXMuX2FkZChcIm1hcEV2ZW50XCIsbmV3IGRpKHQsZSkpO2NvbnN0IG49dC5ib3hab29tPW5ldyBmaSh0LGUpO3RoaXMuX2FkZChcImJveFpvb21cIixuKTtjb25zdCBpPW5ldyB5aSxvPW5ldyBqaTt0LmRvdWJsZUNsaWNrWm9vbT1uZXcgRmkobyxpKSx0aGlzLl9hZGQoXCJ0YXBab29tXCIsaSksdGhpcy5fYWRkKFwiY2xpY2tab29tXCIsbyk7Y29uc3QgYT1uZXcgVWk7dGhpcy5fYWRkKFwidGFwRHJhZ1pvb21cIixhKTtjb25zdCBzPXQudG91Y2hQaXRjaD1uZXcgemkodCk7dGhpcy5fYWRkKFwidG91Y2hQaXRjaFwiLHMpO2NvbnN0IGw9bmV3IHdpKGUpLGM9bmV3IFRpKGUpO3QuZHJhZ1JvdGF0ZT1uZXcgVmkoZSxsLGMpLHRoaXMuX2FkZChcIm1vdXNlUm90YXRlXCIsbCxbXCJtb3VzZVBpdGNoXCJdKSx0aGlzLl9hZGQoXCJtb3VzZVBpdGNoXCIsYyxbXCJtb3VzZVJvdGF0ZVwiXSk7Y29uc3QgdT1uZXcgYmkoZSksaD1uZXcgRWkodCxlKTt0LmRyYWdQYW49bmV3IE5pKHIsdSxoKSx0aGlzLl9hZGQoXCJtb3VzZVBhblwiLHUpLHRoaXMuX2FkZChcInRvdWNoUGFuXCIsaCxbXCJ0b3VjaFpvb21cIixcInRvdWNoUm90YXRlXCJdKTtjb25zdCBkPW5ldyBJaSxwPW5ldyBraTt0LnRvdWNoWm9vbVJvdGF0ZT1uZXcgR2kocixwLGQsYSksdGhpcy5fYWRkKFwidG91Y2hSb3RhdGVcIixkLFtcInRvdWNoUGFuXCIsXCJ0b3VjaFpvb21cIl0pLHRoaXMuX2FkZChcInRvdWNoWm9vbVwiLHAsW1widG91Y2hQYW5cIixcInRvdWNoUm90YXRlXCJdKSx0aGlzLl9hZGQoXCJibG9ja2FibGVNYXBFdmVudFwiLG5ldyBwaSh0KSk7Y29uc3QgZj10LnNjcm9sbFpvb209bmV3IEJpKHQsdGhpcyk7dGhpcy5fYWRkKFwic2Nyb2xsWm9vbVwiLGYsW1wibW91c2VQYW5cIl0pO2NvbnN0IG09dC5rZXlib2FyZD1uZXcgUmk7dGhpcy5fYWRkKFwia2V5Ym9hcmRcIixtKTtmb3IoY29uc3QgciBvZltcImJveFpvb21cIixcImRvdWJsZUNsaWNrWm9vbVwiLFwidGFwRHJhZ1pvb21cIixcInRvdWNoUGl0Y2hcIixcImRyYWdSb3RhdGVcIixcImRyYWdQYW5cIixcInRvdWNoWm9vbVJvdGF0ZVwiLFwic2Nyb2xsWm9vbVwiLFwia2V5Ym9hcmRcIl0pZS5pbnRlcmFjdGl2ZSYmZVtyXSYmdFtyXS5lbmFibGUoZVtyXSl9X2FkZChlLHQscil7dGhpcy5faGFuZGxlcnMucHVzaCh7aGFuZGxlck5hbWU6ZSxoYW5kbGVyOnQsYWxsb3dlZDpyfSksdGhpcy5faGFuZGxlcnNCeUlkW2VdPXR9c3RvcChlKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpZS5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LGUpLHRoaXMuX2NoYW5nZXM9W119fWlzQWN0aXZlKCl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycylpZihlLmlzQWN0aXZlKCkpcmV0dXJuITA7cmV0dXJuITF9aXNab29taW5nKCl7cmV0dXJuISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfWlzUm90YXRpbmcoKXtyZXR1cm4hIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mucm90YXRlfWlzTW92aW5nKCl7cmV0dXJuISFxaSh0aGlzLl9ldmVudHNJblByb2dyZXNzKXx8dGhpcy5pc1pvb21pbmcoKX1fYmxvY2tlZEJ5QWN0aXZlKGUsdCxyKXtmb3IoY29uc3QgbiBpbiBlKWlmKG4hPT1yJiYoIXR8fHQuaW5kZXhPZihuKTwwKSlyZXR1cm4hMDtyZXR1cm4hMX1oYW5kbGVXaW5kb3dFdmVudChlKXt0aGlzLmhhbmRsZUV2ZW50KGUsZS50eXBlK1wiV2luZG93XCIpfV9nZXRNYXBUb3VjaGVzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgZSl0aGlzLl9lbC5jb250YWlucyhyLnRhcmdldCkmJnQucHVzaChyKTtyZXR1cm4gdH1oYW5kbGVFdmVudChlLHQpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IHI9XCJyZW5kZXJGcmFtZVwiPT09ZS50eXBlLG49cj92b2lkIDA6ZSxpPXtuZWVkc1JlbmRlckZyYW1lOiExfSxvPXt9LGE9e30scz1lLnRvdWNoZXM/dGhpcy5fZ2V0TWFwVG91Y2hlcyhlLnRvdWNoZXMpOnZvaWQgMCxsPXM/bSh0aGlzLl9lbCxzKTpyP3ZvaWQgMDpmKHRoaXMuX2VsLGUpO2Zvcihjb25zdHtoYW5kbGVyTmFtZTpyLGhhbmRsZXI6YyxhbGxvd2VkOnV9b2YgdGhpcy5faGFuZGxlcnMpe2lmKCFjLmlzRW5hYmxlZCgpKWNvbnRpbnVlO2xldCBoO3RoaXMuX2Jsb2NrZWRCeUFjdGl2ZShhLHUscik/Yy5yZXNldCgpOmNbdHx8ZS50eXBlXSYmKGg9Y1t0fHxlLnR5cGVdKGUsbCxzKSx0aGlzLm1lcmdlSGFuZGxlclJlc3VsdChpLG8saCxyLG4pLGgmJmgubmVlZHNSZW5kZXJGcmFtZSYmdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCkpLChofHxjLmlzQWN0aXZlKCkpJiYoYVtyXT1jKX1jb25zdCBjPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnMpYVtlXXx8KGNbZV09bik7dGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz1hLChPYmplY3Qua2V5cyhjKS5sZW5ndGh8fFdpKGkpKSYmKHRoaXMuX2NoYW5nZXMucHVzaChbaSxvLGNdKSx0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKE9iamVjdC5rZXlzKGEpLmxlbmd0aHx8V2koaSkpJiZ0aGlzLl9tYXAuX3N0b3AoITApLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO2NvbnN0e2NhbWVyYUFuaW1hdGlvbjp1fT1pO3UmJih0aGlzLl9pbmVydGlhLmNsZWFyKCksdGhpcy5fZmlyZUV2ZW50cyh7fSx7fSwhMCksdGhpcy5fY2hhbmdlcz1bXSx1KHRoaXMuX21hcCkpfW1lcmdlSGFuZGxlclJlc3VsdCh0LHIsbixpLG8pe2lmKCFuKXJldHVybjtlLmV4dGVuZCh0LG4pO2NvbnN0IGE9e2hhbmRsZXJOYW1lOmksb3JpZ2luYWxFdmVudDpuLm9yaWdpbmFsRXZlbnR8fG99O3ZvaWQgMCE9PW4uem9vbURlbHRhJiYoci56b29tPWEpLHZvaWQgMCE9PW4ucGFuRGVsdGEmJihyLmRyYWc9YSksdm9pZCAwIT09bi5waXRjaERlbHRhJiYoci5waXRjaD1hKSx2b2lkIDAhPT1uLmJlYXJpbmdEZWx0YSYmKHIucm90YXRlPWEpfV9hcHBseUNoYW5nZXMoKXtjb25zdCB0PXt9LHI9e30sbj17fTtmb3IoY29uc3RbaSxvLGFdb2YgdGhpcy5fY2hhbmdlcylpLnBhbkRlbHRhJiYodC5wYW5EZWx0YT0odC5wYW5EZWx0YXx8bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKS5fYWRkKGkucGFuRGVsdGEpKSxpLnpvb21EZWx0YSYmKHQuem9vbURlbHRhPSh0Lnpvb21EZWx0YXx8MCkraS56b29tRGVsdGEpLGkuYmVhcmluZ0RlbHRhJiYodC5iZWFyaW5nRGVsdGE9KHQuYmVhcmluZ0RlbHRhfHwwKStpLmJlYXJpbmdEZWx0YSksaS5waXRjaERlbHRhJiYodC5waXRjaERlbHRhPSh0LnBpdGNoRGVsdGF8fDApK2kucGl0Y2hEZWx0YSksdm9pZCAwIT09aS5hcm91bmQmJih0LmFyb3VuZD1pLmFyb3VuZCksdm9pZCAwIT09aS5hcm91bmRDb29yZCYmKHQuYXJvdW5kQ29vcmQ9aS5hcm91bmRDb29yZCksdm9pZCAwIT09aS5waW5jaEFyb3VuZCYmKHQucGluY2hBcm91bmQ9aS5waW5jaEFyb3VuZCksaS5ub0luZXJ0aWEmJih0Lm5vSW5lcnRpYT1pLm5vSW5lcnRpYSksZS5leHRlbmQocixvKSxlLmV4dGVuZChuLGEpO3RoaXMuX3VwZGF0ZU1hcFRyYW5zZm9ybSh0LHIsbiksdGhpcy5fY2hhbmdlcz1bXX1fdXBkYXRlTWFwVHJhbnNmb3JtKHQscixuKXtjb25zdCBpPXRoaXMuX21hcCxvPWkudHJhbnNmb3JtLGE9ZT0+W2UueCxlLnksZS56XTtpZigoZT0+e2NvbnN0IHQ9dGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnO3JldHVybiB0JiYhdGhpcy5faGFuZGxlcnNCeUlkW3QuaGFuZGxlck5hbWVdLmlzQWN0aXZlKCl9KSgpJiYhV2kodCkpe2NvbnN0IGU9by56b29tO28uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsby5yZWNlbnRlck9uVGVycmFpbigpLG8uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsZSE9PW8uem9vbSYmdGhpcy5fbWFwLl91cGRhdGUoITApfWlmKCFXaSh0KSlyZXR1cm4gdm9pZCB0aGlzLl9maXJlRXZlbnRzKHIsbiwhMCk7bGV0e3BhbkRlbHRhOnMsem9vbURlbHRhOmwsYmVhcmluZ0RlbHRhOmMscGl0Y2hEZWx0YTp1LGFyb3VuZDpoLGFyb3VuZENvb3JkOmQscGluY2hBcm91bmQ6cH09dDt2b2lkIDAhPT1wJiYoaD1wKSwoZT0+ci5kcmFnJiYhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnKSgpJiZoJiYodGhpcy5fZHJhZ09yaWdpbj1hKG8ucG9pbnRDb29yZGluYXRlM0QoaCkpLHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnNldHVwKG8uX2NhbWVyYS5wb3NpdGlvbix0aGlzLl9kcmFnT3JpZ2luKSksby5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixpLl9zdG9wKCEwKSxoPWh8fGkudHJhbnNmb3JtLmNlbnRlclBvaW50LGMmJihvLmJlYXJpbmcrPWMpLHUmJihvLnBpdGNoKz11KSxvLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IGY9WzAsMCwwXTtpZihzKWlmKFwibWVyY2F0b3JcIj09PW8ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkoby5zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoaCkuZGlyKSx0PXRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkoby5zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoaC5zdWIocykpLmRpcik7ZlswXT10WzBdLWVbMF0sZlsxXT10WzFdLWVbMV19ZWxzZXtjb25zdCB0PW8ucG9pbnRDb29yZGluYXRlKGgpO2lmKFwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lKXtzPXMucm90YXRlKC1vLmFuZ2xlKTtjb25zdCByPW8uX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwvby53b3JsZFNpemU7ZlswXT0tcy54KmUubWVyY2F0b3JTY2FsZShlLmxhdEZyb21NZXJjYXRvclkodC55KSkqcixmWzFdPS1zLnkqZS5tZXJjYXRvclNjYWxlKG8uY2VudGVyLmxhdCkqcn1lbHNle2NvbnN0IGU9by5wb2ludENvb3JkaW5hdGUoaC5zdWIocykpO3QmJmUmJihmWzBdPWUueC10LngsZlsxXT1lLnktdC55KX19Y29uc3QgbT1vLnpvb20sZz1bMCwwLDBdO2lmKGwpe2NvbnN0IHQ9YShkfHxvLnBvaW50Q29vcmRpbmF0ZTNEKGgpKSxyPXtkaXI6ZS5ub3JtYWxpemUoW10sZS5zdWIoW10sdCxvLl9jYW1lcmEucG9zaXRpb24pKX07aWYoci5kaXJbMl08MCl7Y29uc3Qgbj1vLnpvb21EZWx0YVRvTW92ZW1lbnQodCxsKTtlLnNjYWxlJDIoZyxyLmRpcixuKX19Y29uc3QgXz1lLmFkZChmLGYsZyk7by5fdHJhbnNsYXRlQ2FtZXJhQ29uc3RyYWluZWQoXyksbCYmTWF0aC5hYnMoby56b29tLW0pPjFlLTQmJm8ucmVjZW50ZXJPblRlcnJhaW4oKSxvLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLHRoaXMuX21hcC5fdXBkYXRlKCksdC5ub0luZXJ0aWF8fHRoaXMuX2luZXJ0aWEucmVjb3JkKHQpLHRoaXMuX2ZpcmVFdmVudHMocixuLCEwKX1fZmlyZUV2ZW50cyh0LHIsbil7Y29uc3QgaT1xaSh0aGlzLl9ldmVudHNJblByb2dyZXNzKSxvPXFpKHQpLGE9e307Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDpyfT10W2VdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV18fChhW2UrXCJzdGFydFwiXT1yKSx0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdPXRbZV19IWkmJm8mJnRoaXMuX2ZpcmVFdmVudChcIm1vdmVzdGFydFwiLG8ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IGUgaW4gYSl0aGlzLl9maXJlRXZlbnQoZSxhW2VdKTtvJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3ZlXCIsby5vcmlnaW5hbEV2ZW50KTtmb3IoY29uc3QgZSBpbiB0KXtjb25zdHtvcmlnaW5hbEV2ZW50OnJ9PXRbZV07dGhpcy5fZmlyZUV2ZW50KGUscil9Y29uc3Qgcz17fTtsZXQgbDtmb3IoY29uc3QgZSBpbiB0aGlzLl9ldmVudHNJblByb2dyZXNzKXtjb25zdHtoYW5kbGVyTmFtZTp0LG9yaWdpbmFsRXZlbnQ6bn09dGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXTt0aGlzLl9oYW5kbGVyc0J5SWRbdF0uaXNBY3RpdmUoKXx8KGRlbGV0ZSB0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdLGw9clt0XXx8bixzW2UrXCJlbmRcIl09bCl9Zm9yKGNvbnN0IGUgaW4gcyl0aGlzLl9maXJlRXZlbnQoZSxzW2VdKTtjb25zdCBjPXFpKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpO2lmKG4mJihpfHxvKSYmIWMpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IHQ9dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucykscj1lPT4wIT09ZSYmLXRoaXMuX2JlYXJpbmdTbmFwPGUmJmU8dGhpcy5fYmVhcmluZ1NuYXA7dD8ocih0LmJlYXJpbmd8fHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiYodC5iZWFyaW5nPTApLHRoaXMuX21hcC5lYXNlVG8odCx7b3JpZ2luYWxFdmVudDpsfSkpOih0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIix7b3JpZ2luYWxFdmVudDpsfSkpLHIodGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJnRoaXMuX21hcC5yZXNldE5vcnRoKCkpLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExfX1fZmlyZUV2ZW50KHQscil7dGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQodCxyP3tvcmlnaW5hbEV2ZW50OnJ9Ont9KSl9X3JlcXVlc3RGcmFtZSgpe3JldHVybiB0aGlzLl9tYXAudHJpZ2dlclJlcGFpbnQoKSx0aGlzLl9tYXAuX3JlbmRlclRhc2tRdWV1ZS5hZGQoZT0+e3RoaXMuX2ZyYW1lSWQ9dm9pZCAwLHRoaXMuaGFuZGxlRXZlbnQobmV3IFppKFwicmVuZGVyRnJhbWVcIix7dGltZVN0YW1wOmV9KSksdGhpcy5fYXBwbHlDaGFuZ2VzKCl9KX1fdHJpZ2dlclJlbmRlckZyYW1lKCl7dm9pZCAwPT09dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9dGhpcy5fcmVxdWVzdEZyYW1lKCkpfX1jb25zdCBIaT1cIm1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyguLi4pIGFuZCBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKSBhcmUgbm90IHlldCBzdXBwb3J0ZWQgZm9yIG5vbi1tZXJjYXRvciBwcm9qZWN0aW9ucy5cIjtjbGFzcyBZaSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKCksdGhpcy5fbW92aW5nPSExLHRoaXMuX3pvb21pbmc9ITEsdGhpcy50cmFuc2Zvcm09dCx0aGlzLl9iZWFyaW5nU25hcD1yLmJlYXJpbmdTbmFwLGUuYmluZEFsbChbXCJfcmVuZGVyRnJhbWVDYWxsYmFja1wiXSx0aGlzKX1nZXRDZW50ZXIoKXtyZXR1cm4gbmV3IGUuTG5nTGF0KHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCl9c2V0Q2VudGVyKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6ZX0sdCl9cGFuQnkodCxyLG4pe3JldHVybiB0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpLm11bHQoLTEpLHRoaXMucGFuVG8odGhpcy50cmFuc2Zvcm0uY2VudGVyLGUuZXh0ZW5kKHtvZmZzZXQ6dH0sciksbil9cGFuVG8odCxyLG4pe3JldHVybiB0aGlzLmVhc2VUbyhlLmV4dGVuZCh7Y2VudGVyOnR9LHIpLG4pfWdldFpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbX1zZXRab29tKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHt6b29tOmV9LHQpLHRoaXN9em9vbVRvKHQscixuKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe3pvb206dH0sciksbil9em9vbUluKGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpKzEsZSx0KSx0aGlzfXpvb21PdXQoZSx0KXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCktMSxlLHQpLHRoaXN9Z2V0QmVhcmluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5iZWFyaW5nfXNldEJlYXJpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe2JlYXJpbmc6ZX0sdCksdGhpc31nZXRQYWRkaW5nKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBhZGRpbmd9c2V0UGFkZGluZyhlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7cGFkZGluZzplfSx0KSx0aGlzfXJvdGF0ZVRvKHQscixuKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2JlYXJpbmc6dH0sciksbil9cmVzZXROb3J0aCh0LHIpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsZS5leHRlbmQoe2R1cmF0aW9uOjFlM30sdCksciksdGhpc31yZXNldE5vcnRoUGl0Y2godCxyKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2JlYXJpbmc6MCxwaXRjaDowLGR1cmF0aW9uOjFlM30sdCksciksdGhpc31zbmFwVG9Ob3J0aChlLHQpe3JldHVybiBNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSk8dGhpcy5fYmVhcmluZ1NuYXA/dGhpcy5yZXNldE5vcnRoKGUsdCk6dGhpc31nZXRQaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5waXRjaH1zZXRQaXRjaChlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7cGl0Y2g6ZX0sdCksdGhpc31jYW1lcmFGb3JCb3VuZHModCxyKXt0PWUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodCk7Y29uc3Qgbj1yJiZyLmJlYXJpbmd8fDAsaT10LmdldE5vcnRoV2VzdCgpLG89dC5nZXRTb3V0aEVhc3QoKTtyZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzKHRoaXMudHJhbnNmb3JtLGksbyxuLHIpfV9leHRlbmRDYW1lcmFPcHRpb25zKHQpe2NvbnN0IHI9e3RvcDowLGJvdHRvbTowLHJpZ2h0OjAsbGVmdDowfTtpZihcIm51bWJlclwiPT10eXBlb2YodD1lLmV4dGVuZCh7cGFkZGluZzpyLG9mZnNldDpbMCwwXSxtYXhab29tOnRoaXMudHJhbnNmb3JtLm1heFpvb219LHQpKS5wYWRkaW5nKXtjb25zdCBlPXQucGFkZGluZzt0LnBhZGRpbmc9e3RvcDplLGJvdHRvbTplLHJpZ2h0OmUsbGVmdDplfX1yZXR1cm4gdC5wYWRkaW5nPWUuZXh0ZW5kKHIsdC5wYWRkaW5nKSx0fV9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZShlLHQpe2NvbnN0IHI9dC5tYXhbMF0tdC5taW5bMF0sbj10Lm1heFsxXS10Lm1pblsxXTtyZXR1cm4gci9uPmUuYXNwZWN0P3IvKDIqTWF0aC50YW4oLjUqZS5mb3ZYKSplLmFzcGVjdCk6bi8oMipNYXRoLnRhbiguNSplLmZvdlkpKmUuYXNwZWN0KX1fY2FtZXJhRm9yQm91bmRzT25HbG9iZSh0LHIsbixpLG8pe2NvbnN0IGE9dC5jbG9uZSgpLHM9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhvKTthLmJlYXJpbmc9aTtjb25zdCBsPWUuTG5nTGF0LmNvbnZlcnQociksYz1lLkxuZ0xhdC5jb252ZXJ0KG4pLHU9LjUqKGwubGF0K2MubGF0KSxoPS41KihsLmxuZytjLmxuZyksZD1lLmxhdExuZ1RvRUNFRih1LGgpLHA9ZS5ub3JtYWxpemUoW10sZCksZj1lLm5vcm1hbGl6ZShbXSxlLmNyb3NzKFtdLHAsWzAsMSwwXSkpLG09ZS5jcm9zcyhbXSxmLHApLGc9W2ZbMF0sZlsxXSxmWzJdLDAsbVswXSxtWzFdLG1bMl0sMCxwWzBdLHBbMV0scFsyXSwwLDAsMCwwLDFdLF89W2QsZS5sYXRMbmdUb0VDRUYobC5sYXQsbC5sbmcpLGUubGF0TG5nVG9FQ0VGKGMubGF0LGwubG5nKSxlLmxhdExuZ1RvRUNFRihjLmxhdCxjLmxuZyksZS5sYXRMbmdUb0VDRUYobC5sYXQsYy5sbmcpLGUubGF0TG5nVG9FQ0VGKHUsbC5sbmcpLGUubGF0TG5nVG9FQ0VGKHUsYy5sbmcpLGUubGF0TG5nVG9FQ0VGKGwubGF0LGgpLGUubGF0TG5nVG9FQ0VGKGMubGF0LGgpXTtsZXQgeT1lLkFhYmIuZnJvbVBvaW50cyhfLm1hcCh0PT5bZS5kb3QoZix0KSxlLmRvdChtLHQpLGUuZG90KHAsdCldKSk7Y29uc3Qgdj1lLnRyYW5zZm9ybU1hdDQoW10seS5jZW50ZXIsZyk7MD09PWUuc3F1YXJlZExlbmd0aCh2KSYmZS5zZXQodiwwLDAsMSksZS5ub3JtYWxpemUodix2KSxlLnNjYWxlJDIodix2LGUuR0xPQkVfUkFESVVTKSxhLmNlbnRlcj1lLmVjZWZUb0xhdExuZyh2KTtjb25zdCB4PWEuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpLGI9ZS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNikseCk7eT1lLkFhYmIuYXBwbHlUcmFuc2Zvcm0oeSxlLm11bHRpcGx5KFtdLHgsZykpLGUudHJhbnNmb3JtTWF0NCh2LHYseCk7Y29uc3Qgdz0uNSooeS5tYXhbMl0teS5taW5bMl0pLFQ9dGhpcy5fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UoYSx5KSxFPWUuc2NhbGUkMihbXSxbMCwwLDFdLHcpLFM9ZS5hZGQoRSx2LEUpLEM9VCsoMD09PWEucGl0Y2g/MDplLmRpc3RhbmNlKHYsUykpLE09YS5nbG9iZUNlbnRlckluVmlld1NwYWNlLGs9ZS5zdWIoW10sdixbTVswXSxNWzFdLE1bMl1dKTtlLm5vcm1hbGl6ZShrLGspLGUuc2NhbGUkMihrLGssQyk7Y29uc3QgQT1lLmFkZChbXSx2LGspO2UudHJhbnNmb3JtTWF0NChBLEEsYik7Y29uc3QgST1lLmVhcnRoUmFkaXVzL2UuR0xPQkVfUkFESVVTLFA9ZS5sZW5ndGgoQSksej1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShQKkktZS5lYXJ0aFJhZGl1cywwKSxEPU1hdGgubWluKGEuem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZCh6KSxzLm1heFpvb20pO3JldHVybiBEPi41KihlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01JTitlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCk/KGEuc2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KSxhLnpvb209RCx0aGlzLl9jYW1lcmFGb3JCb3VuZHMoYSxyLG4saSxvKSk6e2NlbnRlcjphLmNlbnRlcix6b29tOkQsYmVhcmluZzppfX1xdWVyeVRlcnJhaW5FbGV2YXRpb24odCxyKXtjb25zdCBuPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbjtyZXR1cm4gbj8ocj1lLmV4dGVuZCh7fSx7ZXhhZ2dlcmF0ZWQ6ITB9LHIpLG4uZ2V0QXRQb2ludChlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHQpLG51bGwsci5leGFnZ2VyYXRlZCkpOm51bGx9X2NhbWVyYUZvckJvdW5kcyh0LHIsbixpLG8pe2lmKFwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lKXJldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHNPbkdsb2JlKHQscixuLGksbyk7Y29uc3QgYT10LmNsb25lKCkscz10aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG8pLGw9YS5wYWRkaW5nO2EuYmVhcmluZz1pO2NvbnN0IGM9ZS5MbmdMYXQuY29udmVydChyKSx1PWUuTG5nTGF0LmNvbnZlcnQobiksaD1uZXcgZS5MbmdMYXQoYy5sbmcsdS5sYXQpLGQ9bmV3IGUuTG5nTGF0KHUubG5nLGMubGF0KSxwPWEucHJvamVjdChjKSxmPWEucHJvamVjdCh1KSxtPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGMpLGc9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24odSksXz10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihoKSx5PXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGQpLHY9W1twLngscC55LE1hdGgubWluKG18fDAsZ3x8MCxffHwwLHl8fDApXSxbZi54LGYueSxNYXRoLm1heChtfHwwLGd8fDAsX3x8MCx5fHwwKV1dO2xldCB4PWUuQWFiYi5mcm9tUG9pbnRzKHYpO2NvbnN0IGI9YS5nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCksdz1lLmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSxiKTt4PWUuQWFiYi5hcHBseVRyYW5zZm9ybSh4LGIpO2NvbnN0IFQ9ZS5zdWIoW10seC5tYXgseC5taW4pLEU9bC5sZWZ0fHwwLFM9bC5yaWdodHx8MCxDPWwuYm90dG9tfHwwLE09bC50b3B8fDAse2xlZnQ6ayxyaWdodDpBLHRvcDpJLGJvdHRvbTpQfT1zLnBhZGRpbmcsej0uNSooRStTKSxEPS41KihNK0MpLFI9TWF0aC5taW4oYS5zY2FsZVpvb20oYS5zY2FsZSpNYXRoLm1pbigoYS53aWR0aC0oRStTK2srQSkpL1RbMF0sKGEuaGVpZ2h0LShDK00rUCtJKSkvVFsxXSkpLHMubWF4Wm9vbSksTD1hLnNjYWxlL2Euem9vbVNjYWxlKFIpO3g9bmV3IGUuQWFiYihbeC5taW5bMF0tKGsreikqTCx4Lm1pblsxXS0oUCtEKSpMLHgubWluWzJdXSxbeC5tYXhbMF0rKEEreikqTCx4Lm1heFsxXSsoSStEKSpMLHgubWF4WzJdXSk7Y29uc3QgTz0uNSpUWzJdLEI9dGhpcy5fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UoYSx4KSxGPVswLDAsMSwwXTtlLnRyYW5zZm9ybU1hdDQkMShGLEYsYiksZS5ub3JtYWxpemUkMihGLEYpO2NvbnN0IGo9ZS5zY2FsZSQyKFtdLEYsQitPKSxVPWUuYWRkKFtdLHguY2VudGVyLGopLE49KFwibnVtYmVyXCI9PXR5cGVvZiBzLm9mZnNldC54JiZcIm51bWJlclwiPT10eXBlb2Ygcy5vZmZzZXQueT9uZXcgZS5wb2ludEdlb21ldHJ5KHMub2Zmc2V0Lngscy5vZmZzZXQueSk6ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQocy5vZmZzZXQpKS5yb3RhdGUoLWUuZGVnVG9SYWQoaSkpO3guY2VudGVyWzBdLT1OLngqTCx4LmNlbnRlclsxXSs9Ti55KkwsZS50cmFuc2Zvcm1NYXQ0KHguY2VudGVyLHguY2VudGVyLHcpLGUudHJhbnNmb3JtTWF0NChVLFUsdyk7Y29uc3QgVj1beC5jZW50ZXJbMF0seC5jZW50ZXJbMV0sVVsyXSphLnBpeGVsc1Blck1ldGVyXTtlLnNjYWxlJDIoVixWLDEvYS53b3JsZFNpemUpO2NvbnN0IEc9ZS5sbmdGcm9tTWVyY2F0b3JYKFZbMF0pLHE9ZS5sYXRGcm9tTWVyY2F0b3JZKFZbMV0pLFo9TWF0aC5taW4oYS5fem9vbUZyb21NZXJjYXRvclooVlsyXSkscy5tYXhab29tKSwkPW5ldyBlLkxuZ0xhdChHLHEpO3JldHVybiBhLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24mJlo8LjUqKGUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOK2UuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKT8oYS5zZXRQcm9qZWN0aW9uKHtuYW1lOlwiZ2xvYmVcIn0pLGEuem9vbT1aLHRoaXMuX2NhbWVyYUZvckJvdW5kcyhhLHIsbixpLG8pKTp7Y2VudGVyOiQsem9vbTpaLGJlYXJpbmc6aX19Zml0Qm91bmRzKGUsdCxyKXtjb25zdCBuPXRoaXMuY2FtZXJhRm9yQm91bmRzKGUsdCk7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKG4sdCxyKX1maXRTY3JlZW5Db29yZGluYXRlcyh0LHIsbixpLG8pe2NvbnN0IGE9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCkscz1lLnBvaW50R2VvbWV0cnkuY29udmVydChyKSxsPW5ldyBlLnBvaW50R2VvbWV0cnkoTWF0aC5taW4oYS54LHMueCksTWF0aC5taW4oYS55LHMueSkpLGM9bmV3IGUucG9pbnRHZW9tZXRyeShNYXRoLm1heChhLngscy54KSxNYXRoLm1heChhLnkscy55KSk7aWYoXCJtZXJjYXRvclwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLnRyYW5zZm9ybS5hbnlDb3JuZXJPZmZFZGdlKGEscykpcmV0dXJuIHRoaXM7Y29uc3QgdT10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobCksaD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QoYyksZD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobmV3IGUucG9pbnRHZW9tZXRyeShsLngsYy55KSkscD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobmV3IGUucG9pbnRHZW9tZXRyeShjLngsbC55KSksZj1bTWF0aC5taW4odS5sbmcsaC5sbmcsZC5sbmcscC5sbmcpLE1hdGgubWluKHUubGF0LGgubGF0LGQubGF0LHAubGF0KV0sbT1bTWF0aC5tYXgodS5sbmcsaC5sbmcsZC5sbmcscC5sbmcpLE1hdGgubWF4KHUubGF0LGgubGF0LGQubGF0LHAubGF0KV0sZz10aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sZixtLG4saSk7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKGcsaSxvKX1fZml0SW50ZXJuYWwodCxyLG4pe3JldHVybiB0PyhkZWxldGUocj1lLmV4dGVuZCh0LHIpKS5wYWRkaW5nLHIubGluZWFyP3RoaXMuZWFzZVRvKHIsbik6dGhpcy5mbHlUbyhyLG4pKTp0aGlzfWp1bXBUbyh0LHIpe3RoaXMuc3RvcCgpO2NvbnN0IG49dC5wcmVsb2FkT25seT90aGlzLnRyYW5zZm9ybS5jbG9uZSgpOnRoaXMudHJhbnNmb3JtO2xldCBpPSExLG89ITEsYT0hMTtyZXR1cm5cInpvb21cImluIHQmJm4uem9vbSE9PSt0Lnpvb20mJihpPSEwLG4uem9vbT0rdC56b29tKSx2b2lkIDAhPT10LmNlbnRlciYmKG4uY2VudGVyPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXIpKSxcImJlYXJpbmdcImluIHQmJm4uYmVhcmluZyE9PSt0LmJlYXJpbmcmJihvPSEwLG4uYmVhcmluZz0rdC5iZWFyaW5nKSxcInBpdGNoXCJpbiB0JiZuLnBpdGNoIT09K3QucGl0Y2gmJihhPSEwLG4ucGl0Y2g9K3QucGl0Y2gpLG51bGw9PXQucGFkZGluZ3x8bi5pc1BhZGRpbmdFcXVhbCh0LnBhZGRpbmcpfHwobi5wYWRkaW5nPXQucGFkZGluZyksdC5wcmVsb2FkT25seT8odGhpcy5fcHJlbG9hZFRpbGVzKG4pLHRoaXMpOih0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIixyKSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIixyKSksaSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIscikpLG8mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVcIixyKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZWVuZFwiLHIpKSxhJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIixyKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHIpKSl9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmF8fGUud2Fybk9uY2UoSGkpLHRoaXMudHJhbnNmb3JtLmdldEZyZWVDYW1lcmFPcHRpb25zKCl9c2V0RnJlZUNhbWVyYU9wdGlvbnModCxyKXtjb25zdCBuPXRoaXMudHJhbnNmb3JtO2lmKCFuLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhKXJldHVybiBlLndhcm5PbmNlKEhpKSx0aGlzO3RoaXMuc3RvcCgpO2NvbnN0IGk9bi56b29tLG89bi5waXRjaCxhPW4uYmVhcmluZztuLnNldEZyZWVDYW1lcmFPcHRpb25zKHQpO2NvbnN0IHM9aSE9PW4uem9vbSxsPW8hPT1uLnBpdGNoLGM9YSE9PW4uYmVhcmluZztyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlXCIscikpLHMmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbVwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLHIpKSxjJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVzdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlXCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIixyKSksbCYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIixyKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoZW5kXCIscikpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIixyKSksdGhpc31lYXNlVG8odCxyKXt0aGlzLl9zdG9wKCExLHQuZWFzZUlkKSwoITE9PT0odD1lLmV4dGVuZCh7b2Zmc2V0OlswLDBdLGR1cmF0aW9uOjUwMCxlYXNpbmc6ZS5lYXNlfSx0KSkuYW5pbWF0ZXx8IXQuZXNzZW50aWFsJiZlLmV4cG9ydGVkLnByZWZlcnNSZWR1Y2VkTW90aW9uKSYmKHQuZHVyYXRpb249MCk7Y29uc3Qgbj10aGlzLnRyYW5zZm9ybSxpPXRoaXMuZ2V0Wm9vbSgpLG89dGhpcy5nZXRCZWFyaW5nKCksYT10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxsPVwiem9vbVwiaW4gdD8rdC56b29tOmksYz1cImJlYXJpbmdcImluIHQ/dGhpcy5fbm9ybWFsaXplQmVhcmluZyh0LmJlYXJpbmcsbyk6byx1PVwicGl0Y2hcImluIHQ/K3QucGl0Y2g6YSxoPVwicGFkZGluZ1wiaW4gdD90LnBhZGRpbmc6bi5wYWRkaW5nLGQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodC5vZmZzZXQpO2xldCBwLGYsbTtpZihcImdsb2JlXCI9PT1uLnByb2plY3Rpb24ubmFtZSl7Y29uc3Qgcj1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG4uY2VudGVyKSxpPWQucm90YXRlKC1uLmFuZ2xlKTtyLngrPWkueC9uLndvcmxkU2l6ZSxyLnkrPWkueS9uLndvcmxkU2l6ZTtjb25zdCBvPXIudG9MbmdMYXQoKSxhPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXJ8fG8pO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihhKSxwPW4uY2VudGVyUG9pbnQuYWRkKGkpLGY9bmV3IGUucG9pbnRHZW9tZXRyeShyLngsci55KS5tdWx0KG4ud29ybGRTaXplKSxtPW5ldyBlLnBvaW50R2VvbWV0cnkoZS5tZXJjYXRvclhmcm9tTG5nKGEubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoYS5sYXQpKS5tdWx0KG4ud29ybGRTaXplKS5zdWIoZil9ZWxzZXtwPW4uY2VudGVyUG9pbnQuYWRkKGQpO2NvbnN0IHI9bi5wb2ludExvY2F0aW9uKHApLGk9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8cik7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGkpLGY9bi5wcm9qZWN0KHIpLG09bi5wcm9qZWN0KGkpLnN1YihmKX1jb25zdCBnPW4uem9vbVNjYWxlKGwtaSk7bGV0IF8seTt0LmFyb3VuZCYmKF89ZS5MbmdMYXQuY29udmVydCh0LmFyb3VuZCkseT1uLmxvY2F0aW9uUG9pbnQoXykpO2NvbnN0IHY9dGhpcy5fem9vbWluZ3x8bCE9PWkseD10aGlzLl9yb3RhdGluZ3x8byE9PWMsYj10aGlzLl9waXRjaGluZ3x8dSE9PWEsdz0hbi5pc1BhZGRpbmdFcXVhbChoKSxUPW49PlQ9PntpZih2JiYobi56b29tPWUubnVtYmVyKGksbCxUKSkseCYmKG4uYmVhcmluZz1lLm51bWJlcihvLGMsVCkpLGImJihuLnBpdGNoPWUubnVtYmVyKGEsdSxUKSksdyYmKG4uaW50ZXJwb2xhdGVQYWRkaW5nKHMsaCxUKSxwPW4uY2VudGVyUG9pbnQuYWRkKGQpKSxfKW4uc2V0TG9jYXRpb25BdFBvaW50KF8seSk7ZWxzZXtjb25zdCBlPW4uem9vbVNjYWxlKG4uem9vbS1pKSx0PWw+aT9NYXRoLm1pbigyLGcpOk1hdGgubWF4KC41LGcpLHI9TWF0aC5wb3codCwxLVQpLG89bi51bnByb2plY3QoZi5hZGQobS5tdWx0KFQqcikpLm11bHQoZSkpO24uc2V0TG9jYXRpb25BdFBvaW50KG4ucmVuZGVyV29ybGRDb3BpZXM/by53cmFwKCk6byxwKX1yZXR1cm4gdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMociksbn07aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKFQsdC5kdXJhdGlvbixuKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9Y29uc3QgRT17bW92aW5nOnRoaXMuX21vdmluZyx6b29taW5nOnRoaXMuX3pvb21pbmcscm90YXRpbmc6dGhpcy5fcm90YXRpbmcscGl0Y2hpbmc6dGhpcy5fcGl0Y2hpbmd9O3JldHVybiB0aGlzLl96b29taW5nPXYsdGhpcy5fcm90YXRpbmc9eCx0aGlzLl9waXRjaGluZz1iLHRoaXMuX3BhZGRpbmc9dyx0aGlzLl9lYXNlSWQ9dC5lYXNlSWQsdGhpcy5fcHJlcGFyZUVhc2Uocix0Lm5vTW92ZVN0YXJ0LEUpLHRoaXMuX2Vhc2UoVChuKSxlPT57bi5yZWNlbnRlck9uVGVycmFpbigpLHRoaXMuX2FmdGVyRWFzZShyLGUpfSx0KSx0aGlzfV9wcmVwYXJlRWFzZSh0LHIsbj17fSl7dGhpcy5fbW92aW5nPSEwLHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLHJ8fG4ubW92aW5nfHx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIix0KSksdGhpcy5fem9vbWluZyYmIW4uem9vbWluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIsdCkpLHRoaXMuX3JvdGF0aW5nJiYhbi5yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlc3RhcnRcIix0KSksdGhpcy5fcGl0Y2hpbmcmJiFuLnBpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsdCkpfV9maXJlTW92ZUV2ZW50cyh0KXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlXCIsdCkpLHRoaXMuX3pvb21pbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21cIix0KSksdGhpcy5fcm90YXRpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZVwiLHQpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIix0KSl9X2FmdGVyRWFzZSh0LHIpe2lmKHRoaXMuX2Vhc2VJZCYmciYmdGhpcy5fZWFzZUlkPT09cilyZXR1cm47dGhpcy5fZWFzZUlkPXZvaWQgMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIjtjb25zdCBuPXRoaXMuX3pvb21pbmcsaT10aGlzLl9yb3RhdGluZyxvPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLHRoaXMuX3BhZGRpbmc9ITEsbiYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLHQpKSxpJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIix0KSksbyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIix0KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKX1mbHlUbyh0LHIpe2lmKCF0LmVzc2VudGlhbCYmZS5leHBvcnRlZC5wcmVmZXJzUmVkdWNlZE1vdGlvbil7Y29uc3Qgbj1lLnBpY2sodCxbXCJjZW50ZXJcIixcInpvb21cIixcImJlYXJpbmdcIixcInBpdGNoXCIsXCJhcm91bmRcIl0pO3JldHVybiB0aGlzLmp1bXBUbyhuLHIpfXRoaXMuc3RvcCgpLHQ9ZS5leHRlbmQoe29mZnNldDpbMCwwXSxzcGVlZDoxLjIsY3VydmU6MS40MixlYXNpbmc6ZS5lYXNlfSx0KTtjb25zdCBuPXRoaXMudHJhbnNmb3JtLGk9dGhpcy5nZXRab29tKCksbz10aGlzLmdldEJlYXJpbmcoKSxhPXRoaXMuZ2V0UGl0Y2goKSxzPXRoaXMuZ2V0UGFkZGluZygpLGw9XCJ6b29tXCJpbiB0P2UuY2xhbXAoK3Quem9vbSxuLm1pblpvb20sbi5tYXhab29tKTppLGM9XCJiZWFyaW5nXCJpbiB0P3RoaXMuX25vcm1hbGl6ZUJlYXJpbmcodC5iZWFyaW5nLG8pOm8sdT1cInBpdGNoXCJpbiB0Pyt0LnBpdGNoOmEsaD1cInBhZGRpbmdcImluIHQ/dC5wYWRkaW5nOm4ucGFkZGluZyxkPW4uem9vbVNjYWxlKGwtaSkscD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0Lm9mZnNldCk7bGV0IGY9bi5jZW50ZXJQb2ludC5hZGQocCk7Y29uc3QgbT1uLnBvaW50TG9jYXRpb24oZiksZz1lLkxuZ0xhdC5jb252ZXJ0KHQuY2VudGVyfHxtKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIoZyk7Y29uc3QgXz1uLnByb2plY3QobSkseT1uLnByb2plY3QoZykuc3ViKF8pO2xldCB2PXQuY3VydmU7Y29uc3QgeD1NYXRoLm1heChuLndpZHRoLG4uaGVpZ2h0KSxiPXgvZCx3PXkubWFnKCk7aWYoXCJtaW5ab29tXCJpbiB0KXtjb25zdCByPWUuY2xhbXAoTWF0aC5taW4odC5taW5ab29tLGksbCksbi5taW5ab29tLG4ubWF4Wm9vbSksbz14L24uem9vbVNjYWxlKHItaSk7dj1NYXRoLnNxcnQoby93KjIpfWNvbnN0IFQ9dip2O2Z1bmN0aW9uIEUoZSl7Y29uc3QgdD0oYipiLXgqeCsoZT8tMToxKSpUKlQqdyp3KS8oMiooZT9iOngpKlQqdyk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh0KnQrMSktdCl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4oTWF0aC5leHAoZSktTWF0aC5leHAoLWUpKS8yfWZ1bmN0aW9uIEMoZSl7cmV0dXJuKE1hdGguZXhwKGUpK01hdGguZXhwKC1lKSkvMn1jb25zdCBNPUUoMCk7bGV0IGs9ZnVuY3Rpb24oZSl7cmV0dXJuIEMoTSkvQyhNK3YqZSl9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuIHgqKChDKE0pKihTKHQ9TSt2KmUpL0ModCkpLVMoTSkpL1QpL3c7dmFyIHR9LEk9KEUoMSktTSkvdjtpZihNYXRoLmFicyh3KTwxZS02fHwhaXNGaW5pdGUoSSkpe2lmKE1hdGguYWJzKHgtYik8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8odCxyKTtjb25zdCBlPWI8eD8tMToxO0k9TWF0aC5hYnMoTWF0aC5sb2coYi94KSkvdixBPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGs9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZXhwKGUqdip0KX19dC5kdXJhdGlvbj1cImR1cmF0aW9uXCJpbiB0Pyt0LmR1cmF0aW9uOjFlMypJLyhcInNjcmVlblNwZWVkXCJpbiB0Pyt0LnNjcmVlblNwZWVkL3Y6K3Quc3BlZWQpLHQubWF4RHVyYXRpb24mJnQuZHVyYXRpb24+dC5tYXhEdXJhdGlvbiYmKHQuZHVyYXRpb249MCk7Y29uc3QgUD1vIT09Yyx6PXUhPT1hLEQ9IW4uaXNQYWRkaW5nRXF1YWwoaCksUj1uPT5kPT57Y29uc3QgbT1kKkksdj0xL2sobSk7bi56b29tPTE9PT1kP2w6aStuLnNjYWxlWm9vbSh2KSxQJiYobi5iZWFyaW5nPWUubnVtYmVyKG8sYyxkKSkseiYmKG4ucGl0Y2g9ZS5udW1iZXIoYSx1LGQpKSxEJiYobi5pbnRlcnBvbGF0ZVBhZGRpbmcocyxoLGQpLGY9bi5jZW50ZXJQb2ludC5hZGQocCkpO2NvbnN0IHg9MT09PWQ/ZzpuLnVucHJvamVjdChfLmFkZCh5Lm11bHQoQShtKSkpLm11bHQodikpO3JldHVybiBuLnNldExvY2F0aW9uQXRQb2ludChuLnJlbmRlcldvcmxkQ29waWVzP3gud3JhcCgpOngsZiksbi5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMociksbn07aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKFIsdC5kdXJhdGlvbixuKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9cmV0dXJuIHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fcm90YXRpbmc9UCx0aGlzLl9waXRjaGluZz16LHRoaXMuX3BhZGRpbmc9RCx0aGlzLl9wcmVwYXJlRWFzZShyLCExKSx0aGlzLl9lYXNlKFIobiksKCk9PnRoaXMuX2FmdGVyRWFzZShyKSx0KSx0aGlzfWlzRWFzaW5nKCl7cmV0dXJuISF0aGlzLl9lYXNlRnJhbWVJZH1zdG9wKCl7cmV0dXJuIHRoaXMuX3N0b3AoKX1fc3RvcChlLHQpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLHRoaXMuX2Vhc2VGcmFtZUlkPXZvaWQgMCx0aGlzLl9vbkVhc2VGcmFtZT12b2lkIDApLHRoaXMuX29uRWFzZUVuZCl7Y29uc3QgZT10aGlzLl9vbkVhc2VFbmQ7dGhpcy5fb25FYXNlRW5kPXZvaWQgMCxlLmNhbGwodGhpcyx0KX1pZighZSl7Y29uc3QgZT10aGlzLmhhbmRsZXJzO2UmJmUuc3RvcCghMSl9cmV0dXJuIHRoaXN9X2Vhc2UodCxyLG4peyExPT09bi5hbmltYXRlfHwwPT09bi5kdXJhdGlvbj8odCgxKSxyKCkpOih0aGlzLl9lYXNlU3RhcnQ9ZS5leHBvcnRlZC5ub3coKSx0aGlzLl9lYXNlT3B0aW9ucz1uLHRoaXMuX29uRWFzZUZyYW1lPXQsdGhpcy5fb25FYXNlRW5kPXIsdGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spKX1fcmVuZGVyRnJhbWVDYWxsYmFjaygpe2NvbnN0IHQ9TWF0aC5taW4oKGUuZXhwb3J0ZWQubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSxyPXRoaXMuX29uRWFzZUZyYW1lO3ImJnIodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKSx0PDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpfV9ub3JtYWxpemVCZWFyaW5nKHQscil7dD1lLndyYXAodCwtMTgwLDE4MCk7Y29uc3Qgbj1NYXRoLmFicyh0LXIpO3JldHVybiBNYXRoLmFicyh0LTM2MC1yKTxuJiYodC09MzYwKSxNYXRoLmFicyh0KzM2MC1yKTxuJiYodCs9MzYwKSx0fV9ub3JtYWxpemVDZW50ZXIoZSl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybTtpZighdC5yZW5kZXJXb3JsZENvcGllc3x8dC5tYXhCb3VuZHMpcmV0dXJuO2NvbnN0IHI9ZS5sbmctdC5jZW50ZXIubG5nO2UubG5nKz1yPjE4MD8tMzYwOnI8LTE4MD8zNjA6MH1fZW11bGF0ZShlLHQscil7Y29uc3Qgbj1NYXRoLmNlaWwoMTUqdC8xZTMpLGk9W10sbz1lKHIuY2xvbmUoKSk7Zm9yKGxldCBlPTA7ZTw9bjtlKyspe2NvbnN0IHQ9byhlL24pO2kucHVzaCh0LmNsb25lKCkpfXJldHVybiBpfX1jbGFzcyBLaXtjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLm9wdGlvbnM9dCxlLmJpbmRBbGwoW1wiX3RvZ2dsZUF0dHJpYnV0aW9uXCIsXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKX1nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm5cImJvdHRvbS1yaWdodFwifW9uQWRkKGUpe2NvbnN0IHQ9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuY29tcGFjdDtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1hdHRyaWJcIiksdGhpcy5fY29tcGFjdEJ1dHRvbj1vKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b25cIix0aGlzLl9jb250YWluZXIpLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYWN0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnR5cGU9XCJidXR0b25cIix0aGlzLl9jb21wYWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX3RvZ2dsZUF0dHJpYnV0aW9uKSx0aGlzLl9zZXRFbGVtZW50VGl0bGUodGhpcy5fY29tcGFjdEJ1dHRvbixcIlRvZ2dsZUF0dHJpYnV0aW9uXCIpLHRoaXMuX2lubmVyQ29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVyXCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9pbm5lckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJsaXN0XCIpLHQmJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbihcInN0eWxlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PXQmJih0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9hdHRyaWJIVE1MPXZvaWQgMH1fc2V0RWxlbWVudFRpdGxlKGUsdCl7Y29uc3Qgcj10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiQXR0cmlidXRpb25Db250cm9sLlwiK3QpO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHIpLGUucmVtb3ZlQXR0cmlidXRlKFwidGl0bGVcIiksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHIpfV90b2dnbGVBdHRyaWJ1dGlvbigpe3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIik/KHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpLHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpOih0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIikpfV91cGRhdGVFZGl0TGluaygpe2xldCB0PXRoaXMuX2VkaXRMaW5rO3R8fCh0PXRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1hcGJveC1pbXByb3ZlLW1hcFwiKSk7Y29uc3Qgcj1be2tleTpcIm93bmVyXCIsdmFsdWU6dGhpcy5zdHlsZU93bmVyfSx7a2V5OlwiaWRcIix2YWx1ZTp0aGlzLnN0eWxlSWR9LHtrZXk6XCJhY2Nlc3NfdG9rZW5cIix2YWx1ZTp0aGlzLl9tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZS5jb25maWcuQUNDRVNTX1RPS0VOfV07aWYodCl7Y29uc3Qgbj1yLnJlZHVjZSgoZSx0LG4pPT4odC52YWx1ZSYmKGUrPWAke3Qua2V5fT0ke3QudmFsdWV9JHtuPHIubGVuZ3RoLTE/XCImXCI6XCJcIn1gKSxlKSxcIj9cIik7dC5ocmVmPWAke2UuY29uZmlnLkZFRURCQUNLX1VSTH0vJHtufSMke2VpKHRoaXMuX21hcCwhMCl9YCx0LnJlbD1cIm5vb3BlbmVyIG5vZm9sbG93XCIsdGhpcy5fc2V0RWxlbWVudFRpdGxlKHQsXCJNYXBGZWVkYmFja1wiKX19X3VwZGF0ZURhdGEoZSl7IWV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUmJlwidmlzaWJpbGl0eVwiIT09ZS5zb3VyY2VEYXRhVHlwZSYmXCJzdHlsZVwiIT09ZS5kYXRhVHlwZXx8KHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCkpfV91cGRhdGVBdHRyaWJ1dGlvbnMoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybjtsZXQgZT1bXTtpZih0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCl7Y29uc3QgZT10aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDt0aGlzLnN0eWxlT3duZXI9ZS5vd25lcix0aGlzLnN0eWxlSWQ9ZS5pZH1jb25zdCB0PXRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCByIGluIHQpe2NvbnN0IG49dFtyXTtpZihuLnVzZWQpe2NvbnN0IHQ9bi5nZXRTb3VyY2UoKTt0LmF0dHJpYnV0aW9uJiZlLmluZGV4T2YodC5hdHRyaWJ1dGlvbik8MCYmZS5wdXNoKHQuYXR0cmlidXRpb24pfX1lLnNvcnQoKGUsdCk9PmUubGVuZ3RoLXQubGVuZ3RoKSxlPWUuZmlsdGVyKCh0LHIpPT57Zm9yKGxldCBuPXIrMTtuPGUubGVuZ3RoO24rKylpZihlW25dLmluZGV4T2YodCk+PTApcmV0dXJuITE7cmV0dXJuITB9KSx0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24mJihBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik/ZT1bLi4udGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uLC4uLmVdOmUudW5zaGlmdCh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pKTtjb25zdCByPWUuam9pbihcIiB8IFwiKTtyIT09dGhpcy5fYXR0cmliSFRNTCYmKHRoaXMuX2F0dHJpYkhUTUw9cixlLmxlbmd0aD8odGhpcy5faW5uZXJDb250YWluZXIuaW5uZXJIVE1MPXIsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1hdHRyaWItZW1wdHlcIikpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpLHRoaXMuX2VkaXRMaW5rPW51bGwpfV91cGRhdGVDb21wYWN0KCl7dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPD02NDA/dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiLFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpfX1jbGFzcyBKaXtjb25zdHJ1Y3Rvcigpe2UuYmluZEFsbChbXCJfdXBkYXRlTG9nb1wiLFwiX3VwZGF0ZUNvbXBhY3RcIl0sdGhpcyl9b25BZGQoZSl7dGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmxcIik7Y29uc3QgdD1vKFwiYVwiLFwibWFwYm94Z2wtY3RybC1sb2dvXCIpO3JldHVybiB0LnRhcmdldD1cIl9ibGFua1wiLHQucmVsPVwibm9vcGVuZXIgbm9mb2xsb3dcIix0LmhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJMb2dvQ29udHJvbC5UaXRsZVwiKSksdC5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcIm5vb3BlbmVyIG5vZm9sbG93XCIpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0KSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCl9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuXCJib3R0b20tbGVmdFwifV91cGRhdGVMb2dvKGUpe2UmJlwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGV8fCh0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT10aGlzLl9sb2dvUmVxdWlyZWQoKT9cImJsb2NrXCI6XCJub25lXCIpfV9sb2dvUmVxdWlyZWQoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybiEwO2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLl9zb3VyY2VDYWNoZXM7aWYoMD09PU9iamVjdC5lbnRyaWVzKGUpLmxlbmd0aClyZXR1cm4hMDtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPWVbdF0uZ2V0U291cmNlKCk7aWYoci5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9sb2dvXCIpJiYhci5tYXBib3hfbG9nbylyZXR1cm4hMX1yZXR1cm4hMH1fdXBkYXRlQ29tcGFjdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF07dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPDI1MD90LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIil9fX1jbGFzcyBRaXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3F1ZXVlPVtdLHRoaXMuX2lkPTAsdGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExfWFkZChlKXtjb25zdCB0PSsrdGhpcy5faWQ7cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2goe2NhbGxiYWNrOmUsaWQ6dCxjYW5jZWxsZWQ6ITF9KSx0fXJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2N1cnJlbnRseVJ1bm5pbmcscj10P3RoaXMuX3F1ZXVlLmNvbmNhdCh0KTp0aGlzLl9xdWV1ZTtmb3IoY29uc3QgdCBvZiByKWlmKHQuaWQ9PT1lKXJldHVybiB2b2lkKHQuY2FuY2VsbGVkPSEwKX1ydW4oZT0wKXtjb25zdCB0PXRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9dGhpcy5fcXVldWU7dGhpcy5fcXVldWU9W107Zm9yKGNvbnN0IHIgb2YgdClpZighci5jYW5jZWxsZWQmJihyLmNhbGxiYWNrKGUpLHRoaXMuX2NsZWFyZWQpKWJyZWFrO3RoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMX1jbGVhcigpe3RoaXMuX2N1cnJlbnRseVJ1bm5pbmcmJih0aGlzLl9jbGVhcmVkPSEwKSx0aGlzLl9xdWV1ZT1bXX19ZnVuY3Rpb24gZW8odCxyLG4pe2lmKHQ9bmV3IGUuTG5nTGF0KHQubG5nLHQubGF0KSxyKXtjb25zdCBpPW5ldyBlLkxuZ0xhdCh0LmxuZy0zNjAsdC5sYXQpLG89bmV3IGUuTG5nTGF0KHQubG5nKzM2MCx0LmxhdCksYT0zNjAqTWF0aC5jZWlsKE1hdGguYWJzKHQubG5nLW4uY2VudGVyLmxuZykvMzYwKSxzPW4ubG9jYXRpb25Qb2ludCh0KS5kaXN0U3FyKHIpLGw9ci54PDB8fHIueTwwfHxyLng+bi53aWR0aHx8ci55Pm4uaGVpZ2h0O24ubG9jYXRpb25Qb2ludChpKS5kaXN0U3FyKHIpPHMmJihsfHxNYXRoLmFicyhpLmxuZy1uLmNlbnRlci5sbmcpPGEpP3Q9aTpuLmxvY2F0aW9uUG9pbnQobykuZGlzdFNxcihyKTxzJiYobHx8TWF0aC5hYnMoby5sbmctbi5jZW50ZXIubG5nKTxhKSYmKHQ9byl9Zm9yKDtNYXRoLmFicyh0LmxuZy1uLmNlbnRlci5sbmcpPjE4MDspe2NvbnN0IGU9bi5sb2NhdGlvblBvaW50KHQpO2lmKGUueD49MCYmZS55Pj0wJiZlLng8PW4ud2lkdGgmJmUueTw9bi5oZWlnaHQpYnJlYWs7dC5sbmc+bi5jZW50ZXIubG5nP3QubG5nLT0zNjA6dC5sbmcrPTM2MH1yZXR1cm4gdH1jb25zdCB0bz17Y2VudGVyOlwidHJhbnNsYXRlKC01MCUsLTUwJSlcIix0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn07Y2xhc3Mgcm8gZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyKXtpZihzdXBlcigpLCh0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnR8fHIpJiYodD1lLmV4dGVuZCh7ZWxlbWVudDp0fSxyKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9vbk1vdmVcIixcIl9vblVwXCIsXCJfYWRkRHJhZ0hhbmRsZXJcIixcIl9vbk1hcENsaWNrXCIsXCJfb25LZXlQcmVzc1wiLFwiX2NsZWFyRmFkZVRpbWVyXCJdLHRoaXMpLHRoaXMuX2FuY2hvcj10JiZ0LmFuY2hvcnx8XCJjZW50ZXJcIix0aGlzLl9jb2xvcj10JiZ0LmNvbG9yfHxcIiMzRkIxQ0VcIix0aGlzLl9zY2FsZT10JiZ0LnNjYWxlfHwxLHRoaXMuX2RyYWdnYWJsZT10JiZ0LmRyYWdnYWJsZXx8ITEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dCYmdC5jbGlja1RvbGVyYW5jZXx8MCx0aGlzLl9pc0RyYWdnaW5nPSExLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIix0aGlzLl9yb3RhdGlvbj10JiZ0LnJvdGF0aW9ufHwwLHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PXQmJnQucm90YXRpb25BbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3BpdGNoQWxpZ25tZW50PXQmJnQucGl0Y2hBbGlnbm1lbnQmJnQucGl0Y2hBbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZU1vdmluZz0oKT0+dGhpcy5fdXBkYXRlKCEwKSx0aGlzLl9vY2NsdWRlZE9wYWNpdHk9dCYmdC5vY2NsdWRlZE9wYWNpdHl8fC4yLHQmJnQuZWxlbWVudCl0aGlzLl9lbGVtZW50PXQuZWxlbWVudCx0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCYmdC5vZmZzZXR8fFswLDBdKTtlbHNle3RoaXMuX2RlZmF1bHRNYXJrZXI9ITAsdGhpcy5fZWxlbWVudD1vKFwiZGl2XCIpO2NvbnN0IHI9NDEsbj0yNyxpPWEoXCJzdmdcIix7ZGlzcGxheTpcImJsb2NrXCIsaGVpZ2h0OnIqdGhpcy5fc2NhbGUrXCJweFwiLHdpZHRoOm4qdGhpcy5fc2NhbGUrXCJweFwiLHZpZXdCb3g6YDAgMCAke259ICR7cn1gfSx0aGlzLl9lbGVtZW50KSxzPWEoXCJyYWRpYWxHcmFkaWVudFwiLHtpZDpcInNoYWRvd0dyYWRpZW50XCJ9LGEoXCJkZWZzXCIse30saSkpO2EoXCJzdG9wXCIse29mZnNldDpcIjEwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjR9LHMpLGEoXCJzdG9wXCIse29mZnNldDpcIjEwMCVcIixcInN0b3Atb3BhY2l0eVwiOi4wNX0scyksYShcImVsbGlwc2VcIix7Y3g6MTMuNSxjeTozNC44LHJ4OjEwLjUscnk6NS4yNSxmaWxsOlwidXJsKCNzaGFkb3dHcmFkaWVudClcIn0saSksYShcInBhdGhcIix7ZmlsbDp0aGlzLl9jb2xvcixkOlwiTTI3LDEzLjVDMjcsMTkuMDcgMjAuMjUsMjcgMTQuNzUsMzQuNUMxNC4wMiwzNS41IDEyLjk4LDM1LjUgMTIuMjUsMzQuNUM2Ljc1LDI3IDAsMTkuMjIgMCwxMy41QzAsNi4wNCA2LjA0LDAgMTMuNSwwQzIwLjk2LDAgMjcsNi4wNCAyNywxMy41WlwifSxpKSxhKFwicGF0aFwiLHtvcGFjaXR5Oi4yNSxkOlwiTTEzLjUsMEM2LjA0LDAgMCw2LjA0IDAsMTMuNUMwLDE5LjIyIDYuNzUsMjcgMTIuMjUsMzQuNUMxMywzNS41MiAxNC4wMiwzNS41IDE0Ljc1LDM0LjVDMjAuMjUsMjcgMjcsMTkuMDcgMjcsMTMuNUMyNyw2LjA0IDIwLjk2LDAgMTMuNSwwWk0xMy41LDFDMjAuNDIsMSAyNiw2LjU4IDI2LDEzLjVDMjYsMTUuOSAyNC41LDE5LjE4IDIyLjIyLDIyLjc0QzE5Ljk1LDI2LjMgMTYuNzEsMzAuMTQgMTMuOTQsMzMuOTFDMTMuNzQsMzQuMTggMTMuNjEsMzQuMzIgMTMuNSwzNC40NEMxMy4zOSwzNC4zMiAxMy4yNiwzNC4xOCAxMy4wNiwzMy45MUMxMC4yOCwzMC4xMyA3LjQxLDI2LjMxIDUuMDIsMjIuNzdDMi42MiwxOS4yMyAxLDE1Ljk1IDEsMTMuNUMxLDYuNTggNi41OCwxIDEzLjUsMVpcIn0saSksYShcImNpcmNsZVwiLHtmaWxsOlwid2hpdGVcIixjeDoxMy41LGN5OjEzLjUscjo1LjV9LGkpLHRoaXMuX29mZnNldD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0JiZ0Lm9mZnNldHx8WzAsLTE0XSl9dGhpcy5fZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpfHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIk1hcCBtYXJrZXJcIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLGU9PntlLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSk7Y29uc3Qgbj10aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtmb3IoY29uc3QgZSBpbiB0byluLnJlbW92ZShcIm1hcGJveGdsLW1hcmtlci1hbmNob3ItXCIrZSk7bi5hZGQoXCJtYXBib3hnbC1tYXJrZXItYW5jaG9yLVwiK3RoaXMuX2FuY2hvciksdGhpcy5fcG9wdXA9bnVsbH1hZGRUbyhlKXtyZXR1cm4gZT09PXRoaXMuX21hcHx8KHRoaXMucmVtb3ZlKCksdGhpcy5fbWFwPWUsZS5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KSxlLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub24oXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fYWRkTWFya2VyKHRoaXMpLHRoaXMuc2V0RHJhZ2dhYmxlKHRoaXMuX2RyYWdnYWJsZSksdGhpcy5fdXBkYXRlKCksZS5vbihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljaykpLHRoaXN9cmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljayksZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlTW92aW5nKSxlLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLGUub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcIm1vdXNldXBcIix0aGlzLl9vblVwKSxlLm9mZihcInRvdWNoZW5kXCIsdGhpcy5fb25VcCksZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInJlbW92ZVwiLHRoaXMuX2NsZWFyRmFkZVRpbWVyKSxlLl9yZW1vdmVNYXJrZXIodGhpcyksdGhpcy5fbWFwPXZvaWQgMCksdGhpcy5fY2xlYXJGYWRlVGltZXIoKSx0aGlzLl9lbGVtZW50LnJlbW92ZSgpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3JldHVybiB0aGlzLl9sbmdMYXQ9ZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fZWxlbWVudH1zZXRQb3B1cChlKXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSksZSl7aWYoIShcIm9mZnNldFwiaW4gZS5vcHRpb25zKSl7Y29uc3QgdD0zOC4xLHI9MTMuNSxuPU1hdGguc3FydChNYXRoLnBvdyhyLDIpLzIpO2Uub3B0aW9ucy5vZmZzZXQ9dGhpcy5fZGVmYXVsdE1hcmtlcj97dG9wOlswLDBdLFwidG9wLWxlZnRcIjpbMCwwXSxcInRvcC1yaWdodFwiOlswLDBdLGJvdHRvbTpbMCwtdF0sXCJib3R0b20tbGVmdFwiOltuLC0xKih0LXIrbildLFwiYm90dG9tLXJpZ2h0XCI6Wy1uLC0xKih0LXIrbildLGxlZnQ6W3IsLTEqKHQtcildLHJpZ2h0OlstciwtMSoodC1yKV19OnRoaXMuX29mZnNldH10aGlzLl9wb3B1cD1lLGUuX21hcmtlcj10aGlzLHRoaXMuX2xuZ0xhdCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpfXJldHVybiB0aGlzfV9vbktleVByZXNzKGUpe2NvbnN0IHQ9ZS5jb2RlLHI9ZS5jaGFyQ29kZXx8ZS5rZXlDb2RlO1wiU3BhY2VcIiE9PXQmJlwiRW50ZXJcIiE9PXQmJjMyIT09ciYmMTMhPT1yfHx0aGlzLnRvZ2dsZVBvcHVwKCl9X29uTWFwQ2xpY2soZSl7Y29uc3QgdD1lLm9yaWdpbmFsRXZlbnQudGFyZ2V0LHI9dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKHQ9PT1yfHxyLmNvbnRhaW5zKHQpKSYmdGhpcy50b2dnbGVQb3B1cCgpfWdldFBvcHVwKCl7cmV0dXJuIHRoaXMuX3BvcHVwfXRvZ2dsZVBvcHVwKCl7Y29uc3QgZT10aGlzLl9wb3B1cDtyZXR1cm4gZT8oZS5pc09wZW4oKT8oZS5yZW1vdmUoKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKTp0aGlzLl9tYXAmJihlLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKSx0aGlzKTp0aGlzfV9iZWhpbmRUZXJyYWluKCl7Y29uc3QgZT10aGlzLl9tYXAsdD10aGlzLl9wb3M7aWYoIWV8fCF0KXJldHVybiExO2NvbnN0IHI9ZS51bnByb2plY3QodCksbj1lLmdldEZyZWVDYW1lcmFPcHRpb25zKCk7aWYoIW4ucG9zaXRpb24pcmV0dXJuITE7Y29uc3QgaT1uLnBvc2l0aW9uLnRvTG5nTGF0KCk7cmV0dXJuIGkuZGlzdGFuY2VUbyhyKTwuOSppLmRpc3RhbmNlVG8odGhpcy5fbG5nTGF0KX1fZXZhbHVhdGVPcGFjaXR5KCl7Y29uc3QgdD10aGlzLl9tYXA7aWYoIXQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fcG9zO2lmKCFyfHxyLng8MHx8ci54PnQudHJhbnNmb3JtLndpZHRofHxyLnk8MHx8ci55PnQudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdm9pZCB0aGlzLl9jbGVhckZhZGVUaW1lcigpO2NvbnN0IG49dC51bnByb2plY3Qocik7bGV0IGk7dC5fc2hvd2luZ0dsb2JlKCkmJmUuaXNMbmdMYXRCZWhpbmRHbG9iZSh0LnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpP2k9MDooaT0xLXQuX3F1ZXJ5Rm9nT3BhY2l0eShuKSx0LnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdC5nZXRUZXJyYWluKCkmJnRoaXMuX2JlaGluZFRlcnJhaW4oKSYmKGkqPXRoaXMuX29jY2x1ZGVkT3BhY2l0eSkpLHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1cIlwiK2ksdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPWk+MD9cImF1dG9cIjpcIm5vbmVcIix0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX3NldE9wYWNpdHkoaSksdGhpcy5fZmFkZVRpbWVyPW51bGx9X2NsZWFyRmFkZVRpbWVyKCl7dGhpcy5fZmFkZVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2ZhZGVUaW1lciksdGhpcy5fZmFkZVRpbWVyPW51bGwpfV91cGRhdGVET00oKXtjb25zdCBlPXRoaXMuX3BvcztpZighZXx8IXRoaXMuX21hcClyZXR1cm47Y29uc3QgdD10aGlzLl9vZmZzZXQubXVsdCh0aGlzLl9zY2FsZSk7dGhpcy5fZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09YFxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke2UueH1weCwke2UueX1weClcXG4gICAgICAgICAgICAke3RvW3RoaXMuX2FuY2hvcl19XFxuICAgICAgICAgICAgJHt0aGlzLl9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpfSAke3RoaXMuX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKX1cXG4gICAgICAgICAgICB0cmFuc2xhdGUoJHt0Lnh9cHgsJHt0Lnl9cHgpXFxuICAgICAgICBgfV9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpe2NvbnN0IHQ9dGhpcy5fcG9zLHI9dGhpcy5fbWFwLG49dGhpcy5nZXRQaXRjaEFsaWdubWVudCgpO2lmKCFyfHwhdHx8XCJtYXBcIiE9PW4pcmV0dXJuXCJcIjtpZighci5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IGU9ci5nZXRQaXRjaCgpO3JldHVybiBlP2Byb3RhdGVYKCR7ZX1kZWcpYDpcIlwifWNvbnN0IGk9ZS5yYWRUb0RlZyhlLmdsb2JlVGlsdEF0TG5nTGF0KHIudHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCkpLG89dC5zdWIoZS5nbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQoci50cmFuc2Zvcm0pKSxhPU1hdGguYWJzKG8ueCkrTWF0aC5hYnMoby55KTtpZigwPT09YSlyZXR1cm5cIlwiO2NvbnN0IHM9aS9hO3JldHVybmByb3RhdGVYKCR7LW8ueSpzfWRlZykgcm90YXRlWSgke28ueCpzfWRlZylgfV9jYWxjdWxhdGVaVHJhbnNmb3JtKCl7Y29uc3QgdD10aGlzLl9wb3Mscj10aGlzLl9tYXA7aWYoIXJ8fCF0KXJldHVyblwiXCI7bGV0IG49MDtjb25zdCBpPXRoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtpZihcIm1hcFwiPT09aSlpZihyLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgdD1yLnByb2plY3QobmV3IGUuTG5nTGF0KHRoaXMuX2xuZ0xhdC5sbmcsdGhpcy5fbG5nTGF0LmxhdCsuMDAxKSksaT1yLnByb2plY3QobmV3IGUuTG5nTGF0KHRoaXMuX2xuZ0xhdC5sbmcsdGhpcy5fbG5nTGF0LmxhdC0uMDAxKSkuc3ViKHQpO249ZS5yYWRUb0RlZyhNYXRoLmF0YW4yKGkueSxpLngpKS05MH1lbHNlIG49LXIuZ2V0QmVhcmluZygpO2Vsc2UgaWYoXCJob3Jpem9uXCI9PT1pKXtjb25zdCBpPWUuc21vb3Roc3RlcCg0LDYsci5nZXRab29tKCkpLG89ZS5nbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQoci50cmFuc2Zvcm0pO28ueSs9aSpyLnRyYW5zZm9ybS5oZWlnaHQ7Y29uc3QgYT10LnN1YihvKSxzPWUucmFkVG9EZWcoTWF0aC5hdGFuMihhLnksYS54KSk7bj0ocz45MD9zLTI3MDpzKzkwKSooMS1pKX1yZXR1cm4gbis9dGhpcy5fcm90YXRpb24sbj9gcm90YXRlWigke259ZGVnKWA6XCJcIn1fdXBkYXRlKHQpe2Uud2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3VwZGF0ZUZyYW1lSWQpO2NvbnN0IHI9dGhpcy5fbWFwO3ImJihyLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmKHRoaXMuX2xuZ0xhdD1lbyh0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLHIudHJhbnNmb3JtKSksdGhpcy5fcG9zPXIucHJvamVjdCh0aGlzLl9sbmdMYXQpLCEwPT09dD90aGlzLl91cGRhdGVGcmFtZUlkPWUud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3RoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiYodGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLHRoaXMuX3VwZGF0ZURPTSgpKX0pOnRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSxyLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX21hcCYmKHRoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiZ0aGlzLl91cGRhdGVET00oKSwoci5fc2hvd2luZ0dsb2JlKCl8fHIuZ2V0VGVycmFpbigpfHxyLmdldEZvZygpKSYmIXRoaXMuX2ZhZGVUaW1lciYmKHRoaXMuX2ZhZGVUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2V2YWx1YXRlT3BhY2l0eS5iaW5kKHRoaXMpLDYwKSkpfSkpfWdldE9mZnNldCgpe3JldHVybiB0aGlzLl9vZmZzZXR9c2V0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCksdGhpcy5fdXBkYXRlKCksdGhpc31fb25Nb3ZlKHQpe2NvbnN0IHI9dGhpcy5fbWFwO2lmKCFyKXJldHVybjtjb25zdCBuPXRoaXMuX3BvaW50ZXJkb3duUG9zLGk9dGhpcy5fcG9zaXRpb25EZWx0YTtpZihuJiZpKXtpZighdGhpcy5faXNEcmFnZ2luZyl7Y29uc3QgZT10aGlzLl9jbGlja1RvbGVyYW5jZXx8ci5fY2xpY2tUb2xlcmFuY2U7aWYodC5wb2ludC5kaXN0KG4pPGUpcmV0dXJuO3RoaXMuX2lzRHJhZ2dpbmc9ITB9dGhpcy5fcG9zPXQucG9pbnQuc3ViKGkpLHRoaXMuX2xuZ0xhdD1yLnVucHJvamVjdCh0aGlzLl9wb3MpLHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLFwicGVuZGluZ1wiPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1cImFjdGl2ZVwiLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdzdGFydFwiKSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdcIikpfX1fb25VcCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIix0aGlzLl9wb3NpdGlvbkRlbHRhPW51bGwsdGhpcy5fcG9pbnRlcmRvd25Qb3M9bnVsbCx0aGlzLl9pc0RyYWdnaW5nPSExO2NvbnN0IHQ9dGhpcy5fbWFwO3QmJih0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vZmYoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpKSxcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdlbmRcIikpLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIn1fYWRkRHJhZ0hhbmRsZXIoZSl7Y29uc3QgdD10aGlzLl9tYXAscj10aGlzLl9wb3M7dCYmciYmdGhpcy5fZWxlbWVudC5jb250YWlucyhlLm9yaWdpbmFsRXZlbnQudGFyZ2V0KSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9wb3NpdGlvbkRlbHRhPWUucG9pbnQuc3ViKHIpLHRoaXMuX3BvaW50ZXJkb3duUG9zPWUucG9pbnQsdGhpcy5fc3RhdGU9XCJwZW5kaW5nXCIsdC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbmNlKFwibW91c2V1cFwiLHRoaXMuX29uVXApLHQub25jZShcInRvdWNoZW5kXCIsdGhpcy5fb25VcCkpfXNldERyYWdnYWJsZShlKXt0aGlzLl9kcmFnZ2FibGU9ISFlO2NvbnN0IHQ9dGhpcy5fbWFwO3JldHVybiB0JiYoZT8odC5vbihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0Lm9uKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSk6KHQub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHQub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSkpLHRoaXN9aXNEcmFnZ2FibGUoKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlfXNldFJvdGF0aW9uKGUpe3JldHVybiB0aGlzLl9yb3RhdGlvbj1lfHwwLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0Um90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0Um90YXRpb25BbGlnbm1lbnQoZSl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PWV8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0Um90YXRpb25BbGlnbm1lbnQoKXtyZXR1cm5cImF1dG9cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fHxcImhvcml6b25cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50JiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuX3Nob3dpbmdHbG9iZSgpP1widmlld3BvcnRcIjp0aGlzLl9yb3RhdGlvbkFsaWdubWVudH1zZXRQaXRjaEFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRQaXRjaEFsaWdubWVudCgpe3JldHVyblwiYXV0b1wiPT09dGhpcy5fcGl0Y2hBbGlnbm1lbnQ/dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpOnRoaXMuX3BpdGNoQWxpZ25tZW50fXNldE9jY2x1ZGVkT3BhY2l0eShlKXtyZXR1cm4gdGhpcy5fb2NjbHVkZWRPcGFjaXR5PWV8fC4yLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0T2NjbHVkZWRPcGFjaXR5KCl7cmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eX19Y29uc3Qgbm89e2Nsb3NlQnV0dG9uOiEwLGNsb3NlT25DbGljazohMCxmb2N1c0FmdGVyT3BlbjohMCxjbGFzc05hbWU6XCJcIixtYXhXaWR0aDpcIjI0MHB4XCJ9LGlvPVtcImFbaHJlZl1cIixcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcIltjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKVwiLFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIl0uam9pbihcIiwgXCIpO2Z1bmN0aW9uIG9vKHQ9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHI9XCJib3R0b21cIil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2NvbnN0IG49TWF0aC5yb3VuZChNYXRoLnNxcnQoLjUqTWF0aC5wb3codCwyKSkpO3N3aXRjaChyKXtjYXNlXCJ0b3BcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLHQpO2Nhc2VcInRvcC1sZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkobixuKTtjYXNlXCJ0b3AtcmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtbixuKTtjYXNlXCJib3R0b21cIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLC10KTtjYXNlXCJib3R0b20tbGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KG4sLW4pO2Nhc2VcImJvdHRvbS1yaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC1uLC1uKTtjYXNlXCJsZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodCwwKTtjYXNlXCJyaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC10LDApfXJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCl9cmV0dXJuIHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fEFycmF5LmlzQXJyYXkodCk/ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCk6ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFtyXXx8WzAsMF0pfWNsYXNzIGFve2NvbnN0cnVjdG9yKGUpe3RoaXMuanVtcFRvKGUpfWdldFZhbHVlKHQpe2lmKHQ8PXRoaXMuX3N0YXJ0VGltZSlyZXR1cm4gdGhpcy5fc3RhcnQ7aWYodD49dGhpcy5fZW5kVGltZSlyZXR1cm4gdGhpcy5fZW5kO2NvbnN0IHI9ZS5lYXNlQ3ViaWNJbk91dCgodC10aGlzLl9zdGFydFRpbWUpLyh0aGlzLl9lbmRUaW1lLXRoaXMuX3N0YXJ0VGltZSkpO3JldHVybiB0aGlzLl9zdGFydCooMS1yKSt0aGlzLl9lbmQqcn1pc0Vhc2luZyhlKXtyZXR1cm4gZT49dGhpcy5fc3RhcnRUaW1lJiZlPD10aGlzLl9lbmRUaW1lfWp1bXBUbyhlKXt0aGlzLl9zdGFydFRpbWU9LTEvMCx0aGlzLl9lbmRUaW1lPS0xLzAsdGhpcy5fc3RhcnQ9ZSx0aGlzLl9lbmQ9ZX1lYXNlVG8oZSx0LHIpe3RoaXMuX3N0YXJ0PXRoaXMuZ2V0VmFsdWUodCksdGhpcy5fZW5kPWUsdGhpcy5fc3RhcnRUaW1lPXQsdGhpcy5fZW5kVGltZT10K3J9fWNvbnN0IHNvPXtcIkF0dHJpYnV0aW9uQ29udHJvbC5Ub2dnbGVBdHRyaWJ1dGlvblwiOlwiVG9nZ2xlIGF0dHJpYnV0aW9uXCIsXCJBdHRyaWJ1dGlvbkNvbnRyb2wuTWFwRmVlZGJhY2tcIjpcIk1hcCBmZWVkYmFja1wiLFwiRnVsbHNjcmVlbkNvbnRyb2wuRW50ZXJcIjpcIkVudGVyIGZ1bGxzY3JlZW5cIixcIkZ1bGxzY3JlZW5Db250cm9sLkV4aXRcIjpcIkV4aXQgZnVsbHNjcmVlblwiLFwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvblwiOlwiRmluZCBteSBsb2NhdGlvblwiLFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiOlwiTG9jYXRpb24gbm90IGF2YWlsYWJsZVwiLFwiTG9nb0NvbnRyb2wuVGl0bGVcIjpcIk1hcGJveCBsb2dvXCIsXCJNYXAuVGl0bGVcIjpcIk1hcFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuUmVzZXRCZWFyaW5nXCI6XCJSZXNldCBiZWFyaW5nIHRvIG5vcnRoXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tSW5cIjpcIlpvb20gaW5cIixcIk5hdmlnYXRpb25Db250cm9sLlpvb21PdXRcIjpcIlpvb20gb3V0XCIsXCJTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZVwiOlwiVXNlIGN0cmwgKyBzY3JvbGwgdG8gem9vbSB0aGUgbWFwXCIsXCJTY3JvbGxab29tQmxvY2tlci5DbWRNZXNzYWdlXCI6XCJVc2Ug4oyYICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiVG91Y2hQYW5CbG9ja2VyLk1lc3NhZ2VcIjpcIlVzZSB0d28gZmluZ2VycyB0byBtb3ZlIHRoZSBtYXBcIn0sbG89e2NlbnRlcjpbMCwwXSx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsbWluWm9vbTotMixtYXhab29tOjIyLG1pblBpdGNoOjAsbWF4UGl0Y2g6ODUsaW50ZXJhY3RpdmU6ITAsc2Nyb2xsWm9vbTohMCxib3hab29tOiEwLGRyYWdSb3RhdGU6ITAsZHJhZ1BhbjohMCxrZXlib2FyZDohMCxkb3VibGVDbGlja1pvb206ITAsdG91Y2hab29tUm90YXRlOiEwLHRvdWNoUGl0Y2g6ITAsY29vcGVyYXRpdmVHZXN0dXJlczohMSxwZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uOiEwLGJlYXJpbmdTbmFwOjcsY2xpY2tUb2xlcmFuY2U6MyxwaXRjaFdpdGhSb3RhdGU6ITAsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsdHJhY2tSZXNpemU6ITAsb3B0aW1pemVGb3JUZXJyYWluOiEwLHJlbmRlcldvcmxkQ29waWVzOiEwLHJlZnJlc2hFeHBpcmVkVGlsZXM6ITAsbWluVGlsZUNhY2hlU2l6ZTpudWxsLG1heFRpbGVDYWNoZVNpemU6bnVsbCxsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6XCJzYW5zLXNlcmlmXCIsbG9jYWxGb250RmFtaWx5Om51bGwsdHJhbnNmb3JtUmVxdWVzdDpudWxsLGFjY2Vzc1Rva2VuOm51bGwsZmFkZUR1cmF0aW9uOjMwMCxjcm9zc1NvdXJjZUNvbGxpc2lvbnM6ITB9O2Z1bmN0aW9uIGNvKGUpe2UucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfWNvbnN0IHVvPXtzaG93Q29tcGFzczohMCxzaG93Wm9vbTohMCx2aXN1YWxpemVQaXRjaDohMX07Y2xhc3MgaG97Y29uc3RydWN0b3IodCxyLG49ITEpe3RoaXMuX2NsaWNrVG9sZXJhbmNlPTEwLHRoaXMuZWxlbWVudD1yLHRoaXMubW91c2VSb3RhdGU9bmV3IHdpKHtjbGlja1RvbGVyYW5jZTp0LmRyYWdSb3RhdGUuX21vdXNlUm90YXRlLl9jbGlja1RvbGVyYW5jZX0pLHRoaXMubWFwPXQsbiYmKHRoaXMubW91c2VQaXRjaD1uZXcgVGkoe2NsaWNrVG9sZXJhbmNlOnQuZHJhZ1JvdGF0ZS5fbW91c2VQaXRjaC5fY2xpY2tUb2xlcmFuY2V9KSksZS5iaW5kQWxsKFtcIm1vdXNlZG93blwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCIsXCJyZXNldFwiXSx0aGlzKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLHIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLHIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCl9ZG93bihlLHQpe3RoaXMubW91c2VSb3RhdGUubW91c2Vkb3duKGUsdCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2Vkb3duKGUsdCksdSgpfW1vdmUoZSx0KXtjb25zdCByPXRoaXMubWFwLG49dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3coZSx0KSxpPW4mJm4uYmVhcmluZ0RlbHRhO2lmKGkmJnIuc2V0QmVhcmluZyhyLmdldEJlYXJpbmcoKStpKSx0aGlzLm1vdXNlUGl0Y2gpe2NvbnN0IG49dGhpcy5tb3VzZVBpdGNoLm1vdXNlbW92ZVdpbmRvdyhlLHQpLGk9biYmbi5waXRjaERlbHRhO2kmJnIuc2V0UGl0Y2goci5nZXRQaXRjaCgpK2kpfX1vZmYoKXtjb25zdCBlPXRoaXMuZWxlbWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCksdGhpcy5vZmZUZW1wKCl9b2ZmVGVtcCgpe2goKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmUpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKX1tb3VzZWRvd24odCl7dGhpcy5kb3duKGUuZXh0ZW5kKHt9LHQse2N0cmxLZXk6ITAscHJldmVudERlZmF1bHQ6KCk9PnQucHJldmVudERlZmF1bHQoKX0pLGYodGhpcy5lbGVtZW50LHQpKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmUpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKX1tb3VzZW1vdmUoZSl7dGhpcy5tb3ZlKGUsZih0aGlzLmVsZW1lbnQsZSkpfW1vdXNldXAoZSl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZXVwV2luZG93KGUpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNldXBXaW5kb3coZSksdGhpcy5vZmZUZW1wKCl9dG91Y2hzdGFydChlKXsxIT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD90aGlzLnJlc2V0KCk6KHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3M9bSh0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLmRvd24oe3R5cGU6XCJtb3VzZWRvd25cIixidXR0b246MCxjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX3N0YXJ0UG9zKSl9dG91Y2htb3ZlKGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fbGFzdFBvcz1tKHRoaXMuZWxlbWVudCxlLnRhcmdldFRvdWNoZXMpWzBdLHRoaXMubW92ZSh7cHJldmVudERlZmF1bHQ6KCk9PmUucHJldmVudERlZmF1bHQoKX0sdGhpcy5fbGFzdFBvcykpfXRvdWNoZW5kKGUpezA9PT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoJiZ0aGlzLl9zdGFydFBvcyYmdGhpcy5fbGFzdFBvcyYmdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSYmdGhpcy5lbGVtZW50LmNsaWNrKCksdGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5tb3VzZVJvdGF0ZS5yZXNldCgpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zLHRoaXMub2ZmVGVtcCgpfX1jb25zdCBwbz17cG9zaXRpb25PcHRpb25zOntlbmFibGVIaWdoQWNjdXJhY3k6ITEsbWF4aW11bUFnZTowLHRpbWVvdXQ6NmUzfSxmaXRCb3VuZHNPcHRpb25zOnttYXhab29tOjE1fSx0cmFja1VzZXJMb2NhdGlvbjohMSxzaG93QWNjdXJhY3lDaXJjbGU6ITAsc2hvd1VzZXJMb2NhdGlvbjohMCxzaG93VXNlckhlYWRpbmc6ITF9LGZvPXttYXhXaWR0aDoxMDAsdW5pdDpcIm1ldHJpY1wifTtmdW5jdGlvbiBtbyhlLHQscil7Y29uc3Qgbj1nbyh0KSxpPW4vdCxvPXtraWxvbWV0ZXI6XCJrbVwiLG1ldGVyOlwibVwiLG1pbGU6XCJtaVwiLGZvb3Q6XCJmdFwiLFwibmF1dGljYWwtbWlsZVwiOlwibm1cIn1bcl07dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2NvbnRhaW5lci5zdHlsZS53aWR0aD1lKmkrXCJweFwiLHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9YCR7bn0mbmJzcDske299YH0pfWZ1bmN0aW9uIGdvKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsKFwiXCIrTWF0aC5mbG9vcihlKSkubGVuZ3RoLTEpO2xldCByPWUvdDtyZXR1cm4gcj1yPj0xMD8xMDpyPj01PzU6cj49Mz8zOnI+PTI/MjpyPj0xPzE6ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLnBvdygxMCxNYXRoLmNlaWwoLU1hdGgubG9nKGUpL01hdGguTE4xMCkpO3JldHVybiBNYXRoLnJvdW5kKGUqdCkvdH0ociksdCpyfWNvbnN0IF9vPXt2ZXJzaW9uOmUudmVyc2lvbixzdXBwb3J0ZWQ6cixzZXRSVExUZXh0UGx1Z2luOmUuc2V0UlRMVGV4dFBsdWdpbixnZXRSVExUZXh0UGx1Z2luU3RhdHVzOmUuZ2V0UlRMVGV4dFBsdWdpblN0YXR1cyxNYXA6Y2xhc3MgZXh0ZW5kcyBZaXtjb25zdHJ1Y3Rvcih0KXtpZihlLkxpdmVQZXJmb3JtYW5jZVV0aWxzLm1hcmsoZS5QZXJmb3JtYW5jZU1hcmtlcnMuY3JlYXRlKSxudWxsIT0odD1lLmV4dGVuZCh7fSxsbyx0KSkubWluWm9vbSYmbnVsbCE9dC5tYXhab29tJiZ0Lm1pblpvb20+dC5tYXhab29tKXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbVwiKTtpZihudWxsIT10Lm1pblBpdGNoJiZudWxsIT10Lm1heFBpdGNoJiZ0Lm1pblBpdGNoPnQubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIik7aWYobnVsbCE9dC5taW5QaXRjaCYmdC5taW5QaXRjaDwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYobnVsbCE9dC5tYXhQaXRjaCYmdC5tYXhQaXRjaD44NSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA4NVwiKTtpZih0LmFudGlhbGlhcyYmZS5pc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWcoZS53aW5kb3cpJiYodC5hbnRpYWxpYXM9ITEsZS53YXJuT25jZShcIkFudGlhbGlhc2luZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBXZWJHTCBjb250ZXh0IHRvIGF2b2lkIGJyb3dzZXIgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMTE2MDlcIikpLHN1cGVyKG5ldyBLbih0Lm1pblpvb20sdC5tYXhab29tLHQubWluUGl0Y2gsdC5tYXhQaXRjaCx0LnJlbmRlcldvcmxkQ29waWVzKSx0KSx0aGlzLl9pbnRlcmFjdGl2ZT10LmludGVyYWN0aXZlLHRoaXMuX21pblRpbGVDYWNoZVNpemU9dC5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dC5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9dC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj10LnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl9hbnRpYWxpYXM9dC5hbnRpYWxpYXMsdGhpcy5fdHJhY2tSZXNpemU9dC50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD10LmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9dC5yZWZyZXNoRXhwaXJlZFRpbGVzLHRoaXMuX2ZhZGVEdXJhdGlvbj10LmZhZGVEdXJhdGlvbix0aGlzLl9pc0luaXRpYWxMb2FkPSEwLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucz10LmNyb3NzU291cmNlQ29sbGlzaW9ucyx0aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcj0xLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz10LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9vcHRpbWl6ZUZvclRlcnJhaW49dC5vcHRpbWl6ZUZvclRlcnJhaW4sdGhpcy5fbGFuZ3VhZ2U9dGhpcy5fcGFyc2VMYW5ndWFnZSh0Lmxhbmd1YWdlKSx0aGlzLl93b3JsZHZpZXc9dC53b3JsZHZpZXcsdGhpcy5fcmVuZGVyVGFza1F1ZXVlPW5ldyBRaSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWU9bmV3IFFpLHRoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX21hcmtlcnM9W10sdGhpcy5fcG9wdXBzPVtdLHRoaXMuX21hcElkPWUudW5pcXVlSWQoKSx0aGlzLl9sb2NhbGU9ZS5leHRlbmQoe30sc28sdC5sb2NhbGUpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2UsdGhpcy5fY29vcGVyYXRpdmVHZXN0dXJlcz10LmNvb3BlcmF0aXZlR2VzdHVyZXMsdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbj10LnBlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb24sdGhpcy5fY29udGFpbmVyV2lkdGg9MCx0aGlzLl9jb250YWluZXJIZWlnaHQ9MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD0tMS8wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPW5ldyBhbygwKSx0aGlzLl9pbnRlcmFjdGlvblJhbmdlPVsxLzAsLTEvMF0sdGhpcy5fdmlzaWJpbGl0eUhpZGRlbj0wLHRoaXMuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj0hMSx0aGlzLl9yZXF1ZXN0TWFuYWdlcj1uZXcgZS5SZXF1ZXN0TWFuYWdlcih0LnRyYW5zZm9ybVJlcXVlc3QsdC5hY2Nlc3NUb2tlbix0LnRlc3RNb2RlKSx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIXQudGVzdE1vZGUsXCJzdHJpbmdcIj09dHlwZW9mIHQuY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9ZS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5jb250YWluZXIpLCF0aGlzLl9jb250YWluZXIpdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7dC5jb250YWluZXJ9JyBub3QgZm91bmQuYCl9ZWxzZXtpZighKHQuY29udGFpbmVyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5cIik7dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyfWlmKHRoaXMuX2NvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aD4wJiZlLndhcm5PbmNlKFwiVGhlIG1hcCBjb250YWluZXIgZWxlbWVudCBzaG91bGQgYmUgZW1wdHksIG90aGVyd2lzZSB0aGUgbWFwJ3MgaW50ZXJhY3Rpdml0eSB3aWxsIGJlIG5lZ2F0aXZlbHkgaW1wYWN0ZWQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgYSBtZXNzYWdlIHdoZW4gV2ViR0wgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBNYXBib3ggR0wgU3VwcG9ydGVkIHBsdWdpbiBpbnN0ZWFkLlwiKSx0Lm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHModC5tYXhCb3VuZHMpLGUuYmluZEFsbChbXCJfb25XaW5kb3dPbmxpbmVcIixcIl9vbldpbmRvd1Jlc2l6ZVwiLFwiX29uVmlzaWJpbGl0eUNoYW5nZVwiLFwiX29uTWFwU2Nyb2xsXCIsXCJfY29udGV4dExvc3RcIixcIl9jb250ZXh0UmVzdG9yZWRcIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wuXCIpO3RoaXMub24oXCJtb3ZlXCIsKCk9PnRoaXMuX3VwZGF0ZSghMSkpLHRoaXMub24oXCJtb3ZlZW5kXCIsKCk9PnRoaXMuX3VwZGF0ZSghMSkpLHRoaXMub24oXCJ6b29tXCIsKCk9PnRoaXMuX3VwZGF0ZSghMCkpLHZvaWQgMCE9PWUud2luZG93JiYoZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwhMSkpLHRoaXMuaGFuZGxlcnM9bmV3IFhpKHRoaXMsdCksdGhpcy5fbG9jYWxGb250RmFtaWx5PXQubG9jYWxGb250RmFtaWx5LHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT10LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSx0LnN0eWxlJiZ0aGlzLnNldFN0eWxlKHQuc3R5bGUse2xvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHksbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pLHQucHJvamVjdGlvbiYmdGhpcy5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbiksdGhpcy5faGFzaD10Lmhhc2gmJm5ldyBRbihcInN0cmluZ1wiPT10eXBlb2YgdC5oYXNoJiZ0Lmhhc2h8fHZvaWQgMCkuYWRkVG8odGhpcyksdGhpcy5faGFzaCYmdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCl8fCh0aGlzLmp1bXBUbyh7Y2VudGVyOnQuY2VudGVyLHpvb206dC56b29tLGJlYXJpbmc6dC5iZWFyaW5nLHBpdGNoOnQucGl0Y2h9KSx0LmJvdW5kcyYmKHRoaXMucmVzaXplKCksdGhpcy5maXRCb3VuZHModC5ib3VuZHMsZS5leHRlbmQoe30sdC5maXRCb3VuZHNPcHRpb25zLHtkdXJhdGlvbjowfSkpKSksdGhpcy5yZXNpemUoKSx0LmF0dHJpYnV0aW9uQ29udHJvbCYmdGhpcy5hZGRDb250cm9sKG5ldyBLaSh7Y3VzdG9tQXR0cmlidXRpb246dC5jdXN0b21BdHRyaWJ1dGlvbn0pKSx0aGlzLl9sb2dvQ29udHJvbD1uZXcgSmksdGhpcy5hZGRDb250cm9sKHRoaXMuX2xvZ29Db250cm9sLHQubG9nb1Bvc2l0aW9uKSx0aGlzLm9uKFwic3R5bGUubG9hZFwiLCgpPT57dGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCYmdGhpcy5qdW1wVG8odGhpcy5zdHlsZS5zdHlsZXNoZWV0KX0pLHRoaXMub24oXCJkYXRhXCIsdD0+e3RoaXMuX3VwZGF0ZShcInN0eWxlXCI9PT10LmRhdGFUeXBlKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQodC5kYXRhVHlwZStcImRhdGFcIix0KSl9KSx0aGlzLm9uKFwiZGF0YWxvYWRpbmdcIix0PT57dGhpcy5maXJlKG5ldyBlLkV2ZW50KHQuZGF0YVR5cGUrXCJkYXRhbG9hZGluZ1wiLHQpKX0pfV9nZXRNYXBJZCgpe3JldHVybiB0aGlzLl9tYXBJZH1hZGRDb250cm9sKHQscil7aWYodm9pZCAwPT09ciYmKHI9dC5nZXREZWZhdWx0UG9zaXRpb24/dC5nZXREZWZhdWx0UG9zaXRpb24oKTpcInRvcC1yaWdodFwiKSwhdHx8IXQub25BZGQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTtjb25zdCBuPXQub25BZGQodGhpcyk7dGhpcy5fY29udHJvbHMucHVzaCh0KTtjb25zdCBpPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbcl07cmV0dXJuLTEhPT1yLmluZGV4T2YoXCJib3R0b21cIik/aS5pbnNlcnRCZWZvcmUobixpLmZpcnN0Q2hpbGQpOmkuYXBwZW5kQ2hpbGQobiksdGhpc31yZW1vdmVDb250cm9sKHQpe2lmKCF0fHwhdC5vblJlbW92ZSlyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0byBtYXAucmVtb3ZlQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLlwiKSkpO2NvbnN0IHI9dGhpcy5fY29udHJvbHMuaW5kZXhPZih0KTtyZXR1cm4gcj4tMSYmdGhpcy5fY29udHJvbHMuc3BsaWNlKHIsMSksdC5vblJlbW92ZSh0aGlzKSx0aGlzfWhhc0NvbnRyb2woZSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoZSk+LTF9Z2V0Q29udGFpbmVyKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1nZXRDYW52YXNDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyfWdldENhbnZhcygpe3JldHVybiB0aGlzLl9jYW52YXN9cmVzaXplKHQpe2lmKHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9jb250YWluZXJXaWR0aD09PXRoaXMudHJhbnNmb3JtLndpZHRoJiZ0aGlzLl9jb250YWluZXJIZWlnaHQ9PT10aGlzLnRyYW5zZm9ybS5oZWlnaHQpcmV0dXJuIHRoaXM7dGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy50cmFuc2Zvcm0ucmVzaXplKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy5wYWludGVyLnJlc2l6ZShNYXRoLmNlaWwodGhpcy5fY29udGFpbmVyV2lkdGgpLE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJIZWlnaHQpKTtjb25zdCByPSF0aGlzLl9tb3Zpbmc7cmV0dXJuIHImJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLHQpKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLHQpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZXNpemVcIix0KSksciYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKSx0aGlzfWdldEJvdW5kcygpe3JldHVyblwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmZS53YXJuT25jZSgnR2xvYmUgcHJvamVjdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGdldEJvdW5kcyBBUEksIHRoaXMgQVBJIG1heSBiZWhhdmUgdW5leHBlY3RlZGx5IHdoZW4gdmlld2luZyB0aGUgcG9sZXMuXCInKSx0aGlzLnRyYW5zZm9ybS5nZXRCb3VuZHMoKX1nZXRNYXhCb3VuZHMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCl8fG51bGx9c2V0TWF4Qm91bmRzKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5zZXRNYXhCb3VuZHMoZS5MbmdMYXRCb3VuZHMuY29udmVydCh0KSksdGhpcy5fdXBkYXRlKCl9c2V0TWluWm9vbSh0KXtpZigodD1udWxsPT10Py0yOnQpPj0tMiYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPHQ/dGhpcy5zZXRab29tKHQpOnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblpvb20gbXVzdCBiZSBiZXR3ZWVuIC0yIGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVcIil9Z2V0TWluWm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tfXNldE1heFpvb20odCl7aWYoKHQ9bnVsbD09dD8yMjp0KT49dGhpcy50cmFuc2Zvcm0ubWluWm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPnQ/dGhpcy5zZXRab29tKHQpOnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluWm9vbVwiKX1nZXRNYXhab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb219c2V0TWluUGl0Y2godCl7aWYoKHQ9bnVsbD09dD8wOnQpPDApdGhyb3cgbmV3IEVycm9yKFwibWluUGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtpZih0Pj0wJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhQaXRjaClyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2g9dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFBpdGNoKCk8dD90aGlzLnNldFBpdGNoKHQpOnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgYmV0d2VlbiAwIGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlXCIpfWdldE1pblBpdGNoKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNofXNldE1heFBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/ODU6dCk+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYodD49dGhpcy50cmFuc2Zvcm0ubWluUGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPnQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaFwiKX1nZXRNYXhQaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaH1nZXRSZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc31zZXRSZW5kZXJXb3JsZENvcGllcyhlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXM9ZSx0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc3x8dGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCksdGhpcy5fdXBkYXRlKCl9Z2V0TGFuZ3VhZ2UoKXtyZXR1cm4gdGhpcy5fbGFuZ3VhZ2V9X3BhcnNlTGFuZ3VhZ2UodCl7cmV0dXJuXCJhdXRvXCI9PT10P2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTpBcnJheS5pc0FycmF5KHQpPzA9PT10Lmxlbmd0aD92b2lkIDA6dC5tYXAodD0+XCJhdXRvXCI9PT10P2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTp0KTp0fXNldExhbmd1YWdlKGUpe2NvbnN0IHQ9dGhpcy5fcGFyc2VMYW5ndWFnZShlKTtpZighdGhpcy5zdHlsZXx8dD09PXRoaXMuX2xhbmd1YWdlKXJldHVybiB0aGlzO3RoaXMuX2xhbmd1YWdlPXQsdGhpcy5zdHlsZS5fcmVsb2FkU291cmNlcygpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUuX3NldExhbmd1YWdlJiZlLl9zZXRMYW5ndWFnZSh0aGlzLl9sYW5ndWFnZSk7cmV0dXJuIHRoaXN9Z2V0V29ybGR2aWV3KCl7cmV0dXJuIHRoaXMuX3dvcmxkdmlld31zZXRXb3JsZHZpZXcoZSl7cmV0dXJuIHRoaXMuc3R5bGUmJmUhPT10aGlzLl93b3JsZHZpZXc/KHRoaXMuX3dvcmxkdmlldz1lLHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKSx0aGlzKTp0aGlzfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj97bmFtZTpcImdsb2JlXCIsY2VudGVyOlswLDBdfTp0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCl9X3Nob3dpbmdHbG9iZSgpe3JldHVyblwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZX1zZXRQcm9qZWN0aW9uKGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxlP1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17bmFtZTplfSk6ZT1udWxsLHRoaXMuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj0hIWUsdGhpcy5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24oZSx0aGlzLnN0eWxlLnN0eWxlc2hlZXQ/dGhpcy5zdHlsZS5zdHlsZXNoZWV0LnByb2plY3Rpb246bnVsbCl9X3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCl7aWYoXCJnbG9iZVwiIT09dGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSlyZXR1cm47Y29uc3QgdD10aGlzLnRyYW5zZm9ybSxyPXQucHJvamVjdGlvbi5uYW1lO2xldCBuO1wiZ2xvYmVcIj09PXImJnQuem9vbT49ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVg/KHQuc2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpLG49ITApOlwibWVyY2F0b3JcIj09PXImJnQuem9vbTxlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCYmKHQuc2V0UHJvamVjdGlvbih7bmFtZTpcImdsb2JlXCJ9KSxuPSEwKSxuJiYodGhpcy5zdHlsZS5hcHBseVByb2plY3Rpb25VcGRhdGUoKSx0aGlzLnN0eWxlLl9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCkpfV9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHQpe3JldHVybiB0aGlzLl91cGRhdGVQcm9qZWN0aW9uKGV8fHR8fHtuYW1lOlwibWVyY2F0b3JcIn0pfV91cGRhdGVQcm9qZWN0aW9uKHQpe2xldCByO2lmKHI9XCJnbG9iZVwiPT09dC5uYW1lJiZ0aGlzLnRyYW5zZm9ybS56b29tPj1lLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWD90aGlzLnRyYW5zZm9ybS5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk6dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbih0KSx0aGlzLnN0eWxlLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpLHIpe3RoaXMucGFpbnRlci5jbGVhckJhY2tncm91bmRUaWxlcygpO2Zvcihjb25zdCBlIGluIHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpO3RoaXMuX3VwZGF0ZSghMCksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCl9cmV0dXJuIHRoaXN9cHJvamVjdCh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludDNEKGUuTG5nTGF0LmNvbnZlcnQodCkpfXVucHJvamVjdCh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpKX1pc01vdmluZygpe3JldHVybiB0aGlzLl9tb3Zpbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNNb3ZpbmcoKXx8ITF9aXNab29taW5nKCl7cmV0dXJuIHRoaXMuX3pvb21pbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNab29taW5nKCl8fCExfWlzUm90YXRpbmcoKXtyZXR1cm4gdGhpcy5fcm90YXRpbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNSb3RhdGluZygpfHwhMX1fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LHIpe2lmKFwibW91c2VlbnRlclwiPT09ZXx8XCJtb3VzZW92ZXJcIj09PWUpe2xldCBuPSExO2NvbnN0IGk9aT0+e2NvbnN0IG89dC5maWx0ZXIoZT0+dGhpcy5nZXRMYXllcihlKSksYT1vLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhpLnBvaW50LHtsYXllcnM6b30pOltdO2EubGVuZ3RoP258fChuPSEwLHIuY2FsbCh0aGlzLG5ldyBjaShlLHRoaXMsaS5vcmlnaW5hbEV2ZW50LHtmZWF0dXJlczphfSkpKTpuPSExfSxvPSgpPT57bj0hMX07cmV0dXJue2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOnIsZGVsZWdhdGVzOnttb3VzZW1vdmU6aSxtb3VzZW91dDpvfX19aWYoXCJtb3VzZWxlYXZlXCI9PT1lfHxcIm1vdXNlb3V0XCI9PT1lKXtsZXQgbj0hMTtjb25zdCBpPWk9Pntjb25zdCBvPXQuZmlsdGVyKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpOyhvLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhpLnBvaW50LHtsYXllcnM6b30pOltdKS5sZW5ndGg/bj0hMDpuJiYobj0hMSxyLmNhbGwodGhpcyxuZXcgY2koZSx0aGlzLGkub3JpZ2luYWxFdmVudCkpKX0sbz10PT57biYmKG49ITEsci5jYWxsKHRoaXMsbmV3IGNpKGUsdGhpcyx0Lm9yaWdpbmFsRXZlbnQpKSl9O3JldHVybntsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjpyLGRlbGVnYXRlczp7bW91c2Vtb3ZlOmksbW91c2VvdXQ6b319fXtjb25zdCBuPWU9Pntjb25zdCBuPXQuZmlsdGVyKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpLGk9bi5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCx7bGF5ZXJzOm59KTpbXTtpLmxlbmd0aCYmKGUuZmVhdHVyZXM9aSxyLmNhbGwodGhpcyxlKSxkZWxldGUgZS5mZWF0dXJlcyl9O3JldHVybntsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjpyLGRlbGVnYXRlczp7W2VdOm59fX19b24oZSx0LHIpe2lmKHZvaWQgMD09PXIpcmV0dXJuIHN1cGVyLm9uKGUsdCk7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtjb25zdCBuPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxyKTt0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV0ucHVzaChuKTtmb3IoY29uc3QgZSBpbiBuLmRlbGVnYXRlcyl0aGlzLm9uKGUsbi5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9uY2UoZSx0LHIpe2lmKHZvaWQgMD09PXIpcmV0dXJuIHN1cGVyLm9uY2UoZSx0KTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IG49dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LHIpO2Zvcihjb25zdCBlIGluIG4uZGVsZWdhdGVzKXRoaXMub25jZShlLG4uZGVsZWdhdGVzW2VdKTtyZXR1cm4gdGhpc31vZmYoZSx0LHIpe2lmKHZvaWQgMD09PXIpcmV0dXJuIHN1cGVyLm9mZihlLHQpO3Q9bmV3IFNldChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKTtjb25zdCBuPShlLHQpPT57aWYoZS5zaXplIT09dC5zaXplKXJldHVybiExO2Zvcihjb25zdCByIG9mIGUpaWYoIXQuaGFzKHIpKXJldHVybiExO3JldHVybiEwfSxpPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVycz90aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV06dm9pZCAwO3JldHVybiBpJiYoZT0+e2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPWVbaV07aWYoby5saXN0ZW5lcj09PXImJm4oby5sYXllcnMsdCkpe2Zvcihjb25zdCBlIGluIG8uZGVsZWdhdGVzKXRoaXMub2ZmKGUsby5kZWxlZ2F0ZXNbZV0pO3JldHVybiBlLnNwbGljZShpLDEpLHRoaXN9fX0pKGkpLHRoaXN9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQscil7cmV0dXJuIHRoaXMuc3R5bGU/KHZvaWQgMCE9PXJ8fHZvaWQgMD09PXR8fHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fEFycmF5LmlzQXJyYXkodCl8fChyPXQsdD12b2lkIDApLHRoaXMuc3R5bGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQ9dHx8W1swLDBdLFt0aGlzLnRyYW5zZm9ybS53aWR0aCx0aGlzLnRyYW5zZm9ybS5oZWlnaHRdXSxyPXJ8fHt9LHRoaXMudHJhbnNmb3JtKSk6W119cXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KX1zZXRTdHlsZSh0LHIpe3JldHVybiExIT09KHI9ZS5leHRlbmQoe30se2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksbG9jYWxGb250RmFtaWx5OnRoaXMuX2xvY2FsRm9udEZhbWlseX0scikpLmRpZmYmJnIubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PT09dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5JiZyLmxvY2FsRm9udEZhbWlseT09PXRoaXMuX2xvY2FsRm9udEZhbWlseSYmdGhpcy5zdHlsZSYmdD8odGhpcy5fZGlmZlN0eWxlKHQsciksdGhpcyk6KHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1yLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSx0aGlzLl9sb2NhbEZvbnRGYW1pbHk9ci5sb2NhbEZvbnRGYW1pbHksdGhpcy5fdXBkYXRlU3R5bGUodCxyKSl9X2dldFVJU3RyaW5nKGUpe2NvbnN0IHQ9dGhpcy5fbG9jYWxlW2VdO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIFVJIHN0cmluZyAnJHtlfSdgKTtyZXR1cm4gdH1fdXBkYXRlU3R5bGUoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnN0eWxlLl9yZW1vdmUoKSx0aGlzLnN0eWxlPXZvaWQgMCksZSYmKHRoaXMuc3R5bGU9bmV3IGVyKHRoaXMsdHx8e30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5zdHlsZS5sb2FkVVJMKGUpOnRoaXMuc3R5bGUubG9hZEpTT04oZSkpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSx0aGlzfV9sYXp5SW5pdEVtcHR5U3R5bGUoKXt0aGlzLnN0eWxlfHwodGhpcy5zdHlsZT1uZXcgZXIodGhpcyx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSx0aGlzLnN0eWxlLmxvYWRFbXB0eSgpKX1fZGlmZlN0eWxlKHQscil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0IG49dGhpcy5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodCksaT10aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG4sZS5SZXNvdXJjZVR5cGUuU3R5bGUpO2UuZ2V0SlNPTihpLCh0LG4pPT57dD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6biYmdGhpcy5fdXBkYXRlRGlmZihuLHIpfSl9ZWxzZVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0aGlzLl91cGRhdGVEaWZmKHQscil9X3VwZGF0ZURpZmYodCxyKXt0cnl7dGhpcy5zdHlsZS5zZXRTdGF0ZSh0KSYmdGhpcy5fdXBkYXRlKCEwKX1jYXRjaChuKXtlLndhcm5PbmNlKGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke24ubWVzc2FnZXx8bi5lcnJvcnx8bn0uICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guYCksdGhpcy5fdXBkYXRlU3R5bGUodCxyKX19Z2V0U3R5bGUoKXtpZih0aGlzLnN0eWxlKXJldHVybiB0aGlzLnN0eWxlLnNlcmlhbGl6ZSgpfWlzU3R5bGVMb2FkZWQoKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmxvYWRlZCgpOihlLndhcm5PbmNlKFwiVGhlcmUgaXMgbm8gc3R5bGUgYWRkZWQgdG8gdGhlIG1hcC5cIiksITEpfWFkZFNvdXJjZShlLHQpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZShlLHQpLHRoaXMuX3VwZGF0ZSghMCl9aXNTb3VyY2VMb2FkZWQoZSl7cmV0dXJuISF0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl9pc1NvdXJjZUNhY2hlTG9hZGVkKGUpfWFyZVRpbGVzTG9hZGVkKCl7Y29uc3QgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj1lW3RdLl90aWxlcztmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07aWYoXCJsb2FkZWRcIiE9PXQuc3RhdGUmJlwiZXJyb3JlZFwiIT09dC5zdGF0ZSlyZXR1cm4hMX19cmV0dXJuITB9YWRkU291cmNlVHlwZShlLHQscil7dGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKGUsdCxyKX1yZW1vdmVTb3VyY2UoZSl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlU291cmNlKGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSx0aGlzLl91cGRhdGUoITApfWdldFNvdXJjZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRTb3VyY2UoZSl9YWRkSW1hZ2UodCxyLHtwaXhlbFJhdGlvOm49MSxzZGY6aT0hMSxzdHJldGNoWDpvLHN0cmV0Y2hZOmEsY29udGVudDpzfT17fSl7aWYodGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR8fGUud2luZG93LkltYWdlQml0bWFwJiZyIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXApe2NvbnN0e3dpZHRoOmwsaGVpZ2h0OmMsZGF0YTp1fT1lLmV4cG9ydGVkLmdldEltYWdlRGF0YShyKTt0aGlzLnN0eWxlLmFkZEltYWdlKHQse2RhdGE6bmV3IGUuUkdCQUltYWdlKHt3aWR0aDpsLGhlaWdodDpjfSx1KSxwaXhlbFJhdGlvOm4sc3RyZXRjaFg6byxzdHJldGNoWTphLGNvbnRlbnQ6cyxzZGY6aSx2ZXJzaW9uOjB9KX1lbHNlIGlmKHZvaWQgMD09PXIud2lkdGh8fHZvaWQgMD09PXIuaGVpZ2h0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpO2Vsc2V7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6Y309cix1PXI7dGhpcy5zdHlsZS5hZGRJbWFnZSh0LHtkYXRhOm5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6bCxoZWlnaHQ6Y30sbmV3IFVpbnQ4QXJyYXkodS5kYXRhKSkscGl4ZWxSYXRpbzpuLHN0cmV0Y2hYOm8sc3RyZXRjaFk6YSxjb250ZW50OnMsc2RmOmksdmVyc2lvbjowLHVzZXJJbWFnZTp1fSksdS5vbkFkZCYmdS5vbkFkZCh0aGlzLHQpfX11cGRhdGVJbWFnZSh0LHIpe2NvbnN0IG49dGhpcy5zdHlsZS5nZXRJbWFnZSh0KTtpZighbilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgbWFwIGhhcyBubyBpbWFnZSB3aXRoIHRoYXQgaWQuIElmIHlvdSBhcmUgYWRkaW5nIGEgbmV3IGltYWdlIHVzZSBgbWFwLmFkZEltYWdlKC4uLilgIGluc3RlYWQuXCIpKSk7Y29uc3QgaT1yIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudHx8ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJnIgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcD9lLmV4cG9ydGVkLmdldEltYWdlRGF0YShyKTpyLHt3aWR0aDpvLGhlaWdodDphfT1pO3ZvaWQgMCE9PW8mJnZvaWQgMCE9PWE/bz09PW4uZGF0YS53aWR0aCYmYT09PW4uZGF0YS5oZWlnaHQ/KG4uZGF0YS5yZXBsYWNlKGkuZGF0YSwhKHIgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fHxlLndpbmRvdy5JbWFnZUJpdG1hcCYmciBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwKSksdGhpcy5zdHlsZS51cGRhdGVJbWFnZSh0LG4pKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB1cGRhdGVkIGltYWdlICgke299LCAke2F9KVxcbiAgICAgICAgICAgICAgICBtdXN0IGJlIHRoYXQgc2FtZSBhcyB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGUgaW1hZ2VcXG4gICAgICAgICAgICAgICAgKCR7bi5kYXRhLndpZHRofSwgJHtuLmRhdGEuaGVpZ2h0fSlgKSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC51cGRhdGVJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpfWhhc0ltYWdlKHQpe3JldHVybiB0PyEhdGhpcy5zdHlsZS5nZXRJbWFnZSh0KToodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX1yZW1vdmVJbWFnZShlKXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGUpfWxvYWRJbWFnZSh0LHIpe2UuZ2V0SW1hZ2UodGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0LGUuUmVzb3VyY2VUeXBlLkltYWdlKSwodCxuKT0+e3IodCxuIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudD9lLmV4cG9ydGVkLmdldEltYWdlRGF0YShuKTpuKX0pfWxpc3RJbWFnZXMoKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCl9YWRkTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRMYXllcihlLHQpLHRoaXMuX3VwZGF0ZSghMCl9bW92ZUxheWVyKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUubW92ZUxheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKX1yZW1vdmVMYXllcihlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVMYXllcihlKSx0aGlzLl91cGRhdGUoITApfWdldExheWVyKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldExheWVyKGUpfXNldExheWVyWm9vbVJhbmdlKGUsdCxyKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRMYXllclpvb21SYW5nZShlLHQsciksdGhpcy5fdXBkYXRlKCEwKX1zZXRGaWx0ZXIoZSx0LHI9e30pe3JldHVybiB0aGlzLnN0eWxlLnNldEZpbHRlcihlLHQsciksdGhpcy5fdXBkYXRlKCEwKX1nZXRGaWx0ZXIoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmlsdGVyKGUpfXNldFBhaW50UHJvcGVydHkoZSx0LHIsbj17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShlLHQscixuKSx0aGlzLl91cGRhdGUoITApfWdldFBhaW50UHJvcGVydHkoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRQYWludFByb3BlcnR5KGUsdCl9c2V0TGF5b3V0UHJvcGVydHkoZSx0LHIsbj17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGF5b3V0UHJvcGVydHkoZSx0LHIsbiksdGhpcy5fdXBkYXRlKCEwKX1nZXRMYXlvdXRQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLnN0eWxlLmdldExheW91dFByb3BlcnR5KGUsdCl9c2V0TGlnaHQoZSx0PXt9KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRMaWdodChlLHQpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMaWdodCgpfXNldFRlcnJhaW4oZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLCFlJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZz90aGlzLnN0eWxlLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy5zdHlsZS5zZXRUZXJyYWluKGUpLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PS0xLzAsdGhpcy5fdXBkYXRlKCEwKX1nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5nZXRUZXJyYWluKCk6bnVsbH1zZXRGb2coZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuc2V0Rm9nKGUpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0Rm9nKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5nZXRGb2coKTpudWxsfV9xdWVyeUZvZ09wYWNpdHkodCl7cmV0dXJuIHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nP3RoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlBdExhdExuZyhlLkxuZ0xhdC5jb252ZXJ0KHQpLHRoaXMudHJhbnNmb3JtKTowfXNldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpfWdldEZlYXR1cmVTdGF0ZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGZWF0dXJlU3RhdGUoZSl9X3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKXtpZighdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCB0PXRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aHx8NDAwLHI9dGhpcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodHx8MzAwO2xldCBuLGksbyxhPXRoaXMuX2NvbnRhaW5lcjtmb3IoO2EmJighaXx8IW8pOyl7Y29uc3QgdD1lLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEpLnRyYW5zZm9ybTt0JiZcIm5vbmVcIiE9PXQmJihuPXQubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pWzFdLnNwbGl0KFwiLCBcIiksblswXSYmXCIwXCIhPT1uWzBdJiZcIjFcIiE9PW5bMF0mJihpPW5bMF0pLG5bM10mJlwiMFwiIT09blszXSYmXCIxXCIhPT1uWzNdJiYobz1uWzNdKSksYT1hLnBhcmVudEVsZW1lbnR9dGhpcy5fY29udGFpbmVyV2lkdGg9aT9NYXRoLmFicyh0L2kpOnQsdGhpcy5fY29udGFpbmVySGVpZ2h0PW8/TWF0aC5hYnMoci9vKTpyfV9kZXRlY3RNaXNzaW5nQ1NTKCl7XCJyZ2IoMjUwLCAxMjgsIDExNClcIiE9PWUud2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIikmJmUud2Fybk9uY2UoXCJUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yIE1hcGJveCBHTCBKUywgd2hpY2ggbWF5IGNhdXNlIHRoZSBtYXAgdG8gZGlzcGxheSBpbmNvcnJlY3RseS4gUGxlYXNlIGVuc3VyZSB5b3VyIHBhZ2UgaW5jbHVkZXMgbWFwYm94LWdsLmNzcywgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uXCIpfV9zZXR1cENvbnRhaW5lcigpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyO2UuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLW1hcFwiKSwodGhpcy5fbWlzc2luZ0NTU0NhbmFyeT1vKFwiZGl2XCIsXCJtYXBib3hnbC1jYW5hcnlcIixlKSkuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuX2RldGVjdE1pc3NpbmdDU1MoKTtjb25zdCB0PXRoaXMuX2NhbnZhc0NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jYW52YXMtY29udGFpbmVyXCIsZSk7dGhpcy5faW50ZXJhY3RpdmUmJnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWludGVyYWN0aXZlXCIpLHRoaXMuX2NhbnZhcz1vKFwiY2FudmFzXCIsXCJtYXBib3hnbC1jYW52YXNcIix0KSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLl9jb250ZXh0TG9zdCwhMSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fZ2V0VUlTdHJpbmcoXCJNYXAuVGl0bGVcIikpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJyZWdpb25cIiksdGhpcy5fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpLHRoaXMuX3Jlc2l6ZUNhbnZhcyh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpO2NvbnN0IHI9dGhpcy5fY29udHJvbENvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jb250cm9sLWNvbnRhaW5lclwiLGUpLG49dGhpcy5fY29udHJvbFBvc2l0aW9ucz17fTtbXCJ0b3AtbGVmdFwiLFwidG9wLXJpZ2h0XCIsXCJib3R0b20tbGVmdFwiLFwiYm90dG9tLXJpZ2h0XCJdLmZvckVhY2goZT0+e25bZV09byhcImRpdlwiLFwibWFwYm94Z2wtY3RybC1cIitlLHIpfSksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9vbk1hcFNjcm9sbCwhMSl9X3Jlc2l6ZUNhbnZhcyh0LHIpe2NvbnN0IG49ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvfHwxO3RoaXMuX2NhbnZhcy53aWR0aD1uKk1hdGguY2VpbCh0KSx0aGlzLl9jYW52YXMuaGVpZ2h0PW4qTWF0aC5jZWlsKHIpLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD10K1wicHhcIix0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PXIrXCJweFwifV9hZGRNYXJrZXIoZSl7dGhpcy5fbWFya2Vycy5wdXNoKGUpfV9yZW1vdmVNYXJrZXIoZSl7Y29uc3QgdD10aGlzLl9tYXJrZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9tYXJrZXJzLnNwbGljZSh0LDEpfV9hZGRQb3B1cChlKXt0aGlzLl9wb3B1cHMucHVzaChlKX1fcmVtb3ZlUG9wdXAoZSl7Y29uc3QgdD10aGlzLl9wb3B1cHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3BvcHVwcy5zcGxpY2UodCwxKX1fc2V0dXBQYWludGVyKCl7Y29uc3QgdD1lLmV4dGVuZCh7fSxyLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6dGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6dGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyLGFudGlhbGlhczp0aGlzLl9hbnRpYWxpYXN8fCExfSksbj10aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsdCl8fHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsdCk7bj8oZS5zdG9yZUF1dGhTdGF0ZShuLCEwKSx0aGlzLnBhaW50ZXI9bmV3IEZuKG4sdGhpcy50cmFuc2Zvcm0pLHRoaXMub24oXCJkYXRhXCIsZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZ0aGlzLnBhaW50ZXIuc2V0VGlsZUxvYWRlZEZsYWcoITApfSksZS5leHBvcnRlZCQxLnRlc3RTdXBwb3J0KG4pKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTFwiKSkpfV9jb250ZXh0TG9zdCh0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ3ZWJnbGNvbnRleHRsb3N0XCIse29yaWdpbmFsRXZlbnQ6dH0pKX1fY29udGV4dFJlc3RvcmVkKHQpe3RoaXMuX3NldHVwUGFpbnRlcigpLHRoaXMucmVzaXplKCksdGhpcy5fdXBkYXRlKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix7b3JpZ2luYWxFdmVudDp0fSkpfV9vbk1hcFNjcm9sbChlKXtpZihlLnRhcmdldD09PXRoaXMuX2NvbnRhaW5lcilyZXR1cm4gdGhpcy5fY29udGFpbmVyLnNjcm9sbFRvcD0wLHRoaXMuX2NvbnRhaW5lci5zY3JvbGxMZWZ0PTAsITF9bG9hZGVkKCl7cmV0dXJuIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX1fdXBkYXRlKGUpe3JldHVybiB0aGlzLnN0eWxlPyh0aGlzLl9zdHlsZURpcnR5PXRoaXMuX3N0eWxlRGlydHl8fGUsdGhpcy5fc291cmNlc0RpcnR5PSEwLHRoaXMudHJpZ2dlclJlcGFpbnQoKSx0aGlzKTp0aGlzfV9yZXF1ZXN0UmVuZGVyRnJhbWUoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoZSl9X2NhbmNlbFJlbmRlckZyYW1lKGUpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoZSl9X3JlcXVlc3REb21UYXNrKGUpeyF0aGlzLmxvYWRlZCgpfHx0aGlzLmxvYWRlZCgpJiYhdGhpcy5pc01vdmluZygpP2UoKTp0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuYWRkKGUpfV9yZW5kZXIodCl7bGV0IHI7Y29uc3Qgbj10aGlzLnBhaW50ZXIuY29udGV4dC5leHRUaW1lclF1ZXJ5LGk9ZS5leHBvcnRlZC5ub3coKTtpZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWZyYW1lXCIpJiYocj1uLmNyZWF0ZVF1ZXJ5RVhUKCksbi5iZWdpblF1ZXJ5RVhUKG4uVElNRV9FTEFQU0VEX0VYVCxyKSksdGhpcy5wYWludGVyLmNvbnRleHQuc2V0RGlydHkoKSx0aGlzLnBhaW50ZXIuc2V0QmFzZVN0YXRlKCksKHRoaXMuaXNNb3ZpbmcoKXx8dGhpcy5pc1JvdGF0aW5nKCl8fHRoaXMuaXNab29taW5nKCkpJiYodGhpcy5faW50ZXJhY3Rpb25SYW5nZVswXT1NYXRoLm1pbih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdLGUud2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSx0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzFdPU1hdGgubWF4KHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV0sZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKHQpLHRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZS5ydW4odCksdGhpcy5fcmVtb3ZlZClyZXR1cm47dGhpcy5fdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKTtsZXQgbz0hMTtjb25zdCBhPXRoaXMuX2lzSW5pdGlhbExvYWQ/MDp0aGlzLl9mYWRlRHVyYXRpb247aWYodGhpcy5zdHlsZSYmdGhpcy5fc3R5bGVEaXJ0eSl7dGhpcy5fc3R5bGVEaXJ0eT0hMTtjb25zdCB0PXRoaXMudHJhbnNmb3JtLnpvb20scj10aGlzLnRyYW5zZm9ybS5waXRjaCxuPWUuZXhwb3J0ZWQubm93KCk7dGhpcy5zdHlsZS56b29tSGlzdG9yeS51cGRhdGUodCxuKTtjb25zdCBpPW5ldyBlLkV2YWx1YXRpb25QYXJhbWV0ZXJzKHQse25vdzpuLGZhZGVEdXJhdGlvbjphLHBpdGNoOnIsem9vbUhpc3Rvcnk6dGhpcy5zdHlsZS56b29tSGlzdG9yeSx0cmFuc2l0aW9uOnRoaXMuc3R5bGUuZ2V0VHJhbnNpdGlvbigpfSkscz1pLmNyb3NzRmFkaW5nRmFjdG9yKCk7MT09PXMmJnM9PT10aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcnx8KG89ITAsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9cyksdGhpcy5zdHlsZS51cGRhdGUoaSl9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2cmJnRoaXMuc3R5bGUuZm9nLmhhc1RyYW5zaXRpb24oKSYmKHRoaXMuc3R5bGUuX21hcmtlcnNOZWVkVXBkYXRlPSEwLHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCk7bGV0IHM9ITE7aWYodGhpcy5zdHlsZSYmdGhpcy5fc291cmNlc0RpcnR5Pyh0aGlzLl9zb3VyY2VzRGlydHk9ITEsdGhpcy5wYWludGVyLl91cGRhdGVGb2codGhpcy5zdHlsZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHM9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihpKSx0aGlzLnN0eWxlLl91cGRhdGVTb3VyY2VzKHRoaXMudHJhbnNmb3JtKSx0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKCkpOnM9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihpKSx0aGlzLl9wbGFjZW1lbnREaXJ0eT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl91cGRhdGVQbGFjZW1lbnQodGhpcy5wYWludGVyLnRyYW5zZm9ybSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxhLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucyksdGhpcy5zdHlsZSYmdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLHtzaG93VGlsZUJvdW5kYXJpZXM6dGhpcy5zaG93VGlsZUJvdW5kYXJpZXMsc2hvd1RlcnJhaW5XaXJlZnJhbWU6dGhpcy5zaG93VGVycmFpbldpcmVmcmFtZSxzaG93T3ZlcmRyYXdJbnNwZWN0b3I6dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yLHNob3dRdWVyeUdlb21ldHJ5OiEhdGhpcy5fc2hvd1F1ZXJ5R2VvbWV0cnksc2hvd1RpbGVBQUJCczp0aGlzLnNob3dUaWxlQUFCQnMscm90YXRpbmc6dGhpcy5pc1JvdGF0aW5nKCksem9vbWluZzp0aGlzLmlzWm9vbWluZygpLG1vdmluZzp0aGlzLmlzTW92aW5nKCksZmFkZUR1cmF0aW9uOmEsaXNJbml0aWFsTG9hZDp0aGlzLl9pc0luaXRpYWxMb2FkLHNob3dQYWRkaW5nOnRoaXMuc2hvd1BhZGRpbmcsZ3B1VGltaW5nOiEhdGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSxncHVUaW1pbmdEZWZlcnJlZFJlbmRlcjohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIpLHNwZWVkSW5kZXhUaW1pbmc6dGhpcy5zcGVlZEluZGV4VGltaW5nfSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVuZGVyXCIpKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImxvYWRcIikpKSx0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpfHxvKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLHIpe2NvbnN0IHQ9ZS5leHBvcnRlZC5ub3coKS1pO24uZW5kUXVlcnlFWFQobi5USU1FX0VMQVBTRURfRVhULHIpLHNldFRpbWVvdXQoKCk9Pntjb25zdCBvPW4uZ2V0UXVlcnlPYmplY3RFWFQocixuLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtuLmRlbGV0ZVF1ZXJ5RVhUKHIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctZnJhbWVcIix7Y3B1VGltZTp0LGdwdVRpbWU6b30pKSxlLndpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKFwiZnJhbWUtZ3B1XCIse3N0YXJ0VGltZTppLGRldGFpbDp7Z3B1VGltZTpvfX0pfSw1MCl9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO3NldFRpbWVvdXQoKCk9Pntjb25zdCByPXRoaXMucGFpbnRlci5xdWVyeUdwdVRpbWVycyh0KTt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJncHUtdGltaW5nLWxheWVyXCIse2xheWVyVGltZXM6cn0pKX0sNTApfWlmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCk7c2V0VGltZW91dCgoKT0+e2NvbnN0IHI9dGhpcy5wYWludGVyLnF1ZXJ5R3B1VGltZURlZmVycmVkUmVuZGVyKHQpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIse2dwdVRpbWU6cn0pKX0sNTApfWNvbnN0IGw9dGhpcy5fc291cmNlc0RpcnR5fHx0aGlzLl9zdHlsZURpcnR5fHx0aGlzLl9wbGFjZW1lbnREaXJ0eXx8cztpZihsfHx0aGlzLl9yZXBhaW50KXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNle2NvbnN0IHQ9IXRoaXMuaXNNb3ZpbmcoKSYmdGhpcy5sb2FkZWQoKTtpZih0JiYocz10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGksITApKSxzKXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNlIGlmKHRoaXMuX3RyaWdnZXJGcmFtZSghMSksdCYmKHRoaXMuZmlyZShuZXcgZS5FdmVudChcImlkbGVcIikpLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITEsdGhpcy5zcGVlZEluZGV4VGltaW5nKSl7Y29uc3QgdD10aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3BlZWRpbmRleGNvbXBsZXRlZFwiLHtzcGVlZEluZGV4OnR9KSksdGhpcy5zcGVlZEluZGV4VGltaW5nPSExfX0hdGhpcy5fbG9hZGVkfHx0aGlzLl9mdWxseUxvYWRlZHx8bHx8KHRoaXMuX2Z1bGx5TG9hZGVkPSEwLGUuTGl2ZVBlcmZvcm1hbmNlVXRpbHMubWFyayhlLlBlcmZvcm1hbmNlTWFya2Vycy5mdWxsTG9hZCksdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbiYmZS5wb3N0UGVyZm9ybWFuY2VFdmVudCh0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4se3dpZHRoOnRoaXMucGFpbnRlci53aWR0aCxoZWlnaHQ6dGhpcy5wYWludGVyLmhlaWdodCxpbnRlcmFjdGlvblJhbmdlOnRoaXMuX2ludGVyYWN0aW9uUmFuZ2UsdmlzaWJpbGl0eUhpZGRlbjp0aGlzLl92aXNpYmlsaXR5SGlkZGVuLHRlcnJhaW5FbmFibGVkOiEhdGhpcy5wYWludGVyLnN0eWxlLmdldFRlcnJhaW4oKSxmb2dFbmFibGVkOiEhdGhpcy5wYWludGVyLnN0eWxlLmdldEZvZygpLHByb2plY3Rpb246dGhpcy5wYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLHpvb206dGhpcy50cmFuc2Zvcm0uem9vbSxyZW5kZXJlcjp0aGlzLnBhaW50ZXIuY29udGV4dC5yZW5kZXJlcix2ZW5kb3I6dGhpcy5wYWludGVyLmNvbnRleHQudmVuZG9yfSksdGhpcy5fYXV0aGVudGljYXRlKCkpfV9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX21hcmtlcnMpZSYmIXRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSYmKHQuX2xuZ0xhdD10Ll9sbmdMYXQud3JhcCgpKSx0Ll91cGRhdGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3B1cHMpIWV8fHRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKXx8dC5fdHJhY2tQb2ludGVyfHwodC5fbG5nTGF0PXQuX2xuZ0xhdC53cmFwKCkpLHQuX3VwZGF0ZSgpfV91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3Qgcj1lPT4odGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZSghMSksITApO2lmKCF0aGlzLnBhaW50ZXIuYXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCkpcmV0dXJuIDAhPT10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uJiZyKDApO2lmKCh0fHxlLXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PjUwMCkmJiF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb247bGV0IG49dGhpcy50cmFuc2Zvcm0uc2FtcGxlQXZlcmFnZUVsZXZhdGlvbigpLGk9ITE7dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uJiYoaT10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKSxpc05hTihuKT9uPTA6dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9ZTtjb25zdCBvPU1hdGguYWJzKHQtbik7aWYobz4xKXtpZih0aGlzLl9pc0luaXRpYWxMb2FkfHxpKXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhuKSxyKG4pO3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZWFzZVRvKG4sZSwzMDApfWVsc2UgaWYobz4xZS00KXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhuKSxyKG4pfXJldHVybiEhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSYmcih0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmdldFZhbHVlKGUpKX1fYXV0aGVudGljYXRlKCl7ZS5nZXRNYXBTZXNzaW9uQVBJKHRoaXMuX2dldE1hcElkKCksdGhpcy5fcmVxdWVzdE1hbmFnZXIuX3NrdVRva2VuLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbix0PT57aWYodCYmKHQubWVzc2FnZT09PWUuQVVUSF9FUlJfTVNHfHw0MDE9PT10LnN0YXR1cykpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQuZ2w7ZS5zdG9yZUF1dGhTdGF0ZSh0LCExKSx0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIEppJiZ0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpLHQmJnQuY2xlYXIodC5ERVBUSF9CVUZGRVJfQklUfHQuQ09MT1JfQlVGRkVSX0JJVHx0LlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnN8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tL1wiKSkpfX0pLGUucG9zdE1hcExvYWRFdmVudCh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sKCk9Pnt9KX1fdXBkYXRlVGVycmFpbigpe3RoaXMucGFpbnRlci51cGRhdGVUZXJyYWluKHRoaXMuc3R5bGUsdGhpcy5pc01vdmluZygpfHx0aGlzLmlzUm90YXRpbmcoKXx8dGhpcy5pc1pvb21pbmcoKSl9X2NhbGN1bGF0ZVNwZWVkSW5kZXgoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jYW52YXNDb3B5KCksdD10aGlzLnBhaW50ZXIuZ2V0Q2FudmFzQ29waWVzQW5kVGltZXN0YW1wcygpO3QudGltZVN0YW1wcy5wdXNoKHBlcmZvcm1hbmNlLm5vdygpKTtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LmdsLG49ci5jcmVhdGVGcmFtZWJ1ZmZlcigpO2Z1bmN0aW9uIGkoZSl7ci5mcmFtZWJ1ZmZlclRleHR1cmUyRChyLkZSQU1FQlVGRkVSLHIuQ09MT1JfQVRUQUNITUVOVDAsci5URVhUVVJFXzJELGUsMCk7Y29uc3QgdD1uZXcgVWludDhBcnJheShyLmRyYXdpbmdCdWZmZXJXaWR0aCpyLmRyYXdpbmdCdWZmZXJIZWlnaHQqNCk7cmV0dXJuIHIucmVhZFBpeGVscygwLDAsci5kcmF3aW5nQnVmZmVyV2lkdGgsci5kcmF3aW5nQnVmZmVySGVpZ2h0LHIuUkdCQSxyLlVOU0lHTkVEX0JZVEUsdCksdH1yZXR1cm4gci5iaW5kRnJhbWVidWZmZXIoci5GUkFNRUJVRkZFUixuKSx0aGlzLl9jYW52YXNQaXhlbENvbXBhcmlzb24oaShlKSx0LmNhbnZhc0NvcGllcy5tYXAoaSksdC50aW1lU3RhbXBzKX1fY2FudmFzUGl4ZWxDb21wYXJpc29uKGUsdCxyKXtsZXQgbj1yWzFdLXJbMF07Y29uc3QgaT1lLmxlbmd0aC80O2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBhPXRbb107bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTQpYVt0XT09PWVbdF0mJmFbdCsxXT09PWVbdCsxXSYmYVt0KzJdPT09ZVt0KzJdJiZhW3QrM109PT1lW3QrM10mJihzKz0xKTtuKz0ocltvKzJdLXJbbysxXSkqKDEtcy9pKX1yZXR1cm4gbn1yZW1vdmUoKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUub25SZW1vdmUodGhpcyk7dGhpcy5fY29udHJvbHM9W10sdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmRlc3Ryb3koKSx0aGlzLnBhaW50ZXIuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnM9dm9pZCAwLHRoaXMuc2V0U3R5bGUobnVsbCksdm9pZCAwIT09ZS53aW5kb3cmJihlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLCExKSk7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7dCYmdC5sb3NlQ29udGV4dCgpLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSxjbyh0aGlzLl9jYW52YXNDb250YWluZXIpLGNvKHRoaXMuX2NvbnRyb2xDb250YWluZXIpLGNvKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLHRoaXMuX2NhbnZhcz12b2lkIDAsdGhpcy5fY2FudmFzQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9jb250cm9sQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXZvaWQgMCx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLl9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKSxlLnJlbW92ZUF1dGhTdGF0ZSh0aGlzLnBhaW50ZXIuY29udGV4dC5nbCksdGhpcy5fcmVtb3ZlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZW1vdmVcIikpfXRyaWdnZXJSZXBhaW50KCl7dGhpcy5fdHJpZ2dlckZyYW1lKCEwKX1fdHJpZ2dlckZyYW1lKHQpe3RoaXMuX3JlbmRlck5leHRGcmFtZT10aGlzLl9yZW5kZXJOZXh0RnJhbWV8fHQsdGhpcy5zdHlsZSYmIXRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWU9ZS5leHBvcnRlZC5mcmFtZShlPT57Y29uc3QgdD0hIXRoaXMuX3JlbmRlck5leHRGcmFtZTt0aGlzLl9mcmFtZT1udWxsLHRoaXMuX3JlbmRlck5leHRGcmFtZT1udWxsLHQmJnRoaXMuX3JlbmRlcihlKX0pKX1fcHJlbG9hZFRpbGVzKHQpe2NvbnN0IHI9dGhpcy5zdHlsZT9PYmplY3QudmFsdWVzKHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyk6W107cmV0dXJuIGUuYXN5bmNBbGwociwoZSxyKT0+ZS5fcHJlbG9hZFRpbGVzKHQsciksKCk9Pnt0aGlzLnRyaWdnZXJSZXBhaW50KCl9KSx0aGlzfV9vbldpbmRvd09ubGluZSgpe3RoaXMuX3VwZGF0ZSgpfV9vbldpbmRvd1Jlc2l6ZShlKXt0aGlzLl90cmFja1Jlc2l6ZSYmdGhpcy5yZXNpemUoe29yaWdpbmFsRXZlbnQ6ZX0pLl91cGRhdGUoKX1fb25WaXNpYmlsaXR5Q2hhbmdlKCl7XCJoaWRkZW5cIj09PWUud2luZG93LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmdGhpcy5fdmlzaWJpbGl0eUhpZGRlbisrfWdldCBzaG93VGlsZUJvdW5kYXJpZXMoKXtyZXR1cm4hIXRoaXMuX3Nob3dUaWxlQm91bmRhcmllc31zZXQgc2hvd1RpbGVCb3VuZGFyaWVzKGUpe3RoaXMuX3Nob3dUaWxlQm91bmRhcmllcyE9PWUmJih0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM9ZSx0aGlzLl91cGRhdGUoKSl9Z2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKCl7cmV0dXJuISF0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZX1zZXQgc2hvd1RlcnJhaW5XaXJlZnJhbWUoZSl7dGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWUhPT1lJiYodGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWU9ZSx0aGlzLl91cGRhdGUoKSl9Z2V0IHNwZWVkSW5kZXhUaW1pbmcoKXtyZXR1cm4hIXRoaXMuX3NwZWVkSW5kZXhUaW1pbmd9c2V0IHNwZWVkSW5kZXhUaW1pbmcoZSl7dGhpcy5fc3BlZWRJbmRleFRpbWluZyE9PWUmJih0aGlzLl9zcGVlZEluZGV4VGltaW5nPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzaG93UGFkZGluZygpe3JldHVybiEhdGhpcy5fc2hvd1BhZGRpbmd9c2V0IHNob3dQYWRkaW5nKGUpe3RoaXMuX3Nob3dQYWRkaW5nIT09ZSYmKHRoaXMuX3Nob3dQYWRkaW5nPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzaG93Q29sbGlzaW9uQm94ZXMoKXtyZXR1cm4hIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc31zZXQgc2hvd0NvbGxpc2lvbkJveGVzKGUpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PWUmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9ZSxlP3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSl9Z2V0IHNob3dPdmVyZHJhd0luc3BlY3Rvcigpe3JldHVybiEhdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yfXNldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoZSl7dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yIT09ZSYmKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1lLHRoaXMuX3VwZGF0ZSgpKX1nZXQgcmVwYWludCgpe3JldHVybiEhdGhpcy5fcmVwYWludH1zZXQgcmVwYWludChlKXt0aGlzLl9yZXBhaW50IT09ZSYmKHRoaXMuX3JlcGFpbnQ9ZSx0aGlzLnRyaWdnZXJSZXBhaW50KCkpfWdldCB2ZXJ0aWNlcygpe3JldHVybiEhdGhpcy5fdmVydGljZXN9c2V0IHZlcnRpY2VzKGUpe3RoaXMuX3ZlcnRpY2VzPWUsdGhpcy5fdXBkYXRlKCl9Z2V0IHNob3dUaWxlQUFCQnMoKXtyZXR1cm4hIXRoaXMuX3Nob3dUaWxlQUFCQnN9c2V0IHNob3dUaWxlQUFCQnMoZSl7dGhpcy5fc2hvd1RpbGVBQUJCcyE9PWUmJih0aGlzLl9zaG93VGlsZUFBQkJzPWUsZSYmdGhpcy5fdXBkYXRlKCkpfV9zZXRDYWNoZUxpbWl0cyh0LHIpe2Uuc2V0Q2FjaGVMaW1pdHModCxyKX1nZXQgdmVyc2lvbigpe3JldHVybiBlLnZlcnNpb259fSxOYXZpZ2F0aW9uQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe30sdW8sdCksdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJihlLmJpbmRBbGwoW1wiX3NldEJ1dHRvblRpdGxlXCIsXCJfdXBkYXRlWm9vbUJ1dHRvbnNcIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtem9vbS1pblwiLGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tSW4oe30se29yaWdpbmFsRXZlbnQ6ZX0pfSksbyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20tb3V0XCIsZT0+e3RoaXMuX21hcCYmdGhpcy5fbWFwLnpvb21PdXQoe30se29yaWdpbmFsRXZlbnQ6ZX0pfSksbyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21PdXRCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJihlLmJpbmRBbGwoW1wiX3JvdGF0ZUNvbXBhc3NBcnJvd1wiXSx0aGlzKSx0aGlzLl9jb21wYXNzPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtY29tcGFzc1wiLGU9Pntjb25zdCB0PXRoaXMuX21hcDt0JiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP3QucmVzZXROb3J0aFBpdGNoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTp0LnJlc2V0Tm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pKX0pLHRoaXMuX2NvbXBhc3NJY29uPW8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYXNzKSx0aGlzLl9jb21wYXNzSWNvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSl9X3VwZGF0ZVpvb21CdXR0b25zKCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5nZXRab29tKCkscj10PT09ZS5nZXRNYXhab29tKCksbj10PT09ZS5nZXRNaW5ab29tKCk7dGhpcy5fem9vbUluQnV0dG9uLmRpc2FibGVkPXIsdGhpcy5fem9vbU91dEJ1dHRvbi5kaXNhYmxlZD1uLHRoaXMuX3pvb21JbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsci50b1N0cmluZygpKSx0aGlzLl96b29tT3V0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixuLnRvU3RyaW5nKCkpfV9yb3RhdGVDb21wYXNzQXJyb3coKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm47Y29uc3QgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/YHNjYWxlKCR7MS9NYXRoLnBvdyhNYXRoLmNvcyhlLnRyYW5zZm9ybS5waXRjaCooTWF0aC5QSS8xODApKSwuNSl9KSByb3RhdGVYKCR7ZS50cmFuc2Zvcm0ucGl0Y2h9ZGVnKSByb3RhdGVaKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDpgcm90YXRlKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDtlLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2NvbXBhc3NJY29uJiYodGhpcy5fY29tcGFzc0ljb24uc3R5bGUudHJhbnNmb3JtPXQpfSl9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKHRoaXMuX3NldEJ1dHRvblRpdGxlKHRoaXMuX3pvb21JbkJ1dHRvbixcIlpvb21JblwiKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLFwiWm9vbU91dFwiKSxlLm9uKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLl91cGRhdGVab29tQnV0dG9ucygpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl9jb21wYXNzLFwiUmVzZXRCZWFyaW5nXCIpLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCYmZS5vbihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9uKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3coKSx0aGlzLl9oYW5kbGVyPW5ldyBobyhlLHRoaXMuX2NvbXBhc3MsdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7ZSYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJmUub2ZmKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub2ZmKFwicGl0Y2hcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLGUub2ZmKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9oYW5kbGVyJiZ0aGlzLl9oYW5kbGVyLm9mZigpLHRoaXMuX2hhbmRsZXI9dm9pZCAwKSx0aGlzLl9tYXA9dm9pZCAwKX1fY3JlYXRlQnV0dG9uKGUsdCl7Y29uc3Qgcj1vKFwiYnV0dG9uXCIsZSx0aGlzLl9jb250YWluZXIpO3JldHVybiByLnR5cGU9XCJidXR0b25cIixyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpLHJ9X3NldEJ1dHRvblRpdGxlKGUsdCl7aWYoIXRoaXMuX21hcClyZXR1cm47Y29uc3Qgcj10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiTmF2aWdhdGlvbkNvbnRyb2wuXCIrdCk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsciksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHIpfX0sR2VvbG9jYXRlQ29udHJvbDpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz1lLmV4dGVuZCh7Z2VvbG9jYXRpb246ZS53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9ufSxwbyx0KSxlLmJpbmRBbGwoW1wiX29uU3VjY2Vzc1wiLFwiX29uRXJyb3JcIixcIl9vblpvb21cIixcIl9maW5pc2hcIixcIl9zZXR1cFVJXCIsXCJfdXBkYXRlQ2FtZXJhXCIsXCJfdXBkYXRlTWFya2VyXCIsXCJfdXBkYXRlTWFya2VyUm90YXRpb25cIixcIl9vbkRldmljZU9yaWVudGF0aW9uXCJdLHRoaXMpLHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkPUpuKHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uLDIwKSx0aGlzLl9udW1iZXJPZldhdGNoZXM9MH1vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJih0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDApLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlciYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJ6b29tXCIsdGhpcy5fb25ab29tKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX251bWJlck9mV2F0Y2hlcz0wLHRoaXMuX25vVGltZW91dD0hMX1fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodCl7Y29uc3Qgcj0oZT0hIXRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbik9Pnt0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uPWUsdChlKX07dm9pZCAwIT09dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj90KHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24pOnZvaWQgMCE9PWUud2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucz9lLndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6XCJnZW9sb2NhdGlvblwifSkudGhlbihlPT5yKFwiZGVuaWVkXCIhPT1lLnN0YXRlKSkuY2F0Y2goKCk9PnIoKSk6cigpfV9pc091dE9mTWFwTWF4Qm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLmdldE1heEJvdW5kcygpLHI9ZS5jb29yZHM7cmV0dXJuISF0JiYoci5sb25naXR1ZGU8dC5nZXRXZXN0KCl8fHIubG9uZ2l0dWRlPnQuZ2V0RWFzdCgpfHxyLmxhdGl0dWRlPHQuZ2V0U291dGgoKXx8ci5sYXRpdHVkZT50LmdldE5vcnRoKCkpfV9zZXRFcnJvclN0YXRlKCl7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKX19X29uU3VjY2Vzcyh0KXtpZih0aGlzLl9tYXApe2lmKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHModCkpcmV0dXJuIHRoaXMuX3NldEVycm9yU3RhdGUoKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJvdXRvZm1heGJvdW5kc1wiLHQpKSx0aGlzLl91cGRhdGVNYXJrZXIoKSx2b2lkIHRoaXMuX2ZpbmlzaCgpO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilzd2l0Y2godGhpcy5fbGFzdEtub3duUG9zaXRpb249dCx0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKX10aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmXCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMuX3VwZGF0ZU1hcmtlcih0KSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJlwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fHRoaXMuX3VwZGF0ZUNhbWVyYSh0KSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ2VvbG9jYXRlXCIsdCkpLHRoaXMuX2ZpbmlzaCgpfX1fdXBkYXRlQ2FtZXJhKHQpe2NvbnN0IHI9bmV3IGUuTG5nTGF0KHQuY29vcmRzLmxvbmdpdHVkZSx0LmNvb3Jkcy5sYXRpdHVkZSksbj10LmNvb3Jkcy5hY2N1cmFjeSxpPXRoaXMuX21hcC5nZXRCZWFyaW5nKCksbz1lLmV4dGVuZCh7YmVhcmluZzppfSx0aGlzLm9wdGlvbnMuZml0Qm91bmRzT3B0aW9ucyk7dGhpcy5fbWFwLmZpdEJvdW5kcyhyLnRvQm91bmRzKG4pLG8se2dlb2xvY2F0ZVNvdXJjZTohMH0pfV91cGRhdGVNYXJrZXIodCl7aWYodCl7Y29uc3Qgcj1uZXcgZS5MbmdMYXQodC5jb29yZHMubG9uZ2l0dWRlLHQuY29vcmRzLmxhdGl0dWRlKTt0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5zZXRMbmdMYXQocikuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KHIpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fYWNjdXJhY3k9dC5jb29yZHMuYWNjdXJhY3ksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpfWVsc2UgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpfV91cGRhdGVDaXJjbGVSYWRpdXMoKXtjb25zdCB0PXRoaXMuX21hcC50cmFuc2Zvcm0scj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHQuX2NlbnRlci5sYXQpKnQud29ybGRTaXplLG49TWF0aC5jZWlsKDIqdGhpcy5fYWNjdXJhY3kqcik7dGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS53aWR0aD1uK1wicHhcIix0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLmhlaWdodD1uK1wicHhcIn1fb25ab29tKCl7dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpfV91cGRhdGVNYXJrZXJSb3RhdGlvbigpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2hlYWRpbmc/KHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbih0aGlzLl9oZWFkaW5nKSx0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSk6KHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nXCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbigwKSl9X29uRXJyb3IodCl7aWYodGhpcy5fbWFwKXtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24paWYoMT09PXQuY29kZSl7dGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMDtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKSx2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJnRoaXMuX2NsZWFyV2F0Y2goKX1lbHNle2lmKDM9PT10LmNvZGUmJnRoaXMuX25vVGltZW91dClyZXR1cm47dGhpcy5fc2V0RXJyb3JTdGF0ZSgpfVwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZXJyb3JcIix0KSksdGhpcy5fZmluaXNoKCl9fV9maW5pc2goKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDB9X3NldHVwVUkodCl7aWYodGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGU9PmUucHJldmVudERlZmF1bHQoKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPW8oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlXCIsdGhpcy5fY29udGFpbmVyKSxvKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24udHlwZT1cImJ1dHRvblwiLCExPT09dCl7ZS53YXJuT25jZShcIkdlb2xvY2F0aW9uIHN1cHBvcnQgaXMgbm90IGF2YWlsYWJsZSBzbyB0aGUgR2VvbG9jYXRlQ29udHJvbCB3aWxsIGJlIGRpc2FibGVkLlwiKTtjb25zdCB0PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHQpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsdCl9ZWxzZXtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKX10aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJih0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJmYWxzZVwiKSx0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiYodGhpcy5fZG90RWxlbWVudD1vKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uXCIpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQobyhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3RcIikpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQobyhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nXCIpKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXI9bmV3IHJvKHtlbGVtZW50OnRoaXMuX2RvdEVsZW1lbnQscm90YXRpb25BbGlnbm1lbnQ6XCJtYXBcIixwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5fY2lyY2xlRWxlbWVudD1vKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZVwiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgcm8oe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLl9tYXAub24oXCJ6b29tXCIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMpKSx0aGlzLl9zZXR1cD0hMCx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJnRoaXMuX21hcC5vbihcIm1vdmVzdGFydFwiLHQ9Pnt0Lmdlb2xvY2F0ZVNvdXJjZXx8XCJBQ1RJVkVfTE9DS1wiIT09dGhpcy5fd2F0Y2hTdGF0ZXx8dC5vcmlnaW5hbEV2ZW50JiZcInJlc2l6ZVwiPT09dC5vcmlnaW5hbEV2ZW50LnR5cGV8fCh0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORFwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbmVuZFwiKSkpfSl9X29uRGV2aWNlT3JpZW50YXRpb24oZSl7dGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiYoZS53ZWJraXRDb21wYXNzSGVhZGluZz90aGlzLl9oZWFkaW5nPWUud2Via2l0Q29tcGFzc0hlYWRpbmc6ITA9PT1lLmFic29sdXRlJiYodGhpcy5faGVhZGluZz0tMSplLmFscGhhKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCgpKX10cmlnZ2VyKCl7aWYoIXRoaXMuX3NldHVwKXJldHVybiBlLndhcm5PbmNlKFwiR2VvbG9jYXRlIGNvbnRyb2wgdHJpZ2dlcmVkIGJlZm9yZSBhZGRlZCB0byBhIG1hcFwiKSwhMTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJPRkZcIjp0aGlzLl93YXRjaFN0YXRlPVwiV0FJVElOR19BQ1RJVkVcIix0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0XCIpKTticmVhaztjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX251bWJlck9mV2F0Y2hlcy0tLHRoaXMuX25vVGltZW91dD0hMSx0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fbGFzdEtub3duUG9zaXRpb24mJnRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSl9c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIil9aWYoXCJPRkZcIj09PXRoaXMuX3dhdGNoU3RhdGUmJnZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCl0aGlzLl9jbGVhcldhdGNoKCk7ZWxzZSBpZih2b2lkIDA9PT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpe2xldCBlO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJ0cnVlXCIpLHRoaXMuX251bWJlck9mV2F0Y2hlcysrLHRoaXMuX251bWJlck9mV2F0Y2hlcz4xPyhlPXttYXhpbXVtQWdlOjZlNSx0aW1lb3V0OjB9LHRoaXMuX25vVGltZW91dD0hMCk6KGU9dGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyx0aGlzLl9ub1RpbWVvdXQ9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJIZWFkaW5nJiZ0aGlzLl9hZGREZXZpY2VPcmllbnRhdGlvbkxpc3RlbmVyKCl9fWVsc2UgdGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcix0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKSx0aGlzLl90aW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl9maW5pc2gsMWU0KTtyZXR1cm4hMH1fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpe2NvbnN0IHQ9KCk9PntlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25kZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCJpbiBlLndpbmRvdz9cImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGVcIjpcImRldmljZW9yaWVudGF0aW9uXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbil9O3ZvaWQgMCE9PWUud2luZG93LkRldmljZU1vdGlvbkV2ZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5EZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbj9EZXZpY2VPcmllbnRhdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihlPT57XCJncmFudGVkXCI9PT1lJiZ0KCl9KS5jYXRjaChjb25zb2xlLmVycm9yKTp0KCl9X2NsZWFyV2F0Y2goKXt0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbiksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXZvaWQgMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKX19LEF0dHJpYnV0aW9uQ29udHJvbDpLaSxTY2FsZUNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPWUuZXh0ZW5kKHt9LGZvLHQpLGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlblwiLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6XCJtZXRlclwifSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpfHwodGhpcy5fc2V0U2NhbGU9bW8uYmluZCh0aGlzKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9zZXRTY2FsZVwiLFwic2V0VW5pdFwiXSx0aGlzKX1nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm5cImJvdHRvbS1sZWZ0XCJ9X3VwZGF0ZSgpe2NvbnN0IGU9dGhpcy5vcHRpb25zLm1heFdpZHRofHwxMDAsdD10aGlzLl9tYXAscj10Ll9jb250YWluZXJIZWlnaHQvMixuPXQuX2NvbnRhaW5lcldpZHRoLzItZS8yLGk9dC51bnByb2plY3QoW24scl0pLG89dC51bnByb2plY3QoW24rZSxyXSksYT1pLmRpc3RhbmNlVG8obyk7aWYoXCJpbXBlcmlhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQpe2NvbnN0IHQ9My4yODA4KmE7dD41MjgwP3RoaXMuX3NldFNjYWxlKGUsdC81MjgwLFwibWlsZVwiKTp0aGlzLl9zZXRTY2FsZShlLHQsXCJmb290XCIpfWVsc2VcIm5hdXRpY2FsXCI9PT10aGlzLm9wdGlvbnMudW5pdD90aGlzLl9zZXRTY2FsZShlLGEvMTg1MixcIm5hdXRpY2FsLW1pbGVcIik6YT49MWUzP3RoaXMuX3NldFNjYWxlKGUsYS8xZTMsXCJraWxvbWV0ZXJcIik6dGhpcy5fc2V0U2NhbGUoZSxhLFwibWV0ZXJcIil9X3NldFNjYWxlKGUsdCxyKXtjb25zdCBuPWdvKHQpLGk9bi90O3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSppK1wicHhcIix0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MPVwibmF1dGljYWwtbWlsZVwiIT09cj9uZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5fbGFuZ3VhZ2Use3N0eWxlOlwidW5pdFwiLHVuaXREaXNwbGF5OlwibmFycm93XCIsdW5pdDpyfSkuZm9ybWF0KG4pOm4rXCImbmJzcDtubVwifSl9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2xhbmd1YWdlPWUuZ2V0TGFuZ3VhZ2UoKSx0aGlzLl9jb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlXCIsZS5nZXRDb250YWluZXIoKSksdGhpcy5fY29udGFpbmVyLmRpcj1cImF1dG9cIix0aGlzLl9tYXAub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcD12b2lkIDB9X3NldExhbmd1YWdlKGUpe3RoaXMuX2xhbmd1YWdlPWUsdGhpcy5fdXBkYXRlKCl9c2V0VW5pdChlKXt0aGlzLm9wdGlvbnMudW5pdD1lLHRoaXMuX3VwZGF0ZSgpfX0sRnVsbHNjcmVlbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5fZnVsbHNjcmVlbj0hMSx0JiZ0LmNvbnRhaW5lciYmKHQuY29udGFpbmVyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnQ/dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyOmUud2Fybk9uY2UoXCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC5cIikpLGUuYmluZEFsbChbXCJfb25DbGlja0Z1bGxzY3JlZW5cIixcIl9jaGFuZ2VJY29uXCJdLHRoaXMpLFwib25mdWxsc2NyZWVuY2hhbmdlXCJpbiBlLndpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwiZnVsbHNjcmVlbmNoYW5nZVwiOlwib253ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCJpbiBlLndpbmRvdy5kb2N1bWVudCYmKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIpfW9uQWRkKHQpe3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fCh0aGlzLl9jb250YWluZXI9dGhpcy5fbWFwLmdldENvbnRhaW5lcigpKSx0aGlzLl9jb250cm9sQ29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCk/dGhpcy5fc2V0dXBVSSgpOih0aGlzLl9jb250cm9sQ29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS53YXJuT25jZShcIlRoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgZnVsbHNjcmVlbiBtb2RlLlwiKSksdGhpcy5fY29udHJvbENvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRyb2xDb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwPW51bGwsZS53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pfV9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCl7cmV0dXJuISghZS53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQmJiFlLndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCl9X3NldHVwVUkoKXtjb25zdCB0PXRoaXMuX2Z1bGxzY3JlZW5CdXR0b249byhcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIsdGhpcy5fY29udHJvbENvbnRhaW5lcik7byhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHQpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHQudHlwZT1cImJ1dHRvblwiLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrRnVsbHNjcmVlbiksZS53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pfV91cGRhdGVUaXRsZSgpe2NvbnN0IGU9dGhpcy5fZ2V0VGl0bGUoKTt0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSl9X2dldFRpdGxlKCl7cmV0dXJuIHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcodGhpcy5faXNGdWxsc2NyZWVuKCk/XCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJGdWxsc2NyZWVuQ29udHJvbC5FbnRlclwiKX1faXNGdWxsc2NyZWVuKCl7cmV0dXJuIHRoaXMuX2Z1bGxzY3JlZW59X2NoYW5nZUljb24oKXsoZS53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGUud2luZG93LmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KT09PXRoaXMuX2NvbnRhaW5lciE9PXRoaXMuX2Z1bGxzY3JlZW4mJih0aGlzLl9mdWxsc2NyZWVuPSF0aGlzLl9mdWxsc2NyZWVuLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtc2hyaW5rXCIpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiKSx0aGlzLl91cGRhdGVUaXRsZSgpKX1fb25DbGlja0Z1bGxzY3JlZW4oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT9lLndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj9lLndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmUud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmUud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKX19LFBvcHVwOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPWUuZXh0ZW5kKE9iamVjdC5jcmVhdGUobm8pLHQpLGUuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfb25DbG9zZVwiLFwicmVtb3ZlXCIsXCJfb25Nb3VzZUV2ZW50XCJdLHRoaXMpLHRoaXMuX2NsYXNzTGlzdD1uZXcgU2V0KHQmJnQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lLnRyaW0oKS5zcGxpdCgvXFxzKy8pOltdKX1hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD10LHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2smJnQub24oXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHRoaXMub3B0aW9ucy5jbG9zZU9uTW92ZSYmdC5vbihcIm1vdmVcIix0aGlzLl9vbkNsb3NlKSx0Lm9uKFwicmVtb3ZlXCIsdGhpcy5yZW1vdmUpLHRoaXMuX3VwZGF0ZSgpLHQuX2FkZFBvcHVwKHRoaXMpLHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCksdGhpcy5fdHJhY2tQb2ludGVyPyh0Lm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Lm9uKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKTp0Lm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwib3BlblwiKSksdGhpc31pc09wZW4oKXtyZXR1cm4hIXRoaXMuX21hcH1yZW1vdmUoKXt0aGlzLl9jb250ZW50JiZ0aGlzLl9jb250ZW50LnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lciYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9jb250YWluZXI9dm9pZCAwKTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKHQub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdC5vZmYoXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Lm9mZihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lciYmdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpLHQuX3JlbW92ZVBvcHVwKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImNsb3NlXCIpKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3RoaXMuX2xuZ0xhdD1lLkxuZ0xhdC5jb252ZXJ0KHQpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3RyYWNrUG9pbnRlcj0hMSx0aGlzLl91cGRhdGUoKTtjb25zdCByPXRoaXMuX21hcDtyZXR1cm4gciYmKHIub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSxyLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksci5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKSx0aGlzfXRyYWNrUG9pbnRlcigpe3RoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKTtjb25zdCBlPXRoaXMuX21hcDtyZXR1cm4gZSYmKGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksZS5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksZS5vbihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1zZXRUZXh0KHQpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQoZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpfXNldEhUTUwodCl7Y29uc3Qgcj1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtsZXQgaTtmb3Iobi5pbm5lckhUTUw9dDtpPW4uZmlyc3RDaGlsZCxpOylyLmFwcGVuZENoaWxkKGkpO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQocil9Z2V0TWF4V2lkdGgoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuc3R5bGUubWF4V2lkdGh9c2V0TWF4V2lkdGgoZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhXaWR0aD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9c2V0RE9NQ29udGVudChlKXtsZXQgdD10aGlzLl9jb250ZW50O2lmKHQpZm9yKDt0Lmhhc0NoaWxkTm9kZXMoKTspdC5maXJzdENoaWxkJiZ0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7ZWxzZSB0PXRoaXMuX2NvbnRlbnQ9byhcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtY29udGVudFwiLHRoaXMuX2NvbnRhaW5lcnx8dm9pZCAwKTtpZih0LmFwcGVuZENoaWxkKGUpLHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbil7Y29uc3QgZT10aGlzLl9jbG9zZUJ1dHRvbj1vKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b25cIix0KTtlLnR5cGU9XCJidXR0b25cIixlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIkNsb3NlIHBvcHVwXCIpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5pbm5lckhUTUw9XCImIzIxNTtcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xvc2UpfXJldHVybiB0aGlzLl91cGRhdGUoKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXN9YWRkQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuYWRkKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9cmVtb3ZlQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9c2V0T2Zmc2V0KGUpe3JldHVybiB0aGlzLm9wdGlvbnMub2Zmc2V0PWUsdGhpcy5fdXBkYXRlKCksdGhpc310b2dnbGVDbGFzc05hbWUoZSl7bGV0IHQ7cmV0dXJuIHRoaXMuX2NsYXNzTGlzdC5kZWxldGUoZSk/dD0hMToodGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0PSEwKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0fV9vbk1vdXNlRXZlbnQoZSl7dGhpcy5fdXBkYXRlKGUucG9pbnQpfV9nZXRBbmNob3IoZSl7aWYodGhpcy5vcHRpb25zLmFuY2hvcilyZXR1cm4gdGhpcy5vcHRpb25zLmFuY2hvcjtjb25zdCB0PXRoaXMuX21hcCxyPXRoaXMuX2NvbnRhaW5lcixuPXRoaXMuX3BvcztpZighdHx8IXJ8fCFuKXJldHVyblwiYm90dG9tXCI7Y29uc3QgaT1yLm9mZnNldFdpZHRoLG89ci5vZmZzZXRIZWlnaHQsYT1uLng8aS8yLHM9bi54PnQudHJhbnNmb3JtLndpZHRoLWkvMjtpZihuLnkrZTxvKXJldHVybiBhP1widG9wLWxlZnRcIjpzP1widG9wLXJpZ2h0XCI6XCJ0b3BcIjtpZihuLnk+dC50cmFuc2Zvcm0uaGVpZ2h0LW8pe2lmKGEpcmV0dXJuXCJib3R0b20tbGVmdFwiO2lmKHMpcmV0dXJuXCJib3R0b20tcmlnaHRcIn1yZXR1cm4gYT9cImxlZnRcIjpzP1wicmlnaHRcIjpcImJvdHRvbVwifV91cGRhdGVDbGFzc0xpc3QoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lcjtpZighZSlyZXR1cm47Y29uc3QgdD1bLi4udGhpcy5fY2xhc3NMaXN0XTt0LnB1c2goXCJtYXBib3hnbC1wb3B1cFwiKSx0aGlzLl9hbmNob3ImJnQucHVzaChcIm1hcGJveGdsLXBvcHVwLWFuY2hvci1cIit0aGlzLl9hbmNob3IpLHRoaXMuX3RyYWNrUG9pbnRlciYmdC5wdXNoKFwibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlclwiKSxlLmNsYXNzTmFtZT10LmpvaW4oXCIgXCIpfV91cGRhdGUodCl7Y29uc3Qgcj10aGlzLl9tYXAsbj10aGlzLl9jb250ZW50O2lmKCFyfHwhdGhpcy5fbG5nTGF0JiYhdGhpcy5fdHJhY2tQb2ludGVyfHwhbilyZXR1cm47bGV0IGk9dGhpcy5fY29udGFpbmVyO2lmKGl8fChpPXRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cFwiLHIuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX3RpcD1vKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cC10aXBcIixpKSxpLmFwcGVuZENoaWxkKG4pKSx0aGlzLm9wdGlvbnMubWF4V2lkdGgmJmkuc3R5bGUubWF4V2lkdGghPT10aGlzLm9wdGlvbnMubWF4V2lkdGgmJihpLnN0eWxlLm1heFdpZHRoPXRoaXMub3B0aW9ucy5tYXhXaWR0aCksci50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJiF0aGlzLl90cmFja1BvaW50ZXImJih0aGlzLl9sbmdMYXQ9ZW8odGhpcy5fbG5nTGF0LHRoaXMuX3BvcyxyLnRyYW5zZm9ybSkpLCF0aGlzLl90cmFja1BvaW50ZXJ8fHQpe2NvbnN0IGU9dGhpcy5fcG9zPXRoaXMuX3RyYWNrUG9pbnRlciYmdD90OnIucHJvamVjdCh0aGlzLl9sbmdMYXQpLG49b28odGhpcy5vcHRpb25zLm9mZnNldCksaT10aGlzLl9hbmNob3I9dGhpcy5fZ2V0QW5jaG9yKG4ueSksbz1vbyh0aGlzLm9wdGlvbnMub2Zmc2V0LGkpLGE9ZS5hZGQobykucm91bmQoKTtyLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2NvbnRhaW5lciYmaSYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm09YCR7dG9baV19IHRyYW5zbGF0ZSgke2EueH1weCwke2EueX1weClgKX0pfWlmKCF0aGlzLl9tYXJrZXImJnIuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCB0PWUuaXNMbmdMYXRCZWhpbmRHbG9iZShyLnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpPzA6MTt0aGlzLl9zZXRPcGFjaXR5KHQpfXRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpfV9mb2N1c0ZpcnN0RWxlbWVudCgpe2lmKCF0aGlzLm9wdGlvbnMuZm9jdXNBZnRlck9wZW58fCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoaW8pO2UmJmUuZm9jdXMoKX1fb25DbG9zZSgpe3RoaXMucmVtb3ZlKCl9X3NldE9wYWNpdHkoZSl7dGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9XCJcIitlKSx0aGlzLl9jb250ZW50JiYodGhpcy5fY29udGVudC5zdHlsZS5wb2ludGVyRXZlbnRzPWU/XCJhdXRvXCI6XCJub25lXCIpfX0sTWFya2VyOnJvLFN0eWxlOmVyLExuZ0xhdDplLkxuZ0xhdCxMbmdMYXRCb3VuZHM6ZS5MbmdMYXRCb3VuZHMsUG9pbnQ6ZS5wb2ludEdlb21ldHJ5LE1lcmNhdG9yQ29vcmRpbmF0ZTplLk1lcmNhdG9yQ29vcmRpbmF0ZSxGcmVlQ2FtZXJhT3B0aW9uczpHbixFdmVudGVkOmUuRXZlbnRlZCxjb25maWc6ZS5jb25maWcscHJld2FybTpmdW5jdGlvbigpe05lKCkuYWNxdWlyZShGZSl9LGNsZWFyUHJld2FybWVkUmVzb3VyY2VzOmZ1bmN0aW9uKCl7Y29uc3QgZT1VZTtlJiYoZS5pc1ByZWxvYWRlZCgpJiYxPT09ZS5udW1BY3RpdmUoKT8oZS5yZWxlYXNlKEZlKSxVZT1udWxsKTpjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgY2xlYXIgV2ViV29ya2VycyBzaW5jZSB0aGVyZSBhcmUgYWN0aXZlIE1hcCBpbnN0YW5jZXMgdGhhdCBzdGlsbCByZWZlcmVuY2UgaXQuIFRoZSBwcmUtd2FybWVkIFdlYldvcmtlciBwb29sIGNhbiBvbmx5IGJlIGNsZWFyZWQgd2hlbiBhbGwgbWFwIGluc3RhbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIG1hcC5yZW1vdmUoKVwiKSl9LGdldCBhY2Nlc3NUb2tlbigpe3JldHVybiBlLmNvbmZpZy5BQ0NFU1NfVE9LRU59LHNldCBhY2Nlc3NUb2tlbih0KXtlLmNvbmZpZy5BQ0NFU1NfVE9LRU49dH0sZ2V0IGJhc2VBcGlVcmwoKXtyZXR1cm4gZS5jb25maWcuQVBJX1VSTH0sc2V0IGJhc2VBcGlVcmwodCl7ZS5jb25maWcuQVBJX1VSTD10fSxnZXQgd29ya2VyQ291bnQoKXtyZXR1cm4gamUud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudChlKXtqZS53b3JrZXJDb3VudD1lfSxnZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKCl7cmV0dXJuIGUuY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUU30sc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyh0KXtlLmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM9dH0sY2xlYXJTdG9yYWdlKHQpe2UuY2xlYXJUaWxlQ2FjaGUodCl9LHdvcmtlclVybDpcIlwiLHdvcmtlckNsYXNzOm51bGwsc2V0Tm93OmUuZXhwb3J0ZWQuc2V0Tm93LHJlc3RvcmVOb3c6ZS5leHBvcnRlZC5yZXN0b3JlTm93fTtyZXR1cm4gX299KSksbn0oKX0oKX0pLmNhbGwodGhpcyxyKDE0MikpfSxmdW5jdGlvbihlLHQpe3ZhciByLG4saT1lLmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1vfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2goZSl7cj1vfXRyeXtuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6YX1jYXRjaChlKXtuPWF9fSgpO3ZhciBsLGM9W10sdT0hMSxoPS0xO2Z1bmN0aW9uIGQoKXt1JiZsJiYodT0hMSxsLmxlbmd0aD9jPWwuY29uY2F0KGMpOmg9LTEsYy5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCF1KXt2YXIgZT1zKGQpO3U9ITA7Zm9yKHZhciB0PWMubGVuZ3RoO3Q7KXtmb3IobD1jLGM9W107KytoPHQ7KWwmJmxbaF0ucnVuKCk7aD0tMSx0PWMubGVuZ3RofWw9bnVsbCx1PSExLGZ1bmN0aW9uKGUpe2lmKG49PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobj09PWF8fCFuKSYmY2xlYXJUaW1lb3V0KXJldHVybiBuPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e24oZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gbi5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGYoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBtKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtjLnB1c2gobmV3IGYoZSx0KSksMSE9PWMubGVuZ3RofHx1fHxzKHApfSxmLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPVwiYnJvd3NlclwiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPVwiXCIsaS52ZXJzaW9ucz17fSxpLm9uPW0saS5hZGRMaXN0ZW5lcj1tLGkub25jZT1tLGkub2ZmPW0saS5yZW1vdmVMaXN0ZW5lcj1tLGkucmVtb3ZlQWxsTGlzdGVuZXJzPW0saS5lbWl0PW0saS5wcmVwZW5kTGlzdGVuZXI9bSxpLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxpLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sLGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIGk9bihyKDUpKSxvPW4ocig0KSksYT1uKHIoMikpLHM9bihyKDEpKSxsPShuKHIoMykpLG4ocig4KSkpLGM9KG4ocig2KSkscig3KSxuKHIoOSkpKSx1PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLnNoYWRvd3MuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0W1wiZWxldmF0aW9uXCIuY29uY2F0KHIpXT17Ym94U2hhZG93OmV9fSkpLCgwLGEuZGVmYXVsdCkoe3Jvb3Q6e2JhY2tncm91bmRDb2xvcjplLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcn0scm91bmRlZDp7Ym9yZGVyUmFkaXVzOmUuc2hhcGUuYm9yZGVyUmFkaXVzfX0sdCl9O2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5jbGFzc2VzLHI9ZS5jbGFzc05hbWUsbj1lLmNvbXBvbmVudCxjPWUuc3F1YXJlLHU9ZS5lbGV2YXRpb24saD0oMCxvLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjb21wb25lbnRcIixcInNxdWFyZVwiLFwiZWxldmF0aW9uXCJdKSxkPSgwLGwuZGVmYXVsdCkodC5yb290LHRbXCJlbGV2YXRpb25cIi5jb25jYXQodSldLCgwLGkuZGVmYXVsdCkoe30sdC5yb3VuZGVkLCFjKSxyKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobiwoMCxhLmRlZmF1bHQpKHtjbGFzc05hbWU6ZH0saCkpfXQuc3R5bGVzPXUsaC5kZWZhdWx0UHJvcHM9e2NvbXBvbmVudDpcImRpdlwiLGVsZXZhdGlvbjoyLHNxdWFyZTohMX07dmFyIGQ9KDAsYy5kZWZhdWx0KSh1LHtuYW1lOlwiTXVpUGFwZXJcIn0pKGgpO3QuZGVmYXVsdD1kfSwsLGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE0OCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNCkpLGE9bihyKDEpKSxzPShuKHIoMykpLG4ocig4KSkpLGw9bihyKDE0OSkpLGM9bihyKDE3MCkpLHU9bihyKDE3OCkpLGg9cigxNiksZD1uKHIoOSkpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeX0sY2hlY2tlZDp7fSxkaXNhYmxlZDp7fSxjb2xvclByaW1hcnk6e1wiJiRjaGVja2VkXCI6e2NvbG9yOmUucGFsZXR0ZS5wcmltYXJ5Lm1haW59LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfX0sY29sb3JTZWNvbmRhcnk6e1wiJiRjaGVja2VkXCI6e2NvbG9yOmUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbn0sXCImJGRpc2FibGVkXCI6e2NvbG9yOmUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWR9fX19O3Quc3R5bGVzPXA7dmFyIGY9YS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYy5kZWZhdWx0LG51bGwpLG09YS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodS5kZWZhdWx0LG51bGwpO2Z1bmN0aW9uIGcoZSl7dmFyIHQ9ZS5jbGFzc2VzLHI9ZS5jb2xvcixuPSgwLG8uZGVmYXVsdCkoZSxbXCJjbGFzc2VzXCIsXCJjb2xvclwiXSk7cmV0dXJuIGEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGwuZGVmYXVsdCwoMCxpLmRlZmF1bHQpKHt0eXBlOlwicmFkaW9cIixpY29uOmYsY2hlY2tlZEljb246bSxjbGFzc2VzOntyb290OigwLHMuZGVmYXVsdCkodC5yb290LHRbXCJjb2xvclwiLmNvbmNhdCgoMCxoLmNhcGl0YWxpemUpKHIpKV0pLGNoZWNrZWQ6dC5jaGVja2VkLGRpc2FibGVkOnQuZGlzYWJsZWR9fSxuKSl9Zy5kZWZhdWx0UHJvcHM9e2NvbG9yOlwic2Vjb25kYXJ5XCJ9O3ZhciBfPSgwLGQuZGVmYXVsdCkocCx7bmFtZTpcIk11aVJhZGlvXCJ9KShnKTt0LmRlZmF1bHQ9X30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMTApKSxsPW4ocigxMSkpLGM9bihyKDEyKSksdT1uKHIoMTMpKSxoPW4ocigxNCkpLGQ9bihyKDEpKSxwPShuKHIoMykpLG4ocig4KSkpLGY9bihyKDM3KSksbT1uKHIoOSkpLGc9bihyKDE1MCkpLF89e3Jvb3Q6e2Rpc3BsYXk6XCJpbmxpbmUtZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIix0cmFuc2l0aW9uOlwibm9uZVwiLFwiJjpob3ZlclwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifX0sY2hlY2tlZDp7fSxkaXNhYmxlZDp7fSxpbnB1dDp7Y3Vyc29yOlwiaW5oZXJpdFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixvcGFjaXR5OjAsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxwYWRkaW5nOjB9fTt0LnN0eWxlcz1fO3ZhciB5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHI7cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLHQpLChyPSgwLGMuZGVmYXVsdCkodGhpcywoMCx1LmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5oYW5kbGVGb2N1cz1mdW5jdGlvbihlKXtyLnByb3BzLm9uRm9jdXMmJnIucHJvcHMub25Gb2N1cyhlKTt2YXIgdD1yLnByb3BzLm11aUZvcm1Db250cm9sO3QmJnQub25Gb2N1cyYmdC5vbkZvY3VzKGUpfSxyLmhhbmRsZUJsdXI9ZnVuY3Rpb24oZSl7ci5wcm9wcy5vbkJsdXImJnIucHJvcHMub25CbHVyKGUpO3ZhciB0PXIucHJvcHMubXVpRm9ybUNvbnRyb2w7dCYmdC5vbkJsdXImJnQub25CbHVyKGUpfSxyLmhhbmRsZUlucHV0Q2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LmNoZWNrZWQ7ci5pc0NvbnRyb2xsZWR8fHIuc2V0U3RhdGUoe2NoZWNrZWQ6dH0pLHIucHJvcHMub25DaGFuZ2UmJnIucHJvcHMub25DaGFuZ2UoZSx0KX0sci5pc0NvbnRyb2xsZWQ9bnVsbCE9ZS5jaGVja2VkLHIuc3RhdGU9e30sci5pc0NvbnRyb2xsZWR8fChyLnN0YXRlLmNoZWNrZWQ9dm9pZCAwIT09ZS5kZWZhdWx0Q2hlY2tlZCYmZS5kZWZhdWx0Q2hlY2tlZCkscn1yZXR1cm4oMCxoLmRlZmF1bHQpKHQsZSksKDAsbC5kZWZhdWx0KSh0LFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMscj10LmF1dG9Gb2N1cyxuPXQuY2hlY2tlZCxzPXQuY2hlY2tlZEljb24sbD10LmNsYXNzZXMsYz10LmNsYXNzTmFtZSx1PXQuZGVmYXVsdENoZWNrZWQsaD10LmRpc2FibGVkLGY9dC5pY29uLG09dC5pZCxfPXQuaW5wdXRQcm9wcyx5PXQuaW5wdXRSZWYsdj10Lm11aUZvcm1Db250cm9sLHg9dC5uYW1lLGI9KHQub25CbHVyLHQub25DaGFuZ2UsdC5vbkZvY3VzLHQucmVhZE9ubHkpLHc9dC5yZXF1aXJlZCxUPXQudGFiSW5kZXgsRT10LnR5cGUsUz10LnZhbHVlLEM9KDAsYS5kZWZhdWx0KSh0LFtcImF1dG9Gb2N1c1wiLFwiY2hlY2tlZFwiLFwiY2hlY2tlZEljb25cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiZGVmYXVsdENoZWNrZWRcIixcImRpc2FibGVkXCIsXCJpY29uXCIsXCJpZFwiLFwiaW5wdXRQcm9wc1wiLFwiaW5wdXRSZWZcIixcIm11aUZvcm1Db250cm9sXCIsXCJuYW1lXCIsXCJvbkJsdXJcIixcIm9uQ2hhbmdlXCIsXCJvbkZvY3VzXCIsXCJyZWFkT25seVwiLFwicmVxdWlyZWRcIixcInRhYkluZGV4XCIsXCJ0eXBlXCIsXCJ2YWx1ZVwiXSksTT1oO3YmJnZvaWQgMD09PU0mJihNPXYuZGlzYWJsZWQpO3ZhciBrPXRoaXMuaXNDb250cm9sbGVkP246dGhpcy5zdGF0ZS5jaGVja2VkLEE9XCJjaGVja2JveFwiPT09RXx8XCJyYWRpb1wiPT09RTtyZXR1cm4gZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZy5kZWZhdWx0LCgwLGkuZGVmYXVsdCkoe2NvbXBvbmVudDpcInNwYW5cIixjbGFzc05hbWU6KDAscC5kZWZhdWx0KShsLnJvb3QsKGU9e30sKDAsby5kZWZhdWx0KShlLGwuY2hlY2tlZCxrKSwoMCxvLmRlZmF1bHQpKGUsbC5kaXNhYmxlZCxNKSxlKSxjKSxkaXNhYmxlZDpNLHRhYkluZGV4Om51bGwscm9sZTp2b2lkIDAsb25Gb2N1czp0aGlzLmhhbmRsZUZvY3VzLG9uQmx1cjp0aGlzLmhhbmRsZUJsdXJ9LEMpLGs/czpmLGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwoMCxpLmRlZmF1bHQpKHthdXRvRm9jdXM6cixjaGVja2VkOm4sZGVmYXVsdENoZWNrZWQ6dSxjbGFzc05hbWU6bC5pbnB1dCxkaXNhYmxlZDpNLGlkOkEmJm0sbmFtZTp4LG9uQ2hhbmdlOnRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UscmVhZE9ubHk6YixyZWY6eSxyZXF1aXJlZDp3LHRhYkluZGV4OlQsdHlwZTpFLHZhbHVlOlN9LF8pKSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpLHY9KDAsbS5kZWZhdWx0KShfLHtuYW1lOlwiTXVpUHJpdmF0ZVN3aXRjaEJhc2VcIn0pKCgwLGYuZGVmYXVsdCkoeSkpO3QuZGVmYXVsdD12fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxNTEpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz0ocig3KSxuKHIoOSkpKSx1PXIoNDIpLGg9bihyKDE1MikpLGQ9cigxNikscD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7dGV4dEFsaWduOlwiY2VudGVyXCIsZmxleDpcIjAgMCBhdXRvXCIsZm9udFNpemU6ZS50eXBvZ3JhcGh5LnB4VG9SZW0oMjQpLHBhZGRpbmc6MTIsYm9yZGVyUmFkaXVzOlwiNTAlXCIsb3ZlcmZsb3c6XCJ2aXNpYmxlXCIsY29sb3I6ZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsdHJhbnNpdGlvbjplLnRyYW5zaXRpb25zLmNyZWF0ZShcImJhY2tncm91bmQtY29sb3JcIix7ZHVyYXRpb246ZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVzdH0pLFwiJjpob3ZlclwiOntiYWNrZ3JvdW5kQ29sb3I6KDAsdS5mYWRlKShlLnBhbGV0dGUuYWN0aW9uLmFjdGl2ZSxlLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXCJAbWVkaWEgKGhvdmVyOiBub25lKVwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifSxcIiYkZGlzYWJsZWRcIjp7YmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn19LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfX0sY29sb3JJbmhlcml0Ontjb2xvcjpcImluaGVyaXRcIn0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWluLFwiJjpob3ZlclwiOntiYWNrZ3JvdW5kQ29sb3I6KDAsdS5mYWRlKShlLnBhbGV0dGUucHJpbWFyeS5tYWluLGUucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcIkBtZWRpYSAoaG92ZXI6IG5vbmUpXCI6e2JhY2tncm91bmRDb2xvcjpcInRyYW5zcGFyZW50XCJ9fX0sY29sb3JTZWNvbmRhcnk6e2NvbG9yOmUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOigwLHUuZmFkZSkoZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLGUucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcIkBtZWRpYSAoaG92ZXI6IG5vbmUpXCI6e2JhY2tncm91bmRDb2xvcjpcInRyYW5zcGFyZW50XCJ9fX0sZGlzYWJsZWQ6e30sbGFiZWw6e3dpZHRoOlwiMTAwJVwiLGRpc3BsYXk6XCJmbGV4XCIsYWxpZ25JdGVtczpcImluaGVyaXRcIixqdXN0aWZ5Q29udGVudDpcImluaGVyaXRcIn19fTtmdW5jdGlvbiBmKGUpe3ZhciB0LHI9ZS5jaGlsZHJlbixuPWUuY2xhc3NlcyxjPWUuY2xhc3NOYW1lLHU9ZS5jb2xvcixwPWUuZGlzYWJsZWQsZj0oMCxhLmRlZmF1bHQpKGUsW1wiY2hpbGRyZW5cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29sb3JcIixcImRpc2FibGVkXCJdKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoaC5kZWZhdWx0LCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKG4ucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsbltcImNvbG9yXCIuY29uY2F0KCgwLGQuY2FwaXRhbGl6ZSkodSkpXSxcImRlZmF1bHRcIiE9PXUpLCgwLG8uZGVmYXVsdCkodCxuLmRpc2FibGVkLHApLHQpLGMpLGNlbnRlclJpcHBsZTohMCxmb2N1c1JpcHBsZTohMCxkaXNhYmxlZDpwfSxmKSxzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOm4ubGFiZWx9LHIpKX10LnN0eWxlcz1wLGYuZGVmYXVsdFByb3BzPXtjb2xvcjpcImRlZmF1bHRcIixkaXNhYmxlZDohMX07dmFyIG09KDAsYy5kZWZhdWx0KShwLHtuYW1lOlwiTXVpSWNvbkJ1dHRvblwifSkoZik7dC5kZWZhdWx0PW19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE1MykpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNSkpLGE9bihyKDQpKSxzPW4ocigxMCkpLGw9bihyKDExKSksYz1uKHIoMTIpKSx1PW4ocigxMykpLGg9bihyKDE0KSksZD1uKHIoMzMpKSxwPW4ocigxKSksZj0obihyKDMpKSxuKHIoMTkpKSksbT1uKHIoOCkpLGc9KHIoNyksbihyKDE1NCkpKSxfPW4ocig5KSkseT1uKHIoMTU1KSksdj1yKDE1NykseD1uKHIoMTU4KSksYj1uKHIoMTY5KSksdz17cm9vdDp7ZGlzcGxheTpcImlubGluZS1mbGV4XCIsYWxpZ25JdGVtczpcImNlbnRlclwiLGp1c3RpZnlDb250ZW50OlwiY2VudGVyXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOlwidHJhbnNwYXJlbnRcIixiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwiLG91dGxpbmU6XCJub25lXCIsYm9yZGVyOjAsbWFyZ2luOjAsYm9yZGVyUmFkaXVzOjAscGFkZGluZzowLGN1cnNvcjpcInBvaW50ZXJcIix1c2VyU2VsZWN0Olwibm9uZVwiLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIixcIi1tb3otYXBwZWFyYW5jZVwiOlwibm9uZVwiLFwiLXdlYmtpdC1hcHBlYXJhbmNlXCI6XCJub25lXCIsdGV4dERlY29yYXRpb246XCJub25lXCIsY29sb3I6XCJpbmhlcml0XCIsXCImOjotbW96LWZvY3VzLWlubmVyXCI6e2JvcmRlclN0eWxlOlwibm9uZVwifSxcIiYkZGlzYWJsZWRcIjp7cG9pbnRlckV2ZW50czpcIm5vbmVcIixjdXJzb3I6XCJkZWZhdWx0XCJ9fSxkaXNhYmxlZDp7fSxmb2N1c1Zpc2libGU6e319O3Quc3R5bGVzPXc7dmFyIFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7KDAscy5kZWZhdWx0KSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4pLG89MDtvPG47bysrKWlbb109YXJndW1lbnRzW29dO3JldHVybihyPSgwLGMuZGVmYXVsdCkodGhpcywoZT0oMCx1LmRlZmF1bHQpKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChpKSkpKS5zdGF0ZT17fSxyLmtleURvd249ITEsci5mb2N1c1Zpc2libGVDaGVja1RpbWU9NTAsci5mb2N1c1Zpc2libGVNYXhDaGVja1RpbWVzPTUsci5oYW5kbGVNb3VzZURvd249KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkocikpLFwiTW91c2VEb3duXCIsXCJzdGFydFwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChyLmZvY3VzVmlzaWJsZVRpbWVvdXQpLHIuc3RhdGUuZm9jdXNWaXNpYmxlJiZyLnNldFN0YXRlKHtmb2N1c1Zpc2libGU6ITF9KX0pKSxyLmhhbmRsZU1vdXNlVXA9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkocikpLFwiTW91c2VVcFwiLFwic3RvcFwiKSxyLmhhbmRsZU1vdXNlTGVhdmU9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkocikpLFwiTW91c2VMZWF2ZVwiLFwic3RvcFwiLChmdW5jdGlvbihlKXtyLnN0YXRlLmZvY3VzVmlzaWJsZSYmZS5wcmV2ZW50RGVmYXVsdCgpfSkpLHIuaGFuZGxlVG91Y2hTdGFydD0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSksXCJUb3VjaFN0YXJ0XCIsXCJzdGFydFwiKSxyLmhhbmRsZVRvdWNoRW5kPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxcIlRvdWNoRW5kXCIsXCJzdG9wXCIpLHIuaGFuZGxlVG91Y2hNb3ZlPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxcIlRvdWNoTW92ZVwiLFwic3RvcFwiKSxyLmhhbmRsZUNvbnRleHRNZW51PSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxcIkNvbnRleHRNZW51XCIsXCJzdG9wXCIpLHIuaGFuZGxlQmx1cj0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSksXCJCbHVyXCIsXCJzdG9wXCIsKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIuZm9jdXNWaXNpYmxlVGltZW91dCksci5zdGF0ZS5mb2N1c1Zpc2libGUmJnIuc2V0U3RhdGUoe2ZvY3VzVmlzaWJsZTohMX0pfSkpLHIub25SaXBwbGVSZWY9ZnVuY3Rpb24oZSl7ci5yaXBwbGU9ZX0sci5vbkZvY3VzVmlzaWJsZUhhbmRsZXI9ZnVuY3Rpb24oZSl7ci5rZXlEb3duPSExLHIuc2V0U3RhdGUoe2ZvY3VzVmlzaWJsZTohMH0pLHIucHJvcHMub25Gb2N1c1Zpc2libGUmJnIucHJvcHMub25Gb2N1c1Zpc2libGUoZSl9LHIuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXt2YXIgdD1yLnByb3BzLG49dC5jb21wb25lbnQsaT10LmZvY3VzUmlwcGxlLG89dC5vbktleURvd24sYT10Lm9uQ2xpY2s7aSYmIXIua2V5RG93biYmci5zdGF0ZS5mb2N1c1Zpc2libGUmJnIucmlwcGxlJiZcIiBcIj09PWUua2V5JiYoci5rZXlEb3duPSEwLGUucGVyc2lzdCgpLHIucmlwcGxlLnN0b3AoZSwoZnVuY3Rpb24oKXtyLnJpcHBsZS5zdGFydChlKX0pKSksbyYmbyhlKSxlLnRhcmdldCE9PWUuY3VycmVudFRhcmdldHx8IW58fFwiYnV0dG9uXCI9PT1ufHxcIiBcIiE9PWUua2V5JiZcIkVudGVyXCIhPT1lLmtleXx8XCJBXCI9PT1yLmJ1dHRvbi50YWdOYW1lJiZyLmJ1dHRvbi5ocmVmfHwoZS5wcmV2ZW50RGVmYXVsdCgpLGEmJmEoZSkpfSxyLmhhbmRsZUtleVVwPWZ1bmN0aW9uKGUpe3IucHJvcHMuZm9jdXNSaXBwbGUmJlwiIFwiPT09ZS5rZXkmJnIucmlwcGxlJiZyLnN0YXRlLmZvY3VzVmlzaWJsZSYmKHIua2V5RG93bj0hMSxlLnBlcnNpc3QoKSxyLnJpcHBsZS5zdG9wKGUsKGZ1bmN0aW9uKCl7ci5yaXBwbGUucHVsc2F0ZShlKX0pKSksci5wcm9wcy5vbktleVVwJiZyLnByb3BzLm9uS2V5VXAoZSl9LHIuaGFuZGxlRm9jdXM9ZnVuY3Rpb24oZSl7ci5wcm9wcy5kaXNhYmxlZHx8KHIuYnV0dG9ufHwoci5idXR0b249ZS5jdXJyZW50VGFyZ2V0KSxlLnBlcnNpc3QoKSwoMCx2LmRldGVjdEZvY3VzVmlzaWJsZSkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxyLmJ1dHRvbiwoZnVuY3Rpb24oKXtyLm9uRm9jdXNWaXNpYmxlSGFuZGxlcihlKX0pKSxyLnByb3BzLm9uRm9jdXMmJnIucHJvcHMub25Gb2N1cyhlKSl9LHJ9cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuYnV0dG9uPWYuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKSwoMCx2Lmxpc3RlbkZvckZvY3VzS2V5cykoKDAsZy5kZWZhdWx0KSh0aGlzLmJ1dHRvbikpLHRoaXMucHJvcHMuYWN0aW9uJiZ0aGlzLnByb3BzLmFjdGlvbih7Zm9jdXNWaXNpYmxlOmZ1bmN0aW9uKCl7ZS5zZXRTdGF0ZSh7Zm9jdXNWaXNpYmxlOiEwfSksZS5idXR0b24uZm9jdXMoKX19KX19LHtrZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucHJvcHMuZm9jdXNSaXBwbGUmJiF0aGlzLnByb3BzLmRpc2FibGVSaXBwbGUmJiF0LmZvY3VzVmlzaWJsZSYmdGhpcy5zdGF0ZS5mb2N1c1Zpc2libGUmJnRoaXMucmlwcGxlLnB1bHNhdGUoKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuZm9jdXNWaXNpYmxlVGltZW91dCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMscj0odC5hY3Rpb24sdC5idXR0b25SZWYpLG49dC5jZW50ZXJSaXBwbGUscz10LmNoaWxkcmVuLGw9dC5jbGFzc2VzLGM9dC5jbGFzc05hbWUsdT10LmNvbXBvbmVudCxoPXQuZGlzYWJsZWQsZD10LmRpc2FibGVSaXBwbGUsZj0odC5kaXNhYmxlVG91Y2hSaXBwbGUsdC5mb2N1c1JpcHBsZSx0LmZvY3VzVmlzaWJsZUNsYXNzTmFtZSksZz0odC5vbkJsdXIsdC5vbkZvY3VzLHQub25Gb2N1c1Zpc2libGUsdC5vbktleURvd24sdC5vbktleVVwLHQub25Nb3VzZURvd24sdC5vbk1vdXNlTGVhdmUsdC5vbk1vdXNlVXAsdC5vblRvdWNoRW5kLHQub25Ub3VjaE1vdmUsdC5vblRvdWNoU3RhcnQsdC50YWJJbmRleCksXz10LlRvdWNoUmlwcGxlUHJvcHMsdj10LnR5cGUsYj0oMCxhLmRlZmF1bHQpKHQsW1wiYWN0aW9uXCIsXCJidXR0b25SZWZcIixcImNlbnRlclJpcHBsZVwiLFwiY2hpbGRyZW5cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJkaXNhYmxlZFwiLFwiZGlzYWJsZVJpcHBsZVwiLFwiZGlzYWJsZVRvdWNoUmlwcGxlXCIsXCJmb2N1c1JpcHBsZVwiLFwiZm9jdXNWaXNpYmxlQ2xhc3NOYW1lXCIsXCJvbkJsdXJcIixcIm9uRm9jdXNcIixcIm9uRm9jdXNWaXNpYmxlXCIsXCJvbktleURvd25cIixcIm9uS2V5VXBcIixcIm9uTW91c2VEb3duXCIsXCJvbk1vdXNlTGVhdmVcIixcIm9uTW91c2VVcFwiLFwib25Ub3VjaEVuZFwiLFwib25Ub3VjaE1vdmVcIixcIm9uVG91Y2hTdGFydFwiLFwidGFiSW5kZXhcIixcIlRvdWNoUmlwcGxlUHJvcHNcIixcInR5cGVcIl0pLHc9KDAsbS5kZWZhdWx0KShsLnJvb3QsKGU9e30sKDAsby5kZWZhdWx0KShlLGwuZGlzYWJsZWQsaCksKDAsby5kZWZhdWx0KShlLGwuZm9jdXNWaXNpYmxlLHRoaXMuc3RhdGUuZm9jdXNWaXNpYmxlKSwoMCxvLmRlZmF1bHQpKGUsZix0aGlzLnN0YXRlLmZvY3VzVmlzaWJsZSksZSksYyksVD11O1wiYnV0dG9uXCI9PT1UJiZiLmhyZWYmJihUPVwiYVwiKTt2YXIgRT17fTtyZXR1cm5cImJ1dHRvblwiPT09VD8oRS50eXBlPXZ8fFwiYnV0dG9uXCIsRS5kaXNhYmxlZD1oKTpFLnJvbGU9XCJidXR0b25cIixwLmRlZmF1bHQuY3JlYXRlRWxlbWVudChULCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTp3LG9uQmx1cjp0aGlzLmhhbmRsZUJsdXIsb25Gb2N1czp0aGlzLmhhbmRsZUZvY3VzLG9uS2V5RG93bjp0aGlzLmhhbmRsZUtleURvd24sb25LZXlVcDp0aGlzLmhhbmRsZUtleVVwLG9uTW91c2VEb3duOnRoaXMuaGFuZGxlTW91c2VEb3duLG9uTW91c2VMZWF2ZTp0aGlzLmhhbmRsZU1vdXNlTGVhdmUsb25Nb3VzZVVwOnRoaXMuaGFuZGxlTW91c2VVcCxvblRvdWNoRW5kOnRoaXMuaGFuZGxlVG91Y2hFbmQsb25Ub3VjaE1vdmU6dGhpcy5oYW5kbGVUb3VjaE1vdmUsb25Ub3VjaFN0YXJ0OnRoaXMuaGFuZGxlVG91Y2hTdGFydCxvbkNvbnRleHRNZW51OnRoaXMuaGFuZGxlQ29udGV4dE1lbnUscmVmOnIsdGFiSW5kZXg6aD9cIi0xXCI6Z30sRSxiKSxzLGR8fGg/bnVsbDpwLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh5LmRlZmF1bHQsbnVsbCxwLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh4LmRlZmF1bHQsKDAsaS5kZWZhdWx0KSh7aW5uZXJSZWY6dGhpcy5vblJpcHBsZVJlZixjZW50ZXI6bn0sXykpKSl9fV0sW3trZXk6XCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10LmZvY3VzVmlzaWJsZXx8IXQucHJldlN0YXRlJiZlLmRpc2FibGVkJiZ0LmZvY3VzVmlzaWJsZT97Zm9jdXNWaXNpYmxlOiExLGxhc3REaXNhYmxlZDplLmRpc2FibGVkfTp7bGFzdERpc2FibGVkOmUuZGlzYWJsZWR9fX1dKSx0fShwLmRlZmF1bHQuQ29tcG9uZW50KTtULmRlZmF1bHRQcm9wcz17Y2VudGVyUmlwcGxlOiExLGNvbXBvbmVudDpcImJ1dHRvblwiLGRpc2FibGVSaXBwbGU6ITEsZGlzYWJsZVRvdWNoUmlwcGxlOiExLGZvY3VzUmlwcGxlOiExLHRhYkluZGV4OlwiMFwiLHR5cGU6XCJidXR0b25cIn07dmFyIEU9KDAsXy5kZWZhdWx0KSh3LHtuYW1lOlwiTXVpQnV0dG9uQmFzZVwifSkoVCk7dC5kZWZhdWx0PUV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDU4KSk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdyxyPSgwLGkuZGVmYXVsdCkoZSk7cmV0dXJuIHIuZGVmYXVsdFZpZXd8fHIucGFyZW50Vmlld3x8dH07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE1NikpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPW4ocigxMCkpLG89bihyKDExKSksYT1uKHIoMTIpKSxzPW4ocigxMykpLGw9bihyKDE0KSksYz1uKHIoMSkpLHU9KG4ocigzKSkscig3KSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscjsoMCxpLmRlZmF1bHQpKHRoaXMsdCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkobiksbD0wO2w8bjtsKyspb1tsXT1hcmd1bWVudHNbbF07cmV0dXJuKHI9KDAsYS5kZWZhdWx0KSh0aGlzLChlPSgwLHMuZGVmYXVsdCkodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KG8pKSkpLm1vdW50ZWQ9ITEsci5zdGF0ZT17bW91bnRlZDohMX0scn1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsby5kZWZhdWx0KSh0LFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tb3VudGVkPSEwLHRoaXMucHJvcHMuZGVmZXI/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtlLm1vdW50ZWQmJmUuc2V0U3RhdGUoe21vdW50ZWQ6ITB9KX0pKX0pKTp0aGlzLnNldFN0YXRlKHttb3VudGVkOiEwfSl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubW91bnRlZD0hMX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNoaWxkcmVuLHI9ZS5mYWxsYmFjaztyZXR1cm4gdGhpcy5zdGF0ZS5tb3VudGVkP3Q6cn19XSksdH0oYy5kZWZhdWx0LkNvbXBvbmVudCkpO3UuZGVmYXVsdFByb3BzPXtkZWZlcjohMSxmYWxsYmFjazpudWxsfTt2YXIgaD11O3QuZGVmYXVsdD1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRldGVjdEZvY3VzVmlzaWJsZT1mdW5jdGlvbiBlKHQscixuKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTt0LmZvY3VzVmlzaWJsZVRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgbD1hKCgwLGkuZGVmYXVsdCkocikpO28uZm9jdXNLZXlQcmVzc2VkJiYobD09PXJ8fHIuY29udGFpbnMobCkpP24oKTpzPHQuZm9jdXNWaXNpYmxlTWF4Q2hlY2tUaW1lcyYmZSh0LHIsbixzKzEpfSksdC5mb2N1c1Zpc2libGVDaGVja1RpbWUpfSx0Lmxpc3RlbkZvckZvY3VzS2V5cz1mdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGwpfTtuKHIoNikpO3ZhciBpPW4ocig1OCkpLG89e2ZvY3VzS2V5UHJlc3NlZDohMSxrZXlVcEV2ZW50VGltZW91dDotMX07ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9ZS5hY3RpdmVFbGVtZW50O3QmJnQuc2hhZG93Um9vdCYmdC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7KXQ9dC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHR9dmFyIHM9WzksMTMsMjcsMzIsMzcsMzgsMzksNDBdO3ZhciBsPWZ1bmN0aW9uKGUpeyhmdW5jdGlvbihlKXtyZXR1cm4gcy5pbmRleE9mKGUua2V5Q29kZSk+LTF9KShlKSYmKG8uZm9jdXNLZXlQcmVzc2VkPSEwLGNsZWFyVGltZW91dChvLmtleVVwRXZlbnRUaW1lb3V0KSxvLmtleVVwRXZlbnRUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by5mb2N1c0tleVByZXNzZWQ9ITF9KSw1MDApKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz10LkRFTEFZX1JJUFBMRT12b2lkIDA7dmFyIGk9bihyKDIpKSxvPW4ocig0KSksYT1uKHIoMTU5KSkscz1uKHIoMTApKSxsPW4ocigxMSkpLGM9bihyKDEyKSksdT1uKHIoMTMpKSxoPW4ocigxNCkpLGQ9bihyKDMzKSkscD1uKHIoMSkpLGY9KG4ocigzKSksbihyKDE5KSkpLG09bihyKDE2NCkpLGc9bihyKDgpKSxfPW4ocig5KSkseT1uKHIoMTY2KSk7dC5ERUxBWV9SSVBQTEU9ODA7dmFyIHY9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixvdmVyZmxvdzpcImhpZGRlblwiLGJvcmRlclJhZGl1czpcImluaGVyaXRcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsbGVmdDowLHRvcDowLHBvaW50ZXJFdmVudHM6XCJub25lXCIsekluZGV4OjB9LHJpcHBsZTp7d2lkdGg6NTAsaGVpZ2h0OjUwLGxlZnQ6MCx0b3A6MCxvcGFjaXR5OjAscG9zaXRpb246XCJhYnNvbHV0ZVwifSxyaXBwbGVWaXNpYmxlOntvcGFjaXR5Oi4zLHRyYW5zZm9ybTpcInNjYWxlKDEpXCIsYW5pbWF0aW9uOlwibXVpLXJpcHBsZS1lbnRlciBcIi5jb25jYXQoNTUwLFwibXMgXCIpLmNvbmNhdChlLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXQpLGFuaW1hdGlvbk5hbWU6XCIkbXVpLXJpcHBsZS1lbnRlclwifSxyaXBwbGVQdWxzYXRlOnthbmltYXRpb25EdXJhdGlvbjpcIlwiLmNvbmNhdChlLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXIsXCJtc1wiKX0sY2hpbGQ6e29wYWNpdHk6MSxkaXNwbGF5OlwiYmxvY2tcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsYm9yZGVyUmFkaXVzOlwiNTAlXCIsYmFja2dyb3VuZENvbG9yOlwiY3VycmVudENvbG9yXCJ9LGNoaWxkTGVhdmluZzp7b3BhY2l0eTowLGFuaW1hdGlvbjpcIm11aS1yaXBwbGUtZXhpdCBcIi5jb25jYXQoNTUwLFwibXMgXCIpLmNvbmNhdChlLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXQpLGFuaW1hdGlvbk5hbWU6XCIkbXVpLXJpcHBsZS1leGl0XCJ9LGNoaWxkUHVsc2F0ZTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6MCx0b3A6MCxhbmltYXRpb246XCJtdWktcmlwcGxlLXB1bHNhdGUgMjUwMG1zIFwiLmNvbmNhdChlLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXQsXCIgMjAwbXMgaW5maW5pdGVcIiksYW5pbWF0aW9uTmFtZTpcIiRtdWktcmlwcGxlLXB1bHNhdGVcIn0sXCJAa2V5ZnJhbWVzIG11aS1yaXBwbGUtZW50ZXJcIjp7XCIwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgwKVwiLG9wYWNpdHk6LjF9LFwiMTAwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgxKVwiLG9wYWNpdHk6LjN9fSxcIkBrZXlmcmFtZXMgbXVpLXJpcHBsZS1leGl0XCI6e1wiMCVcIjp7b3BhY2l0eToxfSxcIjEwMCVcIjp7b3BhY2l0eTowfX0sXCJAa2V5ZnJhbWVzIG11aS1yaXBwbGUtcHVsc2F0ZVwiOntcIjAlXCI6e3RyYW5zZm9ybTpcInNjYWxlKDEpXCJ9LFwiNTAlXCI6e3RyYW5zZm9ybTpcInNjYWxlKDAuOTIpXCJ9LFwiMTAwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgxKVwifX19fTt0LnN0eWxlcz12O3ZhciB4PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxyOygwLHMuZGVmYXVsdCkodGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxvPTA7bzxuO28rKylpW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4ocj0oMCxjLmRlZmF1bHQpKHRoaXMsKGU9KDAsdS5kZWZhdWx0KSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkuc3RhdGU9e25leHRLZXk6MCxyaXBwbGVzOltdfSxyLnB1bHNhdGU9ZnVuY3Rpb24oKXtyLnN0YXJ0KHt9LHtwdWxzYXRlOiEwfSl9LHIuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxpPXQucHVsc2F0ZSxvPXZvaWQgMCE9PWkmJmksYT10LmNlbnRlcixzPXZvaWQgMD09PWE/ci5wcm9wcy5jZW50ZXJ8fHQucHVsc2F0ZTphLGw9dC5mYWtlRWxlbWVudCxjPXZvaWQgMCE9PWwmJmw7aWYoXCJtb3VzZWRvd25cIj09PWUudHlwZSYmci5pZ25vcmluZ01vdXNlRG93bilyLmlnbm9yaW5nTW91c2VEb3duPSExO2Vsc2V7XCJ0b3VjaHN0YXJ0XCI9PT1lLnR5cGUmJihyLmlnbm9yaW5nTW91c2VEb3duPSEwKTt2YXIgdSxoLHAsbT1jP251bGw6Zi5kZWZhdWx0LmZpbmRET01Ob2RlKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSkpLGc9bT9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnt3aWR0aDowLGhlaWdodDowLGxlZnQ6MCx0b3A6MH07aWYoc3x8MD09PWUuY2xpZW50WCYmMD09PWUuY2xpZW50WXx8IWUuY2xpZW50WCYmIWUudG91Y2hlcyl1PU1hdGgucm91bmQoZy53aWR0aC8yKSxoPU1hdGgucm91bmQoZy5oZWlnaHQvMik7ZWxzZXt2YXIgXz1lLmNsaWVudFg/ZS5jbGllbnRYOmUudG91Y2hlc1swXS5jbGllbnRYLHk9ZS5jbGllbnRZP2UuY2xpZW50WTplLnRvdWNoZXNbMF0uY2xpZW50WTt1PU1hdGgucm91bmQoXy1nLmxlZnQpLGg9TWF0aC5yb3VuZCh5LWcudG9wKX1pZihzKShwPU1hdGguc3FydCgoMipNYXRoLnBvdyhnLndpZHRoLDIpK01hdGgucG93KGcuaGVpZ2h0LDIpKS8zKSklMj09MCYmKHArPTEpO2Vsc2V7dmFyIHY9MipNYXRoLm1heChNYXRoLmFicygobT9tLmNsaWVudFdpZHRoOjApLXUpLHUpKzIseD0yKk1hdGgubWF4KE1hdGguYWJzKChtP20uY2xpZW50SGVpZ2h0OjApLWgpLGgpKzI7cD1NYXRoLnNxcnQoTWF0aC5wb3codiwyKStNYXRoLnBvdyh4LDIpKX1lLnRvdWNoZXM/KHIuc3RhcnRUaW1lckNvbW1pdD1mdW5jdGlvbigpe3Iuc3RhcnRDb21taXQoe3B1bHNhdGU6byxyaXBwbGVYOnUscmlwcGxlWTpoLHJpcHBsZVNpemU6cCxjYjpufSl9LHIuc3RhcnRUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3Iuc3RhcnRUaW1lckNvbW1pdCYmKHIuc3RhcnRUaW1lckNvbW1pdCgpLHIuc3RhcnRUaW1lckNvbW1pdD1udWxsKX0pLDgwKSk6ci5zdGFydENvbW1pdCh7cHVsc2F0ZTpvLHJpcHBsZVg6dSxyaXBwbGVZOmgscmlwcGxlU2l6ZTpwLGNiOm59KX19LHIuc3RhcnRDb21taXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wdWxzYXRlLG49ZS5yaXBwbGVYLGk9ZS5yaXBwbGVZLG89ZS5yaXBwbGVTaXplLHM9ZS5jYjtyLnNldFN0YXRlKChmdW5jdGlvbihlKXtyZXR1cm57bmV4dEtleTplLm5leHRLZXkrMSxyaXBwbGVzOltdLmNvbmNhdCgoMCxhLmRlZmF1bHQpKGUucmlwcGxlcyksW3AuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHkuZGVmYXVsdCx7a2V5OmUubmV4dEtleSxjbGFzc2VzOnIucHJvcHMuY2xhc3Nlcyx0aW1lb3V0OntleGl0OjU1MCxlbnRlcjo1NTB9LHB1bHNhdGU6dCxyaXBwbGVYOm4scmlwcGxlWTppLHJpcHBsZVNpemU6b30pXSl9fSkscyl9LHIuc3RvcD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChyLnN0YXJ0VGltZXIpO3ZhciBuPXIuc3RhdGUucmlwcGxlcztpZihcInRvdWNoZW5kXCI9PT1lLnR5cGUmJnIuc3RhcnRUaW1lckNvbW1pdClyZXR1cm4gZS5wZXJzaXN0KCksci5zdGFydFRpbWVyQ29tbWl0KCksci5zdGFydFRpbWVyQ29tbWl0PW51bGwsdm9pZChyLnN0YXJ0VGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLnN0b3AoZSx0KX0pKSk7ci5zdGFydFRpbWVyQ29tbWl0PW51bGwsbiYmbi5sZW5ndGgmJnIuc2V0U3RhdGUoe3JpcHBsZXM6bi5zbGljZSgxKX0sdCl9LHJ9cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zdGFydFRpbWVyKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD0oZS5jZW50ZXIsZS5jbGFzc2VzKSxyPWUuY2xhc3NOYW1lLG49KDAsby5kZWZhdWx0KShlLFtcImNlbnRlclwiLFwiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCJdKTtyZXR1cm4gcC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobS5kZWZhdWx0LCgwLGkuZGVmYXVsdCkoe2NvbXBvbmVudDpcInNwYW5cIixlbnRlcjohMCxleGl0OiEwLGNsYXNzTmFtZTooMCxnLmRlZmF1bHQpKHQucm9vdCxyKX0sbiksdGhpcy5zdGF0ZS5yaXBwbGVzKX19XSksdH0ocC5kZWZhdWx0LlB1cmVDb21wb25lbnQpO3guZGVmYXVsdFByb3BzPXtjZW50ZXI6ITF9O3ZhciBiPSgwLF8uZGVmYXVsdCkodix7ZmxpcDohMSxuYW1lOlwiTXVpVG91Y2hSaXBwbGVcIn0pKHgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNjApLGk9cigxNjEpLG89cigxNjIpLGE9cigxNjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihlKXx8aShlKXx8byhlKXx8YSgpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDU5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbihlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKGUpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDU5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gbihlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09cnx8XCJTZXRcIj09PXI/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/bihlLHQpOnZvaWQgMH19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49cyhyKDMpKSxpPXMocigxKSksbz1yKDYwKSxhPXIoMTY1KTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBsKCl7cmV0dXJuKGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfXZhciB1PU9iamVjdC52YWx1ZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpfSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbixpPShuPWUuY2FsbCh0aGlzLHQscil8fHRoaXMpLmhhbmRsZUV4aXRlZC5iaW5kKGMoYyhuKSkpO3JldHVybiBuLnN0YXRlPXtoYW5kbGVFeGl0ZWQ6aSxmaXJzdFJlbmRlcjohMH0sbn0hZnVuY3Rpb24oZSx0KXtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuX19wcm90b19fPXR9KHQsZSk7dmFyIHI9dC5wcm90b3R5cGU7cmV0dXJuIHIuZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJue3RyYW5zaXRpb25Hcm91cDp7aXNNb3VudGluZzohdGhpcy5hcHBlYXJlZH19fSxyLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy5hcHBlYXJlZD0hMCx0aGlzLm1vdW50ZWQ9ITB9LHIuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLm1vdW50ZWQ9ITF9LHQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5jaGlsZHJlbixuPXQuaGFuZGxlRXhpdGVkO3JldHVybntjaGlsZHJlbjp0LmZpcnN0UmVuZGVyPygwLGEuZ2V0SW5pdGlhbENoaWxkTWFwcGluZykoZSxuKTooMCxhLmdldE5leHRDaGlsZE1hcHBpbmcpKGUscixuKSxmaXJzdFJlbmRlcjohMX19LHIuaGFuZGxlRXhpdGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAsYS5nZXRDaGlsZE1hcHBpbmcpKHRoaXMucHJvcHMuY2hpbGRyZW4pO2Uua2V5IGluIHJ8fChlLnByb3BzLm9uRXhpdGVkJiZlLnByb3BzLm9uRXhpdGVkKHQpLHRoaXMubW91bnRlZCYmdGhpcy5zZXRTdGF0ZSgoZnVuY3Rpb24odCl7dmFyIHI9bCh7fSx0LmNoaWxkcmVuKTtyZXR1cm4gZGVsZXRlIHJbZS5rZXldLHtjaGlsZHJlbjpyfX0pKSl9LHIucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuY29tcG9uZW50LHI9ZS5jaGlsZEZhY3Rvcnksbj1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsbixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKG49MDtuPG8ubGVuZ3RoO24rKylyPW9bbl0sdC5pbmRleE9mKHIpPj0wfHwoaVtyXT1lW3JdKTtyZXR1cm4gaX0oZSxbXCJjb21wb25lbnRcIixcImNoaWxkRmFjdG9yeVwiXSksbz11KHRoaXMuc3RhdGUuY2hpbGRyZW4pLm1hcChyKTtyZXR1cm4gZGVsZXRlIG4uYXBwZWFyLGRlbGV0ZSBuLmVudGVyLGRlbGV0ZSBuLmV4aXQsbnVsbD09PXQ/bzppLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0LG4sbyl9LHR9KGkuZGVmYXVsdC5Db21wb25lbnQpO2guY2hpbGRDb250ZXh0VHlwZXM9e3RyYW5zaXRpb25Hcm91cDpuLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWR9LGgucHJvcFR5cGVzPXt9LGguZGVmYXVsdFByb3BzPXtjb21wb25lbnQ6XCJkaXZcIixjaGlsZEZhY3Rvcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fTt2YXIgZD0oMCxvLnBvbHlmaWxsKShoKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZ2V0Q2hpbGRNYXBwaW5nPWksdC5tZXJnZUNoaWxkTWFwcGluZ3M9byx0LmdldEluaXRpYWxDaGlsZE1hcHBpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLmNoaWxkcmVuLChmdW5jdGlvbihyKXtyZXR1cm4oMCxuLmNsb25lRWxlbWVudCkocix7b25FeGl0ZWQ6dC5iaW5kKG51bGwsciksaW46ITAsYXBwZWFyOmEocixcImFwcGVhclwiLGUpLGVudGVyOmEocixcImVudGVyXCIsZSksZXhpdDphKHIsXCJleGl0XCIsZSl9KX0pKX0sdC5nZXROZXh0Q2hpbGRNYXBwaW5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1pKGUuY2hpbGRyZW4pLGw9byh0LHMpO3JldHVybiBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgbz1sW2ldO2lmKCgwLG4uaXNWYWxpZEVsZW1lbnQpKG8pKXt2YXIgYz1pIGluIHQsdT1pIGluIHMsaD10W2ldLGQ9KDAsbi5pc1ZhbGlkRWxlbWVudCkoaCkmJiFoLnByb3BzLmluOyF1fHxjJiYhZD91fHwhY3x8ZD91JiZjJiYoMCxuLmlzVmFsaWRFbGVtZW50KShoKSYmKGxbaV09KDAsbi5jbG9uZUVsZW1lbnQpKG8se29uRXhpdGVkOnIuYmluZChudWxsLG8pLGluOmgucHJvcHMuaW4sZXhpdDphKG8sXCJleGl0XCIsZSksZW50ZXI6YShvLFwiZW50ZXJcIixlKX0pKTpsW2ldPSgwLG4uY2xvbmVFbGVtZW50KShvLHtpbjohMX0pOmxbaV09KDAsbi5jbG9uZUVsZW1lbnQpKG8se29uRXhpdGVkOnIuYmluZChudWxsLG8pLGluOiEwLGV4aXQ6YShvLFwiZXhpdFwiLGUpLGVudGVyOmEobyxcImVudGVyXCIsZSl9KX19KSksbH07dmFyIG49cigxKTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZSYmbi5DaGlsZHJlbi5tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlLmtleV09ZnVuY3Rpb24oZSl7cmV0dXJuIHQmJigwLG4uaXNWYWxpZEVsZW1lbnQpKGUpP3QoZSk6ZX0oZSl9KSkscn1mdW5jdGlvbiBvKGUsdCl7ZnVuY3Rpb24gcihyKXtyZXR1cm4gciBpbiB0P3Rbcl06ZVtyXX1lPWV8fHt9LHQ9dHx8e307dmFyIG4saT1PYmplY3QuY3JlYXRlKG51bGwpLG89W107Zm9yKHZhciBhIGluIGUpYSBpbiB0P28ubGVuZ3RoJiYoaVthXT1vLG89W10pOm8ucHVzaChhKTt2YXIgcz17fTtmb3IodmFyIGwgaW4gdCl7aWYoaVtsXSlmb3Iobj0wO248aVtsXS5sZW5ndGg7bisrKXt2YXIgYz1pW2xdW25dO3NbaVtsXVtuXV09cihjKX1zW2xdPXIobCl9Zm9yKG49MDtuPG8ubGVuZ3RoO24rKylzW29bbl1dPXIob1tuXSk7cmV0dXJuIHN9ZnVuY3Rpb24gYShlLHQscil7cmV0dXJuIG51bGwhPXJbdF0/clt0XTplLnByb3BzW3RdfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMTApKSxsPW4ocigxMSkpLGM9bihyKDEyKSksdT1uKHIoMTMpKSxoPW4ocigxNCkpLGQ9bihyKDEpKSxwPShuKHIoMykpLG4ocig4KSkpLGY9bihyKDE2NykpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7KDAscy5kZWZhdWx0KSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4pLG89MDtvPG47bysrKWlbb109YXJndW1lbnRzW29dO3JldHVybihyPSgwLGMuZGVmYXVsdCkodGhpcywoZT0oMCx1LmRlZmF1bHQpKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChpKSkpKS5zdGF0ZT17dmlzaWJsZTohMSxsZWF2aW5nOiExfSxyLmhhbmRsZUVudGVyPWZ1bmN0aW9uKCl7ci5zZXRTdGF0ZSh7dmlzaWJsZTohMH0pfSxyLmhhbmRsZUV4aXQ9ZnVuY3Rpb24oKXtyLnNldFN0YXRlKHtsZWF2aW5nOiEwfSl9LHJ9cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxyPXRoaXMucHJvcHMsbj1yLmNsYXNzZXMscz1yLmNsYXNzTmFtZSxsPXIucHVsc2F0ZSxjPXIucmlwcGxlWCx1PXIucmlwcGxlWSxoPXIucmlwcGxlU2l6ZSxtPSgwLGEuZGVmYXVsdCkocixbXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcInB1bHNhdGVcIixcInJpcHBsZVhcIixcInJpcHBsZVlcIixcInJpcHBsZVNpemVcIl0pLGc9dGhpcy5zdGF0ZSxfPWcudmlzaWJsZSx5PWcubGVhdmluZyx2PSgwLHAuZGVmYXVsdCkobi5yaXBwbGUsKGU9e30sKDAsby5kZWZhdWx0KShlLG4ucmlwcGxlVmlzaWJsZSxfKSwoMCxvLmRlZmF1bHQpKGUsbi5yaXBwbGVQdWxzYXRlLGwpLGUpLHMpLHg9e3dpZHRoOmgsaGVpZ2h0OmgsdG9wOi1oLzIrdSxsZWZ0Oi1oLzIrY30sYj0oMCxwLmRlZmF1bHQpKG4uY2hpbGQsKHQ9e30sKDAsby5kZWZhdWx0KSh0LG4uY2hpbGRMZWF2aW5nLHkpLCgwLG8uZGVmYXVsdCkodCxuLmNoaWxkUHVsc2F0ZSxsKSx0KSk7cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGYuZGVmYXVsdCwoMCxpLmRlZmF1bHQpKHtvbkVudGVyOnRoaXMuaGFuZGxlRW50ZXIsb25FeGl0OnRoaXMuaGFuZGxlRXhpdH0sbSksZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTp2LHN0eWxlOnh9LGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6Yn0pKSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO20uZGVmYXVsdFByb3BzPXtwdWxzYXRlOiExfTt2YXIgZz1tO3QuZGVmYXVsdD1nfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD10LkVYSVRJTkc9dC5FTlRFUkVEPXQuRU5URVJJTkc9dC5FWElURUQ9dC5VTk1PVU5URUQ9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpKXt2YXIgbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpOnt9O24uZ2V0fHxuLnNldD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLG4pOnRbcl09ZVtyXX1yZXR1cm4gdC5kZWZhdWx0PWUsdH0ocigzKSksaT1zKHIoMSkpLG89cyhyKDE5KSksYT1yKDYwKTtyKDE2OCk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5VTk1PVU5URUQ9XCJ1bm1vdW50ZWRcIjt0LkVYSVRFRD1cImV4aXRlZFwiO3QuRU5URVJJTkc9XCJlbnRlcmluZ1wiO3QuRU5URVJFRD1cImVudGVyZWRcIjt0LkVYSVRJTkc9XCJleGl0aW5nXCI7dmFyIGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuO249ZS5jYWxsKHRoaXMsdCxyKXx8dGhpczt2YXIgaSxvPXIudHJhbnNpdGlvbkdyb3VwLGE9byYmIW8uaXNNb3VudGluZz90LmVudGVyOnQuYXBwZWFyO3JldHVybiBuLmFwcGVhclN0YXR1cz1udWxsLHQuaW4/YT8oaT1cImV4aXRlZFwiLG4uYXBwZWFyU3RhdHVzPVwiZW50ZXJpbmdcIik6aT1cImVudGVyZWRcIjppPXQudW5tb3VudE9uRXhpdHx8dC5tb3VudE9uRW50ZXI/XCJ1bm1vdW50ZWRcIjpcImV4aXRlZFwiLG4uc3RhdGU9e3N0YXR1czppfSxuLm5leHRDYWxsYmFjaz1udWxsLG59IWZ1bmN0aW9uKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLl9fcHJvdG9fXz10fSh0LGUpO3ZhciByPXQucHJvdG90eXBlO3JldHVybiByLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybnt0cmFuc2l0aW9uR3JvdXA6bnVsbH19LHQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW4mJlwidW5tb3VudGVkXCI9PT10LnN0YXR1cz97c3RhdHVzOlwiZXhpdGVkXCJ9Om51bGx9LHIuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVN0YXR1cyghMCx0aGlzLmFwcGVhclN0YXR1cyl9LHIuY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYoZSE9PXRoaXMucHJvcHMpe3ZhciByPXRoaXMuc3RhdGUuc3RhdHVzO3RoaXMucHJvcHMuaW4/XCJlbnRlcmluZ1wiIT09ciYmXCJlbnRlcmVkXCIhPT1yJiYodD1cImVudGVyaW5nXCIpOlwiZW50ZXJpbmdcIiE9PXImJlwiZW50ZXJlZFwiIT09cnx8KHQ9XCJleGl0aW5nXCIpfXRoaXMudXBkYXRlU3RhdHVzKCExLHQpfSxyLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKX0sci5nZXRUaW1lb3V0cz1mdW5jdGlvbigpe3ZhciBlLHQscixuPXRoaXMucHJvcHMudGltZW91dDtyZXR1cm4gZT10PXI9bixudWxsIT1uJiZcIm51bWJlclwiIT10eXBlb2YgbiYmKGU9bi5leGl0LHQ9bi5lbnRlcixyPXZvaWQgMCE9PW4uYXBwZWFyP24uYXBwZWFyOnQpLHtleGl0OmUsZW50ZXI6dCxhcHBlYXI6cn19LHIudXBkYXRlU3RhdHVzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLG51bGwhPT10KXt0aGlzLmNhbmNlbE5leHRDYWxsYmFjaygpO3ZhciByPW8uZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcImVudGVyaW5nXCI9PT10P3RoaXMucGVyZm9ybUVudGVyKHIsZSk6dGhpcy5wZXJmb3JtRXhpdChyKX1lbHNlIHRoaXMucHJvcHMudW5tb3VudE9uRXhpdCYmXCJleGl0ZWRcIj09PXRoaXMuc3RhdGUuc3RhdHVzJiZ0aGlzLnNldFN0YXRlKHtzdGF0dXM6XCJ1bm1vdW50ZWRcIn0pfSxyLnBlcmZvcm1FbnRlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj10aGlzLnByb3BzLmVudGVyLGk9dGhpcy5jb250ZXh0LnRyYW5zaXRpb25Hcm91cD90aGlzLmNvbnRleHQudHJhbnNpdGlvbkdyb3VwLmlzTW91bnRpbmc6dCxvPXRoaXMuZ2V0VGltZW91dHMoKSxhPWk/by5hcHBlYXI6by5lbnRlcjt0fHxuPyh0aGlzLnByb3BzLm9uRW50ZXIoZSxpKSx0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZW50ZXJpbmdcIn0sKGZ1bmN0aW9uKCl7ci5wcm9wcy5vbkVudGVyaW5nKGUsaSksci5vblRyYW5zaXRpb25FbmQoZSxhLChmdW5jdGlvbigpe3Iuc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJlbnRlcmVkXCJ9LChmdW5jdGlvbigpe3IucHJvcHMub25FbnRlcmVkKGUsaSl9KSl9KSl9KSkpOnRoaXMuc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJlbnRlcmVkXCJ9LChmdW5jdGlvbigpe3IucHJvcHMub25FbnRlcmVkKGUpfSkpfSxyLnBlcmZvcm1FeGl0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLnByb3BzLmV4aXQsbj10aGlzLmdldFRpbWVvdXRzKCk7cj8odGhpcy5wcm9wcy5vbkV4aXQoZSksdGhpcy5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImV4aXRpbmdcIn0sKGZ1bmN0aW9uKCl7dC5wcm9wcy5vbkV4aXRpbmcoZSksdC5vblRyYW5zaXRpb25FbmQoZSxuLmV4aXQsKGZ1bmN0aW9uKCl7dC5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImV4aXRlZFwifSwoZnVuY3Rpb24oKXt0LnByb3BzLm9uRXhpdGVkKGUpfSkpfSkpfSkpKTp0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZXhpdGVkXCJ9LChmdW5jdGlvbigpe3QucHJvcHMub25FeGl0ZWQoZSl9KSl9LHIuY2FuY2VsTmV4dENhbGxiYWNrPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMubmV4dENhbGxiYWNrJiYodGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsKCksdGhpcy5uZXh0Q2FsbGJhY2s9bnVsbCl9LHIuc2FmZVNldFN0YXRlPWZ1bmN0aW9uKGUsdCl7dD10aGlzLnNldE5leHRDYWxsYmFjayh0KSx0aGlzLnNldFN0YXRlKGUsdCl9LHIuc2V0TmV4dENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0hMDtyZXR1cm4gdGhpcy5uZXh0Q2FsbGJhY2s9ZnVuY3Rpb24obil7ciYmKHI9ITEsdC5uZXh0Q2FsbGJhY2s9bnVsbCxlKG4pKX0sdGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsPWZ1bmN0aW9uKCl7cj0hMX0sdGhpcy5uZXh0Q2FsbGJhY2t9LHIub25UcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnNldE5leHRDYWxsYmFjayhyKTt2YXIgbj1udWxsPT10JiYhdGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcjtlJiYhbj8odGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lciYmdGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcihlLHRoaXMubmV4dENhbGxiYWNrKSxudWxsIT10JiZzZXRUaW1lb3V0KHRoaXMubmV4dENhbGxiYWNrLHQpKTpzZXRUaW1lb3V0KHRoaXMubmV4dENhbGxiYWNrLDApfSxyLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUuc3RhdHVzO2lmKFwidW5tb3VudGVkXCI9PT1lKXJldHVybiBudWxsO3ZhciB0PXRoaXMucHJvcHMscj10LmNoaWxkcmVuLG49ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspcj1vW25dLHQuaW5kZXhPZihyKT49MHx8KGlbcl09ZVtyXSk7cmV0dXJuIGl9KHQsW1wiY2hpbGRyZW5cIl0pO2lmKGRlbGV0ZSBuLmluLGRlbGV0ZSBuLm1vdW50T25FbnRlcixkZWxldGUgbi51bm1vdW50T25FeGl0LGRlbGV0ZSBuLmFwcGVhcixkZWxldGUgbi5lbnRlcixkZWxldGUgbi5leGl0LGRlbGV0ZSBuLnRpbWVvdXQsZGVsZXRlIG4uYWRkRW5kTGlzdGVuZXIsZGVsZXRlIG4ub25FbnRlcixkZWxldGUgbi5vbkVudGVyaW5nLGRlbGV0ZSBuLm9uRW50ZXJlZCxkZWxldGUgbi5vbkV4aXQsZGVsZXRlIG4ub25FeGl0aW5nLGRlbGV0ZSBuLm9uRXhpdGVkLFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpcmV0dXJuIHIoZSxuKTt2YXIgbz1pLmRlZmF1bHQuQ2hpbGRyZW4ub25seShyKTtyZXR1cm4gaS5kZWZhdWx0LmNsb25lRWxlbWVudChvLG4pfSx0fShpLmRlZmF1bHQuQ29tcG9uZW50KTtmdW5jdGlvbiBjKCl7fWwuY29udGV4dFR5cGVzPXt0cmFuc2l0aW9uR3JvdXA6bi5vYmplY3R9LGwuY2hpbGRDb250ZXh0VHlwZXM9e3RyYW5zaXRpb25Hcm91cDpmdW5jdGlvbigpe319LGwucHJvcFR5cGVzPXt9LGwuZGVmYXVsdFByb3BzPXtpbjohMSxtb3VudE9uRW50ZXI6ITEsdW5tb3VudE9uRXhpdDohMSxhcHBlYXI6ITEsZW50ZXI6ITAsZXhpdDohMCxvbkVudGVyOmMsb25FbnRlcmluZzpjLG9uRW50ZXJlZDpjLG9uRXhpdDpjLG9uRXhpdGluZzpjLG9uRXhpdGVkOmN9LGwuVU5NT1VOVEVEPTAsbC5FWElURUQ9MSxsLkVOVEVSSU5HPTIsbC5FTlRFUkVEPTMsbC5FWElUSU5HPTQ7dmFyIHU9KDAsYS5wb2x5ZmlsbCkobCk7dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5jbGFzc05hbWVzU2hhcGU9dC50aW1lb3V0c1NoYXBlPXZvaWQgMDshZnVuY3Rpb24oZSl7ZSYmZS5fX2VzTW9kdWxlfShyKDMpKTt0LnRpbWVvdXRzU2hhcGU9bnVsbDt0LmNsYXNzTmFtZXNTaGFwZT1udWxsfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZnVuY3Rpb24oaSl7biYmbi5jYWxsKGUsaSk7dmFyIG89ITE7cmV0dXJuIGkuZGVmYXVsdFByZXZlbnRlZCYmKG89ITApLGUucHJvcHMuZGlzYWJsZVRvdWNoUmlwcGxlJiZcIkJsdXJcIiE9PXQmJihvPSEwKSwhbyYmZS5yaXBwbGUmJmUucmlwcGxlW3JdKGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucHJvcHNbXCJvblwiLmNvbmNhdCh0KV0mJmUucHJvcHNbXCJvblwiLmNvbmNhdCh0KV0oaSksITB9fTtcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93JiYobj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KTt2YXIgaT1uO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPW4ocigxKSksbz1uKHIoNjEpKSxhPW4ocig2NCkpLHM9aS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6XCJ9KSxsPWZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZmF1bHQuY3JlYXRlRWxlbWVudChhLmRlZmF1bHQsZSxzKX07KGw9KDAsby5kZWZhdWx0KShsKSkubXVpTmFtZT1cIlN2Z0ljb25cIjt2YXIgYz1sO3QuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMTcyKSksbz1yKDEpLGE9KG4ocig2MikpLG4ocig2MykpLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgcj0oMCxvLmNyZWF0ZUZhY3RvcnkpKHQpO3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfSgwLGkuZGVmYXVsdCkobix0KTt2YXIgbz1uLnByb3RvdHlwZTtyZXR1cm4gby5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcy5wcm9wcyx0KX0sby5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLnByb3BzKX0sbn0oby5Db21wb25lbnQpfX0pO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxuKGUsdCl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByW2VdPXQscn19O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplP2UuZGlzcGxheU5hbWV8fGUubmFtZXx8XCJDb21wb25lbnRcIjp2b2lkIDB9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMTc2KSkuZGVmYXVsdDt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MCE9PXR8fDEvZT09MS90OmUhPWUmJnQhPXR9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoaShlLHQpKXJldHVybiEwO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10KXJldHVybiExO3ZhciByPU9iamVjdC5rZXlzKGUpLG89T2JqZWN0LmtleXModCk7aWYoci5sZW5ndGghPT1vLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKylpZighbi5jYWxsKHQsclthXSl8fCFpKGVbclthXV0sdFtyW2FdXSkpcmV0dXJuITE7cmV0dXJuITB9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNSkpLGE9bihyKDQpKSxzPW4ocigxKSksbD0obihyKDMpKSxuKHIoOCkpKSxjPShyKDcpLG4ocig5KSkpLHU9cigxNiksaD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7dXNlclNlbGVjdDpcIm5vbmVcIix3aWR0aDpcIjFlbVwiLGhlaWdodDpcIjFlbVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixmaWxsOlwiY3VycmVudENvbG9yXCIsZmxleFNocmluazowLGZvbnRTaXplOjI0LHRyYW5zaXRpb246ZS50cmFuc2l0aW9ucy5jcmVhdGUoXCJmaWxsXCIse2R1cmF0aW9uOmUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlcn0pfSxjb2xvclByaW1hcnk6e2NvbG9yOmUucGFsZXR0ZS5wcmltYXJ5Lm1haW59LGNvbG9yU2Vjb25kYXJ5Ontjb2xvcjplLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW59LGNvbG9yQWN0aW9uOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmFjdGl2ZX0sY29sb3JFcnJvcjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59LGNvbG9yRGlzYWJsZWQ6e2NvbG9yOmUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWR9LGZvbnRTaXplSW5oZXJpdDp7Zm9udFNpemU6XCJpbmhlcml0XCJ9LGZvbnRTaXplU21hbGw6e2ZvbnRTaXplOjIwfSxmb250U2l6ZUxhcmdlOntmb250U2l6ZTozNX19fTtmdW5jdGlvbiBkKGUpe3ZhciB0LHI9ZS5jaGlsZHJlbixuPWUuY2xhc3NlcyxjPWUuY2xhc3NOYW1lLGg9ZS5jb2xvcixkPWUuY29tcG9uZW50LHA9ZS5mb250U2l6ZSxmPWUubmF0aXZlQ29sb3IsbT1lLnRpdGxlQWNjZXNzLGc9ZS52aWV3Qm94LF89KDAsYS5kZWZhdWx0KShlLFtcImNoaWxkcmVuXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJjb21wb25lbnRcIixcImZvbnRTaXplXCIsXCJuYXRpdmVDb2xvclwiLFwidGl0bGVBY2Nlc3NcIixcInZpZXdCb3hcIl0pO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChkLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKG4ucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsbltcImNvbG9yXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkoaCkpXSxcImluaGVyaXRcIiE9PWgpLCgwLG8uZGVmYXVsdCkodCxuW1wiZm9udFNpemVcIi5jb25jYXQoKDAsdS5jYXBpdGFsaXplKShwKSldLFwiZGVmYXVsdFwiIT09cCksdCksYyksZm9jdXNhYmxlOlwiZmFsc2VcIix2aWV3Qm94OmcsY29sb3I6ZixcImFyaWEtaGlkZGVuXCI6bT9cImZhbHNlXCI6XCJ0cnVlXCIscm9sZTptP1wiaW1nXCI6XCJwcmVzZW50YXRpb25cIn0sXykscixtP3MuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIixudWxsLG0pOm51bGwpfXQuc3R5bGVzPWgsZC5kZWZhdWx0UHJvcHM9e2NvbG9yOlwiaW5oZXJpdFwiLGNvbXBvbmVudDpcInN2Z1wiLGZvbnRTaXplOlwiZGVmYXVsdFwiLHZpZXdCb3g6XCIwIDAgMjQgMjRcIn0sZC5tdWlOYW1lPVwiU3ZnSWNvblwiO3ZhciBwPSgwLGMuZGVmYXVsdCkoaCx7bmFtZTpcIk11aVN2Z0ljb25cIn0pKGQpO3QuZGVmYXVsdD1wfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPW4ocigxKSksbz1uKHIoNjEpKSxhPW4ocig2NCkpLHM9aS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIgN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNSA1LTIuMjQgNS01LTIuMjQtNS01LTV6bTAtNUM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6XCJ9KSxsPWZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZmF1bHQuY3JlYXRlRWxlbWVudChhLmRlZmF1bHQsZSxzKX07KGw9KDAsby5kZWZhdWx0KShsKSkubXVpTmFtZT1cIlN2Z0ljb25cIjt2YXIgYz1sO3QuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxODApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPW4ocigxMCkpLHM9bihyKDExKSksbD1uKHIoMTIpKSxjPW4ocigxMykpLHU9bihyKDE0KSksaD1uKHIoMSkpLGQ9KG4ocigzKSksbihyKDYpKSxuKHIoMTgxKSkpLHA9cigxNiksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByO3JldHVybigwLGEuZGVmYXVsdCkodGhpcyx0KSwocj0oMCxsLmRlZmF1bHQpKHRoaXMsKDAsYy5kZWZhdWx0KSh0KS5jYWxsKHRoaXMpKSkucmFkaW9zPVtdLHIuZm9jdXM9ZnVuY3Rpb24oKXtpZihyLnJhZGlvcyYmci5yYWRpb3MubGVuZ3RoKXt2YXIgZT1yLnJhZGlvcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmRpc2FibGVkfSkpO2lmKGUubGVuZ3RoKXt2YXIgdD0oMCxwLmZpbmQpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoZWNrZWR9KSk7dD90LmZvY3VzKCk6ZVswXS5mb2N1cygpfX19LHIuaGFuZGxlQ2hhbmdlPWZ1bmN0aW9uKGUpe3IuaXNDb250cm9sbGVkfHxyLnNldFN0YXRlKHt2YWx1ZTplLnRhcmdldC52YWx1ZX0pLHIucHJvcHMub25DaGFuZ2UmJnIucHJvcHMub25DaGFuZ2UoZSxlLnRhcmdldC52YWx1ZSl9LHIuaXNDb250cm9sbGVkPW51bGwhPWUudmFsdWUsci5pc0NvbnRyb2xsZWR8fChyLnN0YXRlPXt2YWx1ZTplLmRlZmF1bHRWYWx1ZX0pLHJ9cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMscj10LmNoaWxkcmVuLG49dC5uYW1lLGE9dC52YWx1ZSxzPSh0Lm9uQ2hhbmdlLCgwLG8uZGVmYXVsdCkodCxbXCJjaGlsZHJlblwiLFwibmFtZVwiLFwidmFsdWVcIixcIm9uQ2hhbmdlXCJdKSksbD10aGlzLmlzQ29udHJvbGxlZD9hOnRoaXMuc3RhdGUudmFsdWU7cmV0dXJuIHRoaXMucmFkaW9zPVtdLGguZGVmYXVsdC5jcmVhdGVFbGVtZW50KGQuZGVmYXVsdCwoMCxpLmRlZmF1bHQpKHtyb2xlOlwicmFkaW9ncm91cFwifSxzKSxoLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKHIsKGZ1bmN0aW9uKHQpe3JldHVybiBoLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQodCk/aC5kZWZhdWx0LmNsb25lRWxlbWVudCh0LHtuYW1lOm4saW5wdXRSZWY6ZnVuY3Rpb24odCl7dCYmZS5yYWRpb3MucHVzaCh0KX0sY2hlY2tlZDpsPT09dC5wcm9wcy52YWx1ZSxvbkNoYW5nZTooMCxwLmNyZWF0ZUNoYWluZWRGdW5jdGlvbikodC5wcm9wcy5vbkNoYW5nZSxlLmhhbmRsZUNoYW5nZSl9KTpudWxsfSkpKX19XSksdH0oaC5kZWZhdWx0LkNvbXBvbmVudCk7dC5kZWZhdWx0PWZ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE4MikpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNSkpLGE9bihyKDQpKSxzPW4ocigxKSksbD0obihyKDMpKSxuKHIoOCkpKSxjPW4ocig5KSksdT17cm9vdDp7ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsZmxleFdyYXA6XCJ3cmFwXCJ9LHJvdzp7ZmxleERpcmVjdGlvbjpcInJvd1wifX07ZnVuY3Rpb24gaChlKXt2YXIgdD1lLmNsYXNzZXMscj1lLmNsYXNzTmFtZSxuPWUuY2hpbGRyZW4sYz1lLnJvdyx1PSgwLGEuZGVmYXVsdCkoZSxbXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNoaWxkcmVuXCIsXCJyb3dcIl0pO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKHQucm9vdCwoMCxvLmRlZmF1bHQpKHt9LHQucm93LGMpLHIpfSx1KSxuKX10LnN0eWxlcz11LGguZGVmYXVsdFByb3BzPXtyb3c6ITF9O3ZhciBkPSgwLGMuZGVmYXVsdCkodSx7bmFtZTpcIk11aUZvcm1Hcm91cFwifSkoaCk7dC5kZWZhdWx0PWR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE4NCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNSkpLGE9bihyKDQpKSxzPW4ocigxKSksbD0obihyKDMpKSxuKHIoOCkpKSxjPW4ocigzNykpLHU9bihyKDkpKSxoPW4ocigyNikpLGQ9cigxNikscD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7ZGlzcGxheTpcImlubGluZS1mbGV4XCIsYWxpZ25JdGVtczpcImNlbnRlclwiLGN1cnNvcjpcInBvaW50ZXJcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6XCJ0cmFuc3BhcmVudFwiLG1hcmdpbkxlZnQ6LTE0LG1hcmdpblJpZ2h0OjE2LFwiJiRkaXNhYmxlZFwiOntjdXJzb3I6XCJkZWZhdWx0XCJ9fSxsYWJlbFBsYWNlbWVudFN0YXJ0OntmbGV4RGlyZWN0aW9uOlwicm93LXJldmVyc2VcIixtYXJnaW5MZWZ0OjE2LG1hcmdpblJpZ2h0Oi0xNH0sbGFiZWxQbGFjZW1lbnRUb3A6e2ZsZXhEaXJlY3Rpb246XCJjb2x1bW4tcmV2ZXJzZVwiLG1hcmdpbkxlZnQ6MTZ9LGxhYmVsUGxhY2VtZW50Qm90dG9tOntmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsbWFyZ2luTGVmdDoxNn0sZGlzYWJsZWQ6e30sbGFiZWw6e1wiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUudGV4dC5kaXNhYmxlZH19fX07ZnVuY3Rpb24gZihlKXtlLmNoZWNrZWQ7dmFyIHQscj1lLmNsYXNzZXMsbj1lLmNsYXNzTmFtZSxjPWUuY29udHJvbCx1PWUuZGlzYWJsZWQscD0oZS5pbnB1dFJlZixlLmxhYmVsKSxmPWUubGFiZWxQbGFjZW1lbnQsbT1lLm11aUZvcm1Db250cm9sLGc9KGUubmFtZSxlLm9uQ2hhbmdlLGUudmFsdWUsKDAsYS5kZWZhdWx0KShlLFtcImNoZWNrZWRcIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29udHJvbFwiLFwiZGlzYWJsZWRcIixcImlucHV0UmVmXCIsXCJsYWJlbFwiLFwibGFiZWxQbGFjZW1lbnRcIixcIm11aUZvcm1Db250cm9sXCIsXCJuYW1lXCIsXCJvbkNoYW5nZVwiLFwidmFsdWVcIl0pKSxfPXU7dm9pZCAwPT09XyYmdm9pZCAwIT09Yy5wcm9wcy5kaXNhYmxlZCYmKF89Yy5wcm9wcy5kaXNhYmxlZCksdm9pZCAwPT09XyYmbSYmKF89bS5kaXNhYmxlZCk7dmFyIHk9e2Rpc2FibGVkOl99O3JldHVybltcImNoZWNrZWRcIixcIm5hbWVcIixcIm9uQ2hhbmdlXCIsXCJ2YWx1ZVwiLFwiaW5wdXRSZWZcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dm9pZCAwPT09Yy5wcm9wc1t0XSYmdm9pZCAwIT09ZVt0XSYmKHlbdF09ZVt0XSl9KSkscy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKHIucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQscltcImxhYmVsUGxhY2VtZW50XCIuY29uY2F0KCgwLGQuY2FwaXRhbGl6ZSkoZikpXSxcImVuZFwiIT09ZiksKDAsby5kZWZhdWx0KSh0LHIuZGlzYWJsZWQsXyksdCksbil9LGcpLHMuZGVmYXVsdC5jbG9uZUVsZW1lbnQoYyx5KSxzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChoLmRlZmF1bHQse2NvbXBvbmVudDpcInNwYW5cIixjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShyLmxhYmVsLCgwLG8uZGVmYXVsdCkoe30sci5kaXNhYmxlZCxfKSl9LHApKX10LnN0eWxlcz1wLGYuZGVmYXVsdFByb3BzPXtsYWJlbFBsYWNlbWVudDpcImVuZFwifTt2YXIgbT0oMCx1LmRlZmF1bHQpKHAse25hbWU6XCJNdWlGb3JtQ29udHJvbExhYmVsXCJ9KSgoMCxjLmRlZmF1bHQpKGYpKTt0LmRlZmF1bHQ9bX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KTt2YXIgaT1uKHIoMTg2KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIGk9bihyKDIpKSxvPW4ocig1KSksYT1uKHIoNCkpLHM9bihyKDEwKSksbD1uKHIoMTIpKSxjPW4ocigxMykpLHU9bihyKDExKSksaD1uKHIoMTQpKSxkPW4ocigxKSkscD0obihyKDMpKSxuKHIoOCkpKSxmPShyKDcpLHIoMTg3KSksbT1uKHIoOSkpLGc9cigxNiksXz1yKDE4OCkseT1uKHIoNTcpKSx2PXtyb290OntkaXNwbGF5OlwiaW5saW5lLWZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLG1pbldpZHRoOjAscGFkZGluZzowLG1hcmdpbjowLGJvcmRlcjowLHZlcnRpY2FsQWxpZ246XCJ0b3BcIn0sbWFyZ2luTm9ybWFsOnttYXJnaW5Ub3A6MTYsbWFyZ2luQm90dG9tOjh9LG1hcmdpbkRlbnNlOnttYXJnaW5Ub3A6OCxtYXJnaW5Cb3R0b206NH0sZnVsbFdpZHRoOnt3aWR0aDpcIjEwMCVcIn19O3Quc3R5bGVzPXY7dmFyIHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjsoMCxzLmRlZmF1bHQpKHRoaXMsdCksKHI9KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzKSkpLmhhbmRsZUZvY3VzPWZ1bmN0aW9uKCl7ci5zZXRTdGF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9jdXNlZD9udWxsOntmb2N1c2VkOiEwfX0pKX0sci5oYW5kbGVCbHVyPWZ1bmN0aW9uKCl7ci5zZXRTdGF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9jdXNlZD97Zm9jdXNlZDohMX06bnVsbH0pKX0sci5oYW5kbGVEaXJ0eT1mdW5jdGlvbigpe3Iuc3RhdGUuZmlsbGVkfHxyLnNldFN0YXRlKHtmaWxsZWQ6ITB9KX0sci5oYW5kbGVDbGVhbj1mdW5jdGlvbigpe3Iuc3RhdGUuZmlsbGVkJiZyLnNldFN0YXRlKHtmaWxsZWQ6ITF9KX0sci5zdGF0ZT17YWRvcm5lZFN0YXJ0OiExLGZpbGxlZDohMSxmb2N1c2VkOiExfTt2YXIgbj1lLmNoaWxkcmVuO3JldHVybiBuJiZkLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChuLChmdW5jdGlvbihlKXtpZigoMCxfLmlzTXVpRWxlbWVudCkoZSxbXCJJbnB1dFwiLFwiU2VsZWN0XCJdKSl7KDAsZi5pc0ZpbGxlZCkoZS5wcm9wcywhMCkmJihyLnN0YXRlLmZpbGxlZD0hMCk7dmFyIHQ9KDAsXy5pc011aUVsZW1lbnQpKGUsW1wiU2VsZWN0XCJdKT9lLnByb3BzLmlucHV0OmU7dCYmKDAsZi5pc0Fkb3JuZWRTdGFydCkodC5wcm9wcykmJihyLnN0YXRlLmFkb3JuZWRTdGFydD0hMCl9fSkpLHJ9cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxudWxsLFt7a2V5OlwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kaXNhYmxlZCYmdC5mb2N1c2VkP3tmb2N1c2VkOiExfTpudWxsfX1dKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5wcm9wcyxyPXQuY2xhc3NlcyxuPXQuY2xhc3NOYW1lLHM9dC5jb21wb25lbnQsbD10LmRpc2FibGVkLGM9dC5lcnJvcix1PXQuZnVsbFdpZHRoLGg9dC5tYXJnaW4sZj10LnJlcXVpcmVkLG09dC52YXJpYW50LF89KDAsYS5kZWZhdWx0KSh0LFtcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJkaXNhYmxlZFwiLFwiZXJyb3JcIixcImZ1bGxXaWR0aFwiLFwibWFyZ2luXCIsXCJyZXF1aXJlZFwiLFwidmFyaWFudFwiXSksdj10aGlzLnN0YXRlLHg9e2Fkb3JuZWRTdGFydDp2LmFkb3JuZWRTdGFydCxkaXNhYmxlZDpsLGVycm9yOmMsZmlsbGVkOnYuZmlsbGVkLGZvY3VzZWQ6di5mb2N1c2VkLG1hcmdpbjpoLG9uQmx1cjp0aGlzLmhhbmRsZUJsdXIsb25FbXB0eTp0aGlzLmhhbmRsZUNsZWFuLG9uRmlsbGVkOnRoaXMuaGFuZGxlRGlydHksb25Gb2N1czp0aGlzLmhhbmRsZUZvY3VzLHJlcXVpcmVkOmYsdmFyaWFudDptfTtyZXR1cm4gZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoeS5kZWZhdWx0LlByb3ZpZGVyLHt2YWx1ZTp4fSxkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChzLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxwLmRlZmF1bHQpKHIucm9vdCwoZT17fSwoMCxvLmRlZmF1bHQpKGUscltcIm1hcmdpblwiLmNvbmNhdCgoMCxnLmNhcGl0YWxpemUpKGgpKV0sXCJub25lXCIhPT1oKSwoMCxvLmRlZmF1bHQpKGUsci5mdWxsV2lkdGgsdSksZSksbil9LF8pKSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO3guZGVmYXVsdFByb3BzPXtjb21wb25lbnQ6XCJkaXZcIixkaXNhYmxlZDohMSxlcnJvcjohMSxmdWxsV2lkdGg6ITEsbWFyZ2luOlwibm9uZVwiLHJlcXVpcmVkOiExLHZhcmlhbnQ6XCJzdGFuZGFyZFwifTt2YXIgYj0oMCxtLmRlZmF1bHQpKHYse25hbWU6XCJNdWlGb3JtQ29udHJvbFwifSkoeCk7dC5kZWZhdWx0PWJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBudWxsIT1lJiYhKEFycmF5LmlzQXJyYXkoZSkmJjA9PT1lLmxlbmd0aCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5oYXNWYWx1ZT1uLHQuaXNGaWxsZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gZSYmKG4oZS52YWx1ZSkmJlwiXCIhPT1lLnZhbHVlfHx0JiZuKGUuZGVmYXVsdFZhbHVlKSYmXCJcIiE9PWUuZGVmYXVsdFZhbHVlKX0sdC5pc0Fkb3JuZWRTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydEFkb3JubWVudH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZT1hLHQuY2xvbmVDaGlsZHJlbldpdGhDbGFzc05hbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5kZWZhdWx0LkNoaWxkcmVuLm1hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gaS5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGUpJiZhKGUsdCl9KSl9LHQuaXNNdWlFbGVtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChlKSYmLTEhPT10LmluZGV4T2YoZS50eXBlLm11aU5hbWUpfSx0LnNldFJlZj1mdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0KTplJiYoZS5jdXJyZW50PXQpfTt2YXIgaT1uKHIoMSkpLG89bihyKDgpKTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGkuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZSx7Y2xhc3NOYW1lOigwLG8uZGVmYXVsdCkoZS5wcm9wcy5jbGFzc05hbWUsdCl9KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE5MCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNSkpLGE9bihyKDQpKSxzPW4ocigxKSksbD0obihyKDMpKSxuKHIoOCkpKSxjPShyKDcpLG4ocigxOTEpKSksdT1uKHIoMzcpKSxoPW4ocig5KSksZD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7Zm9udEZhbWlseTplLnR5cG9ncmFwaHkuZm9udEZhbWlseSxjb2xvcjplLnBhbGV0dGUudGV4dC5zZWNvbmRhcnksZm9udFNpemU6ZS50eXBvZ3JhcGh5LnB4VG9SZW0oMTYpLGxpbmVIZWlnaHQ6MSxwYWRkaW5nOjAsXCImJGZvY3VzZWRcIjp7Y29sb3I6ZS5wYWxldHRlLnByaW1hcnlbXCJsaWdodFwiPT09ZS5wYWxldHRlLnR5cGU/XCJkYXJrXCI6XCJsaWdodFwiXX0sXCImJGRpc2FibGVkXCI6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LmRpc2FibGVkfSxcIiYkZXJyb3JcIjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59fSxmb2N1c2VkOnt9LGRpc2FibGVkOnt9LGVycm9yOnt9LGZpbGxlZDp7fSxyZXF1aXJlZDp7fSxhc3Rlcmlzazp7XCImJGVycm9yXCI6e2NvbG9yOmUucGFsZXR0ZS5lcnJvci5tYWlufX19fTtmdW5jdGlvbiBwKGUpe3ZhciB0LHI9ZS5jaGlsZHJlbixuPWUuY2xhc3Nlcyx1PWUuY2xhc3NOYW1lLGg9ZS5jb21wb25lbnQsZD0oZS5kaXNhYmxlZCxlLmVycm9yLGUuZmlsbGVkLGUuZm9jdXNlZCxlLm11aUZvcm1Db250cm9sKSxwPShlLnJlcXVpcmVkLCgwLGEuZGVmYXVsdCkoZSxbXCJjaGlsZHJlblwiLFwiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjb21wb25lbnRcIixcImRpc2FibGVkXCIsXCJlcnJvclwiLFwiZmlsbGVkXCIsXCJmb2N1c2VkXCIsXCJtdWlGb3JtQ29udHJvbFwiLFwicmVxdWlyZWRcIl0pKSxmPSgwLGMuZGVmYXVsdCkoe3Byb3BzOmUsbXVpRm9ybUNvbnRyb2w6ZCxzdGF0ZXM6W1wicmVxdWlyZWRcIixcImZvY3VzZWRcIixcImRpc2FibGVkXCIsXCJlcnJvclwiLFwiZmlsbGVkXCJdfSk7cmV0dXJuIHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGgsKDAsaS5kZWZhdWx0KSh7Y2xhc3NOYW1lOigwLGwuZGVmYXVsdCkobi5yb290LCh0PXt9LCgwLG8uZGVmYXVsdCkodCxuLmRpc2FibGVkLGYuZGlzYWJsZWQpLCgwLG8uZGVmYXVsdCkodCxuLmVycm9yLGYuZXJyb3IpLCgwLG8uZGVmYXVsdCkodCxuLmZpbGxlZCxmLmZpbGxlZCksKDAsby5kZWZhdWx0KSh0LG4uZm9jdXNlZCxmLmZvY3VzZWQpLCgwLG8uZGVmYXVsdCkodCxuLnJlcXVpcmVkLGYucmVxdWlyZWQpLHQpLHUpfSxwKSxyLGYucmVxdWlyZWQmJnMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShuLmFzdGVyaXNrLCgwLG8uZGVmYXVsdCkoe30sbi5lcnJvcixmLmVycm9yKSl9LFwi4oCJKlwiKSl9dC5zdHlsZXM9ZCxwLmRlZmF1bHRQcm9wcz17Y29tcG9uZW50OlwibGFiZWxcIn07dmFyIGY9KDAsaC5kZWZhdWx0KShkLHtuYW1lOlwiTXVpRm9ybUxhYmVsXCJ9KSgoMCx1LmRlZmF1bHQpKHApKTt0LmRlZmF1bHQ9Zn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnByb3BzLHI9ZS5zdGF0ZXMsbj1lLm11aUZvcm1Db250cm9sO3JldHVybiByLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZVtyXT10W3JdLG4mJnZvaWQgMD09PXRbcl0mJihlW3JdPW5bcl0pLGV9KSx7fSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOTMpO1wic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1bW2UuaSxuLFwiXCJdXSk7dmFyIGk9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtyKDY2KShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKX0sZnVuY3Rpb24oZSx0LHIpeyhlLmV4cG9ydHM9cig2NSkoITEpKS5wdXNoKFtlLmksXCIubWFwYm94Z2wtbWFwey13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2IoMCAwIDAvMCk7Zm9udDoxMnB4LzIwcHggSGVsdmV0aWNhIE5ldWUsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXBib3hnbC1jYW52YXN7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowfS5tYXBib3hnbC1tYXA6LXdlYmtpdC1mdWxsLXNjcmVlbntoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5tYXBib3hnbC1jYW5hcnl7YmFja2dyb3VuZC1jb2xvcjpzYWxtb259Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmUsLm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzc3tjdXJzb3I6Z3JhYjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZS5tYXBib3hnbC10cmFjay1wb2ludGVye2N1cnNvcjpwb2ludGVyfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLWludGVyYWN0aXZlOmFjdGl2ZSwubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzOmFjdGl2ZXtjdXJzb3I6Z3JhYmJpbmd9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUsLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUgLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246cGFuLXggcGFuLXl9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4sLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4gLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246cGluY2gtem9vbX0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZS5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZS5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpub25lfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0LC5tYXBib3hnbC1jdHJsLWJvdHRvbS1yaWdodCwubWFwYm94Z2wtY3RybC10b3AtbGVmdCwubWFwYm94Z2wtY3RybC10b3AtcmlnaHR7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjJ9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnR7bGVmdDowO3RvcDowfS5tYXBib3hnbC1jdHJsLXRvcC1yaWdodHtyaWdodDowO3RvcDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0e2JvdHRvbTowO2xlZnQ6MH0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHR7Ym90dG9tOjA7cmlnaHQ6MH0ubWFwYm94Z2wtY3RybHtjbGVhcjpib3RoO3BvaW50ZXItZXZlbnRzOmF1dG87dHJhbnNmb3JtOnRyYW5zbGF0ZSgwKX0ubWFwYm94Z2wtY3RybC10b3AtbGVmdCAubWFwYm94Z2wtY3RybHtmbG9hdDpsZWZ0O21hcmdpbjoxMHB4IDAgMCAxMHB4fS5tYXBib3hnbC1jdHJsLXRvcC1yaWdodCAubWFwYm94Z2wtY3RybHtmbG9hdDpyaWdodDttYXJnaW46MTBweCAxMHB4IDAgMH0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCAubWFwYm94Z2wtY3RybHtmbG9hdDpsZWZ0O21hcmdpbjowIDAgMTBweCAxMHB4fS5tYXBib3hnbC1jdHJsLWJvdHRvbS1yaWdodCAubWFwYm94Z2wtY3RybHtmbG9hdDpyaWdodDttYXJnaW46MCAxMHB4IDEwcHggMH0ubWFwYm94Z2wtY3RybC1ncm91cHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo0cHh9Lm1hcGJveGdsLWN0cmwtZ3JvdXA6bm90KDplbXB0eSl7Ym94LXNoYWRvdzowIDAgMCAycHggcmdiYSgwLDAsMCwuMSl9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsLWdyb3VwOm5vdCg6ZW1wdHkpe2JveC1zaGFkb3c6MCAwIDAgMnB4IEJ1dHRvblRleHR9fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjowO2JveC1zaXppbmc6Ym9yZGVyLWJveDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmJsb2NrO2hlaWdodDoyOXB4O291dGxpbmU6bm9uZTtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowO3dpZHRoOjI5cHh9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uK2J1dHRvbntib3JkZXItdG9wOjFweCBzb2xpZCAjZGRkfS5tYXBib3hnbC1jdHJsIGJ1dHRvbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtcG9zaXRpb246NTAlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24rYnV0dG9ue2JvcmRlci10b3A6MXB4IHNvbGlkIEJ1dHRvblRleHR9fS5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b246Zm9jdXMsLm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZvY3Vze2JveC1zaGFkb3c6MCAwIDJweCAycHggIzAwOTZmZn0ubWFwYm94Z2wtY3RybCBidXR0b246ZGlzYWJsZWR7Y3Vyc29yOm5vdC1hbGxvd2VkfS5tYXBib3hnbC1jdHJsIGJ1dHRvbjpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue29wYWNpdHk6LjI1fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmaXJzdC1jaGlsZHtib3JkZXItcmFkaXVzOjRweCA0cHggMCAwfS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAwIDRweCA0cHh9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOm9ubHktY2hpbGR7Ym9yZGVyLXJhZGl1czppbmhlcml0fS5tYXBib3hnbC1jdHJsIGJ1dHRvbjpub3QoOmRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZvY3VzOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDAgMnB4IDJweCAjMDA5NmZmfS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmb2N1czpub3QoOmZvY3VzLXZpc2libGUpe2JveC1zaGFkb3c6bm9uZX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00yNCAxNnY1LjVjMCAxLjc1LS43NSAyLjUtMi41IDIuNUgxNnYtMWwzLTEuNS00LTUuNSAxLTEgNS41IDQgMS41LTNoMXpNNiAxNmwxLjUgMyA1LjUtNCAxIDEtNCA1LjUgMyAxLjV2MUg3LjVDNS43NSAyNCA1IDIzLjI1IDUgMjEuNVYxNmgxem03LTExdjFsLTMgMS41IDQgNS41LTEgMS01LjUtNEw2IDEzSDVWNy41QzUgNS43NSA1Ljc1IDUgNy41IDVIMTN6bTExIDIuNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDE2djFsMyAxLjUtNCA1LjUgMSAxIDUuNS00IDEuNSAzaDFWNy41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXNocmluayAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTE4LjUgMTZjLTEuNzUgMC0yLjUuNzUtMi41IDIuNVYyNGgxbDEuNS0zIDUuNSA0IDEtMS00LTUuNSAzLTEuNXYtMWgtNS41ek0xMyAxOC41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVINXYxbDMgMS41TDQgMjRsMSAxIDUuNS00IDEuNSAzaDF2LTUuNXptMy04YzAgMS43NS43NSAyLjUgMi41IDIuNUgyNHYtMWwtMy0xLjVMMjUgNWwtMS0xLTUuNSA0TDE3IDVoLTF2NS41ek0xMC41IDEzYzEuNzUgMCAyLjUtLjc1IDIuNS0yLjVWNWgtMWwtMS41IDNMNSA0IDQgNWw0IDUuNUw1IDEydjFoNS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UlM0NwYXRoIGQ9J00xOC41IDE2Yy0xLjc1IDAtMi41Ljc1LTIuNSAyLjVWMjRoMWwxLjUtMyA1LjUgNCAxLTEtNC01LjUgMy0xLjV2LTFoLTUuNXpNMTMgMTguNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDV2MWwzIDEuNUw0IDI0bDEgMSA1LjUtNCAxLjUgM2gxdi01LjV6bTMtOGMwIDEuNzUuNzUgMi41IDIuNSAyLjVIMjR2LTFsLTMtMS41TDI1IDVsLTEtMS01LjUgNEwxNyA1aC0xdjUuNXpNMTAuNSAxM2MxLjc1IDAgMi41LS43NSAyLjUtMi41VjVoLTFsLTEuNSAzTDUgNCA0IDVsNCA1LjVMNSAxMnYxaDUuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTEwLjUgMTRsNC04IDQgOGgtOHonLyUzRSUzQ3BhdGggaWQ9J3NvdXRoJyBkPSdNMTAuNSAxNmw0IDggNC04aC04eicgZmlsbD0nJTIzY2NjJy8lM0UlM0Mvc3ZnJTNFXFxcIil9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3MgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xMC41IDE0bDQtOCA0IDhoLTh6Jy8lM0UlM0NwYXRoIGlkPSdzb3V0aCcgZD0nTTEwLjUgMTZsNCA4IDQtOGgtOHonIGZpbGw9JyUyMzk5OScvJTNFJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTAuNSAxNGw0LTggNCA4aC04eicvJTNFJTNDcGF0aCBpZD0nc291dGgnIGQ9J00xMC41IDE2bDQgOCA0LThoLTh6JyBmaWxsPSclMjNjY2MnLyUzRSUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNhYWEnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSclMjNmMDAnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZTU4OTc4JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1NGUzMyclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyAubWFwYm94Z2wtY3RybC1pY29ue2FuaW1hdGlvbjptYXBib3hnbC1zcGluIDJzIGxpbmVhciBpbmZpbml0ZX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjM5OTknJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSclMjNmMDAnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZTU4OTc4JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1NGUzMyclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjM2NjYnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSclMjNmMDAnLyUzRSUzQy9zdmclM0VcXFwiKX19QGtleWZyYW1lcyBtYXBib3hnbC1zcGluezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fWEubWFwYm94Z2wtY3RybC1sb2dve2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ21hc2sgaWQ9J2NsaXAnJTNFJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL21hc2slM0UlM0NnIGlkPSdvdXRsaW5lJyBvcGFjaXR5PScwLjMnIHN0cm9rZT0nJTIzMDAwJyBzdHJva2Utd2lkdGg9JzMnJTNFJTNDY2lyY2xlIG1hc2s9J3VybCglMjNjbGlwKScgY3g9JzExLjUnIGN5PScxMS41JyByPSc5LjI1Jy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcgbWFzaz0ndXJsKCUyM2NsaXApJy8lM0UlM0MvZyUzRSUzQ2cgaWQ9J2ZpbGwnIG9wYWNpdHk9JzAuOScgZmlsbD0nJTIzZmZmJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjIzcHg7bWFyZ2luOjAgMCAtNHB4IC00cHg7b3ZlcmZsb3c6aGlkZGVuO3dpZHRoOjg4cHh9YS5tYXBib3hnbC1jdHJsLWxvZ28ubWFwYm94Z2wtY29tcGFjdHt3aWR0aDoyM3B4fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXthLm1hcGJveGdsLWN0cmwtbG9nb3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ21hc2sgaWQ9J2NsaXAnJTNFJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL21hc2slM0UlM0NnIGlkPSdvdXRsaW5lJyBvcGFjaXR5PScxJyBzdHJva2U9JyUyMzAwMCcgc3Ryb2tlLXdpZHRoPSczJyUzRSUzQ2NpcmNsZSBtYXNrPSd1cmwoJTIzY2xpcCknIGN4PScxMS41JyBjeT0nMTEuNScgcj0nOS4yNScvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnIG1hc2s9J3VybCglMjNjbGlwKScvJTNFJTNDL2clM0UlM0NnIGlkPSdmaWxsJyBvcGFjaXR5PScxJyBmaWxsPSclMjNmZmYnJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM2xvZ28nLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7YS5tYXBib3hnbC1jdHJsLWxvZ297YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nODgnIGhlaWdodD0nMjMnIHZpZXdCb3g9JzAgMCA4OCAyMycgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdsb2dvJyBkPSdNMTEuNSAyLjI1YzUuMTA1IDAgOS4yNSA0LjE0NSA5LjI1IDkuMjVzLTQuMTQ1IDkuMjUtOS4yNSA5LjI1LTkuMjUtNC4xNDUtOS4yNS05LjI1IDQuMTQ1LTkuMjUgOS4yNS05LjI1ek02Ljk5NyAxNS45ODNjLS4wNTEtLjMzOC0uODI4LTUuODAyIDIuMjMzLTguODczYTQuMzk1IDQuMzk1IDAgMDEzLjEzLTEuMjhjMS4yNyAwIDIuNDkuNTEgMy4zOSAxLjQyLjkxLjkgMS40MiAyLjEyIDEuNDIgMy4zOSAwIDEuMTgtLjQ0OSAyLjMwMS0xLjI4IDMuMTNDMTIuNzIgMTYuOTMgNyAxNiA3IDE2bC0uMDAzLS4wMTd6TTE1LjMgMTAuNWwtMiAuOC0uOCAyLS44LTItMi0uOCAyLS44LjgtMiAuOCAyIDIgLjh6Jy8lM0UlM0NwYXRoIGlkPSd0ZXh0JyBkPSdNNTAuNjMgOGMuMTMgMCAuMjMuMS4yMy4yM1Y5Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMi4xNyAwIDMuOTUgMS44NSAzLjk1IDQuMTdzLTEuNzcgNC4xOS0zLjk0IDQuMTljLTEuMDQgMC0yLjAzLS40My0yLjc0LTEuMTh2My43N2MwIC4xMy0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWOC4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMy44Ni4wMWMuMDEgMCAuMDEgMCAuMDEtLjAxLjEzIDAgLjIyLjEuMjIuMjJ2Ny41NWMwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWMTVjLS43Ljc2LTEuNjkgMS4xOS0yLjczIDEuMTktMi4xNyAwLTMuOTQtMS44Ny0zLjk0LTQuMTkgMC0yLjMyIDEuNzctNC4xOSAzLjk0LTQuMTkgMS4wMyAwIDIuMDIuNDMgMi43MyAxLjE4di0uNzVjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptMjYuMzc1LS4xOWE0LjI0IDQuMjQgMCAwMC00LjE2IDMuMjljLS4xMy41OS0uMTMgMS4xOSAwIDEuNzdhNC4yMzMgNC4yMzMgMCAwMDQuMTcgMy4zYzIuMzUgMCA0LjI2LTEuODcgNC4yNi00LjE5IDAtMi4zMi0xLjktNC4xNy00LjI3LTQuMTd6TTYwLjYzIDVjLjEzIDAgLjIzLjEuMjMuMjN2My43NmMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDEuODggMCAzLjQ1IDEuNCAzLjg0IDMuMjguMTMuNTkuMTMgMS4yIDAgMS44LS4zOSAxLjg4LTEuOTYgMy4yOS0zLjg0IDMuMjktMS4wMyAwLTIuMDItLjQzLTIuNzMtMS4xOHYuNzdjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjUuMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTM0IDExaC0xLjRjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM1Y4LjIyYy4wMS0uMTMuMS0uMjIuMjMtLjIyaDEuNGMuMTMgMCAuMjIuMTEuMjMuMjJ2LjY4Yy41LS42OCAxLjMtMS4wOSAyLjE2LTEuMWguMDNjMS4wOSAwIDIuMDkuNiAyLjYgMS41NS40NS0uOTUgMS40LTEuNTUgMi40NC0xLjU2IDEuNjIgMCAyLjkzIDEuMjUgMi45IDIuNzhsLjAzIDUuMmMwIC4xMy0uMS4yMy0uMjMuMjNoLTEuNDFjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM3YtNC41OWMwLS45OC0uNzQtMS43MS0xLjYyLTEuNzEtLjggMC0xLjQ2LjctMS41OSAxLjYybC4wMSA0LjY4YzAgLjEzLS4xMS4yMy0uMjMuMjNoLTEuNDFjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM3YtNC41OWMwLS45OC0uNzQtMS43MS0xLjYyLTEuNzEtLjg1IDAtMS41NC43OS0xLjYgMS44djQuNWMwIC4xMy0uMS4yMy0uMjMuMjN6bTUzLjYxNSAwaC0xLjYxYy0uMDQgMC0uMDgtLjAxLS4xMi0uMDMtLjA5LS4wNi0uMTMtLjE5LS4wNi0uMjhsMi40My0zLjcxLTIuMzktMy42NWEuMjEzLjIxMyAwIDAxLS4wMy0uMTJjMC0uMTIuMDktLjIxLjIxLS4yMWgxLjYxYy4xMyAwIC4yNC4wNi4zLjE3bDEuNDEgMi4zNyAxLjQtMi4zN2EuMzQuMzQgMCAwMS4zLS4xN2gxLjZjLjA0IDAgLjA4LjAxLjEyLjAzLjA5LjA2LjEzLjE5LjA2LjI4bC0yLjM3IDMuNjUgMi40MyAzLjdjMCAuMDUuMDEuMDkuMDEuMTMgMCAuMTItLjA5LjIxLS4yMS4yMWgtMS42MWMtLjEzIDAtLjI0LS4wNi0uMy0uMTdsLTEuNDQtMi40Mi0xLjQ0IDIuNDJhLjM0LjM0IDAgMDEtLjMuMTd6bS03LjEyLTEuNDljLTEuMzMgMC0yLjQyLTEuMTItMi40Mi0yLjUxIDAtMS4zOSAxLjA4LTIuNTIgMi40Mi0yLjUyIDEuMzMgMCAyLjQyIDEuMTIgMi40MiAyLjUxIDAgMS4zOS0xLjA4IDIuNTEtMi40MiAyLjUyem0tMTkuODY1IDBjLTEuMzIgMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0uMDdjLjAyLTEuMzggMS4wOS0yLjQ5IDIuNC0yLjQ5IDEuMzIgMCAyLjQxIDEuMTIgMi40MSAyLjUxIDAgMS4zOS0xLjA3IDIuNTItMi4zOSAyLjUzem0tOC4xMS0yLjQ4Yy0uMDEgMS4zNy0xLjA5IDIuNDctMi40MSAyLjQ3cy0yLjQyLTEuMTItMi40Mi0yLjUxYzAtMS4zOSAxLjA4LTIuNTIgMi40LTIuNTIgMS4zMyAwIDIuMzkgMS4xMSAyLjQxIDIuNDhsLjAyLjA4em0xOC4xMiAyLjQ3Yy0xLjMyIDAtMi4zOS0xLjExLTIuNDEtMi40OHYtLjA2Yy4wMi0xLjM4IDEuMDktMi40OCAyLjQxLTIuNDhzMi40MiAxLjEyIDIuNDIgMi41MWMwIDEuMzktMS4wOSAyLjUxLTIuNDIgMi41MXonLyUzRSUzQy9kZWZzJTNFJTNDbWFzayBpZD0nY2xpcCclM0UlM0NyZWN0IHg9JzAnIHk9JzAnIHdpZHRoPScxMDAlMjUnIGhlaWdodD0nMTAwJTI1JyBmaWxsPSd3aGl0ZScvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM2xvZ28nLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UlM0MvbWFzayUzRSUzQ2cgaWQ9J291dGxpbmUnIG9wYWNpdHk9JzEnIHN0cm9rZT0nJTIzZmZmJyBzdHJva2Utd2lkdGg9JzMnIGZpbGw9JyUyM2ZmZiclM0UlM0NjaXJjbGUgbWFzaz0ndXJsKCUyM2NsaXApJyBjeD0nMTEuNScgY3k9JzExLjUnIHI9JzkuMjUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0JyBtYXNrPSd1cmwoJTIzY2xpcCknLyUzRSUzQy9nJTNFJTNDZyBpZD0nZmlsbCcgb3BhY2l0eT0nMScgZmlsbD0nJTIzMDAwJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsLm1hcGJveGdsLWN0cmwtYXR0cmlie2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjUpO21hcmdpbjowO3BhZGRpbmc6MCA1cHh9QG1lZGlhIHNjcmVlbnsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czoxMnB4O21hcmdpbjoxMHB4O21pbi1oZWlnaHQ6MjBweDtwYWRkaW5nOjJweCAyNHB4IDJweCAwO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3d7cGFkZGluZzoycHggMjhweCAycHggOHB4O3Zpc2liaWxpdHk6dmlzaWJsZX0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93LC5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3d7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MnB4IDhweCAycHggMjhweH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCAubWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b257YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuNSk7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDcGF0aCBkPSdNNCAxMGE2IDYgMCAxIDAgMTIgMCA2IDYgMCAxIDAtMTIgMG01LTNhMSAxIDAgMSAwIDIgMCAxIDEgMCAxIDAtMiAwbTAgM2ExIDEgMCAxIDEgMiAwdjNhMSAxIDAgMSAxLTIgMCcvJTNFJTNDL3N2ZyUzRVxcXCIpO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MTJweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpub25lO2hlaWdodDoyNHB4O291dGxpbmU6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO3dpZHRoOjI0cHh9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbiwubWFwYm94Z2wtY3RybC10b3AtbGVmdCAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2xlZnQ6MH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uLC5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3cgLm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVye2Rpc3BsYXk6YmxvY2t9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdyAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7Ym90dG9tOjA7cmlnaHQ6MH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7cmlnaHQ6MDt0b3A6MH0ubWFwYm94Z2wtY3RybC10b3AtbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntsZWZ0OjA7dG9wOjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7Ym90dG9tOjA7bGVmdDowfX1AbWVkaWEgc2NyZWVuIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGwtcnVsZT0nZXZlbm9kZCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTQgMTBhNiA2IDAgMSAwIDEyIDAgNiA2IDAgMSAwLTEyIDBtNS0zYTEgMSAwIDEgMCAyIDAgMSAxIDAgMSAwLTIgMG0wIDNhMSAxIDAgMSAxIDIgMHYzYTEgMSAwIDEgMS0yIDAnLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J000IDEwYTYgNiAwIDEgMCAxMiAwIDYgNiAwIDEgMC0xMiAwbTUtM2ExIDEgMCAxIDAgMiAwIDEgMSAwIDEgMC0yIDBtMCAzYTEgMSAwIDEgMSAyIDB2M2ExIDEgMCAxIDEtMiAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsLWF0dHJpYiBhe2NvbG9yOnJnYmEoMCwwLDAsLjc1KTt0ZXh0LWRlY29yYXRpb246bm9uZX0ubWFwYm94Z2wtY3RybC1hdHRyaWIgYTpob3Zlcntjb2xvcjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9Lm1hcGJveGdsLWN0cmwtYXR0cmliIC5tYXBib3gtaW1wcm92ZS1tYXB7Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1sZWZ0OjJweH0ubWFwYm94Z2wtYXR0cmliLWVtcHR5e2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtY3RybC1zY2FsZXtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC43NSk7Ym9yZGVyOjJweCBzb2xpZCAjMzMzO2JvcmRlci10b3A6IzMzMztib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6IzMzMztmb250LXNpemU6MTBweDtwYWRkaW5nOjAgNXB4O3doaXRlLXNwYWNlOm5vd3JhcH0ubWFwYm94Z2wtcG9wdXB7ZGlzcGxheTpmbGV4O2xlZnQ6MDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0LC5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0e2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbSwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0LC5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0e2ZsZXgtZGlyZWN0aW9uOmNvbHVtbi1yZXZlcnNlfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdHtmbGV4LWRpcmVjdGlvbjpyb3d9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1yaWdodHtmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZX0ubWFwYm94Z2wtcG9wdXAtdGlwe2JvcmRlcjoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2hlaWdodDowO3dpZHRoOjA7ei1pbmRleDoxfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wIC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmO2JvcmRlci10b3A6bm9uZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LXN0YXJ0O2JvcmRlci1ib3R0b20tY29sb3I6I2ZmZjtib3JkZXItbGVmdDpub25lO2JvcmRlci10b3A6bm9uZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1lbmQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmO2JvcmRlci1yaWdodDpub25lO2JvcmRlci10b3A6bm9uZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbSAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1ib3R0b206bm9uZTtib3JkZXItdG9wLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1zdGFydDtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItdG9wLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtZW5kO2JvcmRlci1ib3R0b206bm9uZTtib3JkZXItcmlnaHQ6bm9uZTtib3JkZXItdG9wLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1sZWZ0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItcmlnaHQtY29sb3I6I2ZmZn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWxlZnQtY29sb3I6I2ZmZjtib3JkZXItcmlnaHQ6bm9uZX0ubWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czowIDNweCAwIDA7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MH0ubWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtcG9wdXAtY29udGVudHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzowIDFweCAycHggcmdiYSgwLDAsMCwuMSk7cGFkZGluZzoxMHB4IDEwcHggMTVweDtwb2ludGVyLWV2ZW50czphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcntkaXNwbGF5Om5vbmV9Lm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIgKntwb2ludGVyLWV2ZW50czpub25lO3VzZXItc2VsZWN0Om5vbmV9Lm1hcGJveGdsLW1hcDpob3ZlciAubWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcntkaXNwbGF5OmZsZXh9Lm1hcGJveGdsLW1hcDphY3RpdmUgLm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1tYXJrZXJ7bGVmdDowO29wYWNpdHk6MTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QsLm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOiMxZGExZjI7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OjE1cHg7d2lkdGg6MTVweH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Q6YmVmb3Jle2FuaW1hdGlvbjptYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1wdWxzZSAycyBpbmZpbml0ZTtjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDphZnRlcntib3JkZXI6MnB4IHNvbGlkICNmZmY7Ym9yZGVyLXJhZGl1czo1MCU7Ym94LXNoYWRvdzowIDAgM3B4IHJnYmEoMCwwLDAsLjM1KTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29udGVudDpcXFwiXFxcIjtoZWlnaHQ6MTlweDtsZWZ0Oi0ycHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0ycHg7d2lkdGg6MTlweH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZ3toZWlnaHQ6MDt3aWR0aDowfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmFmdGVyLC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmJlZm9yZXtib3JkZXItYm90dG9tOjcuNXB4IHNvbGlkICM0YWExZWI7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Ym9yZGVyLWxlZnQ6Ny41cHggc29saWQgdHJhbnNwYXJlbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTI4cHgpIHNrZXdZKC0yMGRlZyl9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmc6YWZ0ZXJ7Ym9yZGVyLXJpZ2h0OjcuNXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zZm9ybTp0cmFuc2xhdGUoNy41cHgsLTI4cHgpIHNrZXdZKDIwZGVnKX1Aa2V5ZnJhbWVzIG1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXB1bHNlezAle29wYWNpdHk6MTt0cmFuc2Zvcm06c2NhbGUoMSl9NzAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMyl9dG97b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSgxKX19Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxle2JhY2tncm91bmQtY29sb3I6I2FhYX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGU6YWZ0ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZXtiYWNrZ3JvdW5kLWNvbG9yOiMxZGExZjIzMztib3JkZXItcmFkaXVzOjEwMCU7aGVpZ2h0OjFweDt3aWR0aDoxcHh9Lm1hcGJveGdsLWNyb3NzaGFpciwubWFwYm94Z2wtY3Jvc3NoYWlyIC5tYXBib3hnbC1pbnRlcmFjdGl2ZSwubWFwYm94Z2wtY3Jvc3NoYWlyIC5tYXBib3hnbC1pbnRlcmFjdGl2ZTphY3RpdmV7Y3Vyc29yOmNyb3NzaGFpcn0ubWFwYm94Z2wtYm94em9vbXtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjJweCBkb3R0ZWQgIzIwMjAyMDtoZWlnaHQ6MDtsZWZ0OjA7b3BhY2l0eTouNTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDowfUBtZWRpYSBwcmludHsubWFwYm94LWltcHJvdmUtbWFwe2Rpc3BsYXk6bm9uZX19Lm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXIsLm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2Vye2FsaWduLWl0ZW1zOmNlbnRlcjtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjcpO2NvbG9yOiNmZmY7ZGlzcGxheTpmbGV4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7bGVmdDowO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3RvcDowO3RyYW5zaXRpb246b3BhY2l0eSAuNzVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb24tZGVsYXk6MXM7d2lkdGg6MTAwJX0ubWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93LC5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93e29wYWNpdHk6MTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlLm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZSwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZS5tYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2UgLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246cGFuLXggcGFuLXl9XCIsXCJcIl0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBlO3ZhciByPXQucHJvdG9jb2wrXCIvL1wiK3QuaG9zdCxuPXIrdC5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiBlLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLChmdW5jdGlvbihlLHQpe3ZhciBpLG89dC50cmltKCkucmVwbGFjZSgvXlwiKC4qKVwiJC8sKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSkucmVwbGFjZSgvXicoLiopJyQvLChmdW5jdGlvbihlLHQpe3JldHVybiB0fSkpO3JldHVybi9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3Qobyk/ZTooaT0wPT09by5pbmRleE9mKFwiLy9cIik/bzowPT09by5pbmRleE9mKFwiL1wiKT9yK286bitvLnJlcGxhY2UoL15cXC5cXC8vLFwiXCIpLFwidXJsKFwiK0pTT04uc3RyaW5naWZ5KGkpK1wiKVwiKX0pKX19XV0pOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=